var Y5=Object.create;var WC=Object.defineProperty,Z5=Object.defineProperties,J5=Object.getOwnPropertyDescriptor,X5=Object.getOwnPropertyDescriptors,e6=Object.getOwnPropertyNames,Vf=Object.getOwnPropertySymbols,_E=Object.getPrototypeOf,GC=Object.prototype.hasOwnProperty,CE=Object.prototype.propertyIsEnumerable,t6=Reflect.get;var mE=(n,t,e)=>t in n?WC(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e,j=(n,t)=>{for(var e in t||={})GC.call(t,e)&&mE(n,e,t[e]);if(Vf)for(var e of Vf(t))CE.call(t,e)&&mE(n,e,t[e]);return n},ae=(n,t)=>Z5(n,X5(t));var Rc=(n,t)=>{var e={};for(var i in n)GC.call(n,i)&&t.indexOf(i)<0&&(e[i]=n[i]);if(n!=null&&Vf)for(var i of Vf(n))t.indexOf(i)<0&&CE.call(n,i)&&(e[i]=n[i]);return e};var n6=(n,t)=>()=>(t||n((t={exports:{}}).exports,t),t.exports);var i6=(n,t,e,i)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of e6(t))!GC.call(n,o)&&o!==e&&WC(n,o,{get:()=>t[o],enumerable:!(i=J5(t,o))||i.enumerable});return n};var Un=(n,t,e)=>(e=n!=null?Y5(_E(n)):{},i6(t||!n||!n.__esModule?WC(e,"default",{value:n,enumerable:!0}):e,n));var Oa=(n,t,e)=>t6(_E(n),e,t);var L=(n,t,e)=>new Promise((i,o)=>{var r=c=>{try{a(e.next(c))}catch(u){o(u)}},s=c=>{try{a(e.throw(c))}catch(u){o(u)}},a=c=>c.done?i(c.value):Promise.resolve(c.value).then(r,s);a((e=e.apply(n,t)).next())});var jn=n6((Fr,sx)=>{"use strict";(function(n,t){typeof Fr=="object"&&typeof sx<"u"?sx.exports=t():typeof define=="function"&&define.amd?define(t):(n=typeof globalThis<"u"?globalThis:n||self,n.Sweetalert2=t())})(Fr,function(){"use strict";function n(g,_,y){if(typeof g=="function"?g===_:g.has(_))return arguments.length<3?_:y;throw new TypeError("Private element is not present on this object")}function t(g,_){if(_.has(g))throw new TypeError("Cannot initialize the same private elements twice on an object")}function e(g,_){return g.get(n(g,_))}function i(g,_,y){t(g,_),_.set(g,y)}function o(g,_,y){return g.set(n(g,_),y),y}let r=100,s={},a=()=>{s.previousActiveElement instanceof HTMLElement?(s.previousActiveElement.focus(),s.previousActiveElement=null):document.body&&document.body.focus()},c=g=>new Promise(_=>{if(!g)return _();let y=window.scrollX,I=window.scrollY;s.restoreFocusTimeout=setTimeout(()=>{a(),_()},r),window.scrollTo(y,I)}),u="swal2-",v=["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error","draggable","dragging"].reduce((g,_)=>(g[_]=u+_,g),{}),w=["success","warning","info","question","error"].reduce((g,_)=>(g[_]=u+_,g),{}),S="SweetAlert2:",F=g=>g.charAt(0).toUpperCase()+g.slice(1),N=g=>{console.warn(`${S} ${typeof g=="object"?g.join(" "):g}`)},W=g=>{console.error(`${S} ${g}`)},Ce=[],we=g=>{Ce.includes(g)||(Ce.push(g),N(g))},Me=(g,_=null)=>{we(`"${g}" is deprecated and will be removed in the next major release.${_?` Use "${_}" instead.`:""}`)},mt=g=>typeof g=="function"?g():g,lt=g=>g&&typeof g.toPromise=="function",Ot=g=>lt(g)?g.toPromise():Promise.resolve(g),Lt=g=>g&&Promise.resolve(g)===g,xt=()=>document.body.querySelector(`.${v.container}`),ti=g=>{let _=xt();return _?_.querySelector(g):null},Rn=g=>ti(`.${g}`),Ge=()=>Rn(v.popup),io=()=>Rn(v.icon),ya=()=>Rn(v["icon-content"]),Vr=()=>Rn(v.title),ge=()=>Rn(v["html-container"]),Pe=()=>Rn(v.image),xe=()=>Rn(v["progress-steps"]),Ze=()=>Rn(v["validation-message"]),B=()=>ti(`.${v.actions} .${v.confirm}`),k=()=>ti(`.${v.actions} .${v.cancel}`),de=()=>ti(`.${v.actions} .${v.deny}`),Oe=()=>Rn(v["input-label"]),ue=()=>ti(`.${v.loader}`),ke=()=>Rn(v.actions),Qe=()=>Rn(v.footer),he=()=>Rn(v["timer-progress-bar"]),De=()=>Rn(v.close),Ke=`
  a[href],
  area[href],
  input:not([disabled]),
  select:not([disabled]),
  textarea:not([disabled]),
  button:not([disabled]),
  iframe,
  object,
  embed,
  [tabindex="0"],
  [contenteditable],
  audio[controls],
  video[controls],
  summary
`,yt=()=>{let g=Ge();if(!g)return[];let _=g.querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])'),y=Array.from(_).sort((ie,$e)=>{let dt=parseInt(ie.getAttribute("tabindex")||"0"),At=parseInt($e.getAttribute("tabindex")||"0");return dt>At?1:dt<At?-1:0}),I=g.querySelectorAll(Ke),z=Array.from(I).filter(ie=>ie.getAttribute("tabindex")!=="-1");return[...new Set(y.concat(z))].filter(ie=>Vn(ie))},_t=()=>qt(document.body,v.shown)&&!qt(document.body,v["toast-shown"])&&!qt(document.body,v["no-backdrop"]),kt=()=>{let g=Ge();return g?qt(g,v.toast):!1},En=()=>{let g=Ge();return g?g.hasAttribute("data-loading"):!1},Ae=(g,_)=>{if(g.textContent="",_){let I=new DOMParser().parseFromString(_,"text/html"),z=I.querySelector("head");z&&Array.from(z.childNodes).forEach($e=>{g.appendChild($e)});let ie=I.querySelector("body");ie&&Array.from(ie.childNodes).forEach($e=>{$e instanceof HTMLVideoElement||$e instanceof HTMLAudioElement?g.appendChild($e.cloneNode(!0)):g.appendChild($e)})}},qt=(g,_)=>{if(!_)return!1;let y=_.split(/\s+/);for(let I=0;I<y.length;I++)if(!g.classList.contains(y[I]))return!1;return!0},Vi=(g,_)=>{Array.from(g.classList).forEach(y=>{!Object.values(v).includes(y)&&!Object.values(w).includes(y)&&!Object.values(_.showClass||{}).includes(y)&&g.classList.remove(y)})},jt=(g,_,y)=>{if(Vi(g,_),!_.customClass)return;let I=_.customClass[y];if(I){if(typeof I!="string"&&!I.forEach){N(`Invalid type of customClass.${y}! Expected string or iterable object, got "${typeof I}"`);return}Ct(g,I)}},Ii=(g,_)=>{if(!_)return null;switch(_){case"select":case"textarea":case"file":return g.querySelector(`.${v.popup} > .${v[_]}`);case"checkbox":return g.querySelector(`.${v.popup} > .${v.checkbox} input`);case"radio":return g.querySelector(`.${v.popup} > .${v.radio} input:checked`)||g.querySelector(`.${v.popup} > .${v.radio} input:first-child`);case"range":return g.querySelector(`.${v.popup} > .${v.range} input`);default:return g.querySelector(`.${v.popup} > .${v.input}`)}},nr=g=>{if(g.focus(),g.type!=="file"){let _=g.value;g.value="",g.value=_}},Ui=(g,_,y)=>{!g||!_||(typeof _=="string"&&(_=_.split(/\s+/).filter(Boolean)),_.forEach(I=>{Array.isArray(g)?g.forEach(z=>{y?z.classList.add(I):z.classList.remove(I)}):y?g.classList.add(I):g.classList.remove(I)}))},Ct=(g,_)=>{Ui(g,_,!0)},Si=(g,_)=>{Ui(g,_,!1)},ir=(g,_)=>{let y=Array.from(g.children);for(let I=0;I<y.length;I++){let z=y[I];if(z instanceof HTMLElement&&qt(z,_))return z}},or=(g,_,y)=>{y===`${parseInt(`${y}`)}`&&(y=parseInt(y)),y||parseInt(`${y}`)===0?g.style.setProperty(_,typeof y=="number"?`${y}px`:y):g.style.removeProperty(_)},mn=(g,_="flex")=>{g&&(g.style.display=_)},In=g=>{g&&(g.style.display="none")},kd=(g,_="block")=>{g&&new MutationObserver(()=>{Ms(g,g.innerHTML,_)}).observe(g,{childList:!0,subtree:!0})},Tf=(g,_,y,I)=>{let z=g.querySelector(_);z&&z.style.setProperty(y,I)},Ms=(g,_,y="flex")=>{_?mn(g,y):In(g)},Vn=g=>!!(g&&(g.offsetWidth||g.offsetHeight||g.getClientRects().length)),Ad=()=>!Vn(B())&&!Vn(de())&&!Vn(k()),Rd=g=>g.scrollHeight>g.clientHeight,AC=(g,_)=>{let y=g;for(;y&&y!==_;){if(Rd(y))return!0;y=y.parentElement}return!1},Px=g=>{let _=window.getComputedStyle(g),y=parseFloat(_.getPropertyValue("animation-duration")||"0"),I=parseFloat(_.getPropertyValue("transition-duration")||"0");return y>0||I>0},RC=(g,_=!1)=>{let y=he();y&&Vn(y)&&(_&&(y.style.transition="none",y.style.width="100%"),setTimeout(()=>{y.style.transition=`width ${g/1e3}s linear`,y.style.width="0%"},10))},xL=()=>{let g=he();if(!g)return;let _=parseInt(window.getComputedStyle(g).width);g.style.removeProperty("transition"),g.style.width="100%";let y=parseInt(window.getComputedStyle(g).width),I=_/y*100;g.style.width=`${I}%`},EL=()=>typeof window>"u"||typeof document>"u",IL=`
 <div aria-labelledby="${v.title}" aria-describedby="${v["html-container"]}" class="${v.popup}" tabindex="-1">
   <button type="button" class="${v.close}"></button>
   <ul class="${v["progress-steps"]}"></ul>
   <div class="${v.icon}"></div>
   <img class="${v.image}" />
   <h2 class="${v.title}" id="${v.title}"></h2>
   <div class="${v["html-container"]}" id="${v["html-container"]}"></div>
   <input class="${v.input}" id="${v.input}" />
   <input type="file" class="${v.file}" />
   <div class="${v.range}">
     <input type="range" />
     <output></output>
   </div>
   <select class="${v.select}" id="${v.select}"></select>
   <div class="${v.radio}"></div>
   <label class="${v.checkbox}">
     <input type="checkbox" id="${v.checkbox}" />
     <span class="${v.label}"></span>
   </label>
   <textarea class="${v.textarea}" id="${v.textarea}"></textarea>
   <div class="${v["validation-message"]}" id="${v["validation-message"]}"></div>
   <div class="${v.actions}">
     <div class="${v.loader}"></div>
     <button type="button" class="${v.confirm}"></button>
     <button type="button" class="${v.deny}"></button>
     <button type="button" class="${v.cancel}"></button>
   </div>
   <div class="${v.footer}"></div>
   <div class="${v["timer-progress-bar-container"]}">
     <div class="${v["timer-progress-bar"]}"></div>
   </div>
 </div>
`.replace(/(^|\n)\s*/g,""),SL=()=>{let g=xt();return g?(g.remove(),Si([document.documentElement,document.body],[v["no-backdrop"],v["toast-shown"],v["has-column"]]),!0):!1},Ma=()=>{s.currentInstance&&s.currentInstance.resetValidationMessage()},TL=()=>{let g=Ge();if(!g)return;let _=ir(g,v.input),y=ir(g,v.file),I=g.querySelector(`.${v.range} input`),z=g.querySelector(`.${v.range} output`),ie=ir(g,v.select),$e=g.querySelector(`.${v.checkbox} input`),dt=ir(g,v.textarea);_&&(_.oninput=Ma),y&&(y.onchange=Ma),ie&&(ie.onchange=Ma),$e&&($e.onchange=Ma),dt&&(dt.oninput=Ma),I&&z&&(I.oninput=()=>{Ma(),z.value=I.value},I.onchange=()=>{Ma(),z.value=I.value})},DL=g=>{if(typeof g=="string"){let _=document.querySelector(g);if(!_)throw new Error(`Target element "${g}" not found`);return _}return g},kL=g=>{let _=Ge();_&&(_.setAttribute("role",g.toast?"alert":"dialog"),_.setAttribute("aria-live",g.toast?"polite":"assertive"),g.toast||_.setAttribute("aria-modal","true"))},AL=g=>{window.getComputedStyle(g).direction==="rtl"&&(Ct(xt(),v.rtl),s.isRTL=!0)},RL=g=>{let _=SL();if(EL()){W("SweetAlert2 requires document to initialize");return}let y=document.createElement("div");y.className=v.container,_&&Ct(y,v["no-transition"]),Ae(y,IL),y.dataset.swal2Theme=g.theme;let I=DL(g.target||"body");I.appendChild(y),g.topLayer&&(y.setAttribute("popover",""),y.showPopover()),kL(g),AL(I),TL()},NC=(g,_)=>{g instanceof HTMLElement?_.appendChild(g):typeof g=="object"?NL(g,_):g&&Ae(_,g)},NL=(g,_)=>{"jquery"in g?LL(_,g):Ae(_,g.toString())},LL=(g,_)=>{if(g.textContent="",0 in _)for(let y=0;y in _;y++)g.appendChild(_[y].cloneNode(!0));else g.appendChild(_.cloneNode(!0))},FL=(g,_)=>{let y=ke(),I=ue();!y||!I||(!_.showConfirmButton&&!_.showDenyButton&&!_.showCancelButton?In(y):mn(y),jt(y,_,"actions"),zL(y,I,_),Ae(I,_.loaderHtml||""),jt(I,_,"loader"))};function zL(g,_,y){let I=B(),z=de(),ie=k();!I||!z||!ie||(FC(I,"confirm",y),FC(z,"deny",y),FC(ie,"cancel",y),BL(I,z,ie,y),y.reverseButtons&&(y.toast?(g.insertBefore(ie,I),g.insertBefore(z,I)):(g.insertBefore(ie,_),g.insertBefore(z,_),g.insertBefore(I,_))))}function BL(g,_,y,I){if(!I.buttonsStyling){Si([g,_,y],v.styled);return}Ct([g,_,y],v.styled),I.confirmButtonColor&&g.style.setProperty("--swal2-confirm-button-background-color",I.confirmButtonColor),I.denyButtonColor&&_.style.setProperty("--swal2-deny-button-background-color",I.denyButtonColor),I.cancelButtonColor&&y.style.setProperty("--swal2-cancel-button-background-color",I.cancelButtonColor),LC(g),LC(_),LC(y)}function LC(g){let _=window.getComputedStyle(g);if(_.getPropertyValue("--swal2-action-button-focus-box-shadow"))return;let y=_.backgroundColor.replace(/rgba?\((\d+), (\d+), (\d+).*/,"rgba($1, $2, $3, 0.5)");g.style.setProperty("--swal2-action-button-focus-box-shadow",_.getPropertyValue("--swal2-outline").replace(/ rgba\(.*/,` ${y}`))}function FC(g,_,y){let I=F(_);Ms(g,y[`show${I}Button`],"inline-block"),Ae(g,y[`${_}ButtonText`]||""),g.setAttribute("aria-label",y[`${_}ButtonAriaLabel`]||""),g.className=v[_],jt(g,y,`${_}Button`)}let jL=(g,_)=>{let y=De();y&&(Ae(y,_.closeButtonHtml||""),jt(y,_,"closeButton"),Ms(y,_.showCloseButton),y.setAttribute("aria-label",_.closeButtonAriaLabel||""))},VL=(g,_)=>{let y=xt();y&&(UL(y,_.backdrop),$L(y,_.position),qL(y,_.grow),jt(y,_,"container"))};function UL(g,_){typeof _=="string"?g.style.background=_:_||Ct([document.documentElement,document.body],v["no-backdrop"])}function $L(g,_){_&&(_ in v?Ct(g,v[_]):(N('The "position" parameter is not valid, defaulting to "center"'),Ct(g,v.center)))}function qL(g,_){_&&Ct(g,v[`grow-${_}`])}var Ft={innerParams:new WeakMap,domCache:new WeakMap};let HL=["input","file","range","select","radio","checkbox","textarea"],WL=(g,_)=>{let y=Ge();if(!y)return;let I=Ft.innerParams.get(g),z=!I||_.input!==I.input;HL.forEach(ie=>{let $e=ir(y,v[ie]);$e&&(KL(ie,_.inputAttributes),$e.className=v[ie],z&&In($e))}),_.input&&(z&&GL(_),YL(_))},GL=g=>{if(!g.input)return;if(!cn[g.input]){W(`Unexpected type of input! Expected ${Object.keys(cn).join(" | ")}, got "${g.input}"`);return}let _=Ox(g.input);if(!_)return;let y=cn[g.input](_,g);mn(_),g.inputAutoFocus&&setTimeout(()=>{nr(y)})},QL=g=>{for(let _=0;_<g.attributes.length;_++){let y=g.attributes[_].name;["id","type","value","style"].includes(y)||g.removeAttribute(y)}},KL=(g,_)=>{let y=Ge();if(!y)return;let I=Ii(y,g);if(I){QL(I);for(let z in _)I.setAttribute(z,_[z])}},YL=g=>{if(!g.input)return;let _=Ox(g.input);_&&jt(_,g,"input")},zC=(g,_)=>{!g.placeholder&&_.inputPlaceholder&&(g.placeholder=_.inputPlaceholder)},Nd=(g,_,y)=>{if(y.inputLabel){let I=document.createElement("label"),z=v["input-label"];I.setAttribute("for",g.id),I.className=z,typeof y.customClass=="object"&&Ct(I,y.customClass.inputLabel),I.innerText=y.inputLabel,_.insertAdjacentElement("beforebegin",I)}},Ox=g=>{let _=Ge();if(_)return ir(_,v[g]||v.input)},Df=(g,_)=>{["string","number"].includes(typeof _)?g.value=`${_}`:Lt(_)||N(`Unexpected type of inputValue! Expected "string", "number" or "Promise", got "${typeof _}"`)},cn={};cn.text=cn.email=cn.password=cn.number=cn.tel=cn.url=cn.search=cn.date=cn["datetime-local"]=cn.time=cn.week=cn.month=(g,_)=>{let y=g;return Df(y,_.inputValue),Nd(y,y,_),zC(y,_),y.type=_.input,y},cn.file=(g,_)=>{let y=g;return Nd(y,y,_),zC(y,_),y},cn.range=(g,_)=>{let y=g,I=y.querySelector("input"),z=y.querySelector("output");return I&&(Df(I,_.inputValue),I.type=_.input,Nd(I,g,_)),z&&Df(z,_.inputValue),g},cn.select=(g,_)=>{let y=g;if(y.textContent="",_.inputPlaceholder){let I=document.createElement("option");Ae(I,_.inputPlaceholder),I.value="",I.disabled=!0,I.selected=!0,y.appendChild(I)}return Nd(y,y,_),y},cn.radio=g=>{let _=g;return _.textContent="",g},cn.checkbox=(g,_)=>{let y=Ge();if(!y)throw new Error("Popup not found");let I=Ii(y,"checkbox");if(!I)throw new Error("Checkbox input not found");I.value="1",I.checked=!!_.inputValue;let ie=g.querySelector("span");if(ie){let $e=_.inputPlaceholder||_.inputLabel;$e&&Ae(ie,$e)}return I},cn.textarea=(g,_)=>{let y=g;Df(y,_.inputValue),zC(y,_),Nd(y,y,_);let I=z=>parseInt(window.getComputedStyle(z).marginLeft)+parseInt(window.getComputedStyle(z).marginRight);return setTimeout(()=>{if("MutationObserver"in window){let z=Ge();if(!z)return;let ie=parseInt(window.getComputedStyle(z).width),$e=()=>{if(!document.body.contains(y))return;let dt=y.offsetWidth+I(y),At=Ge();At&&(dt>ie?At.style.width=`${dt}px`:or(At,"width",_.width))};new MutationObserver($e).observe(y,{attributes:!0,attributeFilter:["style"]})}}),y};let ZL=(g,_)=>{let y=ge();y&&(kd(y),jt(y,_,"htmlContainer"),_.html?(NC(_.html,y),mn(y,"block")):_.text?(y.textContent=_.text,mn(y,"block")):In(y),WL(g,_))},JL=(g,_)=>{let y=Qe();y&&(kd(y),Ms(y,!!_.footer,"block"),_.footer&&NC(_.footer,y),jt(y,_,"footer"))},XL=(g,_)=>{let y=Ft.innerParams.get(g),I=io();if(!I)return;if(y&&_.icon===y.icon){Ex(I,_),wx(I,_);return}if(!_.icon&&!_.iconHtml){In(I);return}if(_.icon&&Object.keys(w).indexOf(_.icon)===-1){W(`Unknown icon! Expected "success", "error", "warning", "info" or "question", got "${_.icon}"`),In(I);return}mn(I),Ex(I,_),wx(I,_),Ct(I,_.showClass&&_.showClass.icon),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",xx)},wx=(g,_)=>{for(let[y,I]of Object.entries(w))_.icon!==y&&Si(g,I);Ct(g,_.icon&&w[_.icon]),nF(g,_),xx(),jt(g,_,"icon")},xx=()=>{let g=Ge();if(!g)return;let _=window.getComputedStyle(g).getPropertyValue("background-color"),y=g.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let I=0;I<y.length;I++)y[I].style.backgroundColor=_},eF=g=>`
  ${g.animation?'<div class="swal2-success-circular-line-left"></div>':""}
  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>
  <div class="swal2-success-ring"></div>
  ${g.animation?'<div class="swal2-success-fix"></div>':""}
  ${g.animation?'<div class="swal2-success-circular-line-right"></div>':""}
`,tF=`
  <span class="swal2-x-mark">
    <span class="swal2-x-mark-line-left"></span>
    <span class="swal2-x-mark-line-right"></span>
  </span>
`,Ex=(g,_)=>{if(!_.icon&&!_.iconHtml)return;let y=g.innerHTML,I="";_.iconHtml?I=Ix(_.iconHtml):_.icon==="success"?(I=eF(_),y=y.replace(/ style=".*?"/g,"")):_.icon==="error"?I=tF:_.icon&&(I=Ix({question:"?",warning:"!",info:"i"}[_.icon])),y.trim()!==I.trim()&&Ae(g,I)},nF=(g,_)=>{if(_.iconColor){g.style.color=_.iconColor,g.style.borderColor=_.iconColor;for(let y of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])Tf(g,y,"background-color",_.iconColor);Tf(g,".swal2-success-ring","border-color",_.iconColor)}},Ix=g=>`<div class="${v["icon-content"]}">${g}</div>`,iF=(g,_)=>{let y=Pe();if(y){if(!_.imageUrl){In(y);return}mn(y,""),y.setAttribute("src",_.imageUrl),y.setAttribute("alt",_.imageAlt||""),or(y,"width",_.imageWidth),or(y,"height",_.imageHeight),y.className=v.image,jt(y,_,"image")}},BC=!1,Sx=0,Tx=0,Dx=0,kx=0,oF=g=>{g.addEventListener("mousedown",kf),document.body.addEventListener("mousemove",Af),g.addEventListener("mouseup",Rf),g.addEventListener("touchstart",kf),document.body.addEventListener("touchmove",Af),g.addEventListener("touchend",Rf)},rF=g=>{g.removeEventListener("mousedown",kf),document.body.removeEventListener("mousemove",Af),g.removeEventListener("mouseup",Rf),g.removeEventListener("touchstart",kf),document.body.removeEventListener("touchmove",Af),g.removeEventListener("touchend",Rf)},kf=g=>{let _=Ge();if(!_)return;let y=io();if(g.target===_||y&&y.contains(g.target)){BC=!0;let I=Ax(g);Sx=I.clientX,Tx=I.clientY,Dx=parseInt(_.style.insetInlineStart)||0,kx=parseInt(_.style.insetBlockStart)||0,Ct(_,"swal2-dragging")}},Af=g=>{let _=Ge();if(_&&BC){let{clientX:y,clientY:I}=Ax(g),z=y-Sx;_.style.insetInlineStart=`${Dx+(s.isRTL?-z:z)}px`,_.style.insetBlockStart=`${kx+(I-Tx)}px`}},Rf=()=>{let g=Ge();BC=!1,Si(g,"swal2-dragging")},Ax=g=>{let _=0,y=0;return g.type.startsWith("mouse")?(_=g.clientX,y=g.clientY):g.type.startsWith("touch")&&(_=g.touches[0].clientX,y=g.touches[0].clientY),{clientX:_,clientY:y}},sF=(g,_)=>{let y=xt(),I=Ge();if(!(!y||!I)){if(_.toast){or(y,"width",_.width),I.style.width="100%";let z=ue();z&&I.insertBefore(z,io())}else or(I,"width",_.width);or(I,"padding",_.padding),_.color&&(I.style.color=_.color),_.background&&(I.style.background=_.background),In(Ze()),aF(I,_),_.draggable&&!_.toast?(Ct(I,v.draggable),oF(I)):(Si(I,v.draggable),rF(I))}},aF=(g,_)=>{let y=_.showClass||{};g.className=`${v.popup} ${Vn(g)?y.popup:""}`,_.toast?(Ct([document.documentElement,document.body],v["toast-shown"]),Ct(g,v.toast)):Ct(g,v.modal),jt(g,_,"popup"),typeof _.customClass=="string"&&Ct(g,_.customClass),_.icon&&Ct(g,v[`icon-${_.icon}`])},cF=(g,_)=>{let y=xe();if(!y)return;let{progressSteps:I,currentProgressStep:z}=_;if(!I||I.length===0||z===void 0){In(y);return}mn(y),y.textContent="",z>=I.length&&N("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),I.forEach((ie,$e)=>{let dt=lF(ie);if(y.appendChild(dt),$e===z&&Ct(dt,v["active-progress-step"]),$e!==I.length-1){let At=dF(_);y.appendChild(At)}})},lF=g=>{let _=document.createElement("li");return Ct(_,v["progress-step"]),Ae(_,g),_},dF=g=>{let _=document.createElement("li");return Ct(_,v["progress-step-line"]),g.progressStepsDistance&&or(_,"width",g.progressStepsDistance),_},uF=(g,_)=>{let y=Vr();y&&(kd(y),Ms(y,!!(_.title||_.titleText),"block"),_.title&&NC(_.title,y),_.titleText&&(y.innerText=_.titleText),jt(y,_,"title"))},Rx=(g,_)=>{var y;sF(g,_),VL(g,_),cF(g,_),XL(g,_),iF(g,_),uF(g,_),jL(g,_),ZL(g,_),FL(g,_),JL(g,_);let I=Ge();typeof _.didRender=="function"&&I&&_.didRender(I),(y=s.eventEmitter)===null||y===void 0||y.emit("didRender",I)},pF=()=>Vn(Ge()),Nx=()=>{var g;return(g=B())===null||g===void 0?void 0:g.click()},fF=()=>{var g;return(g=de())===null||g===void 0?void 0:g.click()},gF=()=>{var g;return(g=k())===null||g===void 0?void 0:g.click()},Sc=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),Lx=g=>{if(g.keydownTarget&&g.keydownHandlerAdded&&g.keydownHandler){let _=g.keydownHandler;g.keydownTarget.removeEventListener("keydown",_,{capture:g.keydownListenerCapture}),g.keydownHandlerAdded=!1}},hF=(g,_,y)=>{if(Lx(g),!_.toast){let I=ie=>_F(_,ie,y);g.keydownHandler=I;let z=_.keydownListenerCapture?window:Ge();if(z){g.keydownTarget=z,g.keydownListenerCapture=_.keydownListenerCapture;let ie=I;g.keydownTarget.addEventListener("keydown",ie,{capture:g.keydownListenerCapture}),g.keydownHandlerAdded=!0}}},jC=(g,_)=>{var y;let I=yt();if(I.length){g=g+_,g===-2&&(g=I.length-1),g===I.length?g=0:g===-1&&(g=I.length-1),I[g].focus();return}(y=Ge())===null||y===void 0||y.focus()},Fx=["ArrowRight","ArrowDown"],mF=["ArrowLeft","ArrowUp"],_F=(g,_,y)=>{g&&(_.isComposing||_.keyCode===229||(g.stopKeydownPropagation&&_.stopPropagation(),_.key==="Enter"?CF(_,g):_.key==="Tab"?vF(_):[...Fx,...mF].includes(_.key)?bF(_.key):_.key==="Escape"&&yF(_,g,y)))},CF=(g,_)=>{if(!mt(_.allowEnterKey))return;let y=Ge();if(!y||!_.input)return;let I=Ii(y,_.input);if(g.target&&I&&g.target instanceof HTMLElement&&g.target.outerHTML===I.outerHTML){if(["textarea","file"].includes(_.input))return;Nx(),g.preventDefault()}},vF=g=>{let _=g.target,y=yt(),I=-1;for(let z=0;z<y.length;z++)if(_===y[z]){I=z;break}g.shiftKey?jC(I,-1):jC(I,1),g.stopPropagation(),g.preventDefault()},bF=g=>{let _=ke(),y=B(),I=de(),z=k();if(!_||!y||!I||!z)return;let ie=[y,I,z];if(document.activeElement instanceof HTMLElement&&!ie.includes(document.activeElement))return;let $e=Fx.includes(g)?"nextElementSibling":"previousElementSibling",dt=document.activeElement;if(dt){for(let At=0;At<_.children.length;At++){if(dt=dt[$e],!dt)return;if(dt instanceof HTMLButtonElement&&Vn(dt))break}dt instanceof HTMLButtonElement&&dt.focus()}},yF=(g,_,y)=>{g.preventDefault(),mt(_.allowEscapeKey)&&y(Sc.esc)};var Tc={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};let MF=()=>{let g=xt();Array.from(document.body.children).forEach(y=>{y.contains(g)||(y.hasAttribute("aria-hidden")&&y.setAttribute("data-previous-aria-hidden",y.getAttribute("aria-hidden")||""),y.setAttribute("aria-hidden","true"))})},zx=()=>{Array.from(document.body.children).forEach(_=>{_.hasAttribute("data-previous-aria-hidden")?(_.setAttribute("aria-hidden",_.getAttribute("data-previous-aria-hidden")||""),_.removeAttribute("data-previous-aria-hidden")):_.removeAttribute("aria-hidden")})},Bx=typeof window<"u"&&!!window.GestureEvent,PF=()=>{if(Bx&&!qt(document.body,v.iosfix)){let g=document.body.scrollTop;document.body.style.top=`${g*-1}px`,Ct(document.body,v.iosfix),OF()}},OF=()=>{let g=xt();if(!g)return;let _;g.ontouchstart=y=>{_=wF(y)},g.ontouchmove=y=>{_&&(y.preventDefault(),y.stopPropagation())}},wF=g=>{let _=g.target,y=xt(),I=ge();return!y||!I||xF(g)||EF(g)?!1:_===y||!Rd(y)&&_ instanceof HTMLElement&&!AC(_,I)&&_.tagName!=="INPUT"&&_.tagName!=="TEXTAREA"&&!(Rd(I)&&I.contains(_))},xF=g=>!!(g.touches&&g.touches.length&&g.touches[0].touchType==="stylus"),EF=g=>g.touches&&g.touches.length>1,IF=()=>{if(qt(document.body,v.iosfix)){let g=parseInt(document.body.style.top,10);Si(document.body,v.iosfix),document.body.style.top="",document.body.scrollTop=g*-1}},SF=()=>{let g=document.createElement("div");g.className=v["scrollbar-measure"],document.body.appendChild(g);let _=g.getBoundingClientRect().width-g.clientWidth;return document.body.removeChild(g),_},Dc=null,TF=g=>{Dc===null&&(document.body.scrollHeight>window.innerHeight||g==="scroll")&&(Dc=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight=`${Dc+SF()}px`)},DF=()=>{Dc!==null&&(document.body.style.paddingRight=`${Dc}px`,Dc=null)};function jx(g,_,y,I){kt()?Ux(g,I):(c(y).then(()=>Ux(g,I)),Lx(s)),Bx?(_.setAttribute("style","display:none !important"),_.removeAttribute("class"),_.innerHTML=""):_.remove(),_t()&&(DF(),IF(),zx()),kF()}function kF(){Si([document.documentElement,document.body],[v.shown,v["height-auto"],v["no-backdrop"],v["toast-shown"]])}function Ps(g){g=RF(g);let _=Tc.swalPromiseResolve.get(this),y=AF(this);this.isAwaitingPromise?g.isDismissed||(Ld(this),_(g)):y&&_(g)}let AF=g=>{let _=Ge();if(!_)return!1;let y=Ft.innerParams.get(g);if(!y||qt(_,y.hideClass.popup))return!1;Si(_,y.showClass.popup),Ct(_,y.hideClass.popup);let I=xt();return Si(I,y.showClass.backdrop),Ct(I,y.hideClass.backdrop),NF(g,_,y),!0};function Vx(g){let _=Tc.swalPromiseReject.get(this);Ld(this),_&&_(g)}let Ld=g=>{g.isAwaitingPromise&&(delete g.isAwaitingPromise,Ft.innerParams.get(g)||g._destroy())},RF=g=>typeof g>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},g),NF=(g,_,y)=>{var I;let z=xt(),ie=Px(_);typeof y.willClose=="function"&&y.willClose(_),(I=s.eventEmitter)===null||I===void 0||I.emit("willClose",_),ie&&z?LF(g,_,z,!!y.returnFocus,y.didClose):z&&jx(g,z,!!y.returnFocus,y.didClose)},LF=(g,_,y,I,z)=>{s.swalCloseEventFinishedCallback=jx.bind(null,g,y,I,z);let ie=function($e){if($e.target===_){var dt;(dt=s.swalCloseEventFinishedCallback)===null||dt===void 0||dt.call(s),delete s.swalCloseEventFinishedCallback,_.removeEventListener("animationend",ie),_.removeEventListener("transitionend",ie)}};_.addEventListener("animationend",ie),_.addEventListener("transitionend",ie)},Ux=(g,_)=>{setTimeout(()=>{var y;typeof _=="function"&&_.bind(g.params)(),(y=s.eventEmitter)===null||y===void 0||y.emit("didClose"),g._destroy&&g._destroy()})},kc=g=>{let _=Ge();if(_||new jf,_=Ge(),!_)return;let y=ue();kt()?In(io()):FF(_,g),mn(y),_.setAttribute("data-loading","true"),_.setAttribute("aria-busy","true"),_.focus()},FF=(g,_)=>{let y=ke(),I=ue();!y||!I||(!_&&Vn(B())&&(_=B()),mn(y),_&&(In(_),I.setAttribute("data-button-to-replace",_.className),y.insertBefore(I,_)),Ct([g,y],v.loading))},zF=(g,_)=>{_.input==="select"||_.input==="radio"?$F(g,_):["text","email","number","tel","textarea"].some(y=>y===_.input)&&(lt(_.inputValue)||Lt(_.inputValue))&&(kc(B()),qF(g,_))},BF=(g,_)=>{let y=g.getInput();if(!y)return null;switch(_.input){case"checkbox":return jF(y);case"radio":return VF(y);case"file":return UF(y);default:return _.inputAutoTrim?y.value.trim():y.value}},jF=g=>g.checked?1:0,VF=g=>g.checked?g.value:null,UF=g=>g.files&&g.files.length?g.getAttribute("multiple")!==null?g.files:g.files[0]:null,$F=(g,_)=>{let y=Ge();if(!y)return;let I=z=>{_.input==="select"?HF(y,Nf(z),_):_.input==="radio"&&WF(y,Nf(z),_)};lt(_.inputOptions)||Lt(_.inputOptions)?(kc(B()),Ot(_.inputOptions).then(z=>{g.hideLoading(),I(z)})):typeof _.inputOptions=="object"?I(_.inputOptions):W(`Unexpected type of inputOptions! Expected object, Map or Promise, got ${typeof _.inputOptions}`)},qF=(g,_)=>{let y=g.getInput();y&&(In(y),Ot(_.inputValue).then(I=>{y.value=_.input==="number"?`${parseFloat(I)||0}`:`${I}`,mn(y),y.focus(),g.hideLoading()}).catch(I=>{W(`Error in inputValue promise: ${I}`),y.value="",mn(y),y.focus(),g.hideLoading()}))};function HF(g,_,y){let I=ir(g,v.select);if(!I)return;let z=(ie,$e,dt)=>{let At=document.createElement("option");At.value=dt,Ae(At,$e),At.selected=$x(dt,y.inputValue),ie.appendChild(At)};_.forEach(ie=>{let $e=ie[0],dt=ie[1];if(Array.isArray(dt)){let At=document.createElement("optgroup");At.label=$e,At.disabled=!1,I.appendChild(At),dt.forEach(Ac=>z(At,Ac[1],Ac[0]))}else z(I,dt,$e)}),I.focus()}function WF(g,_,y){let I=ir(g,v.radio);if(!I)return;_.forEach(ie=>{let $e=ie[0],dt=ie[1],At=document.createElement("input"),Ac=document.createElement("label");At.type="radio",At.name=v.radio,At.value=$e,$x($e,y.inputValue)&&(At.checked=!0);let HC=document.createElement("span");Ae(HC,dt),HC.className=v.label,Ac.appendChild(At),Ac.appendChild(HC),I.appendChild(Ac)});let z=I.querySelectorAll("input");z.length&&z[0].focus()}let Nf=g=>{let _=[];return g instanceof Map?g.forEach((y,I)=>{let z=y;typeof z=="object"&&(z=Nf(z)),_.push([I,z])}):Object.keys(g).forEach(y=>{let I=g[y];typeof I=="object"&&(I=Nf(I)),_.push([y,I])}),_},$x=(g,_)=>!!_&&_!==null&&_!==void 0&&_.toString()===g.toString(),GF=g=>{let _=Ft.innerParams.get(g);g.disableButtons(),_.input?qx(g,"confirm"):UC(g,!0)},QF=g=>{let _=Ft.innerParams.get(g);g.disableButtons(),_.returnInputValueOnDeny?qx(g,"deny"):VC(g,!1)},KF=(g,_)=>{g.disableButtons(),_(Sc.cancel)},qx=(g,_)=>{let y=Ft.innerParams.get(g);if(!y.input){W(`The "input" parameter is needed to be set when using returnInputValueOn${F(_)}`);return}let I=g.getInput(),z=BF(g,y);y.inputValidator?YF(g,z,_):I&&!I.checkValidity()?(g.enableButtons(),g.showValidationMessage(y.validationMessage||I.validationMessage)):_==="deny"?VC(g,z):UC(g,z)},YF=(g,_,y)=>{let I=Ft.innerParams.get(g);g.disableInput(),Promise.resolve().then(()=>Ot(I.inputValidator(_,I.validationMessage))).then(ie=>{g.enableButtons(),g.enableInput(),ie?g.showValidationMessage(ie):y==="deny"?VC(g,_):UC(g,_)})},VC=(g,_)=>{let y=Ft.innerParams.get(g);y.showLoaderOnDeny&&kc(de()),y.preDeny?(g.isAwaitingPromise=!0,Promise.resolve().then(()=>Ot(y.preDeny(_,y.validationMessage))).then(z=>{z===!1?(g.hideLoading(),Ld(g)):g.close({isDenied:!0,value:typeof z>"u"?_:z})}).catch(z=>Wx(g,z))):g.close({isDenied:!0,value:_})},Hx=(g,_)=>{g.close({isConfirmed:!0,value:_})},Wx=(g,_)=>{g.rejectPromise(_)},UC=(g,_)=>{let y=Ft.innerParams.get(g);y.showLoaderOnConfirm&&kc(),y.preConfirm?(g.resetValidationMessage(),g.isAwaitingPromise=!0,Promise.resolve().then(()=>Ot(y.preConfirm(_,y.validationMessage))).then(z=>{Vn(Ze())||z===!1?(g.hideLoading(),Ld(g)):Hx(g,typeof z>"u"?_:z)}).catch(z=>Wx(g,z))):Hx(g,_)};function Lf(){let g=Ft.innerParams.get(this);if(!g)return;let _=Ft.domCache.get(this);In(_.loader),kt()?g.icon&&mn(io()):ZF(_),Si([_.popup,_.actions],v.loading),_.popup.removeAttribute("aria-busy"),_.popup.removeAttribute("data-loading"),_.confirmButton.disabled=!1,_.denyButton.disabled=!1,_.cancelButton.disabled=!1}let ZF=g=>{let _=g.loader.getAttribute("data-button-to-replace"),y=_?g.popup.getElementsByClassName(_):[];y.length?mn(y[0],"inline-block"):Ad()&&In(g.actions)};function Gx(){let g=Ft.innerParams.get(this),_=Ft.domCache.get(this);return _?Ii(_.popup,g.input):null}function Qx(g,_,y){let I=Ft.domCache.get(g);_.forEach(z=>{I[z].disabled=y})}function Kx(g,_){let y=Ge();if(!(!y||!g))if(g.type==="radio"){let I=y.querySelectorAll(`[name="${v.radio}"]`);for(let z=0;z<I.length;z++)I[z].disabled=_}else g.disabled=_}function Yx(){Qx(this,["confirmButton","denyButton","cancelButton"],!1)}function Zx(){Qx(this,["confirmButton","denyButton","cancelButton"],!0)}function Jx(){Kx(this.getInput(),!1)}function Xx(){Kx(this.getInput(),!0)}function eE(g){let _=Ft.domCache.get(this),y=Ft.innerParams.get(this);Ae(_.validationMessage,g),_.validationMessage.className=v["validation-message"],y.customClass&&y.customClass.validationMessage&&Ct(_.validationMessage,y.customClass.validationMessage),mn(_.validationMessage);let I=this.getInput();I&&(I.setAttribute("aria-invalid","true"),I.setAttribute("aria-describedby",v["validation-message"]),nr(I),Ct(I,v.inputerror))}function tE(){let g=Ft.domCache.get(this);g.validationMessage&&In(g.validationMessage);let _=this.getInput();_&&(_.removeAttribute("aria-invalid"),_.removeAttribute("aria-describedby"),Si(_,v.inputerror))}let Os={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,draggable:!1,animation:!0,theme:"light",showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0,topLayer:!1},JF=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","draggable","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","theme","willClose"],XF={allowEnterKey:void 0},e5=["allowOutsideClick","allowEnterKey","backdrop","draggable","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],nE=g=>Object.prototype.hasOwnProperty.call(Os,g),iE=g=>JF.indexOf(g)!==-1,oE=g=>XF[g],t5=g=>{nE(g)||N(`Unknown parameter "${g}"`)},n5=g=>{e5.includes(g)&&N(`The parameter "${g}" is incompatible with toasts`)},i5=g=>{let _=oE(g);_&&Me(g,_)},rE=g=>{g.backdrop===!1&&g.allowOutsideClick&&N('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`'),g.theme&&!["light","dark","auto","minimal","borderless","bootstrap-4","bootstrap-4-light","bootstrap-4-dark","bootstrap-5","bootstrap-5-light","bootstrap-5-dark","material-ui","material-ui-light","material-ui-dark","embed-iframe","bulma","bulma-light","bulma-dark"].includes(g.theme)&&N(`Invalid theme "${g.theme}"`);for(let _ in g)t5(_),g.toast&&n5(_),i5(_)};function sE(g){let _=xt(),y=Ge(),I=Ft.innerParams.get(this);if(!y||qt(y,I.hideClass.popup)){N("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");return}let z=o5(g),ie=Object.assign({},I,z);rE(ie),_&&(_.dataset.swal2Theme=ie.theme),Rx(this,ie),Ft.innerParams.set(this,ie),Object.defineProperties(this,{params:{value:Object.assign({},this.params,g),writable:!1,enumerable:!0}})}let o5=g=>{let _={};return Object.keys(g).forEach(y=>{if(iE(y)){let I=g;_[y]=I[y]}else N(`Invalid parameter to update: ${y}`)}),_};function aE(){var g;let _=Ft.domCache.get(this),y=Ft.innerParams.get(this);if(!y){cE(this);return}_.popup&&s.swalCloseEventFinishedCallback&&(s.swalCloseEventFinishedCallback(),delete s.swalCloseEventFinishedCallback),typeof y.didDestroy=="function"&&y.didDestroy(),(g=s.eventEmitter)===null||g===void 0||g.emit("didDestroy"),r5(this)}let r5=g=>{cE(g),delete g.params,delete s.keydownHandler,delete s.keydownTarget,delete s.currentInstance},cE=g=>{g.isAwaitingPromise?($C(Ft,g),g.isAwaitingPromise=!0):($C(Tc,g),$C(Ft,g),delete g.isAwaitingPromise,delete g.disableButtons,delete g.enableButtons,delete g.getInput,delete g.disableInput,delete g.enableInput,delete g.hideLoading,delete g.disableLoading,delete g.showValidationMessage,delete g.resetValidationMessage,delete g.close,delete g.closePopup,delete g.closeModal,delete g.closeToast,delete g.rejectPromise,delete g.update,delete g._destroy)},$C=(g,_)=>{for(let y in g)g[y].delete(_)};var s5=Object.freeze({__proto__:null,_destroy:aE,close:Ps,closeModal:Ps,closePopup:Ps,closeToast:Ps,disableButtons:Zx,disableInput:Xx,disableLoading:Lf,enableButtons:Yx,enableInput:Jx,getInput:Gx,handleAwaitingPromise:Ld,hideLoading:Lf,rejectPromise:Vx,resetValidationMessage:tE,showValidationMessage:eE,update:sE});let a5=(g,_,y)=>{g.toast?c5(g,_,y):(d5(_),u5(_),p5(g,_,y))},c5=(g,_,y)=>{_.popup.onclick=()=>{g&&(l5(g)||g.timer||g.input)||y(Sc.close)}},l5=g=>!!(g.showConfirmButton||g.showDenyButton||g.showCancelButton||g.showCloseButton),Ff=!1,d5=g=>{g.popup.onmousedown=()=>{g.container.onmouseup=function(_){g.container.onmouseup=()=>{},_.target===g.container&&(Ff=!0)}}},u5=g=>{g.container.onmousedown=_=>{_.target===g.container&&_.preventDefault(),g.popup.onmouseup=function(y){g.popup.onmouseup=()=>{},(y.target===g.popup||y.target instanceof HTMLElement&&g.popup.contains(y.target))&&(Ff=!0)}}},p5=(g,_,y)=>{_.container.onclick=I=>{if(Ff){Ff=!1;return}I.target===_.container&&mt(g.allowOutsideClick)&&y(Sc.backdrop)}},f5=g=>typeof g=="object"&&g.jquery,lE=g=>g instanceof Element||f5(g),g5=g=>{let _={};return typeof g[0]=="object"&&!lE(g[0])?Object.assign(_,g[0]):["title","html","icon"].forEach((y,I)=>{let z=g[I];typeof z=="string"||lE(z)?_[y]=z:z!==void 0&&W(`Unexpected type of ${y}! Expected "string" or "Element", got ${typeof z}`)}),_};function h5(...g){return new this(...g)}function m5(g){class _ extends this{_main(I,z){return super._main(I,Object.assign({},g,z))}}return _}let _5=()=>s.timeout&&s.timeout.getTimerLeft(),dE=()=>{if(s.timeout)return xL(),s.timeout.stop()},uE=()=>{if(s.timeout){let g=s.timeout.start();return RC(g),g}},C5=()=>{let g=s.timeout;return g&&(g.running?dE():uE())},v5=g=>{if(s.timeout){let _=s.timeout.increase(g);return RC(_,!0),_}},b5=()=>!!(s.timeout&&s.timeout.isRunning()),pE=!1,qC={};function y5(g="data-swal-template"){qC[g]=this,pE||(document.body.addEventListener("click",M5),pE=!0)}let M5=g=>{for(let _=g.target;_&&_!==document;_=_.parentNode)for(let y in qC){let I=_.getAttribute&&_.getAttribute(y);if(I){qC[y].fire({template:I});return}}};class P5{constructor(){this.events={}}_getHandlersByEventName(_){return typeof this.events[_]>"u"&&(this.events[_]=[]),this.events[_]}on(_,y){let I=this._getHandlersByEventName(_);I.includes(y)||I.push(y)}once(_,y){let I=(...z)=>{this.removeListener(_,I),y.apply(this,z)};this.on(_,I)}emit(_,...y){this._getHandlersByEventName(_).forEach(I=>{try{I.apply(this,y)}catch(z){console.error(z)}})}removeListener(_,y){let I=this._getHandlersByEventName(_),z=I.indexOf(y);z>-1&&I.splice(z,1)}removeAllListeners(_){this.events[_]!==void 0&&(this.events[_].length=0)}reset(){this.events={}}}s.eventEmitter=new P5;var O5=Object.freeze({__proto__:null,argsToParams:g5,bindClickHandler:y5,clickCancel:gF,clickConfirm:Nx,clickDeny:fF,enableLoading:kc,fire:h5,getActions:ke,getCancelButton:k,getCloseButton:De,getConfirmButton:B,getContainer:xt,getDenyButton:de,getFocusableElements:yt,getFooter:Qe,getHtmlContainer:ge,getIcon:io,getIconContent:ya,getImage:Pe,getInputLabel:Oe,getLoader:ue,getPopup:Ge,getProgressSteps:xe,getTimerLeft:_5,getTimerProgressBar:he,getTitle:Vr,getValidationMessage:Ze,increaseTimer:v5,isDeprecatedParameter:oE,isLoading:En,isTimerRunning:b5,isUpdatableParameter:iE,isValidParameter:nE,isVisible:pF,mixin:m5,off:(g,_)=>{if(s.eventEmitter){if(!g){s.eventEmitter.reset();return}_?s.eventEmitter.removeListener(g,_):s.eventEmitter.removeAllListeners(g)}},on:(g,_)=>{s.eventEmitter&&s.eventEmitter.on(g,_)},once:(g,_)=>{s.eventEmitter&&s.eventEmitter.once(g,_)},resumeTimer:uE,showLoading:kc,stopTimer:dE,toggleTimer:C5});class w5{constructor(_,y){this.callback=_,this.remaining=y,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.started&&this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date().getTime()-this.started.getTime()),this.remaining}increase(_){let y=this.running;return y&&this.stop(),this.remaining+=_,y&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}let fE=["swal-title","swal-html","swal-footer"],x5=g=>{let _=typeof g.template=="string"?document.querySelector(g.template):g.template;if(!_)return{};let y=_.content;return R5(y),Object.assign(E5(y),I5(y),S5(y),T5(y),D5(y),k5(y),A5(y,fE))},E5=g=>{let _={};return Array.from(g.querySelectorAll("swal-param")).forEach(I=>{Pa(I,["name","value"]);let z=I.getAttribute("name"),ie=I.getAttribute("value");!z||!ie||(z in Os&&typeof Os[z]=="boolean"?_[z]=ie!=="false":z in Os&&typeof Os[z]=="object"?_[z]=JSON.parse(ie):_[z]=ie)}),_},I5=g=>{let _={};return Array.from(g.querySelectorAll("swal-function-param")).forEach(I=>{let z=I.getAttribute("name"),ie=I.getAttribute("value");!z||!ie||(_[z]=new Function(`return ${ie}`)())}),_},S5=g=>{let _={};return Array.from(g.querySelectorAll("swal-button")).forEach(I=>{Pa(I,["type","color","aria-label"]);let z=I.getAttribute("type");if(!(!z||!["confirm","cancel","deny"].includes(z))){if(_[`${z}ButtonText`]=I.innerHTML,_[`show${F(z)}Button`]=!0,I.hasAttribute("color")){let ie=I.getAttribute("color");ie!==null&&(_[`${z}ButtonColor`]=ie)}if(I.hasAttribute("aria-label")){let ie=I.getAttribute("aria-label");ie!==null&&(_[`${z}ButtonAriaLabel`]=ie)}}}),_},T5=g=>{let _={},y=g.querySelector("swal-image");return y&&(Pa(y,["src","width","height","alt"]),y.hasAttribute("src")&&(_.imageUrl=y.getAttribute("src")||void 0),y.hasAttribute("width")&&(_.imageWidth=y.getAttribute("width")||void 0),y.hasAttribute("height")&&(_.imageHeight=y.getAttribute("height")||void 0),y.hasAttribute("alt")&&(_.imageAlt=y.getAttribute("alt")||void 0)),_},D5=g=>{let _={},y=g.querySelector("swal-icon");return y&&(Pa(y,["type","color"]),y.hasAttribute("type")&&(_.icon=y.getAttribute("type")),y.hasAttribute("color")&&(_.iconColor=y.getAttribute("color")),_.iconHtml=y.innerHTML),_},k5=g=>{let _={},y=g.querySelector("swal-input");y&&(Pa(y,["type","label","placeholder","value"]),_.input=y.getAttribute("type")||"text",y.hasAttribute("label")&&(_.inputLabel=y.getAttribute("label")),y.hasAttribute("placeholder")&&(_.inputPlaceholder=y.getAttribute("placeholder")),y.hasAttribute("value")&&(_.inputValue=y.getAttribute("value")));let I=Array.from(g.querySelectorAll("swal-input-option"));return I.length&&(_.inputOptions={},I.forEach(z=>{Pa(z,["value"]);let ie=z.getAttribute("value");if(!ie)return;let $e=z.innerHTML;_.inputOptions[ie]=$e})),_},A5=(g,_)=>{let y={};for(let I in _){let z=_[I],ie=g.querySelector(z);ie&&(Pa(ie,[]),y[z.replace(/^swal-/,"")]=ie.innerHTML.trim())}return y},R5=g=>{let _=fE.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(g.children).forEach(y=>{let I=y.tagName.toLowerCase();_.includes(I)||N(`Unrecognized element <${I}>`)})},Pa=(g,_)=>{Array.from(g.attributes).forEach(y=>{_.indexOf(y.name)===-1&&N([`Unrecognized attribute "${y.name}" on <${g.tagName.toLowerCase()}>.`,`${_.length?`Allowed attributes are: ${_.join(", ")}`:"To set the value, use HTML within the element."}`])})},gE=10,N5=g=>{var _,y;let I=xt(),z=Ge();if(!I||!z)return;typeof g.willOpen=="function"&&g.willOpen(z),(_=s.eventEmitter)===null||_===void 0||_.emit("willOpen",z);let $e=window.getComputedStyle(document.body).overflowY;if(z5(I,z,g),setTimeout(()=>{L5(I,z)},gE),_t()&&(F5(I,g.scrollbarPadding!==void 0?g.scrollbarPadding:!1,$e),MF()),!kt()&&!s.previousActiveElement&&(s.previousActiveElement=document.activeElement),typeof g.didOpen=="function"){let dt=g.didOpen;setTimeout(()=>dt(z))}(y=s.eventEmitter)===null||y===void 0||y.emit("didOpen",z)},zf=g=>{let _=Ge();if(!_||g.target!==_)return;let y=xt();y&&(_.removeEventListener("animationend",zf),_.removeEventListener("transitionend",zf),y.style.overflowY="auto",Si(y,v["no-transition"]))},L5=(g,_)=>{Px(_)?(g.style.overflowY="hidden",_.addEventListener("animationend",zf),_.addEventListener("transitionend",zf)):g.style.overflowY="auto"},F5=(g,_,y)=>{PF(),_&&y!=="hidden"&&TF(y),setTimeout(()=>{g.scrollTop=0})},z5=(g,_,y)=>{var I;(I=y.showClass)!==null&&I!==void 0&&I.backdrop&&Ct(g,y.showClass.backdrop),y.animation?(_.style.setProperty("opacity","0","important"),mn(_,"grid"),setTimeout(()=>{var z;(z=y.showClass)!==null&&z!==void 0&&z.popup&&Ct(_,y.showClass.popup),_.style.removeProperty("opacity")},gE)):mn(_,"grid"),Ct([document.documentElement,document.body],v.shown),y.heightAuto&&y.backdrop&&!y.toast&&Ct([document.documentElement,document.body],v["height-auto"])};var hE={email:(g,_)=>/^[a-zA-Z0-9.+_'-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]+$/.test(g)?Promise.resolve():Promise.resolve(_||"Invalid email address"),url:(g,_)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(g)?Promise.resolve():Promise.resolve(_||"Invalid URL")};function B5(g){g.inputValidator||(g.input==="email"&&(g.inputValidator=hE.email),g.input==="url"&&(g.inputValidator=hE.url))}function j5(g){(!g.target||typeof g.target=="string"&&!document.querySelector(g.target)||typeof g.target!="string"&&!g.target.appendChild)&&(N('Target parameter is not valid, defaulting to "body"'),g.target="body")}function V5(g){B5(g),g.showLoaderOnConfirm&&!g.preConfirm&&N(`showLoaderOnConfirm is set to true, but preConfirm is not defined.
showLoaderOnConfirm should be used together with preConfirm, see usage example:
https://sweetalert2.github.io/#ajax-request`),j5(g),typeof g.title=="string"&&(g.title=g.title.split(`
`).join("<br />")),RL(g)}let rr;var Bf=new WeakMap;class ln{constructor(..._){if(i(this,Bf,Promise.resolve({isConfirmed:!1,isDenied:!1,isDismissed:!0})),typeof window>"u")return;rr=this;let y=Object.freeze(this.constructor.argsToParams(_));this.params=y,this.isAwaitingPromise=!1,o(Bf,this,this._main(rr.params))}_main(_,y={}){if(rE(Object.assign({},y,_)),s.currentInstance){let ie=Tc.swalPromiseResolve.get(s.currentInstance),{isAwaitingPromise:$e}=s.currentInstance;s.currentInstance._destroy(),$e||ie({isDismissed:!0}),_t()&&zx()}s.currentInstance=rr;let I=$5(_,y);V5(I),Object.freeze(I),s.timeout&&(s.timeout.stop(),delete s.timeout),clearTimeout(s.restoreFocusTimeout);let z=q5(rr);return Rx(rr,I),Ft.innerParams.set(rr,I),U5(rr,z,I)}then(_){return e(Bf,this).then(_)}finally(_){return e(Bf,this).finally(_)}}let U5=(g,_,y)=>new Promise((I,z)=>{let ie=$e=>{g.close({isDismissed:!0,dismiss:$e,isConfirmed:!1,isDenied:!1})};Tc.swalPromiseResolve.set(g,I),Tc.swalPromiseReject.set(g,z),_.confirmButton.onclick=()=>{GF(g)},_.denyButton.onclick=()=>{QF(g)},_.cancelButton.onclick=()=>{KF(g,ie)},_.closeButton.onclick=()=>{ie(Sc.close)},a5(y,_,ie),hF(s,y,ie),zF(g,y),N5(y),H5(s,y,ie),W5(_,y),setTimeout(()=>{_.container.scrollTop=0})}),$5=(g,_)=>{let y=x5(g),I=Object.assign({},Os,_,y,g);return I.showClass=Object.assign({},Os.showClass,I.showClass),I.hideClass=Object.assign({},Os.hideClass,I.hideClass),I.animation===!1&&(I.showClass={backdrop:"swal2-noanimation"},I.hideClass={}),I},q5=g=>{let _={popup:Ge(),container:xt(),actions:ke(),confirmButton:B(),denyButton:de(),cancelButton:k(),loader:ue(),closeButton:De(),validationMessage:Ze(),progressSteps:xe()};return Ft.domCache.set(g,_),_},H5=(g,_,y)=>{let I=he();In(I),_.timer&&(g.timeout=new w5(()=>{y("timer"),delete g.timeout},_.timer),_.timerProgressBar&&I&&(mn(I),jt(I,_,"timerProgressBar"),setTimeout(()=>{g.timeout&&g.timeout.running&&RC(_.timer)})))},W5=(g,_)=>{if(!_.toast){if(!mt(_.allowEnterKey)){Me("allowEnterKey"),K5();return}G5(g)||Q5(g,_)||jC(-1,1)}},G5=g=>{let _=Array.from(g.popup.querySelectorAll("[autofocus]"));for(let y of _)if(y instanceof HTMLElement&&Vn(y))return y.focus(),!0;return!1},Q5=(g,_)=>_.focusDeny&&Vn(g.denyButton)?(g.denyButton.focus(),!0):_.focusCancel&&Vn(g.cancelButton)?(g.cancelButton.focus(),!0):_.focusConfirm&&Vn(g.confirmButton)?(g.confirmButton.focus(),!0):!1,K5=()=>{document.activeElement instanceof HTMLElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur()};ln.prototype.disableButtons=Zx,ln.prototype.enableButtons=Yx,ln.prototype.getInput=Gx,ln.prototype.disableInput=Xx,ln.prototype.enableInput=Jx,ln.prototype.hideLoading=Lf,ln.prototype.disableLoading=Lf,ln.prototype.showValidationMessage=eE,ln.prototype.resetValidationMessage=tE,ln.prototype.close=Ps,ln.prototype.closePopup=Ps,ln.prototype.closeModal=Ps,ln.prototype.closeToast=Ps,ln.prototype.rejectPromise=Vx,ln.prototype.update=sE,ln.prototype._destroy=aE,Object.assign(ln,O5),Object.keys(s5).forEach(g=>{ln[g]=function(..._){if(rr&&rr[g])return rr[g](..._)}}),ln.DismissReason=Sc,ln.version="11.26.17";let jf=ln;return jf.default=jf,jf});typeof Fr<"u"&&Fr.Sweetalert2&&(Fr.swal=Fr.sweetAlert=Fr.Swal=Fr.SweetAlert=Fr.Sweetalert2);typeof document<"u"&&(function(n,t){var e=n.createElement("style");if(n.getElementsByTagName("head")[0].appendChild(e),e.styleSheet)e.styleSheet.disabled||(e.styleSheet.cssText=t);else try{e.innerHTML=t}catch{e.innerText=t}})(document,':root{--swal2-outline: 0 0 0 3px rgba(100, 150, 200, 0.5);--swal2-container-padding: 0.625em;--swal2-backdrop: rgba(0, 0, 0, 0.4);--swal2-backdrop-transition: background-color 0.15s;--swal2-width: 32em;--swal2-padding: 0 0 1.25em;--swal2-border: none;--swal2-border-radius: 0.3125rem;--swal2-background: white;--swal2-color: #545454;--swal2-show-animation: swal2-show 0.3s;--swal2-hide-animation: swal2-hide 0.15s forwards;--swal2-icon-zoom: 1;--swal2-icon-animations: true;--swal2-title-padding: 0.8em 1em 0;--swal2-html-container-padding: 1em 1.6em 0.3em;--swal2-input-border: 1px solid #d9d9d9;--swal2-input-border-radius: 0.1875em;--swal2-input-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px transparent;--swal2-input-background: transparent;--swal2-input-transition: border-color 0.2s, box-shadow 0.2s;--swal2-input-hover-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px transparent;--swal2-input-focus-border: 1px solid #b4dbed;--swal2-input-focus-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px rgba(100, 150, 200, 0.5);--swal2-progress-step-background: #add8e6;--swal2-validation-message-background: #f0f0f0;--swal2-validation-message-color: #666;--swal2-footer-border-color: #eee;--swal2-footer-background: transparent;--swal2-footer-color: inherit;--swal2-timer-progress-bar-background: rgba(0, 0, 0, 0.3);--swal2-close-button-position: initial;--swal2-close-button-inset: auto;--swal2-close-button-font-size: 2.5em;--swal2-close-button-color: #ccc;--swal2-close-button-transition: color 0.2s, box-shadow 0.2s;--swal2-close-button-outline: initial;--swal2-close-button-box-shadow: inset 0 0 0 3px transparent;--swal2-close-button-focus-box-shadow: inset var(--swal2-outline);--swal2-close-button-hover-transform: none;--swal2-actions-justify-content: center;--swal2-actions-width: auto;--swal2-actions-margin: 1.25em auto 0;--swal2-actions-padding: 0;--swal2-actions-border-radius: 0;--swal2-actions-background: transparent;--swal2-action-button-transition: background-color 0.2s, box-shadow 0.2s;--swal2-action-button-hover: black 10%;--swal2-action-button-active: black 10%;--swal2-confirm-button-box-shadow: none;--swal2-confirm-button-border-radius: 0.25em;--swal2-confirm-button-background-color: #7066e0;--swal2-confirm-button-color: #fff;--swal2-deny-button-box-shadow: none;--swal2-deny-button-border-radius: 0.25em;--swal2-deny-button-background-color: #dc3741;--swal2-deny-button-color: #fff;--swal2-cancel-button-box-shadow: none;--swal2-cancel-button-border-radius: 0.25em;--swal2-cancel-button-background-color: #6e7881;--swal2-cancel-button-color: #fff;--swal2-toast-show-animation: swal2-toast-show 0.5s;--swal2-toast-hide-animation: swal2-toast-hide 0.1s forwards;--swal2-toast-border: none;--swal2-toast-box-shadow: 0 0 1px hsl(0deg 0% 0% / 0.075), 0 1px 2px hsl(0deg 0% 0% / 0.075), 1px 2px 4px hsl(0deg 0% 0% / 0.075), 1px 3px 8px hsl(0deg 0% 0% / 0.075), 2px 4px 16px hsl(0deg 0% 0% / 0.075)}[data-swal2-theme=dark]{--swal2-dark-theme-black: #19191a;--swal2-dark-theme-white: #e1e1e1;--swal2-background: var(--swal2-dark-theme-black);--swal2-color: var(--swal2-dark-theme-white);--swal2-footer-border-color: #555;--swal2-input-background: color-mix(in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10%);--swal2-validation-message-background: color-mix( in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10% );--swal2-validation-message-color: var(--swal2-dark-theme-white);--swal2-timer-progress-bar-background: rgba(255, 255, 255, 0.7)}@media(prefers-color-scheme: dark){[data-swal2-theme=auto]{--swal2-dark-theme-black: #19191a;--swal2-dark-theme-white: #e1e1e1;--swal2-background: var(--swal2-dark-theme-black);--swal2-color: var(--swal2-dark-theme-white);--swal2-footer-border-color: #555;--swal2-input-background: color-mix(in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10%);--swal2-validation-message-background: color-mix( in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10% );--swal2-validation-message-color: var(--swal2-dark-theme-white);--swal2-timer-progress-bar-background: rgba(255, 255, 255, 0.7)}}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px var(--swal2-backdrop)}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}@media print{body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown) .swal2-container{position:static !important}}div:where(.swal2-container){display:grid;position:fixed;z-index:1060;inset:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:var(--swal2-container-padding);overflow-x:hidden;transition:var(--swal2-backdrop-transition);-webkit-overflow-scrolling:touch}div:where(.swal2-container).swal2-backdrop-show,div:where(.swal2-container).swal2-noanimation{background:var(--swal2-backdrop)}div:where(.swal2-container).swal2-backdrop-hide{background:rgba(0,0,0,0) !important}div:where(.swal2-container).swal2-top-start,div:where(.swal2-container).swal2-center-start,div:where(.swal2-container).swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}div:where(.swal2-container).swal2-top,div:where(.swal2-container).swal2-center,div:where(.swal2-container).swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}div:where(.swal2-container).swal2-top-end,div:where(.swal2-container).swal2-center-end,div:where(.swal2-container).swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}div:where(.swal2-container).swal2-top-start>.swal2-popup{align-self:start}div:where(.swal2-container).swal2-top>.swal2-popup{grid-column:2;place-self:start center}div:where(.swal2-container).swal2-top-end>.swal2-popup,div:where(.swal2-container).swal2-top-right>.swal2-popup{grid-column:3;place-self:start end}div:where(.swal2-container).swal2-center-start>.swal2-popup,div:where(.swal2-container).swal2-center-left>.swal2-popup{grid-row:2;align-self:center}div:where(.swal2-container).swal2-center>.swal2-popup{grid-column:2;grid-row:2;place-self:center center}div:where(.swal2-container).swal2-center-end>.swal2-popup,div:where(.swal2-container).swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;place-self:center end}div:where(.swal2-container).swal2-bottom-start>.swal2-popup,div:where(.swal2-container).swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}div:where(.swal2-container).swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;place-self:end center}div:where(.swal2-container).swal2-bottom-end>.swal2-popup,div:where(.swal2-container).swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;place-self:end end}div:where(.swal2-container).swal2-grow-row>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}div:where(.swal2-container).swal2-grow-column>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}div:where(.swal2-container).swal2-no-transition{transition:none !important}div:where(.swal2-container)[popover]{width:auto;border:0}div:where(.swal2-container) div:where(.swal2-popup){display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:var(--swal2-width);max-width:100%;padding:var(--swal2-padding);border:var(--swal2-border);border-radius:var(--swal2-border-radius);background:var(--swal2-background);color:var(--swal2-color);font-family:inherit;font-size:1rem;container-name:swal2-popup}div:where(.swal2-container) div:where(.swal2-popup):focus{outline:none}div:where(.swal2-container) div:where(.swal2-popup).swal2-loading{overflow-y:hidden}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable{cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable div:where(.swal2-icon){cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging{cursor:grabbing}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging div:where(.swal2-icon){cursor:grabbing}div:where(.swal2-container) h2:where(.swal2-title){position:relative;max-width:100%;margin:0;padding:var(--swal2-title-padding);color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;overflow-wrap:break-word;cursor:initial}div:where(.swal2-container) div:where(.swal2-actions){display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:var(--swal2-actions-justify-content);width:var(--swal2-actions-width);margin:var(--swal2-actions-margin);padding:var(--swal2-actions-padding);border-radius:var(--swal2-actions-border-radius);background:var(--swal2-actions-background)}div:where(.swal2-container) div:where(.swal2-loader){display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}div:where(.swal2-container) button:where(.swal2-styled){margin:.3125em;padding:.625em 1.1em;transition:var(--swal2-action-button-transition);border:none;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}div:where(.swal2-container) button:where(.swal2-styled):not([disabled]){cursor:pointer}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm){border-radius:var(--swal2-confirm-button-border-radius);background:initial;background-color:var(--swal2-confirm-button-background-color);box-shadow:var(--swal2-confirm-button-box-shadow);color:var(--swal2-confirm-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):hover{background-color:color-mix(in srgb, var(--swal2-confirm-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):active{background-color:color-mix(in srgb, var(--swal2-confirm-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny){border-radius:var(--swal2-deny-button-border-radius);background:initial;background-color:var(--swal2-deny-button-background-color);box-shadow:var(--swal2-deny-button-box-shadow);color:var(--swal2-deny-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):hover{background-color:color-mix(in srgb, var(--swal2-deny-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):active{background-color:color-mix(in srgb, var(--swal2-deny-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel){border-radius:var(--swal2-cancel-button-border-radius);background:initial;background-color:var(--swal2-cancel-button-background-color);box-shadow:var(--swal2-cancel-button-box-shadow);color:var(--swal2-cancel-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):hover{background-color:color-mix(in srgb, var(--swal2-cancel-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):active{background-color:color-mix(in srgb, var(--swal2-cancel-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):focus-visible{outline:none;box-shadow:var(--swal2-action-button-focus-box-shadow)}div:where(.swal2-container) button:where(.swal2-styled)[disabled]:not(.swal2-loading){opacity:.4}div:where(.swal2-container) button:where(.swal2-styled)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-footer){margin:1em 0 0;padding:1em 1em 0;border-top:1px solid var(--swal2-footer-border-color);background:var(--swal2-footer-background);color:var(--swal2-footer-color);font-size:1em;text-align:center;cursor:initial}div:where(.swal2-container) .swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:var(--swal2-border-radius);border-bottom-left-radius:var(--swal2-border-radius)}div:where(.swal2-container) div:where(.swal2-timer-progress-bar){width:100%;height:.25em;background:var(--swal2-timer-progress-bar-background)}div:where(.swal2-container) img:where(.swal2-image){max-width:100%;margin:2em auto 1em;cursor:initial}div:where(.swal2-container) button:where(.swal2-close){position:var(--swal2-close-button-position);inset:var(--swal2-close-button-inset);z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:var(--swal2-close-button-transition);border:none;border-radius:var(--swal2-border-radius);outline:var(--swal2-close-button-outline);background:rgba(0,0,0,0);color:var(--swal2-close-button-color);font-family:monospace;font-size:var(--swal2-close-button-font-size);cursor:pointer;justify-self:end}div:where(.swal2-container) button:where(.swal2-close):hover{transform:var(--swal2-close-button-hover-transform);background:rgba(0,0,0,0);color:#f27474}div:where(.swal2-container) button:where(.swal2-close):focus-visible{outline:none;box-shadow:var(--swal2-close-button-focus-box-shadow)}div:where(.swal2-container) button:where(.swal2-close)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-html-container){z-index:1;justify-content:center;margin:0;padding:var(--swal2-html-container-padding);overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;overflow-wrap:break-word;word-break:break-word;cursor:initial}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea),div:where(.swal2-container) select:where(.swal2-select),div:where(.swal2-container) div:where(.swal2-radio),div:where(.swal2-container) label:where(.swal2-checkbox){margin:1em 2em 3px}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea){box-sizing:border-box;width:auto;transition:var(--swal2-input-transition);border:var(--swal2-input-border);border-radius:var(--swal2-input-border-radius);background:var(--swal2-input-background);box-shadow:var(--swal2-input-box-shadow);color:inherit;font-size:1.125em}div:where(.swal2-container) input:where(.swal2-input).swal2-inputerror,div:where(.swal2-container) input:where(.swal2-file).swal2-inputerror,div:where(.swal2-container) textarea:where(.swal2-textarea).swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}div:where(.swal2-container) input:where(.swal2-input):hover,div:where(.swal2-container) input:where(.swal2-file):hover,div:where(.swal2-container) textarea:where(.swal2-textarea):hover{box-shadow:var(--swal2-input-hover-box-shadow)}div:where(.swal2-container) input:where(.swal2-input):focus,div:where(.swal2-container) input:where(.swal2-file):focus,div:where(.swal2-container) textarea:where(.swal2-textarea):focus{border:var(--swal2-input-focus-border);outline:none;box-shadow:var(--swal2-input-focus-box-shadow)}div:where(.swal2-container) input:where(.swal2-input)::placeholder,div:where(.swal2-container) input:where(.swal2-file)::placeholder,div:where(.swal2-container) textarea:where(.swal2-textarea)::placeholder{color:#ccc}div:where(.swal2-container) .swal2-range{margin:1em 2em 3px;background:var(--swal2-background)}div:where(.swal2-container) .swal2-range input{width:80%}div:where(.swal2-container) .swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}div:where(.swal2-container) .swal2-range input,div:where(.swal2-container) .swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}div:where(.swal2-container) .swal2-input{height:2.625em;padding:0 .75em}div:where(.swal2-container) .swal2-file{width:75%;margin-right:auto;margin-left:auto;background:var(--swal2-input-background);font-size:1.125em}div:where(.swal2-container) .swal2-textarea{height:6.75em;padding:.75em}div:where(.swal2-container) .swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:var(--swal2-input-background);color:inherit;font-size:1.125em}div:where(.swal2-container) .swal2-radio,div:where(.swal2-container) .swal2-checkbox{align-items:center;justify-content:center;background:var(--swal2-background);color:inherit}div:where(.swal2-container) .swal2-radio label,div:where(.swal2-container) .swal2-checkbox label{margin:0 .6em;font-size:1.125em}div:where(.swal2-container) .swal2-radio input,div:where(.swal2-container) .swal2-checkbox input{flex-shrink:0;margin:0 .4em}div:where(.swal2-container) label:where(.swal2-input-label){display:flex;justify-content:center;margin:1em auto 0}div:where(.swal2-container) div:where(.swal2-validation-message){align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:var(--swal2-validation-message-background);color:var(--swal2-validation-message-color);font-size:1em;font-weight:300}div:where(.swal2-container) div:where(.swal2-validation-message)::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}div:where(.swal2-container) .swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}div:where(.swal2-container) .swal2-progress-steps li{display:inline-block;position:relative}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:var(--swal2-progress-step-background);color:#fff}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:var(--swal2-progress-step-background)}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}div:where(.swal2-icon){position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;zoom:var(--swal2-icon-zoom);border:.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}div:where(.swal2-icon) .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}div:where(.swal2-icon).swal2-error{border-color:#f27474;color:#f27474}div:where(.swal2-icon).swal2-error .swal2-x-mark{position:relative;flex-grow:1}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}}div:where(.swal2-icon).swal2-warning{border-color:#f8bb86;color:#f8bb86}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}}div:where(.swal2-icon).swal2-info{border-color:#3fc3ee;color:#3fc3ee}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}}div:where(.swal2-icon).swal2-question{border-color:#87adbd;color:#87adbd}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}}div:where(.swal2-icon).swal2-success{border-color:#a5dc86;color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;border-radius:50%}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}div:where(.swal2-icon).swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}div:where(.swal2-icon).swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:var(--swal2-show-animation)}.swal2-hide{animation:var(--swal2-hide-animation)}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;border:var(--swal2-toast-border);background:var(--swal2-background);box-shadow:var(--swal2-toast-box-shadow);pointer-events:all}.swal2-toast>*{grid-column:2}.swal2-toast h2:where(.swal2-title){margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-toast .swal2-loading{justify-content:center}.swal2-toast input:where(.swal2-input){height:2em;margin:.5em;font-size:1em}.swal2-toast .swal2-validation-message{font-size:1em}.swal2-toast div:where(.swal2-footer){margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-toast button:where(.swal2-close){grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-toast div:where(.swal2-html-container){margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-toast div:where(.swal2-html-container):empty{padding:0}.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-toast div:where(.swal2-actions){justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-toast button:where(.swal2-styled){margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;border-radius:50%}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}@container swal2-popup style(--swal2-icon-animations:true){.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}}.swal2-toast.swal2-show{animation:var(--swal2-toast-show-animation)}.swal2-toast.swal2-hide{animation:var(--swal2-toast-hide-animation)}@keyframes swal2-show{0%{transform:translate3d(0, -50px, 0) scale(0.9);opacity:0}100%{transform:translate3d(0, 0, 0) scale(1);opacity:1}}@keyframes swal2-hide{0%{transform:translate3d(0, 0, 0) scale(1);opacity:1}100%{transform:translate3d(0, -50px, 0) scale(0.9);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}')});var QC;function Uf(){return QC}function sr(n){let t=QC;return QC=n,t}var vE=Symbol("NotFound");function Nc(n){return n===vE||n?.name==="\u0275NotFound"}var ni=null,$f=!1,KC=1,o6=null,ii=Symbol("SIGNAL");function Le(n){let t=ni;return ni=n,t}function Gf(){return ni}var Lc={version:0,lastCleanEpoch:0,dirty:!1,producers:void 0,producersTail:void 0,consumers:void 0,consumersTail:void 0,recomputing:!1,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Fc(n){if($f)throw new Error("");if(ni===null)return;ni.consumerOnSignalRead(n);let t=ni.producersTail;if(t!==void 0&&t.producer===n)return;let e,i=ni.recomputing;if(i&&(e=t!==void 0?t.nextProducer:ni.producers,e!==void 0&&e.producer===n)){ni.producersTail=e,e.lastReadVersion=n.version;return}let o=n.consumersTail;if(o!==void 0&&o.consumer===ni&&(!i||s6(o,ni)))return;let r=Bc(ni),s={producer:n,consumer:ni,nextProducer:e,prevConsumer:o,lastReadVersion:n.version,nextConsumer:void 0};ni.producersTail=s,t!==void 0?t.nextProducer=s:ni.producers=s,r&&PE(n,s)}function bE(){KC++}function Qf(n){if(!(Bc(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===KC)){if(!n.producerMustRecompute(n)&&!Bd(n)){Wf(n);return}n.producerRecomputeValue(n),Wf(n)}}function YC(n){if(n.consumers===void 0)return;let t=$f;$f=!0;try{for(let e=n.consumers;e!==void 0;e=e.nextConsumer){let i=e.consumer;i.dirty||r6(i)}}finally{$f=t}}function ZC(){return ni?.consumerAllowSignalWrites!==!1}function r6(n){n.dirty=!0,YC(n),n.consumerMarkedDirty?.(n)}function Wf(n){n.dirty=!1,n.lastCleanEpoch=KC}function zc(n){return n&&yE(n),Le(n)}function yE(n){n.producersTail=void 0,n.recomputing=!0}function zd(n,t){Le(t),n&&ME(n)}function ME(n){n.recomputing=!1;let t=n.producersTail,e=t!==void 0?t.nextProducer:n.producers;if(e!==void 0){if(Bc(n))do e=JC(e);while(e!==void 0);t!==void 0?t.nextProducer=void 0:n.producers=void 0}}function Bd(n){for(let t=n.producers;t!==void 0;t=t.nextProducer){let e=t.producer,i=t.lastReadVersion;if(i!==e.version||(Qf(e),i!==e.version))return!0}return!1}function jd(n){if(Bc(n)){let t=n.producers;for(;t!==void 0;)t=JC(t)}n.producers=void 0,n.producersTail=void 0,n.consumers=void 0,n.consumersTail=void 0}function PE(n,t){let e=n.consumersTail,i=Bc(n);if(e!==void 0?(t.nextConsumer=e.nextConsumer,e.nextConsumer=t):(t.nextConsumer=void 0,n.consumers=t),t.prevConsumer=e,n.consumersTail=t,!i)for(let o=n.producers;o!==void 0;o=o.nextProducer)PE(o.producer,o)}function JC(n){let t=n.producer,e=n.nextProducer,i=n.nextConsumer,o=n.prevConsumer;if(n.nextConsumer=void 0,n.prevConsumer=void 0,i!==void 0?i.prevConsumer=o:t.consumersTail=o,o!==void 0)o.nextConsumer=i;else if(t.consumers=i,!Bc(t)){let r=t.producers;for(;r!==void 0;)r=JC(r)}return e}function Bc(n){return n.consumerIsAlwaysLive||n.consumers!==void 0}function Kf(n){o6?.(n)}function s6(n,t){let e=t.producersTail;if(e!==void 0){let i=t.producers;do{if(i===n)return!0;if(i===e)break;i=i.nextProducer}while(i!==void 0)}return!1}function Yf(n,t){return Object.is(n,t)}function Zf(n,t){let e=Object.create(a6);e.computation=n,t!==void 0&&(e.equal=t);let i=()=>{if(Qf(e),Fc(e),e.value===Fd)throw e.error;return e.value};return i[ii]=e,Kf(e),i}var qf=Symbol("UNSET"),Hf=Symbol("COMPUTING"),Fd=Symbol("ERRORED"),a6=ae(j({},Lc),{value:qf,dirty:!0,error:null,equal:Yf,kind:"computed",producerMustRecompute(n){return n.value===qf||n.value===Hf},producerRecomputeValue(n){if(n.value===Hf)throw new Error("");let t=n.value;n.value=Hf;let e=zc(n),i,o=!1;try{i=n.computation(),Le(null),o=t!==qf&&t!==Fd&&i!==Fd&&n.equal(t,i)}catch(r){i=Fd,n.error=r}finally{zd(n,e)}if(o){n.value=t;return}n.value=i,n.version++}});function c6(){throw new Error}var OE=c6;function wE(n){OE(n)}function XC(n){OE=n}var l6=null;function ev(n,t){let e=Object.create(Jf);e.value=n,t!==void 0&&(e.equal=t);let i=()=>xE(e);return i[ii]=e,Kf(e),[i,s=>jc(e,s),s=>tv(e,s)]}function xE(n){return Fc(n),n.value}function jc(n,t){ZC()||wE(n),n.equal(n.value,t)||(n.value=t,d6(n))}function tv(n,t){ZC()||wE(n),jc(n,t(n.value))}var Jf=ae(j({},Lc),{equal:Yf,value:void 0,kind:"signal"});function d6(n){n.version++,bE(),YC(n),l6?.(n)}function qe(n){return typeof n=="function"}function Vc(n){let e=n(i=>{Error.call(i),i.stack=new Error().stack});return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}var Xf=Vc(n=>function(e){n(this),this.message=e?`${e.length} errors occurred during unsubscription:
${e.map((i,o)=>`${o+1}) ${i.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=e});function wa(n,t){if(n){let e=n.indexOf(t);0<=e&&n.splice(e,1)}}var Jt=class n{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;let{_parentage:e}=this;if(e)if(this._parentage=null,Array.isArray(e))for(let r of e)r.remove(this);else e.remove(this);let{initialTeardown:i}=this;if(qe(i))try{i()}catch(r){t=r instanceof Xf?r.errors:[r]}let{_finalizers:o}=this;if(o){this._finalizers=null;for(let r of o)try{EE(r)}catch(s){t=t??[],s instanceof Xf?t=[...t,...s.errors]:t.push(s)}}if(t)throw new Xf(t)}}add(t){var e;if(t&&t!==this)if(this.closed)EE(t);else{if(t instanceof n){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=(e=this._finalizers)!==null&&e!==void 0?e:[]).push(t)}}_hasParent(t){let{_parentage:e}=this;return e===t||Array.isArray(e)&&e.includes(t)}_addParent(t){let{_parentage:e}=this;this._parentage=Array.isArray(e)?(e.push(t),e):e?[e,t]:t}_removeParent(t){let{_parentage:e}=this;e===t?this._parentage=null:Array.isArray(e)&&wa(e,t)}remove(t){let{_finalizers:e}=this;e&&wa(e,t),t instanceof n&&t._removeParent(this)}};Jt.EMPTY=(()=>{let n=new Jt;return n.closed=!0,n})();var nv=Jt.EMPTY;function eg(n){return n instanceof Jt||n&&"closed"in n&&qe(n.remove)&&qe(n.add)&&qe(n.unsubscribe)}function EE(n){qe(n)?n():n.unsubscribe()}var So={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Uc={setTimeout(n,t,...e){let{delegate:i}=Uc;return i?.setTimeout?i.setTimeout(n,t,...e):setTimeout(n,t,...e)},clearTimeout(n){let{delegate:t}=Uc;return(t?.clearTimeout||clearTimeout)(n)},delegate:void 0};function tg(n){Uc.setTimeout(()=>{let{onUnhandledError:t}=So;if(t)t(n);else throw n})}function Vd(){}var IE=iv("C",void 0,void 0);function SE(n){return iv("E",void 0,n)}function TE(n){return iv("N",n,void 0)}function iv(n,t,e){return{kind:n,value:t,error:e}}var xa=null;function $c(n){if(So.useDeprecatedSynchronousErrorHandling){let t=!xa;if(t&&(xa={errorThrown:!1,error:null}),n(),t){let{errorThrown:e,error:i}=xa;if(xa=null,e)throw i}}else n()}function DE(n){So.useDeprecatedSynchronousErrorHandling&&xa&&(xa.errorThrown=!0,xa.error=n)}var Ea=class extends Jt{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,eg(t)&&t.add(this)):this.destination=f6}static create(t,e,i){return new To(t,e,i)}next(t){this.isStopped?rv(TE(t),this):this._next(t)}error(t){this.isStopped?rv(SE(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?rv(IE,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},u6=Function.prototype.bind;function ov(n,t){return u6.call(n,t)}var sv=class{constructor(t){this.partialObserver=t}next(t){let{partialObserver:e}=this;if(e.next)try{e.next(t)}catch(i){ng(i)}}error(t){let{partialObserver:e}=this;if(e.error)try{e.error(t)}catch(i){ng(i)}else ng(t)}complete(){let{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(e){ng(e)}}},To=class extends Ea{constructor(t,e,i){super();let o;if(qe(t)||!t)o={next:t??void 0,error:e??void 0,complete:i??void 0};else{let r;this&&So.useDeprecatedNextContext?(r=Object.create(t),r.unsubscribe=()=>this.unsubscribe(),o={next:t.next&&ov(t.next,r),error:t.error&&ov(t.error,r),complete:t.complete&&ov(t.complete,r)}):o=t}this.destination=new sv(o)}};function ng(n){So.useDeprecatedSynchronousErrorHandling?DE(n):tg(n)}function p6(n){throw n}function rv(n,t){let{onStoppedNotification:e}=So;e&&Uc.setTimeout(()=>e(n,t))}var f6={closed:!0,next:Vd,error:p6,complete:Vd};var qc=typeof Symbol=="function"&&Symbol.observable||"@@observable";function $i(n){return n}function av(...n){return cv(n)}function cv(n){return n.length===0?$i:n.length===1?n[0]:function(e){return n.reduce((i,o)=>o(i),e)}}var ve=(()=>{class n{constructor(e){e&&(this._subscribe=e)}lift(e){let i=new n;return i.source=this,i.operator=e,i}subscribe(e,i,o){let r=h6(e)?e:new To(e,i,o);return $c(()=>{let{operator:s,source:a}=this;r.add(s?s.call(r,a):a?this._subscribe(r):this._trySubscribe(r))}),r}_trySubscribe(e){try{return this._subscribe(e)}catch(i){e.error(i)}}forEach(e,i){return i=kE(i),new i((o,r)=>{let s=new To({next:a=>{try{e(a)}catch(c){r(c),s.unsubscribe()}},error:r,complete:o});this.subscribe(s)})}_subscribe(e){var i;return(i=this.source)===null||i===void 0?void 0:i.subscribe(e)}[qc](){return this}pipe(...e){return cv(e)(this)}toPromise(e){return e=kE(e),new e((i,o)=>{let r;this.subscribe(s=>r=s,s=>o(s),()=>i(r))})}}return n.create=t=>new n(t),n})();function kE(n){var t;return(t=n??So.Promise)!==null&&t!==void 0?t:Promise}function g6(n){return n&&qe(n.next)&&qe(n.error)&&qe(n.complete)}function h6(n){return n&&n instanceof Ea||g6(n)&&eg(n)}function lv(n){return qe(n?.lift)}function st(n){return t=>{if(lv(t))return t.lift(function(e){try{return n(e,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function at(n,t,e,i,o){return new dv(n,t,e,i,o)}var dv=class extends Ea{constructor(t,e,i,o,r,s){super(t),this.onFinalize=r,this.shouldUnsubscribe=s,this._next=e?function(a){try{e(a)}catch(c){t.error(c)}}:super._next,this._error=o?function(a){try{o(a)}catch(c){t.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(a){t.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:e}=this;super.unsubscribe(),!e&&((t=this.onFinalize)===null||t===void 0||t.call(this))}}};function Hc(){return st((n,t)=>{let e=null;n._refCount++;let i=at(t,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount){e=null;return}let o=n._connection,r=e;e=null,o&&(!r||o===r)&&o.unsubscribe(),t.unsubscribe()});n.subscribe(i),i.closed||(e=n.connect())})}var Wc=class extends ve{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,lv(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){let t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new Jt;let e=this.getSubject();t.add(this.source.subscribe(at(e,void 0,()=>{this._teardown(),e.complete()},i=>{this._teardown(),e.error(i)},()=>this._teardown()))),t.closed&&(this._connection=null,t=Jt.EMPTY)}return t}refCount(){return Hc()(this)}};var AE=Vc(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var me=(()=>{class n extends ve{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(e){let i=new ig(this,this);return i.operator=e,i}_throwIfClosed(){if(this.closed)throw new AE}next(e){$c(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let i of this.currentObservers)i.next(e)}})}error(e){$c(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=e;let{observers:i}=this;for(;i.length;)i.shift().error(e)}})}complete(){$c(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:e}=this;for(;e.length;)e.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var e;return((e=this.observers)===null||e===void 0?void 0:e.length)>0}_trySubscribe(e){return this._throwIfClosed(),super._trySubscribe(e)}_subscribe(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)}_innerSubscribe(e){let{hasError:i,isStopped:o,observers:r}=this;return i||o?nv:(this.currentObservers=null,r.push(e),new Jt(()=>{this.currentObservers=null,wa(r,e)}))}_checkFinalizedStatuses(e){let{hasError:i,thrownError:o,isStopped:r}=this;i?e.error(o):r&&e.complete()}asObservable(){let e=new ve;return e.source=this,e}}return n.create=(t,e)=>new ig(t,e),n})(),ig=class extends me{constructor(t,e){super(),this.destination=t,this.source=e}next(t){var e,i;(i=(e=this.destination)===null||e===void 0?void 0:e.next)===null||i===void 0||i.call(e,t)}error(t){var e,i;(i=(e=this.destination)===null||e===void 0?void 0:e.error)===null||i===void 0||i.call(e,t)}complete(){var t,e;(e=(t=this.destination)===null||t===void 0?void 0:t.complete)===null||e===void 0||e.call(t)}_subscribe(t){var e,i;return(i=(e=this.source)===null||e===void 0?void 0:e.subscribe(t))!==null&&i!==void 0?i:nv}};var $n=class extends me{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){let e=super._subscribe(t);return!e.closed&&t.next(this._value),e}getValue(){let{hasError:t,thrownError:e,_value:i}=this;if(t)throw e;return this._throwIfClosed(),i}next(t){super.next(this._value=t)}};var Ud={now(){return(Ud.delegate||Date).now()},delegate:void 0};var $d=class extends me{constructor(t=1/0,e=1/0,i=Ud){super(),this._bufferSize=t,this._windowTime=e,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,e)}next(t){let{isStopped:e,_buffer:i,_infiniteTimeWindow:o,_timestampProvider:r,_windowTime:s}=this;e||(i.push(t),!o&&i.push(r.now()+s)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();let e=this._innerSubscribe(t),{_infiniteTimeWindow:i,_buffer:o}=this,r=o.slice();for(let s=0;s<r.length&&!t.closed;s+=i?1:2)t.next(r[s]);return this._checkFinalizedStatuses(t),e}_trimBuffer(){let{_bufferSize:t,_timestampProvider:e,_buffer:i,_infiniteTimeWindow:o}=this,r=(o?1:2)*t;if(t<1/0&&r<i.length&&i.splice(0,i.length-r),!o){let s=e.now(),a=0;for(let c=1;c<i.length&&i[c]<=s;c+=2)a=c;a&&i.splice(0,a+1)}}};var og=class extends Jt{constructor(t,e){super()}schedule(t,e=0){return this}};var qd={setInterval(n,t,...e){let{delegate:i}=qd;return i?.setInterval?i.setInterval(n,t,...e):setInterval(n,t,...e)},clearInterval(n){let{delegate:t}=qd;return(t?.clearInterval||clearInterval)(n)},delegate:void 0};var Gc=class extends og{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){var i;if(this.closed)return this;this.state=t;let o=this.id,r=this.scheduler;return o!=null&&(this.id=this.recycleAsyncId(r,o,e)),this.pending=!0,this.delay=e,this.id=(i=this.id)!==null&&i!==void 0?i:this.requestAsyncId(r,this.id,e),this}requestAsyncId(t,e,i=0){return qd.setInterval(t.flush.bind(t,this),i)}recycleAsyncId(t,e,i=0){if(i!=null&&this.delay===i&&this.pending===!1)return e;e!=null&&qd.clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let i=this._execute(t,e);if(i)return i;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let i=!1,o;try{this.work(t)}catch(r){i=!0,o=r||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),o}unsubscribe(){if(!this.closed){let{id:t,scheduler:e}=this,{actions:i}=e;this.work=this.state=this.scheduler=null,this.pending=!1,wa(i,this),t!=null&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null,super.unsubscribe()}}};var Qc=class n{constructor(t,e=n.now){this.schedulerActionCtor=t,this.now=e}schedule(t,e=0,i){return new this.schedulerActionCtor(this,t).schedule(i,e)}};Qc.now=Ud.now;var Kc=class extends Qc{constructor(t,e=Qc.now){super(t,e),this.actions=[],this._active=!1}flush(t){let{actions:e}=this;if(this._active){e.push(t);return}let i;this._active=!0;do if(i=t.execute(t.state,t.delay))break;while(t=e.shift());if(this._active=!1,i){for(;t=e.shift();)t.unsubscribe();throw i}}};var uv=new Kc(Gc);var rg=class extends Gc{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,i=0){return i!=null&&i>0||i==null&&this.delay>0?super.requestAsyncId(t,e,i):(t.flush(this),0)}};var sg=class extends Kc{};var pv=new sg(rg);var Ti=new ve(n=>n.complete());function RE(n){return n&&qe(n.schedule)}function NE(n){return n[n.length-1]}function ag(n){return qe(NE(n))?n.pop():void 0}function ws(n){return RE(NE(n))?n.pop():void 0}function cg(n,t){var e={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&t.indexOf(i)<0&&(e[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(n);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(n,i[o])&&(e[i[o]]=n[i[o]]);return e}function FE(n,t,e,i){function o(r){return r instanceof e?r:new e(function(s){s(r)})}return new(e||(e=Promise))(function(r,s){function a(C){try{u(i.next(C))}catch(v){s(v)}}function c(C){try{u(i.throw(C))}catch(v){s(v)}}function u(C){C.done?r(C.value):o(C.value).then(a,c)}u((i=i.apply(n,t||[])).next())})}function LE(n){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&n[t],i=0;if(e)return e.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&i>=n.length&&(n=void 0),{value:n&&n[i++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ia(n){return this instanceof Ia?(this.v=n,this):new Ia(n)}function zE(n,t,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=e.apply(n,t||[]),o,r=[];return o=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),o[Symbol.asyncIterator]=function(){return this},o;function s(w){return function(S){return Promise.resolve(S).then(w,v)}}function a(w,S){i[w]&&(o[w]=function(F){return new Promise(function(N,W){r.push([w,F,N,W])>1||c(w,F)})},S&&(o[w]=S(o[w])))}function c(w,S){try{u(i[w](S))}catch(F){P(r[0][3],F)}}function u(w){w.value instanceof Ia?Promise.resolve(w.value.v).then(C,v):P(r[0][2],w)}function C(w){c("next",w)}function v(w){c("throw",w)}function P(w,S){w(S),r.shift(),r.length&&c(r[0][0],r[0][1])}}function BE(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=n[Symbol.asyncIterator],e;return t?t.call(n):(n=typeof LE=="function"?LE(n):n[Symbol.iterator](),e={},i("next"),i("throw"),i("return"),e[Symbol.asyncIterator]=function(){return this},e);function i(r){e[r]=n[r]&&function(s){return new Promise(function(a,c){s=n[r](s),o(a,c,s.done,s.value)})}}function o(r,s,a,c){Promise.resolve(c).then(function(u){r({value:u,done:a})},s)}}var lg=n=>n&&typeof n.length=="number"&&typeof n!="function";function dg(n){return qe(n?.then)}function ug(n){return qe(n[qc])}function pg(n){return Symbol.asyncIterator&&qe(n?.[Symbol.asyncIterator])}function fg(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function m6(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var gg=m6();function hg(n){return qe(n?.[gg])}function mg(n){return zE(this,arguments,function*(){let e=n.getReader();try{for(;;){let{value:i,done:o}=yield Ia(e.read());if(o)return yield Ia(void 0);yield yield Ia(i)}}finally{e.releaseLock()}})}function _g(n){return qe(n?.getReader)}function Gt(n){if(n instanceof ve)return n;if(n!=null){if(ug(n))return _6(n);if(lg(n))return C6(n);if(dg(n))return v6(n);if(pg(n))return jE(n);if(hg(n))return b6(n);if(_g(n))return y6(n)}throw fg(n)}function _6(n){return new ve(t=>{let e=n[qc]();if(qe(e.subscribe))return e.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function C6(n){return new ve(t=>{for(let e=0;e<n.length&&!t.closed;e++)t.next(n[e]);t.complete()})}function v6(n){return new ve(t=>{n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,tg)})}function b6(n){return new ve(t=>{for(let e of n)if(t.next(e),t.closed)return;t.complete()})}function jE(n){return new ve(t=>{M6(n,t).catch(e=>t.error(e))})}function y6(n){return jE(mg(n))}function M6(n,t){var e,i,o,r;return FE(this,void 0,void 0,function*(){try{for(e=BE(n);i=yield e.next(),!i.done;){let s=i.value;if(t.next(s),t.closed)return}}catch(s){o={error:s}}finally{try{i&&!i.done&&(r=e.return)&&(yield r.call(e))}finally{if(o)throw o.error}}t.complete()})}function Di(n,t,e,i=0,o=!1){let r=t.schedule(function(){e(),o?n.add(this.schedule(null,i)):this.unsubscribe()},i);if(n.add(r),!o)return r}function xs(n,t=0){return st((e,i)=>{e.subscribe(at(i,o=>Di(i,n,()=>i.next(o),t),()=>Di(i,n,()=>i.complete(),t),o=>Di(i,n,()=>i.error(o),t)))})}function Es(n,t=0){return st((e,i)=>{i.add(n.schedule(()=>e.subscribe(i),t))})}function VE(n,t){return Gt(n).pipe(Es(t),xs(t))}function UE(n,t){return Gt(n).pipe(Es(t),xs(t))}function $E(n,t){return new ve(e=>{let i=0;return t.schedule(function(){i===n.length?e.complete():(e.next(n[i++]),e.closed||this.schedule())})})}function qE(n,t){return new ve(e=>{let i;return Di(e,t,()=>{i=n[gg](),Di(e,t,()=>{let o,r;try{({value:o,done:r}=i.next())}catch(s){e.error(s);return}r?e.complete():e.next(o)},0,!0)}),()=>qe(i?.return)&&i.return()})}function Cg(n,t){if(!n)throw new Error("Iterable cannot be null");return new ve(e=>{Di(e,t,()=>{let i=n[Symbol.asyncIterator]();Di(e,t,()=>{i.next().then(o=>{o.done?e.complete():e.next(o.value)})},0,!0)})})}function HE(n,t){return Cg(mg(n),t)}function WE(n,t){if(n!=null){if(ug(n))return VE(n,t);if(lg(n))return $E(n,t);if(dg(n))return UE(n,t);if(pg(n))return Cg(n,t);if(hg(n))return qE(n,t);if(_g(n))return HE(n,t)}throw fg(n)}function X(n,t){return t?WE(n,t):Gt(n)}function Q(...n){let t=ws(n);return X(n,t)}function Yc(n,t){let e=qe(n)?n:()=>n,i=o=>o.error(e());return new ve(t?o=>t.schedule(i,0,o):i)}function Do(n){return!!n&&(n instanceof ve||qe(n.lift)&&qe(n.subscribe))}var ko=Vc(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function Is(n,t){let e=typeof t=="object";return new Promise((i,o)=>{let r=new To({next:s=>{i(s),r.unsubscribe()},error:o,complete:()=>{e?i(t.defaultValue):o(new ko)}});n.subscribe(r)})}function H(n,t){return st((e,i)=>{let o=0;e.subscribe(at(i,r=>{i.next(n.call(t,r,o++))}))})}var{isArray:P6}=Array;function O6(n,t){return P6(t)?n(...t):n(t)}function vg(n){return H(t=>O6(n,t))}var{isArray:w6}=Array,{getPrototypeOf:x6,prototype:E6,keys:I6}=Object;function bg(n){if(n.length===1){let t=n[0];if(w6(t))return{args:t,keys:null};if(S6(t)){let e=I6(t);return{args:e.map(i=>t[i]),keys:e}}}return{args:n,keys:null}}function S6(n){return n&&typeof n=="object"&&x6(n)===E6}function yg(n,t){return n.reduce((e,i,o)=>(e[i]=t[o],e),{})}function Hd(...n){let t=ws(n),e=ag(n),{args:i,keys:o}=bg(n);if(i.length===0)return X([],t);let r=new ve(T6(i,t,o?s=>yg(o,s):$i));return e?r.pipe(vg(e)):r}function T6(n,t,e=$i){return i=>{GE(t,()=>{let{length:o}=n,r=new Array(o),s=o,a=o;for(let c=0;c<o;c++)GE(t,()=>{let u=X(n[c],t),C=!1;u.subscribe(at(i,v=>{r[c]=v,C||(C=!0,a--),a||i.next(e(r.slice()))},()=>{--s||i.complete()}))},i)},i)}}function GE(n,t,e){n?Di(e,n,t):t()}function QE(n,t,e,i,o,r,s,a){let c=[],u=0,C=0,v=!1,P=()=>{v&&!c.length&&!u&&t.complete()},w=F=>u<i?S(F):c.push(F),S=F=>{r&&t.next(F),u++;let N=!1;Gt(e(F,C++)).subscribe(at(t,W=>{o?.(W),r?w(W):t.next(W)},()=>{N=!0},void 0,()=>{if(N)try{for(u--;c.length&&u<i;){let W=c.shift();s?Di(t,s,()=>S(W)):S(W)}P()}catch(W){t.error(W)}}))};return n.subscribe(at(t,w,()=>{v=!0,P()})),()=>{a?.()}}function dn(n,t,e=1/0){return qe(t)?dn((i,o)=>H((r,s)=>t(i,r,o,s))(Gt(n(i,o))),e):(typeof t=="number"&&(e=t),st((i,o)=>QE(i,o,n,e)))}function ar(n=1/0){return dn($i,n)}function KE(){return ar(1)}function Ur(...n){return KE()(X(n,ws(n)))}function re(n){return new ve(t=>{Gt(n()).subscribe(t)})}function Rt(...n){let t=ag(n),{args:e,keys:i}=bg(n),o=new ve(r=>{let{length:s}=e;if(!s){r.complete();return}let a=new Array(s),c=s,u=s;for(let C=0;C<s;C++){let v=!1;Gt(e[C]).subscribe(at(r,P=>{v||(v=!0,u--),a[C]=P},()=>c--,void 0,()=>{(!c||!v)&&(u||r.next(i?yg(i,a):a),r.complete())}))}});return t?o.pipe(vg(t)):o}function oi(n,t){return st((e,i)=>{let o=0;e.subscribe(at(i,r=>n.call(t,r,o++)&&i.next(r)))})}function ut(n){return st((t,e)=>{let i=null,o=!1,r;i=t.subscribe(at(e,void 0,void 0,s=>{r=Gt(n(s,ut(n)(t))),i?(i.unsubscribe(),i=null,r.subscribe(e)):o=!0})),o&&(i.unsubscribe(),i=null,r.subscribe(e))})}function YE(n,t,e,i,o){return(r,s)=>{let a=e,c=t,u=0;r.subscribe(at(s,C=>{let v=u++;c=a?n(c,C,v):(a=!0,C),i&&s.next(c)},o&&(()=>{a&&s.next(c),s.complete()})))}}function oo(n,t){return qe(t)?dn(n,t,1):dn(n,1)}function Ss(n){return st((t,e)=>{let i=!1;t.subscribe(at(e,o=>{i=!0,e.next(o)},()=>{i||e.next(n),e.complete()}))})}function Et(n){return n<=0?()=>Ti:st((t,e)=>{let i=0;t.subscribe(at(e,o=>{++i<=n&&(e.next(o),n<=i&&e.complete())}))})}function Mg(n=D6){return st((t,e)=>{let i=!1;t.subscribe(at(e,o=>{i=!0,e.next(o)},()=>i?e.complete():e.error(n())))})}function D6(){return new ko}function Ts(n){return st((t,e)=>{try{t.subscribe(e)}finally{e.add(n)}})}function $r(n,t){let e=arguments.length>=2;return i=>i.pipe(n?oi((o,r)=>n(o,r,i)):$i,Et(1),e?Ss(t):Mg(()=>new ko))}function Zc(n){return n<=0?()=>Ti:st((t,e)=>{let i=[];t.subscribe(at(e,o=>{i.push(o),n<i.length&&i.shift()},()=>{for(let o of i)e.next(o);e.complete()},void 0,()=>{i=null}))})}function fv(n,t){let e=arguments.length>=2;return i=>i.pipe(n?oi((o,r)=>n(o,r,i)):$i,Zc(1),e?Ss(t):Mg(()=>new ko))}function gv(n,t){return st(YE(n,t,arguments.length>=2,!0))}function ZE(n={}){let{connector:t=()=>new me,resetOnError:e=!0,resetOnComplete:i=!0,resetOnRefCountZero:o=!0}=n;return r=>{let s,a,c,u=0,C=!1,v=!1,P=()=>{a?.unsubscribe(),a=void 0},w=()=>{P(),s=c=void 0,C=v=!1},S=()=>{let F=s;w(),F?.unsubscribe()};return st((F,N)=>{u++,!v&&!C&&P();let W=c=c??t();N.add(()=>{u--,u===0&&!v&&!C&&(a=hv(S,o))}),W.subscribe(N),!s&&u>0&&(s=new To({next:Ce=>W.next(Ce),error:Ce=>{v=!0,P(),a=hv(w,e,Ce),W.error(Ce)},complete:()=>{C=!0,P(),a=hv(w,i),W.complete()}}),Gt(F).subscribe(s))})(r)}}function hv(n,t,...e){if(t===!0){n();return}if(t===!1)return;let i=new To({next:()=>{i.unsubscribe(),n()}});return Gt(t(...e)).subscribe(i)}function Pg(n,t,e){let i,o=!1;return n&&typeof n=="object"?{bufferSize:i=1/0,windowTime:t=1/0,refCount:o=!1,scheduler:e}=n:i=n??1/0,ZE({connector:()=>new $d(i,t,e),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:o})}function mv(...n){let t=ws(n);return st((e,i)=>{(t?Ur(n,e,t):Ur(n,e)).subscribe(i)})}function be(n,t){return st((e,i)=>{let o=null,r=0,s=!1,a=()=>s&&!o&&i.complete();e.subscribe(at(i,c=>{o?.unsubscribe();let u=0,C=r++;Gt(n(c,C)).subscribe(o=at(i,v=>i.next(t?t(c,v,C,u++):v),()=>{o=null,a()}))},()=>{s=!0,a()}))})}function ne(n){return st((t,e)=>{Gt(n).subscribe(at(e,()=>e.complete(),Vd)),!e.closed&&t.subscribe(e)})}function Nn(n,t,e){let i=qe(n)||t||e?{next:n,error:t,complete:e}:n;return i?st((o,r)=>{var s;(s=i.subscribe)===null||s===void 0||s.call(i);let a=!0;o.subscribe(at(r,c=>{var u;(u=i.next)===null||u===void 0||u.call(i,c),r.next(c)},()=>{var c;a=!1,(c=i.complete)===null||c===void 0||c.call(i),r.complete()},c=>{var u;a=!1,(u=i.error)===null||u===void 0||u.call(i,c),r.error(c)},()=>{var c,u;a&&((c=i.unsubscribe)===null||c===void 0||c.call(i)),(u=i.finalize)===null||u===void 0||u.call(i)}))}):$i}function JE(n){let t=Le(null);try{return n()}finally{Le(t)}}var Hr=class{full;major;minor;patch;constructor(t){this.full=t;let e=t.split(".");this.major=e[0],this.minor=e[1],this.patch=e.slice(2).join(".")}},Sv=new Hr("20.3.15");var Eg="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",G=class extends Error{code;constructor(t,e){super(cr(t,e)),this.code=t}};function k6(n){return`NG0${Math.abs(n)}`}function cr(n,t){return`${k6(n)}${t?": "+t:""}`}var ro=globalThis;function wt(n){for(let t in n)if(n[t]===wt)return t;throw Error("")}function t2(n,t){for(let e in t)t.hasOwnProperty(e)&&!n.hasOwnProperty(e)&&(n[e]=t[e])}function Wr(n){if(typeof n=="string")return n;if(Array.isArray(n))return`[${n.map(Wr).join(", ")}]`;if(n==null)return""+n;let t=n.overriddenName||n.name;if(t)return`${t}`;let e=n.toString();if(e==null)return""+e;let i=e.indexOf(`
`);return i>=0?e.slice(0,i):e}function Ig(n,t){return n?t?`${n} ${t}`:n:t||""}var A6=wt({__forward_ref__:wt});function Ln(n){return n.__forward_ref__=Ln,n.toString=function(){return Wr(this())},n}function qn(n){return Tv(n)?n():n}function Tv(n){return typeof n=="function"&&n.hasOwnProperty(A6)&&n.__forward_ref__===Ln}function K(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Hn(n){return{providers:n.providers||[],imports:n.imports||[]}}function Kd(n){return R6(n,Sg)}function Dv(n){return Kd(n)!==null}function R6(n,t){return n.hasOwnProperty(t)&&n[t]||null}function N6(n){let t=n?.[Sg]??null;return t||null}function Cv(n){return n&&n.hasOwnProperty(wg)?n[wg]:null}var Sg=wt({\u0275prov:wt}),wg=wt({\u0275inj:wt}),oe=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(t,e){this._desc=t,this.\u0275prov=void 0,typeof e=="number"?this.__NG_ELEMENT_ID__=e:e!==void 0&&(this.\u0275prov=K({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function kv(n){return n&&!!n.\u0275providers}var Av=wt({\u0275cmp:wt}),Rv=wt({\u0275dir:wt}),Nv=wt({\u0275pipe:wt}),Lv=wt({\u0275mod:wt}),Gd=wt({\u0275fac:wt}),Aa=wt({__NG_ELEMENT_ID__:wt}),XE=wt({__NG_ENV_ID__:wt});function Ci(n){return typeof n=="string"?n:n==null?"":String(n)}function n2(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():Ci(n)}var i2=wt({ngErrorCode:wt}),L6=wt({ngErrorMessage:wt}),F6=wt({ngTokenPath:wt});function Fv(n,t){return o2("",-200,t)}function Tg(n,t){throw new G(-201,!1)}function o2(n,t,e){let i=new G(t,n);return i[i2]=t,i[L6]=n,e&&(i[F6]=e),i}function z6(n){return n[i2]}var vv;function r2(){return vv}function mi(n){let t=vv;return vv=n,t}function zv(n,t,e){let i=Kd(n);if(i&&i.providedIn=="root")return i.value===void 0?i.value=i.factory():i.value;if(e&8)return null;if(t!==void 0)return t;Tg(n,"Injector")}var B6={},Sa=B6,bv="__NG_DI_FLAG__",yv=class{injector;constructor(t){this.injector=t}retrieve(t,e){let i=Ta(e)||0;try{return this.injector.get(t,i&8?null:Sa,i)}catch(o){if(Nc(o))return o;throw o}}};function j6(n,t=0){let e=Uf();if(e===void 0)throw new G(-203,!1);if(e===null)return zv(n,void 0,t);{let i=V6(t),o=e.retrieve(n,i);if(Nc(o)){if(i.optional)return null;throw o}return o}}function Z(n,t=0){return(r2()||j6)(qn(n),t)}function U(n,t){return Z(n,Ta(t))}function Ta(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function V6(n){return{optional:!!(n&8),host:!!(n&1),self:!!(n&2),skipSelf:!!(n&4)}}function Mv(n){let t=[];for(let e=0;e<n.length;e++){let i=qn(n[e]);if(Array.isArray(i)){if(i.length===0)throw new G(900,!1);let o,r=0;for(let s=0;s<i.length;s++){let a=i[s],c=U6(a);typeof c=="number"?c===-1?o=a.token:r|=c:o=a}t.push(Z(o,r))}else t.push(Z(i))}return t}function s2(n,t){return n[bv]=t,n.prototype[bv]=t,n}function U6(n){return n[bv]}function Ds(n,t){let e=n.hasOwnProperty(Gd);return e?n[Gd]:null}function a2(n,t,e){if(n.length!==t.length)return!1;for(let i=0;i<n.length;i++){let o=n[i],r=t[i];if(e&&(o=e(o),r=e(r)),r!==o)return!1}return!0}function c2(n){return n.flat(Number.POSITIVE_INFINITY)}function Dg(n,t){n.forEach(e=>Array.isArray(e)?Dg(e,t):t(e))}function Bv(n,t,e){t>=n.length?n.push(e):n.splice(t,0,e)}function Yd(n,t){return t>=n.length-1?n.pop():n.splice(t,1)[0]}function l2(n,t,e,i){let o=n.length;if(o==t)n.push(e,i);else if(o===1)n.push(i,n[0]),n[0]=e;else{for(o--,n.push(n[o-1],n[o]);o>t;){let r=o-2;n[o]=n[r],o--}n[t]=e,n[t+1]=i}}function kg(n,t,e){let i=Xc(n,t);return i>=0?n[i|1]=e:(i=~i,l2(n,i,t,e)),i}function Ag(n,t){let e=Xc(n,t);if(e>=0)return n[e|1]}function Xc(n,t){return $6(n,t,1)}function $6(n,t,e){let i=0,o=n.length>>e;for(;o!==i;){let r=i+(o-i>>1),s=n[r<<e];if(t===s)return r<<e;s>t?o=r:i=r+1}return~(o<<e)}var As={},_i=[],Qr=new oe(""),jv=new oe("",-1),Vv=new oe(""),Qd=class{get(t,e=Sa){if(e===Sa){let o=o2("",-201);throw o.name="\u0275NotFound",o}return e}};function Uv(n){return n[Lv]||null}function Kr(n){return n[Av]||null}function $v(n){return n[Rv]||null}function d2(n){return n[Nv]||null}function Wn(n){return{\u0275providers:n}}function Rg(...n){return{\u0275providers:qv(!0,n),\u0275fromNgModule:!0}}function qv(n,...t){let e=[],i=new Set,o,r=s=>{e.push(s)};return Dg(t,s=>{let a=s;xg(a,r,[],i)&&(o||=[],o.push(a))}),o!==void 0&&u2(o,r),e}function u2(n,t){for(let e=0;e<n.length;e++){let{ngModule:i,providers:o}=n[e];Hv(o,r=>{t(r,i)})}}function xg(n,t,e,i){if(n=qn(n),!n)return!1;let o=null,r=Cv(n),s=!r&&Kr(n);if(!r&&!s){let c=n.ngModule;if(r=Cv(c),r)o=c;else return!1}else{if(s&&!s.standalone)return!1;o=n}let a=i.has(o);if(s){if(a)return!1;if(i.add(o),s.dependencies){let c=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let u of c)xg(u,t,e,i)}}else if(r){if(r.imports!=null&&!a){i.add(o);let u;try{Dg(r.imports,C=>{xg(C,t,e,i)&&(u||=[],u.push(C))})}finally{}u!==void 0&&u2(u,t)}if(!a){let u=Ds(o)||(()=>new o);t({provide:o,useFactory:u,deps:_i},o),t({provide:Vv,useValue:o,multi:!0},o),t({provide:Qr,useValue:()=>Z(o),multi:!0},o)}let c=r.providers;if(c!=null&&!a){let u=n;Hv(c,C=>{t(C,u)})}}else return!1;return o!==n&&n.providers!==void 0}function Hv(n,t){for(let e of n)kv(e)&&(e=e.\u0275providers),Array.isArray(e)?Hv(e,t):t(e)}var q6=wt({provide:String,useValue:wt});function p2(n){return n!==null&&typeof n=="object"&&q6 in n}function H6(n){return!!(n&&n.useExisting)}function W6(n){return!!(n&&n.useFactory)}function Da(n){return typeof n=="function"}function f2(n){return!!n.useClass}var Zd=new oe(""),Og={},e2={},_v;function Jd(){return _v===void 0&&(_v=new Qd),_v}var Qt=class{},ka=class extends Qt{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(t,e,i,o){super(),this.parent=e,this.source=i,this.scopes=o,Ov(t,s=>this.processProvider(s)),this.records.set(jv,Jc(void 0,this)),o.has("environment")&&this.records.set(Qt,Jc(void 0,this));let r=this.records.get(Zd);r!=null&&typeof r.value=="string"&&this.scopes.add(r.value),this.injectorDefTypes=new Set(this.get(Vv,_i,{self:!0}))}retrieve(t,e){let i=Ta(e)||0;try{return this.get(t,Sa,i)}catch(o){if(Nc(o))return o;throw o}}destroy(){Wd(this),this._destroyed=!0;let t=Le(null);try{for(let i of this._ngOnDestroyHooks)i.ngOnDestroy();let e=this._onDestroyHooks;this._onDestroyHooks=[];for(let i of e)i()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),Le(t)}}onDestroy(t){return Wd(this),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){Wd(this);let e=sr(this),i=mi(void 0),o;try{return t()}finally{sr(e),mi(i)}}get(t,e=Sa,i){if(Wd(this),t.hasOwnProperty(XE))return t[XE](this);let o=Ta(i),r,s=sr(this),a=mi(void 0);try{if(!(o&4)){let u=this.records.get(t);if(u===void 0){let C=Z6(t)&&Kd(t);C&&this.injectableDefInScope(C)?u=Jc(Pv(t),Og):u=null,this.records.set(t,u)}if(u!=null)return this.hydrate(t,u,o)}let c=o&2?Jd():this.parent;return e=o&8&&e===Sa?null:e,c.get(t,e)}catch(c){let u=z6(c);throw u===-200||u===-201?new G(u,null):c}finally{mi(a),sr(s)}}resolveInjectorInitializers(){let t=Le(null),e=sr(this),i=mi(void 0),o;try{let r=this.get(Qr,_i,{self:!0});for(let s of r)s()}finally{sr(e),mi(i),Le(t)}}toString(){let t=[],e=this.records;for(let i of e.keys())t.push(Wr(i));return`R3Injector[${t.join(", ")}]`}processProvider(t){t=qn(t);let e=Da(t)?t:qn(t&&t.provide),i=Q6(t);if(!Da(t)&&t.multi===!0){let o=this.records.get(e);o||(o=Jc(void 0,Og,!0),o.factory=()=>Mv(o.multi),this.records.set(e,o)),e=t,o.multi.push(t)}this.records.set(e,i)}hydrate(t,e,i){let o=Le(null);try{if(e.value===e2)throw Fv(Wr(t));return e.value===Og&&(e.value=e2,e.value=e.factory(void 0,i)),typeof e.value=="object"&&e.value&&Y6(e.value)&&this._ngOnDestroyHooks.add(e.value),e.value}finally{Le(o)}}injectableDefInScope(t){if(!t.providedIn)return!1;let e=qn(t.providedIn);return typeof e=="string"?e==="any"||this.scopes.has(e):this.injectorDefTypes.has(e)}removeOnDestroy(t){let e=this._onDestroyHooks.indexOf(t);e!==-1&&this._onDestroyHooks.splice(e,1)}};function Pv(n){let t=Kd(n),e=t!==null?t.factory:Ds(n);if(e!==null)return e;if(n instanceof oe)throw new G(204,!1);if(n instanceof Function)return G6(n);throw new G(204,!1)}function G6(n){if(n.length>0)throw new G(204,!1);let e=N6(n);return e!==null?()=>e.factory(n):()=>new n}function Q6(n){if(p2(n))return Jc(void 0,n.useValue);{let t=Wv(n);return Jc(t,Og)}}function Wv(n,t,e){let i;if(Da(n)){let o=qn(n);return Ds(o)||Pv(o)}else if(p2(n))i=()=>qn(n.useValue);else if(W6(n))i=()=>n.useFactory(...Mv(n.deps||[]));else if(H6(n))i=(o,r)=>Z(qn(n.useExisting),r!==void 0&&r&8?8:void 0);else{let o=qn(n&&(n.useClass||n.provide));if(K6(n))i=()=>new o(...Mv(n.deps));else return Ds(o)||Pv(o)}return i}function Wd(n){if(n.destroyed)throw new G(205,!1)}function Jc(n,t,e=!1){return{factory:n,value:t,multi:e?[]:void 0}}function K6(n){return!!n.deps}function Y6(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function Z6(n){return typeof n=="function"||typeof n=="object"&&n.ngMetadataName==="InjectionToken"}function Ov(n,t){for(let e of n)Array.isArray(e)?Ov(e,t):e&&kv(e)?Ov(e.\u0275providers,t):t(e)}function Y(n,t){let e;n instanceof ka?(Wd(n),e=n):e=new yv(n);let i,o=sr(e),r=mi(void 0);try{return t()}finally{sr(o),mi(r)}}function g2(){return r2()!==void 0||Uf()!=null}var Ro=0,Ee=1,Fe=2,Sn=3,so=4,ao=5,el=6,tl=7,un=8,Yr=9,lr=10,Vt=11,nl=12,Gv=13,Ra=14,qi=15,Rs=16,Na=17,dr=18,Xd=19,Qv=20,qr=21,Ng=22,eu=23,Hi=24,La=25,Fa=26,Xt=27,h2=1,Kv=6,Ns=7,tu=8,za=9,en=10;function ur(n){return Array.isArray(n)&&typeof n[h2]=="object"}function No(n){return Array.isArray(n)&&n[h2]===!0}function Yv(n){return(n.flags&4)!==0}function Ls(n){return n.componentOffset>-1}function nu(n){return(n.flags&1)===1}function pr(n){return!!n.template}function il(n){return(n[Fe]&512)!==0}function Ba(n){return(n[Fe]&256)===256}var Zv="svg",m2="math";function co(n){for(;Array.isArray(n);)n=n[Ro];return n}function Jv(n,t){return co(t[n])}function Lo(n,t){return co(t[n.index])}function iu(n,t){return n.data[t]}function Lg(n,t){return n[t]}function Xv(n,t,e,i){e>=n.data.length&&(n.data[e]=null,n.blueprint[e]=null),t[e]=i}function lo(n,t){let e=t[n];return ur(e)?e:e[Ro]}function _2(n){return(n[Fe]&4)===4}function Fg(n){return(n[Fe]&128)===128}function C2(n){return No(n[Sn])}function uo(n,t){return t==null?null:n[t]}function eb(n){n[Na]=0}function tb(n){n[Fe]&1024||(n[Fe]|=1024,Fg(n)&&ol(n))}function v2(n,t){for(;n>0;)t=t[Ra],n--;return t}function ou(n){return!!(n[Fe]&9216||n[Hi]?.dirty)}function zg(n){n[lr].changeDetectionScheduler?.notify(8),n[Fe]&64&&(n[Fe]|=1024),ou(n)&&ol(n)}function ol(n){n[lr].changeDetectionScheduler?.notify(0);let t=ks(n);for(;t!==null&&!(t[Fe]&8192||(t[Fe]|=8192,!Fg(t)));)t=ks(t)}function nb(n,t){if(Ba(n))throw new G(911,!1);n[qr]===null&&(n[qr]=[]),n[qr].push(t)}function b2(n,t){if(n[qr]===null)return;let e=n[qr].indexOf(t);e!==-1&&n[qr].splice(e,1)}function ks(n){let t=n[Sn];return No(t)?t[Sn]:t}function ib(n){return n[tl]??=[]}function ob(n){return n.cleanup??=[]}function y2(n,t,e,i){let o=ib(t);o.push(e),n.firstCreatePass&&ob(n).push(i,o.length-1)}var Ye={lFrame:A2(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var wv=!1;function M2(){return Ye.lFrame.elementDepthCount}function P2(){Ye.lFrame.elementDepthCount++}function rb(){Ye.lFrame.elementDepthCount--}function sb(){return Ye.bindingsEnabled}function O2(){return Ye.skipHydrationRootTNode!==null}function ab(n){return Ye.skipHydrationRootTNode===n}function cb(){Ye.skipHydrationRootTNode=null}function Ie(){return Ye.lFrame.lView}function pn(){return Ye.lFrame.tView}function $(n){return Ye.lFrame.contextLView=n,n[un]}function q(n){return Ye.lFrame.contextLView=null,n}function Tn(){let n=lb();for(;n!==null&&n.type===64;)n=n.parent;return n}function lb(){return Ye.lFrame.currentTNode}function w2(){let n=Ye.lFrame,t=n.currentTNode;return n.isParent?t:t.parent}function rl(n,t){let e=Ye.lFrame;e.currentTNode=n,e.isParent=t}function db(){return Ye.lFrame.isParent}function x2(){Ye.lFrame.isParent=!1}function ub(){return wv}function pb(n){let t=wv;return wv=n,t}function ja(){let n=Ye.lFrame,t=n.bindingRootIndex;return t===-1&&(t=n.bindingRootIndex=n.tView.bindingStartIndex),t}function Bg(){return Ye.lFrame.bindingIndex}function E2(n){return Ye.lFrame.bindingIndex=n}function Fs(){return Ye.lFrame.bindingIndex++}function sl(n){let t=Ye.lFrame,e=t.bindingIndex;return t.bindingIndex=t.bindingIndex+n,e}function I2(){return Ye.lFrame.inI18n}function S2(n,t){let e=Ye.lFrame;e.bindingIndex=e.bindingRootIndex=n,jg(t)}function T2(){return Ye.lFrame.currentDirectiveIndex}function jg(n){Ye.lFrame.currentDirectiveIndex=n}function D2(n){let t=Ye.lFrame.currentDirectiveIndex;return t===-1?null:n[t]}function fb(){return Ye.lFrame.currentQueryIndex}function Vg(n){Ye.lFrame.currentQueryIndex=n}function J6(n){let t=n[Ee];return t.type===2?t.declTNode:t.type===1?n[ao]:null}function gb(n,t,e){if(e&4){let o=t,r=n;for(;o=o.parent,o===null&&!(e&1);)if(o=J6(r),o===null||(r=r[Ra],o.type&10))break;if(o===null)return!1;t=o,n=r}let i=Ye.lFrame=k2();return i.currentTNode=t,i.lView=n,!0}function Ug(n){let t=k2(),e=n[Ee];Ye.lFrame=t,t.currentTNode=e.firstChild,t.lView=n,t.tView=e,t.contextLView=n,t.bindingIndex=e.bindingStartIndex,t.inI18n=!1}function k2(){let n=Ye.lFrame,t=n===null?null:n.child;return t===null?A2(n):t}function A2(n){let t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=t),t}function R2(){let n=Ye.lFrame;return Ye.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var hb=R2;function $g(){let n=R2();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function N2(n){return(Ye.lFrame.contextLView=v2(n,Ye.lFrame.contextLView))[un]}function po(){return Ye.lFrame.selectedIndex}function zs(n){Ye.lFrame.selectedIndex=n}function qg(){let n=Ye.lFrame;return iu(n.tView,n.selectedIndex)}function Hg(){Ye.lFrame.currentNamespace=Zv}function Wg(){X6()}function X6(){Ye.lFrame.currentNamespace=null}function L2(){return Ye.lFrame.currentNamespace}var F2=!0;function Gg(){return F2}function Qg(n){F2=n}function xv(n,t=null,e=null,i){let o=mb(n,t,e,i);return o.resolveInjectorInitializers(),o}function mb(n,t=null,e=null,i,o=new Set){let r=[e||_i,Rg(n)];return i=i||(typeof n=="object"?void 0:Wr(n)),new ka(r,t||Jd(),i||null,o)}var ze=class n{static THROW_IF_NOT_FOUND=Sa;static NULL=new Qd;static create(t,e){if(Array.isArray(t))return xv({name:""},e,t,"");{let i=t.name??"";return xv({name:i},t.parent,t.providers,i)}}static \u0275prov=K({token:n,providedIn:"any",factory:()=>Z(jv)});static __NG_ELEMENT_ID__=-1},Ut=new oe(""),fo=(()=>{class n{static __NG_ELEMENT_ID__=ez;static __NG_ENV_ID__=e=>e}return n})(),Ev=class extends fo{_lView;constructor(t){super(),this._lView=t}get destroyed(){return Ba(this._lView)}onDestroy(t){let e=this._lView;return nb(e,t),()=>b2(e,t)}};function ez(){return new Ev(Ie())}var Ao=class{_console=console;handleError(t){this._console.error("ERROR",t)}},ki=new oe("",{providedIn:"root",factory:()=>{let n=U(Qt),t;return e=>{n.destroyed&&!t?setTimeout(()=>{throw e}):(t??=n.get(Ao),t.handleError(e))}}}),z2={provide:Qr,useValue:()=>void U(Ao),multi:!0};function _b(n){return typeof n=="function"&&n[ii]!==void 0}function Ai(n,t){let[e,i,o]=ev(n,t?.equal),r=e,s=r[ii];return r.set=i,r.update=o,r.asReadonly=B2.bind(r),r}function B2(){let n=this[ii];if(n.readonlyFn===void 0){let t=()=>this();t[ii]=n,n.readonlyFn=t}return n.readonlyFn}function Cb(n){return _b(n)&&typeof n.set=="function"}var Kg=(()=>{class n{view;node;constructor(e,i){this.view=e,this.node=i}static __NG_ELEMENT_ID__=tz}return n})();function tz(){return new Kg(Ie(),Tn())}var Gr=class{},al=new oe("",{providedIn:"root",factory:()=>!1});var vb=new oe(""),bb=new oe(""),fr=(()=>{class n{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new $n(!1);get hasPendingTasks(){return this.destroyed?!1:this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new ve(e=>{e.next(!1),e.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);let e=this.taskId++;return this.pendingTasks.add(e),e}has(e){return this.pendingTasks.has(e)}remove(e){this.pendingTasks.delete(e),this.pendingTasks.size===0&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=K({token:n,providedIn:"root",factory:()=>new n})}return n})(),Zr=(()=>{class n{internalPendingTasks=U(fr);scheduler=U(Gr);errorHandler=U(ki);add(){let e=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(e)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(e))}}run(e){let i=this.add();e().catch(this.errorHandler).finally(i)}static \u0275prov=K({token:n,providedIn:"root",factory:()=>new n})}return n})();function ru(...n){}var yb=(()=>{class n{static \u0275prov=K({token:n,providedIn:"root",factory:()=>new Iv})}return n})(),Iv=class{dirtyEffectCount=0;queues=new Map;add(t){this.enqueue(t),this.schedule(t)}schedule(t){t.dirty&&this.dirtyEffectCount++}remove(t){let e=t.zone,i=this.queues.get(e);i.has(t)&&(i.delete(t),t.dirty&&this.dirtyEffectCount--)}enqueue(t){let e=t.zone;this.queues.has(e)||this.queues.set(e,new Set);let i=this.queues.get(e);i.has(t)||i.add(t)}flush(){for(;this.dirtyEffectCount>0;){let t=!1;for(let[e,i]of this.queues)e===null?t||=this.flushQueue(i):t||=e.run(()=>this.flushQueue(i));t||(this.dirtyEffectCount=0)}}flushQueue(t){let e=!1;for(let i of t)i.dirty&&(this.dirtyEffectCount--,e=!0,i.run());return e}};function fl(n){return{toString:n}.toString()}var Yg="__parameters__";function az(n){return function(...e){if(n){let i=n(...e);for(let o in i)this[o]=i[o]}}}function cz(n,t,e){return fl(()=>{let i=az(t);function o(...r){if(this instanceof o)return i.apply(this,r),this;let s=new o(...r);return a.annotation=s,a;function a(c,u,C){let v=c.hasOwnProperty(Yg)?c[Yg]:Object.defineProperty(c,Yg,{value:[]})[Yg];for(;v.length<=C;)v.push(null);return(v[C]=v[C]||[]).push(s),c}}return o.prototype.ngMetadataName=n,o.annotationCls=o,o})}var Dn=s2(cz("Optional"),8);function lz(n){return typeof n=="function"}var ah=class{previousValue;currentValue;firstChange;constructor(t,e,i){this.previousValue=t,this.currentValue=e,this.firstChange=i}isFirstChange(){return this.firstChange}};function bI(n,t,e,i){t!==null?t.applyValueToInputSignal(t,i):n[e]=i}var _n=(()=>{let n=()=>yI;return n.ngInherit=!0,n})();function yI(n){return n.type.prototype.ngOnChanges&&(n.setInput=uz),dz}function dz(){let n=PI(this),t=n?.current;if(t){let e=n.previous;if(e===As)n.previous=t;else for(let i in t)e[i]=t[i];n.current=null,this.ngOnChanges(t)}}function uz(n,t,e,i,o){let r=this.declaredInputs[i],s=PI(n)||pz(n,{previous:As,current:null}),a=s.current||(s.current={}),c=s.previous,u=c[r];a[r]=new ah(u&&u.currentValue,e,c===As),bI(n,t,o,e)}var MI="__ngSimpleChanges__";function PI(n){return n[MI]||null}function pz(n,t){return n[MI]=t}var j2=[];var It=function(n,t=null,e){for(let i=0;i<j2.length;i++){let o=j2[i];o(n,t,e)}};function fz(n,t,e){let{ngOnChanges:i,ngOnInit:o,ngDoCheck:r}=t.type.prototype;if(i){let s=yI(t);(e.preOrderHooks??=[]).push(n,s),(e.preOrderCheckHooks??=[]).push(n,s)}o&&(e.preOrderHooks??=[]).push(0-n,o),r&&((e.preOrderHooks??=[]).push(n,r),(e.preOrderCheckHooks??=[]).push(n,r))}function OI(n,t){for(let e=t.directiveStart,i=t.directiveEnd;e<i;e++){let r=n.data[e].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:u,ngOnDestroy:C}=r;s&&(n.contentHooks??=[]).push(-e,s),a&&((n.contentHooks??=[]).push(e,a),(n.contentCheckHooks??=[]).push(e,a)),c&&(n.viewHooks??=[]).push(-e,c),u&&((n.viewHooks??=[]).push(e,u),(n.viewCheckHooks??=[]).push(e,u)),C!=null&&(n.destroyHooks??=[]).push(e,C)}}function nh(n,t,e){wI(n,t,3,e)}function ih(n,t,e,i){(n[Fe]&3)===e&&wI(n,t,e,i)}function Mb(n,t){let e=n[Fe];(e&3)===t&&(e&=16383,e+=1,n[Fe]=e)}function wI(n,t,e,i){let o=i!==void 0?n[Na]&65535:0,r=i??-1,s=t.length-1,a=0;for(let c=o;c<s;c++)if(typeof t[c+1]=="number"){if(a=t[c],i!=null&&a>=i)break}else t[c]<0&&(n[Na]+=65536),(a<r||r==-1)&&(gz(n,e,t,c),n[Na]=(n[Na]&4294901760)+c+2),c++}function V2(n,t){It(4,n,t);let e=Le(null);try{t.call(n)}finally{Le(e),It(5,n,t)}}function gz(n,t,e,i){let o=e[i]<0,r=e[i+1],s=o?-e[i]:e[i],a=n[s];o?n[Fe]>>14<n[Na]>>16&&(n[Fe]&3)===t&&(n[Fe]+=16384,V2(a,r)):V2(a,r)}var ll=-1,Ua=class{factory;name;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(t,e,i,o){this.factory=t,this.name=o,this.canSeeViewProviders=e,this.injectImpl=i}};function hz(n){return(n.flags&8)!==0}function mz(n){return(n.flags&16)!==0}function _z(n,t,e){let i=0;for(;i<e.length;){let o=e[i];if(typeof o=="number"){if(o!==0)break;i++;let r=e[i++],s=e[i++],a=e[i++];n.setAttribute(t,s,a,r)}else{let r=o,s=e[++i];Cz(r)?n.setProperty(t,r,s):n.setAttribute(t,r,s),i++}}return i}function xI(n){return n===3||n===4||n===6}function Cz(n){return n.charCodeAt(0)===64}function dl(n,t){if(!(t===null||t.length===0))if(n===null||n.length===0)n=t.slice();else{let e=-1;for(let i=0;i<t.length;i++){let o=t[i];typeof o=="number"?e=o:e===0||(e===-1||e===2?U2(n,e,o,null,t[++i]):U2(n,e,o,null,null))}}return n}function U2(n,t,e,i,o){let r=0,s=n.length;if(t===-1)s=-1;else for(;r<n.length;){let a=n[r++];if(typeof a=="number"){if(a===t){s=-1;break}else if(a>t){s=r-1;break}}}for(;r<n.length;){let a=n[r];if(typeof a=="number")break;if(a===e){o!==null&&(n[r+1]=o);return}r++,o!==null&&r++}s!==-1&&(n.splice(s,0,t),r=s+1),n.splice(r++,0,e),o!==null&&n.splice(r++,0,o)}function EI(n){return n!==ll}function ch(n){return n&32767}function vz(n){return n>>16}function lh(n,t){let e=vz(n),i=t;for(;e>0;)i=i[Ra],e--;return i}var Ab=!0;function dh(n){let t=Ab;return Ab=n,t}var bz=256,II=bz-1,SI=5,yz=0,gr={};function Mz(n,t,e){let i;typeof e=="string"?i=e.charCodeAt(0)||0:e.hasOwnProperty(Aa)&&(i=e[Aa]),i==null&&(i=e[Aa]=yz++);let o=i&II,r=1<<o;t.data[n+(o>>SI)]|=r}function uh(n,t){let e=TI(n,t);if(e!==-1)return e;let i=t[Ee];i.firstCreatePass&&(n.injectorIndex=t.length,Pb(i.data,n),Pb(t,null),Pb(i.blueprint,null));let o=vy(n,t),r=n.injectorIndex;if(EI(o)){let s=ch(o),a=lh(o,t),c=a[Ee].data;for(let u=0;u<8;u++)t[r+u]=a[s+u]|c[s+u]}return t[r+8]=o,r}function Pb(n,t){n.push(0,0,0,0,0,0,0,0,t)}function TI(n,t){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||t[n.injectorIndex+8]===null?-1:n.injectorIndex}function vy(n,t){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let e=0,i=null,o=t;for(;o!==null;){if(i=NI(o),i===null)return ll;if(e++,o=o[Ra],i.injectorIndex!==-1)return i.injectorIndex|e<<16}return ll}function Rb(n,t,e){Mz(n,t,e)}function Pz(n,t){if(t==="class")return n.classes;if(t==="style")return n.styles;let e=n.attrs;if(e){let i=e.length,o=0;for(;o<i;){let r=e[o];if(xI(r))break;if(r===0)o=o+2;else if(typeof r=="number")for(o++;o<i&&typeof e[o]=="string";)o++;else{if(r===t)return e[o+1];o=o+2}}}return null}function DI(n,t,e){if(e&8||n!==void 0)return n;Tg(t,"NodeInjector")}function kI(n,t,e,i){if(e&8&&i===void 0&&(i=null),(e&3)===0){let o=n[Yr],r=mi(void 0);try{return o?o.get(t,i,e&8):zv(t,i,e&8)}finally{mi(r)}}return DI(i,t,e)}function AI(n,t,e,i=0,o){if(n!==null){if(t[Fe]&2048&&!(i&2)){let s=Ez(n,t,e,i,gr);if(s!==gr)return s}let r=RI(n,t,e,i,gr);if(r!==gr)return r}return kI(t,e,i,o)}function RI(n,t,e,i,o){let r=wz(e);if(typeof r=="function"){if(!gb(t,n,i))return i&1?DI(o,e,i):kI(t,e,i,o);try{let s;if(s=r(i),s==null&&!(i&8))Tg(e);else return s}finally{hb()}}else if(typeof r=="number"){let s=null,a=TI(n,t),c=ll,u=i&1?t[qi][ao]:null;for((a===-1||i&4)&&(c=a===-1?vy(n,t):t[a+8],c===ll||!q2(i,!1)?a=-1:(s=t[Ee],a=ch(c),t=lh(c,t)));a!==-1;){let C=t[Ee];if($2(r,a,C.data)){let v=Oz(a,t,e,s,i,u);if(v!==gr)return v}c=t[a+8],c!==ll&&q2(i,t[Ee].data[a+8]===u)&&$2(r,a,t)?(s=C,a=ch(c),t=lh(c,t)):a=-1}}return o}function Oz(n,t,e,i,o,r){let s=t[Ee],a=s.data[n+8],c=i==null?Ls(a)&&Ab:i!=s&&(a.type&3)!==0,u=o&1&&r===a,C=oh(a,s,e,c,u);return C!==null?cu(t,s,C,a,o):gr}function oh(n,t,e,i,o){let r=n.providerIndexes,s=t.data,a=r&1048575,c=n.directiveStart,u=n.directiveEnd,C=r>>20,v=i?a:a+C,P=o?a+C:u;for(let w=v;w<P;w++){let S=s[w];if(w<c&&e===S||w>=c&&S.type===e)return w}if(o){let w=s[c];if(w&&pr(w)&&w.type===e)return c}return null}function cu(n,t,e,i,o){let r=n[e],s=t.data;if(r instanceof Ua){let a=r;if(a.resolving){let w=n2(s[e]);throw Fv(w)}let c=dh(a.canSeeViewProviders);a.resolving=!0;let u=s[e].type||s[e],C,v=a.injectImpl?mi(a.injectImpl):null,P=gb(n,i,0);try{r=n[e]=a.factory(void 0,o,s,n,i),t.firstCreatePass&&e>=i.directiveStart&&fz(e,s[e],t)}finally{v!==null&&mi(v),dh(c),a.resolving=!1,hb()}}return r}function wz(n){if(typeof n=="string")return n.charCodeAt(0)||0;let t=n.hasOwnProperty(Aa)?n[Aa]:void 0;return typeof t=="number"?t>=0?t&II:xz:t}function $2(n,t,e){let i=1<<n;return!!(e[t+(n>>SI)]&i)}function q2(n,t){return!(n&2)&&!(n&1&&t)}var Va=class{_tNode;_lView;constructor(t,e){this._tNode=t,this._lView=e}get(t,e,i){return AI(this._tNode,this._lView,t,Ta(i),e)}};function xz(){return new Va(Tn(),Ie())}function Gn(n){return fl(()=>{let t=n.prototype.constructor,e=t[Gd]||Nb(t),i=Object.prototype,o=Object.getPrototypeOf(n.prototype).constructor;for(;o&&o!==i;){let r=o[Gd]||Nb(o);if(r&&r!==e)return r;o=Object.getPrototypeOf(o)}return r=>new r})}function Nb(n){return Tv(n)?()=>{let t=Nb(qn(n));return t&&t()}:Ds(n)}function Ez(n,t,e,i,o){let r=n,s=t;for(;r!==null&&s!==null&&s[Fe]&2048&&!il(s);){let a=RI(r,s,e,i|2,gr);if(a!==gr)return a;let c=r.parent;if(!c){let u=s[Qv];if(u){let C=u.get(e,gr,i);if(C!==gr)return C}c=NI(s),s=s[Ra]}r=c}return o}function NI(n){let t=n[Ee],e=t.type;return e===2?t.declTNode:e===1?n[ao]:null}function hu(n){return Pz(Tn(),n)}function Iz(){return gl(Tn(),Ie())}function gl(n,t){return new Fn(Lo(n,t))}var Fn=(()=>{class n{nativeElement;constructor(e){this.nativeElement=e}static __NG_ELEMENT_ID__=Iz}return n})();function Sz(n){return n instanceof Fn?n.nativeElement:n}function Tz(){return this._results[Symbol.iterator]()}var ph=class{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new me}constructor(t=!1){this._emitDistinctChangesOnly=t}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,e){this.dirty=!1;let i=c2(t);(this._changesDetected=!a2(this._results,i,e))&&(this._results=i,this.length=i.length,this.last=i[this.length-1],this.first=i[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(t){this._onDirty=t}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=Tz};function LI(n){return(n.flags&128)===128}var by=(function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n})(by||{}),FI=new Map,Dz=0;function kz(){return Dz++}function Az(n){FI.set(n[Xd],n)}function Lb(n){FI.delete(n[Xd])}var H2="__ngContext__";function ul(n,t){ur(t)?(n[H2]=t[Xd],Az(t)):n[H2]=t}function zI(n){return jI(n[nl])}function BI(n){return jI(n[so])}function jI(n){for(;n!==null&&!No(n);)n=n[so];return n}var Fb;function yy(n){Fb=n}function VI(){if(Fb!==void 0)return Fb;if(typeof document<"u")return document;throw new G(210,!1)}var Eh=new oe("",{providedIn:"root",factory:()=>Rz}),Rz="ng",Ih=new oe(""),Ga=new oe("",{providedIn:"platform",factory:()=>"unknown"});var Sh=new oe(""),Th=new oe("",{providedIn:"root",factory:()=>VI().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var Nz="h",Lz="b";var UI="r";var $I="di";var qI=!1,HI=new oe("",{providedIn:"root",factory:()=>qI});var Dh=new oe("");var Fz=(n,t,e,i)=>{};function zz(n,t,e,i){Fz(n,t,e,i)}function My(n){return(n.flags&32)===32}var Bz=()=>null;function WI(n,t,e=!1){return Bz(n,t,e)}function GI(n,t){let e=n.contentQueries;if(e!==null){let i=Le(null);try{for(let o=0;o<e.length;o+=2){let r=e[o],s=e[o+1];if(s!==-1){let a=n.data[s];Vg(r),a.contentQueries(2,t[s],s)}}}finally{Le(i)}}}function zb(n,t,e){Vg(0);let i=Le(null);try{t(n,e)}finally{Le(i)}}function QI(n,t,e){if(Yv(t)){let i=Le(null);try{let o=t.directiveStart,r=t.directiveEnd;for(let s=o;s<r;s++){let a=n.data[s];if(a.contentQueries){let c=e[s];a.contentQueries(1,c,s)}}}finally{Le(i)}}}var Jr=(function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n})(Jr||{});var Zg;function jz(){if(Zg===void 0&&(Zg=null,ro.trustedTypes))try{Zg=ro.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Zg}function kh(n){return jz()?.createHTML(n)||n}var Jg;function Vz(){if(Jg===void 0&&(Jg=null,ro.trustedTypes))try{Jg=ro.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Jg}function W2(n){return Vz()?.createScriptURL(n)||n}var Xr=class{changingThisBreaksApplicationSecurity;constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Eg})`}},Bb=class extends Xr{getTypeName(){return"HTML"}},jb=class extends Xr{getTypeName(){return"Style"}},Vb=class extends Xr{getTypeName(){return"Script"}},Ub=class extends Xr{getTypeName(){return"URL"}},$b=class extends Xr{getTypeName(){return"ResourceURL"}};function go(n){return n instanceof Xr?n.changingThisBreaksApplicationSecurity:n}function ts(n,t){let e=KI(n);if(e!=null&&e!==t){if(e==="ResourceURL"&&t==="URL")return!0;throw new Error(`Required a safe ${t}, got a ${e} (see ${Eg})`)}return e===t}function KI(n){return n instanceof Xr&&n.getTypeName()||null}function Py(n){return new Bb(n)}function Oy(n){return new jb(n)}function wy(n){return new Vb(n)}function xy(n){return new Ub(n)}function Ey(n){return new $b(n)}function Uz(n){let t=new Hb(n);return $z()?new qb(t):t}var qb=class{inertDocumentHelper;constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{let e=new window.DOMParser().parseFromString(kh(t),"text/html").body;return e===null?this.inertDocumentHelper.getInertBodyElement(t):(e.firstChild?.remove(),e)}catch{return null}}},Hb=class{defaultDoc;inertDocument;constructor(t){this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(t){let e=this.inertDocument.createElement("template");return e.innerHTML=kh(t),e}};function $z(){try{return!!new window.DOMParser().parseFromString(kh(""),"text/html")}catch{return!1}}var qz=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function mu(n){return n=String(n),n.match(qz)?n:"unsafe:"+n}function ns(n){let t={};for(let e of n.split(","))t[e]=!0;return t}function _u(...n){let t={};for(let e of n)for(let i in e)e.hasOwnProperty(i)&&(t[i]=!0);return t}var YI=ns("area,br,col,hr,img,wbr"),ZI=ns("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),JI=ns("rp,rt"),Hz=_u(JI,ZI),Wz=_u(ZI,ns("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Gz=_u(JI,ns("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),G2=_u(YI,Wz,Gz,Hz),XI=ns("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Qz=ns("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Kz=ns("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),Yz=_u(XI,Qz,Kz),Zz=ns("script,style,template"),Wb=class{sanitizedSomething=!1;buf=[];sanitizeChildren(t){let e=t.firstChild,i=!0,o=[];for(;e;){if(e.nodeType===Node.ELEMENT_NODE?i=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,i&&e.firstChild){o.push(e),e=e8(e);continue}for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let r=Xz(e);if(r){e=r;break}e=o.pop()}}return this.buf.join("")}startElement(t){let e=Q2(t).toLowerCase();if(!G2.hasOwnProperty(e))return this.sanitizedSomething=!0,!Zz.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);let i=t.attributes;for(let o=0;o<i.length;o++){let r=i.item(o),s=r.name,a=s.toLowerCase();if(!Yz.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let c=r.value;XI[a]&&(c=mu(c)),this.buf.push(" ",s,'="',K2(c),'"')}return this.buf.push(">"),!0}endElement(t){let e=Q2(t).toLowerCase();G2.hasOwnProperty(e)&&!YI.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(K2(t))}};function Jz(n,t){return(n.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}function Xz(n){let t=n.nextSibling;if(t&&n!==t.previousSibling)throw eS(t);return t}function e8(n){let t=n.firstChild;if(t&&Jz(n,t))throw eS(t);return t}function Q2(n){let t=n.nodeName;return typeof t=="string"?t:"FORM"}function eS(n){return new Error(`Failed to sanitize html because the element is clobbered: ${n.outerHTML}`)}var t8=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,n8=/([^\#-~ |!])/g;function K2(n){return n.replace(/&/g,"&amp;").replace(t8,function(t){let e=t.charCodeAt(0),i=t.charCodeAt(1);return"&#"+((e-55296)*1024+(i-56320)+65536)+";"}).replace(n8,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var Xg;function Iy(n,t){let e=null;try{Xg=Xg||Uz(n);let i=t?String(t):"";e=Xg.getInertBodyElement(i);let o=5,r=i;do{if(o===0)throw new Error("Failed to sanitize html because the input is unstable");o--,i=r,r=e.innerHTML,e=Xg.getInertBodyElement(i)}while(i!==r);let a=new Wb().sanitizeChildren(Y2(e)||e);return kh(a)}finally{if(e){let i=Y2(e)||e;for(;i.firstChild;)i.firstChild.remove()}}}function Y2(n){return"content"in n&&i8(n)?n.content:null}function i8(n){return n.nodeType===Node.ELEMENT_NODE&&n.nodeName==="TEMPLATE"}function o8(n,t){return n.createText(t)}function r8(n,t,e){n.setValue(t,e)}function tS(n,t,e){return n.createElement(t,e)}function fh(n,t,e,i,o){n.insertBefore(t,e,i,o)}function nS(n,t,e){n.appendChild(t,e)}function Z2(n,t,e,i,o){i!==null?fh(n,t,e,i,o):nS(n,t,e)}function iS(n,t,e,i){n.removeChild(null,t,e,i)}function s8(n,t,e){n.setAttribute(t,"style",e)}function a8(n,t,e){e===""?n.removeAttribute(t,"class"):n.setAttribute(t,"class",e)}function oS(n,t,e){let{mergedAttrs:i,classes:o,styles:r}=e;i!==null&&_z(n,t,i),o!==null&&a8(n,t,o),r!==null&&s8(n,t,r)}var Bo=(function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n})(Bo||{});function Je(n){let t=rS();return t?t.sanitize(Bo.URL,n)||"":ts(n,"URL")?go(n):mu(Ci(n))}function hl(n){let t=rS();if(t)return W2(t.sanitize(Bo.RESOURCE_URL,n)||"");if(ts(n,"ResourceURL"))return W2(go(n));throw new G(904,!1)}function c8(n,t){return t==="src"&&(n==="embed"||n==="frame"||n==="iframe"||n==="media"||n==="script")||t==="href"&&(n==="base"||n==="link")?hl:Je}function Sy(n,t,e){return c8(t,e)(n)}function rS(){let n=Ie();return n&&n[lr].sanitizer}function Cu(n){return n.ownerDocument.defaultView}function Ty(n){return n.ownerDocument}function sS(n){return n instanceof Function?n():n}function l8(n,t,e){let i=n.length;for(;;){let o=n.indexOf(t,e);if(o===-1)return o;if(o===0||n.charCodeAt(o-1)<=32){let r=t.length;if(o+r===i||n.charCodeAt(o+r)<=32)return o}e=o+1}}var aS="ng-template";function d8(n,t,e,i){let o=0;if(i){for(;o<t.length&&typeof t[o]=="string";o+=2)if(t[o]==="class"&&l8(t[o+1].toLowerCase(),e,0)!==-1)return!0}else if(Dy(n))return!1;if(o=t.indexOf(1,o),o>-1){let r;for(;++o<t.length&&typeof(r=t[o])=="string";)if(r.toLowerCase()===e)return!0}return!1}function Dy(n){return n.type===4&&n.value!==aS}function u8(n,t,e){let i=n.type===4&&!e?aS:n.value;return t===i}function p8(n,t,e){let i=4,o=n.attrs,r=o!==null?h8(o):0,s=!1;for(let a=0;a<t.length;a++){let c=t[a];if(typeof c=="number"){if(!s&&!Fo(i)&&!Fo(c))return!1;if(s&&Fo(c))continue;s=!1,i=c|i&1;continue}if(!s)if(i&4){if(i=2|i&1,c!==""&&!u8(n,c,e)||c===""&&t.length===1){if(Fo(i))return!1;s=!0}}else if(i&8){if(o===null||!d8(n,o,c,e)){if(Fo(i))return!1;s=!0}}else{let u=t[++a],C=f8(c,o,Dy(n),e);if(C===-1){if(Fo(i))return!1;s=!0;continue}if(u!==""){let v;if(C>r?v="":v=o[C+1].toLowerCase(),i&2&&u!==v){if(Fo(i))return!1;s=!0}}}}return Fo(i)||s}function Fo(n){return(n&1)===0}function f8(n,t,e,i){if(t===null)return-1;let o=0;if(i||!e){let r=!1;for(;o<t.length;){let s=t[o];if(s===n)return o;if(s===3||s===6)r=!0;else if(s===1||s===2){let a=t[++o];for(;typeof a=="string";)a=t[++o];continue}else{if(s===4)break;if(s===0){o+=4;continue}}o+=r?1:2}return-1}else return m8(t,n)}function g8(n,t,e=!1){for(let i=0;i<t.length;i++)if(p8(n,t[i],e))return!0;return!1}function h8(n){for(let t=0;t<n.length;t++){let e=n[t];if(xI(e))return t}return n.length}function m8(n,t){let e=n.indexOf(4);if(e>-1)for(e++;e<n.length;){let i=n[e];if(typeof i=="number")return-1;if(i===t)return e;e++}return-1}function J2(n,t){return n?":not("+t.trim()+")":t}function _8(n){let t=n[0],e=1,i=2,o="",r=!1;for(;e<n.length;){let s=n[e];if(typeof s=="string")if(i&2){let a=n[++e];o+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else i&8?o+="."+s:i&4&&(o+=" "+s);else o!==""&&!Fo(s)&&(t+=J2(r,o),o=""),i=s,r=r||!Fo(i);e++}return o!==""&&(t+=J2(r,o)),t}function C8(n){return n.map(_8).join(",")}function v8(n){let t=[],e=[],i=1,o=2;for(;i<n.length;){let r=n[i];if(typeof r=="string")o===2?r!==""&&t.push(r,n[++i]):o===8&&e.push(r);else{if(!Fo(o))break;o=r}i++}return e.length&&t.push(1,...e),t}var Cn={};function ky(n,t,e,i,o,r,s,a,c,u,C){let v=Xt+i,P=v+o,w=b8(v,P),S=typeof u=="function"?u():u;return w[Ee]={type:n,blueprint:w,template:e,queries:null,viewQuery:a,declTNode:t,data:w.slice().fill(null,v),bindingStartIndex:v,expandoStartIndex:P,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof r=="function"?r():r,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:c,consts:S,incompleteFirstPass:!1,ssrId:C}}function b8(n,t){let e=[];for(let i=0;i<t;i++)e.push(i<n?null:Cn);return e}function y8(n){let t=n.tView;return t===null||t.incompleteFirstPass?n.tView=ky(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):t}function Ay(n,t,e,i,o,r,s,a,c,u,C){let v=t.blueprint.slice();return v[Ro]=o,v[Fe]=i|4|128|8|64|1024,(u!==null||n&&n[Fe]&2048)&&(v[Fe]|=2048),eb(v),v[Sn]=v[Ra]=n,v[un]=e,v[lr]=s||n&&n[lr],v[Vt]=a||n&&n[Vt],v[Yr]=c||n&&n[Yr]||null,v[ao]=r,v[Xd]=kz(),v[el]=C,v[Qv]=u,v[qi]=t.type==2?n[qi]:v,v}function M8(n,t,e){let i=Lo(t,n),o=y8(e),r=n[lr].rendererFactory,s=Ry(n,Ay(n,o,null,cS(e),i,t,null,r.createRenderer(i,e),null,null,null));return n[t.index]=s}function cS(n){let t=16;return n.signals?t=4096:n.onPush&&(t=64),t}function lS(n,t,e,i){if(e===0)return-1;let o=t.length;for(let r=0;r<e;r++)t.push(i),n.blueprint.push(i),n.data.push(null);return o}function Ry(n,t){return n[nl]?n[Gv][so]=t:n[nl]=t,n[Gv]=t,t}function l(n=1){dS(pn(),Ie(),po()+n,!1)}function dS(n,t,e,i){if(!i)if((t[Fe]&3)===3){let r=n.preOrderCheckHooks;r!==null&&nh(t,r,e)}else{let r=n.preOrderHooks;r!==null&&ih(t,r,0,e)}zs(e)}var Ah=(function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n})(Ah||{});function Gb(n,t,e,i){let o=Le(null);try{let[r,s,a]=n.inputs[e],c=null;(s&Ah.SignalBased)!==0&&(c=t[r][ii]),c!==null&&c.transformFn!==void 0?i=c.transformFn(i):a!==null&&(i=a.call(t,i)),n.setInput!==null?n.setInput(t,c,i,e,r):bI(t,c,r,i)}finally{Le(o)}}var hr=(function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n})(hr||{}),P8;function Ny(n,t){return P8(n,t)}var $a=new Set,Rh=(function(n){return n[n.CHANGE_DETECTION=0]="CHANGE_DETECTION",n[n.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",n})(Rh||{}),Qa=new oe(""),X2=new Set;function Gi(n){X2.has(n)||(X2.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}var uS=!1,Qb=class extends me{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(t=!1){super(),this.__isAsync=t,g2()&&(this.destroyRef=U(fo,{optional:!0})??void 0,this.pendingTasks=U(fr,{optional:!0})??void 0)}emit(t){let e=Le(null);try{super.next(t)}finally{Le(e)}}subscribe(t,e,i){let o=t,r=e||(()=>null),s=i;if(t&&typeof t=="object"){let c=t;o=c.next?.bind(c),r=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(r=this.wrapInTimeout(r),o&&(o=this.wrapInTimeout(o)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:o,error:r,complete:s});return t instanceof Jt&&t.add(a),a}wrapInTimeout(t){return e=>{let i=this.pendingTasks?.add();setTimeout(()=>{try{t(e)}finally{i!==void 0&&this.pendingTasks?.remove(i)}})}}},et=Qb;function pS(n){let t,e;function i(){n=ru;try{e!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(e),t!==void 0&&clearTimeout(t)}catch{}}return t=setTimeout(()=>{n(),i()}),typeof requestAnimationFrame=="function"&&(e=requestAnimationFrame(()=>{n(),i()})),()=>i()}function eI(n){return queueMicrotask(()=>n()),()=>{n=ru}}var Ly="isAngularZone",gh=Ly+"_ID",O8=0,rt=class n{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new et(!1);onMicrotaskEmpty=new et(!1);onStable=new et(!1);onError=new et(!1);constructor(t){let{enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:i=!1,shouldCoalesceRunChangeDetection:o=!1,scheduleInRootZone:r=uS}=t;if(typeof Zone>"u")throw new G(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!o&&i,s.shouldCoalesceRunChangeDetection=o,s.callbackScheduled=!1,s.scheduleInRootZone=r,E8(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(Ly)===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new G(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new G(909,!1)}run(t,e,i){return this._inner.run(t,e,i)}runTask(t,e,i,o){let r=this._inner,s=r.scheduleEventTask("NgZoneEvent: "+o,t,w8,ru,ru);try{return r.runTask(s,e,i)}finally{r.cancelTask(s)}}runGuarded(t,e,i){return this._inner.runGuarded(t,e,i)}runOutsideAngular(t){return this._outer.run(t)}},w8={};function Fy(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function x8(n){if(n.isCheckStableRunning||n.callbackScheduled)return;n.callbackScheduled=!0;function t(){pS(()=>{n.callbackScheduled=!1,Kb(n),n.isCheckStableRunning=!0,Fy(n),n.isCheckStableRunning=!1})}n.scheduleInRootZone?Zone.root.run(()=>{t()}):n._outer.run(()=>{t()}),Kb(n)}function E8(n){let t=()=>{x8(n)},e=O8++;n._inner=n._inner.fork({name:"angular",properties:{[Ly]:!0,[gh]:e,[gh+e]:!0},onInvokeTask:(i,o,r,s,a,c)=>{if(I8(c))return i.invokeTask(r,s,a,c);try{return tI(n),i.invokeTask(r,s,a,c)}finally{(n.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&t(),nI(n)}},onInvoke:(i,o,r,s,a,c,u)=>{try{return tI(n),i.invoke(r,s,a,c,u)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!S8(c)&&t(),nI(n)}},onHasTask:(i,o,r,s)=>{i.hasTask(r,s),o===r&&(s.change=="microTask"?(n._hasPendingMicrotasks=s.microTask,Kb(n),Fy(n)):s.change=="macroTask"&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(i,o,r,s)=>(i.handleError(r,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}function Kb(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.callbackScheduled===!0?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function tI(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function nI(n){n._nesting--,Fy(n)}var hh=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new et;onMicrotaskEmpty=new et;onStable=new et;onError=new et;run(t,e,i){return t.apply(e,i)}runGuarded(t,e,i){return t.apply(e,i)}runOutsideAngular(t){return t()}runTask(t,e,i,o){return t.apply(e,i)}};function I8(n){return fS(n,"__ignore_ng_zone__")}function S8(n){return fS(n,"__scheduler_tick__")}function fS(n,t){return!Array.isArray(n)||n.length!==1?!1:n[0]?.data?.[t]===!0}var zy=(()=>{class n{impl=null;execute(){this.impl?.execute()}static \u0275prov=K({token:n,providedIn:"root",factory:()=>new n})}return n})(),gS=[0,1,2,3],hS=(()=>{class n{ngZone=U(rt);scheduler=U(Gr);errorHandler=U(Ao,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){U(Qa,{optional:!0})}execute(){let e=this.sequences.size>0;e&&It(16),this.executing=!0;for(let i of gS)for(let o of this.sequences)if(!(o.erroredOrDestroyed||!o.hooks[i]))try{o.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>{let r=o.hooks[i];return r(o.pipelinedValue)},o.snapshot))}catch(r){o.erroredOrDestroyed=!0,this.errorHandler?.handleError(r)}this.executing=!1;for(let i of this.sequences)i.afterRun(),i.once&&(this.sequences.delete(i),i.destroy());for(let i of this.deferredRegistrations)this.sequences.add(i);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),e&&It(17)}register(e){let{view:i}=e;i!==void 0?((i[La]??=[]).push(e),ol(i),i[Fe]|=8192):this.executing?this.deferredRegistrations.add(e):this.addSequence(e)}addSequence(e){this.sequences.add(e),this.scheduler.notify(7)}unregister(e){this.executing&&this.sequences.has(e)?(e.erroredOrDestroyed=!0,e.pipelinedValue=void 0,e.once=!0):(this.sequences.delete(e),this.deferredRegistrations.delete(e))}maybeTrace(e,i){return i?i.run(Rh.AFTER_NEXT_RENDER,e):e()}static \u0275prov=K({token:n,providedIn:"root",factory:()=>new n})}return n})(),mh=class{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(t,e,i,o,r,s=null){this.impl=t,this.hooks=e,this.view=i,this.once=o,this.snapshot=s,this.unregisterOnDestroy=r?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();let t=this.view?.[La];t&&(this.view[La]=t.filter(e=>e!==this))}};function vu(n,t){let e=t?.injector??U(ze);return Gi("NgAfterNextRender"),D8(n,e,t,!0)}function T8(n){return n instanceof Function?[void 0,void 0,n,void 0]:[n.earlyRead,n.write,n.mixedReadWrite,n.read]}function D8(n,t,e,i){let o=t.get(zy);o.impl??=t.get(hS);let r=t.get(Qa,null,{optional:!0}),s=e?.manualCleanup!==!0?t.get(fo):null,a=t.get(Kg,null,{optional:!0}),c=new mh(o.impl,T8(n),a?.view,i,s,r?.snapshot(null));return o.impl.register(c),c}var mS=new oe("",{providedIn:"root",factory:()=>({queue:new Set,isScheduled:!1,scheduler:null})});function _S(n,t,e){let i=n.get(mS);if(Array.isArray(t))for(let o of t)i.queue.add(o),e?.detachedLeaveAnimationFns?.push(o);else i.queue.add(t),e?.detachedLeaveAnimationFns?.push(t);i.scheduler&&i.scheduler(n)}function k8(n,t){let e=n.get(mS);if(t.detachedLeaveAnimationFns){for(let i of t.detachedLeaveAnimationFns)e.queue.delete(i);t.detachedLeaveAnimationFns=void 0}}function A8(n,t){for(let[e,i]of t)_S(n,i.animateFns)}function iI(n,t,e,i){let o=n?.[Fa]?.enter;t!==null&&o&&o.has(e.index)&&A8(i,o)}function cl(n,t,e,i,o,r,s,a){if(o!=null){let c,u=!1;No(o)?c=o:ur(o)&&(u=!0,o=o[Ro]);let C=co(o);n===0&&i!==null?(iI(a,i,r,e),s==null?nS(t,i,C):fh(t,i,C,s||null,!0)):n===1&&i!==null?(iI(a,i,r,e),fh(t,i,C,s||null,!0)):n===2?oI(a,r,e,v=>{iS(t,C,u,v)}):n===3&&oI(a,r,e,()=>{t.destroyNode(C)}),c!=null&&W8(t,n,e,c,r,i,s)}}function R8(n,t){CS(n,t),t[Ro]=null,t[ao]=null}function N8(n,t,e,i,o,r){i[Ro]=o,i[ao]=t,Lh(n,i,e,1,o,r)}function CS(n,t){t[lr].changeDetectionScheduler?.notify(9),Lh(n,t,t[Vt],2,null,null)}function L8(n){let t=n[nl];if(!t)return Ob(n[Ee],n);for(;t;){let e=null;if(ur(t))e=t[nl];else{let i=t[en];i&&(e=i)}if(!e){for(;t&&!t[so]&&t!==n;)ur(t)&&Ob(t[Ee],t),t=t[Sn];t===null&&(t=n),ur(t)&&Ob(t[Ee],t),e=t&&t[so]}t=e}}function By(n,t){let e=n[za],i=e.indexOf(t);e.splice(i,1)}function Nh(n,t){if(Ba(t))return;let e=t[Vt];e.destroyNode&&Lh(n,t,e,3,null,null),L8(t)}function Ob(n,t){if(Ba(t))return;let e=Le(null);try{t[Fe]&=-129,t[Fe]|=256,t[Hi]&&jd(t[Hi]),B8(n,t),z8(n,t),t[Ee].type===1&&t[Vt].destroy();let i=t[Rs];if(i!==null&&No(t[Sn])){i!==t[Sn]&&By(i,t);let o=t[dr];o!==null&&o.detachView(n)}Lb(t)}finally{Le(e)}}function oI(n,t,e,i){let o=n?.[Fa];if(o==null||o.leave==null||!o.leave.has(t.index))return i(!1);n&&$a.add(n),_S(e,()=>{if(o.leave&&o.leave.has(t.index)){let s=o.leave.get(t.index),a=[];if(s){for(let c=0;c<s.animateFns.length;c++){let u=s.animateFns[c],{promise:C}=u();a.push(C)}o.detachedLeaveAnimationFns=void 0}o.running=Promise.allSettled(a),F8(n,i)}else n&&$a.delete(n),i(!1)},o)}function F8(n,t){let e=n[Fa]?.running;if(e){e.then(()=>{n[Fa].running=void 0,$a.delete(n),t(!0)});return}t(!1)}function z8(n,t){let e=n.cleanup,i=t[tl];if(e!==null)for(let s=0;s<e.length-1;s+=2)if(typeof e[s]=="string"){let a=e[s+3];a>=0?i[a]():i[-a].unsubscribe(),s+=2}else{let a=i[e[s+1]];e[s].call(a)}i!==null&&(t[tl]=null);let o=t[qr];if(o!==null){t[qr]=null;for(let s=0;s<o.length;s++){let a=o[s];a()}}let r=t[eu];if(r!==null){t[eu]=null;for(let s of r)s.destroy()}}function B8(n,t){let e;if(n!=null&&(e=n.destroyHooks)!=null)for(let i=0;i<e.length;i+=2){let o=t[e[i]];if(!(o instanceof Ua)){let r=e[i+1];if(Array.isArray(r))for(let s=0;s<r.length;s+=2){let a=o[r[s]],c=r[s+1];It(4,a,c);try{c.call(a)}finally{It(5,a,c)}}else{It(4,o,r);try{r.call(o)}finally{It(5,o,r)}}}}}function j8(n,t,e){return V8(n,t.parent,e)}function V8(n,t,e){let i=t;for(;i!==null&&i.type&168;)t=i,i=t.parent;if(i===null)return e[Ro];if(Ls(i)){let{encapsulation:o}=n.data[i.directiveStart+i.componentOffset];if(o===Jr.None||o===Jr.Emulated)return null}return Lo(i,e)}function U8(n,t,e){return q8(n,t,e)}function $8(n,t,e){return n.type&40?Lo(n,e):null}var q8=$8,rI;function jy(n,t,e,i){let o=j8(n,i,t),r=t[Vt],s=i.parent||t[ao],a=U8(s,i,t);if(o!=null)if(Array.isArray(e))for(let c=0;c<e.length;c++)Z2(r,o,e[c],a,!1);else Z2(r,o,e,a,!1);rI!==void 0&&rI(r,i,t,e,o)}function su(n,t){if(t!==null){let e=t.type;if(e&3)return Lo(t,n);if(e&4)return Yb(-1,n[t.index]);if(e&8){let i=t.child;if(i!==null)return su(n,i);{let o=n[t.index];return No(o)?Yb(-1,o):co(o)}}else{if(e&128)return su(n,t.next);if(e&32)return Ny(t,n)()||co(n[t.index]);{let i=vS(n,t);if(i!==null){if(Array.isArray(i))return i[0];let o=ks(n[qi]);return su(o,i)}else return su(n,t.next)}}}return null}function vS(n,t){if(t!==null){let i=n[qi][ao],o=t.projection;return i.projection[o]}return null}function Yb(n,t){let e=en+n+1;if(e<t.length){let i=t[e],o=i[Ee].firstChild;if(o!==null)return su(i,o)}return t[Ns]}function Vy(n,t,e,i,o,r,s){for(;e!=null;){let a=i[Yr];if(e.type===128){e=e.next;continue}let c=i[e.index],u=e.type;if(s&&t===0&&(c&&ul(co(c),i),e.flags|=2),!My(e))if(u&8)Vy(n,t,e.child,i,o,r,!1),cl(t,n,a,o,c,e,r,i);else if(u&32){let C=Ny(e,i),v;for(;v=C();)cl(t,n,a,o,v,e,r,i);cl(t,n,a,o,c,e,r,i)}else u&16?H8(n,t,i,e,o,r):cl(t,n,a,o,c,e,r,i);e=s?e.projectionNext:e.next}}function Lh(n,t,e,i,o,r){Vy(e,i,n.firstChild,t,o,r,!1)}function H8(n,t,e,i,o,r){let s=e[qi],c=s[ao].projection[i.projection];if(Array.isArray(c))for(let u=0;u<c.length;u++){let C=c[u];cl(t,n,e[Yr],o,C,i,r,e)}else{let u=c,C=s[Sn];LI(i)&&(u.flags|=128),Vy(n,t,u,C,o,r,!0)}}function W8(n,t,e,i,o,r,s){let a=i[Ns],c=co(i);a!==c&&cl(t,n,e,r,a,o,s);for(let u=en;u<i.length;u++){let C=i[u];Lh(C[Ee],C,n,t,r,a)}}function G8(n,t,e,i,o){if(t)o?n.addClass(e,i):n.removeClass(e,i);else{let r=i.indexOf("-")===-1?void 0:hr.DashCase;o==null?n.removeStyle(e,i,r):(typeof o=="string"&&o.endsWith("!important")&&(o=o.slice(0,-10),r|=hr.Important),n.setStyle(e,i,o,r))}}function bS(n,t,e,i,o){let r=po(),s=i&2;try{zs(-1),s&&t.length>Xt&&dS(n,t,Xt,!1),It(s?2:0,o,e),e(i,o)}finally{zs(r),It(s?3:1,o,e)}}function Uy(n,t,e){eB(n,t,e),(e.flags&64)===64&&tB(n,t,e)}function Fh(n,t,e=Lo){let i=t.localNames;if(i!==null){let o=t.index+1;for(let r=0;r<i.length;r+=2){let s=i[r+1],a=s===-1?e(t,n):n[s];n[o++]=a}}}function Q8(n,t,e,i){let r=i.get(HI,qI)||e===Jr.ShadowDom,s=n.selectRootElement(t,r);return K8(s),s}function K8(n){Y8(n)}var Y8=()=>null;function Z8(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function yS(n,t,e,i,o,r){let s=t[Ee];if($y(n,s,t,e,i)){Ls(n)&&X8(t,n.index);return}n.type&3&&(e=Z8(e)),J8(n,t,e,i,o,r)}function J8(n,t,e,i,o,r){if(n.type&3){let s=Lo(n,t);i=r!=null?r(i,n.value||"",e):i,o.setProperty(s,e,i)}else n.type&12}function X8(n,t){let e=lo(t,n);e[Fe]&16||(e[Fe]|=64)}function eB(n,t,e){let i=e.directiveStart,o=e.directiveEnd;Ls(e)&&M8(t,e,n.data[i+e.componentOffset]),n.firstCreatePass||uh(e,t);let r=e.initialInputs;for(let s=i;s<o;s++){let a=n.data[s],c=cu(t,n,s,e);if(ul(c,t),r!==null&&rB(t,s-i,c,a,e,r),pr(a)){let u=lo(e.index,t);u[un]=cu(t,n,s,e)}}}function tB(n,t,e){let i=e.directiveStart,o=e.directiveEnd,r=e.index,s=T2();try{zs(r);for(let a=i;a<o;a++){let c=n.data[a],u=t[a];jg(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&nB(c,u)}}finally{zs(-1),jg(s)}}function nB(n,t){n.hostBindings!==null&&n.hostBindings(1,t)}function MS(n,t){let e=n.directiveRegistry,i=null;if(e)for(let o=0;o<e.length;o++){let r=e[o];g8(t,r.selectors,!1)&&(i??=[],pr(r)?i.unshift(r):i.push(r))}return i}function iB(n,t,e,i,o,r){let s=Lo(n,t);oB(t[Vt],s,r,n.value,e,i,o)}function oB(n,t,e,i,o,r,s){if(r==null)n.removeAttribute(t,o,e);else{let a=s==null?Ci(r):s(r,i||"",o);n.setAttribute(t,o,a,e)}}function rB(n,t,e,i,o,r){let s=r[t];if(s!==null)for(let a=0;a<s.length;a+=2){let c=s[a],u=s[a+1];Gb(i,e,c,u)}}function PS(n,t,e,i,o){let r=Xt+e,s=t[Ee],a=o(s,t,n,i,e);t[r]=a,rl(n,!0);let c=n.type===2;return c?(oS(t[Vt],a,n),(M2()===0||nu(n))&&ul(a,t),P2()):ul(a,t),Gg()&&(!c||!My(n))&&jy(s,t,a,n),n}function OS(n){let t=n;return db()?x2():(t=t.parent,rl(t,!1)),t}function sB(n,t){let e=n[Yr];if(!e)return;let i;try{i=e.get(ki,null)}catch{i=null}i?.(t)}function $y(n,t,e,i,o){let r=n.inputs?.[i],s=n.hostDirectiveInputs?.[i],a=!1;if(s)for(let c=0;c<s.length;c+=2){let u=s[c],C=s[c+1],v=t.data[u];Gb(v,e[u],C,o),a=!0}if(r)for(let c of r){let u=e[c],C=t.data[c];Gb(C,u,i,o),a=!0}return a}function aB(n,t){let e=lo(t,n),i=e[Ee];cB(i,e);let o=e[Ro];o!==null&&e[el]===null&&(e[el]=WI(o,e[Yr])),It(18),qy(i,e,e[un]),It(19,e[un])}function cB(n,t){for(let e=t.length;e<n.blueprint.length;e++)t.push(n.blueprint[e])}function qy(n,t,e){Ug(t);try{let i=n.viewQuery;i!==null&&zb(1,i,e);let o=n.template;o!==null&&bS(n,t,o,1,e),n.firstCreatePass&&(n.firstCreatePass=!1),t[dr]?.finishViewCreation(n),n.staticContentQueries&&GI(n,t),n.staticViewQueries&&zb(2,n.viewQuery,e);let r=n.components;r!==null&&lB(t,r)}catch(i){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),i}finally{t[Fe]&=-5,$g()}}function lB(n,t){for(let e=0;e<t.length;e++)aB(n,t[e])}function zh(n,t,e,i){let o=Le(null);try{let r=t.tView,a=n[Fe]&4096?4096:16,c=Ay(n,r,e,a,null,t,null,null,i?.injector??null,i?.embeddedViewInjector??null,i?.dehydratedView??null),u=n[t.index];c[Rs]=u;let C=n[dr];return C!==null&&(c[dr]=C.createEmbeddedView(r)),qy(r,c,e),c}finally{Le(o)}}function lu(n,t){return!t||t.firstChild===null||LI(n)}function du(n,t,e,i,o=!1){for(;e!==null;){if(e.type===128){e=o?e.projectionNext:e.next;continue}let r=t[e.index];r!==null&&i.push(co(r)),No(r)&&wS(r,i);let s=e.type;if(s&8)du(n,t,e.child,i);else if(s&32){let a=Ny(e,t),c;for(;c=a();)i.push(c)}else if(s&16){let a=vS(t,e);if(Array.isArray(a))i.push(...a);else{let c=ks(t[qi]);du(c[Ee],c,a,i,!0)}}e=o?e.projectionNext:e.next}return i}function wS(n,t){for(let e=en;e<n.length;e++){let i=n[e],o=i[Ee].firstChild;o!==null&&du(i[Ee],i,o,t)}n[Ns]!==n[Ro]&&t.push(n[Ns])}function xS(n){if(n[La]!==null){for(let t of n[La])t.impl.addSequence(t);n[La].length=0}}var ES=[];function dB(n){return n[Hi]??uB(n)}function uB(n){let t=ES.pop()??Object.create(fB);return t.lView=n,t}function pB(n){n.lView[Hi]!==n&&(n.lView=null,ES.push(n))}var fB=ae(j({},Lc),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{ol(n.lView)},consumerOnSignalRead(){this.lView[Hi]=this}});function gB(n){let t=n[Hi]??Object.create(hB);return t.lView=n,t}var hB=ae(j({},Lc),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{let t=ks(n.lView);for(;t&&!IS(t[Ee]);)t=ks(t);t&&tb(t)},consumerOnSignalRead(){this.lView[Hi]=this}});function IS(n){return n.type!==2}function SS(n){if(n[eu]===null)return;let t=!0;for(;t;){let e=!1;for(let i of n[eu])i.dirty&&(e=!0,i.zone===null||Zone.current===i.zone?i.run():i.zone.run(()=>i.run()));t=e&&!!(n[Fe]&8192)}}var mB=100;function TS(n,t=0){let i=n[lr].rendererFactory,o=!1;o||i.begin?.();try{_B(n,t)}finally{o||i.end?.()}}function _B(n,t){let e=ub();try{pb(!0),Zb(n,t);let i=0;for(;ou(n);){if(i===mB)throw new G(103,!1);i++,Zb(n,1)}}finally{pb(e)}}function CB(n,t,e,i){if(Ba(t))return;let o=t[Fe],r=!1,s=!1;Ug(t);let a=!0,c=null,u=null;r||(IS(n)?(u=dB(t),c=zc(u)):Gf()===null?(a=!1,u=gB(t),c=zc(u)):t[Hi]&&(jd(t[Hi]),t[Hi]=null));try{eb(t),E2(n.bindingStartIndex),e!==null&&bS(n,t,e,2,i);let C=(o&3)===3;if(!r)if(C){let w=n.preOrderCheckHooks;w!==null&&nh(t,w,null)}else{let w=n.preOrderHooks;w!==null&&ih(t,w,0,null),Mb(t,0)}if(s||vB(t),SS(t),DS(t,0),n.contentQueries!==null&&GI(n,t),!r)if(C){let w=n.contentCheckHooks;w!==null&&nh(t,w)}else{let w=n.contentHooks;w!==null&&ih(t,w,1),Mb(t,1)}yB(n,t);let v=n.components;v!==null&&AS(t,v,0);let P=n.viewQuery;if(P!==null&&zb(2,P,i),!r)if(C){let w=n.viewCheckHooks;w!==null&&nh(t,w)}else{let w=n.viewHooks;w!==null&&ih(t,w,2),Mb(t,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),t[Ng]){for(let w of t[Ng])w();t[Ng]=null}r||(xS(t),t[Fe]&=-73)}catch(C){throw r||ol(t),C}finally{u!==null&&(zd(u,c),a&&pB(u)),$g()}}function DS(n,t){for(let e=zI(n);e!==null;e=BI(e))for(let i=en;i<e.length;i++){let o=e[i];kS(o,t)}}function vB(n){for(let t=zI(n);t!==null;t=BI(t)){if(!(t[Fe]&2))continue;let e=t[za];for(let i=0;i<e.length;i++){let o=e[i];tb(o)}}}function bB(n,t,e){It(18);let i=lo(t,n);kS(i,e),It(19,i[un])}function kS(n,t){Fg(n)&&Zb(n,t)}function Zb(n,t){let i=n[Ee],o=n[Fe],r=n[Hi],s=!!(t===0&&o&16);if(s||=!!(o&64&&t===0),s||=!!(o&1024),s||=!!(r?.dirty&&Bd(r)),s||=!1,r&&(r.dirty=!1),n[Fe]&=-9217,s)CB(i,n,i.template,n[un]);else if(o&8192){let a=Le(null);try{SS(n),DS(n,1);let c=i.components;c!==null&&AS(n,c,1),xS(n)}finally{Le(a)}}}function AS(n,t,e){for(let i=0;i<t.length;i++)bB(n,t[i],e)}function yB(n,t){let e=n.hostBindingOpCodes;if(e!==null)try{for(let i=0;i<e.length;i++){let o=e[i];if(o<0)zs(~o);else{let r=o,s=e[++i],a=e[++i];S2(s,r);let c=t[r];It(24,c),a(2,c),It(25,c)}}}finally{zs(-1)}}function Hy(n,t){let e=ub()?64:1088;for(n[lr].changeDetectionScheduler?.notify(t);n;){n[Fe]|=e;let i=ks(n);if(il(n)&&!i)return n;n=i}return null}function RS(n,t,e,i){return[n,!0,0,t,null,i,null,e,null,null]}function NS(n,t){let e=en+t;if(e<n.length)return n[e]}function Bh(n,t,e,i=!0){let o=t[Ee];if(MB(o,t,n,e),i){let s=Yb(e,n),a=t[Vt],c=a.parentNode(n[Ns]);c!==null&&N8(o,n[ao],a,t,c,s)}let r=t[el];r!==null&&r.firstChild!==null&&(r.firstChild=null)}function LS(n,t){let e=uu(n,t);return e!==void 0&&Nh(e[Ee],e),e}function uu(n,t){if(n.length<=en)return;let e=en+t,i=n[e];if(i){let o=i[Rs];o!==null&&o!==n&&By(o,i),t>0&&(n[e-1][so]=i[so]);let r=Yd(n,en+t);R8(i[Ee],i);let s=r[dr];s!==null&&s.detachView(r[Ee]),i[Sn]=null,i[so]=null,i[Fe]&=-129}return i}function MB(n,t,e,i){let o=en+i,r=e.length;i>0&&(e[o-1][so]=t),i<r-en?(t[so]=e[o],Bv(e,en+i,t)):(e.push(t),t[so]=null),t[Sn]=e;let s=t[Rs];s!==null&&e!==s&&FS(s,t);let a=t[dr];a!==null&&a.insertView(n),zg(t),t[Fe]|=128}function FS(n,t){let e=n[za],i=t[Sn];if(ur(i))n[Fe]|=2;else{let o=i[Sn][qi];t[qi]!==o&&(n[Fe]|=2)}e===null?n[za]=[t]:e.push(t)}var Bs=class{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){let t=this._lView,e=t[Ee];return du(e,t,e.firstChild,[])}constructor(t,e){this._lView=t,this._cdRefInjectingView=e}get context(){return this._lView[un]}set context(t){this._lView[un]=t}get destroyed(){return Ba(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let t=this._lView[Sn];if(No(t)){let e=t[tu],i=e?e.indexOf(this):-1;i>-1&&(uu(t,i),Yd(e,i))}this._attachedToViewContainer=!1}Nh(this._lView[Ee],this._lView)}onDestroy(t){nb(this._lView,t)}markForCheck(){Hy(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[Fe]&=-129}reattach(){zg(this._lView),this._lView[Fe]|=128}detectChanges(){this._lView[Fe]|=1024,TS(this._lView)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new G(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let t=il(this._lView),e=this._lView[Rs];e!==null&&!t&&By(e,this._lView),CS(this._lView[Ee],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new G(902,!1);this._appRef=t;let e=il(this._lView),i=this._lView[Rs];i!==null&&!e&&FS(i,this._lView),zg(this._lView)}};var js=(()=>{class n{_declarationLView;_declarationTContainer;elementRef;static __NG_ELEMENT_ID__=PB;constructor(e,i,o){this._declarationLView=e,this._declarationTContainer=i,this.elementRef=o}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,i){return this.createEmbeddedViewImpl(e,i)}createEmbeddedViewImpl(e,i,o){let r=zh(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:i,dehydratedView:o});return new Bs(r)}}return n})();function PB(){return Wy(Tn(),Ie())}function Wy(n,t){return n.type&4?new js(t,n,gl(n,t)):null}function bu(n,t,e,i,o){let r=n.data[t];if(r===null)r=OB(n,t,e,i,o),I2()&&(r.flags|=32);else if(r.type&64){r.type=e,r.value=i,r.attrs=o;let s=w2();r.injectorIndex=s===null?-1:s.injectorIndex}return rl(r,!0),r}function OB(n,t,e,i,o){let r=lb(),s=db(),a=s?r:r&&r.parent,c=n.data[t]=xB(n,a,e,t,i,o);return wB(n,c,r,s),c}function wB(n,t,e,i){n.firstChild===null&&(n.firstChild=t),e!==null&&(i?e.child==null&&t.parent!==null&&(e.child=t):e.next===null&&(e.next=t,t.prev=e))}function xB(n,t,e,i,o,r){let s=t?t.injectorIndex:-1,a=0;return O2()&&(a|=128),{type:e,index:i,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:o,attrs:r,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var zfe=new RegExp(`^(\\d+)*(${Lz}|${Nz})*(.*)`);function EB(n){let t=n[Kv]??[],i=n[Sn][Vt],o=[];for(let r of t)r.data[$I]!==void 0?o.push(r):IB(r,i);n[Kv]=o}function IB(n,t){let e=0,i=n.firstChild;if(i){let o=n.data[UI];for(;e<o;){let r=i.nextSibling;iS(t,i,!1),i=r,e++}}}var SB=()=>null,TB=()=>null;function Jb(n,t){return SB(n,t)}function zS(n,t,e){return TB(n,t,e)}var BS=class{},jh=class{},Xb=class{resolveComponentFactory(t){throw new G(917,!1)}},yu=class{static NULL=new Xb},es=class{},Qi=(()=>{class n{destroyNode=null;static __NG_ELEMENT_ID__=()=>DB()}return n})();function DB(){let n=Ie(),t=Tn(),e=lo(t.index,n);return(ur(e)?e:n)[Vt]}var jS=(()=>{class n{static \u0275prov=K({token:n,providedIn:"root",factory:()=>null})}return n})();var rh={},ey=class{injector;parentInjector;constructor(t,e){this.injector=t,this.parentInjector=e}get(t,e,i){let o=this.injector.get(t,rh,i);return o!==rh||e===rh?o:this.parentInjector.get(t,e,i)}};function _h(n,t,e){let i=e?n.styles:null,o=e?n.classes:null,r=0;if(t!==null)for(let s=0;s<t.length;s++){let a=t[s];if(typeof a=="number")r=a;else if(r==1)o=Ig(o,a);else if(r==2){let c=a,u=t[++s];i=Ig(i,c+": "+u+";")}}e?n.styles=i:n.stylesWithoutHost=i,e?n.classes=o:n.classesWithoutHost=o}function A(n,t=0){let e=Ie();if(e===null)return Z(n,t);let i=Tn();return AI(i,e,qn(n),t)}function Gy(){let n="invalid";throw new Error(n)}function VS(n,t,e,i,o){let r=i===null?null:{"":-1},s=o(n,e);if(s!==null){let a=s,c=null,u=null;for(let C of s)if(C.resolveHostDirectives!==null){[a,c,u]=C.resolveHostDirectives(s);break}RB(n,t,e,a,r,c,u)}r!==null&&i!==null&&kB(e,i,r)}function kB(n,t,e){let i=n.localNames=[];for(let o=0;o<t.length;o+=2){let r=e[t[o+1]];if(r==null)throw new G(-301,!1);i.push(t[o],r)}}function AB(n,t,e){t.componentOffset=e,(n.components??=[]).push(t.index)}function RB(n,t,e,i,o,r,s){let a=i.length,c=!1;for(let P=0;P<a;P++){let w=i[P];!c&&pr(w)&&(c=!0,AB(n,e,P)),Rb(uh(e,t),n,w.type)}jB(e,n.data.length,a);for(let P=0;P<a;P++){let w=i[P];w.providersResolver&&w.providersResolver(w)}let u=!1,C=!1,v=lS(n,t,a,null);a>0&&(e.directiveToIndex=new Map);for(let P=0;P<a;P++){let w=i[P];if(e.mergedAttrs=dl(e.mergedAttrs,w.hostAttrs),LB(n,e,t,v,w),BB(v,w,o),s!==null&&s.has(w)){let[F,N]=s.get(w);e.directiveToIndex.set(w.type,[v,F+e.directiveStart,N+e.directiveStart])}else(r===null||!r.has(w))&&e.directiveToIndex.set(w.type,v);w.contentQueries!==null&&(e.flags|=4),(w.hostBindings!==null||w.hostAttrs!==null||w.hostVars!==0)&&(e.flags|=64);let S=w.type.prototype;!u&&(S.ngOnChanges||S.ngOnInit||S.ngDoCheck)&&((n.preOrderHooks??=[]).push(e.index),u=!0),!C&&(S.ngOnChanges||S.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(e.index),C=!0),v++}NB(n,e,r)}function NB(n,t,e){for(let i=t.directiveStart;i<t.directiveEnd;i++){let o=n.data[i];if(e===null||!e.has(o))sI(0,t,o,i),sI(1,t,o,i),cI(t,i,!1);else{let r=e.get(o);aI(0,t,r,i),aI(1,t,r,i),cI(t,i,!0)}}}function sI(n,t,e,i){let o=n===0?e.inputs:e.outputs;for(let r in o)if(o.hasOwnProperty(r)){let s;n===0?s=t.inputs??={}:s=t.outputs??={},s[r]??=[],s[r].push(i),US(t,r)}}function aI(n,t,e,i){let o=n===0?e.inputs:e.outputs;for(let r in o)if(o.hasOwnProperty(r)){let s=o[r],a;n===0?a=t.hostDirectiveInputs??={}:a=t.hostDirectiveOutputs??={},a[s]??=[],a[s].push(i,r),US(t,s)}}function US(n,t){t==="class"?n.flags|=8:t==="style"&&(n.flags|=16)}function cI(n,t,e){let{attrs:i,inputs:o,hostDirectiveInputs:r}=n;if(i===null||!e&&o===null||e&&r===null||Dy(n)){n.initialInputs??=[],n.initialInputs.push(null);return}let s=null,a=0;for(;a<i.length;){let c=i[a];if(c===0){a+=4;continue}else if(c===5){a+=2;continue}else if(typeof c=="number")break;if(!e&&o.hasOwnProperty(c)){let u=o[c];for(let C of u)if(C===t){s??=[],s.push(c,i[a+1]);break}}else if(e&&r.hasOwnProperty(c)){let u=r[c];for(let C=0;C<u.length;C+=2)if(u[C]===t){s??=[],s.push(u[C+1],i[a+1]);break}}a+=2}n.initialInputs??=[],n.initialInputs.push(s)}function LB(n,t,e,i,o){n.data[i]=o;let r=o.factory||(o.factory=Ds(o.type,!0)),s=new Ua(r,pr(o),A,null);n.blueprint[i]=s,e[i]=s,FB(n,t,i,lS(n,e,o.hostVars,Cn),o)}function FB(n,t,e,i,o){let r=o.hostBindings;if(r){let s=n.hostBindingOpCodes;s===null&&(s=n.hostBindingOpCodes=[]);let a=~t.index;zB(s)!=a&&s.push(a),s.push(e,i,r)}}function zB(n){let t=n.length;for(;t>0;){let e=n[--t];if(typeof e=="number"&&e<0)return e}return 0}function BB(n,t,e){if(e){if(t.exportAs)for(let i=0;i<t.exportAs.length;i++)e[t.exportAs[i]]=n;pr(t)&&(e[""]=n)}}function jB(n,t,e){n.flags|=1,n.directiveStart=t,n.directiveEnd=t+e,n.providerIndexes=t}function $S(n,t,e,i,o,r,s,a){let c=t[Ee],u=c.consts,C=uo(u,s),v=bu(c,n,e,i,C);return r&&VS(c,t,v,uo(u,a),o),v.mergedAttrs=dl(v.mergedAttrs,v.attrs),v.attrs!==null&&_h(v,v.attrs,!1),v.mergedAttrs!==null&&_h(v,v.mergedAttrs,!0),c.queries!==null&&c.queries.elementStart(c,v),v}function qS(n,t){OI(n,t),Yv(t)&&n.queries.elementEnd(t)}function VB(n,t,e,i,o,r){let s=t.consts,a=uo(s,o),c=bu(t,n,e,i,a);if(c.mergedAttrs=dl(c.mergedAttrs,c.attrs),r!=null){let u=uo(s,r);c.localNames=[];for(let C=0;C<u.length;C+=2)c.localNames.push(u[C],-1)}return c.attrs!==null&&_h(c,c.attrs,!1),c.mergedAttrs!==null&&_h(c,c.mergedAttrs,!0),t.queries!==null&&t.queries.elementStart(t,c),c}function Qy(n){return WS(n)?Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n:!1}function HS(n,t){if(Array.isArray(n))for(let e=0;e<n.length;e++)t(n[e]);else{let e=n[Symbol.iterator](),i;for(;!(i=e.next()).done;)t(i.value)}}function WS(n){return n!==null&&(typeof n=="function"||typeof n=="object")}function Vh(n,t,e){return n[t]=e}function UB(n,t){return n[t]}function Wi(n,t,e){if(e===Cn)return!1;let i=n[t];return Object.is(i,e)?!1:(n[t]=e,!0)}function pu(n,t,e,i){let o=Wi(n,t,e);return Wi(n,t+1,i)||o}function GS(n,t,e,i,o){let r=pu(n,t,e,i);return Wi(n,t+2,o)||r}function $B(n,t,e,i,o,r){let s=pu(n,t,e,i);return pu(n,t+2,o,r)||s}function sh(n,t,e){return function i(o){let r=Ls(n)?lo(n.index,t):t;Hy(r,5);let s=t[un],a=lI(t,s,e,o),c=i.__ngNextListenerFn__;for(;c;)a=lI(t,s,c,o)&&a,c=c.__ngNextListenerFn__;return a}}function lI(n,t,e,i){let o=Le(null);try{return It(6,t,e),e(i)!==!1}catch(r){return sB(n,r),!1}finally{It(7,t,e),Le(o)}}function QS(n,t,e,i,o,r,s,a){let c=nu(n),u=!1,C=null;if(!i&&c&&(C=HB(t,e,r,n.index)),C!==null){let v=C.__ngLastListenerFn__||C;v.__ngNextListenerFn__=s,C.__ngLastListenerFn__=s,u=!0}else{let v=Lo(n,e),P=i?i(v):v;zz(e,P,r,a);let w=o.listen(P,r,a);if(!qB(r)){let S=i?F=>i(co(F[n.index])):n.index;KS(S,t,e,r,a,w,!1)}}return u}function qB(n){return n.startsWith("animation")||n.startsWith("transition")}function HB(n,t,e,i){let o=n.cleanup;if(o!=null)for(let r=0;r<o.length-1;r+=2){let s=o[r];if(s===e&&o[r+1]===i){let a=t[tl],c=o[r+2];return a&&a.length>c?a[c]:null}typeof s=="string"&&(r+=2)}return null}function KS(n,t,e,i,o,r,s){let a=t.firstCreatePass?ob(t):null,c=ib(e),u=c.length;c.push(o,r),a&&a.push(i,n,u,(u+1)*(s?-1:1))}function dI(n,t,e,i,o,r){let s=t[e],a=t[Ee],u=a.data[e].outputs[i],v=s[u].subscribe(r);KS(n.index,a,t,o,r,v,!0)}var ty=Symbol("BINDING");var Ch=class extends yu{ngModule;constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){let e=Kr(t);return new qa(e,this.ngModule)}};function WB(n){return Object.keys(n).map(t=>{let[e,i,o]=n[t],r={propName:e,templateName:t,isSignal:(i&Ah.SignalBased)!==0};return o&&(r.transform=o),r})}function GB(n){return Object.keys(n).map(t=>({propName:n[t],templateName:t}))}function QB(n,t,e){let i=t instanceof Qt?t:t?.injector;return i&&n.getStandaloneInjector!==null&&(i=n.getStandaloneInjector(i)||i),i?new ey(e,i):e}function KB(n){let t=n.get(es,null);if(t===null)throw new G(407,!1);let e=n.get(jS,null),i=n.get(Gr,null);return{rendererFactory:t,sanitizer:e,changeDetectionScheduler:i,ngReflect:!1}}function YB(n,t){let e=YS(n);return tS(t,e,e==="svg"?Zv:e==="math"?m2:null)}function YS(n){return(n.selectors[0][0]||"div").toLowerCase()}var qa=class extends jh{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=WB(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=GB(this.componentDef.outputs),this.cachedOutputs}constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=C8(t.selectors),this.ngContentSelectors=t.ngContentSelectors??[],this.isBoundToModule=!!e}create(t,e,i,o,r,s){It(22);let a=Le(null);try{let c=this.componentDef,u=ZB(i,c,s,r),C=QB(c,o||this.ngModule,t),v=KB(C),P=v.rendererFactory.createRenderer(null,c),w=i?Q8(P,i,c.encapsulation,C):YB(c,P),S=s?.some(uI)||r?.some(W=>typeof W!="function"&&W.bindings.some(uI)),F=Ay(null,u,null,512|cS(c),null,null,v,P,C,null,WI(w,C,!0));F[Xt]=w,Ug(F);let N=null;try{let W=$S(Xt,F,2,"#host",()=>u.directiveRegistry,!0,0);oS(P,w,W),ul(w,F),Uy(u,F,W),QI(u,W,F),qS(u,W),e!==void 0&&XB(W,this.ngContentSelectors,e),N=lo(W.index,F),F[un]=N[un],qy(u,F,null)}catch(W){throw N!==null&&Lb(N),Lb(F),W}finally{It(23),$g()}return new vh(this.componentType,F,!!S)}finally{Le(a)}}};function ZB(n,t,e,i){let o=n?["ng-version","20.3.15"]:v8(t.selectors[0]),r=null,s=null,a=0;if(e)for(let C of e)a+=C[ty].requiredVars,C.create&&(C.targetIdx=0,(r??=[]).push(C)),C.update&&(C.targetIdx=0,(s??=[]).push(C));if(i)for(let C=0;C<i.length;C++){let v=i[C];if(typeof v!="function")for(let P of v.bindings){a+=P[ty].requiredVars;let w=C+1;P.create&&(P.targetIdx=w,(r??=[]).push(P)),P.update&&(P.targetIdx=w,(s??=[]).push(P))}}let c=[t];if(i)for(let C of i){let v=typeof C=="function"?C:C.type,P=$v(v);c.push(P)}return ky(0,null,JB(r,s),1,a,c,null,null,null,[o],null)}function JB(n,t){return!n&&!t?null:e=>{if(e&1&&n)for(let i of n)i.create();if(e&2&&t)for(let i of t)i.update()}}function uI(n){let t=n[ty].kind;return t==="input"||t==="twoWay"}var vh=class extends BS{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(t,e,i){super(),this._rootLView=e,this._hasInputBindings=i,this._tNode=iu(e[Ee],Xt),this.location=gl(this._tNode,e),this.instance=lo(this._tNode.index,e)[un],this.hostView=this.changeDetectorRef=new Bs(e,void 0),this.componentType=t}setInput(t,e){this._hasInputBindings;let i=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),e))return;let o=this._rootLView,r=$y(i,o[Ee],o,t,e);this.previousInputValues.set(t,e);let s=lo(i.index,o);Hy(s,1)}get injector(){return new Va(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}};function XB(n,t,e){let i=n.projection=[];for(let o=0;o<t.length;o++){let r=e[o];i.push(r!=null&&r.length?Array.from(r):null)}}var is=(()=>{class n{static __NG_ELEMENT_ID__=ej}return n})();function ej(){let n=Tn();return JS(n,Ie())}var tj=is,ZS=class extends tj{_lContainer;_hostTNode;_hostLView;constructor(t,e,i){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=i}get element(){return gl(this._hostTNode,this._hostLView)}get injector(){return new Va(this._hostTNode,this._hostLView)}get parentInjector(){let t=vy(this._hostTNode,this._hostLView);if(EI(t)){let e=lh(t,this._hostLView),i=ch(t),o=e[Ee].data[i+8];return new Va(o,e)}else return new Va(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){let e=pI(this._lContainer);return e!==null&&e[t]||null}get length(){return this._lContainer.length-en}createEmbeddedView(t,e,i){let o,r;typeof i=="number"?o=i:i!=null&&(o=i.index,r=i.injector);let s=Jb(this._lContainer,t.ssrId),a=t.createEmbeddedViewImpl(e||{},r,s);return this.insertImpl(a,o,lu(this._hostTNode,s)),a}createComponent(t,e,i,o,r,s,a){let c=t&&!lz(t),u;if(c)u=e;else{let N=e||{};u=N.index,i=N.injector,o=N.projectableNodes,r=N.environmentInjector||N.ngModuleRef,s=N.directives,a=N.bindings}let C=c?t:new qa(Kr(t)),v=i||this.parentInjector;if(!r&&C.ngModule==null){let W=(c?v:this.parentInjector).get(Qt,null);W&&(r=W)}let P=Kr(C.componentType??{}),w=Jb(this._lContainer,P?.id??null),S=w?.firstChild??null,F=C.create(v,o,S,r,s,a);return this.insertImpl(F.hostView,u,lu(this._hostTNode,w)),F}insert(t,e){return this.insertImpl(t,e,!0)}insertImpl(t,e,i){let o=t._lView;if(C2(o)){let a=this.indexOf(t);if(a!==-1)this.detach(a);else{let c=o[Sn],u=new ZS(c,c[ao],c[Sn]);u.detach(u.indexOf(t))}}let r=this._adjustIndex(e),s=this._lContainer;return Bh(s,o,r,i),t.attachToViewContainerRef(),Bv(wb(s),r,t),t}move(t,e){return this.insert(t,e)}indexOf(t){let e=pI(this._lContainer);return e!==null?e.indexOf(t):-1}remove(t){let e=this._adjustIndex(t,-1),i=uu(this._lContainer,e);i&&(Yd(wb(this._lContainer),e),Nh(i[Ee],i))}detach(t){let e=this._adjustIndex(t,-1),i=uu(this._lContainer,e);return i&&Yd(wb(this._lContainer),e)!=null?new Bs(i):null}_adjustIndex(t,e=0){return t??this.length+e}};function pI(n){return n[tu]}function wb(n){return n[tu]||(n[tu]=[])}function JS(n,t){let e,i=t[n.index];return No(i)?e=i:(e=RS(i,t,null,n),t[n.index]=e,Ry(t,e)),ij(e,t,n,i),new ZS(e,n,t)}function nj(n,t){let e=n[Vt],i=e.createComment(""),o=Lo(t,n),r=e.parentNode(o);return fh(e,r,i,e.nextSibling(o),!1),i}var ij=sj,oj=()=>!1;function rj(n,t,e){return oj(n,t,e)}function sj(n,t,e,i){if(n[Ns])return;let o;e.type&8?o=co(i):o=nj(t,e),n[Ns]=o}var ny=class n{queryList;matches=null;constructor(t){this.queryList=t}clone(){return new n(this.queryList)}setDirty(){this.queryList.setDirty()}},iy=class n{queries;constructor(t=[]){this.queries=t}createEmbeddedView(t){let e=t.queries;if(e!==null){let i=t.contentQueries!==null?t.contentQueries[0]:e.length,o=[];for(let r=0;r<i;r++){let s=e.getByIndex(r),a=this.queries[s.indexInDeclarationView];o.push(a.clone())}return new n(o)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}finishViewCreation(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)Ky(t,e).matches!==null&&this.queries[e].setDirty()}},oy=class{flags;read;predicate;constructor(t,e,i=null){this.flags=e,this.read=i,typeof t=="string"?this.predicate=gj(t):this.predicate=t}},ry=class n{queries;constructor(t=[]){this.queries=t}elementStart(t,e){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let i=0;i<this.length;i++){let o=e!==null?e.length:0,r=this.getByIndex(i).embeddedTView(t,o);r&&(r.indexInDeclarationView=i,e!==null?e.push(r):e=[r])}return e!==null?new n(e):null}template(t,e){for(let i=0;i<this.queries.length;i++)this.queries[i].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}},sy=class n{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(t,e=-1){this.metadata=t,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new n(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let e=this._declarationNodeIndex,i=t.parent;for(;i!==null&&i.type&8&&i.index!==e;)i=i.parent;return e===(i!==null?i.index:-1)}return this._appliesToNextNode}matchTNode(t,e){let i=this.metadata.predicate;if(Array.isArray(i))for(let o=0;o<i.length;o++){let r=i[o];this.matchTNodeWithReadOption(t,e,aj(e,r)),this.matchTNodeWithReadOption(t,e,oh(e,t,r,!1,!1))}else i===js?e.type&4&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,oh(e,t,i,!1,!1))}matchTNodeWithReadOption(t,e,i){if(i!==null){let o=this.metadata.read;if(o!==null)if(o===Fn||o===is||o===js&&e.type&4)this.addMatch(e.index,-2);else{let r=oh(e,t,o,!1,!1);r!==null&&this.addMatch(e.index,r)}else this.addMatch(e.index,i)}}addMatch(t,e){this.matches===null?this.matches=[t,e]:this.matches.push(t,e)}};function aj(n,t){let e=n.localNames;if(e!==null){for(let i=0;i<e.length;i+=2)if(e[i]===t)return e[i+1]}return null}function cj(n,t){return n.type&11?gl(n,t):n.type&4?Wy(n,t):null}function lj(n,t,e,i){return e===-1?cj(t,n):e===-2?dj(n,t,i):cu(n,n[Ee],e,t)}function dj(n,t,e){if(e===Fn)return gl(t,n);if(e===js)return Wy(t,n);if(e===is)return JS(t,n)}function XS(n,t,e,i){let o=t[dr].queries[i];if(o.matches===null){let r=n.data,s=e.matches,a=[];for(let c=0;s!==null&&c<s.length;c+=2){let u=s[c];if(u<0)a.push(null);else{let C=r[u];a.push(lj(t,C,s[c+1],e.metadata.read))}}o.matches=a}return o.matches}function ay(n,t,e,i){let o=n.queries.getByIndex(e),r=o.matches;if(r!==null){let s=XS(n,t,o,e);for(let a=0;a<r.length;a+=2){let c=r[a];if(c>0)i.push(s[a/2]);else{let u=r[a+1],C=t[-c];for(let v=en;v<C.length;v++){let P=C[v];P[Rs]===P[Sn]&&ay(P[Ee],P,u,i)}if(C[za]!==null){let v=C[za];for(let P=0;P<v.length;P++){let w=v[P];ay(w[Ee],w,u,i)}}}}}return i}function uj(n,t){return n[dr].queries[t].queryList}function pj(n,t,e){let i=new ph((e&4)===4);return y2(n,t,i,i.destroy),(t[dr]??=new iy).queries.push(new ny(i))-1}function fj(n,t,e,i){let o=pn();if(o.firstCreatePass){let r=Tn();hj(o,new oy(t,e,i),r.index),mj(o,n),(e&2)===2&&(o.staticContentQueries=!0)}return pj(o,Ie(),e)}function gj(n){return n.split(",").map(t=>t.trim())}function hj(n,t,e){n.queries===null&&(n.queries=new ry),n.queries.track(new sy(t,e))}function mj(n,t){let e=n.contentQueries||(n.contentQueries=[]),i=e.length?e[e.length-1]:-1;t!==i&&e.push(n.queries.length-1,t)}function Ky(n,t){return n.queries.getByIndex(t)}function _j(n,t){let e=n[Ee],i=Ky(e,t);return i.crossesNgTemplate?ay(e,n,t,[]):XS(e,n,i,t)}var Ha=class{},Uh=class{};var bh=class extends Ha{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new Ch(this);constructor(t,e,i,o=!0){super(),this.ngModuleType=t,this._parent=e;let r=Uv(t);this._bootstrapComponents=sS(r.bootstrap),this._r3Injector=mb(t,e,[{provide:Ha,useValue:this},{provide:yu,useValue:this.componentFactoryResolver},...i],Wr(t),new Set(["environment"])),o&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}},yh=class extends Uh{moduleType;constructor(t){super(),this.moduleType=t}create(t){return new bh(this.moduleType,t,[])}};var fu=class extends Ha{injector;componentFactoryResolver=new Ch(this);instance=null;constructor(t){super();let e=new ka([...t.providers,{provide:Ha,useValue:this},{provide:yu,useValue:this.componentFactoryResolver}],t.parent||Jd(),t.debugName,new Set(["environment"]));this.injector=e,t.runEnvironmentInitializers&&e.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}};function ml(n,t,e=null){return new fu({providers:n,parent:t,debugName:e,runEnvironmentInitializers:!0}).injector}var Cj=(()=>{class n{_injector;cachedInjectors=new Map;constructor(e){this._injector=e}getOrCreateStandaloneInjector(e){if(!e.standalone)return null;if(!this.cachedInjectors.has(e)){let i=qv(!1,e.type),o=i.length>0?ml([i],this._injector,`Standalone[${e.type.name}]`):null;this.cachedInjectors.set(e,o)}return this.cachedInjectors.get(e)}ngOnDestroy(){try{for(let e of this.cachedInjectors.values())e!==null&&e.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=K({token:n,providedIn:"environment",factory:()=>new n(Z(Qt))})}return n})();function ce(n){return fl(()=>{let t=eT(n),e=ae(j({},t),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===by.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&n.dependencies||null,getStandaloneInjector:t.standalone?o=>o.get(Cj).getOrCreateStandaloneInjector(e):null,getExternalStyles:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||Jr.Emulated,styles:n.styles||_i,_:null,schemas:n.schemas||null,tView:null,id:""});t.standalone&&Gi("NgStandalone"),tT(e);let i=n.dependencies;return e.directiveDefs=fI(i,vj),e.pipeDefs=fI(i,d2),e.id=Mj(e),e})}function vj(n){return Kr(n)||$v(n)}function ri(n){return fl(()=>({type:n.type,bootstrap:n.bootstrap||_i,declarations:n.declarations||_i,imports:n.imports||_i,exports:n.exports||_i,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function bj(n,t){if(n==null)return As;let e={};for(let i in n)if(n.hasOwnProperty(i)){let o=n[i],r,s,a,c;Array.isArray(o)?(a=o[0],r=o[1],s=o[2]??r,c=o[3]||null):(r=o,s=o,a=Ah.None,c=null),e[r]=[i,a,c],t[r]=s}return e}function yj(n){if(n==null)return As;let t={};for(let e in n)n.hasOwnProperty(e)&&(t[n[e]]=e);return t}function gt(n){return fl(()=>{let t=eT(n);return tT(t),t})}function _l(n){return{type:n.type,name:n.name,factory:null,pure:n.pure!==!1,standalone:n.standalone??!0,onDestroy:n.type.prototype.ngOnDestroy||null}}function eT(n){let t={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:t,inputConfig:n.inputs||As,exportAs:n.exportAs||null,standalone:n.standalone??!0,signals:n.signals===!0,selectors:n.selectors||_i,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:bj(n.inputs,t),outputs:yj(n.outputs),debugInfo:null}}function tT(n){n.features?.forEach(t=>t(n))}function fI(n,t){return n?()=>{let e=typeof n=="function"?n():n,i=[];for(let o of e){let r=t(o);r!==null&&i.push(r)}return i}:null}function Mj(n){let t=0,e=typeof n.consts=="function"?"":n.consts,i=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,e,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery];for(let r of i.join("|"))t=Math.imul(31,t)+r.charCodeAt(0)<<0;return t+=2147483648,"c"+t}function Pj(n){return Object.getPrototypeOf(n.prototype).constructor}function vn(n){let t=Pj(n.type),e=!0,i=[n];for(;t;){let o;if(pr(n))o=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new G(903,!1);o=t.\u0275dir}if(o){if(e){i.push(o);let s=n;s.inputs=xb(n.inputs),s.declaredInputs=xb(n.declaredInputs),s.outputs=xb(n.outputs);let a=o.hostBindings;a&&Ij(n,a);let c=o.viewQuery,u=o.contentQueries;if(c&&xj(n,c),u&&Ej(n,u),Oj(n,o),t2(n.outputs,o.outputs),pr(o)&&o.data.animation){let C=n.data;C.animation=(C.animation||[]).concat(o.data.animation)}}let r=o.features;if(r)for(let s=0;s<r.length;s++){let a=r[s];a&&a.ngInherit&&a(n),a===vn&&(e=!1)}}t=Object.getPrototypeOf(t)}wj(i)}function Oj(n,t){for(let e in t.inputs){if(!t.inputs.hasOwnProperty(e)||n.inputs.hasOwnProperty(e))continue;let i=t.inputs[e];i!==void 0&&(n.inputs[e]=i,n.declaredInputs[e]=t.declaredInputs[e])}}function wj(n){let t=0,e=null;for(let i=n.length-1;i>=0;i--){let o=n[i];o.hostVars=t+=o.hostVars,o.hostAttrs=dl(o.hostAttrs,e=dl(e,o.hostAttrs))}}function xb(n){return n===As?{}:n===_i?[]:n}function xj(n,t){let e=n.viewQuery;e?n.viewQuery=(i,o)=>{t(i,o),e(i,o)}:n.viewQuery=t}function Ej(n,t){let e=n.contentQueries;e?n.contentQueries=(i,o,r)=>{t(i,o,r),e(i,o,r)}:n.contentQueries=t}function Ij(n,t){let e=n.hostBindings;e?n.hostBindings=(i,o)=>{t(i,o),e(i,o)}:n.hostBindings=t}function nT(n,t,e,i,o,r,s,a){if(e.firstCreatePass){n.mergedAttrs=dl(n.mergedAttrs,n.attrs);let C=n.tView=ky(2,n,o,r,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,e.consts,null);e.queries!==null&&(e.queries.template(e,n),C.queries=e.queries.embeddedTView(n))}a&&(n.flags|=a),rl(n,!1);let c=Tj(e,t,n,i);Gg()&&jy(e,t,c,n),ul(c,t);let u=RS(c,t,c,n);t[i+Xt]=u,Ry(t,u),rj(u,n,t)}function Sj(n,t,e,i,o,r,s,a,c,u,C){let v=e+Xt,P;return t.firstCreatePass?(P=bu(t,v,4,s||null,a||null),sb()&&VS(t,n,P,uo(t.consts,u),MS),OI(t,P)):P=t.data[v],nT(P,n,t,e,i,o,r,c),nu(P)&&Uy(t,n,P),u!=null&&Fh(n,P,C),P}function Mh(n,t,e,i,o,r,s,a,c,u,C){let v=e+Xt,P;if(t.firstCreatePass){if(P=bu(t,v,4,s||null,a||null),u!=null){let w=uo(t.consts,u);P.localNames=[];for(let S=0;S<w.length;S+=2)P.localNames.push(w[S],-1)}}else P=t.data[v];return nT(P,n,t,e,i,o,r,c),u!=null&&Fh(n,P,C),P}function se(n,t,e,i,o,r,s,a){let c=Ie(),u=pn(),C=uo(u.consts,r);return Sj(c,u,n,t,e,i,o,C,void 0,s,a),se}var Tj=Dj;function Dj(n,t,e,i){return Qg(!0),t[Vt].createComment("")}var $h=(()=>{class n{log(e){console.log(e)}warn(e){console.warn(e)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();var Yy=new oe("");function Vs(n){return!!n&&typeof n.then=="function"}function Zy(n){return!!n&&typeof n.subscribe=="function"}var Jy=new oe("");function qh(n){return Wn([{provide:Jy,multi:!0,useValue:n}])}var Xy=(()=>{class n{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((e,i)=>{this.resolve=e,this.reject=i});appInits=U(Jy,{optional:!0})??[];injector=U(ze);constructor(){}runInitializers(){if(this.initialized)return;let e=[];for(let o of this.appInits){let r=Y(this.injector,o);if(Vs(r))e.push(r);else if(Zy(r)){let s=new Promise((a,c)=>{r.subscribe({complete:a,error:c})});e.push(s)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(e).then(()=>{i()}).catch(o=>{this.reject(o)}),e.length===0&&i(),this.initialized=!0}static \u0275fac=function(i){return new(i||n)};static \u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Mu=new oe("");function iT(){XC(()=>{let n="";throw new G(600,n)})}function oT(n){return n.isBoundToModule}var kj=10;var mr=(()=>{class n{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=U(ki);afterRenderManager=U(zy);zonelessEnabled=U(al);rootEffectScheduler=U(yb);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new me;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=U(fr);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe(H(e=>!e))}constructor(){U(Qa,{optional:!0})}whenStable(){let e;return new Promise(i=>{e=this.isStable.subscribe({next:o=>{o&&i()}})}).finally(()=>{e.unsubscribe()})}_injector=U(Qt);_rendererFactory=null;get injector(){return this._injector}bootstrap(e,i){return this.bootstrapImpl(e,i)}bootstrapImpl(e,i,o=ze.NULL){return this._injector.get(rt).run(()=>{It(10);let s=e instanceof jh;if(!this._injector.get(Xy).done){let S="";throw new G(405,S)}let c;s?c=e:c=this._injector.get(yu).resolveComponentFactory(e),this.componentTypes.push(c.componentType);let u=oT(c)?void 0:this._injector.get(Ha),C=i||c.selector,v=c.create(o,[],C,u),P=v.location.nativeElement,w=v.injector.get(Yy,null);return w?.registerApplication(P),v.onDestroy(()=>{this.detachView(v.hostView),au(this.components,v),w?.unregisterApplication(P)}),this._loadComponent(v),It(11,v),v})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){It(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(Rh.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new G(101,!1);let e=Le(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,Le(e),this.afterTick.next(),It(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(es,null,{optional:!0}));let e=0;for(;this.dirtyFlags!==0&&e++<kj;)It(14),this.synchronizeOnce(),It(15)}synchronizeOnce(){this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let e=!1;if(this.dirtyFlags&7){let i=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:o}of this.allViews){if(!i&&!ou(o))continue;let r=i&&!this.zonelessEnabled?0:1;TS(o,r),e=!0}if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}e||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:e})=>ou(e))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(e){let i=e;this._views.push(i),i.attachToAppRef(this)}detachView(e){let i=e;au(this._views,i),i.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView);try{this.tick()}catch(o){this.internalErrorHandler(o)}this.components.push(e),this._injector.get(Mu,[]).forEach(o=>o(e))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(e=>e()),this._views.slice().forEach(e=>e.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(e){return this._destroyListeners.push(e),()=>au(this._destroyListeners,e)}destroy(){if(this._destroyed)throw new G(406,!1);let e=this._injector;e.destroy&&!e.destroyed&&e.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(i){return new(i||n)};static \u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function au(n,t){let e=n.indexOf(t);e>-1&&n.splice(e,1)}function pt(n,t,e,i){let o=Ie(),r=Fs();if(Wi(o,r,t)){let s=pn(),a=qg();iB(a,o,n,t,e,i)}return pt}var Hfe=typeof document<"u"&&typeof document?.documentElement?.getAnimations=="function";var cy=class{destroy(t){}updateValue(t,e){}swap(t,e){let i=Math.min(t,e),o=Math.max(t,e),r=this.detach(o);if(o-i>1){let s=this.detach(i);this.attach(i,r),this.attach(o,s)}else this.attach(i,r)}move(t,e){this.attach(e,this.detach(t))}};function Eb(n,t,e,i,o){return n===e&&Object.is(t,i)?1:Object.is(o(n,t),o(e,i))?-1:0}function Aj(n,t,e){let i,o,r=0,s=n.length-1,a=void 0;if(Array.isArray(t)){let c=t.length-1;for(;r<=s&&r<=c;){let u=n.at(r),C=t[r],v=Eb(r,u,r,C,e);if(v!==0){v<0&&n.updateValue(r,C),r++;continue}let P=n.at(s),w=t[c],S=Eb(s,P,c,w,e);if(S!==0){S<0&&n.updateValue(s,w),s--,c--;continue}let F=e(r,u),N=e(s,P),W=e(r,C);if(Object.is(W,N)){let Ce=e(c,w);Object.is(Ce,F)?(n.swap(r,s),n.updateValue(s,w),c--,s--):n.move(s,r),n.updateValue(r,C),r++;continue}if(i??=new Ph,o??=hI(n,r,s,e),ly(n,i,r,W))n.updateValue(r,C),r++,s++;else if(o.has(W))i.set(F,n.detach(r)),s--;else{let Ce=n.create(r,t[r]);n.attach(r,Ce),r++,s++}}for(;r<=c;)gI(n,i,e,r,t[r]),r++}else if(t!=null){let c=t[Symbol.iterator](),u=c.next();for(;!u.done&&r<=s;){let C=n.at(r),v=u.value,P=Eb(r,C,r,v,e);if(P!==0)P<0&&n.updateValue(r,v),r++,u=c.next();else{i??=new Ph,o??=hI(n,r,s,e);let w=e(r,v);if(ly(n,i,r,w))n.updateValue(r,v),r++,s++,u=c.next();else if(!o.has(w))n.attach(r,n.create(r,v)),r++,s++,u=c.next();else{let S=e(r,C);i.set(S,n.detach(r)),s--}}}for(;!u.done;)gI(n,i,e,n.length,u.value),u=c.next()}for(;r<=s;)n.destroy(n.detach(s--));i?.forEach(c=>{n.destroy(c)})}function ly(n,t,e,i){return t!==void 0&&t.has(i)?(n.attach(e,t.get(i)),t.delete(i),!0):!1}function gI(n,t,e,i,o){if(ly(n,t,i,e(i,o)))n.updateValue(i,o);else{let r=n.create(i,o);n.attach(i,r)}}function hI(n,t,e,i){let o=new Set;for(let r=t;r<=e;r++)o.add(i(r,n.at(r)));return o}var Ph=class{kvMap=new Map;_vMap=void 0;has(t){return this.kvMap.has(t)}delete(t){if(!this.has(t))return!1;let e=this.kvMap.get(t);return this._vMap!==void 0&&this._vMap.has(e)?(this.kvMap.set(t,this._vMap.get(e)),this._vMap.delete(e)):this.kvMap.delete(t),!0}get(t){return this.kvMap.get(t)}set(t,e){if(this.kvMap.has(t)){let i=this.kvMap.get(t);this._vMap===void 0&&(this._vMap=new Map);let o=this._vMap;for(;o.has(i);)i=o.get(i);o.set(i,e)}else this.kvMap.set(t,e)}forEach(t){for(let[e,i]of this.kvMap)if(t(i,e),this._vMap!==void 0){let o=this._vMap;for(;o.has(i);)i=o.get(i),t(i,e)}}};function T(n,t,e,i,o,r,s,a){Gi("NgControlFlow");let c=Ie(),u=pn(),C=uo(u.consts,r);return Mh(c,u,n,t,e,i,o,C,256,s,a),e1}function e1(n,t,e,i,o,r,s,a){Gi("NgControlFlow");let c=Ie(),u=pn(),C=uo(u.consts,r);return Mh(c,u,n,t,e,i,o,C,512,s,a),e1}function D(n,t){Gi("NgControlFlow");let e=Ie(),i=Fs(),o=e[i]!==Cn?e[i]:-1,r=o!==-1?Oh(e,Xt+o):void 0,s=0;if(Wi(e,i,n)){let a=Le(null);try{if(r!==void 0&&LS(r,s),n!==-1){let c=Xt+n,u=Oh(e,c),C=fy(e[Ee],c),v=zS(u,C,e),P=zh(e,C,t,{dehydratedView:v});Bh(u,P,s,lu(C,v))}}finally{Le(a)}}else if(r!==void 0){let a=NS(r,s);a!==void 0&&(a[un]=t)}}var dy=class{lContainer;$implicit;$index;constructor(t,e,i){this.lContainer=t,this.$implicit=e,this.$index=i}get $count(){return this.lContainer.length-en}};function Ri(n){return n}function Pu(n,t){return t}var uy=class{hasEmptyBlock;trackByFn;liveCollection;constructor(t,e,i){this.hasEmptyBlock=t,this.trackByFn=e,this.liveCollection=i}};function Be(n,t,e,i,o,r,s,a,c,u,C,v,P){Gi("NgControlFlow");let w=Ie(),S=pn(),F=c!==void 0,N=Ie(),W=a?s.bind(N[qi][un]):s,Ce=new uy(F,W);N[Xt+n]=Ce,Mh(w,S,n+1,t,e,i,o,uo(S.consts,r),256),F&&Mh(w,S,n+2,c,u,C,v,uo(S.consts,P),512)}var py=class extends cy{lContainer;hostLView;templateTNode;operationsCounter=void 0;needsIndexUpdate=!1;constructor(t,e,i){super(),this.lContainer=t,this.hostLView=e,this.templateTNode=i}get length(){return this.lContainer.length-en}at(t){return this.getLView(t)[un].$implicit}attach(t,e){let i=e[el];this.needsIndexUpdate||=t!==this.length,Bh(this.lContainer,e,t,lu(this.templateTNode,i)),Rj(this.lContainer,t)}detach(t){return this.needsIndexUpdate||=t!==this.length-1,Nj(this.lContainer,t),Lj(this.lContainer,t)}create(t,e){let i=Jb(this.lContainer,this.templateTNode.tView.ssrId),o=zh(this.hostLView,this.templateTNode,new dy(this.lContainer,e,t),{dehydratedView:i});return this.operationsCounter?.recordCreate(),o}destroy(t){Nh(t[Ee],t),this.operationsCounter?.recordDestroy()}updateValue(t,e){this.getLView(t)[un].$implicit=e}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let t=0;t<this.length;t++)this.getLView(t)[un].$index=t}getLView(t){return Fj(this.lContainer,t)}};function je(n){let t=Le(null),e=po();try{let i=Ie(),o=i[Ee],r=i[e],s=e+1,a=Oh(i,s);if(r.liveCollection===void 0){let u=fy(o,s);r.liveCollection=new py(a,i,u)}else r.liveCollection.reset();let c=r.liveCollection;if(Aj(c,n,r.trackByFn),c.updateIndexes(),r.hasEmptyBlock){let u=Fs(),C=c.length===0;if(Wi(i,u,C)){let v=e+2,P=Oh(i,v);if(C){let w=fy(o,v),S=zS(P,w,i),F=zh(i,w,void 0,{dehydratedView:S});Bh(P,F,0,lu(w,S))}else o.firstUpdatePass&&EB(P),LS(P,0)}}}finally{Le(t)}}function Oh(n,t){return n[t]}function Rj(n,t){if(n.length<=en)return;let e=en+t,i=n[e],o=i?i[Fa]:void 0;if(i&&o&&o.detachedLeaveAnimationFns&&o.detachedLeaveAnimationFns.length>0){let r=i[Yr];k8(r,o),$a.delete(i),o.detachedLeaveAnimationFns=void 0}}function Nj(n,t){if(n.length<=en)return;let e=en+t,i=n[e],o=i?i[Fa]:void 0;o&&o.leave&&o.leave.size>0&&(o.detachedLeaveAnimationFns=[])}function Lj(n,t){return uu(n,t)}function Fj(n,t){return NS(n,t)}function fy(n,t){return iu(n,t)}function E(n,t,e){let i=Ie(),o=Fs();if(Wi(i,o,t)){let r=pn(),s=qg();yS(s,i,n,t,i[Vt],e)}return E}function gy(n,t,e,i,o){$y(t,n,e,o?"class":"style",i)}function d(n,t,e,i){let o=Ie(),r=o[Ee],s=n+Xt,a=r.firstCreatePass?$S(s,o,2,t,MS,sb(),e,i):r.data[s];if(PS(a,o,n,t,rT),nu(a)){let c=o[Ee];Uy(c,o,a),QI(c,a,o)}return i!=null&&Fh(o,a),d}function p(){let n=pn(),t=Tn(),e=OS(t);return n.firstCreatePass&&qS(n,e),ab(e)&&cb(),rb(),e.classesWithoutHost!=null&&hz(e)&&gy(n,e,Ie(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&mz(e)&&gy(n,e,Ie(),e.stylesWithoutHost,!1),p}function b(n,t,e,i){return d(n,t,e,i),p(),b}function Se(n,t,e,i){let o=Ie(),r=o[Ee],s=n+Xt,a=r.firstCreatePass?VB(s,r,2,t,e,i):r.data[s];return PS(a,o,n,t,rT),i!=null&&Fh(o,a),Se}function Re(){let n=Tn(),t=OS(n);return ab(t)&&cb(),rb(),Re}function bn(n,t,e,i){return Se(n,t,e,i),Re(),bn}var rT=(n,t,e,i,o)=>(Qg(!0),tS(t[Vt],i,L2()));function J(){return Ie()}var eh=void 0;function zj(n){let t=Math.floor(Math.abs(n)),e=n.toString().replace(/^[^.]*\.?/,"").length;return t===1&&e===0?1:5}var Bj=["en",[["a","p"],["AM","PM"]],[["AM","PM"]],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],eh,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],eh,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",eh,"{1} 'at' {0}",eh],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",zj],Ib={};function Ki(n){let t=jj(n),e=mI(t);if(e)return e;let i=t.split("-")[0];if(e=mI(i),e)return e;if(i==="en")return Bj;throw new G(701,!1)}function mI(n){return n in Ib||(Ib[n]=ro.ng&&ro.ng.common&&ro.ng.common.locales&&ro.ng.common.locales[n]),Ib[n]}var fn=(function(n){return n[n.LocaleId=0]="LocaleId",n[n.DayPeriodsFormat=1]="DayPeriodsFormat",n[n.DayPeriodsStandalone=2]="DayPeriodsStandalone",n[n.DaysFormat=3]="DaysFormat",n[n.DaysStandalone=4]="DaysStandalone",n[n.MonthsFormat=5]="MonthsFormat",n[n.MonthsStandalone=6]="MonthsStandalone",n[n.Eras=7]="Eras",n[n.FirstDayOfWeek=8]="FirstDayOfWeek",n[n.WeekendRange=9]="WeekendRange",n[n.DateFormat=10]="DateFormat",n[n.TimeFormat=11]="TimeFormat",n[n.DateTimeFormat=12]="DateTimeFormat",n[n.NumberSymbols=13]="NumberSymbols",n[n.NumberFormats=14]="NumberFormats",n[n.CurrencyCode=15]="CurrencyCode",n[n.CurrencySymbol=16]="CurrencySymbol",n[n.CurrencyName=17]="CurrencyName",n[n.Currencies=18]="Currencies",n[n.Directionality=19]="Directionality",n[n.PluralCase=20]="PluralCase",n[n.ExtraData=21]="ExtraData",n})(fn||{});function jj(n){return n.toLowerCase().replace(/_/g,"-")}var Ou="en-US";var Vj=Ou;function sT(n){typeof n=="string"&&(Vj=n.toLowerCase().replace(/_/g,"-"))}function R(n,t,e){let i=Ie(),o=pn(),r=Tn();return aT(o,i,i[Vt],r,n,t,e),R}function Cl(n,t,e){let i=Ie(),o=pn(),r=Tn();return(r.type&3||e)&&QS(r,o,i,e,i[Vt],n,t,sh(r,i,t)),Cl}function aT(n,t,e,i,o,r,s){let a=!0,c=null;if((i.type&3||s)&&(c??=sh(i,t,r),QS(i,n,t,s,e,o,r,c)&&(a=!1)),a){let u=i.outputs?.[o],C=i.hostDirectiveOutputs?.[o];if(C&&C.length)for(let v=0;v<C.length;v+=2){let P=C[v],w=C[v+1];c??=sh(i,t,r),dI(i,t,P,w,o,c)}if(u&&u.length)for(let v of u)c??=sh(i,t,r),dI(i,t,v,o,o,c)}}function x(n=1){return N2(n)}function t1(n,t,e,i){fj(n,t,e,i)}function n1(n){let t=Ie(),e=pn(),i=fb();Vg(i+1);let o=Ky(e,i);if(n.dirty&&_2(t)===((o.metadata.flags&2)===2)){if(o.matches===null)n.reset([]);else{let r=_j(t,i);n.reset(r,Sz),n.notifyOnChanges()}return!0}return!1}function i1(){return uj(Ie(),fb())}function th(n,t){return n<<17|t<<2}function Wa(n){return n>>17&32767}function Uj(n){return(n&2)==2}function $j(n,t){return n&131071|t<<17}function hy(n){return n|2}function pl(n){return(n&131068)>>2}function Sb(n,t){return n&-131069|t<<2}function qj(n){return(n&1)===1}function my(n){return n|1}function Hj(n,t,e,i,o,r){let s=r?t.classBindings:t.styleBindings,a=Wa(s),c=pl(s);n[i]=e;let u=!1,C;if(Array.isArray(e)){let v=e;C=v[1],(C===null||Xc(v,C)>0)&&(u=!0)}else C=e;if(o)if(c!==0){let P=Wa(n[a+1]);n[i+1]=th(P,a),P!==0&&(n[P+1]=Sb(n[P+1],i)),n[a+1]=$j(n[a+1],i)}else n[i+1]=th(a,0),a!==0&&(n[a+1]=Sb(n[a+1],i)),a=i;else n[i+1]=th(c,0),a===0?a=i:n[c+1]=Sb(n[c+1],i),c=i;u&&(n[i+1]=hy(n[i+1])),_I(n,C,i,!0),_I(n,C,i,!1),Wj(t,C,n,i,r),s=th(a,c),r?t.classBindings=s:t.styleBindings=s}function Wj(n,t,e,i,o){let r=o?n.residualClasses:n.residualStyles;r!=null&&typeof t=="string"&&Xc(r,t)>=0&&(e[i+1]=my(e[i+1]))}function _I(n,t,e,i){let o=n[e+1],r=t===null,s=i?Wa(o):pl(o),a=!1;for(;s!==0&&(a===!1||r);){let c=n[s],u=n[s+1];Gj(c,t)&&(a=!0,n[s+1]=i?my(u):hy(u)),s=i?Wa(u):pl(u)}a&&(n[e+1]=i?hy(o):my(o))}function Gj(n,t){return n===null||t==null||(Array.isArray(n)?n[1]:n)===t?!0:Array.isArray(n)&&typeof t=="string"?Xc(n,t)>=0:!1}var zo={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Qj(n){return n.substring(zo.key,zo.keyEnd)}function Kj(n){return Yj(n),cT(n,lT(n,0,zo.textEnd))}function cT(n,t){let e=zo.textEnd;return e===t?-1:(t=zo.keyEnd=Zj(n,zo.key=t,e),lT(n,t,e))}function Yj(n){zo.key=0,zo.keyEnd=0,zo.value=0,zo.valueEnd=0,zo.textEnd=n.length}function lT(n,t,e){for(;t<e&&n.charCodeAt(t)<=32;)t++;return t}function Zj(n,t,e){for(;t<e&&n.charCodeAt(t)>32;)t++;return t}function vi(n,t,e){return dT(n,t,e,!1),vi}function V(n,t){return dT(n,t,null,!0),V}function si(n){Xj(rV,Jj,n,!0)}function Jj(n,t){for(let e=Kj(t);e>=0;e=cT(t,e))kg(n,Qj(t),!0)}function dT(n,t,e,i){let o=Ie(),r=pn(),s=sl(2);if(r.firstUpdatePass&&pT(r,n,s,i),t!==Cn&&Wi(o,s,t)){let a=r.data[po()];fT(r,a,o,o[Vt],n,o[s+1]=aV(t,e),i,s)}}function Xj(n,t,e,i){let o=pn(),r=sl(2);o.firstUpdatePass&&pT(o,null,r,i);let s=Ie();if(e!==Cn&&Wi(s,r,e)){let a=o.data[po()];if(gT(a,i)&&!uT(o,r)){let c=i?a.classesWithoutHost:a.stylesWithoutHost;c!==null&&(e=Ig(c,e||"")),gy(o,a,s,e,i)}else sV(o,a,s,s[Vt],s[r+1],s[r+1]=oV(n,t,e),i,r)}}function uT(n,t){return t>=n.expandoStartIndex}function pT(n,t,e,i){let o=n.data;if(o[e+1]===null){let r=o[po()],s=uT(n,e);gT(r,i)&&t===null&&!s&&(t=!1),t=eV(o,r,t,i),Hj(o,r,t,e,s,i)}}function eV(n,t,e,i){let o=D2(n),r=i?t.residualClasses:t.residualStyles;if(o===null)(i?t.classBindings:t.styleBindings)===0&&(e=Tb(null,n,t,e,i),e=gu(e,t.attrs,i),r=null);else{let s=t.directiveStylingLast;if(s===-1||n[s]!==o)if(e=Tb(o,n,t,e,i),r===null){let c=tV(n,t,i);c!==void 0&&Array.isArray(c)&&(c=Tb(null,n,t,c[1],i),c=gu(c,t.attrs,i),nV(n,t,i,c))}else r=iV(n,t,i)}return r!==void 0&&(i?t.residualClasses=r:t.residualStyles=r),e}function tV(n,t,e){let i=e?t.classBindings:t.styleBindings;if(pl(i)!==0)return n[Wa(i)]}function nV(n,t,e,i){let o=e?t.classBindings:t.styleBindings;n[Wa(o)]=i}function iV(n,t,e){let i,o=t.directiveEnd;for(let r=1+t.directiveStylingLast;r<o;r++){let s=n[r].hostAttrs;i=gu(i,s,e)}return gu(i,t.attrs,e)}function Tb(n,t,e,i,o){let r=null,s=e.directiveEnd,a=e.directiveStylingLast;for(a===-1?a=e.directiveStart:a++;a<s&&(r=t[a],i=gu(i,r.hostAttrs,o),r!==n);)a++;return n!==null&&(e.directiveStylingLast=a),i}function gu(n,t,e){let i=e?1:2,o=-1;if(t!==null)for(let r=0;r<t.length;r++){let s=t[r];typeof s=="number"?o=s:o===i&&(Array.isArray(n)||(n=n===void 0?[]:["",n]),kg(n,s,e?!0:t[++r]))}return n===void 0?null:n}function oV(n,t,e){if(e==null||e==="")return _i;let i=[],o=go(e);if(Array.isArray(o))for(let r=0;r<o.length;r++)n(i,o[r],!0);else if(typeof o=="object")for(let r in o)o.hasOwnProperty(r)&&n(i,r,o[r]);else typeof o=="string"&&t(i,o);return i}function rV(n,t,e){let i=String(t);i!==""&&!i.includes(" ")&&kg(n,i,e)}function sV(n,t,e,i,o,r,s,a){o===Cn&&(o=_i);let c=0,u=0,C=0<o.length?o[0]:null,v=0<r.length?r[0]:null;for(;C!==null||v!==null;){let P=c<o.length?o[c+1]:void 0,w=u<r.length?r[u+1]:void 0,S=null,F;C===v?(c+=2,u+=2,P!==w&&(S=v,F=w)):v===null||C!==null&&C<v?(c+=2,S=C):(u+=2,S=v,F=w),S!==null&&fT(n,t,e,i,S,F,s,a),C=c<o.length?o[c]:null,v=u<r.length?r[u]:null}}function fT(n,t,e,i,o,r,s,a){if(!(t.type&3))return;let c=n.data,u=c[a+1],C=qj(u)?CI(c,t,e,o,pl(u),s):void 0;if(!wh(C)){wh(r)||Uj(u)&&(r=CI(c,null,e,o,a,s));let v=Jv(po(),e);G8(i,s,v,o,r)}}function CI(n,t,e,i,o,r){let s=t===null,a;for(;o>0;){let c=n[o],u=Array.isArray(c),C=u?c[1]:c,v=C===null,P=e[o+1];P===Cn&&(P=v?_i:void 0);let w=v?Ag(P,i):C===i?P:void 0;if(u&&!wh(w)&&(w=Ag(c,i)),wh(w)&&(a=w,s))return a;let S=n[o+1];o=s?Wa(S):pl(S)}if(t!==null){let c=r?t.residualClasses:t.residualStyles;c!=null&&(a=Ag(c,i))}return a}function wh(n){return n!==void 0}function aV(n,t){return n==null||n===""||(typeof t=="string"?n=n+t:typeof n=="object"&&(n=Wr(go(n)))),n}function gT(n,t){return(n.flags&(t?8:16))!==0}function f(n,t=""){let e=Ie(),i=pn(),o=n+Xt,r=i.firstCreatePass?bu(i,o,1,t,null):i.data[o],s=cV(i,e,r,t,n);e[o]=s,Gg()&&jy(i,e,s,r),rl(r,!1)}var cV=(n,t,e,i,o)=>(Qg(!0),o8(t[Vt],i));function lV(n,t,e,i=""){return Wi(n,Fs(),e)?t+Ci(e)+i:Cn}function dV(n,t,e,i,o,r=""){let s=Bg(),a=pu(n,s,e,o);return sl(2),a?t+Ci(e)+i+Ci(o)+r:Cn}function uV(n,t,e,i,o,r,s,a=""){let c=Bg(),u=GS(n,c,e,o,s);return sl(3),u?t+Ci(e)+i+Ci(o)+r+Ci(s)+a:Cn}function pV(n,t,e,i,o,r,s,a,c,u=""){let C=Bg(),v=$B(n,C,e,o,s,c);return sl(4),v?t+Ci(e)+i+Ci(o)+r+Ci(s)+a+Ci(c)+u:Cn}function O(n){return M("",n),O}function M(n,t,e){let i=Ie(),o=lV(i,n,t,e);return o!==Cn&&Hh(i,po(),o),M}function tt(n,t,e,i,o){let r=Ie(),s=dV(r,n,t,e,i,o);return s!==Cn&&Hh(r,po(),s),tt}function vl(n,t,e,i,o,r,s){let a=Ie(),c=uV(a,n,t,e,i,o,r,s);return c!==Cn&&Hh(a,po(),c),vl}function bl(n,t,e,i,o,r,s,a,c){let u=Ie(),C=pV(u,n,t,e,i,o,r,s,a,c);return C!==Cn&&Hh(u,po(),C),bl}function Hh(n,t,e){let i=Jv(t,n);r8(n[Vt],i,e)}function Qn(n,t,e){Cb(t)&&(t=t());let i=Ie(),o=Fs();if(Wi(i,o,t)){let r=pn(),s=qg();yS(s,i,n,t,i[Vt],e)}return Qn}function ai(n,t){let e=Cb(n);return e&&n.set(t),e}function Kn(n,t){let e=Ie(),i=pn(),o=Tn();return aT(i,e,e[Vt],o,n,t),Kn}function ci(n){return Wi(Ie(),Fs(),n)?Ci(n):Cn}function fV(n,t,e){let i=pn();if(i.firstCreatePass){let o=pr(n);_y(e,i.data,i.blueprint,o,!0),_y(t,i.data,i.blueprint,o,!1)}}function _y(n,t,e,i,o){if(n=qn(n),Array.isArray(n))for(let r=0;r<n.length;r++)_y(n[r],t,e,i,o);else{let r=pn(),s=Ie(),a=Tn(),c=Da(n)?n:qn(n.provide),u=Wv(n),C=a.providerIndexes&1048575,v=a.directiveStart,P=a.providerIndexes>>20;if(Da(n)||!n.multi){let w=new Ua(u,o,A,null),S=kb(c,t,o?C:C+P,v);S===-1?(Rb(uh(a,s),r,c),Db(r,n,t.length),t.push(c),a.directiveStart++,a.directiveEnd++,o&&(a.providerIndexes+=1048576),e.push(w),s.push(w)):(e[S]=w,s[S]=w)}else{let w=kb(c,t,C+P,v),S=kb(c,t,C,C+P),F=w>=0&&e[w],N=S>=0&&e[S];if(o&&!N||!o&&!F){Rb(uh(a,s),r,c);let W=mV(o?hV:gV,e.length,o,i,u,n);!o&&N&&(e[S].providerFactory=W),Db(r,n,t.length,0),t.push(c),a.directiveStart++,a.directiveEnd++,o&&(a.providerIndexes+=1048576),e.push(W),s.push(W)}else{let W=hT(e[o?S:w],u,!o&&i);Db(r,n,w>-1?w:S,W)}!o&&i&&N&&e[S].componentProviders++}}}function Db(n,t,e,i){let o=Da(t),r=f2(t);if(o||r){let c=(r?qn(t.useClass):t).prototype.ngOnDestroy;if(c){let u=n.destroyHooks||(n.destroyHooks=[]);if(!o&&t.multi){let C=u.indexOf(e);C===-1?u.push(e,[i,c]):u[C+1].push(i,c)}else u.push(e,c)}}}function hT(n,t,e){return e&&n.componentProviders++,n.multi.push(t)-1}function kb(n,t,e,i){for(let o=e;o<i;o++)if(t[o]===n)return o;return-1}function gV(n,t,e,i,o){return Cy(this.multi,[])}function hV(n,t,e,i,o){let r=this.multi,s;if(this.providerFactory){let a=this.providerFactory.componentProviders,c=cu(i,i[Ee],this.providerFactory.index,o);s=c.slice(0,a),Cy(r,s);for(let u=a;u<c.length;u++)s.push(c[u])}else s=[],Cy(r,s);return s}function Cy(n,t){for(let e=0;e<n.length;e++){let i=n[e];t.push(i())}return t}function mV(n,t,e,i,o,r){let s=new Ua(n,e,A,null);return s.multi=[],s.index=t,s.componentProviders=0,hT(s,o,i&&!e),s}function bi(n,t=[]){return e=>{e.providersResolver=(i,o)=>fV(i,o?o(n):n,t)}}function yi(n,t,e){let i=ja()+n,o=Ie();return o[i]===Cn?Vh(o,i,e?t.call(e):t()):UB(o,i)}function os(n,t,e,i){return mT(Ie(),ja(),n,t,e,i)}function o1(n,t,e,i,o){return _T(Ie(),ja(),n,t,e,i,o)}function r1(n,t){let e=n[t];return e===Cn?void 0:e}function mT(n,t,e,i,o,r){let s=t+e;return Wi(n,s,o)?Vh(n,s+1,r?i.call(r,o):i(o)):r1(n,s+1)}function _T(n,t,e,i,o,r,s){let a=t+e;return pu(n,a,o,r)?Vh(n,a+2,s?i.call(s,o,r):i(o,r)):r1(n,a+2)}function _V(n,t,e,i,o,r,s,a){let c=t+e;return GS(n,c,o,r,s)?Vh(n,c+3,a?i.call(a,o,r,s):i(o,r,s)):r1(n,c+3)}function h(n,t){let e=pn(),i,o=n+Xt;e.firstCreatePass?(i=CV(t,e.pipeRegistry),e.data[o]=i,i.onDestroy&&(e.destroyHooks??=[]).push(o,i.onDestroy)):i=e.data[o];let r=i.factory||(i.factory=Ds(i.type,!0)),s,a=mi(A);try{let c=dh(!1),u=r();return dh(c),Xv(e,Ie(),o,u),u}finally{mi(a)}}function CV(n,t){if(t)for(let e=t.length-1;e>=0;e--){let i=t[e];if(n===i.name)return i}}function m(n,t,e){let i=n+Xt,o=Ie(),r=Lg(o,i);return a1(o,i)?mT(o,ja(),t,r.transform,e,r):r.transform(e)}function s1(n,t,e,i){let o=n+Xt,r=Ie(),s=Lg(r,o);return a1(r,o)?_T(r,ja(),t,s.transform,e,i,s):s.transform(e,i)}function wu(n,t,e,i,o){let r=n+Xt,s=Ie(),a=Lg(s,r);return a1(s,r)?_V(s,ja(),t,a.transform,e,i,o,a):a.transform(e,i,o)}function a1(n,t){return n[Ee].data[t].pure}var xh=class{ngModuleFactory;componentFactories;constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}},c1=(()=>{class n{compileModuleSync(e){return new yh(e)}compileModuleAsync(e){return Promise.resolve(this.compileModuleSync(e))}compileModuleAndAllComponentsSync(e){let i=this.compileModuleSync(e),o=Uv(e),r=sS(o.declarations).reduce((s,a)=>{let c=Kr(a);return c&&s.push(new qa(c)),s},[]);return new xh(i,r)}compileModuleAndAllComponentsAsync(e){return Promise.resolve(this.compileModuleAndAllComponentsSync(e))}clearCache(){}clearCacheFor(e){}getModuleId(e){}static \u0275fac=function(i){return new(i||n)};static \u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var vV=(()=>{class n{zone=U(rt);changeDetectionScheduler=U(Gr);applicationRef=U(mr);applicationErrorHandler=U(ki);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{try{this.applicationRef.dirtyFlags|=1,this.applicationRef._tick()}catch(e){this.applicationErrorHandler(e)}})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(i){return new(i||n)};static \u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),CT=new oe("",{factory:()=>!1});function l1({ngZoneFactory:n,ignoreChangesOutsideZone:t,scheduleInRootZone:e}){return n??=()=>new rt(ae(j({},u1()),{scheduleInRootZone:e})),[{provide:rt,useFactory:n},{provide:Qr,multi:!0,useFactory:()=>{let i=U(vV,{optional:!0});return()=>i.initialize()}},{provide:Qr,multi:!0,useFactory:()=>{let i=U(bV);return()=>{i.initialize()}}},t===!0?{provide:vb,useValue:!0}:[],{provide:bb,useValue:e??uS},{provide:ki,useFactory:()=>{let i=U(rt),o=U(Qt),r;return s=>{i.runOutsideAngular(()=>{o.destroyed&&!r?setTimeout(()=>{throw s}):(r??=o.get(Ao),r.handleError(s))})}}}]}function d1(n){let t=n?.ignoreChangesOutsideZone,e=n?.scheduleInRootZone,i=l1({ngZoneFactory:()=>{let o=u1(n);return o.scheduleInRootZone=e,o.shouldCoalesceEventChangeDetection&&Gi("NgZone_CoalesceEvent"),new rt(o)},ignoreChangesOutsideZone:t,scheduleInRootZone:e});return Wn([{provide:CT,useValue:!0},{provide:al,useValue:!1},i])}function u1(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}var bV=(()=>{class n{subscription=new Jt;initialized=!1;zone=U(rt);pendingTasks=U(fr);initialize(){if(this.initialized)return;this.initialized=!0;let e=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(e=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{rt.assertNotInAngularZone(),queueMicrotask(()=>{e!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(e),e=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{rt.assertInAngularZone(),e??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(i){return new(i||n)};static \u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var vT=(()=>{class n{applicationErrorHandler=U(ki);appRef=U(mr);taskService=U(fr);ngZone=U(rt);zonelessEnabled=U(al);tracing=U(Qa,{optional:!0});disableScheduling=U(vb,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new Jt;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(gh):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(U(bb,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof hh||!this.zoneIsDefined)}notify(e){if(!this.zonelessEnabled&&e===5)return;let i=!1;switch(e){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,i=!0;break}case 12:{this.appRef.dirtyFlags|=16,i=!0;break}case 13:{this.appRef.dirtyFlags|=2,i=!0;break}case 11:{i=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(i))return;let o=this.useMicrotaskScheduler?eI:pS;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>o(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>o(()=>this.tick()))}shouldScheduleTick(e){return!(this.disableScheduling&&!e||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(gh+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let e=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(i){this.taskService.remove(e),this.applicationErrorHandler(i)}finally{this.cleanup()}this.useMicrotaskScheduler=!0,eI(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(e)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let e=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(e)}}static \u0275fac=function(i){return new(i||n)};static \u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function yV(){return typeof $localize<"u"&&$localize.locale||Ou}var xu=new oe("",{providedIn:"root",factory:()=>U(xu,{optional:!0,skipSelf:!0})||yV()});function zn(n){return JE(n)}function yl(n,t){return Zf(n,t?.equal)}var bT=class{[ii];constructor(t){this[ii]=t}destroy(){this[ii].destroy()}};var wT=Symbol("InputSignalNode#UNSET"),AV=ae(j({},Jf),{transformFn:void 0,applyValueToInputSignal(n,t){jc(n,t)}});function xT(n,t){let e=Object.create(AV);e.value=n,e.transformFn=t?.transform;function i(){if(Fc(e),e.value===wT){let o=null;throw new G(-950,o)}return e.value}return i[ii]=e,i}var Gh=class{attributeName;constructor(t){this.attributeName=t}__NG_ELEMENT_ID__=()=>hu(this.attributeName);toString(){return`HostAttributeToken ${this.attributeName}`}},RV=new oe("");RV.__NG_ELEMENT_ID__=n=>{let t=Tn();if(t===null)throw new G(204,!1);if(t.type&2)return t.value;if(n&8)return null;throw new G(204,!1)};function yT(n,t){return xT(n,t)}function NV(n){return xT(wT,n)}var ET=(yT.required=NV,yT);var p1=new oe(""),LV=new oe("");function Eu(n){return!n.moduleRef}function FV(n){let t=Eu(n)?n.r3Injector:n.moduleRef.injector,e=t.get(rt);return e.run(()=>{Eu(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();let i=t.get(ki),o;if(e.runOutsideAngular(()=>{o=e.onError.subscribe({next:i})}),Eu(n)){let r=()=>t.destroy(),s=n.platformInjector.get(p1);s.add(r),t.onDestroy(()=>{o.unsubscribe(),s.delete(r)})}else{let r=()=>n.moduleRef.destroy(),s=n.platformInjector.get(p1);s.add(r),n.moduleRef.onDestroy(()=>{au(n.allPlatformModules,n.moduleRef),o.unsubscribe(),s.delete(r)})}return BV(i,e,()=>{let r=t.get(fr),s=r.add(),a=t.get(Xy);return a.runInitializers(),a.donePromise.then(()=>{let c=t.get(xu,Ou);if(sT(c||Ou),!t.get(LV,!0))return Eu(n)?t.get(mr):(n.allPlatformModules.push(n.moduleRef),n.moduleRef);if(Eu(n)){let C=t.get(mr);return n.rootComponent!==void 0&&C.bootstrap(n.rootComponent),C}else return zV?.(n.moduleRef,n.allPlatformModules),n.moduleRef}).finally(()=>void r.remove(s))})})}var zV;function BV(n,t,e){try{let i=e();return Vs(i)?i.catch(o=>{throw t.runOutsideAngular(()=>n(o)),o}):i}catch(i){throw t.runOutsideAngular(()=>n(i)),i}}var Wh=null;function jV(n=[],t){return ze.create({name:t,providers:[{provide:Zd,useValue:"platform"},{provide:p1,useValue:new Set([()=>Wh=null])},...n]})}function VV(n=[]){if(Wh)return Wh;let t=jV(n);return Wh=t,iT(),UV(t),t}function UV(n){let t=n.get(Ih,null);Y(n,()=>{t?.forEach(e=>e())})}function _1(){return!1}var jo=(()=>{class n{static __NG_ELEMENT_ID__=$V}return n})();function $V(n){return qV(Tn(),Ie(),(n&16)===16)}function qV(n,t,e){if(Ls(n)&&!e){let i=lo(n.index,t);return new Bs(i,i)}else if(n.type&175){let i=t[qi];return new Bs(i,t)}return null}var f1=class{constructor(){}supports(t){return Qy(t)}create(t){return new g1(t)}},HV=(n,t)=>t,g1=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(t){this._trackByFn=t||HV}forEachItem(t){let e;for(e=this._itHead;e!==null;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,i=this._removalsHead,o=0,r=null;for(;e||i;){let s=!i||e&&e.currentIndex<MT(i,o,r)?e:i,a=MT(s,o,r),c=s.currentIndex;if(s===i)o--,i=i._nextRemoved;else if(e=e._next,s.previousIndex==null)o++;else{r||(r=[]);let u=a-o,C=c-o;if(u!=C){for(let P=0;P<u;P++){let w=P<r.length?r[P]:r[P]=0,S=w+P;C<=S&&S<u&&(r[P]=w+1)}let v=s.previousIndex;r[v]=C-u}}a!==c&&t(s,a,c)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;e!==null;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;e!==null;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;e!==null;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;e!==null;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;e!==null;e=e._nextIdentityChange)t(e)}diff(t){if(t==null&&(t=[]),!Qy(t))throw new G(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._itHead,i=!1,o,r,s;if(Array.isArray(t)){this.length=t.length;for(let a=0;a<this.length;a++)r=t[a],s=this._trackByFn(a,r),e===null||!Object.is(e.trackById,s)?(e=this._mismatch(e,r,s,a),i=!0):(i&&(e=this._verifyReinsertion(e,r,s,a)),Object.is(e.item,r)||this._addIdentityChange(e,r)),e=e._next}else o=0,HS(t,a=>{s=this._trackByFn(o,a),e===null||!Object.is(e.trackById,s)?(e=this._mismatch(e,a,s,o),i=!0):(i&&(e=this._verifyReinsertion(e,a,s,o)),Object.is(e.item,a)||this._addIdentityChange(e,a)),e=e._next,o++}),this.length=o;return this._truncate(e),this.collection=t,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;t!==null;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;t!==null;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;t!==null;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,i,o){let r;return t===null?r=this._itTail:(r=t._prev,this._remove(t)),t=this._unlinkedRecords===null?null:this._unlinkedRecords.get(i,null),t!==null?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,r,o)):(t=this._linkedRecords===null?null:this._linkedRecords.get(i,o),t!==null?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,r,o)):t=this._addAfter(new h1(e,i),r,o)),t}_verifyReinsertion(t,e,i,o){let r=this._unlinkedRecords===null?null:this._unlinkedRecords.get(i,null);return r!==null?t=this._reinsertAfter(r,t._prev,o):t.currentIndex!=o&&(t.currentIndex=o,this._addToMoves(t,o)),t}_truncate(t){for(;t!==null;){let e=t._next;this._addToRemovals(this._unlink(t)),t=e}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,i){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(t);let o=t._prevRemoved,r=t._nextRemoved;return o===null?this._removalsHead=r:o._nextRemoved=r,r===null?this._removalsTail=o:r._prevRemoved=o,this._insertAfter(t,e,i),this._addToMoves(t,i),t}_moveAfter(t,e,i){return this._unlink(t),this._insertAfter(t,e,i),this._addToMoves(t,i),t}_addAfter(t,e,i){return this._insertAfter(t,e,i),this._additionsTail===null?this._additionsTail=this._additionsHead=t:this._additionsTail=this._additionsTail._nextAdded=t,t}_insertAfter(t,e,i){let o=e===null?this._itHead:e._next;return t._next=o,t._prev=e,o===null?this._itTail=t:o._prev=t,e===null?this._itHead=t:e._next=t,this._linkedRecords===null&&(this._linkedRecords=new Qh),this._linkedRecords.put(t),t.currentIndex=i,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){this._linkedRecords!==null&&this._linkedRecords.remove(t);let e=t._prev,i=t._next;return e===null?this._itHead=i:e._next=i,i===null?this._itTail=e:i._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail===null?this._movesTail=this._movesHead=t:this._movesTail=this._movesTail._nextMoved=t),t}_addToRemovals(t){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Qh),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=t:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=t,t}},h1=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(t,e){this.item=t,this.trackById=e}},m1=class{_head=null;_tail=null;add(t){this._head===null?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let i;for(i=this._head;i!==null;i=i._nextDup)if((e===null||e<=i.currentIndex)&&Object.is(i.trackById,t))return i;return null}remove(t){let e=t._prevDup,i=t._nextDup;return e===null?this._head=i:e._nextDup=i,i===null?this._tail=e:i._prevDup=e,this._head===null}},Qh=class{map=new Map;put(t){let e=t.trackById,i=this.map.get(e);i||(i=new m1,this.map.set(e,i)),i.add(t)}get(t,e){let i=t,o=this.map.get(i);return o?o.get(t,e):null}remove(t){let e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function MT(n,t,e){let i=n.previousIndex;if(i===null)return i;let o=0;return e&&i<e.length&&(o=e[i]),i+t+o}function PT(){return new C1([new f1])}var C1=(()=>{class n{factories;static \u0275prov=K({token:n,providedIn:"root",factory:PT});constructor(e){this.factories=e}static create(e,i){if(i!=null){let o=i.factories.slice();e=e.concat(o)}return new n(e)}static extend(e){return{provide:n,useFactory:()=>{let i=U(n,{optional:!0,skipSelf:!0});return n.create(e,i||PT())}}}find(e){let i=this.factories.find(o=>o.supports(e));if(i!=null)return i;throw new G(901,!1)}}return n})();function IT(n){let{rootComponent:t,appProviders:e,platformProviders:i,platformRef:o}=n;It(8);try{let r=o?.injector??VV(i),s=[l1({}),{provide:Gr,useExisting:vT},z2,...e||[]],a=new fu({providers:s,parent:r,debugName:"",runEnvironmentInitializers:!1});return FV({r3Injector:a.injector,platformInjector:r,rootComponent:t})}catch(r){return Promise.reject(r)}finally{It(9)}}function Ka(n){return typeof n=="boolean"?n:n!=null&&n!=="false"}function ST(n){let t=Kr(n);if(!t)return null;let e=new qa(t);return{get selector(){return e.selector},get type(){return e.componentType},get inputs(){return e.inputs},get outputs(){return e.outputs},get ngContentSelectors(){return e.ngContentSelectors},get isStandalone(){return t.standalone},get isSignal(){return t.signals}}}var kT=null;function ho(){return kT}function v1(n){kT??=n}var Iu=class{},Su=(()=>{class n{historyGo(e){throw new Error("")}static \u0275fac=function(i){return new(i||n)};static \u0275prov=K({token:n,factory:()=>U(AT),providedIn:"platform"})}return n})(),b1=new oe(""),AT=(()=>{class n extends Su{_location;_history;_doc=U(Ut);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return ho().getBaseHref(this._doc)}onPopState(e){let i=ho().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",e,!1),()=>i.removeEventListener("popstate",e)}onHashChange(e){let i=ho().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",e,!1),()=>i.removeEventListener("hashchange",e)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(e){this._location.pathname=e}pushState(e,i,o){this._history.pushState(e,i,o)}replaceState(e,i,o){this._history.replaceState(e,i,o)}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}static \u0275fac=function(i){return new(i||n)};static \u0275prov=K({token:n,factory:()=>new n,providedIn:"platform"})}return n})();function Kh(n,t){return n?t?n.endsWith("/")?t.startsWith("/")?n+t.slice(1):n+t:t.startsWith("/")?n+t:`${n}/${t}`:n:t}function TT(n){let t=n.search(/#|\?|$/);return n[t-1]==="/"?n.slice(0,t-1)+n.slice(t):n}function Vo(n){return n&&n[0]!=="?"?`?${n}`:n}var mo=(()=>{class n{historyGo(e){throw new Error("")}static \u0275fac=function(i){return new(i||n)};static \u0275prov=K({token:n,factory:()=>U(Zh),providedIn:"root"})}return n})(),Yh=new oe(""),Zh=(()=>{class n extends mo{_platformLocation;_baseHref;_removeListenerFns=[];constructor(e,i){super(),this._platformLocation=e,this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??U(Ut).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return Kh(this._baseHref,e)}path(e=!1){let i=this._platformLocation.pathname+Vo(this._platformLocation.search),o=this._platformLocation.hash;return o&&e?`${i}${o}`:i}pushState(e,i,o,r){let s=this.prepareExternalUrl(o+Vo(r));this._platformLocation.pushState(e,i,s)}replaceState(e,i,o,r){let s=this.prepareExternalUrl(o+Vo(r));this._platformLocation.replaceState(e,i,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static \u0275fac=function(i){return new(i||n)(Z(Su),Z(Yh,8))};static \u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),_r=(()=>{class n{_subject=new me;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(e){this._locationStrategy=e;let i=this._locationStrategy.getBaseHref();this._basePath=QV(TT(DT(i))),this._locationStrategy.onPopState(o=>{this._subject.next({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,i=""){return this.path()==this.normalize(e+Vo(i))}normalize(e){return n.stripTrailingSlash(GV(this._basePath,DT(e)))}prepareExternalUrl(e){return e&&e[0]!=="/"&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,i="",o=null){this._locationStrategy.pushState(o,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Vo(i)),o)}replaceState(e,i="",o=null){this._locationStrategy.replaceState(o,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Vo(i)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{let i=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",i){this._urlChangeListeners.forEach(o=>o(e,i))}subscribe(e,i,o){return this._subject.subscribe({next:e,error:i??void 0,complete:o??void 0})}static normalizeQueryParams=Vo;static joinWithSlash=Kh;static stripTrailingSlash=TT;static \u0275fac=function(i){return new(i||n)(Z(mo))};static \u0275prov=K({token:n,factory:()=>WV(),providedIn:"root"})}return n})();function WV(){return new _r(Z(mo))}function GV(n,t){if(!n||!t.startsWith(n))return t;let e=t.substring(n.length);return e===""||["/",";","?","#"].includes(e[0])?e:t}function DT(n){return n.replace(/\/index.html$/,"")}function QV(n){if(new RegExp("^(https?:)?//").test(n)){let[,e]=n.split(/\/\/[^\/]+/);return e}return n}var sm=(()=>{class n extends mo{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(e,i){super(),this._platformLocation=e,i!=null&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let i=this._platformLocation.hash??"#";return i.length>0?i.substring(1):i}prepareExternalUrl(e){let i=Kh(this._baseHref,e);return i.length>0?"#"+i:i}pushState(e,i,o,r){let s=this.prepareExternalUrl(o+Vo(r))||this._platformLocation.pathname;this._platformLocation.pushState(e,i,s)}replaceState(e,i,o,r){let s=this.prepareExternalUrl(o+Vo(r))||this._platformLocation.pathname;this._platformLocation.replaceState(e,i,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static \u0275fac=function(i){return new(i||n)(Z(Su),Z(Yh,8))};static \u0275prov=K({token:n,factory:n.\u0275fac})}return n})();var li=(function(n){return n[n.Format=0]="Format",n[n.Standalone=1]="Standalone",n})(li||{}),Tt=(function(n){return n[n.Narrow=0]="Narrow",n[n.Abbreviated=1]="Abbreviated",n[n.Wide=2]="Wide",n[n.Short=3]="Short",n})(Tt||{}),Ni=(function(n){return n[n.Short=0]="Short",n[n.Medium=1]="Medium",n[n.Long=2]="Long",n[n.Full=3]="Full",n})(Ni||{}),ss={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function zT(n){return Ki(n)[fn.LocaleId]}function BT(n,t,e){let i=Ki(n),o=[i[fn.DayPeriodsFormat],i[fn.DayPeriodsStandalone]],r=_o(o,t);return _o(r,e)}function jT(n,t,e){let i=Ki(n),o=[i[fn.DaysFormat],i[fn.DaysStandalone]],r=_o(o,t);return _o(r,e)}function VT(n,t,e){let i=Ki(n),o=[i[fn.MonthsFormat],i[fn.MonthsStandalone]],r=_o(o,t);return _o(r,e)}function UT(n,t){let i=Ki(n)[fn.Eras];return _o(i,t)}function Tu(n,t){let e=Ki(n);return _o(e[fn.DateFormat],t)}function Du(n,t){let e=Ki(n);return _o(e[fn.TimeFormat],t)}function ku(n,t){let i=Ki(n)[fn.DateTimeFormat];return _o(i,t)}function Au(n,t){let e=Ki(n),i=e[fn.NumberSymbols][t];if(typeof i>"u"){if(t===ss.CurrencyDecimal)return e[fn.NumberSymbols][ss.Decimal];if(t===ss.CurrencyGroup)return e[fn.NumberSymbols][ss.Group]}return i}function $T(n){if(!n[fn.ExtraData])throw new G(2303,!1)}function qT(n){let t=Ki(n);return $T(t),(t[fn.ExtraData][2]||[]).map(i=>typeof i=="string"?y1(i):[y1(i[0]),y1(i[1])])}function HT(n,t,e){let i=Ki(n);$T(i);let o=[i[fn.ExtraData][0],i[fn.ExtraData][1]],r=_o(o,t)||[];return _o(r,e)||[]}function _o(n,t){for(let e=t;e>-1;e--)if(typeof n[e]<"u")return n[e];throw new G(2304,!1)}function y1(n){let[t,e]=n.split(":");return{hours:+t,minutes:+e}}var KV=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Jh={},YV=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;function WT(n,t,e,i){let o=r9(n);t=rs(e,t)||t;let s=[],a;for(;t;)if(a=YV.exec(t),a){s=s.concat(a.slice(1));let C=s.pop();if(!C)break;t=C}else{s.push(t);break}let c=o.getTimezoneOffset();i&&(c=QT(i,c),o=o9(o,i));let u="";return s.forEach(C=>{let v=n9(C);u+=v?v(o,e,c):C==="''"?"'":C.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),u}function im(n,t,e){let i=new Date(0);return i.setFullYear(n,t,e),i.setHours(0,0,0),i}function rs(n,t){let e=zT(n);if(Jh[e]??={},Jh[e][t])return Jh[e][t];let i="";switch(t){case"shortDate":i=Tu(n,Ni.Short);break;case"mediumDate":i=Tu(n,Ni.Medium);break;case"longDate":i=Tu(n,Ni.Long);break;case"fullDate":i=Tu(n,Ni.Full);break;case"shortTime":i=Du(n,Ni.Short);break;case"mediumTime":i=Du(n,Ni.Medium);break;case"longTime":i=Du(n,Ni.Long);break;case"fullTime":i=Du(n,Ni.Full);break;case"short":let o=rs(n,"shortTime"),r=rs(n,"shortDate");i=Xh(ku(n,Ni.Short),[o,r]);break;case"medium":let s=rs(n,"mediumTime"),a=rs(n,"mediumDate");i=Xh(ku(n,Ni.Medium),[s,a]);break;case"long":let c=rs(n,"longTime"),u=rs(n,"longDate");i=Xh(ku(n,Ni.Long),[c,u]);break;case"full":let C=rs(n,"fullTime"),v=rs(n,"fullDate");i=Xh(ku(n,Ni.Full),[C,v]);break}return i&&(Jh[e][t]=i),i}function Xh(n,t){return t&&(n=n.replace(/\{([^}]+)}/g,function(e,i){return t!=null&&i in t?t[i]:e})),n}function Uo(n,t,e="-",i,o){let r="";(n<0||o&&n<=0)&&(o?n=-n+1:(n=-n,r=e));let s=String(n);for(;s.length<t;)s="0"+s;return i&&(s=s.slice(s.length-t)),r+s}function ZV(n,t){return Uo(n,3).substring(0,t)}function yn(n,t,e=0,i=!1,o=!1){return function(r,s){let a=JV(n,r);if((e>0||a>-e)&&(a+=e),n===3)a===0&&e===-12&&(a=12);else if(n===6)return ZV(a,t);let c=Au(s,ss.MinusSign);return Uo(a,t,c,i,o)}}function JV(n,t){switch(n){case 0:return t.getFullYear();case 1:return t.getMonth();case 2:return t.getDate();case 3:return t.getHours();case 4:return t.getMinutes();case 5:return t.getSeconds();case 6:return t.getMilliseconds();case 7:return t.getDay();default:throw new G(2301,!1)}}function zt(n,t,e=li.Format,i=!1){return function(o,r){return XV(o,r,n,t,e,i)}}function XV(n,t,e,i,o,r){switch(e){case 2:return VT(t,o,i)[n.getMonth()];case 1:return jT(t,o,i)[n.getDay()];case 0:let s=n.getHours(),a=n.getMinutes();if(r){let u=qT(t),C=HT(t,o,i),v=u.findIndex(P=>{if(Array.isArray(P)){let[w,S]=P,F=s>=w.hours&&a>=w.minutes,N=s<S.hours||s===S.hours&&a<S.minutes;if(w.hours<S.hours){if(F&&N)return!0}else if(F||N)return!0}else if(P.hours===s&&P.minutes===a)return!0;return!1});if(v!==-1)return C[v]}return BT(t,o,i)[s<12?0:1];case 3:return UT(t,i)[n.getFullYear()<=0?0:1];default:let c=e;throw new G(2302,!1)}}function em(n){return function(t,e,i){let o=-1*i,r=Au(e,ss.MinusSign),s=o>0?Math.floor(o/60):Math.ceil(o/60);switch(n){case 0:return(o>=0?"+":"")+Uo(s,2,r)+Uo(Math.abs(o%60),2,r);case 1:return"GMT"+(o>=0?"+":"")+Uo(s,1,r);case 2:return"GMT"+(o>=0?"+":"")+Uo(s,2,r)+":"+Uo(Math.abs(o%60),2,r);case 3:return i===0?"Z":(o>=0?"+":"")+Uo(s,2,r)+":"+Uo(Math.abs(o%60),2,r);default:throw new G(2310,!1)}}}var e9=0,nm=4;function t9(n){let t=im(n,e9,1).getDay();return im(n,0,1+(t<=nm?nm:nm+7)-t)}function GT(n){let t=n.getDay(),e=t===0?-3:nm-t;return im(n.getFullYear(),n.getMonth(),n.getDate()+e)}function M1(n,t=!1){return function(e,i){let o;if(t){let r=new Date(e.getFullYear(),e.getMonth(),1).getDay()-1,s=e.getDate();o=1+Math.floor((s+r)/7)}else{let r=GT(e),s=t9(r.getFullYear()),a=r.getTime()-s.getTime();o=1+Math.round(a/6048e5)}return Uo(o,n,Au(i,ss.MinusSign))}}function tm(n,t=!1){return function(e,i){let r=GT(e).getFullYear();return Uo(r,n,Au(i,ss.MinusSign),t)}}var P1={};function n9(n){if(P1[n])return P1[n];let t;switch(n){case"G":case"GG":case"GGG":t=zt(3,Tt.Abbreviated);break;case"GGGG":t=zt(3,Tt.Wide);break;case"GGGGG":t=zt(3,Tt.Narrow);break;case"y":t=yn(0,1,0,!1,!0);break;case"yy":t=yn(0,2,0,!0,!0);break;case"yyy":t=yn(0,3,0,!1,!0);break;case"yyyy":t=yn(0,4,0,!1,!0);break;case"Y":t=tm(1);break;case"YY":t=tm(2,!0);break;case"YYY":t=tm(3);break;case"YYYY":t=tm(4);break;case"M":case"L":t=yn(1,1,1);break;case"MM":case"LL":t=yn(1,2,1);break;case"MMM":t=zt(2,Tt.Abbreviated);break;case"MMMM":t=zt(2,Tt.Wide);break;case"MMMMM":t=zt(2,Tt.Narrow);break;case"LLL":t=zt(2,Tt.Abbreviated,li.Standalone);break;case"LLLL":t=zt(2,Tt.Wide,li.Standalone);break;case"LLLLL":t=zt(2,Tt.Narrow,li.Standalone);break;case"w":t=M1(1);break;case"ww":t=M1(2);break;case"W":t=M1(1,!0);break;case"d":t=yn(2,1);break;case"dd":t=yn(2,2);break;case"c":case"cc":t=yn(7,1);break;case"ccc":t=zt(1,Tt.Abbreviated,li.Standalone);break;case"cccc":t=zt(1,Tt.Wide,li.Standalone);break;case"ccccc":t=zt(1,Tt.Narrow,li.Standalone);break;case"cccccc":t=zt(1,Tt.Short,li.Standalone);break;case"E":case"EE":case"EEE":t=zt(1,Tt.Abbreviated);break;case"EEEE":t=zt(1,Tt.Wide);break;case"EEEEE":t=zt(1,Tt.Narrow);break;case"EEEEEE":t=zt(1,Tt.Short);break;case"a":case"aa":case"aaa":t=zt(0,Tt.Abbreviated);break;case"aaaa":t=zt(0,Tt.Wide);break;case"aaaaa":t=zt(0,Tt.Narrow);break;case"b":case"bb":case"bbb":t=zt(0,Tt.Abbreviated,li.Standalone,!0);break;case"bbbb":t=zt(0,Tt.Wide,li.Standalone,!0);break;case"bbbbb":t=zt(0,Tt.Narrow,li.Standalone,!0);break;case"B":case"BB":case"BBB":t=zt(0,Tt.Abbreviated,li.Format,!0);break;case"BBBB":t=zt(0,Tt.Wide,li.Format,!0);break;case"BBBBB":t=zt(0,Tt.Narrow,li.Format,!0);break;case"h":t=yn(3,1,-12);break;case"hh":t=yn(3,2,-12);break;case"H":t=yn(3,1);break;case"HH":t=yn(3,2);break;case"m":t=yn(4,1);break;case"mm":t=yn(4,2);break;case"s":t=yn(5,1);break;case"ss":t=yn(5,2);break;case"S":t=yn(6,1);break;case"SS":t=yn(6,2);break;case"SSS":t=yn(6,3);break;case"Z":case"ZZ":case"ZZZ":t=em(0);break;case"ZZZZZ":t=em(3);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":t=em(1);break;case"OOOO":case"ZZZZ":case"zzzz":t=em(2);break;default:return null}return P1[n]=t,t}function QT(n,t){n=n.replace(/:/g,"");let e=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(e)?t:e}function i9(n,t){return n=new Date(n.getTime()),n.setMinutes(n.getMinutes()+t),n}function o9(n,t,e){let o=n.getTimezoneOffset(),r=QT(t,o);return i9(n,-1*(r-o))}function r9(n){if(RT(n))return n;if(typeof n=="number"&&!isNaN(n))return new Date(n);if(typeof n=="string"){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){let[o,r=1,s=1]=n.split("-").map(a=>+a);return im(o,r-1,s)}let e=parseFloat(n);if(!isNaN(n-e))return new Date(e);let i;if(i=n.match(KV))return s9(i)}let t=new Date(n);if(!RT(t))throw new G(2311,!1);return t}function s9(n){let t=new Date(0),e=0,i=0,o=n[8]?t.setUTCFullYear:t.setFullYear,r=n[8]?t.setUTCHours:t.setHours;n[9]&&(e=Number(n[9]+n[10]),i=Number(n[9]+n[11])),o.call(t,Number(n[1]),Number(n[2])-1,Number(n[3]));let s=Number(n[4]||0)-e,a=Number(n[5]||0)-i,c=Number(n[6]||0),u=Math.floor(parseFloat("0."+(n[7]||0))*1e3);return r.call(t,s,a,c,u),t}function RT(n){return n instanceof Date&&!isNaN(n.valueOf())}var O1=/\s+/,NT=[],gn=(()=>{class n{_ngEl;_renderer;initialClasses=NT;rawClass;stateMap=new Map;constructor(e,i){this._ngEl=e,this._renderer=i}set klass(e){this.initialClasses=e!=null?e.trim().split(O1):NT}set ngClass(e){this.rawClass=typeof e=="string"?e.trim().split(O1):e}ngDoCheck(){for(let i of this.initialClasses)this._updateState(i,!0);let e=this.rawClass;if(Array.isArray(e)||e instanceof Set)for(let i of e)this._updateState(i,!0);else if(e!=null)for(let i of Object.keys(e))this._updateState(i,!!e[i]);this._applyStateDiff()}_updateState(e,i){let o=this.stateMap.get(e);o!==void 0?(o.enabled!==i&&(o.changed=!0,o.enabled=i),o.touched=!0):this.stateMap.set(e,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(let e of this.stateMap){let i=e[0],o=e[1];o.changed?(this._toggleClass(i,o.enabled),o.changed=!1):o.touched||(o.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),o.touched=!1}}_toggleClass(e,i){e=e.trim(),e.length>0&&e.split(O1).forEach(o=>{i?this._renderer.addClass(this._ngEl.nativeElement,o):this._renderer.removeClass(this._ngEl.nativeElement,o)})}static \u0275fac=function(i){return new(i||n)(A(Fn),A(Qi))};static \u0275dir=gt({type:n,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return n})();var om=class{$implicit;ngForOf;index;count;constructor(t,e,i,o){this.$implicit=t,this.ngForOf=e,this.index=i,this.count=o}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},di=(()=>{class n{_viewContainer;_template;_differs;set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(e,i,o){this._viewContainer=e,this._template=i,this._differs=o}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){let e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){let i=this._viewContainer;e.forEachOperation((o,r,s)=>{if(o.previousIndex==null)i.createEmbeddedView(this._template,new om(o.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)i.remove(r===null?void 0:r);else if(r!==null){let a=i.get(r);i.move(a,s),LT(a,o)}});for(let o=0,r=i.length;o<r;o++){let a=i.get(o).context;a.index=o,a.count=r,a.ngForOf=this._ngForOf}e.forEachIdentityChange(o=>{let r=i.get(o.currentIndex);LT(r,o)})}static ngTemplateContextGuard(e,i){return!0}static \u0275fac=function(i){return new(i||n)(A(is),A(js),A(C1))};static \u0275dir=gt({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return n})();function LT(n,t){n.context.$implicit=t.item}var Yn=(()=>{class n{_viewContainer;_context=new rm;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(e,i){this._viewContainer=e,this._thenTemplateRef=i}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){FT(e,!1),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){FT(e,!1),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(e,i){return!0}static \u0275fac=function(i){return new(i||n)(A(is),A(js))};static \u0275dir=gt({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return n})(),rm=class{$implicit=null;ngIf=null};function FT(n,t){if(n&&!n.createEmbeddedView)throw new G(2020,!1)}function KT(n,t){return new G(2100,!1)}var a9="mediumDate",YT=new oe(""),ZT=new oe(""),w1=(()=>{class n{locale;defaultTimezone;defaultOptions;constructor(e,i,o){this.locale=e,this.defaultTimezone=i,this.defaultOptions=o}transform(e,i,o,r){if(e==null||e===""||e!==e)return null;try{let s=i??this.defaultOptions?.dateFormat??a9,a=o??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return WT(e,s,r||this.locale,a)}catch(s){throw KT(n,s.message)}}static \u0275fac=function(i){return new(i||n)(A(xu,16),A(YT,24),A(ZT,24))};static \u0275pipe=_l({name:"date",type:n,pure:!0})}return n})();var Ru=(()=>{class n{transform(e,i,o){if(e==null)return null;if(!(typeof e=="string"||Array.isArray(e)))throw KT(n,e);return e.slice(i,o)}static \u0275fac=function(i){return new(i||n)};static \u0275pipe=_l({name:"slice",type:n,pure:!1})}return n})();var pe=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=ri({type:n});static \u0275inj=Hn({})}return n})();function Nu(n,t){t=encodeURIComponent(t);for(let e of n.split(";")){let i=e.indexOf("="),[o,r]=i==-1?[e,""]:[e.slice(0,i),e.slice(i+1)];if(o.trim()===t)return decodeURIComponent(r)}return null}var Ya=class{};var JT="browser";var XT=(()=>{class n{static \u0275prov=K({token:n,providedIn:"root",factory:()=>new x1(U(Ut),window)})}return n})(),x1=class{document;window;offset=()=>[0,0];constructor(t,e){this.document=t,this.window=e}setOffset(t){Array.isArray(t)?this.offset=()=>t:this.offset=t}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(t,e){this.window.scrollTo(ae(j({},e),{left:t[0],top:t[1]}))}scrollToAnchor(t,e){let i=c9(this.document,t);i&&(this.scrollToElement(i,e),i.focus())}setHistoryScrollRestoration(t){try{this.window.history.scrollRestoration=t}catch{console.warn(cr(2400,!1))}}scrollToElement(t,e){let i=t.getBoundingClientRect(),o=i.left+this.window.pageXOffset,r=i.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(ae(j({},e),{left:o-s[0],top:r-s[1]}))}};function c9(n,t){let e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if(typeof n.createTreeWalker=="function"&&n.body&&typeof n.body.attachShadow=="function"){let i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT),o=i.currentNode;for(;o;){let r=o.shadowRoot;if(r){let s=r.getElementById(t)||r.querySelector(`[name="${t}"]`);if(s)return s}o=i.nextNode()}}return null}var Lu=class{_doc;constructor(t){this._doc=t}manager},am=(()=>{class n extends Lu{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,o,r){return e.addEventListener(i,o,r),()=>this.removeEventListener(e,i,o,r)}removeEventListener(e,i,o,r){return e.removeEventListener(i,o,r)}static \u0275fac=function(i){return new(i||n)(Z(Ut))};static \u0275prov=K({token:n,factory:n.\u0275fac})}return n})(),lm=new oe(""),D1=(()=>{class n{_zone;_plugins;_eventNameToPlugin=new Map;constructor(e,i){this._zone=i,e.forEach(s=>{s.manager=this});let o=e.filter(s=>!(s instanceof am));this._plugins=o.slice().reverse();let r=e.find(s=>s instanceof am);r&&this._plugins.push(r)}addEventListener(e,i,o,r){return this._findPluginFor(i).addEventListener(e,i,o,r)}getZone(){return this._zone}_findPluginFor(e){let i=this._eventNameToPlugin.get(e);if(i)return i;if(i=this._plugins.find(r=>r.supports(e)),!i)throw new G(5101,!1);return this._eventNameToPlugin.set(e,i),i}static \u0275fac=function(i){return new(i||n)(Z(lm),Z(rt))};static \u0275prov=K({token:n,factory:n.\u0275fac})}return n})(),E1="ng-app-id";function eD(n){for(let t of n)t.remove()}function tD(n,t){let e=t.createElement("style");return e.textContent=n,e}function l9(n,t,e,i){let o=n.head?.querySelectorAll(`style[${E1}="${t}"],link[${E1}="${t}"]`);if(o)for(let r of o)r.removeAttribute(E1),r instanceof HTMLLinkElement?i.set(r.href.slice(r.href.lastIndexOf("/")+1),{usage:0,elements:[r]}):r.textContent&&e.set(r.textContent,{usage:0,elements:[r]})}function S1(n,t){let e=t.createElement("link");return e.setAttribute("rel","stylesheet"),e.setAttribute("href",n),e}var k1=(()=>{class n{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;constructor(e,i,o,r={}){this.doc=e,this.appId=i,this.nonce=o,l9(e,i,this.inline,this.external),this.hosts.add(e.head)}addStyles(e,i){for(let o of e)this.addUsage(o,this.inline,tD);i?.forEach(o=>this.addUsage(o,this.external,S1))}removeStyles(e,i){for(let o of e)this.removeUsage(o,this.inline);i?.forEach(o=>this.removeUsage(o,this.external))}addUsage(e,i,o){let r=i.get(e);r?r.usage++:i.set(e,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,o(e,this.doc)))})}removeUsage(e,i){let o=i.get(e);o&&(o.usage--,o.usage<=0&&(eD(o.elements),i.delete(e)))}ngOnDestroy(){for(let[,{elements:e}]of[...this.inline,...this.external])eD(e);this.hosts.clear()}addHost(e){this.hosts.add(e);for(let[i,{elements:o}]of this.inline)o.push(this.addElement(e,tD(i,this.doc)));for(let[i,{elements:o}]of this.external)o.push(this.addElement(e,S1(i,this.doc)))}removeHost(e){this.hosts.delete(e)}addElement(e,i){return this.nonce&&i.setAttribute("nonce",this.nonce),e.appendChild(i)}static \u0275fac=function(i){return new(i||n)(Z(Ut),Z(Eh),Z(Th,8),Z(Ga))};static \u0275prov=K({token:n,factory:n.\u0275fac})}return n})(),I1={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},A1=/%COMP%/g;var iD="%COMP%",d9=`_nghost-${iD}`,u9=`_ngcontent-${iD}`,p9=!0,f9=new oe("",{providedIn:"root",factory:()=>p9});function g9(n){return u9.replace(A1,n)}function h9(n){return d9.replace(A1,n)}function oD(n,t){return t.map(e=>e.replace(A1,n))}var Bu=(()=>{class n{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(e,i,o,r,s,a,c=null,u=null){this.eventManager=e,this.sharedStylesHost=i,this.appId=o,this.removeStylesOnCompDestroy=r,this.doc=s,this.ngZone=a,this.nonce=c,this.tracingService=u,this.platformIsServer=!1,this.defaultRenderer=new Fu(e,s,a,this.platformIsServer,this.tracingService)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;let o=this.getOrCreateRenderer(e,i);return o instanceof cm?o.applyToHost(e):o instanceof zu&&o.applyStyles(),o}getOrCreateRenderer(e,i){let o=this.rendererByCompId,r=o.get(i.id);if(!r){let s=this.doc,a=this.ngZone,c=this.eventManager,u=this.sharedStylesHost,C=this.removeStylesOnCompDestroy,v=this.platformIsServer,P=this.tracingService;switch(i.encapsulation){case Jr.Emulated:r=new cm(c,u,i,this.appId,C,s,a,v,P);break;case Jr.ShadowDom:return new T1(c,u,e,i,s,a,this.nonce,v,P);default:r=new zu(c,u,i,C,s,a,v,P);break}o.set(i.id,r)}return r}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(e){this.rendererByCompId.delete(e)}static \u0275fac=function(i){return new(i||n)(Z(D1),Z(k1),Z(Eh),Z(f9),Z(Ut),Z(rt),Z(Th),Z(Qa,8))};static \u0275prov=K({token:n,factory:n.\u0275fac})}return n})(),Fu=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(t,e,i,o,r){this.eventManager=t,this.doc=e,this.ngZone=i,this.platformIsServer=o,this.tracingService=r}destroy(){}destroyNode=null;createElement(t,e){return e?this.doc.createElementNS(I1[e]||e,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,e){(nD(t)?t.content:t).appendChild(e)}insertBefore(t,e,i){t&&(nD(t)?t.content:t).insertBefore(e,i)}removeChild(t,e){e.remove()}selectRootElement(t,e){let i=typeof t=="string"?this.doc.querySelector(t):t;if(!i)throw new G(-5104,!1);return e||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,i,o){if(o){e=o+":"+e;let r=I1[o];r?t.setAttributeNS(r,e,i):t.setAttribute(e,i)}else t.setAttribute(e,i)}removeAttribute(t,e,i){if(i){let o=I1[i];o?t.removeAttributeNS(o,e):t.removeAttribute(`${i}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,i,o){o&(hr.DashCase|hr.Important)?t.style.setProperty(e,i,o&hr.Important?"important":""):t.style[e]=i}removeStyle(t,e,i){i&hr.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,i){t!=null&&(t[e]=i)}setValue(t,e){t.nodeValue=e}listen(t,e,i,o){if(typeof t=="string"&&(t=ho().getGlobalEventTarget(this.doc,t),!t))throw new G(5102,!1);let r=this.decoratePreventDefault(i);return this.tracingService?.wrapEventListener&&(r=this.tracingService.wrapEventListener(t,e,r)),this.eventManager.addEventListener(t,e,r,o)}decoratePreventDefault(t){return e=>{if(e==="__ngUnwrap__")return t;t(e)===!1&&e.preventDefault()}}};function nD(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var T1=class extends Fu{sharedStylesHost;hostEl;shadowRoot;constructor(t,e,i,o,r,s,a,c,u){super(t,r,s,c,u),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let C=o.styles;C=oD(o.id,C);for(let P of C){let w=document.createElement("style");a&&w.setAttribute("nonce",a),w.textContent=P,this.shadowRoot.appendChild(w)}let v=o.getExternalStyles?.();if(v)for(let P of v){let w=S1(P,r);a&&w.setAttribute("nonce",a),this.shadowRoot.appendChild(w)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,i){return super.insertBefore(this.nodeOrShadowRoot(t),e,i)}removeChild(t,e){return super.removeChild(null,e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},zu=class extends Fu{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(t,e,i,o,r,s,a,c,u){super(t,r,s,a,c),this.sharedStylesHost=e,this.removeStylesOnCompDestroy=o;let C=i.styles;this.styles=u?oD(u,C):C,this.styleUrls=i.getExternalStyles?.(u)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&$a.size===0&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},cm=class extends zu{contentAttr;hostAttr;constructor(t,e,i,o,r,s,a,c,u){let C=o+"-"+i.id;super(t,e,i,r,s,a,c,u,C),this.contentAttr=g9(C),this.hostAttr=h9(C)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,e){let i=super.createElement(t,e);return super.setAttribute(i,this.contentAttr,""),i}};var dm=class n extends Iu{supportsDOMEvents=!0;static makeCurrent(){v1(new n)}onAndCancel(t,e,i,o){return t.addEventListener(e,i,o),()=>{t.removeEventListener(e,i,o)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.remove()}createElement(t,e){return e=e||this.getDefaultDocument(),e.createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return e==="window"?window:e==="document"?t:e==="body"?t.body:null}getBaseHref(t){let e=m9();return e==null?null:_9(e)}resetBaseElement(){ju=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return Nu(document.cookie,t)}},ju=null;function m9(){return ju=ju||document.head.querySelector("base"),ju?ju.getAttribute("href"):null}function _9(n){return new URL(n,document.baseURI).pathname}var C9=(()=>{class n{build(){return new XMLHttpRequest}static \u0275fac=function(i){return new(i||n)};static \u0275prov=K({token:n,factory:n.\u0275fac})}return n})(),rD=["alt","control","meta","shift"],v9={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},b9={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},sD=(()=>{class n extends Lu{constructor(e){super(e)}supports(e){return n.parseEventName(e)!=null}addEventListener(e,i,o,r){let s=n.parseEventName(i),a=n.eventCallback(s.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>ho().onAndCancel(e,s.domEventName,a,r))}static parseEventName(e){let i=e.toLowerCase().split("."),o=i.shift();if(i.length===0||!(o==="keydown"||o==="keyup"))return null;let r=n._normalizeKey(i.pop()),s="",a=i.indexOf("code");if(a>-1&&(i.splice(a,1),s="code."),rD.forEach(u=>{let C=i.indexOf(u);C>-1&&(i.splice(C,1),s+=u+".")}),s+=r,i.length!=0||r.length===0)return null;let c={};return c.domEventName=o,c.fullKey=s,c}static matchEventFullKeyCode(e,i){let o=v9[e.key]||e.key,r="";return i.indexOf("code.")>-1&&(o=e.code,r="code."),o==null||!o?!1:(o=o.toLowerCase(),o===" "?o="space":o==="."&&(o="dot"),rD.forEach(s=>{if(s!==o){let a=b9[s];a(e)&&(r+=s+".")}}),r+=o,r===i)}static eventCallback(e,i,o){return r=>{n.matchEventFullKeyCode(r,e)&&o.runGuarded(()=>i(r))}}static _normalizeKey(e){return e==="esc"?"escape":e}static \u0275fac=function(i){return new(i||n)(Z(Ut))};static \u0275prov=K({token:n,factory:n.\u0275fac})}return n})();function R1(n,t,e){let i=j({rootComponent:n,platformRef:e?.platformRef},y9(t));return IT(i)}function y9(n){return{appProviders:[...x9,...n?.providers??[]],platformProviders:w9}}function M9(){dm.makeCurrent()}function P9(){return new Ao}function O9(){return yy(document),document}var w9=[{provide:Ga,useValue:JT},{provide:Ih,useValue:M9,multi:!0},{provide:Ut,useFactory:O9}];var x9=[{provide:Zd,useValue:"root"},{provide:Ao,useFactory:P9},{provide:lm,useClass:am,multi:!0,deps:[Ut]},{provide:lm,useClass:sD,multi:!0,deps:[Ut]},Bu,k1,D1,{provide:es,useExisting:Bu},{provide:Ya,useClass:C9},[]];var Ol=class{},Vu=class{},Us=class n{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(t){t?typeof t=="string"?this.lazyInit=()=>{this.headers=new Map,t.split(`
`).forEach(e=>{let i=e.indexOf(":");if(i>0){let o=e.slice(0,i),r=e.slice(i+1).trim();this.addHeaderEntry(o,r)}})}:typeof Headers<"u"&&t instanceof Headers?(this.headers=new Map,t.forEach((e,i)=>{this.addHeaderEntry(i,e)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(t).forEach(([e,i])=>{this.setHeaderEntries(e,i)})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();let e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof n?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){let e=new n;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof n?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){let e=t.name.toLowerCase();switch(t.op){case"a":case"s":let i=t.value;if(typeof i=="string"&&(i=[i]),i.length===0)return;this.maybeSetNormalizedName(t.name,e);let o=(t.op==="a"?this.headers.get(e):void 0)||[];o.push(...i),this.headers.set(e,o);break;case"d":let r=t.value;if(!r)this.headers.delete(e),this.normalizedNames.delete(e);else{let s=this.headers.get(e);if(!s)return;s=s.filter(a=>r.indexOf(a)===-1),s.length===0?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,s)}break}}addHeaderEntry(t,e){let i=t.toLowerCase();this.maybeSetNormalizedName(t,i),this.headers.has(i)?this.headers.get(i).push(e):this.headers.set(i,[e])}setHeaderEntries(t,e){let i=(Array.isArray(e)?e:[e]).map(r=>r.toString()),o=t.toLowerCase();this.headers.set(o,i),this.maybeSetNormalizedName(t,o)}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}};var pm=class{encodeKey(t){return aD(t)}encodeValue(t){return aD(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}};function E9(n,t){let e=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(o=>{let r=o.indexOf("="),[s,a]=r==-1?[t.decodeKey(o),""]:[t.decodeKey(o.slice(0,r)),t.decodeValue(o.slice(r+1))],c=e.get(s)||[];c.push(a),e.set(s,c)}),e}var I9=/%(\d[a-f0-9])/gi,S9={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function aD(n){return encodeURIComponent(n).replace(I9,(t,e)=>S9[e]??t)}function um(n){return`${n}`}var as=class n{map;encoder;updates=null;cloneFrom=null;constructor(t={}){if(this.encoder=t.encoder||new pm,t.fromString){if(t.fromObject)throw new G(2805,!1);this.map=E9(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{let i=t.fromObject[e],o=Array.isArray(i)?i.map(um):[um(i)];this.map.set(e,o)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();let e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){let e=[];return Object.keys(t).forEach(i=>{let o=t[i];Array.isArray(o)?o.forEach(r=>{e.push({param:i,value:r,op:"a"})}):e.push({param:i,value:o,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{let e=this.encoder.encodeKey(t);return this.map.get(t).map(i=>e+"="+this.encoder.encodeValue(i)).join("&")}).filter(t=>t!=="").join("&")}clone(t){let e=new n({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":let e=(t.op==="a"?this.map.get(t.param):void 0)||[];e.push(um(t.value)),this.map.set(t.param,e);break;case"d":if(t.value!==void 0){let i=this.map.get(t.param)||[],o=i.indexOf(um(t.value));o!==-1&&i.splice(o,1),i.length>0?this.map.set(t.param,i):this.map.delete(t.param)}else{this.map.delete(t.param);break}}}),this.cloneFrom=this.updates=null)}};var fm=class{map=new Map;set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}};function T9(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function cD(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function lD(n){return typeof Blob<"u"&&n instanceof Blob}function dD(n){return typeof FormData<"u"&&n instanceof FormData}function D9(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}var uD="Content-Type",pD="Accept",gD="X-Request-URL",hD="text/plain",mD="application/json",k9=`${mD}, ${hD}, */*`,Ml=class n{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;credentials;keepalive=!1;cache;priority;mode;redirect;referrer;integrity;responseType="json";method;params;urlWithParams;transferCache;timeout;constructor(t,e,i,o){this.url=e,this.method=t.toUpperCase();let r;if(T9(this.method)||o?(this.body=i!==void 0?i:null,r=o):r=i,r){if(this.reportProgress=!!r.reportProgress,this.withCredentials=!!r.withCredentials,this.keepalive=!!r.keepalive,r.responseType&&(this.responseType=r.responseType),r.headers&&(this.headers=r.headers),r.context&&(this.context=r.context),r.params&&(this.params=r.params),r.priority&&(this.priority=r.priority),r.cache&&(this.cache=r.cache),r.credentials&&(this.credentials=r.credentials),typeof r.timeout=="number"){if(r.timeout<1||!Number.isInteger(r.timeout))throw new G(2822,"");this.timeout=r.timeout}r.mode&&(this.mode=r.mode),r.redirect&&(this.redirect=r.redirect),r.integrity&&(this.integrity=r.integrity),r.referrer&&(this.referrer=r.referrer),this.transferCache=r.transferCache}if(this.headers??=new Us,this.context??=new fm,!this.params)this.params=new as,this.urlWithParams=e;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=e;else{let a=e.indexOf("?"),c=a===-1?"?":a<e.length-1?"&":"";this.urlWithParams=e+c+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||cD(this.body)||lD(this.body)||dD(this.body)||D9(this.body)?this.body:this.body instanceof as?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||dD(this.body)?null:lD(this.body)?this.body.type||null:cD(this.body)?null:typeof this.body=="string"?hD:this.body instanceof as?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?mD:null}clone(t={}){let e=t.method||this.method,i=t.url||this.url,o=t.responseType||this.responseType,r=t.keepalive??this.keepalive,s=t.priority||this.priority,a=t.cache||this.cache,c=t.mode||this.mode,u=t.redirect||this.redirect,C=t.credentials||this.credentials,v=t.referrer||this.referrer,P=t.integrity||this.integrity,w=t.transferCache??this.transferCache,S=t.timeout??this.timeout,F=t.body!==void 0?t.body:this.body,N=t.withCredentials??this.withCredentials,W=t.reportProgress??this.reportProgress,Ce=t.headers||this.headers,we=t.params||this.params,Me=t.context??this.context;return t.setHeaders!==void 0&&(Ce=Object.keys(t.setHeaders).reduce((mt,lt)=>mt.set(lt,t.setHeaders[lt]),Ce)),t.setParams&&(we=Object.keys(t.setParams).reduce((mt,lt)=>mt.set(lt,t.setParams[lt]),we)),new n(e,i,F,{params:we,headers:Ce,context:Me,reportProgress:W,responseType:o,withCredentials:N,transferCache:w,keepalive:r,cache:a,priority:s,timeout:S,mode:c,redirect:u,credentials:C,referrer:v,integrity:P})}},Za=(function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n})(Za||{}),wl=class{headers;status;statusText;url;ok;type;redirected;constructor(t,e=200,i="OK"){this.headers=t.headers||new Us,this.status=t.status!==void 0?t.status:e,this.statusText=t.statusText||i,this.url=t.url||null,this.redirected=t.redirected,this.ok=this.status>=200&&this.status<300}},gm=class n extends wl{constructor(t={}){super(t)}type=Za.ResponseHeader;clone(t={}){return new n({headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}},Uu=class n extends wl{body;constructor(t={}){super(t),this.body=t.body!==void 0?t.body:null}type=Za.Response;clone(t={}){return new n({body:t.body!==void 0?t.body:this.body,headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0,redirected:t.redirected??this.redirected})}},Pl=class extends wl{name="HttpErrorResponse";message;error;ok=!1;constructor(t){super(t,0,"Unknown Error"),this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${t.url||"(unknown url)"}`:this.message=`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}},A9=200,R9=204;function N1(n,t){return{body:t,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials,credentials:n.credentials,transferCache:n.transferCache,timeout:n.timeout,keepalive:n.keepalive,priority:n.priority,cache:n.cache,mode:n.mode,redirect:n.redirect,integrity:n.integrity,referrer:n.referrer}}var mm=(()=>{class n{handler;constructor(e){this.handler=e}request(e,i,o={}){let r;if(e instanceof Ml)r=e;else{let c;o.headers instanceof Us?c=o.headers:c=new Us(o.headers);let u;o.params&&(o.params instanceof as?u=o.params:u=new as({fromObject:o.params})),r=new Ml(e,i,o.body!==void 0?o.body:null,{headers:c,context:o.context,params:u,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials,transferCache:o.transferCache,keepalive:o.keepalive,priority:o.priority,cache:o.cache,mode:o.mode,redirect:o.redirect,credentials:o.credentials,referrer:o.referrer,integrity:o.integrity,timeout:o.timeout})}let s=Q(r).pipe(oo(c=>this.handler.handle(c)));if(e instanceof Ml||o.observe==="events")return s;let a=s.pipe(oi(c=>c instanceof Uu));switch(o.observe||"body"){case"body":switch(r.responseType){case"arraybuffer":return a.pipe(H(c=>{if(c.body!==null&&!(c.body instanceof ArrayBuffer))throw new G(2806,!1);return c.body}));case"blob":return a.pipe(H(c=>{if(c.body!==null&&!(c.body instanceof Blob))throw new G(2807,!1);return c.body}));case"text":return a.pipe(H(c=>{if(c.body!==null&&typeof c.body!="string")throw new G(2808,!1);return c.body}));case"json":default:return a.pipe(H(c=>c.body))}case"response":return a;default:throw new G(2809,!1)}}delete(e,i={}){return this.request("DELETE",e,i)}get(e,i={}){return this.request("GET",e,i)}head(e,i={}){return this.request("HEAD",e,i)}jsonp(e,i){return this.request("JSONP",e,{params:new as().append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,i={}){return this.request("OPTIONS",e,i)}patch(e,i,o={}){return this.request("PATCH",e,N1(o,i))}post(e,i,o={}){return this.request("POST",e,N1(o,i))}put(e,i,o={}){return this.request("PUT",e,N1(o,i))}static \u0275fac=function(i){return new(i||n)(Z(Ol))};static \u0275prov=K({token:n,factory:n.\u0275fac})}return n})();var N9=new oe("");function _D(n,t){return t(n)}function L9(n,t){return(e,i)=>t.intercept(e,{handle:o=>n(o,i)})}function F9(n,t,e){return(i,o)=>Y(e,()=>t(i,r=>n(r,o)))}var CD=new oe(""),F1=new oe(""),vD=new oe(""),z1=new oe("",{providedIn:"root",factory:()=>!0});function z9(){let n=null;return(t,e)=>{n===null&&(n=(U(CD,{optional:!0})??[]).reduceRight(L9,_D));let i=U(Zr);if(U(z1)){let r=i.add();return n(t,e).pipe(Ts(r))}else return n(t,e)}}var hm=(()=>{class n extends Ol{backend;injector;chain=null;pendingTasks=U(Zr);contributeToStability=U(z1);constructor(e,i){super(),this.backend=e,this.injector=i}handle(e){if(this.chain===null){let i=Array.from(new Set([...this.injector.get(F1),...this.injector.get(vD,[])]));this.chain=i.reduceRight((o,r)=>F9(o,r,this.injector),_D)}if(this.contributeToStability){let i=this.pendingTasks.add();return this.chain(e,o=>this.backend.handle(o)).pipe(Ts(i))}else return this.chain(e,i=>this.backend.handle(i))}static \u0275fac=function(i){return new(i||n)(Z(Vu),Z(Qt))};static \u0275prov=K({token:n,factory:n.\u0275fac})}return n})();var B9=/^\)\]\}',?\n/,j9=RegExp(`^${gD}:`,"m");function V9(n){return"responseURL"in n&&n.responseURL?n.responseURL:j9.test(n.getAllResponseHeaders())?n.getResponseHeader(gD):null}var L1=(()=>{class n{xhrFactory;constructor(e){this.xhrFactory=e}handle(e){if(e.method==="JSONP")throw new G(-2800,!1);let i=this.xhrFactory;return Q(null).pipe(be(()=>new ve(r=>{let s=i.build();if(s.open(e.method,e.urlWithParams),e.withCredentials&&(s.withCredentials=!0),e.headers.forEach((N,W)=>s.setRequestHeader(N,W.join(","))),e.headers.has(pD)||s.setRequestHeader(pD,k9),!e.headers.has(uD)){let N=e.detectContentTypeHeader();N!==null&&s.setRequestHeader(uD,N)}if(e.timeout&&(s.timeout=e.timeout),e.responseType){let N=e.responseType.toLowerCase();s.responseType=N!=="json"?N:"text"}let a=e.serializeBody(),c=null,u=()=>{if(c!==null)return c;let N=s.statusText||"OK",W=new Us(s.getAllResponseHeaders()),Ce=V9(s)||e.url;return c=new gm({headers:W,status:s.status,statusText:N,url:Ce}),c},C=()=>{let{headers:N,status:W,statusText:Ce,url:we}=u(),Me=null;W!==R9&&(Me=typeof s.response>"u"?s.responseText:s.response),W===0&&(W=Me?A9:0);let mt=W>=200&&W<300;if(e.responseType==="json"&&typeof Me=="string"){let lt=Me;Me=Me.replace(B9,"");try{Me=Me!==""?JSON.parse(Me):null}catch(Ot){Me=lt,mt&&(mt=!1,Me={error:Ot,text:Me})}}mt?(r.next(new Uu({body:Me,headers:N,status:W,statusText:Ce,url:we||void 0})),r.complete()):r.error(new Pl({error:Me,headers:N,status:W,statusText:Ce,url:we||void 0}))},v=N=>{let{url:W}=u(),Ce=new Pl({error:N,status:s.status||0,statusText:s.statusText||"Unknown Error",url:W||void 0});r.error(Ce)},P=v;e.timeout&&(P=N=>{let{url:W}=u(),Ce=new Pl({error:new DOMException("Request timed out","TimeoutError"),status:s.status||0,statusText:s.statusText||"Request timeout",url:W||void 0});r.error(Ce)});let w=!1,S=N=>{w||(r.next(u()),w=!0);let W={type:Za.DownloadProgress,loaded:N.loaded};N.lengthComputable&&(W.total=N.total),e.responseType==="text"&&s.responseText&&(W.partialText=s.responseText),r.next(W)},F=N=>{let W={type:Za.UploadProgress,loaded:N.loaded};N.lengthComputable&&(W.total=N.total),r.next(W)};return s.addEventListener("load",C),s.addEventListener("error",v),s.addEventListener("timeout",P),s.addEventListener("abort",v),e.reportProgress&&(s.addEventListener("progress",S),a!==null&&s.upload&&s.upload.addEventListener("progress",F)),s.send(a),r.next({type:Za.Sent}),()=>{s.removeEventListener("error",v),s.removeEventListener("abort",v),s.removeEventListener("load",C),s.removeEventListener("timeout",P),e.reportProgress&&(s.removeEventListener("progress",S),a!==null&&s.upload&&s.upload.removeEventListener("progress",F)),s.readyState!==s.DONE&&s.abort()}})))}static \u0275fac=function(i){return new(i||n)(Z(Ya))};static \u0275prov=K({token:n,factory:n.\u0275fac})}return n})(),bD=new oe(""),U9="XSRF-TOKEN",$9=new oe("",{providedIn:"root",factory:()=>U9}),q9="X-XSRF-TOKEN",H9=new oe("",{providedIn:"root",factory:()=>q9}),$u=class{},W9=(()=>{class n{doc;cookieName;lastCookieString="";lastToken=null;parseCount=0;constructor(e,i){this.doc=e,this.cookieName=i}getToken(){let e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=Nu(e,this.cookieName),this.lastCookieString=e),this.lastToken}static \u0275fac=function(i){return new(i||n)(Z(Ut),Z($9))};static \u0275prov=K({token:n,factory:n.\u0275fac})}return n})(),G9=/^(?:https?:)?\/\//i;function Q9(n,t){if(!U(bD)||n.method==="GET"||n.method==="HEAD"||G9.test(n.url))return t(n);let e=U($u).getToken(),i=U(H9);return e!=null&&!n.headers.has(i)&&(n=n.clone({headers:n.headers.set(i,e)})),t(n)}var B1=(function(n){return n[n.Interceptors=0]="Interceptors",n[n.LegacyInterceptors=1]="LegacyInterceptors",n[n.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",n[n.NoXsrfProtection=3]="NoXsrfProtection",n[n.JsonpSupport=4]="JsonpSupport",n[n.RequestsMadeViaParent=5]="RequestsMadeViaParent",n[n.Fetch=6]="Fetch",n})(B1||{});function K9(n,t){return{\u0275kind:n,\u0275providers:t}}function yD(...n){let t=[mm,L1,hm,{provide:Ol,useExisting:hm},{provide:Vu,useFactory:()=>U(N9,{optional:!0})??U(L1)},{provide:F1,useValue:Q9,multi:!0},{provide:bD,useValue:!0},{provide:$u,useClass:W9}];for(let e of n)t.push(...e.\u0275providers);return Wn(t)}var fD=new oe("");function MD(){return K9(B1.LegacyInterceptors,[{provide:fD,useFactory:z9},{provide:F1,useExisting:fD,multi:!0}])}var j1=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=ri({type:n});static \u0275inj=Hn({providers:[yD(MD())]})}return n})();var PD=(()=>{class n{_doc;constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}static \u0275fac=function(i){return new(i||n)(Z(Ut))};static \u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var qu=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275prov=K({token:n,factory:function(i){let o=null;return i?o=new(i||n):o=Z(Y9),o},providedIn:"root"})}return n})(),Y9=(()=>{class n extends qu{_doc;constructor(e){super(),this._doc=e}sanitize(e,i){if(i==null)return null;switch(e){case Bo.NONE:return i;case Bo.HTML:return ts(i,"HTML")?go(i):Iy(this._doc,String(i)).toString();case Bo.STYLE:return ts(i,"Style")?go(i):i;case Bo.SCRIPT:if(ts(i,"Script"))return go(i);throw new G(5200,!1);case Bo.URL:return ts(i,"URL")?go(i):mu(String(i));case Bo.RESOURCE_URL:if(ts(i,"ResourceURL"))return go(i);throw new G(5201,!1);default:throw new G(5202,!1)}}bypassSecurityTrustHtml(e){return Py(e)}bypassSecurityTrustStyle(e){return Oy(e)}bypassSecurityTrustScript(e){return wy(e)}bypassSecurityTrustUrl(e){return xy(e)}bypassSecurityTrustResourceUrl(e){return Ey(e)}static \u0275fac=function(i){return new(i||n)(Z(Ut))};static \u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Ve="primary",ip=Symbol("RouteTitle"),W1=class{params;constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){let e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){let e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}};function ec(n){return new W1(n)}function DD(n,t,e){let i=e.path.split("/");if(i.length>n.length||e.pathMatch==="full"&&(t.hasChildren()||i.length<n.length))return null;let o={};for(let r=0;r<i.length;r++){let s=i[r],a=n[r];if(s[0]===":")o[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,i.length),posParams:o}}function Z9(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!Cr(n[e],t[e]))return!1;return!0}function Cr(n,t){let e=n?G1(n):void 0,i=t?G1(t):void 0;if(!e||!i||e.length!=i.length)return!1;let o;for(let r=0;r<e.length;r++)if(o=e[r],!kD(n[o],t[o]))return!1;return!0}function G1(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function kD(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;let e=[...n].sort(),i=[...t].sort();return e.every((o,r)=>i[r]===o)}else return n===t}function AD(n){return n.length>0?n[n.length-1]:null}function cs(n){return Do(n)?n:Vs(n)?X(Promise.resolve(n)):Q(n)}var J9={exact:ND,subset:LD},RD={exact:X9,subset:e7,ignored:()=>!0};function OD(n,t,e){return J9[e.paths](n.root,t.root,e.matrixParams)&&RD[e.queryParams](n.queryParams,t.queryParams)&&!(e.fragment==="exact"&&n.fragment!==t.fragment)}function X9(n,t){return Cr(n,t)}function ND(n,t,e){if(!Ja(n.segments,t.segments)||!vm(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(let i in t.children)if(!n.children[i]||!ND(n.children[i],t.children[i],e))return!1;return!0}function e7(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>kD(n[e],t[e]))}function LD(n,t,e){return FD(n,t,t.segments,e)}function FD(n,t,e,i){if(n.segments.length>e.length){let o=n.segments.slice(0,e.length);return!(!Ja(o,e)||t.hasChildren()||!vm(o,e,i))}else if(n.segments.length===e.length){if(!Ja(n.segments,e)||!vm(n.segments,e,i))return!1;for(let o in t.children)if(!n.children[o]||!LD(n.children[o],t.children[o],i))return!1;return!0}else{let o=e.slice(0,n.segments.length),r=e.slice(n.segments.length);return!Ja(n.segments,o)||!vm(n.segments,o,i)||!n.children[Ve]?!1:FD(n.children[Ve],t,r,i)}}function vm(n,t,e){return t.every((i,o)=>RD[e](n[o].parameters,i.parameters))}var br=class{root;queryParams;fragment;_queryParamMap;constructor(t=new Mt([],{}),e={},i=null){this.root=t,this.queryParams=e,this.fragment=i}get queryParamMap(){return this._queryParamMap??=ec(this.queryParams),this._queryParamMap}toString(){return i7.serialize(this)}},Mt=class{segments;children;parent=null;constructor(t,e){this.segments=t,this.children=e,Object.values(e).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return bm(this)}},$s=class{path;parameters;_parameterMap;constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap??=ec(this.parameters),this._parameterMap}toString(){return BD(this)}};function t7(n,t){return Ja(n,t)&&n.every((e,i)=>Cr(e.parameters,t[i].parameters))}function Ja(n,t){return n.length!==t.length?!1:n.every((e,i)=>e.path===t[i].path)}function n7(n,t){let e=[];return Object.entries(n.children).forEach(([i,o])=>{i===Ve&&(e=e.concat(t(o,i)))}),Object.entries(n.children).forEach(([i,o])=>{i!==Ve&&(e=e.concat(t(o,i)))}),e}var tc=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275prov=K({token:n,factory:()=>new qs,providedIn:"root"})}return n})(),qs=class{parse(t){let e=new K1(t);return new br(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){let e=`/${Hu(t.root,!0)}`,i=s7(t.queryParams),o=typeof t.fragment=="string"?`#${o7(t.fragment)}`:"";return`${e}${i}${o}`}},i7=new qs;function bm(n){return n.segments.map(t=>BD(t)).join("/")}function Hu(n,t){if(!n.hasChildren())return bm(n);if(t){let e=n.children[Ve]?Hu(n.children[Ve],!1):"",i=[];return Object.entries(n.children).forEach(([o,r])=>{o!==Ve&&i.push(`${o}:${Hu(r,!1)}`)}),i.length>0?`${e}(${i.join("//")})`:e}else{let e=n7(n,(i,o)=>o===Ve?[Hu(n.children[Ve],!1)]:[`${o}:${Hu(i,!1)}`]);return Object.keys(n.children).length===1&&n.children[Ve]!=null?`${bm(n)}/${e[0]}`:`${bm(n)}/(${e.join("//")})`}}function zD(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function _m(n){return zD(n).replace(/%3B/gi,";")}function o7(n){return encodeURI(n)}function Q1(n){return zD(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ym(n){return decodeURIComponent(n)}function wD(n){return ym(n.replace(/\+/g,"%20"))}function BD(n){return`${Q1(n.path)}${r7(n.parameters)}`}function r7(n){return Object.entries(n).map(([t,e])=>`;${Q1(t)}=${Q1(e)}`).join("")}function s7(n){let t=Object.entries(n).map(([e,i])=>Array.isArray(i)?i.map(o=>`${_m(e)}=${_m(o)}`).join("&"):`${_m(e)}=${_m(i)}`).filter(e=>e);return t.length?`?${t.join("&")}`:""}var a7=/^[^\/()?;#]+/;function U1(n){let t=n.match(a7);return t?t[0]:""}var c7=/^[^\/()?;=#]+/;function l7(n){let t=n.match(c7);return t?t[0]:""}var d7=/^[^=?&#]+/;function u7(n){let t=n.match(d7);return t?t[0]:""}var p7=/^[^&#]+/;function f7(n){let t=n.match(p7);return t?t[0]:""}var K1=class{url;remaining;constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Mt([],{}):new Mt([],this.parseChildren())}parseQueryParams(){let t={};if(this.consumeOptional("?"))do this.parseQueryParam(t);while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(i[Ve]=new Mt(t,e)),i}parseSegment(){let t=U1(this.remaining);if(t===""&&this.peekStartsWith(";"))throw new G(4009,!1);return this.capture(t),new $s(ym(t),this.parseMatrixParams())}parseMatrixParams(){let t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){let e=l7(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){let o=U1(this.remaining);o&&(i=o,this.capture(i))}t[ym(e)]=ym(i)}parseQueryParam(t){let e=u7(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){let s=f7(this.remaining);s&&(i=s,this.capture(i))}let o=wD(e),r=wD(i);if(t.hasOwnProperty(o)){let s=t[o];Array.isArray(s)||(s=[s],t[o]=s),s.push(r)}else t[o]=r}parseParens(t){let e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let i=U1(this.remaining),o=this.remaining[i.length];if(o!=="/"&&o!==")"&&o!==";")throw new G(4010,!1);let r;i.indexOf(":")>-1?(r=i.slice(0,i.indexOf(":")),this.capture(r),this.capture(":")):t&&(r=Ve);let s=this.parseChildren();e[r??Ve]=Object.keys(s).length===1&&s[Ve]?s[Ve]:new Mt([],s),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return this.peekStartsWith(t)?(this.remaining=this.remaining.substring(t.length),!0):!1}capture(t){if(!this.consumeOptional(t))throw new G(4011,!1)}};function jD(n){return n.segments.length>0?new Mt([],{[Ve]:n}):n}function VD(n){let t={};for(let[i,o]of Object.entries(n.children)){let r=VD(o);if(i===Ve&&r.segments.length===0&&r.hasChildren())for(let[s,a]of Object.entries(r.children))t[s]=a;else(r.segments.length>0||r.hasChildren())&&(t[i]=r)}let e=new Mt(n.segments,t);return g7(e)}function g7(n){if(n.numberOfChildren===1&&n.children[Ve]){let t=n.children[Ve];return new Mt(n.segments.concat(t.segments),t.children)}return n}function Hs(n){return n instanceof br}function UD(n,t,e=null,i=null){let o=$D(n);return qD(o,t,e,i)}function $D(n){let t;function e(r){let s={};for(let c of r.children){let u=e(c);s[c.outlet]=u}let a=new Mt(r.url,s);return r===n&&(t=a),a}let i=e(n.root),o=jD(i);return t??o}function qD(n,t,e,i){let o=n;for(;o.parent;)o=o.parent;if(t.length===0)return $1(o,o,o,e,i);let r=h7(t);if(r.toRoot())return $1(o,o,new Mt([],{}),e,i);let s=m7(r,o,n),a=s.processChildren?Gu(s.segmentGroup,s.index,r.commands):WD(s.segmentGroup,s.index,r.commands);return $1(o,s.segmentGroup,a,e,i)}function Mm(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function Ku(n){return typeof n=="object"&&n!=null&&n.outlets}function $1(n,t,e,i,o){let r={};i&&Object.entries(i).forEach(([c,u])=>{r[c]=Array.isArray(u)?u.map(C=>`${C}`):`${u}`});let s;n===t?s=e:s=HD(n,t,e);let a=jD(VD(s));return new br(a,r,o)}function HD(n,t,e){let i={};return Object.entries(n.children).forEach(([o,r])=>{r===t?i[o]=e:i[o]=HD(r,t,e)}),new Mt(n.segments,i)}var Pm=class{isAbsolute;numberOfDoubleDots;commands;constructor(t,e,i){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=i,t&&i.length>0&&Mm(i[0]))throw new G(4003,!1);let o=i.find(Ku);if(o&&o!==AD(i))throw new G(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function h7(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new Pm(!0,0,n);let t=0,e=!1,i=n.reduce((o,r,s)=>{if(typeof r=="object"&&r!=null){if(r.outlets){let a={};return Object.entries(r.outlets).forEach(([c,u])=>{a[c]=typeof u=="string"?u.split("/"):u}),[...o,{outlets:a}]}if(r.segmentPath)return[...o,r.segmentPath]}return typeof r!="string"?[...o,r]:s===0?(r.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?e=!0:a===".."?t++:a!=""&&o.push(a))}),o):[...o,r]},[]);return new Pm(e,t,i)}var Il=class{segmentGroup;processChildren;index;constructor(t,e,i){this.segmentGroup=t,this.processChildren=e,this.index=i}};function m7(n,t,e){if(n.isAbsolute)return new Il(t,!0,0);if(!e)return new Il(t,!1,NaN);if(e.parent===null)return new Il(e,!0,0);let i=Mm(n.commands[0])?0:1,o=e.segments.length-1+i;return _7(e,o,n.numberOfDoubleDots)}function _7(n,t,e){let i=n,o=t,r=e;for(;r>o;){if(r-=o,i=i.parent,!i)throw new G(4005,!1);o=i.segments.length}return new Il(i,!1,o-r)}function C7(n){return Ku(n[0])?n[0].outlets:{[Ve]:n}}function WD(n,t,e){if(n??=new Mt([],{}),n.segments.length===0&&n.hasChildren())return Gu(n,t,e);let i=v7(n,t,e),o=e.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){let r=new Mt(n.segments.slice(0,i.pathIndex),{});return r.children[Ve]=new Mt(n.segments.slice(i.pathIndex),n.children),Gu(r,0,o)}else return i.match&&o.length===0?new Mt(n.segments,{}):i.match&&!n.hasChildren()?Y1(n,t,e):i.match?Gu(n,0,o):Y1(n,t,e)}function Gu(n,t,e){if(e.length===0)return new Mt(n.segments,{});{let i=C7(e),o={};if(Object.keys(i).some(r=>r!==Ve)&&n.children[Ve]&&n.numberOfChildren===1&&n.children[Ve].segments.length===0){let r=Gu(n.children[Ve],t,e);return new Mt(n.segments,r.children)}return Object.entries(i).forEach(([r,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(o[r]=WD(n.children[r],t,s))}),Object.entries(n.children).forEach(([r,s])=>{i[r]===void 0&&(o[r]=s)}),new Mt(n.segments,o)}}function v7(n,t,e){let i=0,o=t,r={match:!1,pathIndex:0,commandIndex:0};for(;o<n.segments.length;){if(i>=e.length)return r;let s=n.segments[o],a=e[i];if(Ku(a))break;let c=`${a}`,u=i<e.length-1?e[i+1]:null;if(o>0&&c===void 0)break;if(c&&u&&typeof u=="object"&&u.outlets===void 0){if(!ED(c,u,s))return r;i+=2}else{if(!ED(c,{},s))return r;i++}o++}return{match:!0,pathIndex:o,commandIndex:i}}function Y1(n,t,e){let i=n.segments.slice(0,t),o=0;for(;o<e.length;){let r=e[o];if(Ku(r)){let c=b7(r.outlets);return new Mt(i,c)}if(o===0&&Mm(e[0])){let c=n.segments[t];i.push(new $s(c.path,xD(e[0]))),o++;continue}let s=Ku(r)?r.outlets[Ve]:`${r}`,a=o<e.length-1?e[o+1]:null;s&&a&&Mm(a)?(i.push(new $s(s,xD(a))),o+=2):(i.push(new $s(s,{})),o++)}return new Mt(i,{})}function b7(n){let t={};return Object.entries(n).forEach(([e,i])=>{typeof i=="string"&&(i=[i]),i!==null&&(t[e]=Y1(new Mt([],{}),0,i))}),t}function xD(n){let t={};return Object.entries(n).forEach(([e,i])=>t[e]=`${i}`),t}function ED(n,t,e){return n==e.path&&Cr(t,e.parameters)}var Sl="imperative",kn=(function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n})(kn||{}),Zi=class{id;url;constructor(t,e){this.id=t,this.url=e}},Ws=class extends Zi{type=kn.NavigationStart;navigationTrigger;restoredState;constructor(t,e,i="imperative",o=null){super(t,e),this.navigationTrigger=i,this.restoredState=o}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Ji=class extends Zi{urlAfterRedirects;type=kn.NavigationEnd;constructor(t,e,i){super(t,e),this.urlAfterRedirects=i}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Mi=(function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n[n.Aborted=4]="Aborted",n})(Mi||{}),Dl=(function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n})(Dl||{}),vr=class extends Zi{reason;code;type=kn.NavigationCancel;constructor(t,e,i,o){super(t,e),this.reason=i,this.code=o}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},yr=class extends Zi{reason;code;type=kn.NavigationSkipped;constructor(t,e,i,o){super(t,e),this.reason=i,this.code=o}},kl=class extends Zi{error;target;type=kn.NavigationError;constructor(t,e,i,o){super(t,e),this.error=i,this.target=o}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Yu=class extends Zi{urlAfterRedirects;state;type=kn.RoutesRecognized;constructor(t,e,i,o){super(t,e),this.urlAfterRedirects=i,this.state=o}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Om=class extends Zi{urlAfterRedirects;state;type=kn.GuardsCheckStart;constructor(t,e,i,o){super(t,e),this.urlAfterRedirects=i,this.state=o}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},wm=class extends Zi{urlAfterRedirects;state;shouldActivate;type=kn.GuardsCheckEnd;constructor(t,e,i,o,r){super(t,e),this.urlAfterRedirects=i,this.state=o,this.shouldActivate=r}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},xm=class extends Zi{urlAfterRedirects;state;type=kn.ResolveStart;constructor(t,e,i,o){super(t,e),this.urlAfterRedirects=i,this.state=o}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Em=class extends Zi{urlAfterRedirects;state;type=kn.ResolveEnd;constructor(t,e,i,o){super(t,e),this.urlAfterRedirects=i,this.state=o}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Im=class{route;type=kn.RouteConfigLoadStart;constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Sm=class{route;type=kn.RouteConfigLoadEnd;constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Tm=class{snapshot;type=kn.ChildActivationStart;constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Dm=class{snapshot;type=kn.ChildActivationEnd;constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},km=class{snapshot;type=kn.ActivationStart;constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Am=class{snapshot;type=kn.ActivationEnd;constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Al=class{routerEvent;position;anchor;type=kn.Scroll;constructor(t,e,i){this.routerEvent=t,this.position=e,this.anchor=i}toString(){let t=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${t}')`}},Zu=class{},Rl=class{url;navigationBehaviorOptions;constructor(t,e){this.url=t,this.navigationBehaviorOptions=e}};function y7(n){return!(n instanceof Zu)&&!(n instanceof Rl)}function M7(n,t){return n.providers&&!n._injector&&(n._injector=ml(n.providers,t,`Route: ${n.path}`)),n._injector??t}function $o(n){return n.outlet||Ve}function P7(n,t){let e=n.filter(i=>$o(i)===t);return e.push(...n.filter(i=>$o(i)!==t)),e}function Fl(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let t=n.parent;t;t=t.parent){let e=t.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}var Rm=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return Fl(this.route?.snapshot)??this.rootInjector}constructor(t){this.rootInjector=t,this.children=new nc(this.rootInjector)}},nc=(()=>{class n{rootInjector;contexts=new Map;constructor(e){this.rootInjector=e}onChildOutletCreated(e,i){let o=this.getOrCreateContext(e);o.outlet=i,this.contexts.set(e,o)}onChildOutletDestroyed(e){let i=this.getContext(e);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let i=this.getContext(e);return i||(i=new Rm(this.rootInjector),this.contexts.set(e,i)),i}getContext(e){return this.contexts.get(e)||null}static \u0275fac=function(i){return new(i||n)(Z(Qt))};static \u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Nm=class{_root;constructor(t){this._root=t}get root(){return this._root.value}parent(t){let e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){let e=Z1(t,this._root);return e?e.children.map(i=>i.value):[]}firstChild(t){let e=Z1(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){let e=J1(t,this._root);return e.length<2?[]:e[e.length-2].children.map(o=>o.value).filter(o=>o!==t)}pathFromRoot(t){return J1(t,this._root).map(e=>e.value)}};function Z1(n,t){if(n===t.value)return t;for(let e of t.children){let i=Z1(n,e);if(i)return i}return null}function J1(n,t){if(n===t.value)return[t];for(let e of t.children){let i=J1(n,e);if(i.length)return i.unshift(t),i}return[]}var Yi=class{value;children;constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}};function El(n){let t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}var Ju=class extends Nm{snapshot;constructor(t,e){super(t),this.snapshot=e,sM(this,t)}toString(){return this.snapshot.toString()}};function GD(n){let t=O7(n),e=new $n([new $s("",{})]),i=new $n({}),o=new $n({}),r=new $n({}),s=new $n(""),a=new tn(e,i,r,s,o,Ve,n,t.root);return a.snapshot=t.root,new Ju(new Yi(a,[]),t)}function O7(n){let t={},e={},i={},r=new Xa([],t,i,"",e,Ve,n,null,{});return new Xu("",new Yi(r,[]))}var tn=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(t,e,i,o,r,s,a,c){this.urlSubject=t,this.paramsSubject=e,this.queryParamsSubject=i,this.fragmentSubject=o,this.dataSubject=r,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(H(u=>u[ip]))??Q(void 0),this.url=t,this.params=e,this.queryParams=i,this.fragment=o,this.data=r}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(H(t=>ec(t))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(H(t=>ec(t))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Lm(n,t,e="emptyOnly"){let i,{routeConfig:o}=n;return t!==null&&(e==="always"||o?.path===""||!t.component&&!t.routeConfig?.loadComponent)?i={params:j(j({},t.params),n.params),data:j(j({},t.data),n.data),resolve:j(j(j(j({},n.data),t.data),o?.data),n._resolvedData)}:i={params:j({},n.params),data:j({},n.data),resolve:j(j({},n.data),n._resolvedData??{})},o&&KD(o)&&(i.resolve[ip]=o.title),i}var Xa=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[ip]}constructor(t,e,i,o,r,s,a,c,u){this.url=t,this.params=e,this.queryParams=i,this.fragment=o,this.data=r,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=ec(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=ec(this.queryParams),this._queryParamMap}toString(){let t=this.url.map(i=>i.toString()).join("/"),e=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${t}', path:'${e}')`}},Xu=class extends Nm{url;constructor(t,e){super(e),this.url=t,sM(this,e)}toString(){return QD(this._root)}};function sM(n,t){t.value._routerState=n,t.children.forEach(e=>sM(n,e))}function QD(n){let t=n.children.length>0?` { ${n.children.map(QD).join(", ")} } `:"";return`${n.value}${t}`}function q1(n){if(n.snapshot){let t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,Cr(t.queryParams,e.queryParams)||n.queryParamsSubject.next(e.queryParams),t.fragment!==e.fragment&&n.fragmentSubject.next(e.fragment),Cr(t.params,e.params)||n.paramsSubject.next(e.params),Z9(t.url,e.url)||n.urlSubject.next(e.url),Cr(t.data,e.data)||n.dataSubject.next(e.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function X1(n,t){let e=Cr(n.params,t.params)&&t7(n.url,t.url),i=!n.parent!=!t.parent;return e&&!i&&(!n.parent||X1(n.parent,t.parent))}function KD(n){return typeof n.title=="string"||n.title===null}var YD=new oe(""),ic=(()=>{class n{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=Ve;activateEvents=new et;deactivateEvents=new et;attachEvents=new et;detachEvents=new et;routerOutletData=ET();parentContexts=U(nc);location=U(is);changeDetector=U(jo);inputBinder=U(op,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(e){if(e.name){let{firstChange:i,previousValue:o}=e.name;if(i)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new G(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new G(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new G(4012,!1);this.location.detach();let e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,i){this.activated=e,this._activatedRoute=i,this.location.insert(e.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){let e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,i){if(this.isActivated)throw new G(4013,!1);this._activatedRoute=e;let o=this.location,s=e.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new eM(e,a,o.injector,this.routerOutletData);this.activated=o.createComponent(s,{index:o.length,injector:c,environmentInjector:i}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(i){return new(i||n)};static \u0275dir=gt({type:n,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[_n]})}return n})(),eM=class{route;childContexts;parent;outletData;constructor(t,e,i,o){this.route=t,this.childContexts=e,this.parent=i,this.outletData=o}get(t,e){return t===tn?this.route:t===nc?this.childContexts:t===YD?this.outletData:this.parent.get(t,e)}},op=new oe(""),aM=(()=>{class n{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(e){this.unsubscribeFromRouteData(e),this.subscribeToRouteData(e)}unsubscribeFromRouteData(e){this.outletDataSubscriptions.get(e)?.unsubscribe(),this.outletDataSubscriptions.delete(e)}subscribeToRouteData(e){let{activatedRoute:i}=e,o=Hd([i.queryParams,i.params,i.data]).pipe(be(([r,s,a],c)=>(a=j(j(j({},r),s),a),c===0?Q(a):Promise.resolve(a)))).subscribe(r=>{if(!e.isActivated||!e.activatedComponentRef||e.activatedRoute!==i||i.component===null){this.unsubscribeFromRouteData(e);return}let s=ST(i.component);if(!s){this.unsubscribeFromRouteData(e);return}for(let{templateName:a}of s.inputs)e.activatedComponentRef.setInput(a,r[a])});this.outletDataSubscriptions.set(e,o)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=K({token:n,factory:n.\u0275fac})}return n})(),cM=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275cmp=ce({type:n,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(i,o){i&1&&b(0,"router-outlet")},dependencies:[ic],encapsulation:2})}return n})();function lM(n){let t=n.children&&n.children.map(lM),e=t?ae(j({},n),{children:t}):j({},n);return!e.component&&!e.loadComponent&&(t||e.loadChildren)&&e.outlet&&e.outlet!==Ve&&(e.component=cM),e}function w7(n,t,e){let i=ep(n,t._root,e?e._root:void 0);return new Ju(i,t)}function ep(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){let i=e.value;i._futureSnapshot=t.value;let o=x7(n,t,e);return new Yi(i,o)}else{if(n.shouldAttach(t.value)){let r=n.retrieve(t.value);if(r!==null){let s=r.route;return s.value._futureSnapshot=t.value,s.children=t.children.map(a=>ep(n,a)),s}}let i=E7(t.value),o=t.children.map(r=>ep(n,r));return new Yi(i,o)}}function x7(n,t,e){return t.children.map(i=>{for(let o of e.children)if(n.shouldReuseRoute(i.value,o.value.snapshot))return ep(n,i,o);return ep(n,i)})}function E7(n){return new tn(new $n(n.url),new $n(n.params),new $n(n.queryParams),new $n(n.fragment),new $n(n.data),n.outlet,n.component,n)}var Nl=class{redirectTo;navigationBehaviorOptions;constructor(t,e){this.redirectTo=t,this.navigationBehaviorOptions=e}},ZD="ngNavigationCancelingError";function Fm(n,t){let{redirectTo:e,navigationBehaviorOptions:i}=Hs(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,o=JD(!1,Mi.Redirect);return o.url=e,o.navigationBehaviorOptions=i,o}function JD(n,t){let e=new Error(`NavigationCancelingError: ${n||""}`);return e[ZD]=!0,e.cancellationCode=t,e}function I7(n){return XD(n)&&Hs(n.url)}function XD(n){return!!n&&n[ZD]}var S7=(n,t,e,i)=>H(o=>(new tM(t,o.targetRouterState,o.currentRouterState,e,i).activate(n),o)),tM=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(t,e,i,o,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=i,this.forwardEvent=o,this.inputBindingEnabled=r}activate(t){let e=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,i,t),q1(this.futureState.root),this.activateChildRoutes(e,i,t)}deactivateChildRoutes(t,e,i){let o=El(e);t.children.forEach(r=>{let s=r.value.outlet;this.deactivateRoutes(r,o[s],i),delete o[s]}),Object.values(o).forEach(r=>{this.deactivateRouteAndItsChildren(r,i)})}deactivateRoutes(t,e,i){let o=t.value,r=e?e.value:null;if(o===r)if(o.component){let s=i.getContext(o.outlet);s&&this.deactivateChildRoutes(t,e,s.children)}else this.deactivateChildRoutes(t,e,i);else r&&this.deactivateRouteAndItsChildren(e,i)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){let i=e.getContext(t.value.outlet),o=i&&t.value.component?i.children:e,r=El(t);for(let s of Object.values(r))this.deactivateRouteAndItsChildren(s,o);if(i&&i.outlet){let s=i.outlet.detach(),a=i.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:s,route:t,contexts:a})}}deactivateRouteAndOutlet(t,e){let i=e.getContext(t.value.outlet),o=i&&t.value.component?i.children:e,r=El(t);for(let s of Object.values(r))this.deactivateRouteAndItsChildren(s,o);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(t,e,i){let o=El(e);t.children.forEach(r=>{this.activateRoutes(r,o[r.value.outlet],i),this.forwardEvent(new Am(r.value.snapshot))}),t.children.length&&this.forwardEvent(new Dm(t.value.snapshot))}activateRoutes(t,e,i){let o=t.value,r=e?e.value:null;if(q1(o),o===r)if(o.component){let s=i.getOrCreateContext(o.outlet);this.activateChildRoutes(t,e,s.children)}else this.activateChildRoutes(t,e,i);else if(o.component){let s=i.getOrCreateContext(o.outlet);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){let a=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),q1(a.route.value),this.activateChildRoutes(t,null,s.children)}else s.attachRef=null,s.route=o,s.outlet&&s.outlet.activateWith(o,s.injector),this.activateChildRoutes(t,null,s.children)}else this.activateChildRoutes(t,null,i)}},zm=class{path;route;constructor(t){this.path=t,this.route=this.path[this.path.length-1]}},Tl=class{component;route;constructor(t,e){this.component=t,this.route=e}};function T7(n,t,e){let i=n._root,o=t?t._root:null;return Wu(i,o,e,[i.value])}function D7(n){let t=n.routeConfig?n.routeConfig.canActivateChild:null;return!t||t.length===0?null:{node:n,guards:t}}function zl(n,t){let e=Symbol(),i=t.get(n,e);return i===e?typeof n=="function"&&!Dv(n)?n:t.get(n):i}function Wu(n,t,e,i,o={canDeactivateChecks:[],canActivateChecks:[]}){let r=El(t);return n.children.forEach(s=>{k7(s,r[s.value.outlet],e,i.concat([s.value]),o),delete r[s.value.outlet]}),Object.entries(r).forEach(([s,a])=>Qu(a,e.getContext(s),o)),o}function k7(n,t,e,i,o={canDeactivateChecks:[],canActivateChecks:[]}){let r=n.value,s=t?t.value:null,a=e?e.getContext(n.value.outlet):null;if(s&&r.routeConfig===s.routeConfig){let c=A7(s,r,r.routeConfig.runGuardsAndResolvers);c?o.canActivateChecks.push(new zm(i)):(r.data=s.data,r._resolvedData=s._resolvedData),r.component?Wu(n,t,a?a.children:null,i,o):Wu(n,t,e,i,o),c&&a&&a.outlet&&a.outlet.isActivated&&o.canDeactivateChecks.push(new Tl(a.outlet.component,s))}else s&&Qu(t,a,o),o.canActivateChecks.push(new zm(i)),r.component?Wu(n,null,a?a.children:null,i,o):Wu(n,null,e,i,o);return o}function A7(n,t,e){if(typeof e=="function")return e(n,t);switch(e){case"pathParamsChange":return!Ja(n.url,t.url);case"pathParamsOrQueryParamsChange":return!Ja(n.url,t.url)||!Cr(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!X1(n,t)||!Cr(n.queryParams,t.queryParams);case"paramsChange":default:return!X1(n,t)}}function Qu(n,t,e){let i=El(n),o=n.value;Object.entries(i).forEach(([r,s])=>{o.component?t?Qu(s,t.children.getContext(r),e):Qu(s,null,e):Qu(s,t,e)}),o.component?t&&t.outlet&&t.outlet.isActivated?e.canDeactivateChecks.push(new Tl(t.outlet.component,o)):e.canDeactivateChecks.push(new Tl(null,o)):e.canDeactivateChecks.push(new Tl(null,o))}function rp(n){return typeof n=="function"}function R7(n){return typeof n=="boolean"}function N7(n){return n&&rp(n.canLoad)}function L7(n){return n&&rp(n.canActivate)}function F7(n){return n&&rp(n.canActivateChild)}function z7(n){return n&&rp(n.canDeactivate)}function B7(n){return n&&rp(n.canMatch)}function ek(n){return n instanceof ko||n?.name==="EmptyError"}var Cm=Symbol("INITIAL_VALUE");function Ll(){return be(n=>Hd(n.map(t=>t.pipe(Et(1),mv(Cm)))).pipe(H(t=>{for(let e of t)if(e!==!0){if(e===Cm)return Cm;if(e===!1||j7(e))return e}return!0}),oi(t=>t!==Cm),Et(1)))}function j7(n){return Hs(n)||n instanceof Nl}function V7(n,t){return dn(e=>{let{targetSnapshot:i,currentSnapshot:o,guards:{canActivateChecks:r,canDeactivateChecks:s}}=e;return s.length===0&&r.length===0?Q(ae(j({},e),{guardsResult:!0})):U7(s,i,o,n).pipe(dn(a=>a&&R7(a)?$7(i,r,n,t):Q(a)),H(a=>ae(j({},e),{guardsResult:a})))})}function U7(n,t,e,i){return X(n).pipe(dn(o=>Q7(o.component,o.route,e,t,i)),$r(o=>o!==!0,!0))}function $7(n,t,e,i){return X(t).pipe(oo(o=>Ur(H7(o.route.parent,i),q7(o.route,i),G7(n,o.path,e),W7(n,o.route,e))),$r(o=>o!==!0,!0))}function q7(n,t){return n!==null&&t&&t(new km(n)),Q(!0)}function H7(n,t){return n!==null&&t&&t(new Tm(n)),Q(!0)}function W7(n,t,e){let i=t.routeConfig?t.routeConfig.canActivate:null;if(!i||i.length===0)return Q(!0);let o=i.map(r=>re(()=>{let s=Fl(t)??e,a=zl(r,s),c=L7(a)?a.canActivate(t,n):Y(s,()=>a(t,n));return cs(c).pipe($r())}));return Q(o).pipe(Ll())}function G7(n,t,e){let i=t[t.length-1],r=t.slice(0,t.length-1).reverse().map(s=>D7(s)).filter(s=>s!==null).map(s=>re(()=>{let a=s.guards.map(c=>{let u=Fl(s.node)??e,C=zl(c,u),v=F7(C)?C.canActivateChild(i,n):Y(u,()=>C(i,n));return cs(v).pipe($r())});return Q(a).pipe(Ll())}));return Q(r).pipe(Ll())}function Q7(n,t,e,i,o){let r=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!r||r.length===0)return Q(!0);let s=r.map(a=>{let c=Fl(t)??o,u=zl(a,c),C=z7(u)?u.canDeactivate(n,t,e,i):Y(c,()=>u(n,t,e,i));return cs(C).pipe($r())});return Q(s).pipe(Ll())}function K7(n,t,e,i){let o=t.canLoad;if(o===void 0||o.length===0)return Q(!0);let r=o.map(s=>{let a=zl(s,n),c=N7(a)?a.canLoad(t,e):Y(n,()=>a(t,e));return cs(c)});return Q(r).pipe(Ll(),tk(i))}function tk(n){return av(Nn(t=>{if(typeof t!="boolean")throw Fm(n,t)}),H(t=>t===!0))}function Y7(n,t,e,i){let o=t.canMatch;if(!o||o.length===0)return Q(!0);let r=o.map(s=>{let a=zl(s,n),c=B7(a)?a.canMatch(t,e):Y(n,()=>a(t,e));return cs(c)});return Q(r).pipe(Ll(),tk(i))}var tp=class{segmentGroup;constructor(t){this.segmentGroup=t||null}},np=class extends Error{urlTree;constructor(t){super(),this.urlTree=t}};function xl(n){return Yc(new tp(n))}function Z7(n){return Yc(new G(4e3,!1))}function J7(n){return Yc(JD(!1,Mi.GuardRejected))}var nM=class{urlSerializer;urlTree;constructor(t,e){this.urlSerializer=t,this.urlTree=e}lineralizeSegments(t,e){let i=[],o=e.root;for(;;){if(i=i.concat(o.segments),o.numberOfChildren===0)return Q(i);if(o.numberOfChildren>1||!o.children[Ve])return Z7(`${t.redirectTo}`);o=o.children[Ve]}}applyRedirectCommands(t,e,i,o,r){return X7(e,o,r).pipe(H(s=>{if(s instanceof br)throw new np(s);let a=this.applyRedirectCreateUrlTree(s,this.urlSerializer.parse(s),t,i);if(s[0]==="/")throw new np(a);return a}))}applyRedirectCreateUrlTree(t,e,i,o){let r=this.createSegmentGroup(t,e.root,i,o);return new br(r,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){let i={};return Object.entries(t).forEach(([o,r])=>{if(typeof r=="string"&&r[0]===":"){let a=r.substring(1);i[o]=e[a]}else i[o]=r}),i}createSegmentGroup(t,e,i,o){let r=this.createSegments(t,e.segments,i,o),s={};return Object.entries(e.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(t,c,i,o)}),new Mt(r,s)}createSegments(t,e,i,o){return e.map(r=>r.path[0]===":"?this.findPosParam(t,r,o):this.findOrReturn(r,i))}findPosParam(t,e,i){let o=i[e.path.substring(1)];if(!o)throw new G(4001,!1);return o}findOrReturn(t,e){let i=0;for(let o of e){if(o.path===t.path)return e.splice(i),o;i++}return t}};function X7(n,t,e){if(typeof n=="string")return Q(n);let i=n,{queryParams:o,fragment:r,routeConfig:s,url:a,outlet:c,params:u,data:C,title:v}=t;return cs(Y(e,()=>i({params:u,data:C,queryParams:o,fragment:r,routeConfig:s,url:a,outlet:c,title:v})))}var iM={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function eU(n,t,e,i,o){let r=nk(n,t,e);return r.matched?(i=M7(t,i),Y7(i,t,e,o).pipe(H(s=>s===!0?r:j({},iM)))):Q(r)}function nk(n,t,e){if(t.path==="**")return tU(e);if(t.path==="")return t.pathMatch==="full"&&(n.hasChildren()||e.length>0)?j({},iM):{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};let o=(t.matcher||DD)(e,n,t);if(!o)return j({},iM);let r={};Object.entries(o.posParams??{}).forEach(([a,c])=>{r[a]=c.path});let s=o.consumed.length>0?j(j({},r),o.consumed[o.consumed.length-1].parameters):r;return{matched:!0,consumedSegments:o.consumed,remainingSegments:e.slice(o.consumed.length),parameters:s,positionalParamSegments:o.posParams??{}}}function tU(n){return{matched:!0,parameters:n.length>0?AD(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function ID(n,t,e,i){return e.length>0&&oU(n,e,i)?{segmentGroup:new Mt(t,iU(i,new Mt(e,n.children))),slicedSegments:[]}:e.length===0&&rU(n,e,i)?{segmentGroup:new Mt(n.segments,nU(n,e,i,n.children)),slicedSegments:e}:{segmentGroup:new Mt(n.segments,n.children),slicedSegments:e}}function nU(n,t,e,i){let o={};for(let r of e)if(jm(n,t,r)&&!i[$o(r)]){let s=new Mt([],{});o[$o(r)]=s}return j(j({},i),o)}function iU(n,t){let e={};e[Ve]=t;for(let i of n)if(i.path===""&&$o(i)!==Ve){let o=new Mt([],{});e[$o(i)]=o}return e}function oU(n,t,e){return e.some(i=>jm(n,t,i)&&$o(i)!==Ve)}function rU(n,t,e){return e.some(i=>jm(n,t,i))}function jm(n,t,e){return(n.hasChildren()||t.length>0)&&e.pathMatch==="full"?!1:e.path===""}function sU(n,t,e){return t.length===0&&!n.children[e]}var oM=class{};function aU(n,t,e,i,o,r,s="emptyOnly"){return new rM(n,t,e,i,o,s,r).recognize()}var cU=31,rM=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(t,e,i,o,r,s,a){this.injector=t,this.configLoader=e,this.rootComponentType=i,this.config=o,this.urlTree=r,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new nM(this.urlSerializer,this.urlTree)}noMatchError(t){return new G(4002,`'${t.segmentGroup}'`)}recognize(){let t=ID(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(t).pipe(H(({children:e,rootSnapshot:i})=>{let o=new Yi(i,e),r=new Xu("",o),s=UD(i,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,r.url=this.urlSerializer.serialize(s),{state:r,tree:s}}))}match(t){let e=new Xa([],Object.freeze({}),Object.freeze(j({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),Ve,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,t,Ve,e).pipe(H(i=>({children:i,rootSnapshot:e})),ut(i=>{if(i instanceof np)return this.urlTree=i.urlTree,this.match(i.urlTree.root);throw i instanceof tp?this.noMatchError(i):i}))}processSegmentGroup(t,e,i,o,r){return i.segments.length===0&&i.hasChildren()?this.processChildren(t,e,i,r):this.processSegment(t,e,i,i.segments,o,!0,r).pipe(H(s=>s instanceof Yi?[s]:[]))}processChildren(t,e,i,o){let r=[];for(let s of Object.keys(i.children))s==="primary"?r.unshift(s):r.push(s);return X(r).pipe(oo(s=>{let a=i.children[s],c=P7(e,s);return this.processSegmentGroup(t,c,a,s,o)}),gv((s,a)=>(s.push(...a),s)),Ss(null),fv(),dn(s=>{if(s===null)return xl(i);let a=ik(s);return lU(a),Q(a)}))}processSegment(t,e,i,o,r,s,a){return X(e).pipe(oo(c=>this.processSegmentAgainstRoute(c._injector??t,e,c,i,o,r,s,a).pipe(ut(u=>{if(u instanceof tp)return Q(null);throw u}))),$r(c=>!!c),ut(c=>{if(ek(c))return sU(i,o,r)?Q(new oM):xl(i);throw c}))}processSegmentAgainstRoute(t,e,i,o,r,s,a,c){return $o(i)!==s&&(s===Ve||!jm(o,r,i))?xl(o):i.redirectTo===void 0?this.matchSegmentAgainstRoute(t,o,i,r,s,c):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(t,o,e,i,r,s,c):xl(o)}expandSegmentAgainstRouteUsingRedirect(t,e,i,o,r,s,a){let{matched:c,parameters:u,consumedSegments:C,positionalParamSegments:v,remainingSegments:P}=nk(e,o,r);if(!c)return xl(e);typeof o.redirectTo=="string"&&o.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>cU&&(this.allowRedirects=!1));let w=new Xa(r,u,Object.freeze(j({},this.urlTree.queryParams)),this.urlTree.fragment,SD(o),$o(o),o.component??o._loadedComponent??null,o,TD(o)),S=Lm(w,a,this.paramsInheritanceStrategy);return w.params=Object.freeze(S.params),w.data=Object.freeze(S.data),this.applyRedirects.applyRedirectCommands(C,o.redirectTo,v,w,t).pipe(be(N=>this.applyRedirects.lineralizeSegments(o,N)),dn(N=>this.processSegment(t,i,e,N.concat(P),s,!1,a)))}matchSegmentAgainstRoute(t,e,i,o,r,s){let a=eU(e,i,o,t,this.urlSerializer);return i.path==="**"&&(e.children={}),a.pipe(be(c=>c.matched?(t=i._injector??t,this.getChildConfig(t,i,o).pipe(be(({routes:u})=>{let C=i._loadedInjector??t,{parameters:v,consumedSegments:P,remainingSegments:w}=c,S=new Xa(P,v,Object.freeze(j({},this.urlTree.queryParams)),this.urlTree.fragment,SD(i),$o(i),i.component??i._loadedComponent??null,i,TD(i)),F=Lm(S,s,this.paramsInheritanceStrategy);S.params=Object.freeze(F.params),S.data=Object.freeze(F.data);let{segmentGroup:N,slicedSegments:W}=ID(e,P,w,u);if(W.length===0&&N.hasChildren())return this.processChildren(C,u,N,S).pipe(H(we=>new Yi(S,we)));if(u.length===0&&W.length===0)return Q(new Yi(S,[]));let Ce=$o(i)===r;return this.processSegment(C,u,N,W,Ce?Ve:r,!0,S).pipe(H(we=>new Yi(S,we instanceof Yi?[we]:[])))}))):xl(e)))}getChildConfig(t,e,i){return e.children?Q({routes:e.children,injector:t}):e.loadChildren?e._loadedRoutes!==void 0?Q({routes:e._loadedRoutes,injector:e._loadedInjector}):K7(t,e,i,this.urlSerializer).pipe(dn(o=>o?this.configLoader.loadChildren(t,e).pipe(Nn(r=>{e._loadedRoutes=r.routes,e._loadedInjector=r.injector})):J7(e))):Q({routes:[],injector:t})}};function lU(n){n.sort((t,e)=>t.value.outlet===Ve?-1:e.value.outlet===Ve?1:t.value.outlet.localeCompare(e.value.outlet))}function dU(n){let t=n.value.routeConfig;return t&&t.path===""}function ik(n){let t=[],e=new Set;for(let i of n){if(!dU(i)){t.push(i);continue}let o=t.find(r=>i.value.routeConfig===r.value.routeConfig);o!==void 0?(o.children.push(...i.children),e.add(o)):t.push(i)}for(let i of e){let o=ik(i.children);t.push(new Yi(i.value,o))}return t.filter(i=>!e.has(i))}function SD(n){return n.data||{}}function TD(n){return n.resolve||{}}function uU(n,t,e,i,o,r){return dn(s=>aU(n,t,e,i,s.extractedUrl,o,r).pipe(H(({state:a,tree:c})=>ae(j({},s),{targetSnapshot:a,urlAfterRedirects:c}))))}function pU(n,t){return dn(e=>{let{targetSnapshot:i,guards:{canActivateChecks:o}}=e;if(!o.length)return Q(e);let r=new Set(o.map(c=>c.route)),s=new Set;for(let c of r)if(!s.has(c))for(let u of ok(c))s.add(u);let a=0;return X(s).pipe(oo(c=>r.has(c)?fU(c,i,n,t):(c.data=Lm(c,c.parent,n).resolve,Q(void 0))),Nn(()=>a++),Zc(1),dn(c=>a===s.size?Q(e):Ti))})}function ok(n){let t=n.children.map(e=>ok(e)).flat();return[n,...t]}function fU(n,t,e,i){let o=n.routeConfig,r=n._resolve;return o?.title!==void 0&&!KD(o)&&(r[ip]=o.title),re(()=>(n.data=Lm(n,n.parent,e).resolve,gU(r,n,t,i).pipe(H(s=>(n._resolvedData=s,n.data=j(j({},n.data),s),null)))))}function gU(n,t,e,i){let o=G1(n);if(o.length===0)return Q({});let r={};return X(o).pipe(dn(s=>hU(n[s],t,e,i).pipe($r(),Nn(a=>{if(a instanceof Nl)throw Fm(new qs,a);r[s]=a}))),Zc(1),H(()=>r),ut(s=>ek(s)?Ti:Yc(s)))}function hU(n,t,e,i){let o=Fl(t)??i,r=zl(n,o),s=r.resolve?r.resolve(t,e):Y(o,()=>r(t,e));return cs(s)}function H1(n){return be(t=>{let e=n(t);return e?X(e).pipe(H(()=>t)):Q(t)})}var dM=(()=>{class n{buildTitle(e){let i,o=e.root;for(;o!==void 0;)i=this.getResolvedTitleForRoute(o)??i,o=o.children.find(r=>r.outlet===Ve);return i}getResolvedTitleForRoute(e){return e.data[ip]}static \u0275fac=function(i){return new(i||n)};static \u0275prov=K({token:n,factory:()=>U(rk),providedIn:"root"})}return n})(),rk=(()=>{class n extends dM{title;constructor(e){super(),this.title=e}updateTitle(e){let i=this.buildTitle(e);i!==void 0&&this.title.setTitle(i)}static \u0275fac=function(i){return new(i||n)(Z(PD))};static \u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Gs=new oe("",{providedIn:"root",factory:()=>({})}),oc=new oe(""),Vm=(()=>{class n{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=U(c1);loadComponent(e,i){if(this.componentLoaders.get(i))return this.componentLoaders.get(i);if(i._loadedComponent)return Q(i._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(i);let o=cs(Y(e,()=>i.loadComponent())).pipe(H(ak),be(ck),Nn(s=>{this.onLoadEndListener&&this.onLoadEndListener(i),i._loadedComponent=s}),Ts(()=>{this.componentLoaders.delete(i)})),r=new Wc(o,()=>new me).pipe(Hc());return this.componentLoaders.set(i,r),r}loadChildren(e,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return Q({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let r=sk(i,this.compiler,e,this.onLoadEndListener).pipe(Ts(()=>{this.childrenLoaders.delete(i)})),s=new Wc(r,()=>new me).pipe(Hc());return this.childrenLoaders.set(i,s),s}static \u0275fac=function(i){return new(i||n)};static \u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function sk(n,t,e,i){return cs(Y(e,()=>n.loadChildren())).pipe(H(ak),be(ck),dn(o=>o instanceof Uh||Array.isArray(o)?Q(o):X(t.compileModuleAsync(o))),H(o=>{i&&i(n);let r,s,a=!1;return Array.isArray(o)?(s=o,a=!0):(r=o.create(e).injector,s=r.get(oc,[],{optional:!0,self:!0}).flat()),{routes:s.map(lM),injector:r}}))}function mU(n){return n&&typeof n=="object"&&"default"in n}function ak(n){return mU(n)?n.default:n}function ck(n){return Q(n)}var Um=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275prov=K({token:n,factory:()=>U(_U),providedIn:"root"})}return n})(),_U=(()=>{class n{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,i){return e}static \u0275fac=function(i){return new(i||n)};static \u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),uM=new oe(""),pM=new oe("");function lk(n,t,e){let i=n.get(pM),o=n.get(Ut);if(!o.startViewTransition||i.skipNextTransition)return i.skipNextTransition=!1,new Promise(u=>setTimeout(u));let r,s=new Promise(u=>{r=u}),a=o.startViewTransition(()=>(r(),CU(n)));a.ready.catch(u=>{});let{onViewTransitionCreated:c}=i;return c&&Y(n,()=>c({transition:a,from:t,to:e})),s}function CU(n){return new Promise(t=>{vu({read:()=>setTimeout(t)},{injector:n})})}var fM=new oe(""),$m=(()=>{class n{currentNavigation=Ai(null,{equal:()=>!1});currentTransition=null;lastSuccessfulNavigation=null;events=new me;transitionAbortWithErrorSubject=new me;configLoader=U(Vm);environmentInjector=U(Qt);destroyRef=U(fo);urlSerializer=U(tc);rootContexts=U(nc);location=U(_r);inputBindingEnabled=U(op,{optional:!0})!==null;titleStrategy=U(dM);options=U(Gs,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=U(Um);createViewTransition=U(uM,{optional:!0});navigationErrorHandler=U(fM,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>Q(void 0);rootComponentType=null;destroyed=!1;constructor(){let e=o=>this.events.next(new Im(o)),i=o=>this.events.next(new Sm(o));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=e,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(e){let i=++this.navigationId;zn(()=>{this.transitions?.next(ae(j({},e),{extractedUrl:this.urlHandlingStrategy.extract(e.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,abortController:new AbortController,id:i}))})}setupNavigations(e){return this.transitions=new $n(null),this.transitions.pipe(oi(i=>i!==null),be(i=>{let o=!1;return Q(i).pipe(be(r=>{if(this.navigationId>i.id)return this.cancelNavigationTransition(i,"",Mi.SupersededByNewNavigation),Ti;this.currentTransition=i,this.currentNavigation.set({id:r.id,initialUrl:r.rawUrl,extractedUrl:r.extractedUrl,targetBrowserUrl:typeof r.extras.browserUrl=="string"?this.urlSerializer.parse(r.extras.browserUrl):r.extras.browserUrl,trigger:r.source,extras:r.extras,previousNavigation:this.lastSuccessfulNavigation?ae(j({},this.lastSuccessfulNavigation),{previousNavigation:null}):null,abort:()=>r.abortController.abort()});let s=!e.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),a=r.extras.onSameUrlNavigation??e.onSameUrlNavigation;if(!s&&a!=="reload")return this.events.next(new yr(r.id,this.urlSerializer.serialize(r.rawUrl),"",Dl.IgnoredSameUrlNavigation)),r.resolve(!1),Ti;if(this.urlHandlingStrategy.shouldProcessUrl(r.rawUrl))return Q(r).pipe(be(c=>(this.events.next(new Ws(c.id,this.urlSerializer.serialize(c.extractedUrl),c.source,c.restoredState)),c.id!==this.navigationId?Ti:Promise.resolve(c))),uU(this.environmentInjector,this.configLoader,this.rootComponentType,e.config,this.urlSerializer,this.paramsInheritanceStrategy),Nn(c=>{i.targetSnapshot=c.targetSnapshot,i.urlAfterRedirects=c.urlAfterRedirects,this.currentNavigation.update(C=>(C.finalUrl=c.urlAfterRedirects,C));let u=new Yu(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}));if(s&&this.urlHandlingStrategy.shouldProcessUrl(r.currentRawUrl)){let{id:c,extractedUrl:u,source:C,restoredState:v,extras:P}=r,w=new Ws(c,this.urlSerializer.serialize(u),C,v);this.events.next(w);let S=GD(this.rootComponentType).snapshot;return this.currentTransition=i=ae(j({},r),{targetSnapshot:S,urlAfterRedirects:u,extras:ae(j({},P),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.update(F=>(F.finalUrl=u,F)),Q(i)}else return this.events.next(new yr(r.id,this.urlSerializer.serialize(r.extractedUrl),"",Dl.IgnoredByUrlHandlingStrategy)),r.resolve(!1),Ti}),Nn(r=>{let s=new Om(r.id,this.urlSerializer.serialize(r.extractedUrl),this.urlSerializer.serialize(r.urlAfterRedirects),r.targetSnapshot);this.events.next(s)}),H(r=>(this.currentTransition=i=ae(j({},r),{guards:T7(r.targetSnapshot,r.currentSnapshot,this.rootContexts)}),i)),V7(this.environmentInjector,r=>this.events.next(r)),Nn(r=>{if(i.guardsResult=r.guardsResult,r.guardsResult&&typeof r.guardsResult!="boolean")throw Fm(this.urlSerializer,r.guardsResult);let s=new wm(r.id,this.urlSerializer.serialize(r.extractedUrl),this.urlSerializer.serialize(r.urlAfterRedirects),r.targetSnapshot,!!r.guardsResult);this.events.next(s)}),oi(r=>r.guardsResult?!0:(this.cancelNavigationTransition(r,"",Mi.GuardRejected),!1)),H1(r=>{if(r.guards.canActivateChecks.length!==0)return Q(r).pipe(Nn(s=>{let a=new xm(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),be(s=>{let a=!1;return Q(s).pipe(pU(this.paramsInheritanceStrategy,this.environmentInjector),Nn({next:()=>a=!0,complete:()=>{a||this.cancelNavigationTransition(s,"",Mi.NoDataFromResolver)}}))}),Nn(s=>{let a=new Em(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}))}),H1(r=>{let s=a=>{let c=[];if(a.routeConfig?.loadComponent){let u=Fl(a)??this.environmentInjector;c.push(this.configLoader.loadComponent(u,a.routeConfig).pipe(Nn(C=>{a.component=C}),H(()=>{})))}for(let u of a.children)c.push(...s(u));return c};return Hd(s(r.targetSnapshot.root)).pipe(Ss(null),Et(1))}),H1(()=>this.afterPreactivation()),be(()=>{let{currentSnapshot:r,targetSnapshot:s}=i,a=this.createViewTransition?.(this.environmentInjector,r.root,s.root);return a?X(a).pipe(H(()=>i)):Q(i)}),H(r=>{let s=w7(e.routeReuseStrategy,r.targetSnapshot,r.currentRouterState);return this.currentTransition=i=ae(j({},r),{targetRouterState:s}),this.currentNavigation.update(a=>(a.targetRouterState=s,a)),i}),Nn(()=>{this.events.next(new Zu)}),S7(this.rootContexts,e.routeReuseStrategy,r=>this.events.next(r),this.inputBindingEnabled),Et(1),ne(new ve(r=>{let s=i.abortController.signal,a=()=>r.next();return s.addEventListener("abort",a),()=>s.removeEventListener("abort",a)}).pipe(oi(()=>!o&&!i.targetRouterState),Nn(()=>{this.cancelNavigationTransition(i,i.abortController.signal.reason+"",Mi.Aborted)}))),Nn({next:r=>{o=!0,this.lastSuccessfulNavigation=zn(this.currentNavigation),this.events.next(new Ji(r.id,this.urlSerializer.serialize(r.extractedUrl),this.urlSerializer.serialize(r.urlAfterRedirects))),this.titleStrategy?.updateTitle(r.targetRouterState.snapshot),r.resolve(!0)},complete:()=>{o=!0}}),ne(this.transitionAbortWithErrorSubject.pipe(Nn(r=>{throw r}))),Ts(()=>{o||this.cancelNavigationTransition(i,"",Mi.SupersededByNewNavigation),this.currentTransition?.id===i.id&&(this.currentNavigation.set(null),this.currentTransition=null)}),ut(r=>{if(this.destroyed)return i.resolve(!1),Ti;if(o=!0,XD(r))this.events.next(new vr(i.id,this.urlSerializer.serialize(i.extractedUrl),r.message,r.cancellationCode)),I7(r)?this.events.next(new Rl(r.url,r.navigationBehaviorOptions)):i.resolve(!1);else{let s=new kl(i.id,this.urlSerializer.serialize(i.extractedUrl),r,i.targetSnapshot??void 0);try{let a=Y(this.environmentInjector,()=>this.navigationErrorHandler?.(s));if(a instanceof Nl){let{message:c,cancellationCode:u}=Fm(this.urlSerializer,a);this.events.next(new vr(i.id,this.urlSerializer.serialize(i.extractedUrl),c,u)),this.events.next(new Rl(a.redirectTo,a.navigationBehaviorOptions))}else throw this.events.next(s),r}catch(a){this.options.resolveNavigationPromiseOnError?i.resolve(!1):i.reject(a)}}return Ti}))}))}cancelNavigationTransition(e,i,o){let r=new vr(e.id,this.urlSerializer.serialize(e.extractedUrl),i,o);this.events.next(r),e.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let e=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),i=zn(this.currentNavigation),o=i?.targetBrowserUrl??i?.extractedUrl;return e.toString()!==o?.toString()&&!i?.extras.skipLocationChange}static \u0275fac=function(i){return new(i||n)};static \u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function vU(n){return n!==Sl}var dk=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275prov=K({token:n,factory:()=>U(bU),providedIn:"root"})}return n})(),Bm=class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}},bU=(()=>{class n extends Bm{static \u0275fac=(()=>{let e;return function(o){return(e||(e=Gn(n)))(o||n)}})();static \u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),uk=(()=>{class n{urlSerializer=U(tc);options=U(Gs,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=U(_r);urlHandlingStrategy=U(Um);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new br;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:e,initialUrl:i,targetBrowserUrl:o}){let r=e!==void 0?this.urlHandlingStrategy.merge(e,i):i,s=o??r;return s instanceof br?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:e,finalUrl:i,initialUrl:o}){i&&e?(this.currentUrlTree=i,this.rawUrlTree=this.urlHandlingStrategy.merge(i,o),this.routerState=e):this.rawUrlTree=o}routerState=GD(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:e}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e??this.rawUrlTree)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=K({token:n,factory:()=>U(yU),providedIn:"root"})}return n})(),yU=(()=>{class n extends uk{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(e){return this.location.subscribe(i=>{i.type==="popstate"&&setTimeout(()=>{e(i.url,i.state,"popstate")})})}handleRouterEvent(e,i){e instanceof Ws?this.updateStateMemento():e instanceof yr?this.commitTransition(i):e instanceof Yu?this.urlUpdateStrategy==="eager"&&(i.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(i),i)):e instanceof Zu?(this.commitTransition(i),this.urlUpdateStrategy==="deferred"&&!i.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(i),i)):e instanceof vr&&e.code!==Mi.SupersededByNewNavigation&&e.code!==Mi.Redirect?this.restoreHistory(i):e instanceof kl?this.restoreHistory(i,!0):e instanceof Ji&&(this.lastSuccessfulId=e.id,this.currentPageId=this.browserPageId)}setBrowserUrl(e,{extras:i,id:o}){let{replaceUrl:r,state:s}=i;if(this.location.isCurrentPathEqualTo(e)||r){let a=this.browserPageId,c=j(j({},s),this.generateNgRouterState(o,a));this.location.replaceState(e,"",c)}else{let a=j(j({},s),this.generateNgRouterState(o,this.browserPageId+1));this.location.go(e,"",a)}}restoreHistory(e,i=!1){if(this.canceledNavigationResolution==="computed"){let o=this.browserPageId,r=this.currentPageId-o;r!==0?this.location.historyGo(r):this.getCurrentUrlTree()===e.finalUrl&&r===0&&(this.resetInternalState(e),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetInternalState(e),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,i){return this.canceledNavigationResolution==="computed"?{navigationId:e,\u0275routerPageId:i}:{navigationId:e}}static \u0275fac=(()=>{let e;return function(o){return(e||(e=Gn(n)))(o||n)}})();static \u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function qm(n,t){n.events.pipe(oi(e=>e instanceof Ji||e instanceof vr||e instanceof kl||e instanceof yr),H(e=>e instanceof Ji||e instanceof yr?0:(e instanceof vr?e.code===Mi.Redirect||e.code===Mi.SupersededByNewNavigation:!1)?2:1),oi(e=>e!==2),Et(1)).subscribe(()=>{t()})}var MU={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},PU={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},He=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=U($h);stateManager=U(uk);options=U(Gs,{optional:!0})||{};pendingTasks=U(fr);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=U($m);urlSerializer=U(tc);location=U(_r);urlHandlingStrategy=U(Um);injector=U(Qt);_events=new me;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=U(dk);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=U(oc,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!U(op,{optional:!0});currentNavigation=this.navigationTransitions.currentNavigation.asReadonly();constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:e=>{this.console.warn(e)}}),this.subscribeToNavigationEvents()}eventsSubscription=new Jt;subscribeToNavigationEvents(){let e=this.navigationTransitions.events.subscribe(i=>{try{let o=this.navigationTransitions.currentTransition,r=zn(this.navigationTransitions.currentNavigation);if(o!==null&&r!==null){if(this.stateManager.handleRouterEvent(i,r),i instanceof vr&&i.code!==Mi.Redirect&&i.code!==Mi.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof Ji)this.navigated=!0;else if(i instanceof Rl){let s=i.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(i.url,o.currentRawUrl),c=j({browserUrl:o.extras.browserUrl,info:o.extras.info,skipLocationChange:o.extras.skipLocationChange,replaceUrl:o.extras.replaceUrl||this.urlUpdateStrategy==="eager"||vU(o.source)},s);this.scheduleNavigation(a,Sl,null,c,{resolve:o.resolve,reject:o.reject,promise:o.promise})}}y7(i)&&this._events.next(i)}catch(o){this.navigationTransitions.transitionAbortWithErrorSubject.next(o)}});this.eventsSubscription.add(e)}resetRootComponentType(e){this.routerState.root.component=e,this.navigationTransitions.rootComponentType=e}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Sl,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((e,i,o)=>{this.navigateToSyncWithBrowser(e,o,i)})}navigateToSyncWithBrowser(e,i,o){let r={replaceUrl:!0},s=o?.navigationId?o:null;if(o){let c=j({},o);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(r.state=c)}let a=this.parseUrl(e);this.scheduleNavigation(a,i,s,r).catch(c=>{this.disposed||this.injector.get(ki)(c)})}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return zn(this.navigationTransitions.currentNavigation)}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(e){this.config=e.map(lM),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(e,i={}){let{relativeTo:o,queryParams:r,fragment:s,queryParamsHandling:a,preserveFragment:c}=i,u=c?this.currentUrlTree.fragment:s,C=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":C=j(j({},this.currentUrlTree.queryParams),r);break;case"preserve":C=this.currentUrlTree.queryParams;break;default:C=r||null}C!==null&&(C=this.removeEmptyProps(C));let v;try{let P=o?o.snapshot:this.routerState.snapshot.root;v=$D(P)}catch{(typeof e[0]!="string"||e[0][0]!=="/")&&(e=[]),v=this.currentUrlTree.root}return qD(v,e,C,u??null)}navigateByUrl(e,i={skipLocationChange:!1}){let o=Hs(e)?e:this.parseUrl(e),r=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(r,Sl,null,i)}navigate(e,i={skipLocationChange:!1}){return OU(e),this.navigateByUrl(this.createUrlTree(e,i),i)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){try{return this.urlSerializer.parse(e)}catch{return this.console.warn(cr(4018,!1)),this.urlSerializer.parse("/")}}isActive(e,i){let o;if(i===!0?o=j({},MU):i===!1?o=j({},PU):o=i,Hs(e))return OD(this.currentUrlTree,e,o);let r=this.parseUrl(e);return OD(this.currentUrlTree,r,o)}removeEmptyProps(e){return Object.entries(e).reduce((i,[o,r])=>(r!=null&&(i[o]=r),i),{})}scheduleNavigation(e,i,o,r,s){if(this.disposed)return Promise.resolve(!1);let a,c,u;s?(a=s.resolve,c=s.reject,u=s.promise):u=new Promise((v,P)=>{a=v,c=P});let C=this.pendingTasks.add();return qm(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(C))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:e,extras:r,resolve:a,reject:c,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(v=>Promise.reject(v))}static \u0275fac=function(i){return new(i||n)};static \u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function OU(n){for(let t=0;t<n.length;t++)if(n[t]==null)throw new G(4008,!1)}var Ue=(()=>{class n{router;route;tabIndexAttribute;renderer;el;locationStrategy;reactiveHref=Ai(null);get href(){return zn(this.reactiveHref)}set href(e){this.reactiveHref.set(e)}target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new me;applicationErrorHandler=U(ki);options=U(Gs,{optional:!0});constructor(e,i,o,r,s,a){this.router=e,this.route=i,this.tabIndexAttribute=o,this.renderer=r,this.el=s,this.locationStrategy=a,this.reactiveHref.set(U(new Gh("href"),{optional:!0}));let c=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=c==="a"||c==="area"||!!(typeof customElements=="object"&&customElements.get(c)?.observedAttributes?.includes?.("href")),this.isAnchorElement?this.setTabIndexIfNotOnNativeEl("0"):this.subscribeToNavigationEventsIfNecessary()}subscribeToNavigationEventsIfNecessary(){if(this.subscription!==void 0||!this.isAnchorElement)return;let e=this.preserveFragment,i=o=>o==="merge"||o==="preserve";e||=i(this.queryParamsHandling),e||=!this.queryParamsHandling&&!i(this.options?.defaultQueryParamsHandling),e&&(this.subscription=this.router.events.subscribe(o=>{o instanceof Ji&&this.updateHref()}))}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(e){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",e)}ngOnChanges(e){this.isAnchorElement&&(this.updateHref(),this.subscribeToNavigationEventsIfNecessary()),this.onChanges.next(this)}routerLinkInput=null;set routerLink(e){e==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(Hs(e)?this.routerLinkInput=e:this.routerLinkInput=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0"))}onClick(e,i,o,r,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(e!==0||i||o||r||s||typeof this.target=="string"&&this.target!="_self"))return!0;let c={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,c)?.catch(u=>{this.applicationErrorHandler(u)}),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let e=this.urlTree;this.reactiveHref.set(e!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(e))??"":null)}applyAttributeValue(e,i){let o=this.renderer,r=this.el.nativeElement;i!==null?o.setAttribute(r,e,i):o.removeAttribute(r,e)}get urlTree(){return this.routerLinkInput===null?null:Hs(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(i){return new(i||n)(A(He),A(tn),hu("tabindex"),A(Qi),A(Fn),A(mo))};static \u0275dir=gt({type:n,selectors:[["","routerLink",""]],hostVars:2,hostBindings:function(i,o){i&1&&R("click",function(s){return o.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),i&2&&pt("href",o.reactiveHref(),Sy)("target",o.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",Ka],skipLocationChange:[2,"skipLocationChange","skipLocationChange",Ka],replaceUrl:[2,"replaceUrl","replaceUrl",Ka],routerLink:"routerLink"},features:[_n]})}return n})(),ap=(()=>{class n{router;element;renderer;cdr;link;links;classes=[];routerEventsSubscription;linkInputChangesSubscription;_isActive=!1;get isActive(){return this._isActive}routerLinkActiveOptions={exact:!1};ariaCurrentWhenActive;isActiveChange=new et;constructor(e,i,o,r,s){this.router=e,this.element=i,this.renderer=o,this.cdr=r,this.link=s,this.routerEventsSubscription=e.events.subscribe(a=>{a instanceof Ji&&this.update()})}ngAfterContentInit(){Q(this.links.changes,Q(null)).pipe(ar()).subscribe(e=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let e=[...this.links.toArray(),this.link].filter(i=>!!i).map(i=>i.onChanges);this.linkInputChangesSubscription=X(e).pipe(ar()).subscribe(i=>{this._isActive!==this.isLinkActive(this.router)(i)&&this.update()})}set routerLinkActive(e){let i=Array.isArray(e)?e:e.split(" ");this.classes=i.filter(o=>!!o)}ngOnChanges(e){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let e=this.hasActiveLinks();this.classes.forEach(i=>{e?this.renderer.addClass(this.element.nativeElement,i):this.renderer.removeClass(this.element.nativeElement,i)}),e&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==e&&(this._isActive=e,this.cdr.markForCheck(),this.isActiveChange.emit(e))})}isLinkActive(e){let i=wU(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return o=>{let r=o.urlTree;return r?e.isActive(r,i):!1}}hasActiveLinks(){let e=this.isLinkActive(this.router);return this.link&&e(this.link)||this.links.some(e)}static \u0275fac=function(i){return new(i||n)(A(He),A(Fn),A(Qi),A(jo),A(Ue,8))};static \u0275dir=gt({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(i,o,r){if(i&1&&t1(r,Ue,5),i&2){let s;n1(s=i1())&&(o.links=s)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[_n]})}return n})();function wU(n){return!!n.paths}var sp=class{};var pk=(()=>{class n{router;injector;preloadingStrategy;loader;subscription;constructor(e,i,o,r){this.router=e,this.injector=i,this.preloadingStrategy=o,this.loader=r}setUpPreloading(){this.subscription=this.router.events.pipe(oi(e=>e instanceof Ji),oo(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,i){let o=[];for(let r of i){r.providers&&!r._injector&&(r._injector=ml(r.providers,e,`Route: ${r.path}`));let s=r._injector??e,a=r._loadedInjector??s;(r.loadChildren&&!r._loadedRoutes&&r.canLoad===void 0||r.loadComponent&&!r._loadedComponent)&&o.push(this.preloadConfig(s,r)),(r.children||r._loadedRoutes)&&o.push(this.processRoutes(a,r.children??r._loadedRoutes))}return X(o).pipe(ar())}preloadConfig(e,i){return this.preloadingStrategy.preload(i,()=>{let o;i.loadChildren&&i.canLoad===void 0?o=this.loader.loadChildren(e,i):o=Q(null);let r=o.pipe(dn(s=>s===null?Q(void 0):(i._loadedRoutes=s.routes,i._loadedInjector=s.injector,this.processRoutes(s.injector??e,s.routes))));if(i.loadComponent&&!i._loadedComponent){let s=this.loader.loadComponent(e,i);return X([r,s]).pipe(ar())}else return r})}static \u0275fac=function(i){return new(i||n)(Z(He),Z(Qt),Z(sp),Z(Vm))};static \u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),fk=new oe(""),xU=(()=>{class n{urlSerializer;transitions;viewportScroller;zone;options;routerEventsSubscription;scrollEventsSubscription;lastId=0;lastSource=Sl;restoredId=0;store={};constructor(e,i,o,r,s={}){this.urlSerializer=e,this.transitions=i,this.viewportScroller=o,this.zone=r,this.options=s,s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof Ws?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof Ji?(this.lastId=e.id,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.urlAfterRedirects).fragment)):e instanceof yr&&e.code===Dl.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(e=>{if(!(e instanceof Al))return;let i={behavior:"instant"};e.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0],i):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(e.position,i):e.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(e.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0])})}scheduleScrollEvent(e,i){this.zone.runOutsideAngular(()=>L(this,null,function*(){yield new Promise(o=>{setTimeout(o),typeof requestAnimationFrame<"u"&&requestAnimationFrame(o)}),this.zone.run(()=>{this.transitions.events.next(new Al(e,this.lastSource==="popstate"?this.store[this.restoredId]:null,i))})}))}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static \u0275fac=function(i){Gy()};static \u0275prov=K({token:n,factory:n.\u0275fac})}return n})();function hM(n,...t){return Wn([{provide:oc,multi:!0,useValue:n},[],{provide:tn,useFactory:gk,deps:[He]},{provide:Mu,multi:!0,useFactory:hk},t.map(e=>e.\u0275providers)])}function gk(n){return n.routerState.root}function Bl(n,t){return{\u0275kind:n,\u0275providers:t}}function hk(){let n=U(ze);return t=>{let e=n.get(mr);if(t!==e.components[0])return;let i=n.get(He),o=n.get(mk);n.get(mM)===1&&i.initialNavigation(),n.get(vk,null,{optional:!0})?.setUpPreloading(),n.get(fk,null,{optional:!0})?.init(),i.resetRootComponentType(e.componentTypes[0]),o.closed||(o.next(),o.complete(),o.unsubscribe())}}var mk=new oe("",{factory:()=>new me}),mM=new oe("",{providedIn:"root",factory:()=>1});function _k(){let n=[{provide:Dh,useValue:!0},{provide:mM,useValue:0},qh(()=>{let t=U(ze);return t.get(b1,Promise.resolve()).then(()=>new Promise(i=>{let o=t.get(He),r=t.get(mk);qm(o,()=>{i(!0)}),t.get($m).afterPreactivation=()=>(i(!0),r.closed?Q(void 0):r),o.initialNavigation()}))})];return Bl(2,n)}function Ck(){let n=[qh(()=>{U(He).setUpLocationChangeListener()}),{provide:mM,useValue:2}];return Bl(3,n)}var vk=new oe("");function bk(n){return Bl(0,[{provide:vk,useExisting:pk},{provide:sp,useExisting:n}])}function _M(){return Bl(6,[{provide:mo,useClass:sm}])}function yk(){return Bl(8,[aM,{provide:op,useExisting:aM}])}function Mk(n){Gi("NgRouterViewTransitions");let t=[{provide:uM,useValue:lk},{provide:pM,useValue:j({skipNextTransition:!!n?.skipInitialTransition},n)}];return Bl(9,t)}var Pk=[_r,{provide:tc,useClass:qs},He,nc,{provide:tn,useFactory:gk,deps:[He]},Vm,[]],Ne=(()=>{class n{constructor(){}static forRoot(e,i){return{ngModule:n,providers:[Pk,[],{provide:oc,multi:!0,useValue:e},[],i?.errorHandler?{provide:fM,useValue:i.errorHandler}:[],{provide:Gs,useValue:i||{}},i?.useHash?IU():SU(),EU(),i?.preloadingStrategy?bk(i.preloadingStrategy).\u0275providers:[],i?.initialNavigation?TU(i):[],i?.bindToComponentInputs?yk().\u0275providers:[],i?.enableViewTransitions?Mk().\u0275providers:[],DU()]}}static forChild(e){return{ngModule:n,providers:[{provide:oc,multi:!0,useValue:e}]}}static \u0275fac=function(i){return new(i||n)};static \u0275mod=ri({type:n});static \u0275inj=Hn({})}return n})();function EU(){return{provide:fk,useFactory:()=>{let n=U(XT),t=U(rt),e=U(Gs),i=U($m),o=U(tc);return e.scrollOffset&&n.setOffset(e.scrollOffset),new xU(o,i,n,t,e)}}}function IU(){return{provide:mo,useClass:sm}}function SU(){return{provide:mo,useClass:Zh}}function TU(n){return[n.initialNavigation==="disabled"?Ck().\u0275providers:[],n.initialNavigation==="enabledBlocking"?_k().\u0275providers:[]]}var gM=new oe("");function DU(){return[{provide:gM,useFactory:hk},{provide:Mu,multi:!0,useExisting:gM}]}var Xe=(function(n){return n[n.State=0]="State",n[n.Transition=1]="Transition",n[n.Sequence=2]="Sequence",n[n.Group=3]="Group",n[n.Animate=4]="Animate",n[n.Keyframes=5]="Keyframes",n[n.Style=6]="Style",n[n.Trigger=7]="Trigger",n[n.Reference=8]="Reference",n[n.AnimateChild=9]="AnimateChild",n[n.AnimateRef=10]="AnimateRef",n[n.Query=11]="Query",n[n.Stagger=12]="Stagger",n})(Xe||{}),qo="*";function Ok(n,t=null){return{type:Xe.Sequence,steps:n,options:t}}function CM(n){return{type:Xe.Style,styles:n,offset:null}}var ls=class{_onDoneFns=[];_onStartFns=[];_onDestroyFns=[];_originalOnDoneFns=[];_originalOnStartFns=[];_started=!1;_destroyed=!1;_finished=!1;_position=0;parentPlayer=null;totalTime;constructor(t=0,e=0){this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){let e=t=="start"?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}},jl=class{_onDoneFns=[];_onStartFns=[];_finished=!1;_started=!1;_destroyed=!1;_onDestroyFns=[];parentPlayer=null;totalTime=0;players;constructor(t){this.players=t;let e=0,i=0,o=0,r=this.players.length;r==0?queueMicrotask(()=>this._onFinish()):this.players.forEach(s=>{s.onDone(()=>{++e==r&&this._onFinish()}),s.onDestroy(()=>{++i==r&&this._onDestroy()}),s.onStart(()=>{++o==r&&this._onStart()})}),this.totalTime=this.players.reduce((s,a)=>Math.max(s,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){let e=t*this.totalTime;this.players.forEach(i=>{let o=i.totalTime?Math.min(1,e/i.totalTime):1;i.setPosition(o)})}getPosition(){let t=this.players.reduce((e,i)=>e===null||i.totalTime>e.totalTime?i:e,null);return t!=null?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){let e=t=="start"?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}},cp="!";function wk(n){return new G(3e3,!1)}function kU(){return new G(3100,!1)}function AU(){return new G(3101,!1)}function RU(n){return new G(3001,!1)}function NU(n){return new G(3003,!1)}function LU(n){return new G(3004,!1)}function Ek(n,t){return new G(3005,!1)}function Ik(){return new G(3006,!1)}function Sk(){return new G(3007,!1)}function Tk(n,t){return new G(3008,!1)}function Dk(n){return new G(3002,!1)}function kk(n,t,e,i,o){return new G(3010,!1)}function Ak(){return new G(3011,!1)}function Rk(){return new G(3012,!1)}function Nk(){return new G(3200,!1)}function Lk(){return new G(3202,!1)}function Fk(){return new G(3013,!1)}function zk(n){return new G(3014,!1)}function Bk(n){return new G(3015,!1)}function jk(n){return new G(3016,!1)}function Vk(n,t){return new G(3404,!1)}function FU(n){return new G(3502,!1)}function Uk(n){return new G(3503,!1)}function $k(){return new G(3300,!1)}function qk(n){return new G(3504,!1)}function Hk(n){return new G(3301,!1)}function Wk(n,t){return new G(3302,!1)}function Gk(n){return new G(3303,!1)}function Qk(n,t){return new G(3400,!1)}function Kk(n){return new G(3401,!1)}function Yk(n){return new G(3402,!1)}function Zk(n,t){return new G(3505,!1)}function ds(n){switch(n.length){case 0:return new ls;case 1:return n[0];default:return new jl(n)}}function MM(n,t,e=new Map,i=new Map){let o=[],r=[],s=-1,a=null;if(t.forEach(c=>{let u=c.get("offset"),C=u==s,v=C&&a||new Map;c.forEach((P,w)=>{let S=w,F=P;if(w!=="offset")switch(S=n.normalizePropertyName(S,o),F){case cp:F=e.get(w);break;case qo:F=i.get(w);break;default:F=n.normalizeStyleValue(w,S,F,o);break}v.set(S,F)}),C||r.push(v),a=v,s=u}),o.length)throw FU(o);return r}function Hm(n,t,e,i){switch(t){case"start":n.onStart(()=>i(e&&vM(e,"start",n)));break;case"done":n.onDone(()=>i(e&&vM(e,"done",n)));break;case"destroy":n.onDestroy(()=>i(e&&vM(e,"destroy",n)));break}}function vM(n,t,e){let i=e.totalTime,o=!!e.disabled,r=Wm(n.element,n.triggerName,n.fromState,n.toState,t||n.phaseName,i??n.totalTime,o),s=n._data;return s!=null&&(r._data=s),r}function Wm(n,t,e,i,o="",r=0,s){return{element:n,triggerName:t,fromState:e,toState:i,phaseName:o,totalTime:r,disabled:!!s}}function Li(n,t,e){let i=n.get(t);return i||n.set(t,i=e),i}function PM(n){let t=n.indexOf(":"),e=n.substring(1,t),i=n.slice(t+1);return[e,i]}var zU=typeof document>"u"?null:document.documentElement;function Gm(n){let t=n.parentNode||n.host||null;return t===zU?null:t}function BU(n){return n.substring(1,6)=="ebkit"}var rc=null,xk=!1;function Jk(n){rc||(rc=jU()||{},xk=rc.style?"WebkitAppearance"in rc.style:!1);let t=!0;return rc.style&&!BU(n)&&(t=n in rc.style,!t&&xk&&(t="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in rc.style)),t}function jU(){return typeof document<"u"?document.body:null}function OM(n,t){for(;t;){if(t===n)return!0;t=Gm(t)}return!1}function wM(n,t,e){if(e)return Array.from(n.querySelectorAll(t));let i=n.querySelector(t);return i?[i]:[]}var VU=1e3,xM="{{",UU="}}",EM="ng-enter",Qm="ng-leave",lp="ng-trigger",dp=".ng-trigger",IM="ng-animating",Km=".ng-animating";function Mr(n){if(typeof n=="number")return n;let t=n.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:bM(parseFloat(t[1]),t[2])}function bM(n,t){switch(t){case"s":return n*VU;default:return n}}function up(n,t,e){return n.hasOwnProperty("duration")?n:qU(n,t,e)}var $U=/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i;function qU(n,t,e){let i,o=0,r="";if(typeof n=="string"){let s=n.match($U);if(s===null)return t.push(wk(n)),{duration:0,delay:0,easing:""};i=bM(parseFloat(s[1]),s[2]);let a=s[3];a!=null&&(o=bM(parseFloat(a),s[4]));let c=s[5];c&&(r=c)}else i=n;if(!e){let s=!1,a=t.length;i<0&&(t.push(kU()),s=!0),o<0&&(t.push(AU()),s=!0),s&&t.splice(a,0,wk(n))}return{duration:i,delay:o,easing:r}}function Xk(n){return n.length?n[0]instanceof Map?n:n.map(t=>new Map(Object.entries(t))):[]}function Ho(n,t,e){t.forEach((i,o)=>{let r=Ym(o);e&&!e.has(o)&&e.set(o,n.style[r]),n.style[r]=i})}function Qs(n,t){t.forEach((e,i)=>{let o=Ym(i);n.style[o]=""})}function Vl(n){return Array.isArray(n)?n.length==1?n[0]:Ok(n):n}function eA(n,t,e){let i=t.params||{},o=SM(n);o.length&&o.forEach(r=>{i.hasOwnProperty(r)||e.push(RU(r))})}var yM=new RegExp(`${xM}\\s*(.+?)\\s*${UU}`,"g");function SM(n){let t=[];if(typeof n=="string"){let e;for(;e=yM.exec(n);)t.push(e[1]);yM.lastIndex=0}return t}function Ul(n,t,e){let i=`${n}`,o=i.replace(yM,(r,s)=>{let a=t[s];return a==null&&(e.push(NU(s)),a=""),a.toString()});return o==i?n:o}var HU=/-+([a-z0-9])/g;function Ym(n){return n.replace(HU,(...t)=>t[1].toUpperCase())}function tA(n,t){return n===0||t===0}function nA(n,t,e){if(e.size&&t.length){let i=t[0],o=[];if(e.forEach((r,s)=>{i.has(s)||o.push(s),i.set(s,r)}),o.length)for(let r=1;r<t.length;r++){let s=t[r];o.forEach(a=>s.set(a,Zm(n,a)))}}return t}function Fi(n,t,e){switch(t.type){case Xe.Trigger:return n.visitTrigger(t,e);case Xe.State:return n.visitState(t,e);case Xe.Transition:return n.visitTransition(t,e);case Xe.Sequence:return n.visitSequence(t,e);case Xe.Group:return n.visitGroup(t,e);case Xe.Animate:return n.visitAnimate(t,e);case Xe.Keyframes:return n.visitKeyframes(t,e);case Xe.Style:return n.visitStyle(t,e);case Xe.Reference:return n.visitReference(t,e);case Xe.AnimateChild:return n.visitAnimateChild(t,e);case Xe.AnimateRef:return n.visitAnimateRef(t,e);case Xe.Query:return n.visitQuery(t,e);case Xe.Stagger:return n.visitStagger(t,e);default:throw LU(t.type)}}function Zm(n,t){return window.getComputedStyle(n)[t]}var WM=(()=>{class n{validateStyleProperty(e){return Jk(e)}containsElement(e,i){return OM(e,i)}getParentElement(e){return Gm(e)}query(e,i,o){return wM(e,i,o)}computeStyle(e,i,o){return o||""}animate(e,i,o,r,s,a=[],c){return new ls(o,r)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=K({token:n,factory:n.\u0275fac})}return n})(),ac=class{static NOOP=new WM},cc=class{};var WU=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]),n0=class extends cc{normalizePropertyName(t,e){return Ym(t)}normalizeStyleValue(t,e,i,o){let r="",s=i.toString().trim();if(WU.has(e)&&i!==0&&i!=="0")if(typeof i=="number")r="px";else{let a=i.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&a[1].length==0&&o.push(Ek(t,i))}return s+r}};var i0="*";function GU(n,t){let e=[];return typeof n=="string"?n.split(/\s*,\s*/).forEach(i=>QU(i,e,t)):e.push(n),e}function QU(n,t,e){if(n[0]==":"){let c=KU(n,e);if(typeof c=="function"){t.push(c);return}n=c}let i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(i==null||i.length<4)return e.push(Bk(n)),t;let o=i[1],r=i[2],s=i[3];t.push(iA(o,s));let a=o==i0&&s==i0;r[0]=="<"&&!a&&t.push(iA(s,o))}function KU(n,t){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,i)=>parseFloat(i)>parseFloat(e);case":decrement":return(e,i)=>parseFloat(i)<parseFloat(e);default:return t.push(jk(n)),"* => *"}}var Jm=new Set(["true","1"]),Xm=new Set(["false","0"]);function iA(n,t){let e=Jm.has(n)||Xm.has(n),i=Jm.has(t)||Xm.has(t);return(o,r)=>{let s=n==i0||n==o,a=t==i0||t==r;return!s&&e&&typeof o=="boolean"&&(s=o?Jm.has(n):Xm.has(n)),!a&&i&&typeof r=="boolean"&&(a=r?Jm.has(t):Xm.has(t)),s&&a}}var fA=":self",YU=new RegExp(`s*${fA}s*,?`,"g");function gA(n,t,e,i){return new NM(n).build(t,e,i)}var oA="",NM=class{_driver;constructor(t){this._driver=t}build(t,e,i){let o=new LM(e);return this._resetContextStyleTimingState(o),Fi(this,Vl(t),o)}_resetContextStyleTimingState(t){t.currentQuerySelector=oA,t.collectedStyles=new Map,t.collectedStyles.set(oA,new Map),t.currentTime=0}visitTrigger(t,e){let i=e.queryCount=0,o=e.depCount=0,r=[],s=[];return t.name.charAt(0)=="@"&&e.errors.push(Ik()),t.definitions.forEach(a=>{if(this._resetContextStyleTimingState(e),a.type==Xe.State){let c=a,u=c.name;u.toString().split(/\s*,\s*/).forEach(C=>{c.name=C,r.push(this.visitState(c,e))}),c.name=u}else if(a.type==Xe.Transition){let c=this.visitTransition(a,e);i+=c.queryCount,o+=c.depCount,s.push(c)}else e.errors.push(Sk())}),{type:Xe.Trigger,name:t.name,states:r,transitions:s,queryCount:i,depCount:o,options:null}}visitState(t,e){let i=this.visitStyle(t.styles,e),o=t.options&&t.options.params||null;if(i.containsDynamicStyles){let r=new Set,s=o||{};i.styles.forEach(a=>{a instanceof Map&&a.forEach(c=>{SM(c).forEach(u=>{s.hasOwnProperty(u)||r.add(u)})})}),r.size&&e.errors.push(Tk(t.name,[...r.values()]))}return{type:Xe.State,name:t.name,style:i,options:o?{params:o}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;let i=Fi(this,Vl(t.animation),e),o=GU(t.expr,e.errors);return{type:Xe.Transition,matchers:o,animation:i,queryCount:e.queryCount,depCount:e.depCount,options:sc(t.options)}}visitSequence(t,e){return{type:Xe.Sequence,steps:t.steps.map(i=>Fi(this,i,e)),options:sc(t.options)}}visitGroup(t,e){let i=e.currentTime,o=0,r=t.steps.map(s=>{e.currentTime=i;let a=Fi(this,s,e);return o=Math.max(o,e.currentTime),a});return e.currentTime=o,{type:Xe.Group,steps:r,options:sc(t.options)}}visitAnimate(t,e){let i=e$(t.timings,e.errors);e.currentAnimateTimings=i;let o,r=t.styles?t.styles:CM({});if(r.type==Xe.Keyframes)o=this.visitKeyframes(r,e);else{let s=t.styles,a=!1;if(!s){a=!0;let u={};i.easing&&(u.easing=i.easing),s=CM(u)}e.currentTime+=i.duration+i.delay;let c=this.visitStyle(s,e);c.isEmptyStep=a,o=c}return e.currentAnimateTimings=null,{type:Xe.Animate,timings:i,style:o,options:null}}visitStyle(t,e){let i=this._makeStyleAst(t,e);return this._validateStyleAst(i,e),i}_makeStyleAst(t,e){let i=[],o=Array.isArray(t.styles)?t.styles:[t.styles];for(let a of o)typeof a=="string"?a===qo?i.push(a):e.errors.push(Dk(a)):i.push(new Map(Object.entries(a)));let r=!1,s=null;return i.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(s=a.get("easing"),a.delete("easing")),!r)){for(let c of a.values())if(c.toString().indexOf(xM)>=0){r=!0;break}}}),{type:Xe.Style,styles:i,easing:s,offset:t.offset,containsDynamicStyles:r,options:null}}_validateStyleAst(t,e){let i=e.currentAnimateTimings,o=e.currentTime,r=e.currentTime;i&&r>0&&(r-=i.duration+i.delay),t.styles.forEach(s=>{typeof s!="string"&&s.forEach((a,c)=>{let u=e.collectedStyles.get(e.currentQuerySelector),C=u.get(c),v=!0;C&&(r!=o&&r>=C.startTime&&o<=C.endTime&&(e.errors.push(kk(c,C.startTime,C.endTime,r,o)),v=!1),r=C.startTime),v&&u.set(c,{startTime:r,endTime:o}),e.options&&eA(a,e.options,e.errors)})})}visitKeyframes(t,e){let i={type:Xe.Keyframes,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(Ak()),i;let o=1,r=0,s=[],a=!1,c=!1,u=0,C=t.steps.map(W=>{let Ce=this._makeStyleAst(W,e),we=Ce.offset!=null?Ce.offset:XU(Ce.styles),Me=0;return we!=null&&(r++,Me=Ce.offset=we),c=c||Me<0||Me>1,a=a||Me<u,u=Me,s.push(Me),Ce});c&&e.errors.push(Rk()),a&&e.errors.push(Nk());let v=t.steps.length,P=0;r>0&&r<v?e.errors.push(Lk()):r==0&&(P=o/(v-1));let w=v-1,S=e.currentTime,F=e.currentAnimateTimings,N=F.duration;return C.forEach((W,Ce)=>{let we=P>0?Ce==w?1:P*Ce:s[Ce],Me=we*N;e.currentTime=S+F.delay+Me,F.duration=Me,this._validateStyleAst(W,e),W.offset=we,i.styles.push(W)}),i}visitReference(t,e){return{type:Xe.Reference,animation:Fi(this,Vl(t.animation),e),options:sc(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:Xe.AnimateChild,options:sc(t.options)}}visitAnimateRef(t,e){return{type:Xe.AnimateRef,animation:this.visitReference(t.animation,e),options:sc(t.options)}}visitQuery(t,e){let i=e.currentQuerySelector,o=t.options||{};e.queryCount++,e.currentQuery=t;let[r,s]=ZU(t.selector);e.currentQuerySelector=i.length?i+" "+r:r,Li(e.collectedStyles,e.currentQuerySelector,new Map);let a=Fi(this,Vl(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=i,{type:Xe.Query,selector:r,limit:o.limit||0,optional:!!o.optional,includeSelf:s,animation:a,originalSelector:t.selector,options:sc(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push(Fk());let i=t.timings==="full"?{duration:0,delay:0,easing:"full"}:up(t.timings,e.errors,!0);return{type:Xe.Stagger,animation:Fi(this,Vl(t.animation),e),timings:i,options:null}}};function ZU(n){let t=!!n.split(/\s*,\s*/).find(e=>e==fA);return t&&(n=n.replace(YU,"")),n=n.replace(/@\*/g,dp).replace(/@\w+/g,e=>dp+"-"+e.slice(1)).replace(/:animating/g,Km),[n,t]}function JU(n){return n?j({},n):null}var LM=class{errors;queryCount=0;depCount=0;currentTransition=null;currentQuery=null;currentQuerySelector=null;currentAnimateTimings=null;currentTime=0;collectedStyles=new Map;options=null;unsupportedCSSPropertiesFound=new Set;constructor(t){this.errors=t}};function XU(n){if(typeof n=="string")return null;let t=null;if(Array.isArray(n))n.forEach(e=>{if(e instanceof Map&&e.has("offset")){let i=e;t=parseFloat(i.get("offset")),i.delete("offset")}});else if(n instanceof Map&&n.has("offset")){let e=n;t=parseFloat(e.get("offset")),e.delete("offset")}return t}function e$(n,t){if(n.hasOwnProperty("duration"))return n;if(typeof n=="number"){let r=up(n,t).duration;return TM(r,0,"")}let e=n;if(e.split(/\s+/).some(r=>r.charAt(0)=="{"&&r.charAt(1)=="{")){let r=TM(0,0,"");return r.dynamic=!0,r.strValue=e,r}let o=up(e,t);return TM(o.duration,o.delay,o.easing)}function sc(n){return n?(n=j({},n),n.params&&(n.params=JU(n.params))):n={},n}function TM(n,t,e){return{duration:n,delay:t,easing:e}}function GM(n,t,e,i,o,r,s=null,a=!1){return{type:1,element:n,keyframes:t,preStyleProps:e,postStyleProps:i,duration:o,delay:r,totalTime:o+r,easing:s,subTimeline:a}}var fp=class{_map=new Map;get(t){return this._map.get(t)||[]}append(t,e){let i=this._map.get(t);i||this._map.set(t,i=[]),i.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}},t$=1,n$=":enter",i$=new RegExp(n$,"g"),o$=":leave",r$=new RegExp(o$,"g");function hA(n,t,e,i,o,r=new Map,s=new Map,a,c,u=[]){return new FM().buildKeyframes(n,t,e,i,o,r,s,a,c,u)}var FM=class{buildKeyframes(t,e,i,o,r,s,a,c,u,C=[]){u=u||new fp;let v=new zM(t,e,u,o,r,C,[]);v.options=c;let P=c.delay?Mr(c.delay):0;v.currentTimeline.delayNextStep(P),v.currentTimeline.setStyles([s],null,v.errors,c),Fi(this,i,v);let w=v.timelines.filter(S=>S.containsAnimation());if(w.length&&a.size){let S;for(let F=w.length-1;F>=0;F--){let N=w[F];if(N.element===e){S=N;break}}S&&!S.allowOnlyTimelineStyles()&&S.setStyles([a],null,v.errors,c)}return w.length?w.map(S=>S.buildKeyframes()):[GM(e,[],[],[],0,P,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){let i=e.subInstructions.get(e.element);if(i){let o=e.createSubContext(t.options),r=e.currentTimeline.currentTime,s=this._visitSubInstructions(i,o,o.options);r!=s&&e.transformIntoNewTimeline(s)}e.previousNode=t}visitAnimateRef(t,e){let i=e.createSubContext(t.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([t.options,t.animation.options],e,i),this.visitReference(t.animation,i),e.transformIntoNewTimeline(i.currentTimeline.currentTime),e.previousNode=t}_applyAnimationRefDelays(t,e,i){for(let o of t){let r=o?.delay;if(r){let s=typeof r=="number"?r:Mr(Ul(r,o?.params??{},e.errors));i.delayNextStep(s)}}}_visitSubInstructions(t,e,i){let r=e.currentTimeline.currentTime,s=i.duration!=null?Mr(i.duration):null,a=i.delay!=null?Mr(i.delay):null;return s!==0&&t.forEach(c=>{let u=e.appendInstructionToTimeline(c,s,a);r=Math.max(r,u.duration+u.delay)}),r}visitReference(t,e){e.updateOptions(t.options,!0),Fi(this,t.animation,e),e.previousNode=t}visitSequence(t,e){let i=e.subContextCount,o=e,r=t.options;if(r&&(r.params||r.delay)&&(o=e.createSubContext(r),o.transformIntoNewTimeline(),r.delay!=null)){o.previousNode.type==Xe.Style&&(o.currentTimeline.snapshotCurrentStyles(),o.previousNode=o0);let s=Mr(r.delay);o.delayNextStep(s)}t.steps.length&&(t.steps.forEach(s=>Fi(this,s,o)),o.currentTimeline.applyStylesToKeyframe(),o.subContextCount>i&&o.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){let i=[],o=e.currentTimeline.currentTime,r=t.options&&t.options.delay?Mr(t.options.delay):0;t.steps.forEach(s=>{let a=e.createSubContext(t.options);r&&a.delayNextStep(r),Fi(this,s,a),o=Math.max(o,a.currentTimeline.currentTime),i.push(a.currentTimeline)}),i.forEach(s=>e.currentTimeline.mergeTimelineCollectedStyles(s)),e.transformIntoNewTimeline(o),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){let i=t.strValue,o=e.params?Ul(i,e.params,e.errors):i;return up(o,e.errors)}else return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){let i=e.currentAnimateTimings=this._visitTiming(t.timings,e),o=e.currentTimeline;i.delay&&(e.incrementTime(i.delay),o.snapshotCurrentStyles());let r=t.style;r.type==Xe.Keyframes?this.visitKeyframes(r,e):(e.incrementTime(i.duration),this.visitStyle(r,e),o.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){let i=e.currentTimeline,o=e.currentAnimateTimings;!o&&i.hasCurrentStyleProperties()&&i.forwardFrame();let r=o&&o.easing||t.easing;t.isEmptyStep?i.applyEmptyStep(r):i.setStyles(t.styles,r,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){let i=e.currentAnimateTimings,o=e.currentTimeline.duration,r=i.duration,a=e.createSubContext().currentTimeline;a.easing=i.easing,t.styles.forEach(c=>{let u=c.offset||0;a.forwardTime(u*r),a.setStyles(c.styles,c.easing,e.errors,e.options),a.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(a),e.transformIntoNewTimeline(o+r),e.previousNode=t}visitQuery(t,e){let i=e.currentTimeline.currentTime,o=t.options||{},r=o.delay?Mr(o.delay):0;r&&(e.previousNode.type===Xe.Style||i==0&&e.currentTimeline.hasCurrentStyleProperties())&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=o0);let s=i,a=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!o.optional,e.errors);e.currentQueryTotal=a.length;let c=null;a.forEach((u,C)=>{e.currentQueryIndex=C;let v=e.createSubContext(t.options,u);r&&v.delayNextStep(r),u===e.element&&(c=v.currentTimeline),Fi(this,t.animation,v),v.currentTimeline.applyStylesToKeyframe();let P=v.currentTimeline.currentTime;s=Math.max(s,P)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(s),c&&(e.currentTimeline.mergeTimelineCollectedStyles(c),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){let i=e.parentContext,o=e.currentTimeline,r=t.timings,s=Math.abs(r.duration),a=s*(e.currentQueryTotal-1),c=s*e.currentQueryIndex;switch(r.duration<0?"reverse":r.easing){case"reverse":c=a-c;break;case"full":c=i.currentStaggerTime;break}let C=e.currentTimeline;c&&C.delayNextStep(c);let v=C.currentTime;Fi(this,t.animation,e),e.previousNode=t,i.currentStaggerTime=o.currentTime-v+(o.startTime-i.currentTimeline.startTime)}},o0={},zM=class n{_driver;element;subInstructions;_enterClassName;_leaveClassName;errors;timelines;parentContext=null;currentTimeline;currentAnimateTimings=null;previousNode=o0;subContextCount=0;options={};currentQueryIndex=0;currentQueryTotal=0;currentStaggerTime=0;constructor(t,e,i,o,r,s,a,c){this._driver=t,this.element=e,this.subInstructions=i,this._enterClassName=o,this._leaveClassName=r,this.errors=s,this.timelines=a,this.currentTimeline=c||new r0(this._driver,e,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;let i=t,o=this.options;i.duration!=null&&(o.duration=Mr(i.duration)),i.delay!=null&&(o.delay=Mr(i.delay));let r=i.params;if(r){let s=o.params;s||(s=this.options.params={}),Object.keys(r).forEach(a=>{(!e||!s.hasOwnProperty(a))&&(s[a]=Ul(r[a],s,this.errors))})}}_copyOptions(){let t={};if(this.options){let e=this.options.params;if(e){let i=t.params={};Object.keys(e).forEach(o=>{i[o]=e[o]})}}return t}createSubContext(t=null,e,i){let o=e||this.element,r=new n(this._driver,o,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(o,i||0));return r.previousNode=this.previousNode,r.currentAnimateTimings=this.currentAnimateTimings,r.options=this._copyOptions(),r.updateOptions(t),r.currentQueryIndex=this.currentQueryIndex,r.currentQueryTotal=this.currentQueryTotal,r.parentContext=this,this.subContextCount++,r}transformIntoNewTimeline(t){return this.previousNode=o0,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,i){let o={duration:e??t.duration,delay:this.currentTimeline.currentTime+(i??0)+t.delay,easing:""},r=new BM(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,o,t.stretchStartingKeyframe);return this.timelines.push(r),o}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,i,o,r,s){let a=[];if(o&&a.push(this.element),t.length>0){t=t.replace(i$,"."+this._enterClassName),t=t.replace(r$,"."+this._leaveClassName);let c=i!=1,u=this._driver.query(this.element,t,c);i!==0&&(u=i<0?u.slice(u.length+i,u.length):u.slice(0,i)),a.push(...u)}return!r&&a.length==0&&s.push(zk(e)),a}},r0=class n{_driver;element;startTime;_elementTimelineStylesLookup;duration=0;easing=null;_previousKeyframe=new Map;_currentKeyframe=new Map;_keyframes=new Map;_styleSummary=new Map;_localTimelineStyles=new Map;_globalTimelineStyles;_pendingStyles=new Map;_backFill=new Map;_currentEmptyStepKeyframe=null;constructor(t,e,i,o){this._driver=t,this.element=e,this.startTime=i,this._elementTimelineStylesLookup=o,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(t){let e=this._keyframes.size===1&&this._pendingStyles.size;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new n(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=t$,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles.set(t,e),this._globalTimelineStyles.set(t,e),this._styleSummary.set(t,{time:this.currentTime,value:e})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&this._previousKeyframe.set("easing",t);for(let[e,i]of this._globalTimelineStyles)this._backFill.set(e,i||qo),this._currentKeyframe.set(e,qo);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,i,o){e&&this._previousKeyframe.set("easing",e);let r=o&&o.params||{},s=s$(t,this._globalTimelineStyles);for(let[a,c]of s){let u=Ul(c,r,i);this._pendingStyles.set(a,u),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??qo),this._updateStyle(a,u)}}applyStylesToKeyframe(){this._pendingStyles.size!=0&&(this._pendingStyles.forEach((t,e)=>{this._currentKeyframe.set(e,t)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((t,e)=>{this._currentKeyframe.has(e)||this._currentKeyframe.set(e,t)}))}snapshotCurrentStyles(){for(let[t,e]of this._localTimelineStyles)this._pendingStyles.set(t,e),this._updateStyle(t,e)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){let t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){t._styleSummary.forEach((e,i)=>{let o=this._styleSummary.get(i);(!o||e.time>o.time)&&this._updateStyle(i,e.value)})}buildKeyframes(){this.applyStylesToKeyframe();let t=new Set,e=new Set,i=this._keyframes.size===1&&this.duration===0,o=[];this._keyframes.forEach((a,c)=>{let u=new Map([...this._backFill,...a]);u.forEach((C,v)=>{C===cp?t.add(v):C===qo&&e.add(v)}),i||u.set("offset",c/this.duration),o.push(u)});let r=[...t.values()],s=[...e.values()];if(i){let a=o[0],c=new Map(a);a.set("offset",0),c.set("offset",1),o=[a,c]}return GM(this.element,o,r,s,this.duration,this.startTime,this.easing,!1)}},BM=class extends r0{keyframes;preStyleProps;postStyleProps;_stretchStartingKeyframe;timings;constructor(t,e,i,o,r,s,a=!1){super(t,e,s.delay),this.keyframes=i,this.preStyleProps=o,this.postStyleProps=r,this._stretchStartingKeyframe=a,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:i,easing:o}=this.timings;if(this._stretchStartingKeyframe&&e){let r=[],s=i+e,a=e/s,c=new Map(t[0]);c.set("offset",0),r.push(c);let u=new Map(t[0]);u.set("offset",rA(a)),r.push(u);let C=t.length-1;for(let v=1;v<=C;v++){let P=new Map(t[v]),w=P.get("offset"),S=e+w*i;P.set("offset",rA(S/s)),r.push(P)}i=s,e=0,o="",t=r}return GM(this.element,t,this.preStyleProps,this.postStyleProps,i,e,o,!0)}};function rA(n,t=3){let e=Math.pow(10,t-1);return Math.round(n*e)/e}function s$(n,t){let e=new Map,i;return n.forEach(o=>{if(o==="*"){i??=t.keys();for(let r of i)e.set(r,qo)}else for(let[r,s]of o)e.set(r,s)}),e}function sA(n,t,e,i,o,r,s,a,c,u,C,v,P){return{type:0,element:n,triggerName:t,isRemovalTransition:o,fromState:e,fromStyles:r,toState:i,toStyles:s,timelines:a,queriedElements:c,preStyleProps:u,postStyleProps:C,totalTime:v,errors:P}}var DM={},s0=class{_triggerName;ast;_stateStyles;constructor(t,e,i){this._triggerName=t,this.ast=e,this._stateStyles=i}match(t,e,i,o){return a$(this.ast.matchers,t,e,i,o)}buildStyles(t,e,i){let o=this._stateStyles.get("*");return t!==void 0&&(o=this._stateStyles.get(t?.toString())||o),o?o.buildStyles(e,i):new Map}build(t,e,i,o,r,s,a,c,u,C){let v=[],P=this.ast.options&&this.ast.options.params||DM,w=a&&a.params||DM,S=this.buildStyles(i,w,v),F=c&&c.params||DM,N=this.buildStyles(o,F,v),W=new Set,Ce=new Map,we=new Map,Me=o==="void",mt={params:mA(F,P),delay:this.ast.options?.delay},lt=C?[]:hA(t,e,this.ast.animation,r,s,S,N,mt,u,v),Ot=0;return lt.forEach(Lt=>{Ot=Math.max(Lt.duration+Lt.delay,Ot)}),v.length?sA(e,this._triggerName,i,o,Me,S,N,[],[],Ce,we,Ot,v):(lt.forEach(Lt=>{let xt=Lt.element,ti=Li(Ce,xt,new Set);Lt.preStyleProps.forEach(Ge=>ti.add(Ge));let Rn=Li(we,xt,new Set);Lt.postStyleProps.forEach(Ge=>Rn.add(Ge)),xt!==e&&W.add(xt)}),sA(e,this._triggerName,i,o,Me,S,N,lt,[...W.values()],Ce,we,Ot))}};function a$(n,t,e,i,o){return n.some(r=>r(t,e,i,o))}function mA(n,t){let e=j({},t);return Object.entries(n).forEach(([i,o])=>{o!=null&&(e[i]=o)}),e}var jM=class{styles;defaultParams;normalizer;constructor(t,e,i){this.styles=t,this.defaultParams=e,this.normalizer=i}buildStyles(t,e){let i=new Map,o=mA(t,this.defaultParams);return this.styles.styles.forEach(r=>{typeof r!="string"&&r.forEach((s,a)=>{s&&(s=Ul(s,o,e));let c=this.normalizer.normalizePropertyName(a,e);s=this.normalizer.normalizeStyleValue(a,c,s,e),i.set(a,s)})}),i}};function c$(n,t,e){return new VM(n,t,e)}var VM=class{name;ast;_normalizer;transitionFactories=[];fallbackTransition;states=new Map;constructor(t,e,i){this.name=t,this.ast=e,this._normalizer=i,e.states.forEach(o=>{let r=o.options&&o.options.params||{};this.states.set(o.name,new jM(o.style,r,i))}),aA(this.states,"true","1"),aA(this.states,"false","0"),e.transitions.forEach(o=>{this.transitionFactories.push(new s0(t,o,this.states))}),this.fallbackTransition=l$(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,i,o){return this.transitionFactories.find(s=>s.match(t,e,i,o))||null}matchStyles(t,e,i){return this.fallbackTransition.buildStyles(t,e,i)}};function l$(n,t,e){let i=[(s,a)=>!0],o={type:Xe.Sequence,steps:[],options:null},r={type:Xe.Transition,animation:o,matchers:i,options:null,queryCount:0,depCount:0};return new s0(n,r,t)}function aA(n,t,e){n.has(t)?n.has(e)||n.set(e,n.get(t)):n.has(e)&&n.set(t,n.get(e))}var d$=new fp,UM=class{bodyNode;_driver;_normalizer;_animations=new Map;_playersById=new Map;players=[];constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i}register(t,e){let i=[],o=[],r=gA(this._driver,e,i,o);if(i.length)throw Uk(i);this._animations.set(t,r)}_buildPlayer(t,e,i){let o=t.element,r=MM(this._normalizer,t.keyframes,e,i);return this._driver.animate(o,r,t.duration,t.delay,t.easing,[],!0)}create(t,e,i={}){let o=[],r=this._animations.get(t),s,a=new Map;if(r?(s=hA(this._driver,e,r,EM,Qm,new Map,new Map,i,d$,o),s.forEach(C=>{let v=Li(a,C.element,new Map);C.postStyleProps.forEach(P=>v.set(P,null))})):(o.push($k()),s=[]),o.length)throw qk(o);a.forEach((C,v)=>{C.forEach((P,w)=>{C.set(w,this._driver.computeStyle(v,w,qo))})});let c=s.map(C=>{let v=a.get(C.element);return this._buildPlayer(C,new Map,v)}),u=ds(c);return this._playersById.set(t,u),u.onDestroy(()=>this.destroy(t)),this.players.push(u),u}destroy(t){let e=this._getPlayer(t);e.destroy(),this._playersById.delete(t);let i=this.players.indexOf(e);i>=0&&this.players.splice(i,1)}_getPlayer(t){let e=this._playersById.get(t);if(!e)throw Hk(t);return e}listen(t,e,i,o){let r=Wm(e,"","","");return Hm(this._getPlayer(t),i,r,o),()=>{}}command(t,e,i,o){if(i=="register"){this.register(t,o[0]);return}if(i=="create"){let s=o[0]||{};this.create(t,e,s);return}let r=this._getPlayer(t);switch(i){case"play":r.play();break;case"pause":r.pause();break;case"reset":r.reset();break;case"restart":r.restart();break;case"finish":r.finish();break;case"init":r.init();break;case"setPosition":r.setPosition(parseFloat(o[0]));break;case"destroy":this.destroy(t);break}}},cA="ng-animate-queued",u$=".ng-animate-queued",kM="ng-animate-disabled",p$=".ng-animate-disabled",f$="ng-star-inserted",g$=".ng-star-inserted",h$=[],_A={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},m$={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Wo="__ng_removed",gp=class{namespaceId;value;options;get params(){return this.options.params}constructor(t,e=""){this.namespaceId=e;let i=t&&t.hasOwnProperty("value"),o=i?t.value:t;if(this.value=C$(o),i){let r=t,{value:s}=r,a=Rc(r,["value"]);this.options=a}else this.options={};this.options.params||(this.options.params={})}absorbOptions(t){let e=t.params;if(e){let i=this.options.params;Object.keys(e).forEach(o=>{i[o]==null&&(i[o]=e[o])})}}},pp="void",AM=new gp(pp),$M=class{id;hostElement;_engine;players=[];_triggers=new Map;_queue=[];_elementListeners=new Map;_hostClassName;constructor(t,e,i){this.id=t,this.hostElement=e,this._engine=i,this._hostClassName="ng-tns-"+t,Co(e,this._hostClassName)}listen(t,e,i,o){if(!this._triggers.has(e))throw Wk(i,e);if(i==null||i.length==0)throw Gk(e);if(!v$(i))throw Qk(i,e);let r=Li(this._elementListeners,t,[]),s={name:e,phase:i,callback:o};r.push(s);let a=Li(this._engine.statesByElement,t,new Map);return a.has(e)||(Co(t,lp),Co(t,lp+"-"+e),a.set(e,AM)),()=>{this._engine.afterFlush(()=>{let c=r.indexOf(s);c>=0&&r.splice(c,1),this._triggers.has(e)||a.delete(e)})}}register(t,e){return this._triggers.has(t)?!1:(this._triggers.set(t,e),!0)}_getTrigger(t){let e=this._triggers.get(t);if(!e)throw Kk(t);return e}trigger(t,e,i,o=!0){let r=this._getTrigger(e),s=new hp(this.id,e,t),a=this._engine.statesByElement.get(t);a||(Co(t,lp),Co(t,lp+"-"+e),this._engine.statesByElement.set(t,a=new Map));let c=a.get(e),u=new gp(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&c&&u.absorbOptions(c.options),a.set(e,u),c||(c=AM),!(u.value===pp)&&c.value===u.value){if(!M$(c.params,u.params)){let F=[],N=r.matchStyles(c.value,c.params,F),W=r.matchStyles(u.value,u.params,F);F.length?this._engine.reportError(F):this._engine.afterFlush(()=>{Qs(t,N),Ho(t,W)})}return}let P=Li(this._engine.playersByElement,t,[]);P.forEach(F=>{F.namespaceId==this.id&&F.triggerName==e&&F.queued&&F.destroy()});let w=r.matchTransition(c.value,u.value,t,u.params),S=!1;if(!w){if(!o)return;w=r.fallbackTransition,S=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:w,fromState:c,toState:u,player:s,isFallbackTransition:S}),S||(Co(t,cA),s.onStart(()=>{$l(t,cA)})),s.onDone(()=>{let F=this.players.indexOf(s);F>=0&&this.players.splice(F,1);let N=this._engine.playersByElement.get(t);if(N){let W=N.indexOf(s);W>=0&&N.splice(W,1)}}),this.players.push(s),P.push(s),s}deregister(t){this._triggers.delete(t),this._engine.statesByElement.forEach(e=>e.delete(t)),this._elementListeners.forEach((e,i)=>{this._elementListeners.set(i,e.filter(o=>o.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);let e=this._engine.playersByElement.get(t);e&&(e.forEach(i=>i.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){let i=this._engine.driver.query(t,dp,!0);i.forEach(o=>{if(o[Wo])return;let r=this._engine.fetchNamespacesByElement(o);r.size?r.forEach(s=>s.triggerLeaveAnimation(o,e,!1,!0)):this.clearElementCache(o)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(o=>this.clearElementCache(o)))}triggerLeaveAnimation(t,e,i,o){let r=this._engine.statesByElement.get(t),s=new Map;if(r){let a=[];if(r.forEach((c,u)=>{if(s.set(u,c.value),this._triggers.has(u)){let C=this.trigger(t,u,pp,o);C&&a.push(C)}}),a.length)return this._engine.markElementAsRemoved(this.id,t,!0,e,s),i&&ds(a).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){let e=this._elementListeners.get(t),i=this._engine.statesByElement.get(t);if(e&&i){let o=new Set;e.forEach(r=>{let s=r.name;if(o.has(s))return;o.add(s);let c=this._triggers.get(s).fallbackTransition,u=i.get(s)||AM,C=new gp(pp),v=new hp(this.id,s,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:s,transition:c,fromState:u,toState:C,player:v,isFallbackTransition:!0})})}}removeNode(t,e){let i=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let o=!1;if(i.totalAnimations){let r=i.players.length?i.playersByQueriedElement.get(t):[];if(r&&r.length)o=!0;else{let s=t;for(;s=s.parentNode;)if(i.statesByElement.get(s)){o=!0;break}}}if(this.prepareLeaveAnimationListeners(t),o)i.markElementAsRemoved(this.id,t,!1,e);else{let r=t[Wo];(!r||r===_A)&&(i.afterFlush(()=>this.clearElementCache(t)),i.destroyInnerAnimations(t),i._onRemovalComplete(t,e))}}insertNode(t,e){Co(t,this._hostClassName)}drainQueuedTransitions(t){let e=[];return this._queue.forEach(i=>{let o=i.player;if(o.destroyed)return;let r=i.element,s=this._elementListeners.get(r);s&&s.forEach(a=>{if(a.name==i.triggerName){let c=Wm(r,i.triggerName,i.fromState.value,i.toState.value);c._data=t,Hm(i.player,a.phase,c,a.callback)}}),o.markedForDestroy?this._engine.afterFlush(()=>{o.destroy()}):e.push(i)}),this._queue=[],e.sort((i,o)=>{let r=i.transition.ast.depCount,s=o.transition.ast.depCount;return r==0||s==0?r-s:this._engine.driver.containsElement(i.element,o.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}},qM=class{bodyNode;driver;_normalizer;players=[];newHostElements=new Map;playersByElement=new Map;playersByQueriedElement=new Map;statesByElement=new Map;disabledNodes=new Set;totalAnimations=0;totalQueuedPlayers=0;_namespaceLookup={};_namespaceList=[];_flushFns=[];_whenQuietFns=[];namespacesByHostElement=new Map;collectedEnterElements=[];collectedLeaveElements=[];onRemovalComplete=(t,e)=>{};_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}constructor(t,e,i){this.bodyNode=t,this.driver=e,this._normalizer=i}get queuedPlayers(){let t=[];return this._namespaceList.forEach(e=>{e.players.forEach(i=>{i.queued&&t.push(i)})}),t}createNamespace(t,e){let i=new $M(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(i,e):(this.newHostElements.set(e,i),this.collectEnterElement(e)),this._namespaceLookup[t]=i}_balanceNamespaceList(t,e){let i=this._namespaceList,o=this.namespacesByHostElement;if(i.length-1>=0){let s=!1,a=this.driver.getParentElement(e);for(;a;){let c=o.get(a);if(c){let u=i.indexOf(c);i.splice(u+1,0,t),s=!0;break}a=this.driver.getParentElement(a)}s||i.unshift(t)}else i.push(t);return o.set(e,t),t}register(t,e){let i=this._namespaceLookup[t];return i||(i=this.createNamespace(t,e)),i}registerTrigger(t,e,i){let o=this._namespaceLookup[t];o&&o.register(e,i)&&this.totalAnimations++}destroy(t,e){t&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{let i=this._fetchNamespace(t);this.namespacesByHostElement.delete(i.hostElement);let o=this._namespaceList.indexOf(i);o>=0&&this._namespaceList.splice(o,1),i.destroy(e),delete this._namespaceLookup[t]}))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){let e=new Set,i=this.statesByElement.get(t);if(i){for(let o of i.values())if(o.namespaceId){let r=this._fetchNamespace(o.namespaceId);r&&e.add(r)}}return e}trigger(t,e,i,o){if(e0(e)){let r=this._fetchNamespace(t);if(r)return r.trigger(e,i,o),!0}return!1}insertNode(t,e,i,o){if(!e0(e))return;let r=e[Wo];if(r&&r.setForRemoval){r.setForRemoval=!1,r.setForMove=!0;let s=this.collectedLeaveElements.indexOf(e);s>=0&&this.collectedLeaveElements.splice(s,1)}if(t){let s=this._fetchNamespace(t);s&&s.insertNode(e,i)}o&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),Co(t,kM)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),$l(t,kM))}removeNode(t,e,i){if(e0(e)){let o=t?this._fetchNamespace(t):null;o?o.removeNode(e,i):this.markElementAsRemoved(t,e,!1,i);let r=this.namespacesByHostElement.get(e);r&&r.id!==t&&r.removeNode(e,i)}else this._onRemovalComplete(e,i)}markElementAsRemoved(t,e,i,o,r){this.collectedLeaveElements.push(e),e[Wo]={namespaceId:t,setForRemoval:o,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:r}}listen(t,e,i,o,r){return e0(e)?this._fetchNamespace(t).listen(e,i,o,r):()=>{}}_buildInstruction(t,e,i,o,r){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,i,o,t.fromState.options,t.toState.options,e,r)}destroyInnerAnimations(t){let e=this.driver.query(t,dp,!0);e.forEach(i=>this.destroyActiveAnimationsForElement(i)),this.playersByQueriedElement.size!=0&&(e=this.driver.query(t,Km,!0),e.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(t){let e=this.playersByElement.get(t);e&&e.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(t){let e=this.playersByQueriedElement.get(t);e&&e.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return ds(this.players).onDone(()=>t());t()})}processLeaveNode(t){let e=t[Wo];if(e&&e.setForRemoval){if(t[Wo]=_A,e.namespaceId){this.destroyInnerAnimations(t);let i=this._fetchNamespace(e.namespaceId);i&&i.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}t.classList?.contains(kM)&&this.markElementAsDisabled(t,!1),this.driver.query(t,p$,!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,o)=>this._balanceNamespaceList(i,o)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++){let o=this.collectedEnterElements[i];Co(o,f$)}if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){let i=[];try{e=this._flushAnimations(i,t)}finally{for(let o=0;o<i.length;o++)i[o]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++){let o=this.collectedLeaveElements[i];this.processLeaveNode(o)}if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){let i=this._whenQuietFns;this._whenQuietFns=[],e.length?ds(e).onDone(()=>{i.forEach(o=>o())}):i.forEach(o=>o())}}reportError(t){throw Yk(t)}_flushAnimations(t,e){let i=new fp,o=[],r=new Map,s=[],a=new Map,c=new Map,u=new Map,C=new Set;this.disabledNodes.forEach(ge=>{C.add(ge);let Pe=this.driver.query(ge,u$,!0);for(let xe=0;xe<Pe.length;xe++)C.add(Pe[xe])});let v=this.bodyNode,P=Array.from(this.statesByElement.keys()),w=uA(P,this.collectedEnterElements),S=new Map,F=0;w.forEach((ge,Pe)=>{let xe=EM+F++;S.set(Pe,xe),ge.forEach(Ze=>Co(Ze,xe))});let N=[],W=new Set,Ce=new Set;for(let ge=0;ge<this.collectedLeaveElements.length;ge++){let Pe=this.collectedLeaveElements[ge],xe=Pe[Wo];xe&&xe.setForRemoval&&(N.push(Pe),W.add(Pe),xe.hasAnimation?this.driver.query(Pe,g$,!0).forEach(Ze=>W.add(Ze)):Ce.add(Pe))}let we=new Map,Me=uA(P,Array.from(W));Me.forEach((ge,Pe)=>{let xe=Qm+F++;we.set(Pe,xe),ge.forEach(Ze=>Co(Ze,xe))}),t.push(()=>{w.forEach((ge,Pe)=>{let xe=S.get(Pe);ge.forEach(Ze=>$l(Ze,xe))}),Me.forEach((ge,Pe)=>{let xe=we.get(Pe);ge.forEach(Ze=>$l(Ze,xe))}),N.forEach(ge=>{this.processLeaveNode(ge)})});let mt=[],lt=[];for(let ge=this._namespaceList.length-1;ge>=0;ge--)this._namespaceList[ge].drainQueuedTransitions(e).forEach(xe=>{let Ze=xe.player,B=xe.element;if(mt.push(Ze),this.collectedEnterElements.length){let he=B[Wo];if(he&&he.setForMove){if(he.previousTriggersValues&&he.previousTriggersValues.has(xe.triggerName)){let De=he.previousTriggersValues.get(xe.triggerName),Ke=this.statesByElement.get(xe.element);if(Ke&&Ke.has(xe.triggerName)){let yt=Ke.get(xe.triggerName);yt.value=De,Ke.set(xe.triggerName,yt)}}Ze.destroy();return}}let k=!v||!this.driver.containsElement(v,B),de=we.get(B),Oe=S.get(B),ue=this._buildInstruction(xe,i,Oe,de,k);if(ue.errors&&ue.errors.length){lt.push(ue);return}if(k){Ze.onStart(()=>Qs(B,ue.fromStyles)),Ze.onDestroy(()=>Ho(B,ue.toStyles)),o.push(Ze);return}if(xe.isFallbackTransition){Ze.onStart(()=>Qs(B,ue.fromStyles)),Ze.onDestroy(()=>Ho(B,ue.toStyles)),o.push(Ze);return}let ke=[];ue.timelines.forEach(he=>{he.stretchStartingKeyframe=!0,this.disabledNodes.has(he.element)||ke.push(he)}),ue.timelines=ke,i.append(B,ue.timelines);let Qe={instruction:ue,player:Ze,element:B};s.push(Qe),ue.queriedElements.forEach(he=>Li(a,he,[]).push(Ze)),ue.preStyleProps.forEach((he,De)=>{if(he.size){let Ke=c.get(De);Ke||c.set(De,Ke=new Set),he.forEach((yt,_t)=>Ke.add(_t))}}),ue.postStyleProps.forEach((he,De)=>{let Ke=u.get(De);Ke||u.set(De,Ke=new Set),he.forEach((yt,_t)=>Ke.add(_t))})});if(lt.length){let ge=[];lt.forEach(Pe=>{ge.push(Zk(Pe.triggerName,Pe.errors))}),mt.forEach(Pe=>Pe.destroy()),this.reportError(ge)}let Ot=new Map,Lt=new Map;s.forEach(ge=>{let Pe=ge.element;i.has(Pe)&&(Lt.set(Pe,Pe),this._beforeAnimationBuild(ge.player.namespaceId,ge.instruction,Ot))}),o.forEach(ge=>{let Pe=ge.element;this._getPreviousPlayers(Pe,!1,ge.namespaceId,ge.triggerName,null).forEach(Ze=>{Li(Ot,Pe,[]).push(Ze),Ze.destroy()})});let xt=N.filter(ge=>pA(ge,c,u)),ti=new Map;dA(ti,this.driver,Ce,u,qo).forEach(ge=>{pA(ge,c,u)&&xt.push(ge)});let Ge=new Map;w.forEach((ge,Pe)=>{dA(Ge,this.driver,new Set(ge),c,cp)}),xt.forEach(ge=>{let Pe=ti.get(ge),xe=Ge.get(ge);ti.set(ge,new Map([...Pe?.entries()??[],...xe?.entries()??[]]))});let io=[],ya=[],Vr={};s.forEach(ge=>{let{element:Pe,player:xe,instruction:Ze}=ge;if(i.has(Pe)){if(C.has(Pe)){xe.onDestroy(()=>Ho(Pe,Ze.toStyles)),xe.disabled=!0,xe.overrideTotalTime(Ze.totalTime),o.push(xe);return}let B=Vr;if(Lt.size>1){let de=Pe,Oe=[];for(;de=de.parentNode;){let ue=Lt.get(de);if(ue){B=ue;break}Oe.push(de)}Oe.forEach(ue=>Lt.set(ue,B))}let k=this._buildAnimation(xe.namespaceId,Ze,Ot,r,Ge,ti);if(xe.setRealPlayer(k),B===Vr)io.push(xe);else{let de=this.playersByElement.get(B);de&&de.length&&(xe.parentPlayer=ds(de)),o.push(xe)}}else Qs(Pe,Ze.fromStyles),xe.onDestroy(()=>Ho(Pe,Ze.toStyles)),ya.push(xe),C.has(Pe)&&o.push(xe)}),ya.forEach(ge=>{let Pe=r.get(ge.element);if(Pe&&Pe.length){let xe=ds(Pe);ge.setRealPlayer(xe)}}),o.forEach(ge=>{ge.parentPlayer?ge.syncPlayerEvents(ge.parentPlayer):ge.destroy()});for(let ge=0;ge<N.length;ge++){let Pe=N[ge],xe=Pe[Wo];if($l(Pe,Qm),xe&&xe.hasAnimation)continue;let Ze=[];if(a.size){let k=a.get(Pe);k&&k.length&&Ze.push(...k);let de=this.driver.query(Pe,Km,!0);for(let Oe=0;Oe<de.length;Oe++){let ue=a.get(de[Oe]);ue&&ue.length&&Ze.push(...ue)}}let B=Ze.filter(k=>!k.destroyed);B.length?b$(this,Pe,B):this.processLeaveNode(Pe)}return N.length=0,io.forEach(ge=>{this.players.push(ge),ge.onDone(()=>{ge.destroy();let Pe=this.players.indexOf(ge);this.players.splice(Pe,1)}),ge.play()}),io}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,i,o,r){let s=[];if(e){let a=this.playersByQueriedElement.get(t);a&&(s=a)}else{let a=this.playersByElement.get(t);if(a){let c=!r||r==pp;a.forEach(u=>{u.queued||!c&&u.triggerName!=o||s.push(u)})}}return(i||o)&&(s=s.filter(a=>!(i&&i!=a.namespaceId||o&&o!=a.triggerName))),s}_beforeAnimationBuild(t,e,i){let o=e.triggerName,r=e.element,s=e.isRemovalTransition?void 0:t,a=e.isRemovalTransition?void 0:o;for(let c of e.timelines){let u=c.element,C=u!==r,v=Li(i,u,[]);this._getPreviousPlayers(u,C,s,a,e.toState).forEach(w=>{let S=w.getRealPlayer();S.beforeDestroy&&S.beforeDestroy(),w.destroy(),v.push(w)})}Qs(r,e.fromStyles)}_buildAnimation(t,e,i,o,r,s){let a=e.triggerName,c=e.element,u=[],C=new Set,v=new Set,P=e.timelines.map(S=>{let F=S.element;C.add(F);let N=F[Wo];if(N&&N.removedBeforeQueried)return new ls(S.duration,S.delay);let W=F!==c,Ce=y$((i.get(F)||h$).map(Ot=>Ot.getRealPlayer())).filter(Ot=>{let Lt=Ot;return Lt.element?Lt.element===F:!1}),we=r.get(F),Me=s.get(F),mt=MM(this._normalizer,S.keyframes,we,Me),lt=this._buildPlayer(S,mt,Ce);if(S.subTimeline&&o&&v.add(F),W){let Ot=new hp(t,a,F);Ot.setRealPlayer(lt),u.push(Ot)}return lt});u.forEach(S=>{Li(this.playersByQueriedElement,S.element,[]).push(S),S.onDone(()=>_$(this.playersByQueriedElement,S.element,S))}),C.forEach(S=>Co(S,IM));let w=ds(P);return w.onDestroy(()=>{C.forEach(S=>$l(S,IM)),Ho(c,e.toStyles)}),v.forEach(S=>{Li(o,S,[]).push(w)}),w}_buildPlayer(t,e,i){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,i):new ls(t.duration,t.delay)}},hp=class{namespaceId;triggerName;element;_player=new ls;_containsRealPlayer=!1;_queuedCallbacks=new Map;destroyed=!1;parentPlayer=null;markedForDestroy=!1;disabled=!1;queued=!0;totalTime=0;constructor(t,e,i){this.namespaceId=t,this.triggerName=e,this.element=i}setRealPlayer(t){this._containsRealPlayer||(this._player=t,this._queuedCallbacks.forEach((e,i)=>{e.forEach(o=>Hm(t,i,void 0,o))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){let e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){Li(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return this.queued?!1:this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){let e=this._player;e.triggerCallback&&e.triggerCallback(t)}};function _$(n,t,e){let i=n.get(t);if(i){if(i.length){let o=i.indexOf(e);i.splice(o,1)}i.length==0&&n.delete(t)}return i}function C$(n){return n??null}function e0(n){return n&&n.nodeType===1}function v$(n){return n=="start"||n=="done"}function lA(n,t){let e=n.style.display;return n.style.display=t??"none",e}function dA(n,t,e,i,o){let r=[];e.forEach(c=>r.push(lA(c)));let s=[];i.forEach((c,u)=>{let C=new Map;c.forEach(v=>{let P=t.computeStyle(u,v,o);C.set(v,P),(!P||P.length==0)&&(u[Wo]=m$,s.push(u))}),n.set(u,C)});let a=0;return e.forEach(c=>lA(c,r[a++])),s}function uA(n,t){let e=new Map;if(n.forEach(a=>e.set(a,[])),t.length==0)return e;let i=1,o=new Set(t),r=new Map;function s(a){if(!a)return i;let c=r.get(a);if(c)return c;let u=a.parentNode;return e.has(u)?c=u:o.has(u)?c=i:c=s(u),r.set(a,c),c}return t.forEach(a=>{let c=s(a);c!==i&&e.get(c).push(a)}),e}function Co(n,t){n.classList?.add(t)}function $l(n,t){n.classList?.remove(t)}function b$(n,t,e){ds(e).onDone(()=>n.processLeaveNode(t))}function y$(n){let t=[];return CA(n,t),t}function CA(n,t){for(let e=0;e<n.length;e++){let i=n[e];i instanceof jl?CA(i.players,t):t.push(i)}}function M$(n,t){let e=Object.keys(n),i=Object.keys(t);if(e.length!=i.length)return!1;for(let o=0;o<e.length;o++){let r=e[o];if(!t.hasOwnProperty(r)||n[r]!==t[r])return!1}return!0}function pA(n,t,e){let i=e.get(n);if(!i)return!1;let o=t.get(n);return o?i.forEach(r=>o.add(r)):t.set(n,i),e.delete(n),!0}var ql=class{_driver;_normalizer;_transitionEngine;_timelineEngine;_triggerCache={};onRemovalComplete=(t,e)=>{};constructor(t,e,i){this._driver=e,this._normalizer=i,this._transitionEngine=new qM(t.body,e,i),this._timelineEngine=new UM(t.body,e,i),this._transitionEngine.onRemovalComplete=(o,r)=>this.onRemovalComplete(o,r)}registerTrigger(t,e,i,o,r){let s=t+"-"+o,a=this._triggerCache[s];if(!a){let c=[],u=[],C=gA(this._driver,r,c,u);if(c.length)throw Vk(o,c);a=c$(o,C,this._normalizer),this._triggerCache[s]=a}this._transitionEngine.registerTrigger(e,o,a)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,i,o){this._transitionEngine.insertNode(t,e,i,o)}onRemove(t,e,i){this._transitionEngine.removeNode(t,e,i)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,i,o){if(i.charAt(0)=="@"){let[r,s]=PM(i),a=o;this._timelineEngine.command(r,e,s,a)}else this._transitionEngine.trigger(t,e,i,o)}listen(t,e,i,o,r){if(i.charAt(0)=="@"){let[s,a]=PM(i);return this._timelineEngine.listen(s,e,a,r)}return this._transitionEngine.listen(t,e,i,o,r)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(t){this._transitionEngine.afterFlushAnimationsDone(t)}};function P$(n,t){let e=null,i=null;return Array.isArray(t)&&t.length?(e=RM(t[0]),t.length>1&&(i=RM(t[t.length-1]))):t instanceof Map&&(e=RM(t)),e||i?new O$(n,e,i):null}var O$=(()=>{class n{_element;_startStyles;_endStyles;static initialStylesByElement=new WeakMap;_state=0;_initialStyles;constructor(e,i,o){this._element=e,this._startStyles=i,this._endStyles=o;let r=n.initialStylesByElement.get(e);r||n.initialStylesByElement.set(e,r=new Map),this._initialStyles=r}start(){this._state<1&&(this._startStyles&&Ho(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Ho(this._element,this._initialStyles),this._endStyles&&(Ho(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Qs(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Qs(this._element,this._endStyles),this._endStyles=null),Ho(this._element,this._initialStyles),this._state=3)}}return n})();function RM(n){let t=null;return n.forEach((e,i)=>{w$(i)&&(t=t||new Map,t.set(i,e))}),t}function w$(n){return n==="display"||n==="position"}var a0=class{element;keyframes;options;_specialStyles;_onDoneFns=[];_onStartFns=[];_onDestroyFns=[];_duration;_delay;_initialized=!1;_finished=!1;_started=!1;_destroyed=!1;_finalKeyframe;_originalOnDoneFns=[];_originalOnStartFns=[];domPlayer=null;time=0;parentPlayer=null;currentSnapshot=new Map;constructor(t,e,i,o){this.element=t,this.keyframes=e,this.options=i,this._specialStyles=o,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer()&&this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return this.domPlayer;this._initialized=!0;let t=this.keyframes,e=this._triggerWebAnimation(this.element,t,this.options);if(!e)return this._onFinish(),null;this.domPlayer=e,this._finalKeyframe=t.length?t[t.length-1]:new Map;let i=()=>this._onFinish();return e.addEventListener("finish",i),this.onDestroy(()=>{e.removeEventListener("finish",i)}),e}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer?.pause()}_convertKeyframesToObject(t){let e=[];return t.forEach(i=>{e.push(Object.fromEntries(i))}),e}_triggerWebAnimation(t,e,i){let o=this._convertKeyframesToObject(e);try{return t.animate(o,i)}catch{return null}}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){let t=this._buildPlayer();t&&(this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),t.play())}pause(){this.init(),this.domPlayer?.pause()}finish(){this.init(),this.domPlayer&&(this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish())}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer?.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){this.domPlayer||this.init(),this.domPlayer&&(this.domPlayer.currentTime=t*this.time)}getPosition(){return this.domPlayer?+(this.domPlayer.currentTime??0)/this.time:this._initialized?1:0}get totalTime(){return this._delay+this._duration}beforeDestroy(){let t=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,o)=>{o!=="offset"&&t.set(o,this._finished?i:Zm(this.element,o))}),this.currentSnapshot=t}triggerCallback(t){let e=t==="start"?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}},c0=class{validateStyleProperty(t){return!0}validateAnimatableStyleProperty(t){return!0}containsElement(t,e){return OM(t,e)}getParentElement(t){return Gm(t)}query(t,e,i){return wM(t,e,i)}computeStyle(t,e,i){return Zm(t,e)}animate(t,e,i,o,r,s=[]){let a=o==0?"both":"forwards",c={duration:i,delay:o,fill:a};r&&(c.easing=r);let u=new Map,C=s.filter(w=>w instanceof a0);tA(i,o)&&C.forEach(w=>{w.currentSnapshot.forEach((S,F)=>u.set(F,S))});let v=Xk(e).map(w=>new Map(w));v=nA(t,v,u);let P=P$(t,v);return new a0(t,v,c,P)}};var t0="@",vA="@.disabled",l0=class{namespaceId;delegate;engine;_onDestroy;\u0275type=0;constructor(t,e,i,o){this.namespaceId=t,this.delegate=e,this.engine=i,this._onDestroy=o}get data(){return this.delegate.data}destroyNode(t){this.delegate.destroyNode?.(t)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,i,o=!0){this.delegate.insertBefore(t,e,i),this.engine.onInsert(this.namespaceId,e,t,o)}removeChild(t,e,i,o){if(o){this.delegate.removeChild(t,e,i,o);return}this.parentNode(e)&&this.engine.onRemove(this.namespaceId,e,this.delegate)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,i,o){this.delegate.setAttribute(t,e,i,o)}removeAttribute(t,e,i){this.delegate.removeAttribute(t,e,i)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,i,o){this.delegate.setStyle(t,e,i,o)}removeStyle(t,e,i){this.delegate.removeStyle(t,e,i)}setProperty(t,e,i){e.charAt(0)==t0&&e==vA?this.disableAnimations(t,!!i):this.delegate.setProperty(t,e,i)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,i,o){return this.delegate.listen(t,e,i,o)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}},HM=class extends l0{factory;constructor(t,e,i,o,r){super(e,i,o,r),this.factory=t,this.namespaceId=e}setProperty(t,e,i){e.charAt(0)==t0?e.charAt(1)=="."&&e==vA?(i=i===void 0?!0:!!i,this.disableAnimations(t,i)):this.engine.process(this.namespaceId,t,e.slice(1),i):this.delegate.setProperty(t,e,i)}listen(t,e,i,o){if(e.charAt(0)==t0){let r=x$(t),s=e.slice(1),a="";return s.charAt(0)!=t0&&([s,a]=E$(s)),this.engine.listen(this.namespaceId,r,s,a,c=>{let u=c._data||-1;this.factory.scheduleListenerCallback(u,i,c)})}return this.delegate.listen(t,e,i,o)}};function x$(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}function E$(n){let t=n.indexOf("."),e=n.substring(0,t),i=n.slice(t+1);return[e,i]}var d0=class{delegate;engine;_zone;_currentId=0;_microtaskId=1;_animationCallbacksBuffer=[];_rendererCache=new Map;_cdRecurDepth=0;constructor(t,e,i){this.delegate=t,this.engine=e,this._zone=i,e.onRemovalComplete=(o,r)=>{r?.removeChild(null,o)}}createRenderer(t,e){let o=this.delegate.createRenderer(t,e);if(!t||!e?.data?.animation){let u=this._rendererCache,C=u.get(o);if(!C){let v=()=>u.delete(o);C=new l0("",o,this.engine,v),u.set(o,C)}return C}let r=e.id,s=e.id+"-"+this._currentId;this._currentId++,this.engine.register(s,t);let a=u=>{Array.isArray(u)?u.forEach(a):this.engine.registerTrigger(r,s,t,u.name,u)};return e.data.animation.forEach(a),new HM(this,s,o,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(t,e,i){if(t>=0&&t<this._microtaskId){this._zone.run(()=>e(i));return}let o=this._animationCallbacksBuffer;o.length==0&&queueMicrotask(()=>{this._zone.run(()=>{o.forEach(r=>{let[s,a]=r;s(a)}),this._animationCallbacksBuffer=[]})}),o.push([e,i])}end(){this._cdRecurDepth--,this._cdRecurDepth==0&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}componentReplaced(t){this.engine.flush(),this.delegate.componentReplaced?.(t)}};var S$=(()=>{class n extends ql{constructor(e,i,o){super(e,i,o)}ngOnDestroy(){this.flush()}static \u0275fac=function(i){return new(i||n)(Z(Ut),Z(ac),Z(cc))};static \u0275prov=K({token:n,factory:n.\u0275fac})}return n})();function T$(){return new n0}function D$(n,t,e){return new d0(n,t,e)}var bA=[{provide:cc,useFactory:T$},{provide:ql,useClass:S$},{provide:es,useFactory:D$,deps:[Bu,ql,rt]}],M1e=[{provide:ac,useClass:WM},{provide:Sh,useValue:"NoopAnimations"},...bA],k$=[{provide:ac,useFactory:()=>new c0},{provide:Sh,useFactory:()=>"BrowserAnimations"},...bA];function yA(){return Gi("NgEagerAnimations"),[...k$]}var Ys=class{},MA=(()=>{class n extends Ys{getTranslation(e){return Q({})}static \u0275fac=(()=>{let e;return function(o){return(e||(e=Gn(n)))(o||n)}})();static \u0275prov=K({token:n,factory:n.\u0275fac})}return n})(),mp=class{},PA=(()=>{class n{handle(e){return e.key}static \u0275fac=function(i){return new(i||n)};static \u0275prov=K({token:n,factory:n.\u0275fac})}return n})();function u0(n,t){if(n===t)return!0;if(n===null||t===null)return!1;if(n!==n&&t!==t)return!0;let e=typeof n,i=typeof t,o,r,s;if(e==i&&e=="object")if(Array.isArray(n)){if(!Array.isArray(t))return!1;if((o=n.length)==t.length){for(r=0;r<o;r++)if(!u0(n[r],t[r]))return!1;return!0}}else{if(Array.isArray(t))return!1;s=Object.create(null);for(r in n){if(!u0(n[r],t[r]))return!1;s[r]=!0}for(r in t)if(!(r in s)&&typeof t[r]<"u")return!1;return!0}return!1}function Ks(n){return typeof n<"u"&&n!==null}function QM(n){return n&&typeof n=="object"&&!Array.isArray(n)}function xA(n,t){let e=Object.assign({},n);return QM(n)&&QM(t)&&Object.keys(t).forEach(i=>{QM(t[i])?i in n?e[i]=xA(n[i],t[i]):Object.assign(e,{[i]:t[i]}):Object.assign(e,{[i]:t[i]})}),e}var Hl=class{},OA=(()=>{class n extends Hl{templateMatcher=/{{\s?([^{}\s]*)\s?}}/g;interpolate(e,i){let o;return typeof e=="string"?o=this.interpolateString(e,i):typeof e=="function"?o=this.interpolateFunction(e,i):o=e,o}getValue(e,i){let o=typeof i=="string"?i.split("."):[i];i="";do i+=o.shift(),Ks(e)&&Ks(e[i])&&(typeof e[i]=="object"||!o.length)?(e=e[i],i=""):o.length?i+=".":e=void 0;while(o.length);return e}interpolateFunction(e,i){return e(i)}interpolateString(e,i){return i?e.replace(this.templateMatcher,(o,r)=>{let s=this.getValue(i,r);return Ks(s)?s:o}):e}static \u0275fac=(()=>{let e;return function(o){return(e||(e=Gn(n)))(o||n)}})();static \u0275prov=K({token:n,factory:n.\u0275fac})}return n})(),Wl=class{},wA=(()=>{class n extends Wl{compile(e,i){return e}compileTranslations(e,i){return e}static \u0275fac=(()=>{let e;return function(o){return(e||(e=Gn(n)))(o||n)}})();static \u0275prov=K({token:n,factory:n.\u0275fac})}return n})(),p0=class{defaultLang;currentLang=this.defaultLang;translations={};langs=[];onTranslationChange=new et;onLangChange=new et;onDefaultLangChange=new et},KM=new oe("USE_STORE"),YM=new oe("USE_DEFAULT_LANG"),ZM=new oe("DEFAULT_LANGUAGE"),JM=new oe("USE_EXTEND"),Pi=(()=>{class n{store;currentLoader;compiler;parser;missingTranslationHandler;useDefaultLang;isolate;extend;loadingTranslations;pending=!1;_onTranslationChange=new et;_onLangChange=new et;_onDefaultLangChange=new et;_defaultLang;_currentLang;_langs=[];_translations={};_translationRequests={};get onTranslationChange(){return this.isolate?this._onTranslationChange:this.store.onTranslationChange}get onLangChange(){return this.isolate?this._onLangChange:this.store.onLangChange}get onDefaultLangChange(){return this.isolate?this._onDefaultLangChange:this.store.onDefaultLangChange}get defaultLang(){return this.isolate?this._defaultLang:this.store.defaultLang}set defaultLang(e){this.isolate?this._defaultLang=e:this.store.defaultLang=e}get currentLang(){return this.isolate?this._currentLang:this.store.currentLang}set currentLang(e){this.isolate?this._currentLang=e:this.store.currentLang=e}get langs(){return this.isolate?this._langs:this.store.langs}set langs(e){this.isolate?this._langs=e:this.store.langs=e}get translations(){return this.isolate?this._translations:this.store.translations}set translations(e){this.isolate?this._translations=e:this.store.translations=e}constructor(e,i,o,r,s,a=!0,c=!1,u=!1,C){this.store=e,this.currentLoader=i,this.compiler=o,this.parser=r,this.missingTranslationHandler=s,this.useDefaultLang=a,this.isolate=c,this.extend=u,C&&this.setDefaultLang(C)}setDefaultLang(e){if(e===this.defaultLang)return;let i=this.retrieveTranslations(e);typeof i<"u"?(this.defaultLang==null&&(this.defaultLang=e),i.pipe(Et(1)).subscribe(o=>{this.changeDefaultLang(e)})):this.changeDefaultLang(e)}getDefaultLang(){return this.defaultLang}use(e){if(e===this.currentLang)return Q(this.translations[e]);let i=this.retrieveTranslations(e);return typeof i<"u"?(this.currentLang||(this.currentLang=e),i.pipe(Et(1)).subscribe(o=>{this.changeLang(e)}),i):(this.changeLang(e),Q(this.translations[e]))}retrieveTranslations(e){let i;return(typeof this.translations[e]>"u"||this.extend)&&(this._translationRequests[e]=this._translationRequests[e]||this.getTranslation(e),i=this._translationRequests[e]),i}getTranslation(e){this.pending=!0;let i=this.currentLoader.getTranslation(e).pipe(Pg(1),Et(1));return this.loadingTranslations=i.pipe(H(o=>this.compiler.compileTranslations(o,e)),Pg(1),Et(1)),this.loadingTranslations.subscribe({next:o=>{this.translations[e]=this.extend&&this.translations[e]?j(j({},o),this.translations[e]):o,this.updateLangs(),this.pending=!1},error:o=>{this.pending=!1}}),i}setTranslation(e,i,o=!1){i=this.compiler.compileTranslations(i,e),(o||this.extend)&&this.translations[e]?this.translations[e]=xA(this.translations[e],i):this.translations[e]=i,this.updateLangs(),this.onTranslationChange.emit({lang:e,translations:this.translations[e]})}getLangs(){return this.langs}addLangs(e){e.forEach(i=>{this.langs.indexOf(i)===-1&&this.langs.push(i)})}updateLangs(){this.addLangs(Object.keys(this.translations))}getParsedResult(e,i,o){let r;if(i instanceof Array){let s={},a=!1;for(let c of i)s[c]=this.getParsedResult(e,c,o),Do(s[c])&&(a=!0);if(a){let c=i.map(u=>Do(s[u])?s[u]:Q(s[u]));return Rt(c).pipe(H(u=>{let C={};return u.forEach((v,P)=>{C[i[P]]=v}),C}))}return s}if(e&&(r=this.parser.interpolate(this.parser.getValue(e,i),o)),typeof r>"u"&&this.defaultLang!=null&&this.defaultLang!==this.currentLang&&this.useDefaultLang&&(r=this.parser.interpolate(this.parser.getValue(this.translations[this.defaultLang],i),o)),typeof r>"u"){let s={key:i,translateService:this};typeof o<"u"&&(s.interpolateParams=o),r=this.missingTranslationHandler.handle(s)}return typeof r<"u"?r:i}get(e,i){if(!Ks(e)||!e.length)throw new Error('Parameter "key" required');if(this.pending)return this.loadingTranslations.pipe(oo(o=>(o=this.getParsedResult(o,e,i),Do(o)?o:Q(o))));{let o=this.getParsedResult(this.translations[this.currentLang],e,i);return Do(o)?o:Q(o)}}getStreamOnTranslationChange(e,i){if(!Ks(e)||!e.length)throw new Error('Parameter "key" required');return Ur(re(()=>this.get(e,i)),this.onTranslationChange.pipe(be(o=>{let r=this.getParsedResult(o.translations,e,i);return typeof r.subscribe=="function"?r:Q(r)})))}stream(e,i){if(!Ks(e)||!e.length)throw new Error('Parameter "key" required');return Ur(re(()=>this.get(e,i)),this.onLangChange.pipe(be(o=>{let r=this.getParsedResult(o.translations,e,i);return Do(r)?r:Q(r)})))}instant(e,i){if(!Ks(e)||!e.length)throw new Error('Parameter "key" required');let o=this.getParsedResult(this.translations[this.currentLang],e,i);if(Do(o)){if(e instanceof Array){let r={};return e.forEach((s,a)=>{r[e[a]]=e[a]}),r}return e}else return o}set(e,i,o=this.currentLang){this.translations[o][e]=this.compiler.compile(i,o),this.updateLangs(),this.onTranslationChange.emit({lang:o,translations:this.translations[o]})}changeLang(e){this.currentLang=e,this.onLangChange.emit({lang:e,translations:this.translations[e]}),this.defaultLang==null&&this.changeDefaultLang(e)}changeDefaultLang(e){this.defaultLang=e,this.onDefaultLangChange.emit({lang:e,translations:this.translations[e]})}reloadLang(e){return this.resetLang(e),this.getTranslation(e)}resetLang(e){this._translationRequests[e]=void 0,this.translations[e]=void 0}getBrowserLang(){if(typeof window>"u"||typeof window.navigator>"u")return;let e=window.navigator.languages?window.navigator.languages[0]:null;if(e=e||window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage,!(typeof e>"u"))return e.indexOf("-")!==-1&&(e=e.split("-")[0]),e.indexOf("_")!==-1&&(e=e.split("_")[0]),e}getBrowserCultureLang(){if(typeof window>"u"||typeof window.navigator>"u")return;let e=window.navigator.languages?window.navigator.languages[0]:null;return e=e||window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage,e}static \u0275fac=function(i){return new(i||n)(Z(p0),Z(Ys),Z(Wl),Z(Hl),Z(mp),Z(YM),Z(KM),Z(JM),Z(ZM))};static \u0275prov=K({token:n,factory:n.\u0275fac})}return n})();var _e=(()=>{class n{translate;_ref;value="";lastKey=null;lastParams=[];onTranslationChange;onLangChange;onDefaultLangChange;constructor(e,i){this.translate=e,this._ref=i}updateValue(e,i,o){let r=s=>{this.value=s!==void 0?s:e,this.lastKey=e,this._ref.markForCheck()};if(o){let s=this.translate.getParsedResult(o,e,i);Do(s.subscribe)?s.subscribe(r):r(s)}this.translate.get(e,i).subscribe(r)}transform(e,...i){if(!e||!e.length)return e;if(u0(e,this.lastKey)&&u0(i,this.lastParams))return this.value;let o;if(Ks(i[0])&&i.length)if(typeof i[0]=="string"&&i[0].length){let r=i[0].replace(/(\')?([a-zA-Z0-9_]+)(\')?(\s)?:/g,'"$2":').replace(/:(\s)?(\')(.*?)(\')/g,':"$3"');try{o=JSON.parse(r)}catch{throw new SyntaxError(`Wrong parameter in TranslatePipe. Expected a valid Object, received: ${i[0]}`)}}else typeof i[0]=="object"&&!Array.isArray(i[0])&&(o=i[0]);return this.lastKey=e,this.lastParams=i,this.updateValue(e,o),this._dispose(),this.onTranslationChange||(this.onTranslationChange=this.translate.onTranslationChange.subscribe(r=>{this.lastKey&&r.lang===this.translate.currentLang&&(this.lastKey=null,this.updateValue(e,o,r.translations))})),this.onLangChange||(this.onLangChange=this.translate.onLangChange.subscribe(r=>{this.lastKey&&(this.lastKey=null,this.updateValue(e,o,r.translations))})),this.onDefaultLangChange||(this.onDefaultLangChange=this.translate.onDefaultLangChange.subscribe(()=>{this.lastKey&&(this.lastKey=null,this.updateValue(e,o))})),this.value}_dispose(){typeof this.onTranslationChange<"u"&&(this.onTranslationChange.unsubscribe(),this.onTranslationChange=void 0),typeof this.onLangChange<"u"&&(this.onLangChange.unsubscribe(),this.onLangChange=void 0),typeof this.onDefaultLangChange<"u"&&(this.onDefaultLangChange.unsubscribe(),this.onDefaultLangChange=void 0)}ngOnDestroy(){this._dispose()}static \u0275fac=function(i){return new(i||n)(A(Pi,16),A(jo,16))};static \u0275pipe=_l({name:"translate",type:n,pure:!1,standalone:!1});static \u0275prov=K({token:n,factory:n.\u0275fac})}return n})(),fe=(()=>{class n{static forRoot(e={}){return{ngModule:n,providers:[e.loader||{provide:Ys,useClass:MA},e.compiler||{provide:Wl,useClass:wA},e.parser||{provide:Hl,useClass:OA},e.missingTranslationHandler||{provide:mp,useClass:PA},p0,{provide:KM,useValue:e.isolate},{provide:YM,useValue:e.useDefaultLang},{provide:JM,useValue:e.extend},{provide:ZM,useValue:e.defaultLanguage},Pi]}}static forChild(e={}){return{ngModule:n,providers:[e.loader||{provide:Ys,useClass:MA},e.compiler||{provide:Wl,useClass:wA},e.parser||{provide:Hl,useClass:OA},e.missingTranslationHandler||{provide:mp,useClass:PA},{provide:KM,useValue:e.isolate},{provide:YM,useValue:e.useDefaultLang},{provide:JM,useValue:e.extend},{provide:ZM,useValue:e.defaultLanguage},Pi]}}static \u0275fac=function(i){return new(i||n)};static \u0275mod=ri({type:n});static \u0275inj=Hn({})}return n})();var f0=class{http;prefix;suffix;constructor(t,e="/assets/i18n/",i=".json"){this.http=t,this.prefix=e,this.suffix=i}getTranslation(t){return this.http.get(`${this.prefix}${t}${this.suffix}`)}};function EA(n){return new f0(n,"assets/i18n/",".json")}var IA=()=>{};var eP={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};var ee=function(n,t){if(!n)throw lc(t)},lc=function(n){return new Error("Firebase Database ("+eP.SDK_VERSION+") INTERNAL ASSERT FAILED: "+n)};var DA=function(n){let t=[],e=0;for(let i=0;i<n.length;i++){let o=n.charCodeAt(i);o<128?t[e++]=o:o<2048?(t[e++]=o>>6|192,t[e++]=o&63|128):(o&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(o=65536+((o&1023)<<10)+(n.charCodeAt(++i)&1023),t[e++]=o>>18|240,t[e++]=o>>12&63|128,t[e++]=o>>6&63|128,t[e++]=o&63|128):(t[e++]=o>>12|224,t[e++]=o>>6&63|128,t[e++]=o&63|128)}return t},A$=function(n){let t=[],e=0,i=0;for(;e<n.length;){let o=n[e++];if(o<128)t[i++]=String.fromCharCode(o);else if(o>191&&o<224){let r=n[e++];t[i++]=String.fromCharCode((o&31)<<6|r&63)}else if(o>239&&o<365){let r=n[e++],s=n[e++],a=n[e++],c=((o&7)<<18|(r&63)<<12|(s&63)<<6|a&63)-65536;t[i++]=String.fromCharCode(55296+(c>>10)),t[i++]=String.fromCharCode(56320+(c&1023))}else{let r=n[e++],s=n[e++];t[i++]=String.fromCharCode((o&15)<<12|(r&63)<<6|s&63)}}return t.join("")},Kl={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,t){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();let e=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let o=0;o<n.length;o+=3){let r=n[o],s=o+1<n.length,a=s?n[o+1]:0,c=o+2<n.length,u=c?n[o+2]:0,C=r>>2,v=(r&3)<<4|a>>4,P=(a&15)<<2|u>>6,w=u&63;c||(w=64,s||(P=64)),i.push(e[C],e[v],e[P],e[w])}return i.join("")},encodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(n):this.encodeByteArray(DA(n),t)},decodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(n):A$(this.decodeStringToByteArray(n,t))},decodeStringToByteArray(n,t){this.init_();let e=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let o=0;o<n.length;){let r=e[n.charAt(o++)],a=o<n.length?e[n.charAt(o)]:0;++o;let u=o<n.length?e[n.charAt(o)]:64;++o;let v=o<n.length?e[n.charAt(o)]:64;if(++o,r==null||a==null||u==null||v==null)throw new tP;let P=r<<2|a>>4;if(i.push(P),u!==64){let w=a<<4&240|u>>2;if(i.push(w),v!==64){let S=u<<6&192|v;i.push(S)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},tP=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},iP=function(n){let t=DA(n);return Kl.encodeByteArray(t,!0)},Cp=function(n){return iP(n).replace(/\./g,"")},Gl=function(n){try{return Kl.decodeString(n,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function kA(n){return AA(void 0,n)}function AA(n,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:let e=t;return new Date(e.getTime());case Object:n===void 0&&(n={});break;case Array:n=[];break;default:return t}for(let e in t)!t.hasOwnProperty(e)||!R$(e)||(n[e]=AA(n[e],t[e]));return n}function R$(n){return n!=="__proto__"}function RA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var N$=()=>RA().__FIREBASE_DEFAULTS__,L$=()=>{if(typeof process>"u"||typeof process.env>"u")return;let n=process.env.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},F$=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let t=n&&Gl(n[1]);return t&&JSON.parse(t)},oP=()=>{try{return IA()||N$()||L$()||F$()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},rP=n=>{var t,e;return(e=(t=oP())===null||t===void 0?void 0:t.emulatorHosts)===null||e===void 0?void 0:e[n]},h0=n=>{let t=rP(n);if(!t)return;let e=t.lastIndexOf(":");if(e<=0||e+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);let i=parseInt(t.substring(e+1),10);return t[0]==="["?[t.substring(1,e-1),i]:[t.substring(0,e),i]},sP=()=>{var n;return(n=oP())===null||n===void 0?void 0:n.config},aP=n=>{var t;return(t=oP())===null||t===void 0?void 0:t[`_${n}`]};var vo=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}wrapCallback(t){return(e,i)=>{e?this.reject(e):this.resolve(i),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(e):t(e,i))}}};function Pr(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}function Yl(n){return L(this,null,function*(){return(yield fetch(n,{credentials:"include"})).ok})}function m0(n,t){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let e={alg:"none",type:"JWT"},i=t||"demo-project",o=n.iat||0,r=n.sub||n.user_id;if(!r)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:o,exp:o+3600,auth_time:o,sub:r,user_id:r,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Cp(JSON.stringify(e)),Cp(JSON.stringify(s)),""].join(".")}var _p={};function z$(){let n={prod:[],emulator:[]};for(let t of Object.keys(_p))_p[t]?n.emulator.push(t):n.prod.push(t);return n}function B$(n){let t=document.getElementById(n),e=!1;return t||(t=document.createElement("div"),t.setAttribute("id",n),e=!0),{created:e,element:t}}var SA=!1;function Zl(n,t){if(typeof window>"u"||typeof document>"u"||!Pr(window.location.host)||_p[n]===t||_p[n]||SA)return;_p[n]=t;function e(P){return`__firebase__banner__${P}`}let i="__firebase__banner",r=z$().prod.length>0;function s(){let P=document.getElementById(i);P&&P.remove()}function a(P){P.style.display="flex",P.style.background="#7faaf0",P.style.position="fixed",P.style.bottom="5px",P.style.left="5px",P.style.padding=".5em",P.style.borderRadius="5px",P.style.alignItems="center"}function c(P,w){P.setAttribute("width","24"),P.setAttribute("id",w),P.setAttribute("height","24"),P.setAttribute("viewBox","0 0 24 24"),P.setAttribute("fill","none"),P.style.marginLeft="-6px"}function u(){let P=document.createElement("span");return P.style.cursor="pointer",P.style.marginLeft="16px",P.style.fontSize="24px",P.innerHTML=" &times;",P.onclick=()=>{SA=!0,s()},P}function C(P,w){P.setAttribute("id",w),P.innerText="Learn more",P.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",P.setAttribute("target","__blank"),P.style.paddingLeft="5px",P.style.textDecoration="underline"}function v(){let P=B$(i),w=e("text"),S=document.getElementById(w)||document.createElement("span"),F=e("learnmore"),N=document.getElementById(F)||document.createElement("a"),W=e("preprendIcon"),Ce=document.getElementById(W)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(P.created){let we=P.element;a(we),C(N,F);let Me=u();c(Ce,W),we.append(Ce,S,N,Me),document.body.appendChild(we)}r?(S.innerText="Preview backend disconnected.",Ce.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Ce.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,S.innerText="Preview backend running in this workspace."),S.setAttribute("id",w)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",v):v()}function ui(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function vp(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ui())}function NA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function LA(){let n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function _0(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function FA(){let n=ui();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function Or(){return eP.NODE_CLIENT===!0||eP.NODE_ADMIN===!0}function C0(){try{return typeof indexedDB=="object"}catch{return!1}}function zA(){return new Promise((n,t)=>{try{let e=!0,i="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(i);o.onsuccess=()=>{o.result.close(),e||self.indexedDB.deleteDatabase(i),n(!0)},o.onupgradeneeded=()=>{e=!1},o.onerror=()=>{var r;t(((r=o.error)===null||r===void 0?void 0:r.message)||"")}}catch(e){t(e)}})}var j$="FirebaseError",Xi=class n extends Error{constructor(t,e,i){super(e),this.code=t,this.customData=i,this.name=j$,Object.setPrototypeOf(this,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Go.prototype.create)}},Go=class{constructor(t,e,i){this.service=t,this.serviceName=e,this.errors=i}create(t,...e){let i=e[0]||{},o=`${this.service}/${t}`,r=this.errors[t],s=r?V$(r,i):"Error",a=`${this.serviceName}: ${s} (${o}).`;return new Xi(o,a,i)}};function V$(n,t){return n.replace(U$,(e,i)=>{let o=t[i];return o!=null?String(o):`<${i}?>`})}var U$=/\{\$([^}]+)}/g;function Ql(n){return JSON.parse(n)}function Pn(n){return JSON.stringify(n)}var BA=function(n){let t={},e={},i={},o="";try{let r=n.split(".");t=Ql(Gl(r[0])||""),e=Ql(Gl(r[1])||""),o=r[2],i=e.d||{},delete e.d}catch{}return{header:t,claims:e,data:i,signature:o}};var jA=function(n){let t=BA(n),e=t.claims;return!!e&&typeof e=="object"&&e.hasOwnProperty("iat")},VA=function(n){let t=BA(n).claims;return typeof t=="object"&&t.admin===!0};function Qo(n,t){return Object.prototype.hasOwnProperty.call(n,t)}function dc(n,t){if(Object.prototype.hasOwnProperty.call(n,t))return n[t]}function bp(n){for(let t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}function yp(n,t,e){let i={};for(let o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=t.call(e,n[o],o,n));return i}function wr(n,t){if(n===t)return!0;let e=Object.keys(n),i=Object.keys(t);for(let o of e){if(!i.includes(o))return!1;let r=n[o],s=t[o];if(TA(r)&&TA(s)){if(!wr(r,s))return!1}else if(r!==s)return!1}for(let o of i)if(!e.includes(o))return!1;return!0}function TA(n){return n!==null&&typeof n=="object"}function Zs(n){let t=[];for(let[e,i]of Object.entries(n))Array.isArray(i)?i.forEach(o=>{t.push(encodeURIComponent(e)+"="+encodeURIComponent(o))}):t.push(encodeURIComponent(e)+"="+encodeURIComponent(i));return t.length?"&"+t.join("&"):""}function Jl(n){let t={};return n.replace(/^\?/,"").split("&").forEach(i=>{if(i){let[o,r]=i.split("=");t[decodeURIComponent(o)]=decodeURIComponent(r)}}),t}function Xl(n){let t=n.indexOf("?");if(!t)return"";let e=n.indexOf("#",t);return n.substring(t,e>0?e:void 0)}var g0=class{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(t,e){e||(e=0);let i=this.W_;if(typeof t=="string")for(let v=0;v<16;v++)i[v]=t.charCodeAt(e)<<24|t.charCodeAt(e+1)<<16|t.charCodeAt(e+2)<<8|t.charCodeAt(e+3),e+=4;else for(let v=0;v<16;v++)i[v]=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3],e+=4;for(let v=16;v<80;v++){let P=i[v-3]^i[v-8]^i[v-14]^i[v-16];i[v]=(P<<1|P>>>31)&4294967295}let o=this.chain_[0],r=this.chain_[1],s=this.chain_[2],a=this.chain_[3],c=this.chain_[4],u,C;for(let v=0;v<80;v++){v<40?v<20?(u=a^r&(s^a),C=1518500249):(u=r^s^a,C=1859775393):v<60?(u=r&s|a&(r|s),C=2400959708):(u=r^s^a,C=3395469782);let P=(o<<5|o>>>27)+u+c+C+i[v]&4294967295;c=a,a=s,s=(r<<30|r>>>2)&4294967295,r=o,o=P}this.chain_[0]=this.chain_[0]+o&4294967295,this.chain_[1]=this.chain_[1]+r&4294967295,this.chain_[2]=this.chain_[2]+s&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+c&4294967295}update(t,e){if(t==null)return;e===void 0&&(e=t.length);let i=e-this.blockSize,o=0,r=this.buf_,s=this.inbuf_;for(;o<e;){if(s===0)for(;o<=i;)this.compress_(t,o),o+=this.blockSize;if(typeof t=="string"){for(;o<e;)if(r[s]=t.charCodeAt(o),++s,++o,s===this.blockSize){this.compress_(r),s=0;break}}else for(;o<e;)if(r[s]=t[o],++s,++o,s===this.blockSize){this.compress_(r),s=0;break}}this.inbuf_=s,this.total_+=e}digest(){let t=[],e=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let o=this.blockSize-1;o>=56;o--)this.buf_[o]=e&255,e/=256;this.compress_(this.buf_);let i=0;for(let o=0;o<5;o++)for(let r=24;r>=0;r-=8)t[i]=this.chain_[o]>>r&255,++i;return t}};function UA(n,t){let e=new nP(n,t);return e.subscribe.bind(e)}var nP=class{constructor(t,e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(()=>{t(this)}).catch(i=>{this.error(i)})}next(t){this.forEachObserver(e=>{e.next(t)})}error(t){this.forEachObserver(e=>{e.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,e,i){let o;if(t===void 0&&e===void 0&&i===void 0)throw new Error("Missing Observer.");$$(t,["next","error","complete"])?o=t:o={next:t,error:e,complete:i},o.next===void 0&&(o.next=XM),o.error===void 0&&(o.error=XM),o.complete===void 0&&(o.complete=XM);let r=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),r}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,t)}sendOne(t,e){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{e(this.observers[t])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function $$(n,t){if(typeof n!="object"||n===null)return!1;for(let e of t)if(e in n&&typeof n[e]=="function")return!0;return!1}function XM(){}function ed(n,t){return`${n} failed: ${t} argument `}var $A=function(n){let t=[],e=0;for(let i=0;i<n.length;i++){let o=n.charCodeAt(i);if(o>=55296&&o<=56319){let r=o-55296;i++,ee(i<n.length,"Surrogate pair missing trail surrogate.");let s=n.charCodeAt(i)-56320;o=65536+(r<<10)+s}o<128?t[e++]=o:o<2048?(t[e++]=o>>6|192,t[e++]=o&63|128):o<65536?(t[e++]=o>>12|224,t[e++]=o>>6&63|128,t[e++]=o&63|128):(t[e++]=o>>18|240,t[e++]=o>>12&63|128,t[e++]=o>>6&63|128,t[e++]=o&63|128)}return t},Mp=function(n){let t=0;for(let e=0;e<n.length;e++){let i=n.charCodeAt(e);i<128?t++:i<2048?t+=2:i>=55296&&i<=56319?(t+=4,e++):t+=3}return t};var B1e=14400*1e3;function nn(n){return n&&n._delegate?n._delegate:n}var Zn=class{constructor(t,e,i){this.name=t,this.instanceFactory=e,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}};var uc="[DEFAULT]";var v0=class{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){let e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){let i=new vo;if(this.instancesDeferred.set(e,i),this.isInitialized(e)||this.shouldAutoInitialize())try{let o=this.getOrInitializeService({instanceIdentifier:e});o&&i.resolve(o)}catch{}}return this.instancesDeferred.get(e).promise}getImmediate(t){var e;let i=this.normalizeInstanceIdentifier(t?.identifier),o=(e=t?.optional)!==null&&e!==void 0?e:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(r){if(o)return null;throw r}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(H$(t))try{this.getOrInitializeService({instanceIdentifier:uc})}catch{}for(let[e,i]of this.instancesDeferred.entries()){let o=this.normalizeInstanceIdentifier(e);try{let r=this.getOrInitializeService({instanceIdentifier:o});i.resolve(r)}catch{}}}}clearInstance(t=uc){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}delete(){return L(this,null,function*(){let t=Array.from(this.instances.values());yield Promise.all([...t.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...t.filter(e=>"_delete"in e).map(e=>e._delete())])})}isComponentSet(){return this.component!=null}isInitialized(t=uc){return this.instances.has(t)}getOptions(t=uc){return this.instancesOptions.get(t)||{}}initialize(t={}){let{options:e={}}=t,i=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let o=this.getOrInitializeService({instanceIdentifier:i,options:e});for(let[r,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(r);i===a&&s.resolve(o)}return o}onInit(t,e){var i;let o=this.normalizeInstanceIdentifier(e),r=(i=this.onInitCallbacks.get(o))!==null&&i!==void 0?i:new Set;r.add(t),this.onInitCallbacks.set(o,r);let s=this.instances.get(o);return s&&t(s,o),()=>{r.delete(t)}}invokeOnInitCallbacks(t,e){let i=this.onInitCallbacks.get(e);if(i)for(let o of i)try{o(t,e)}catch{}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:q$(t),options:e}),this.instances.set(t,i),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch{}return i||null}normalizeInstanceIdentifier(t=uc){return this.component?this.component.multipleInstances?t:uc:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function q$(n){return n===uc?void 0:n}function H$(n){return n.instantiationMode==="EAGER"}var Pp=class{constructor(t){this.name=t,this.providers=new Map}addComponent(t){let e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);let e=new v0(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}};var W$=[],St=(function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n})(St||{}),G$={debug:St.DEBUG,verbose:St.VERBOSE,info:St.INFO,warn:St.WARN,error:St.ERROR,silent:St.SILENT},Q$=St.INFO,K$={[St.DEBUG]:"log",[St.VERBOSE]:"log",[St.INFO]:"info",[St.WARN]:"warn",[St.ERROR]:"error"},Y$=(n,t,...e)=>{if(t<n.logLevel)return;let i=new Date().toISOString(),o=K$[t];if(o)console[o](`[${i}]  ${n.name}:`,...e);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)},xr=class{constructor(t){this.name=t,this._logLevel=Q$,this._logHandler=Y$,this._userLogHandler=null,W$.push(this)}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in St))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?G$[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,St.DEBUG,...t),this._logHandler(this,St.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,St.VERBOSE,...t),this._logHandler(this,St.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,St.INFO,...t),this._logHandler(this,St.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,St.WARN,...t),this._logHandler(this,St.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,St.ERROR,...t),this._logHandler(this,St.ERROR,...t)}};var Z$=(n,t)=>t.some(e=>n instanceof e),qA,HA;function J$(){return qA||(qA=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function X$(){return HA||(HA=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var WA=new WeakMap,lP=new WeakMap,GA=new WeakMap,cP=new WeakMap,uP=new WeakMap;function eq(n){let t=new Promise((e,i)=>{let o=()=>{n.removeEventListener("success",r),n.removeEventListener("error",s)},r=()=>{e(Er(n.result)),o()},s=()=>{i(n.error),o()};n.addEventListener("success",r),n.addEventListener("error",s)});return t.then(e=>{e instanceof IDBCursor&&WA.set(e,n)}).catch(()=>{}),uP.set(t,n),t}function tq(n){if(lP.has(n))return;let t=new Promise((e,i)=>{let o=()=>{n.removeEventListener("complete",r),n.removeEventListener("error",s),n.removeEventListener("abort",s)},r=()=>{e(),o()},s=()=>{i(n.error||new DOMException("AbortError","AbortError")),o()};n.addEventListener("complete",r),n.addEventListener("error",s),n.addEventListener("abort",s)});lP.set(n,t)}var dP={get(n,t,e){if(n instanceof IDBTransaction){if(t==="done")return lP.get(n);if(t==="objectStoreNames")return n.objectStoreNames||GA.get(n);if(t==="store")return e.objectStoreNames[1]?void 0:e.objectStore(e.objectStoreNames[0])}return Er(n[t])},set(n,t,e){return n[t]=e,!0},has(n,t){return n instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in n}};function QA(n){dP=n(dP)}function nq(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...e){let i=n.call(b0(this),t,...e);return GA.set(i,t.sort?t.sort():[t]),Er(i)}:X$().includes(n)?function(...t){return n.apply(b0(this),t),Er(WA.get(this))}:function(...t){return Er(n.apply(b0(this),t))}}function iq(n){return typeof n=="function"?nq(n):(n instanceof IDBTransaction&&tq(n),Z$(n,J$())?new Proxy(n,dP):n)}function Er(n){if(n instanceof IDBRequest)return eq(n);if(cP.has(n))return cP.get(n);let t=iq(n);return t!==n&&(cP.set(n,t),uP.set(t,n)),t}var b0=n=>uP.get(n);function YA(n,t,{blocked:e,upgrade:i,blocking:o,terminated:r}={}){let s=indexedDB.open(n,t),a=Er(s);return i&&s.addEventListener("upgradeneeded",c=>{i(Er(s.result),c.oldVersion,c.newVersion,Er(s.transaction),c)}),e&&s.addEventListener("blocked",c=>e(c.oldVersion,c.newVersion,c)),a.then(c=>{r&&c.addEventListener("close",()=>r()),o&&c.addEventListener("versionchange",u=>o(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}var oq=["get","getKey","getAll","getAllKeys","count"],rq=["put","add","delete","clear"],pP=new Map;function KA(n,t){if(!(n instanceof IDBDatabase&&!(t in n)&&typeof t=="string"))return;if(pP.get(t))return pP.get(t);let e=t.replace(/FromIndex$/,""),i=t!==e,o=rq.includes(e);if(!(e in(i?IDBIndex:IDBObjectStore).prototype)||!(o||oq.includes(e)))return;let r=function(s,...a){return L(this,null,function*(){let c=this.transaction(s,o?"readwrite":"readonly"),u=c.store;return i&&(u=u.index(a.shift())),(yield Promise.all([u[e](...a),o&&c.done]))[0]})};return pP.set(t,r),r}QA(n=>ae(j({},n),{get:(t,e,i)=>KA(t,e)||n.get(t,e,i),has:(t,e)=>!!KA(t,e)||n.has(t,e)}));var gP=class{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(sq(e)){let i=e.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(e=>e).join(" ")}};function sq(n){let t=n.getComponent();return t?.type==="VERSION"}var hP="@firebase/app",ZA="0.13.2";var us=new xr("@firebase/app"),aq="@firebase/app-compat",cq="@firebase/analytics-compat",lq="@firebase/analytics",dq="@firebase/app-check-compat",uq="@firebase/app-check",pq="@firebase/auth",fq="@firebase/auth-compat",gq="@firebase/database",hq="@firebase/data-connect",mq="@firebase/database-compat",_q="@firebase/functions",Cq="@firebase/functions-compat",vq="@firebase/installations",bq="@firebase/installations-compat",yq="@firebase/messaging",Mq="@firebase/messaging-compat",Pq="@firebase/performance",Oq="@firebase/performance-compat",wq="@firebase/remote-config",xq="@firebase/remote-config-compat",Eq="@firebase/storage",Iq="@firebase/storage-compat",Sq="@firebase/firestore",Tq="@firebase/ai",Dq="@firebase/firestore-compat",kq="firebase",Aq="11.10.0";var mP="[DEFAULT]",Rq={[hP]:"fire-core",[aq]:"fire-core-compat",[lq]:"fire-analytics",[cq]:"fire-analytics-compat",[uq]:"fire-app-check",[dq]:"fire-app-check-compat",[pq]:"fire-auth",[fq]:"fire-auth-compat",[gq]:"fire-rtdb",[hq]:"fire-data-connect",[mq]:"fire-rtdb-compat",[_q]:"fire-fn",[Cq]:"fire-fn-compat",[vq]:"fire-iid",[bq]:"fire-iid-compat",[yq]:"fire-fcm",[Mq]:"fire-fcm-compat",[Pq]:"fire-perf",[Oq]:"fire-perf-compat",[wq]:"fire-rc",[xq]:"fire-rc-compat",[Eq]:"fire-gcs",[Iq]:"fire-gcs-compat",[Sq]:"fire-fst",[Dq]:"fire-fst-compat",[Tq]:"fire-vertex","fire-js":"fire-js",[kq]:"fire-js-all"};var Op=new Map,Nq=new Map,_P=new Map;function JA(n,t){try{n.container.addComponent(t)}catch(e){us.debug(`Component ${t.name} failed to register with FirebaseApp ${n.name}`,e)}}function eo(n){let t=n.name;if(_P.has(t))return us.debug(`There were multiple attempts to register component ${t}.`),!1;_P.set(t,n);for(let e of Op.values())JA(e,n);for(let e of Nq.values())JA(e,n);return!0}function Xs(n,t){let e=n.container.getProvider("heartbeat").getImmediate({optional:!0});return e&&e.triggerHeartbeat(),n.container.getProvider(t)}function Jn(n){return n==null?!1:n.settings!==void 0}var Lq={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Js=new Go("app","Firebase",Lq);var CP=class{constructor(t,e,i){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},e),this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Zn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Js.create("app-deleted",{appName:this._name})}};var Ir=Aq;function yP(n,t={}){let e=n;typeof t!="object"&&(t={name:t});let i=Object.assign({name:mP,automaticDataCollectionEnabled:!0},t),o=i.name;if(typeof o!="string"||!o)throw Js.create("bad-app-name",{appName:String(o)});if(e||(e=sP()),!e)throw Js.create("no-options");let r=Op.get(o);if(r){if(wr(e,r.options)&&wr(i,r.config))return r;throw Js.create("duplicate-app",{appName:o})}let s=new Pp(o);for(let c of _P.values())s.addComponent(c);let a=new CP(e,i,s);return Op.set(o,a),a}function ps(n=mP){let t=Op.get(n);if(!t&&n===mP&&sP())return yP();if(!t)throw Js.create("no-app",{appName:n});return t}function y0(){return Array.from(Op.values())}function Nt(n,t,e){var i;let o=(i=Rq[n])!==null&&i!==void 0?i:n;e&&(o+=`-${e}`);let r=o.match(/\s|\//),s=t.match(/\s|\//);if(r||s){let a=[`Unable to register library "${o}" with version "${t}":`];r&&a.push(`library name "${o}" contains illegal characters (whitespace or "/")`),r&&s&&a.push("and"),s&&a.push(`version name "${t}" contains illegal characters (whitespace or "/")`),us.warn(a.join(" "));return}eo(new Zn(`${o}-version`,()=>({library:o,version:t}),"VERSION"))}var Fq="firebase-heartbeat-database",zq=1,wp="firebase-heartbeat-store",fP=null;function n3(){return fP||(fP=YA(Fq,zq,{upgrade:(n,t)=>{switch(t){case 0:try{n.createObjectStore(wp)}catch(e){console.warn(e)}}}}).catch(n=>{throw Js.create("idb-open",{originalErrorMessage:n.message})})),fP}function Bq(n){return L(this,null,function*(){try{let e=(yield n3()).transaction(wp),i=yield e.objectStore(wp).get(i3(n));return yield e.done,i}catch(t){if(t instanceof Xi)us.warn(t.message);else{let e=Js.create("idb-get",{originalErrorMessage:t?.message});us.warn(e.message)}}})}function XA(n,t){return L(this,null,function*(){try{let i=(yield n3()).transaction(wp,"readwrite");yield i.objectStore(wp).put(t,i3(n)),yield i.done}catch(e){if(e instanceof Xi)us.warn(e.message);else{let i=Js.create("idb-set",{originalErrorMessage:e?.message});us.warn(i.message)}}})}function i3(n){return`${n.name}!${n.options.appId}`}var jq=1024,Vq=30,vP=class{constructor(t){this.container=t,this._heartbeatsCache=null;let e=this.container.getProvider("app").getImmediate();this._storage=new bP(e),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}triggerHeartbeat(){return L(this,null,function*(){var t,e;try{let o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=e3();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(s=>s.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:o}),this._heartbeatsCache.heartbeats.length>Vq){let s=$q(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){us.warn(i)}})}getHeartbeatsHeader(){return L(this,null,function*(){var t;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let e=e3(),{heartbeatsToSend:i,unsentEntries:o}=Uq(this._heartbeatsCache.heartbeats),r=Cp(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,o.length>0?(this._heartbeatsCache.heartbeats=o,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}catch(e){return us.warn(e),""}})}};function e3(){return new Date().toISOString().substring(0,10)}function Uq(n,t=jq){let e=[],i=n.slice();for(let o of n){let r=e.find(s=>s.agent===o.agent);if(r){if(r.dates.push(o.date),t3(e)>t){r.dates.pop();break}}else if(e.push({agent:o.agent,dates:[o.date]}),t3(e)>t){e.pop();break}i=i.slice(1)}return{heartbeatsToSend:e,unsentEntries:i}}var bP=class{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return L(this,null,function*(){return C0()?zA().then(()=>!0).catch(()=>!1):!1})}read(){return L(this,null,function*(){if(yield this._canUseIndexedDBPromise){let e=yield Bq(this.app);return e?.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(t){return L(this,null,function*(){var e;if(yield this._canUseIndexedDBPromise){let o=yield this.read();return XA(this.app,{lastSentHeartbeatDate:(e=t.lastSentHeartbeatDate)!==null&&e!==void 0?e:o.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return})}add(t){return L(this,null,function*(){var e;if(yield this._canUseIndexedDBPromise){let o=yield this.read();return XA(this.app,{lastSentHeartbeatDate:(e=t.lastSentHeartbeatDate)!==null&&e!==void 0?e:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...t.heartbeats]})}else return})}};function t3(n){return Cp(JSON.stringify({version:2,heartbeats:n})).length}function $q(n){if(n.length===0)return-1;let t=0,e=n[0].date;for(let i=1;i<n.length;i++)n[i].date<e&&(e=n[i].date,t=i);return t}function qq(n){eo(new Zn("platform-logger",t=>new gP(t),"PRIVATE")),eo(new Zn("heartbeat",t=>new vP(t),"PRIVATE")),Nt(hP,ZA,n),Nt(hP,ZA,"esm2017"),Nt("fire-js","")}qq("");var Hq="firebase",Wq="11.10.0";Nt(Hq,Wq,"app");function o3(n){n===void 0&&(n=U(ze));let t=n.get(Zr);return e=>new ve(i=>{let o=t.add(),r=!1;function s(){r||(o(),r=!0)}let a=e.subscribe({next:c=>{i.next(c),s()},complete:()=>{i.complete(),s()},error:c=>{i.error(c),s()}});return a.add(()=>{i.unsubscribe(),s()}),a})}var Sr=new Hr("ANGULARFIRE2_VERSION");function fc(n,t,e){if(t){if(t.length===1)return t[0];let r=t.filter(s=>s.app===e);if(r.length===1)return r[0]}return e.container.getProvider(n).getImmediate({optional:!0})}var ea=(n,t)=>{let e=t?[t]:y0(),i=[];return e.forEach(o=>{o.container.getProvider(n).instances.forEach(s=>{i.includes(s)||i.push(s)})}),i},td=(function(n){return n[n.SILENT=0]="SILENT",n[n.WARN=1]="WARN",n[n.VERBOSE=2]="VERBOSE",n})(td||{}),r3=_1()&&typeof Zone<"u"?td.WARN:td.SILENT;var M0=class{zone;delegate;constructor(t,e=pv){this.zone=t,this.delegate=e}now(){return this.delegate.now()}schedule(t,e,i){let o=this.zone,r=function(s){o?o.runGuarded(()=>{t.apply(this,[s])}):t.apply(this,[s])};return this.delegate.schedule(r,e,i)}},Tr=(()=>{class n{outsideAngular;insideAngular;constructor(){let e=U(rt);this.outsideAngular=e.runOutsideAngular(()=>new M0(typeof Zone>"u"?void 0:Zone.current)),this.insideAngular=e.run(()=>new M0(typeof Zone>"u"?void 0:Zone.current,uv))}static \u0275fac=function(i){return new(i||n)};static \u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),s3=!1;function Gq(n,t){!s3&&(r3>td.SILENT||_1())&&(s3=!0,console.warn("Calling Firebase APIs outside of an Injection context may destabilize your application leading to subtle change-detection and hydration bugs. Find more at https://github.com/angular/angularfire/blob/main/docs/zones.md")),r3>=t&&console.warn(`Firebase API called outside injection context: ${n.name}`)}function Qq(n){let t=U(rt,{optional:!0});return t?t.runOutsideAngular(()=>n()):n()}function pc(n){let t=U(rt,{optional:!0});return t?t.run(()=>n()):n()}var Kq=(n,t,e)=>(...i)=>(t&&setTimeout(t,0),Y(e,()=>pc(()=>n.apply(void 0,i)))),Ht=(n,t,e)=>(e||=t?td.WARN:td.VERBOSE,function(){let i,o=arguments,r,s,a;try{r=U(Tr),s=U(Zr),a=U(Qt)}catch{return Gq(n,e),n.apply(this,o)}for(let u=0;u<arguments.length;u++)typeof o[u]=="function"&&(t&&(i||=pc(()=>s.add())),o[u]=Kq(o[u],i,a));let c=Qq(()=>n.apply(this,o));return t?c instanceof ve?c.pipe(Es(r.outsideAngular),xs(r.insideAngular),o3(a)):c instanceof Promise?pc(()=>{let u=s.add();return new Promise((C,v)=>{c.then(P=>Y(a,()=>pc(()=>C(P))),P=>Y(a,()=>pc(()=>v(P)))).finally(u)})}):typeof c=="function"&&i?function(){return setTimeout(i,0),c.apply(this,arguments)}:pc(()=>c):c instanceof ve?c.pipe(Es(r.outsideAngular),xs(r.insideAngular)):pc(()=>c)});var Ko=class{constructor(t){return t}},fs=class{constructor(){return y0()}};function Yq(n){return n&&n.length===1?n[0]:new Ko(ps())}var MP=new oe("angularfire2._apps"),Zq={provide:Ko,useFactory:Yq,deps:[[new Dn,MP]]},Jq={provide:fs,deps:[[new Dn,MP]]};function Xq(n){return(t,e)=>{let i=e.get(Ga);Nt("angularfire",Sr.full,"core"),Nt("angularfire",Sr.full,"app"),Nt("angular",Sv.full,i.toString());let o=t.runOutsideAngular(()=>n(e));return new Ko(o)}}function a3(n,...t){return Wn([Zq,Jq,{provide:MP,useFactory:Xq(n),multi:!0,deps:[rt,ze,Tr,...t]}])}var c3=Ht(yP,!0);var eH=new Map,tH={activated:!1,tokenObservers:[]},nH={initialized:!1,enabled:!1};function Yo(n){return eH.get(n)||Object.assign({},tH)}function p3(){return nH}var iH="https://content-firebaseappcheck.googleapis.com/v1";var oH="exchangeDebugToken",l3={OFFSET_DURATION:300*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:960*1e3},VMe=1440*60*1e3;var wP=class{constructor(t,e,i,o,r){if(this.operation=t,this.retryPolicy=e,this.getWaitDuration=i,this.lowerBound=o,this.upperBound=r,this.pending=null,this.nextErrorWaitInterval=o,o>r)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(t){return L(this,null,function*(){this.stop();try{this.pending=new vo,this.pending.promise.catch(e=>{}),yield rH(this.getNextRun(t)),this.pending.resolve(),yield this.pending.promise,this.pending=new vo,this.pending.promise.catch(e=>{}),yield this.operation(),this.pending.resolve(),yield this.pending.promise,this.process(!0).catch(()=>{})}catch(e){this.retryPolicy(e)?this.process(!1).catch(()=>{}):this.stop()}})}getNextRun(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let e=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),e}}};function rH(n){return new Promise(t=>{setTimeout(t,n)})}var sH={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.","initial-throttle":"{$httpStatus} error. Attempts allowed again after {$time}",throttled:"Requests throttled due to previous {$httpStatus} error. Attempts allowed again after {$time}"},ta=new Go("appCheck","AppCheck",sH);function f3(n){if(!Yo(n).activated)throw ta.create("use-before-activation",{appName:n.name})}function g3(i,o){return L(this,arguments,function*({url:n,body:t},e){let r={"Content-Type":"application/json"},s=e.getImmediate({optional:!0});if(s){let w=yield s.getHeartbeatsHeader();w&&(r["X-Firebase-Client"]=w)}let a={method:"POST",body:JSON.stringify(t),headers:r},c;try{c=yield fetch(n,a)}catch(w){throw ta.create("fetch-network-error",{originalErrorMessage:w?.message})}if(c.status!==200)throw ta.create("fetch-status-error",{httpStatus:c.status});let u;try{u=yield c.json()}catch(w){throw ta.create("fetch-parse-error",{originalErrorMessage:w?.message})}let C=u.ttl.match(/^([\d.]+)(s)$/);if(!C||!C[2]||isNaN(Number(C[1])))throw ta.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${u.ttl}`});let v=Number(C[1])*1e3,P=Date.now();return{token:u.token,expireTimeMillis:P+v,issuedAtTimeMillis:P}})}function h3(n,t){let{projectId:e,appId:i,apiKey:o}=n.options;return{url:`${iH}/projects/${e}/apps/${i}:${oH}?key=${o}`,body:{debug_token:t}}}var aH="firebase-app-check-database",cH=1,xP="firebase-app-check-store";var P0=null;function lH(){return P0||(P0=new Promise((n,t)=>{try{let e=indexedDB.open(aH,cH);e.onsuccess=i=>{n(i.target.result)},e.onerror=i=>{var o;t(ta.create("storage-open",{originalErrorMessage:(o=i.target.error)===null||o===void 0?void 0:o.message}))},e.onupgradeneeded=i=>{let o=i.target.result;switch(i.oldVersion){case 0:o.createObjectStore(xP,{keyPath:"compositeKey"})}}}catch(e){t(ta.create("storage-open",{originalErrorMessage:e?.message}))}}),P0)}function dH(n,t){return uH(pH(n),t)}function uH(n,t){return L(this,null,function*(){let i=(yield lH()).transaction(xP,"readwrite"),r=i.objectStore(xP).put({compositeKey:n,value:t});return new Promise((s,a)=>{r.onsuccess=c=>{s()},i.onerror=c=>{var u;a(ta.create("storage-set",{originalErrorMessage:(u=c.target.error)===null||u===void 0?void 0:u.message}))}})})}function pH(n){return`${n.options.appId}-${n.name}`}var xp=new xr("@firebase/app-check");function PP(n,t){return C0()?dH(n,t).catch(e=>{xp.warn(`Failed to write token to IndexedDB. Error: ${e}`)}):Promise.resolve()}function m3(){return p3().enabled}function _3(){return L(this,null,function*(){let n=p3();if(n.enabled&&n.token)return n.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)})}var fH={error:"UNKNOWN_ERROR"};function gH(n){return Kl.encodeString(JSON.stringify(n),!1)}function EP(n,t=!1,e=!1){return L(this,null,function*(){let i=n.app;f3(i);let o=Yo(i),r=o.token,s;if(r&&!Ep(r)&&(o.token=void 0,r=void 0),!r){let u=yield o.cachedTokenPromise;u&&(Ep(u)?r=u:yield PP(i,void 0))}if(!t&&r&&Ep(r))return{token:r.token};let a=!1;if(m3())try{o.exchangeTokenPromise||(o.exchangeTokenPromise=g3(h3(i,yield _3()),n.heartbeatServiceProvider).finally(()=>{o.exchangeTokenPromise=void 0}),a=!0);let u=yield o.exchangeTokenPromise;return yield PP(i,u),o.token=u,{token:u.token}}catch(u){return u.code==="appCheck/throttled"||u.code==="appCheck/initial-throttle"?xp.warn(u.message):e&&xp.error(u),OP(u)}try{o.exchangeTokenPromise||(o.exchangeTokenPromise=o.provider.getToken().finally(()=>{o.exchangeTokenPromise=void 0}),a=!0),r=yield Yo(i).exchangeTokenPromise}catch(u){u.code==="appCheck/throttled"||u.code==="appCheck/initial-throttle"?xp.warn(u.message):e&&xp.error(u),s=u}let c;return r?s?Ep(r)?c={token:r.token,internalError:s}:c=OP(s):(c={token:r.token},o.token=r,yield PP(i,r)):c=OP(s),a&&CH(i,c),c})}function hH(n){return L(this,null,function*(){let t=n.app;f3(t);let{provider:e}=Yo(t);if(m3()){let i=yield _3(),{token:o}=yield g3(h3(t,i),n.heartbeatServiceProvider);return{token:o}}else{let{token:i}=yield e.getToken();return{token:i}}})}function mH(n,t,e,i){let{app:o}=n,r=Yo(o),s={next:e,error:i,type:t};if(r.tokenObservers=[...r.tokenObservers,s],r.token&&Ep(r.token)){let a=r.token;Promise.resolve().then(()=>{e({token:a.token}),d3(n)}).catch(()=>{})}r.cachedTokenPromise.then(()=>d3(n))}function C3(n,t){let e=Yo(n),i=e.tokenObservers.filter(o=>o.next!==t);i.length===0&&e.tokenRefresher&&e.tokenRefresher.isRunning()&&e.tokenRefresher.stop(),e.tokenObservers=i}function d3(n){let{app:t}=n,e=Yo(t),i=e.tokenRefresher;i||(i=_H(n),e.tokenRefresher=i),!i.isRunning()&&e.isTokenAutoRefreshEnabled&&i.start()}function _H(n){let{app:t}=n;return new wP(()=>L(null,null,function*(){let e=Yo(t),i;if(e.token?i=yield EP(n,!0):i=yield EP(n),i.error)throw i.error;if(i.internalError)throw i.internalError}),()=>!0,()=>{let e=Yo(t);if(e.token){let i=e.token.issuedAtTimeMillis+(e.token.expireTimeMillis-e.token.issuedAtTimeMillis)*.5+3e5,o=e.token.expireTimeMillis-300*1e3;return i=Math.min(i,o),Math.max(0,i-Date.now())}else return 0},l3.RETRIAL_MIN_WAIT,l3.RETRIAL_MAX_WAIT)}function CH(n,t){let e=Yo(n).tokenObservers;for(let i of e)try{i.type==="EXTERNAL"&&t.error!=null?i.error(t.error):i.next(t)}catch{}}function Ep(n){return n.expireTimeMillis-Date.now()>0}function OP(n){return{token:gH(fH),error:n}}var IP=class{constructor(t,e){this.app=t,this.heartbeatServiceProvider=e}_delete(){let{tokenObservers:t}=Yo(this.app);for(let e of t)C3(this.app,e.next);return Promise.resolve()}};function vH(n,t){return new IP(n,t)}function bH(n){return{getToken:t=>EP(n,t),getLimitedUseToken:()=>hH(n),addTokenListener:t=>mH(n,"INTERNAL",t),removeTokenListener:t=>C3(n.app,t)}}var yH="@firebase/app-check",MH="0.10.1";var PH="app-check",u3="app-check-internal";function OH(){eo(new Zn(PH,n=>{let t=n.getProvider("app").getImmediate(),e=n.getProvider("heartbeat");return vH(t,e)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,t,e)=>{n.getProvider(u3).initialize()})),eo(new Zn(u3,n=>{let t=n.getProvider("app-check").getImmediate();return bH(t)},"PUBLIC").setInstantiationMode("EXPLICIT")),Nt(yH,MH)}OH();var wH="app-check";var na=class{constructor(){return ea(wH)}};var xH=["localhost","0.0.0.0","127.0.0.1"],ePe=typeof window<"u"&&xH.includes(window.location.hostname);function R3(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var N3=R3,L3=new Go("auth","Firebase",R3());var S0=new xr("@firebase/auth");function EH(n,...t){S0.logLevel<=St.WARN&&S0.warn(`Auth (${Ir}): ${n}`,...t)}function w0(n,...t){S0.logLevel<=St.ERROR&&S0.error(`Auth (${Ir}): ${n}`,...t)}function bo(n,...t){throw ZP(n,...t)}function Zo(n,...t){return ZP(n,...t)}function YP(n,t,e){let i=Object.assign(Object.assign({},N3()),{[t]:e});return new Go("auth","Firebase",i).create(t,{appName:n.name})}function ms(n){return YP(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function IH(n,t,e){let i=e;if(!(t instanceof i))throw i.name!==t.constructor.name&&bo(n,"argument-error"),YP(n,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function ZP(n,...t){if(typeof n!="string"){let e=t[0],i=[...t.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(e,...i)}return L3.create(n,...t)}function Te(n,t,...e){if(!n)throw ZP(t,...e)}function gs(n){let t="INTERNAL ASSERTION FAILED: "+n;throw w0(t),new Error(t)}function _s(n,t){n||gs(t)}function DP(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function SH(){return v3()==="http:"||v3()==="https:"}function v3(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}function TH(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(SH()||LA()||"connection"in navigator)?navigator.onLine:!0}function DH(){if(typeof navigator>"u")return null;let n=navigator;return n.languages&&n.languages[0]||n.language||null}var gc=class{constructor(t,e){this.shortDelay=t,this.longDelay=e,_s(e>t,"Short delay should be less than long delay!"),this.isMobile=vp()||_0()}get(){return TH()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function JP(n,t){_s(n.emulator,"Emulator should always be set here");let{url:e}=n.emulator;return t?`${e}${t.startsWith("/")?t.slice(1):t}`:e}var T0=class{static initialize(t,e,i){this.fetchImpl=t,e&&(this.headersImpl=e),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;gs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;gs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;gs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var kH={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var AH=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],RH=new gc(3e4,6e4);function ra(n,t){return n.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:n.tenantId}):t}function sa(r,s,a,c){return L(this,arguments,function*(n,t,e,i,o={}){return F3(n,o,()=>L(null,null,function*(){let u={},C={};i&&(t==="GET"?C=i:u={body:JSON.stringify(i)});let v=Zs(Object.assign({key:n.config.apiKey},C)).slice(1),P=yield n._getAdditionalHeaders();P["Content-Type"]="application/json",n.languageCode&&(P["X-Firebase-Locale"]=n.languageCode);let w=Object.assign({method:t,headers:P},u);return NA()||(w.referrerPolicy="no-referrer"),n.emulatorConfig&&Pr(n.emulatorConfig.host)&&(w.credentials="include"),T0.fetch()(yield z3(n,n.config.apiHost,e,v),w)}))})}function F3(n,t,e){return L(this,null,function*(){n._canInitEmulator=!1;let i=Object.assign(Object.assign({},kH),t);try{let o=new kP(n),r=yield Promise.race([e(),o.promise]);o.clearNetworkTimeout();let s=yield r.json();if("needConfirmation"in s)throw O0(n,"account-exists-with-different-credential",s);if(r.ok&&!("errorMessage"in s))return s;{let a=r.ok?s.errorMessage:s.error.message,[c,u]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw O0(n,"credential-already-in-use",s);if(c==="EMAIL_EXISTS")throw O0(n,"email-already-in-use",s);if(c==="USER_DISABLED")throw O0(n,"user-disabled",s);let C=i[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw YP(n,C,u);bo(n,C)}}catch(o){if(o instanceof Xi)throw o;bo(n,"network-request-failed",{message:String(o)})}})}function Lp(r,s,a,c){return L(this,arguments,function*(n,t,e,i,o={}){let u=yield sa(n,t,e,i,o);return"mfaPendingCredential"in u&&bo(n,"multi-factor-auth-required",{_serverResponse:u}),u})}function z3(n,t,e,i){return L(this,null,function*(){let o=`${t}${e}?${i}`,r=n,s=r.config.emulator?JP(n.config,o):`${n.config.apiScheme}://${o}`;return AH.includes(e)&&(yield r._persistenceManagerAvailable,r._getPersistenceType()==="COOKIE")?r._getPersistence()._getFinalTarget(s).toString():s})}function NH(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var kP=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((e,i)=>{this.timer=setTimeout(()=>i(Zo(this.auth,"network-request-failed")),RH.get())})}};function O0(n,t,e){let i={appName:n.name};e.email&&(i.email=e.email),e.phoneNumber&&(i.phoneNumber=e.phoneNumber);let o=Zo(n,t,i);return o.customData._tokenResponse=e,o}function b3(n){return n!==void 0&&n.enterprise!==void 0}var AP=class{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let e of this.recaptchaEnforcementState)if(e.provider&&e.provider===t)return NH(e.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}};function LH(n,t){return L(this,null,function*(){return sa(n,"GET","/v2/recaptchaConfig",ra(n,t))})}function FH(n,t){return L(this,null,function*(){return sa(n,"POST","/v1/accounts:delete",t)})}function D0(n,t){return L(this,null,function*(){return sa(n,"POST","/v1/accounts:lookup",t)})}function Sp(n){if(n)try{let t=new Date(Number(n));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}function XP(n,t=!1){return L(this,null,function*(){let e=nn(n),i=yield e.getIdToken(t),o=eO(i);Te(o&&o.exp&&o.auth_time&&o.iat,e.auth,"internal-error");let r=typeof o.firebase=="object"?o.firebase:void 0,s=r?.sign_in_provider;return{claims:o,token:i,authTime:Sp(SP(o.auth_time)),issuedAtTime:Sp(SP(o.iat)),expirationTime:Sp(SP(o.exp)),signInProvider:s||null,signInSecondFactor:r?.sign_in_second_factor||null}})}function SP(n){return Number(n)*1e3}function eO(n){let[t,e,i]=n.split(".");if(t===void 0||e===void 0||i===void 0)return w0("JWT malformed, contained fewer than 3 sections"),null;try{let o=Gl(e);return o?JSON.parse(o):(w0("Failed to decode base64 JWT payload"),null)}catch(o){return w0("Caught error parsing JWT payload as JSON",o?.toString()),null}}function y3(n){let t=eO(n);return Te(t,"internal-error"),Te(typeof t.exp<"u","internal-error"),Te(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}function Dp(n,t,e=!1){return L(this,null,function*(){if(e)return t;try{return yield t}catch(i){throw i instanceof Xi&&zH(i)&&n.auth.currentUser===n&&(yield n.auth.signOut()),i}})}function zH({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}var RP=class{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var e;if(t){let i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;let o=((e=this.user.stsTokenManager.expirationTime)!==null&&e!==void 0?e:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(t=!1){if(!this.isRunning)return;let e=this.getInterval(t);this.timerId=setTimeout(()=>L(this,null,function*(){yield this.iteration()}),e)}iteration(){return L(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var kp=class{constructor(t,e){this.createdAt=t,this.lastLoginAt=e,this._initializeTime()}_initializeTime(){this.lastSignInTime=Sp(this.lastLoginAt),this.creationTime=Sp(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function k0(n){return L(this,null,function*(){var t;let e=n.auth,i=yield n.getIdToken(),o=yield Dp(n,D0(e,{idToken:i}));Te(o?.users.length,e,"internal-error");let r=o.users[0];n._notifyReloadListener(r);let s=!((t=r.providerUserInfo)===null||t===void 0)&&t.length?B3(r.providerUserInfo):[],a=BH(n.providerData,s),c=n.isAnonymous,u=!(n.email&&r.passwordHash)&&!a?.length,C=c?u:!1,v={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:a,metadata:new kp(r.createdAt,r.lastLoginAt),isAnonymous:C};Object.assign(n,v)})}function tO(n){return L(this,null,function*(){let t=nn(n);yield k0(t),yield t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)})}function BH(n,t){return[...n.filter(i=>!t.some(o=>o.providerId===i.providerId)),...t]}function B3(n){return n.map(t=>{var{providerId:e}=t,i=cg(t,["providerId"]);return{providerId:e,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}function jH(n,t){return L(this,null,function*(){let e=yield F3(n,{},()=>L(null,null,function*(){let i=Zs({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:o,apiKey:r}=n.config,s=yield z3(n,o,"/v1/token",`key=${r}`),a=yield n._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";let c={method:"POST",headers:a,body:i};return n.emulatorConfig&&Pr(n.emulatorConfig.host)&&(c.credentials="include"),T0.fetch()(s,c)}));return{accessToken:e.access_token,expiresIn:e.expires_in,refreshToken:e.refresh_token}})}function VH(n,t){return L(this,null,function*(){return sa(n,"POST","/v2/accounts:revokeToken",ra(n,t))})}var Tp=class n{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Te(t.idToken,"internal-error"),Te(typeof t.idToken<"u","internal-error"),Te(typeof t.refreshToken<"u","internal-error");let e="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):y3(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,e)}updateFromIdToken(t){Te(t.length!==0,"internal-error");let e=y3(t);this.updateTokensAndExpiration(t,null,e)}getToken(t,e=!1){return L(this,null,function*(){return!e&&this.accessToken&&!this.isExpired?this.accessToken:(Te(this.refreshToken,t,"user-token-expired"),this.refreshToken?(yield this.refresh(t,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(t,e){return L(this,null,function*(){let{accessToken:i,refreshToken:o,expiresIn:r}=yield jH(t,e);this.updateTokensAndExpiration(i,o,Number(r))})}updateTokensAndExpiration(t,e,i){this.refreshToken=e||null,this.accessToken=t||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(t,e){let{refreshToken:i,accessToken:o,expirationTime:r}=e,s=new n;return i&&(Te(typeof i=="string","internal-error",{appName:t}),s.refreshToken=i),o&&(Te(typeof o=="string","internal-error",{appName:t}),s.accessToken=o),r&&(Te(typeof r=="number","internal-error",{appName:t}),s.expirationTime=r),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new n,this.toJSON())}_performRefresh(){return gs("not implemented")}};function ia(n,t){Te(typeof n=="string"||typeof n>"u","internal-error",{appName:t})}var oa=class n{constructor(t){var{uid:e,auth:i,stsTokenManager:o}=t,r=cg(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new RP(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=i,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=r.displayName||null,this.email=r.email||null,this.emailVerified=r.emailVerified||!1,this.phoneNumber=r.phoneNumber||null,this.photoURL=r.photoURL||null,this.isAnonymous=r.isAnonymous||!1,this.tenantId=r.tenantId||null,this.providerData=r.providerData?[...r.providerData]:[],this.metadata=new kp(r.createdAt||void 0,r.lastLoginAt||void 0)}getIdToken(t){return L(this,null,function*(){let e=yield Dp(this,this.stsTokenManager.getToken(this.auth,t));return Te(e,this.auth,"internal-error"),this.accessToken!==e&&(this.accessToken=e,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),e})}getIdTokenResult(t){return XP(this,t)}reload(){return tO(this)}_assign(t){this!==t&&(Te(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(e=>Object.assign({},e)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){let e=new n(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return e.metadata._copy(this.metadata),e}_onReload(t){Te(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(t,e=!1){return L(this,null,function*(){let i=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),i=!0),e&&(yield k0(this)),yield this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)})}delete(){return L(this,null,function*(){if(Jn(this.auth.app))return Promise.reject(ms(this.auth));let t=yield this.getIdToken();return yield Dp(this,FH(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,e){var i,o,r,s,a,c,u,C;let v=(i=e.displayName)!==null&&i!==void 0?i:void 0,P=(o=e.email)!==null&&o!==void 0?o:void 0,w=(r=e.phoneNumber)!==null&&r!==void 0?r:void 0,S=(s=e.photoURL)!==null&&s!==void 0?s:void 0,F=(a=e.tenantId)!==null&&a!==void 0?a:void 0,N=(c=e._redirectEventId)!==null&&c!==void 0?c:void 0,W=(u=e.createdAt)!==null&&u!==void 0?u:void 0,Ce=(C=e.lastLoginAt)!==null&&C!==void 0?C:void 0,{uid:we,emailVerified:Me,isAnonymous:mt,providerData:lt,stsTokenManager:Ot}=e;Te(we&&Ot,t,"internal-error");let Lt=Tp.fromJSON(this.name,Ot);Te(typeof we=="string",t,"internal-error"),ia(v,t.name),ia(P,t.name),Te(typeof Me=="boolean",t,"internal-error"),Te(typeof mt=="boolean",t,"internal-error"),ia(w,t.name),ia(S,t.name),ia(F,t.name),ia(N,t.name),ia(W,t.name),ia(Ce,t.name);let xt=new n({uid:we,auth:t,email:P,emailVerified:Me,displayName:v,isAnonymous:mt,photoURL:S,phoneNumber:w,tenantId:F,stsTokenManager:Lt,createdAt:W,lastLoginAt:Ce});return lt&&Array.isArray(lt)&&(xt.providerData=lt.map(ti=>Object.assign({},ti))),N&&(xt._redirectEventId=N),xt}static _fromIdTokenResponse(t,e,i=!1){return L(this,null,function*(){let o=new Tp;o.updateFromServerResponse(e);let r=new n({uid:e.localId,auth:t,stsTokenManager:o,isAnonymous:i});return yield k0(r),r})}static _fromGetAccountInfoResponse(t,e,i){return L(this,null,function*(){let o=e.users[0];Te(o.localId!==void 0,"internal-error");let r=o.providerUserInfo!==void 0?B3(o.providerUserInfo):[],s=!(o.email&&o.passwordHash)&&!r?.length,a=new Tp;a.updateFromIdToken(i);let c=new n({uid:o.localId,auth:t,stsTokenManager:a,isAnonymous:s}),u={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:r,metadata:new kp(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!r?.length};return Object.assign(c,u),c})}};var M3=new Map;function hs(n){_s(n instanceof Function,"Expected a class definition");let t=M3.get(n);return t?(_s(t instanceof n,"Instance stored in cache mismatched with class"),t):(t=new n,M3.set(n,t),t)}var UH=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return L(this,null,function*(){return!0})}_set(e,i){return L(this,null,function*(){this.storage[e]=i})}_get(e){return L(this,null,function*(){let i=this.storage[e];return i===void 0?null:i})}_remove(e){return L(this,null,function*(){delete this.storage[e]})}_addListener(e,i){}_removeListener(e,i){}}return n.type="NONE",n})(),NP=UH;function x0(n,t,e){return`firebase:${n}:${t}:${e}`}var A0=class n{constructor(t,e,i){this.persistence=t,this.auth=e,this.userKey=i;let{config:o,name:r}=this.auth;this.fullUserKey=x0(this.userKey,o.apiKey,r),this.fullPersistenceKey=x0("persistence",o.apiKey,r),this.boundEventHandler=e._onStorageEvent.bind(e),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}getCurrentUser(){return L(this,null,function*(){let t=yield this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){let e=yield D0(this.auth,{idToken:t}).catch(()=>{});return e?oa._fromGetAccountInfoResponse(this.auth,e,t):null}return oa._fromJSON(this.auth,t)})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(t){return L(this,null,function*(){if(this.persistence===t)return;let e=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=t,e)return this.setCurrentUser(e)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(t,e,i="authUser"){return L(this,null,function*(){if(!e.length)return new n(hs(NP),t,i);let o=(yield Promise.all(e.map(u=>L(null,null,function*(){if(yield u._isAvailable())return u})))).filter(u=>u),r=o[0]||hs(NP),s=x0(i,t.config.apiKey,t.name),a=null;for(let u of e)try{let C=yield u._get(s);if(C){let v;if(typeof C=="string"){let P=yield D0(t,{idToken:C}).catch(()=>{});if(!P)break;v=yield oa._fromGetAccountInfoResponse(t,P,C)}else v=oa._fromJSON(t,C);u!==r&&(a=v),r=u;break}}catch{}let c=o.filter(u=>u._shouldAllowMigration);return!r._shouldAllowMigration||!c.length?new n(r,t,i):(r=c[0],a&&(yield r._set(s,a.toJSON())),yield Promise.all(e.map(u=>L(null,null,function*(){if(u!==r)try{yield u._remove(s)}catch{}}))),new n(r,t,i))})}};function P3(n){let t=n.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if($3(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(j3(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(H3(t))return"Blackberry";if(W3(t))return"Webos";if(V3(t))return"Safari";if((t.includes("chrome/")||U3(t))&&!t.includes("edge/"))return"Chrome";if(q3(t))return"Android";{let e=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(e);if(i?.length===2)return i[1]}return"Other"}function j3(n=ui()){return/firefox\//i.test(n)}function V3(n=ui()){let t=n.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function U3(n=ui()){return/crios\//i.test(n)}function $3(n=ui()){return/iemobile/i.test(n)}function q3(n=ui()){return/android/i.test(n)}function H3(n=ui()){return/blackberry/i.test(n)}function W3(n=ui()){return/webos/i.test(n)}function nO(n=ui()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function $H(n=ui()){var t;return nO(n)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function qH(){return FA()&&document.documentMode===10}function G3(n=ui()){return nO(n)||q3(n)||W3(n)||H3(n)||/windows phone/i.test(n)||$3(n)}function Q3(n,t=[]){let e;switch(n){case"Browser":e=P3(ui());break;case"Worker":e=`${P3(ui())}-${n}`;break;default:e=n}let i=t.length?t.join(","):"FirebaseCore-web";return`${e}/JsCore/${Ir}/${i}`}var LP=class{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,e){let i=r=>new Promise((s,a)=>{try{let c=t(r);s(c)}catch(c){a(c)}});i.onAbort=e,this.queue.push(i);let o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}runMiddleware(t){return L(this,null,function*(){if(this.auth.currentUser===t)return;let e=[];try{for(let i of this.queue)yield i(t),i.onAbort&&e.push(i.onAbort)}catch(i){e.reverse();for(let o of e)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})}};function HH(e){return L(this,arguments,function*(n,t={}){return sa(n,"GET","/v2/passwordPolicy",ra(n,t))})}var WH=6,FP=class{constructor(t){var e,i,o,r;let s=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(e=s.minPasswordLength)!==null&&e!==void 0?e:WH,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(i=t.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(r=t.forceUpgradeOnSignin)!==null&&r!==void 0?r:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var e,i,o,r,s,a;let c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,c),this.validatePasswordCharacterOptions(t,c),c.isValid&&(c.isValid=(e=c.meetsMinPasswordLength)!==null&&e!==void 0?e:!0),c.isValid&&(c.isValid=(i=c.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(o=c.containsLowercaseLetter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(r=c.containsUppercaseLetter)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(s=c.containsNumericCharacter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(a=c.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),c}validatePasswordLengthOptions(t,e){let i=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;i&&(e.meetsMinPasswordLength=t.length>=i),o&&(e.meetsMaxPasswordLength=t.length<=o)}validatePasswordCharacterOptions(t,e){this.updatePasswordCharacterOptionsStatuses(e,!1,!1,!1,!1);let i;for(let o=0;o<t.length;o++)i=t.charAt(o),this.updatePasswordCharacterOptionsStatuses(e,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(t,e,i,o,r){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=e)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=r))}};var zP=class{constructor(t,e,i,o){this.app=t,this.heartbeatServiceProvider=e,this.appCheckServiceProvider=i,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new R0(this),this.idTokenSubscription=new R0(this),this.beforeStateQueue=new LP(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=L3,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(r=>this._resolvePersistenceManagerAvailable=r)}_initializeWithPersistence(t,e){return e&&(this._popupRedirectResolver=hs(e)),this._initializationPromise=this.queue(()=>L(this,null,function*(){var i,o,r;if(!this._deleted&&(this.persistenceManager=yield A0.create(this,t),(i=this._resolvePersistenceManagerAvailable)===null||i===void 0||i.call(this),!this._deleted)){if(!((o=this._popupRedirectResolver)===null||o===void 0)&&o._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(e),this.lastNotifiedUid=((r=this.currentUser)===null||r===void 0?void 0:r.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return L(this,null,function*(){if(this._deleted)return;let t=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(t,!0)}})}initializeCurrentUserFromIdToken(t){return L(this,null,function*(){try{let e=yield D0(this,{idToken:t}),i=yield oa._fromGetAccountInfoResponse(this,e,t);yield this.directlySetCurrentUser(i)}catch(e){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",e),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(t){return L(this,null,function*(){var e;if(Jn(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}let i=yield this.assertedPersistence.getCurrentUser(),o=i,r=!1;if(t&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(e=this.redirectUser)===null||e===void 0?void 0:e._redirectEventId,a=o?._redirectEventId,c=yield this.tryRedirectSignIn(t);(!s||s===a)&&c?.user&&(o=c.user,r=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(r)try{yield this.beforeStateQueue.runMiddleware(o)}catch(s){o=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return Te(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)})}tryRedirectSignIn(t){return L(this,null,function*(){let e=null;try{e=yield this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{yield this._setRedirectUser(null)}return e})}reloadAndSetCurrentUserOrClear(t){return L(this,null,function*(){try{yield k0(t)}catch(e){if(e?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)})}useDeviceLanguage(){this.languageCode=DH()}_delete(){return L(this,null,function*(){this._deleted=!0})}updateCurrentUser(t){return L(this,null,function*(){if(Jn(this.app))return Promise.reject(ms(this));let e=t?nn(t):null;return e&&Te(e.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(e&&e._clone(this))})}_updateCurrentUser(t,e=!1){return L(this,null,function*(){if(!this._deleted)return t&&Te(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e||(yield this.beforeStateQueue.runMiddleware(t)),this.queue(()=>L(this,null,function*(){yield this.directlySetCurrentUser(t),this.notifyAuthListeners()}))})}signOut(){return L(this,null,function*(){return Jn(this.app)?Promise.reject(ms(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(t){return Jn(this.app)?Promise.reject(ms(this)):this.queue(()=>L(this,null,function*(){yield this.assertedPersistence.setPersistence(hs(t))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(t){return L(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let e=this._getPasswordPolicyInternal();return e.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):e.validatePassword(t)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return L(this,null,function*(){let t=yield HH(this),e=new FP(t);this.tenantId===null?this._projectPasswordPolicy=e:this._tenantPasswordPolicies[this.tenantId]=e})}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Go("auth","Firebase",t())}onAuthStateChanged(t,e,i){return this.registerStateListener(this.authStateSubscription,t,e,i)}beforeAuthStateChanged(t,e){return this.beforeStateQueue.pushCallback(t,e)}onIdTokenChanged(t,e,i){return this.registerStateListener(this.idTokenSubscription,t,e,i)}authStateReady(){return new Promise((t,e)=>{if(this.currentUser)t();else{let i=this.onAuthStateChanged(()=>{i(),t()},e)}})}revokeAccessToken(t){return L(this,null,function*(){if(this.currentUser){let e=yield this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:e};this.tenantId!=null&&(i.tenantId=this.tenantId),yield VH(this,i)}})}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}_setRedirectUser(t,e){return L(this,null,function*(){let i=yield this.getOrInitRedirectPersistenceManager(e);return t===null?i.removeCurrentUser():i.setCurrentUser(t)})}getOrInitRedirectPersistenceManager(t){return L(this,null,function*(){if(!this.redirectPersistenceManager){let e=t&&hs(t)||this._popupRedirectResolver;Te(e,this,"argument-error"),this.redirectPersistenceManager=yield A0.create(this,[hs(e._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(t){return L(this,null,function*(){var e,i;return this._isInitialized&&(yield this.queue(()=>L(this,null,function*(){}))),((e=this._currentUser)===null||e===void 0?void 0:e._redirectEventId)===t?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===t?this.redirectUser:null})}_persistUserIfCurrent(t){return L(this,null,function*(){if(t===this.currentUser)return this.queue(()=>L(this,null,function*(){return this.directlySetCurrentUser(t)}))})}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,e;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let i=(e=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&e!==void 0?e:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,e,i,o){if(this._deleted)return()=>{};let r=typeof e=="function"?e:e.next.bind(e),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Te(a,this,"internal-error"),a.then(()=>{s||r(this.currentUser)}),typeof e=="function"){let c=t.addObserver(e,i,o);return()=>{s=!0,c()}}else{let c=t.addObserver(e);return()=>{s=!0,c()}}}directlySetCurrentUser(t){return L(this,null,function*(){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?yield this.assertedPersistence.setCurrentUser(t):yield this.assertedPersistence.removeCurrentUser()})}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Te(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=Q3(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return L(this,null,function*(){var t;let e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);let i=yield(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader();i&&(e["X-Firebase-Client"]=i);let o=yield this._getAppCheckToken();return o&&(e["X-Firebase-AppCheck"]=o),e})}_getAppCheckToken(){return L(this,null,function*(){var t;if(Jn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let e=yield(t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken();return e?.error&&EH(`Error while retrieving App Check token: ${e.error}`),e?.token})}};function aa(n){return nn(n)}var R0=class{constructor(t){this.auth=t,this.observer=null,this.addObserver=UA(e=>this.observer=e)}get next(){return Te(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var $0={loadJS(){return L(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function GH(n){$0=n}function K3(n){return $0.loadJS(n)}function QH(){return $0.recaptchaEnterpriseScript}function KH(){return $0.gapiScript}function Y3(n){return`__${n}${Math.floor(Math.random()*1e6)}`}var BP=class{constructor(){this.enterprise=new jP}ready(t){t()}execute(t,e){return Promise.resolve("token")}render(t,e){return""}},jP=class{ready(t){t()}execute(t,e){return Promise.resolve("token")}render(t,e){return""}};var YH="recaptcha-enterprise",Z3="NO_RECAPTCHA",VP=class{constructor(t){this.type=YH,this.auth=aa(t)}verify(t="verify",e=!1){return L(this,null,function*(){function i(r){return L(this,null,function*(){if(!e){if(r.tenantId==null&&r._agentRecaptchaConfig!=null)return r._agentRecaptchaConfig.siteKey;if(r.tenantId!=null&&r._tenantRecaptchaConfigs[r.tenantId]!==void 0)return r._tenantRecaptchaConfigs[r.tenantId].siteKey}return new Promise((s,a)=>L(null,null,function*(){LH(r,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{let u=new AP(c);return r.tenantId==null?r._agentRecaptchaConfig=u:r._tenantRecaptchaConfigs[r.tenantId]=u,s(u.siteKey)}}).catch(c=>{a(c)})}))})}function o(r,s,a){let c=window.grecaptcha;b3(c)?c.enterprise.ready(()=>{c.enterprise.execute(r,{action:t}).then(u=>{s(u)}).catch(()=>{s(Z3)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new BP().execute("siteKey",{action:"verify"}):new Promise((r,s)=>{i(this.auth).then(a=>{if(!e&&b3(window.grecaptcha))o(a,r,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let c=QH();c.length!==0&&(c+=a),K3(c).then(()=>{o(a,r,s)}).catch(u=>{s(u)})}}).catch(a=>{s(a)})})})}};function Ip(n,t,e,i=!1,o=!1){return L(this,null,function*(){let r=new VP(n),s;if(o)s=Z3;else try{s=yield r.verify(e)}catch{s=yield r.verify(e,!0)}let a=Object.assign({},t);if(e==="mfaSmsEnrollment"||e==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){let c=a.phoneEnrollmentInfo.phoneNumber,u=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:c,recaptchaToken:u,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){let c=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:c,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return i?Object.assign(a,{captchaResp:s}):Object.assign(a,{captchaResponse:s}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a})}function UP(n,t,e,i,o){return L(this,null,function*(){var r,s;if(o==="EMAIL_PASSWORD_PROVIDER")if(!((r=n._getRecaptchaConfig())===null||r===void 0)&&r.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let a=yield Ip(n,t,e,e==="getOobCode");return i(n,a)}else return i(n,t).catch(a=>L(null,null,function*(){if(a.code==="auth/missing-recaptcha-token"){console.log(`${e} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let c=yield Ip(n,t,e,e==="getOobCode");return i(n,c)}else return Promise.reject(a)}));else if(o==="PHONE_PROVIDER")if(!((s=n._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("PHONE_PROVIDER")){let a=yield Ip(n,t,e);return i(n,a).catch(c=>L(null,null,function*(){var u;if(((u=n._getRecaptchaConfig())===null||u===void 0?void 0:u.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"&&(c.code==="auth/missing-recaptcha-token"||c.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${e} flow.`);let C=yield Ip(n,t,e,!1,!0);return i(n,C)}return Promise.reject(c)}))}else{let a=yield Ip(n,t,e,!1,!0);return i(n,a)}else return Promise.reject(o+" provider is not supported.")})}function iO(n,t){let e=Xs(n,"auth");if(e.isInitialized()){let o=e.getImmediate(),r=e.getOptions();if(wr(r,t??{}))return o;bo(o,"already-initialized")}return e.initialize({options:t})}function ZH(n,t){let e=t?.persistence||[],i=(Array.isArray(e)?e:[e]).map(hs);t?.errorMap&&n._updateErrorMap(t.errorMap),n._initializeWithPersistence(i,t?.popupRedirectResolver)}function oO(n,t,e){let i=aa(n);Te(/^https?:\/\//.test(t),i,"invalid-emulator-scheme");let o=!!e?.disableWarnings,r=J3(t),{host:s,port:a}=JH(t),c=a===null?"":`:${a}`,u={url:`${r}//${s}${c}/`},C=Object.freeze({host:s,port:a,protocol:r.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!i._canInitEmulator){Te(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),Te(wr(u,i.config.emulator)&&wr(C,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=u,i.emulatorConfig=C,i.settings.appVerificationDisabledForTesting=!0,Pr(s)?(Yl(`${r}//${s}${c}`),Zl("Auth",!0)):o||XH()}function J3(n){let t=n.indexOf(":");return t<0?"":n.substr(0,t+1)}function JH(n){let t=J3(n),e=/(\/\/)?([^?#/]+)/.exec(n.substr(t.length));if(!e)return{host:"",port:null};let i=e[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(i);if(o){let r=o[1];return{host:r,port:O3(i.substr(r.length+1))}}else{let[r,s]=i.split(":");return{host:r,port:O3(s)}}}function O3(n){if(!n)return null;let t=Number(n);return isNaN(t)?null:t}function XH(){function n(){let t=document.createElement("p"),e=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",e.position="fixed",e.width="100%",e.backgroundColor="#ffffff",e.border=".1em solid #000000",e.color="#b50000",e.bottom="0px",e.left="0px",e.margin="0px",e.zIndex="10000",e.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}var id=class{constructor(t,e){this.providerId=t,this.signInMethod=e}toJSON(){return gs("not implemented")}_getIdTokenResponse(t){return gs("not implemented")}_linkToIdToken(t,e){return gs("not implemented")}_getReauthenticationResolver(t){return gs("not implemented")}};function eW(n,t){return L(this,null,function*(){return sa(n,"POST","/v1/accounts:signUp",t)})}function tW(n,t){return L(this,null,function*(){return Lp(n,"POST","/v1/accounts:signInWithPassword",ra(n,t))})}function nW(n,t){return L(this,null,function*(){return Lp(n,"POST","/v1/accounts:signInWithEmailLink",ra(n,t))})}function iW(n,t){return L(this,null,function*(){return Lp(n,"POST","/v1/accounts:signInWithEmailLink",ra(n,t))})}var Ap=class n extends id{constructor(t,e,i,o=null){super("password",i),this._email=t,this._password=e,this._tenantId=o}static _fromEmailAndPassword(t,e){return new n(t,e,"password")}static _fromEmailAndCode(t,e,i=null){return new n(t,e,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){let e=typeof t=="string"?JSON.parse(t):t;if(e?.email&&e?.password){if(e.signInMethod==="password")return this._fromEmailAndPassword(e.email,e.password);if(e.signInMethod==="emailLink")return this._fromEmailAndCode(e.email,e.password,e.tenantId)}return null}_getIdTokenResponse(t){return L(this,null,function*(){switch(this.signInMethod){case"password":let e={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return UP(t,e,"signInWithPassword",tW,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return nW(t,{email:this._email,oobCode:this._password});default:bo(t,"internal-error")}})}_linkToIdToken(t,e){return L(this,null,function*(){switch(this.signInMethod){case"password":let i={idToken:e,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return UP(t,i,"signUpPassword",eW,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return iW(t,{idToken:e,email:this._email,oobCode:this._password});default:bo(t,"internal-error")}})}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}};function nd(n,t){return L(this,null,function*(){return Lp(n,"POST","/v1/accounts:signInWithIdp",ra(n,t))})}var oW="http://localhost",N0=class n extends id{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){let e=new n(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(e.idToken=t.idToken),t.accessToken&&(e.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(e.nonce=t.nonce),t.pendingToken&&(e.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(e.accessToken=t.oauthToken,e.secret=t.oauthTokenSecret):bo("argument-error"),e}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){let e=typeof t=="string"?JSON.parse(t):t,{providerId:i,signInMethod:o}=e,r=cg(e,["providerId","signInMethod"]);if(!i||!o)return null;let s=new n(i,o);return s.idToken=r.idToken||void 0,s.accessToken=r.accessToken||void 0,s.secret=r.secret,s.nonce=r.nonce,s.pendingToken=r.pendingToken||null,s}_getIdTokenResponse(t){let e=this.buildRequest();return nd(t,e)}_linkToIdToken(t,e){let i=this.buildRequest();return i.idToken=e,nd(t,i)}_getReauthenticationResolver(t){let e=this.buildRequest();return e.autoCreate=!1,nd(t,e)}buildRequest(){let t={requestUri:oW,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{let e={};this.idToken&&(e.id_token=this.idToken),this.accessToken&&(e.access_token=this.accessToken),this.secret&&(e.oauth_token_secret=this.secret),e.providerId=this.providerId,this.nonce&&!this.pendingToken&&(e.nonce=this.nonce),t.postBody=Zs(e)}return t}};function rW(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function sW(n){let t=Jl(Xl(n)).link,e=t?Jl(Xl(t)).deep_link_id:null,i=Jl(Xl(n)).deep_link_id;return(i?Jl(Xl(i)).link:null)||i||e||t||n}var L0=class n{constructor(t){var e,i,o,r,s,a;let c=Jl(Xl(t)),u=(e=c.apiKey)!==null&&e!==void 0?e:null,C=(i=c.oobCode)!==null&&i!==void 0?i:null,v=rW((o=c.mode)!==null&&o!==void 0?o:null);Te(u&&C&&v,"argument-error"),this.apiKey=u,this.operation=v,this.code=C,this.continueUrl=(r=c.continueUrl)!==null&&r!==void 0?r:null,this.languageCode=(s=c.lang)!==null&&s!==void 0?s:null,this.tenantId=(a=c.tenantId)!==null&&a!==void 0?a:null}static parseLink(t){let e=sW(t);try{return new n(e)}catch{return null}}};var X3=(()=>{class n{constructor(){this.providerId=n.PROVIDER_ID}static credential(e,i){return Ap._fromEmailAndPassword(e,i)}static credentialWithLink(e,i){let o=L0.parseLink(i);return Te(o,"argument-error"),Ap._fromEmailAndCode(e,o.code,o.tenantId)}}n.PROVIDER_ID="password",n.EMAIL_PASSWORD_SIGN_IN_METHOD="password",n.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return n})(),Rp=class{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}};var F0=class extends Rp{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}};var rO=(()=>{class n extends F0{constructor(){super("google.com"),this.addScope("profile")}static credential(e,i){return N0._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:i})}static credentialFromResult(e){return n.credentialFromTaggedObject(e)}static credentialFromError(e){return n.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;let{oauthIdToken:i,oauthAccessToken:o}=e;if(!i&&!o)return null;try{return n.credential(i,o)}catch{return null}}}n.GOOGLE_SIGN_IN_METHOD="google.com",n.PROVIDER_ID="google.com";return n})();function aW(n,t){return L(this,null,function*(){return Lp(n,"POST","/v1/accounts:signUp",ra(n,t))})}var od=class n{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static _fromIdTokenResponse(t,e,i,o=!1){return L(this,null,function*(){let r=yield oa._fromIdTokenResponse(t,i,o),s=w3(i);return new n({user:r,providerId:s,_tokenResponse:i,operationType:e})})}static _forOperation(t,e,i){return L(this,null,function*(){yield t._updateTokensIfNecessary(i,!0);let o=w3(i);return new n({user:t,providerId:o,_tokenResponse:i,operationType:e})})}};function w3(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}var $P=class n extends Xi{constructor(t,e,i,o){var r;super(e.code,e.message),this.operationType=i,this.user=o,Object.setPrototypeOf(this,n.prototype),this.customData={appName:t.name,tenantId:(r=t.tenantId)!==null&&r!==void 0?r:void 0,_serverResponse:e.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(t,e,i,o){return new n(t,e,i,o)}};function eR(n,t,e,i){return(t==="reauthenticate"?e._getReauthenticationResolver(n):e._getIdTokenResponse(n)).catch(r=>{throw r.code==="auth/multi-factor-auth-required"?$P._fromErrorAndOperation(n,r,t,i):r})}function cW(n,t,e=!1){return L(this,null,function*(){let i=yield Dp(n,t._linkToIdToken(n.auth,yield n.getIdToken()),e);return od._forOperation(n,"link",i)})}function lW(n,t,e=!1){return L(this,null,function*(){let{auth:i}=n;if(Jn(i.app))return Promise.reject(ms(i));let o="reauthenticate";try{let r=yield Dp(n,eR(i,o,t,n),e);Te(r.idToken,i,"internal-error");let s=eO(r.idToken);Te(s,i,"internal-error");let{sub:a}=s;return Te(n.uid===a,i,"user-mismatch"),od._forOperation(n,o,r)}catch(r){throw r?.code==="auth/user-not-found"&&bo(i,"user-mismatch"),r}})}function tR(n,t,e=!1){return L(this,null,function*(){if(Jn(n.app))return Promise.reject(ms(n));let i="signIn",o=yield eR(n,i,t),r=yield od._fromIdTokenResponse(n,i,o);return e||(yield n._updateCurrentUser(r.user)),r})}function sO(n,t){return L(this,null,function*(){return tR(aa(n),t)})}function nR(n){return L(this,null,function*(){let t=aa(n);t._getPasswordPolicyInternal()&&(yield t._updatePasswordPolicy())})}function aO(n,t,e){return L(this,null,function*(){if(Jn(n.app))return Promise.reject(ms(n));let i=aa(n),s=yield UP(i,{returnSecureToken:!0,email:t,password:e,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",aW,"EMAIL_PASSWORD_PROVIDER").catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&nR(n),c}),a=yield od._fromIdTokenResponse(i,"signIn",s);return yield i._updateCurrentUser(a.user),a})}function cO(n,t,e){return Jn(n.app)?Promise.reject(ms(n)):sO(nn(n),X3.credential(t,e)).catch(i=>L(null,null,function*(){throw i.code==="auth/password-does-not-meet-requirements"&&nR(n),i}))}function q0(n,t,e,i){return nn(n).onIdTokenChanged(t,e,i)}function lO(n,t,e){return nn(n).beforeAuthStateChanged(t,e)}function H0(n,t,e,i){return nn(n).onAuthStateChanged(t,e,i)}function dO(n){return nn(n).signOut()}var z0="__sak";var B0=class{constructor(t,e){this.storageRetriever=t,this.type=e}_isAvailable(){try{return this.storage?(this.storage.setItem(z0,"1"),this.storage.removeItem(z0),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,e){return this.storage.setItem(t,JSON.stringify(e)),Promise.resolve()}_get(t){let e=this.storage.getItem(t);return Promise.resolve(e?JSON.parse(e):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}};var dW=1e3,uW=10,pW=(()=>{class n extends B0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,i)=>this.onStorageEvent(e,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=G3(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(let i of Object.keys(this.listeners)){let o=this.storage.getItem(i),r=this.localCache[i];o!==r&&e(i,r,o)}}onStorageEvent(e,i=!1){if(!e.key){this.forAllChangedKeys((a,c,u)=>{this.notifyListeners(a,u)});return}let o=e.key;i?this.detachListener():this.stopPolling();let r=()=>{let a=this.storage.getItem(o);!i&&this.localCache[o]===a||this.notifyListeners(o,a)},s=this.storage.getItem(o);qH()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,uW):r()}notifyListeners(e,i){this.localCache[e]=i;let o=this.listeners[e];if(o)for(let r of Array.from(o))r(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,i,o)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:i,newValue:o}),!0)})},dW)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(e,i){return L(this,null,function*(){yield Oa(n.prototype,this,"_set").call(this,e,i),this.localCache[e]=JSON.stringify(i)})}_get(e){return L(this,null,function*(){let i=yield Oa(n.prototype,this,"_get").call(this,e);return this.localCache[e]=JSON.stringify(i),i})}_remove(e){return L(this,null,function*(){yield Oa(n.prototype,this,"_remove").call(this,e),delete this.localCache[e]})}}return n.type="LOCAL",n})(),iR=pW;var fW=(()=>{class n extends B0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,i){}_removeListener(e,i){}}return n.type="SESSION",n})(),uO=fW;function gW(n){return Promise.all(n.map(t=>L(null,null,function*(){try{return{fulfilled:!0,value:yield t}}catch(e){return{fulfilled:!1,reason:e}}})))}var hW=(()=>{class n{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){let i=this.receivers.find(r=>r.isListeningto(e));if(i)return i;let o=new n(e);return this.receivers.push(o),o}isListeningto(e){return this.eventTarget===e}handleEvent(e){return L(this,null,function*(){let i=e,{eventId:o,eventType:r,data:s}=i.data,a=this.handlersMap[r];if(!a?.size)return;i.ports[0].postMessage({status:"ack",eventId:o,eventType:r});let c=Array.from(a).map(C=>L(this,null,function*(){return C(i.origin,s)})),u=yield gW(c);i.ports[0].postMessage({status:"done",eventId:o,eventType:r,response:u})})}_subscribe(e,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(i)}_unsubscribe(e,i){this.handlersMap[e]&&i&&this.handlersMap[e].delete(i),(!i||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}n.receivers=[];return n})();function pO(n="",t=10){let e="";for(let i=0;i<t;i++)e+=Math.floor(Math.random()*10);return n+e}var qP=class{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}_send(t,e,i=50){return L(this,null,function*(){let o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let r,s;return new Promise((a,c)=>{let u=pO("",20);o.port1.start();let C=setTimeout(()=>{c(new Error("unsupported_event"))},i);s={messageChannel:o,onMessage(v){let P=v;if(P.data.eventId===u)switch(P.data.status){case"ack":clearTimeout(C),r=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(r),a(P.data.response);break;default:clearTimeout(C),clearTimeout(r),c(new Error("invalid_response"));break}}},this.handlers.add(s),o.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:t,eventId:u,data:e},[o.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})})}};function Dr(){return window}function mW(n){Dr().location.href=n}function oR(){return typeof Dr().WorkerGlobalScope<"u"&&typeof Dr().importScripts=="function"}function _W(){return L(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function CW(){var n;return((n=navigator?.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function vW(){return oR()?self:null}var rR="firebaseLocalStorageDb",bW=1,j0="firebaseLocalStorage",sR="fbase_key",hc=class{constructor(t){this.request=t}toPromise(){return new Promise((t,e)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{e(this.request.error)})})}};function W0(n,t){return n.transaction([j0],t?"readwrite":"readonly").objectStore(j0)}function yW(){let n=indexedDB.deleteDatabase(rR);return new hc(n).toPromise()}function HP(){let n=indexedDB.open(rR,bW);return new Promise((t,e)=>{n.addEventListener("error",()=>{e(n.error)}),n.addEventListener("upgradeneeded",()=>{let i=n.result;try{i.createObjectStore(j0,{keyPath:sR})}catch(o){e(o)}}),n.addEventListener("success",()=>L(null,null,function*(){let i=n.result;i.objectStoreNames.contains(j0)?t(i):(i.close(),yield yW(),t(yield HP()))}))})}function x3(n,t,e){return L(this,null,function*(){let i=W0(n,!0).put({[sR]:t,value:e});return new hc(i).toPromise()})}function MW(n,t){return L(this,null,function*(){let e=W0(n,!1).get(t),i=yield new hc(e).toPromise();return i===void 0?null:i.value})}function E3(n,t){let e=W0(n,!0).delete(t);return new hc(e).toPromise()}var PW=800,OW=3,wW=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return L(this,null,function*(){return this.db?this.db:(this.db=yield HP(),this.db)})}_withRetries(e){return L(this,null,function*(){let i=0;for(;;)try{let o=yield this._openDb();return yield e(o)}catch(o){if(i++>OW)throw o;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return L(this,null,function*(){return oR()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return L(this,null,function*(){this.receiver=hW._getInstance(vW()),this.receiver._subscribe("keyChanged",(e,i)=>L(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(i.key)}})),this.receiver._subscribe("ping",(e,i)=>L(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return L(this,null,function*(){var e,i;if(this.activeServiceWorker=yield _W(),!this.activeServiceWorker)return;this.sender=new qP(this.activeServiceWorker);let o=yield this.sender._send("ping",{},800);o&&!((e=o[0])===null||e===void 0)&&e.fulfilled&&!((i=o[0])===null||i===void 0)&&i.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(e){return L(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||CW()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return L(this,null,function*(){try{if(!indexedDB)return!1;let e=yield HP();return yield x3(e,z0,"1"),yield E3(e,z0),!0}catch{}return!1})}_withPendingWrite(e){return L(this,null,function*(){this.pendingWrites++;try{yield e()}finally{this.pendingWrites--}})}_set(e,i){return L(this,null,function*(){return this._withPendingWrite(()=>L(this,null,function*(){return yield this._withRetries(o=>x3(o,e,i)),this.localCache[e]=i,this.notifyServiceWorker(e)}))})}_get(e){return L(this,null,function*(){let i=yield this._withRetries(o=>MW(o,e));return this.localCache[e]=i,i})}_remove(e){return L(this,null,function*(){return this._withPendingWrite(()=>L(this,null,function*(){return yield this._withRetries(i=>E3(i,e)),delete this.localCache[e],this.notifyServiceWorker(e)}))})}_poll(){return L(this,null,function*(){let e=yield this._withRetries(r=>{let s=W0(r,!1).getAll();return new hc(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];let i=[],o=new Set;if(e.length!==0)for(let{fbase_key:r,value:s}of e)o.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(s)&&(this.notifyListeners(r,s),i.push(r));for(let r of Object.keys(this.localCache))this.localCache[r]&&!o.has(r)&&(this.notifyListeners(r,null),i.push(r));return i})}notifyListeners(e,i){this.localCache[e]=i;let o=this.listeners[e];if(o)for(let r of Array.from(o))r(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>L(this,null,function*(){return this._poll()}),PW)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return n.type="LOCAL",n})(),aR=wW;var cPe=Y3("rcb"),lPe=new gc(3e4,6e4);function cR(n,t){return t?hs(t):(Te(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}var Np=class extends id{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return nd(t,this._buildIdpRequest())}_linkToIdToken(t,e){return nd(t,this._buildIdpRequest(e))}_getReauthenticationResolver(t){return nd(t,this._buildIdpRequest())}_buildIdpRequest(t){let e={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(e.idToken=t),e}};function xW(n){return tR(n.auth,new Np(n),n.bypassAuthState)}function EW(n){let{auth:t,user:e}=n;return Te(e,t,"internal-error"),lW(e,new Np(n),n.bypassAuthState)}function IW(n){return L(this,null,function*(){let{auth:t,user:e}=n;return Te(e,t,"internal-error"),cW(e,new Np(n),n.bypassAuthState)})}var V0=class{constructor(t,e,i,o,r=!1){this.auth=t,this.resolver=i,this.user=o,this.bypassAuthState=r,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(e)?e:[e]}execute(){return new Promise((t,e)=>L(this,null,function*(){this.pendingPromise={resolve:t,reject:e};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}}))}onAuthEvent(t){return L(this,null,function*(){let{urlResponse:e,sessionId:i,postBody:o,tenantId:r,error:s,type:a}=t;if(s){this.reject(s);return}let c={auth:this.auth,requestUri:e,sessionId:i,tenantId:r||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(c))}catch(u){this.reject(u)}})}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return xW;case"linkViaPopup":case"linkViaRedirect":return IW;case"reauthViaPopup":case"reauthViaRedirect":return EW;default:bo(this.auth,"internal-error")}}resolve(t){_s(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){_s(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var SW=new gc(2e3,1e4);function fO(n,t,e){return L(this,null,function*(){if(Jn(n.app))return Promise.reject(Zo(n,"operation-not-supported-in-this-environment"));let i=aa(n);IH(n,t,Rp);let o=cR(i,e);return new TW(i,"signInViaPopup",t,o).executeNotNull()})}var TW=(()=>{class n extends V0{constructor(e,i,o,r,s){super(e,i,r,s),this.provider=o,this.authWindow=null,this.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=this}executeNotNull(){return L(this,null,function*(){let e=yield this.execute();return Te(e,this.auth,"internal-error"),e})}onExecution(){return L(this,null,function*(){_s(this.filter.length===1,"Popup operations only handle one event");let e=pO();this.authWindow=yield this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(Zo(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()})}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Zo(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}pollUserCancellation(){let e=()=>{var i,o;if(!((o=(i=this.authWindow)===null||i===void 0?void 0:i.window)===null||o===void 0)&&o.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Zo(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,SW.get())};e()}}n.currentPopupAction=null;return n})(),DW="pendingRedirect",E0=new Map,WP=class n extends V0{constructor(t,e,i=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],e,void 0,i),this.eventId=null}execute(){return L(this,null,function*(){let t=E0.get(this.auth._key());if(!t){try{let i=(yield kW(this.resolver,this.auth))?yield Oa(n.prototype,this,"execute").call(this):null;t=()=>Promise.resolve(i)}catch(e){t=()=>Promise.reject(e)}E0.set(this.auth._key(),t)}return this.bypassAuthState||E0.set(this.auth._key(),()=>Promise.resolve(null)),t()})}onAuthEvent(t){return L(this,null,function*(){if(t.type==="signInViaRedirect")return Oa(n.prototype,this,"onAuthEvent").call(this,t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){let e=yield this.auth._redirectUserForId(t.eventId);if(e)return this.user=e,Oa(n.prototype,this,"onAuthEvent").call(this,t);this.resolve(null)}})}onExecution(){return L(this,null,function*(){})}cleanUp(){}};function kW(n,t){return L(this,null,function*(){let e=NW(t),i=RW(n);if(!(yield i._isAvailable()))return!1;let o=(yield i._get(e))==="true";return yield i._remove(e),o})}function AW(n,t){E0.set(n._key(),t)}function RW(n){return hs(n._redirectPersistence)}function NW(n){return x0(DW,n.config.apiKey,n.name)}function LW(n,t,e=!1){return L(this,null,function*(){if(Jn(n.app))return Promise.reject(ms(n));let i=aa(n),o=cR(i,t),s=yield new WP(i,o,e).execute();return s&&!e&&(delete s.user._redirectEventId,yield i._persistUserIfCurrent(s.user),yield i._setRedirectUser(null,t)),s})}var FW=600*1e3,GP=class{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let e=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(t,i)&&(e=!0,this.sendToConsumer(t,i),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!zW(t)||(this.hasHandledPotentialRedirect=!0,e||(this.queuedRedirectEvent=t,e=!0)),e}sendToConsumer(t,e){var i;if(t.error&&!lR(t)){let o=((i=t.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";e.onError(Zo(this.auth,o))}else e.onAuthEvent(t)}isEventForConsumer(t,e){let i=e.eventId===null||!!t.eventId&&t.eventId===e.eventId;return e.filter.includes(t.type)&&i}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=FW&&this.cachedEventUids.clear(),this.cachedEventUids.has(I3(t))}saveEventToCache(t){this.cachedEventUids.add(I3(t)),this.lastProcessedEventTime=Date.now()}};function I3(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(t=>t).join("-")}function lR({type:n,error:t}){return n==="unknown"&&t?.code==="auth/no-auth-event"}function zW(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return lR(n);default:return!1}}function BW(e){return L(this,arguments,function*(n,t={}){return sa(n,"GET","/v1/projects",t)})}var jW=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,VW=/^https?/;function UW(n){return L(this,null,function*(){if(n.config.emulator)return;let{authorizedDomains:t}=yield BW(n);for(let e of t)try{if($W(e))return}catch{}bo(n,"unauthorized-domain")})}function $W(n){let t=DP(),{protocol:e,hostname:i}=new URL(t);if(n.startsWith("chrome-extension://")){let s=new URL(n);return s.hostname===""&&i===""?e==="chrome-extension:"&&n.replace("chrome-extension://","")===t.replace("chrome-extension://",""):e==="chrome-extension:"&&s.hostname===i}if(!VW.test(e))return!1;if(jW.test(n))return i===n;let o=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}var qW=new gc(3e4,6e4);function S3(){let n=Dr().___jsl;if(n?.H){for(let t of Object.keys(n.H))if(n.H[t].r=n.H[t].r||[],n.H[t].L=n.H[t].L||[],n.H[t].r=[...n.H[t].L],n.CP)for(let e=0;e<n.CP.length;e++)n.CP[e]=null}}function HW(n){return new Promise((t,e)=>{var i,o,r;function s(){S3(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{S3(),e(Zo(n,"network-request-failed"))},timeout:qW.get()})}if(!((o=(i=Dr().gapi)===null||i===void 0?void 0:i.iframes)===null||o===void 0)&&o.Iframe)t(gapi.iframes.getContext());else if(!((r=Dr().gapi)===null||r===void 0)&&r.load)s();else{let a=Y3("iframefcb");return Dr()[a]=()=>{gapi.load?s():e(Zo(n,"network-request-failed"))},K3(`${KH()}?onload=${a}`).catch(c=>e(c))}}).catch(t=>{throw I0=null,t})}var I0=null;function WW(n){return I0=I0||HW(n),I0}var GW=new gc(5e3,15e3),QW="__/auth/iframe",KW="emulator/auth/iframe",YW={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ZW=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function JW(n){let t=n.config;Te(t.authDomain,n,"auth-domain-config-required");let e=t.emulator?JP(t,KW):`https://${n.config.authDomain}/${QW}`,i={apiKey:t.apiKey,appName:n.name,v:Ir},o=ZW.get(n.config.apiHost);o&&(i.eid=o);let r=n._getFrameworks();return r.length&&(i.fw=r.join(",")),`${e}?${Zs(i).slice(1)}`}function XW(n){return L(this,null,function*(){let t=yield WW(n),e=Dr().gapi;return Te(e,n,"internal-error"),t.open({where:document.body,url:JW(n),messageHandlersFilter:e.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:YW,dontclear:!0},i=>new Promise((o,r)=>L(null,null,function*(){yield i.restyle({setHideOnLeave:!1});let s=Zo(n,"network-request-failed"),a=Dr().setTimeout(()=>{r(s)},GW.get());function c(){Dr().clearTimeout(a),o(i)}i.ping(c).then(c,()=>{r(s)})})))})}var eG={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},tG=500,nG=600,iG="_blank",oG="http://localhost",U0=class{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function rG(n,t,e,i=tG,o=nG){let r=Math.max((window.screen.availHeight-o)/2,0).toString(),s=Math.max((window.screen.availWidth-i)/2,0).toString(),a="",c=Object.assign(Object.assign({},eG),{width:i.toString(),height:o.toString(),top:r,left:s}),u=ui().toLowerCase();e&&(a=U3(u)?iG:e),j3(u)&&(t=t||oG,c.scrollbars="yes");let C=Object.entries(c).reduce((P,[w,S])=>`${P}${w}=${S},`,"");if($H(u)&&a!=="_self")return sG(t||"",a),new U0(null);let v=window.open(t||"",a,C);Te(v,n,"popup-blocked");try{v.focus()}catch{}return new U0(v)}function sG(n,t){let e=document.createElement("a");e.href=n,e.target=t;let i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),e.dispatchEvent(i)}var aG="__/auth/handler",cG="emulator/auth/handler",lG=encodeURIComponent("fac");function T3(n,t,e,i,o,r){return L(this,null,function*(){Te(n.config.authDomain,n,"auth-domain-config-required"),Te(n.config.apiKey,n,"invalid-api-key");let s={apiKey:n.config.apiKey,appName:n.name,authType:e,redirectUrl:i,v:Ir,eventId:o};if(t instanceof Rp){t.setDefaultLanguage(n.languageCode),s.providerId=t.providerId||"",bp(t.getCustomParameters())||(s.customParameters=JSON.stringify(t.getCustomParameters()));for(let[C,v]of Object.entries(r||{}))s[C]=v}if(t instanceof F0){let C=t.getScopes().filter(v=>v!=="");C.length>0&&(s.scopes=C.join(","))}n.tenantId&&(s.tid=n.tenantId);let a=s;for(let C of Object.keys(a))a[C]===void 0&&delete a[C];let c=yield n._getAppCheckToken(),u=c?`#${lG}=${encodeURIComponent(c)}`:"";return`${dG(n)}?${Zs(a).slice(1)}${u}`})}function dG({config:n}){return n.emulator?JP(n,cG):`https://${n.authDomain}/${aG}`}var TP="webStorageSupport",QP=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=uO,this._completeRedirectFn=LW,this._overrideRedirectResult=AW}_openPopup(t,e,i,o){return L(this,null,function*(){var r;_s((r=this.eventManagers[t._key()])===null||r===void 0?void 0:r.manager,"_initialize() not called before _openPopup()");let s=yield T3(t,e,i,DP(),o);return rG(t,s,pO())})}_openRedirect(t,e,i,o){return L(this,null,function*(){yield this._originValidation(t);let r=yield T3(t,e,i,DP(),o);return mW(r),new Promise(()=>{})})}_initialize(t){let e=t._key();if(this.eventManagers[e]){let{manager:o,promise:r}=this.eventManagers[e];return o?Promise.resolve(o):(_s(r,"If manager is not set, promise should be"),r)}let i=this.initAndGetManager(t);return this.eventManagers[e]={promise:i},i.catch(()=>{delete this.eventManagers[e]}),i}initAndGetManager(t){return L(this,null,function*(){let e=yield XW(t),i=new GP(t);return e.register("authEvent",o=>(Te(o?.authEvent,t,"invalid-auth-event"),{status:i.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:i},this.iframes[t._key()]=e,i})}_isIframeWebStorageSupported(t,e){this.iframes[t._key()].send(TP,{type:TP},o=>{var r;let s=(r=o?.[0])===null||r===void 0?void 0:r[TP];s!==void 0&&e(!!s),bo(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){let e=t._key();return this.originValidationPromises[e]||(this.originValidationPromises[e]=UW(t)),this.originValidationPromises[e]}get _shouldInitProactively(){return G3()||V3()||nO()}},dR=QP;var D3="@firebase/auth",k3="1.10.8";var KP=class{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}getToken(t){return L(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(t)}:null})}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;let e=this.auth.onIdTokenChanged(i=>{t(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,e),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();let e=this.internalListeners.get(t);e&&(this.internalListeners.delete(t),e(),this.updateProactiveRefresh())}assertAuthConfigured(){Te(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function uG(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function pG(n){eo(new Zn("auth",(t,{options:e})=>{let i=t.getProvider("app").getImmediate(),o=t.getProvider("heartbeat"),r=t.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=i.options;Te(s&&!s.includes(":"),"invalid-api-key",{appName:i.name});let c={apiKey:s,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Q3(n)},u=new zP(i,o,r,c);return ZH(u,e),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,i)=>{t.getProvider("auth-internal").initialize()})),eo(new Zn("auth-internal",t=>{let e=aa(t.getProvider("auth").getImmediate());return(i=>new KP(i))(e)},"PRIVATE").setInstantiationMode("EXPLICIT")),Nt(D3,k3,uG(n)),Nt(D3,k3,"esm2017")}var fG=300,gG=aP("authIdTokenMaxAge")||fG,A3=null,hG=n=>t=>L(null,null,function*(){let e=t&&(yield t.getIdTokenResult()),i=e&&(new Date().getTime()-Date.parse(e.issuedAtTime))/1e3;if(i&&i>gG)return;let o=e?.token;A3!==o&&(A3=o,yield fetch(n,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))});function gO(n=ps()){let t=Xs(n,"auth");if(t.isInitialized())return t.getImmediate();let e=iO(n,{popupRedirectResolver:dR,persistence:[aR,iR,uO]}),i=aP("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){let r=new URL(i,location.origin);if(location.origin===r.origin){let s=hG(r.toString());lO(e,s,()=>s(e.currentUser)),q0(e,a=>s(a))}}let o=rP("auth");return o&&oO(e,`http://${o}`),e}function mG(){var n,t;return(t=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&t!==void 0?t:document}GH({loadJS(n){return new Promise((t,e)=>{let i=document.createElement("script");i.setAttribute("src",n),i.onload=t,i.onerror=o=>{let r=Zo("internal-error");r.customData=o,e(r)},i.type="text/javascript",i.charset="UTF-8",mG().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});pG("Browser");function pR(n){return new ve(function(t){var e=H0(n,t.next.bind(t),t.error.bind(t),t.complete.bind(t));return{unsubscribe:e}})}var fR="auth",Oi=class{constructor(t){return t}},mc=class{constructor(){return ea(fR)}};var hO=new oe("angularfire2.auth-instances");function nQ(n,t){let e=fc(fR,n,t);return e&&new Oi(e)}function iQ(n){return(t,e)=>{let i=t.runOutsideAngular(()=>n(e));return new Oi(i)}}var oQ={provide:mc,deps:[[new Dn,hO]]},rQ={provide:Oi,useFactory:nQ,deps:[[new Dn,hO],Ko]};function gR(n,...t){return Nt("angularfire",Sr.full,"auth"),Wn([rQ,oQ,{provide:hO,useFactory:iQ(n),multi:!0,deps:[rt,ze,Tr,fs,[new Dn,na],...t]}])}var kr=Ht(pR,!0);var hR=Ht(aO,!0,2);var mR=Ht(gO,!0);var _R=Ht(cO,!0,2);var CR=Ht(fO,!0,2);var mO=Ht(dO,!0,2);var bR="@firebase/database",yR="1.0.20";var Mw="";function sQ(n){Mw=n}var OO=class{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,e){e==null?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),Pn(e))}get(t){let e=this.domStorage_.getItem(this.prefixedName_(t));return e==null?null:Ql(e)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}};var wO=class{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,e){e==null?delete this.cache_[t]:this.cache_[t]=e}get(t){return Qo(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}};var XR=function(n){try{if(typeof window<"u"&&typeof window[n]<"u"){let t=window[n];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new OO(t)}}catch{}return new wO},Cc=XR("localStorage"),xO=XR("sessionStorage");var ad=new xr("@firebase/database"),aQ=(function(){let n=1;return function(){return n++}})(),eN=function(n){let t=$A(n),e=new g0;e.update(t);let i=e.digest();return Kl.encodeByteArray(i)},of=function(...n){let t="";for(let e=0;e<n.length;e++){let i=n[e];Array.isArray(i)||i&&typeof i=="object"&&typeof i.length=="number"?t+=of.apply(null,i):typeof i=="object"?t+=Pn(i):t+=i,t+=" "}return t},vc=null,MR=!0,cQ=function(n,t){ee(!t||n===!0||n===!1,"Can't turn on custom loggers persistently."),n===!0?(ad.logLevel=St.VERBOSE,vc=ad.log.bind(ad),t&&xO.set("logging_enabled",!0)):typeof n=="function"?vc=n:(vc=null,xO.remove("logging_enabled"))},Xn=function(...n){if(MR===!0&&(MR=!1,vc===null&&xO.get("logging_enabled")===!0&&cQ(!0)),vc){let t=of.apply(null,n);vc(t)}},rf=function(n){return function(...t){Xn(n,...t)}},EO=function(...n){let t="FIREBASE INTERNAL ERROR: "+of(...n);ad.error(t)},Cs=function(...n){let t=`FIREBASE FATAL ERROR: ${of(...n)}`;throw ad.error(t),new Error(t)},xi=function(...n){let t="FIREBASE WARNING: "+of(...n);ad.warn(t)},lQ=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&xi("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Pw=function(n){return typeof n=="number"&&(n!==n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},dQ=function(n){if(Or()||document.readyState==="complete")n();else{let t=!1,e=function(){if(!document.body){setTimeout(e,Math.floor(10));return}t||(t=!0,n())};document.addEventListener?(document.addEventListener("DOMContentLoaded",e,!1),window.addEventListener("load",e,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&e()}),window.attachEvent("onload",e))}},yc="[MIN_NAME]",ua="[MAX_NAME]",Oc=function(n,t){if(n===t)return 0;if(n===yc||t===ua)return-1;if(t===yc||n===ua)return 1;{let e=PR(n),i=PR(t);return e!==null?i!==null?e-i===0?n.length-t.length:e-i:-1:i!==null?1:n<t?-1:1}},uQ=function(n,t){return n===t?0:n<t?-1:1},Fp=function(n,t){if(t&&n in t)return t[n];throw new Error("Missing required key ("+n+") in object: "+Pn(t))},Ow=function(n){if(typeof n!="object"||n===null)return Pn(n);let t=[];for(let i in n)t.push(i);t.sort();let e="{";for(let i=0;i<t.length;i++)i!==0&&(e+=","),e+=Pn(t[i]),e+=":",e+=Ow(n[t[i]]);return e+="}",e},tN=function(n,t){let e=n.length;if(e<=t)return[n];let i=[];for(let o=0;o<e;o+=t)o+t>e?i.push(n.substring(o,e)):i.push(n.substring(o,o+t));return i};function ei(n,t){for(let e in n)n.hasOwnProperty(e)&&t(e,n[e])}var nN=function(n){ee(!Pw(n),"Invalid JSON number");let t=11,e=52,i=(1<<t-1)-1,o,r,s,a,c;n===0?(r=0,s=0,o=1/n===-1/0?1:0):(o=n<0,n=Math.abs(n),n>=Math.pow(2,1-i)?(a=Math.min(Math.floor(Math.log(n)/Math.LN2),i),r=a+i,s=Math.round(n*Math.pow(2,e-a)-Math.pow(2,e))):(r=0,s=Math.round(n/Math.pow(2,1-i-e))));let u=[];for(c=e;c;c-=1)u.push(s%2?1:0),s=Math.floor(s/2);for(c=t;c;c-=1)u.push(r%2?1:0),r=Math.floor(r/2);u.push(o?1:0),u.reverse();let C=u.join(""),v="";for(c=0;c<64;c+=8){let P=parseInt(C.substr(c,8),2).toString(16);P.length===1&&(P="0"+P),v=v+P}return v.toLowerCase()},pQ=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},fQ=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function gQ(n,t){let e="Unknown Error";n==="too_big"?e="The data requested exceeds the maximum size that can be accessed with a single request.":n==="permission_denied"?e="Client doesn't have permission to access the desired data.":n==="unavailable"&&(e="The service is unavailable");let i=new Error(n+" at "+t._path.toString()+": "+e);return i.code=n.toUpperCase(),i}var hQ=new RegExp("^-?(0*)\\d{1,10}$"),mQ=-2147483648,_Q=2147483647,PR=function(n){if(hQ.test(n)){let t=Number(n);if(t>=mQ&&t<=_Q)return t}return null},_d=function(n){try{n()}catch(t){setTimeout(()=>{let e=t.stack||"";throw xi("Exception was thrown by user callback.",e),t},Math.floor(0))}},CQ=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Up=function(n,t){let e=setTimeout(n,t);return typeof e=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(e):typeof e=="object"&&e.unref&&e.unref(),e};var IO=class{constructor(t,e){this.appCheckProvider=e,this.appName=t.name,Jn(t)&&t.settings.appCheckToken&&(this.serverAppAppCheckToken=t.settings.appCheckToken),this.appCheck=e?.getImmediate({optional:!0}),this.appCheck||e?.get().then(i=>this.appCheck=i)}getToken(t){if(this.serverAppAppCheckToken){if(t)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(t):new Promise((e,i)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(e,i):e(null)},0)})}addTokenChangeListener(t){var e;(e=this.appCheckProvider)===null||e===void 0||e.get().then(i=>i.addTokenListener(t))}notifyForInvalidToken(){xi(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}};var SO=class{constructor(t,e,i){this.appName_=t,this.firebaseOptions_=e,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(o=>this.auth_=o)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(e=>e&&e.code==="auth/token-not-initialized"?(Xn("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)):new Promise((e,i)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(e,i):e(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(e=>e.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(e=>e.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?t+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?t+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':t+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',xi(t)}},$p=(()=>{class n{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}n.OWNER="owner";return n})(),Q0="5",iN="v",oN="s",rN="r",sN="f",aN=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,cN="ls",lN="p",TO="ac",dN="websocket",uN="long_polling";var K0=class{constructor(t,e,i,o,r=!1,s="",a=!1,c=!1,u=null){this.secure=e,this.namespace=i,this.webSocketOnly=o,this.nodeAdmin=r,this.persistenceKey=s,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=c,this.emulatorOptions=u,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Cc.get("host:"+t)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&Cc.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){let t=this.secure?"https://":"http://",e=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${t}${this.host}/${e}`}};function vQ(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams}function pN(n,t,e){ee(typeof t=="string","typeof type must == string"),ee(typeof e=="object","typeof params must == object");let i;if(t===dN)i=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else if(t===uN)i=(n.secure?"https://":"http://")+n.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+t);vQ(n)&&(e.ns=n.namespace);let o=[];return ei(e,(r,s)=>{o.push(r+"="+s)}),i+o.join("&")}var DO=class{constructor(){this.counters_={}}incrementCounter(t,e=1){Qo(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=e}get(){return kA(this.counters_)}};var _O={},CO={};function ww(n){let t=n.toString();return _O[t]||(_O[t]=new DO),_O[t]}function bQ(n,t){let e=n.toString();return CO[e]||(CO[e]=t()),CO[e]}var kO=class{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,e){this.closeAfterResponse=t,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,e){for(this.pendingResponses[t]=e;this.pendingResponses[this.currentResponseNum];){let i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let o=0;o<i.length;++o)i[o]&&_d(()=>{this.onMessage_(i[o])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}};var OR="start",yQ="close",MQ="pLPCommand",PQ="pRTLPCB",fN="id",gN="pw",hN="ser",OQ="cb",wQ="seg",xQ="ts",EQ="d",IQ="dframe",mN=1870,_N=30,SQ=mN-_N,TQ=25e3,DQ=3e4,AO=class n{constructor(t,e,i,o,r,s,a){this.connId=t,this.repoInfo=e,this.applicationId=i,this.appCheckToken=o,this.authToken=r,this.transportSessionId=s,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=rf(t),this.stats_=ww(e),this.urlFn=c=>(this.appCheckToken&&(c[TO]=this.appCheckToken),pN(e,uN,c))}open(t,e){this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new kO(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(DQ)),dQ(()=>{if(this.isClosed_)return;this.scriptTagHolder=new RO((...r)=>{let[s,a,c,u,C]=r;if(this.incrementIncomingBytes_(r),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,s===OR)this.id=a,this.password=c;else if(s===yQ)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+s)},(...r)=>{let[s,a]=r;this.incrementIncomingBytes_(r),this.myPacketOrderer.handleResponse(s,a)},()=>{this.onClosed_()},this.urlFn);let i={};i[OR]="t",i[hN]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(i[OQ]=this.scriptTagHolder.uniqueCallbackIdentifier),i[iN]=Q0,this.transportSessionId&&(i[oN]=this.transportSessionId),this.lastSessionId&&(i[cN]=this.lastSessionId),this.applicationId&&(i[lN]=this.applicationId),this.appCheckToken&&(i[TO]=this.appCheckToken),typeof location<"u"&&location.hostname&&aN.test(location.hostname)&&(i[rN]=sN);let o=this.urlFn(i);this.log_("Connecting via long-poll to "+o),this.scriptTagHolder.addTag(o,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){n.forceAllow_=!0}static forceDisallow(){n.forceDisallow_=!0}static isAvailable(){return Or()?!1:n.forceAllow_?!0:!n.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!pQ()&&!fQ()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){let e=Pn(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);let i=iP(e),o=tN(i,SQ);for(let r=0;r<o.length;r++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,o.length,o[r]),this.curSegmentNum++}addDisconnectPingFrame(t,e){if(Or())return;this.myDisconnFrame=document.createElement("iframe");let i={};i[IQ]="t",i[fN]=t,i[gN]=e,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){let e=Pn(t).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)}},RO=class n{constructor(t,e,i,o){if(this.onDisconnect=i,this.urlFn=o,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0,Or())this.commandCB=t,this.onMessageCB=e;else{this.uniqueCallbackIdentifier=aQ(),window[MQ+this.uniqueCallbackIdentifier]=t,window[PQ+this.uniqueCallbackIdentifier]=e,this.myIFrame=n.createIFrame_();let r="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(r='<script>document.domain="'+document.domain+'";<\/script>');let s="<html><body>"+r+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(s),this.myIFrame.doc.close()}catch(a){Xn("frame writing exception"),a.stack&&Xn(a.stack),Xn(a)}}}static createIFrame_(){let t=document.createElement("iframe");if(t.style.display="none",document.body){document.body.appendChild(t);try{t.contentWindow.document||Xn("No IE domain setting required")}catch{let i=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));let t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,e){for(this.myID=t,this.myPW=e,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;let t={};t[fN]=this.myID,t[gN]=this.myPW,t[hN]=this.currentSerial;let e=this.urlFn(t),i="",o=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+_N+i.length<=mN;){let s=this.pendingSegs.shift();i=i+"&"+wQ+o+"="+s.seg+"&"+xQ+o+"="+s.ts+"&"+EQ+o+"="+s.d,o++}return e=e+i,this.addLongPollTag_(e,this.currentSerial),!0}else return!1}enqueueSegment(t,e,i){this.pendingSegs.push({seg:t,ts:e,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(t,e){this.outstandingRequests.add(e);let i=()=>{this.outstandingRequests.delete(e),this.newRequest_()},o=setTimeout(i,Math.floor(TQ)),r=()=>{clearTimeout(o),i()};this.addTag(t,r)}addTag(t,e){Or()?this.doNodeLongPoll(t,e):setTimeout(()=>{try{if(!this.sendNewPolls)return;let i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=t,i.onload=i.onreadystatechange=function(){let o=i.readyState;(!o||o==="loaded"||o==="complete")&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),e())},i.onerror=()=>{Xn("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))}};var kQ=16384,AQ=45e3,Y0=null;typeof MozWebSocket<"u"?Y0=MozWebSocket:typeof WebSocket<"u"&&(Y0=WebSocket);var zp=(()=>{class n{constructor(e,i,o,r,s,a,c){this.connId=e,this.applicationId=o,this.appCheckToken=r,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=rf(this.connId),this.stats_=ww(i),this.connURL=n.connectionURL_(i,a,c,r,o),this.nodeAdmin=i.nodeAdmin}static connectionURL_(e,i,o,r,s){let a={};return a[iN]=Q0,!Or()&&typeof location<"u"&&location.hostname&&aN.test(location.hostname)&&(a[rN]=sN),i&&(a[oN]=i),o&&(a[cN]=o),r&&(a[TO]=r),s&&(a[lN]=s),pN(e,dN,a)}open(e,i){this.onDisconnect=i,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Cc.set("previous_websocket_failure",!0);try{let o;if(Or()){let r=this.nodeAdmin?"AdminNode":"Node";o={headers:{"User-Agent":`Firebase/${Q0}/${Mw}/${process.platform}/${r}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(o.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(o.headers["X-Firebase-AppCheck"]=this.appCheckToken);let s=process.env,a=this.connURL.indexOf("wss://")===0?s.HTTPS_PROXY||s.https_proxy:s.HTTP_PROXY||s.http_proxy;a&&(o.proxy={origin:a})}this.mySock=new Y0(this.connURL,[],o)}catch(o){this.log_("Error instantiating WebSocket.");let r=o.message||o.data;r&&this.log_(r),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=o=>{this.handleIncomingFrame(o)},this.mySock.onerror=o=>{this.log_("WebSocket error.  Closing connection.");let r=o.message||o.data;r&&this.log_(r),this.onClosed_()}}start(){}static forceDisallow(){n.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){let i=/Android ([0-9]{0,}\.[0-9]{0,})/,o=navigator.userAgent.match(i);o&&o.length>1&&parseFloat(o[1])<4.4&&(e=!0)}return!e&&Y0!==null&&!n.forceDisallow_}static previouslyFailed(){return Cc.isInMemoryStorage||Cc.get("previous_websocket_failure")===!0}markConnectionHealthy(){Cc.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){let i=this.frames.join("");this.frames=null;let o=Ql(i);this.onMessage(o)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(ee(this.frames===null,"We already have a frame buffer"),e.length<=6){let i=Number(e);if(!isNaN(i))return this.handleNewFrameCount_(i),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;let i=e.data;if(this.bytesReceived+=i.length,this.stats_.incrementCounter("bytes_received",i.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(i);else{let o=this.extractFrameCount_(i);o!==null&&this.appendFrame_(o)}}send(e){this.resetKeepAlive();let i=Pn(e);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);let o=tN(i,kQ);o.length>1&&this.sendString_(String(o.length));for(let r=0;r<o.length;r++)this.sendString_(o[r])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(AQ))}sendString_(e){try{this.mySock.send(e)}catch(i){this.log_("Exception thrown from WebSocket.send():",i.message||i.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}n.responsesRequiredToBeHealthy=2,n.healthyTimeout=3e4;return n})(),RQ=(()=>{class n{static get ALL_TRANSPORTS(){return[AO,zp]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){let i=zp&&zp.isAvailable(),o=i&&!zp.previouslyFailed();if(e.webSocketOnly&&(i||xi("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),o=!0),o)this.transports_=[zp];else{let r=this.transports_=[];for(let s of n.ALL_TRANSPORTS)s&&s.isAvailable()&&r.push(s);n.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}n.globalTransportInitialized_=!1;return n})(),NQ=6e4,LQ=5e3,FQ=10*1024,zQ=100*1024,vO="t",wR="d",BQ="s",xR="r",jQ="e",ER="o",IR="a",SR="n",TR="p",VQ="h",NO=class{constructor(t,e,i,o,r,s,a,c,u,C){this.id=t,this.repoInfo_=e,this.applicationId_=i,this.appCheckToken_=o,this.authToken_=r,this.onMessage_=s,this.onReady_=a,this.onDisconnect_=c,this.onKill_=u,this.lastSessionId=C,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=rf("c:"+this.id+":"),this.transportManager_=new RQ(e),this.log_("Connection created"),this.start_()}start_(){let t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;let e=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(e,i)},Math.floor(0));let o=t.healthyTimeout||0;o>0&&(this.healthyTimeout_=Up(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>zQ?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>FQ?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(o)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return e=>{t===this.conn_?this.onConnectionLost_(e):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return e=>{this.state_!==2&&(t===this.rx_?this.onPrimaryMessageReceived_(e):t===this.secondaryConn_?this.onSecondaryMessageReceived_(e):this.log_("message on old connection"))}}sendRequest(t){let e={t:"d",d:t};this.sendData_(e)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if(vO in t){let e=t[vO];e===IR?this.upgradeIfSecondaryHealthy_():e===xR?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):e===ER&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){let e=Fp("t",t),i=Fp("d",t);if(e==="c")this.onSecondaryControl_(i);else if(e==="d")this.pendingDataMessages.push(i);else throw new Error("Unknown protocol layer: "+e)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:TR,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:IR,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:SR,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){let e=Fp("t",t),i=Fp("d",t);e==="c"?this.onControl_(i):e==="d"&&this.onDataMessage_(i)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){let e=Fp(vO,t);if(wR in t){let i=t[wR];if(e===VQ){let o=Object.assign({},i);this.repoInfo_.isUsingEmulator&&(o.h=this.repoInfo_.host),this.onHandshake_(o)}else if(e===SR){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let o=0;o<this.pendingDataMessages.length;++o)this.onDataMessage_(this.pendingDataMessages[o]);this.pendingDataMessages=[],this.tryCleanupConnection()}else e===BQ?this.onConnectionShutdown_(i):e===xR?this.onReset_(i):e===jQ?EO("Server Error: "+i):e===ER?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):EO("Unknown control packet command: "+e)}}onHandshake_(t){let e=t.ts,i=t.v,o=t.h;this.sessionId=t.s,this.repoInfo_.host=o,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),Q0!==i&&xi("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){let t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;let e=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(e,i),Up(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(NQ))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,e){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Up(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(LQ))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:TR,d:{}}}))}onSecondaryConnectionLost_(){let t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,!t&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Cc.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(t)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}};var Z0=class{put(t,e,i,o){}merge(t,e,i,o){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,e,i){}onDisconnectMerge(t,e,i){}onDisconnectCancel(t,e){}reportStats(t){}};var J0=class{constructor(t){this.allowedEvents_=t,this.listeners_={},ee(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...e){if(Array.isArray(this.listeners_[t])){let i=[...this.listeners_[t]];for(let o=0;o<i.length;o++)i[o].callback.apply(i[o].context,e)}}on(t,e,i){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:e,context:i});let o=this.getInitialEvent(t);o&&e.apply(i,o)}off(t,e,i){this.validateEventType_(t);let o=this.listeners_[t]||[];for(let r=0;r<o.length;r++)if(o[r].callback===e&&(!i||i===o[r].context)){o.splice(r,1);return}}validateEventType_(t){ee(this.allowedEvents_.find(e=>e===t),"Unknown event: "+t)}};var X0=class n extends J0{static getInstance(){return new n}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!vp()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(t){return ee(t==="online","Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}};var DR=32,kR=768,Pt=class{constructor(t,e){if(e===void 0){this.pieces_=t.split("/");let i=0;for(let o=0;o<this.pieces_.length;o++)this.pieces_[o].length>0&&(this.pieces_[i]=this.pieces_[o],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=e}toString(){let t="";for(let e=this.pieceNum_;e<this.pieces_.length;e++)this.pieces_[e]!==""&&(t+="/"+this.pieces_[e]);return t||"/"}};function vt(){return new Pt("")}function nt(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function pa(n){return n.pieces_.length-n.pieceNum_}function Bt(n){let t=n.pieceNum_;return t<n.pieces_.length&&t++,new Pt(n.pieces_,t)}function xw(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function UQ(n){let t="";for(let e=n.pieceNum_;e<n.pieces_.length;e++)n.pieces_[e]!==""&&(t+="/"+encodeURIComponent(String(n.pieces_[e])));return t||"/"}function Gp(n,t=0){return n.pieces_.slice(n.pieceNum_+t)}function CN(n){if(n.pieceNum_>=n.pieces_.length)return null;let t=[];for(let e=n.pieceNum_;e<n.pieces_.length-1;e++)t.push(n.pieces_[e]);return new Pt(t,0)}function on(n,t){let e=[];for(let i=n.pieceNum_;i<n.pieces_.length;i++)e.push(n.pieces_[i]);if(t instanceof Pt)for(let i=t.pieceNum_;i<t.pieces_.length;i++)e.push(t.pieces_[i]);else{let i=t.split("/");for(let o=0;o<i.length;o++)i[o].length>0&&e.push(i[o])}return new Pt(e,0)}function it(n){return n.pieceNum_>=n.pieces_.length}function wi(n,t){let e=nt(n),i=nt(t);if(e===null)return t;if(e===i)return wi(Bt(n),Bt(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+n+")")}function $Q(n,t){let e=Gp(n,0),i=Gp(t,0);for(let o=0;o<e.length&&o<i.length;o++){let r=Oc(e[o],i[o]);if(r!==0)return r}return e.length===i.length?0:e.length<i.length?-1:1}function Ew(n,t){if(pa(n)!==pa(t))return!1;for(let e=n.pieceNum_,i=t.pieceNum_;e<=n.pieces_.length;e++,i++)if(n.pieces_[e]!==t.pieces_[i])return!1;return!0}function yo(n,t){let e=n.pieceNum_,i=t.pieceNum_;if(pa(n)>pa(t))return!1;for(;e<n.pieces_.length;){if(n.pieces_[e]!==t.pieces_[i])return!1;++e,++i}return!0}var LO=class{constructor(t,e){this.errorPrefix_=e,this.parts_=Gp(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=Mp(this.parts_[i]);vN(this)}};function qQ(n,t){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(t),n.byteLength_+=Mp(t),vN(n)}function HQ(n){let t=n.parts_.pop();n.byteLength_-=Mp(t),n.parts_.length>0&&(n.byteLength_-=1)}function vN(n){if(n.byteLength_>kR)throw new Error(n.errorPrefix_+"has a key path longer than "+kR+" bytes ("+n.byteLength_+").");if(n.parts_.length>DR)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+DR+") or object contains a cycle "+_c(n))}function _c(n){return n.parts_.length===0?"":"in property '"+n.parts_.join(".")+"'"}var FO=class n extends J0{static getInstance(){return new n}constructor(){super(["visible"]);let t,e;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(e="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(e="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(e="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(e="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,e&&document.addEventListener(e,()=>{let i=!document[t];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}getInitialEvent(t){return ee(t==="visible","Unknown event type: "+t),[this.visible_]}};var Bp=1e3,WQ=300*1e3,AR=30*1e3,GQ=1.3,QQ=3e4,KQ="server_kill",RR=3,Iw=(()=>{class n extends Z0{constructor(e,i,o,r,s,a,c,u){if(super(),this.repoInfo_=e,this.applicationId_=i,this.onDataUpdate_=o,this.onConnectStatus_=r,this.onServerInfoUpdate_=s,this.authTokenProvider_=a,this.appCheckTokenProvider_=c,this.authOverride_=u,this.id=n.nextPersistentConnectionId_++,this.log_=rf("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Bp,this.maxReconnectDelay_=WQ,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,u&&!Or())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");FO.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&X0.getInstance().on("online",this.onOnline_,this)}sendRequest(e,i,o){let r=++this.requestNumber_,s={r,a:e,b:i};this.log_(Pn(s)),ee(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),o&&(this.requestCBHash_[r]=o)}get(e){this.initConnection_();let i=new vo,r={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:a=>{let c=a.d;a.s==="ok"?i.resolve(c):i.reject(c)}};this.outstandingGets_.push(r),this.outstandingGetCount_++;let s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),i.promise}listen(e,i,o,r){this.initConnection_();let s=e._queryIdentifier,a=e._path.toString();this.log_("Listen called for "+a+" "+s),this.listens.has(a)||this.listens.set(a,new Map),ee(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),ee(!this.listens.get(a).has(s),"listen() called twice for same path/queryId.");let c={onComplete:r,hashFn:i,query:e,tag:o};this.listens.get(a).set(s,c),this.connected_&&this.sendListen_(c)}sendGet_(e){let i=this.outstandingGets_[e];this.sendRequest("g",i.request,o=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),i.onComplete&&i.onComplete(o)})}sendListen_(e){let i=e.query,o=i._path.toString(),r=i._queryIdentifier;this.log_("Listen on "+o+" for "+r);let s={p:o},a="q";e.tag&&(s.q=i._queryObject,s.t=e.tag),s.h=e.hashFn(),this.sendRequest(a,s,c=>{let u=c.d,C=c.s;n.warnOnListenWarnings_(u,i),(this.listens.get(o)&&this.listens.get(o).get(r))===e&&(this.log_("listen response",c),C!=="ok"&&this.removeListen_(o,r),e.onComplete&&e.onComplete(C,u))})}static warnOnListenWarnings_(e,i){if(e&&typeof e=="object"&&Qo(e,"w")){let o=dc(e,"w");if(Array.isArray(o)&&~o.indexOf("no_index")){let r='".indexOn": "'+i._queryParams.getIndex().toString()+'"',s=i._path.toString();xi(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${r} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||VA(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=AR)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){let e=this.authToken_,i=jA(e)?"auth":"gauth",o={cred:e};this.authOverride_===null?o.noauth=!0:typeof this.authOverride_=="object"&&(o.authvar=this.authOverride_),this.sendRequest(i,o,r=>{let s=r.s,a=r.d||"error";this.authToken_===e&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,a))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{let i=e.s,o=e.d||"error";i==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(i,o)})}unlisten(e,i){let o=e._path.toString(),r=e._queryIdentifier;this.log_("Unlisten called for "+o+" "+r),ee(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(o,r)&&this.connected_&&this.sendUnlisten_(o,r,e._queryObject,i)}sendUnlisten_(e,i,o,r){this.log_("Unlisten on "+e+" for "+i);let s={p:e},a="n";r&&(s.q=o,s.t=r),this.sendRequest(a,s)}onDisconnectPut(e,i,o){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,i,o):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:i,onComplete:o})}onDisconnectMerge(e,i,o){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,i,o):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:i,onComplete:o})}onDisconnectCancel(e,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:i})}sendOnDisconnect_(e,i,o,r){let s={p:i,d:o};this.log_("onDisconnect "+e,s),this.sendRequest(e,s,a=>{r&&setTimeout(()=>{r(a.s,a.d)},Math.floor(0))})}put(e,i,o,r){this.putInternal("p",e,i,o,r)}merge(e,i,o,r){this.putInternal("m",e,i,o,r)}putInternal(e,i,o,r,s){this.initConnection_();let a={p:i,d:o};s!==void 0&&(a.h=s),this.outstandingPuts_.push({action:e,request:a,onComplete:r}),this.outstandingPutCount_++;let c=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(c):this.log_("Buffering put: "+i)}sendPut_(e){let i=this.outstandingPuts_[e].action,o=this.outstandingPuts_[e].request,r=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(i,o,s=>{this.log_(i+" response",s),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),r&&r(s.s,s.d)})}reportStats(e){if(this.connected_){let i={c:e};this.log_("reportStats",i),this.sendRequest("s",i,o=>{if(o.s!=="ok"){let s=o.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+Pn(e));let i=e.r,o=this.requestCBHash_[i];o&&(delete this.requestCBHash_[i],o(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,i){this.log_("handleServerMessage",e,i),e==="d"?this.onDataUpdate_(i.p,i.d,!1,i.t):e==="m"?this.onDataUpdate_(i.p,i.d,!0,i.t):e==="c"?this.onListenRevoked_(i.p,i.q):e==="ac"?this.onAuthRevoked_(i.s,i.d):e==="apc"?this.onAppCheckRevoked_(i.s,i.d):e==="sd"?this.onSecurityDebugPacket_(i):EO("Unrecognized action received from server: "+Pn(e)+`
Are you using the latest client?`)}onReady_(e,i){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=i,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){ee(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Bp,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Bp,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>QQ&&(this.reconnectDelay_=Bp),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());let e=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_),i=Math.max(0,this.reconnectDelay_-e);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*GQ)}this.onConnectStatus_(!1)}establishConnection_(){return L(this,null,function*(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;let e=this.onDataMessage_.bind(this),i=this.onReady_.bind(this),o=this.onRealtimeDisconnect_.bind(this),r=this.id+":"+n.nextConnectionId_++,s=this.lastSessionId,a=!1,c=null,u=function(){c?c.close():(a=!0,o())},C=function(P){ee(c,"sendRequest call when we're not connected not allowed."),c.sendRequest(P)};this.realtime_={close:u,sendRequest:C};let v=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{let[P,w]=yield Promise.all([this.authTokenProvider_.getToken(v),this.appCheckTokenProvider_.getToken(v)]);a?Xn("getToken() completed but was canceled"):(Xn("getToken() completed. Creating connection."),this.authToken_=P&&P.accessToken,this.appCheckToken_=w&&w.token,c=new NO(r,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,i,o,S=>{xi(S+" ("+this.repoInfo_.toString()+")"),this.interrupt(KQ)},s))}catch(P){this.log_("Failed to get token: "+P),a||(this.repoInfo_.nodeAdmin&&xi(P),u())}}})}interrupt(e){Xn("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Xn("Resuming connection for reason: "+e),delete this.interruptReasons_[e],bp(this.interruptReasons_)&&(this.reconnectDelay_=Bp,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){let i=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:i})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){let i=this.outstandingPuts_[e];i&&"h"in i.request&&i.queued&&(i.onComplete&&i.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,i){let o;i?o=i.map(s=>Ow(s)).join("$"):o="default";let r=this.removeListen_(e,o);r&&r.onComplete&&r.onComplete("permission_denied")}removeListen_(e,i){let o=new Pt(e).toString(),r;if(this.listens.has(o)){let s=this.listens.get(o);r=s.get(i),s.delete(i),s.size===0&&this.listens.delete(o)}else r=void 0;return r}onAuthRevoked_(e,i){Xn("Auth token revoked: "+e+"/"+i),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=RR&&(this.reconnectDelay_=AR,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,i){Xn("App check token revoked: "+e+"/"+i),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=RR&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(let e of this.listens.values())for(let i of e.values())this.sendListen_(i);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){let e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){let e={},i="js";Or()&&(this.repoInfo_.nodeAdmin?i="admin_node":i="node"),e["sdk."+i+"."+Mw.replace(/\./g,"-")]=1,vp()?e["framework.cordova"]=1:_0()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){let e=X0.getInstance().currentlyOnline();return bp(this.interruptReasons_)&&e}}n.nextPersistentConnectionId_=0,n.nextConnectionId_=0;return n})(),ot=class n{constructor(t,e){this.name=t,this.node=e}static Wrap(t,e){return new n(t,e)}};var cd=class{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,e){let i=new ot(yc,t),o=new ot(yc,e);return this.compare(i,o)!==0}minPost(){return ot.MIN}};var G0,e_=class extends cd{static get __EMPTY_NODE(){return G0}static set __EMPTY_NODE(t){G0=t}compare(t,e){return Oc(t.name,e.name)}isDefinedOn(t){throw lc("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,e){return!1}minPost(){return ot.MIN}maxPost(){return new ot(ua,G0)}makePost(t,e){return ee(typeof t=="string","KeyIndex indexValue must always be a string."),new ot(t,G0)}toString(){return".key"}},bc=new e_;var sd=class{constructor(t,e,i,o,r=null){this.isReverse_=o,this.resultGenerator_=r,this.nodeStack_=[];let s=1;for(;!t.isEmpty();)if(t=t,s=e?i(t.key,e):1,o&&(s*=-1),s<0)this.isReverse_?t=t.left:t=t.right;else if(s===0){this.nodeStack_.push(t);break}else this.nodeStack_.push(t),this.isReverse_?t=t.right:t=t.left}getNext(){if(this.nodeStack_.length===0)return null;let t=this.nodeStack_.pop(),e;if(this.resultGenerator_?e=this.resultGenerator_(t.key,t.value):e={key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;let t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}},Jo=(()=>{class n{constructor(e,i,o,r,s){this.key=e,this.value=i,this.color=o??n.RED,this.left=r??Mo.EMPTY_NODE,this.right=s??Mo.EMPTY_NODE}copy(e,i,o,r,s){return new n(e??this.key,i??this.value,o??this.color,r??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,o){let r=this,s=o(e,r.key);return s<0?r=r.copy(null,null,null,r.left.insert(e,i,o),null):s===0?r=r.copy(null,i,null,null,null):r=r.copy(null,null,null,null,r.right.insert(e,i,o)),r.fixUp_()}removeMin_(){if(this.left.isEmpty())return Mo.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,i){let o,r;if(o=this,i(e,o.key)<0)!o.left.isEmpty()&&!o.left.isRed_()&&!o.left.left.isRed_()&&(o=o.moveRedLeft_()),o=o.copy(null,null,null,o.left.remove(e,i),null);else{if(o.left.isRed_()&&(o=o.rotateRight_()),!o.right.isEmpty()&&!o.right.isRed_()&&!o.right.left.isRed_()&&(o=o.moveRedRight_()),i(e,o.key)===0){if(o.right.isEmpty())return Mo.EMPTY_NODE;r=o.right.min_(),o=o.copy(r.key,r.value,null,null,o.right.removeMin_())}o=o.copy(null,null,null,null,o.right.remove(e,i))}return o.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){let e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){let e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){let e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth_(){let e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");let e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}return n.RED=!0,n.BLACK=!1,n})(),zO=class{copy(t,e,i,o,r){return this}insert(t,e,i){return new Jo(t,e,null)}remove(t,e){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}},Mo=class n{constructor(t,e=n.EMPTY_NODE){this.comparator_=t,this.root_=e}insert(t,e){return new n(this.comparator_,this.root_.insert(t,e,this.comparator_).copy(null,null,Jo.BLACK,null,null))}remove(t){return new n(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,Jo.BLACK,null,null))}get(t){let e,i=this.root_;for(;!i.isEmpty();){if(e=this.comparator_(t,i.key),e===0)return i.value;e<0?i=i.left:e>0&&(i=i.right)}return null}getPredecessorKey(t){let e,i=this.root_,o=null;for(;!i.isEmpty();)if(e=this.comparator_(t,i.key),e===0){if(i.left.isEmpty())return o?o.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}else e<0?i=i.left:e>0&&(o=i,i=i.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new sd(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,e){return new sd(this.root_,t,this.comparator_,!1,e)}getReverseIteratorFrom(t,e){return new sd(this.root_,t,this.comparator_,!0,e)}getReverseIterator(t){return new sd(this.root_,null,this.comparator_,!0,t)}};Mo.EMPTY_NODE=new zO;function YQ(n,t){return Oc(n.name,t.name)}function Sw(n,t){return Oc(n,t)}var BO;function ZQ(n){BO=n}var bN=function(n){return typeof n=="number"?"number:"+nN(n):"string:"+n},yN=function(n){if(n.isLeafNode()){let t=n.val();ee(typeof t=="string"||typeof t=="number"||typeof t=="object"&&Qo(t,".sv"),"Priority must be a string or number.")}else ee(n===BO||n.isEmpty(),"priority of unexpected type.");ee(n===BO||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};var NR,ld=(()=>{class n{static set __childrenNodeConstructor(e){NR=e}static get __childrenNodeConstructor(){return NR}constructor(e,i=n.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=i,this.lazyHash_=null,ee(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),yN(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new n(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return it(e)?this:nt(e)===".priority"?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,i){return null}updateImmediateChild(e,i){return e===".priority"?this.updatePriority(i):i.isEmpty()&&e!==".priority"?this:n.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,i).updatePriority(this.priorityNode_)}updateChild(e,i){let o=nt(e);return o===null?i:i.isEmpty()&&o!==".priority"?this:(ee(o!==".priority"||pa(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(o,n.__childrenNodeConstructor.EMPTY_NODE.updateChild(Bt(e),i)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,i){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+bN(this.priorityNode_.val())+":");let i=typeof this.value_;e+=i+":",i==="number"?e+=nN(this.value_):e+=this.value_,this.lazyHash_=eN(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===n.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof n.__childrenNodeConstructor?-1:(ee(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){let i=typeof e.value_,o=typeof this.value_,r=n.VALUE_TYPE_ORDER.indexOf(i),s=n.VALUE_TYPE_ORDER.indexOf(o);return ee(r>=0,"Unknown leaf type: "+i),ee(s>=0,"Unknown leaf type: "+o),r===s?o==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:s-r}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){let i=e;return this.value_===i.value_&&this.priorityNode_.equals(i.priorityNode_)}else return!1}}n.VALUE_TYPE_ORDER=["object","boolean","number","string"];return n})(),MN,PN;function JQ(n){MN=n}function XQ(n){PN=n}var jO=class extends cd{compare(t,e){let i=t.node.getPriority(),o=e.node.getPriority(),r=i.compareTo(o);return r===0?Oc(t.name,e.name):r}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,e){return!t.getPriority().equals(e.getPriority())}minPost(){return ot.MIN}maxPost(){return new ot(ua,new ld("[PRIORITY-POST]",PN))}makePost(t,e){let i=MN(t);return new ot(e,new ld("[PRIORITY-POST]",i))}toString(){return".priority"}},Yt=new jO;var eK=Math.log(2),VO=class{constructor(t){let e=r=>parseInt(Math.log(r)/eK,10),i=r=>parseInt(Array(r+1).join("1"),2);this.count=e(t+1),this.current_=this.count-1;let o=i(this.count);this.bits_=t+1&o}nextBitIsOne(){let t=!(this.bits_&1<<this.current_);return this.current_--,t}},t_=function(n,t,e,i){n.sort(t);let o=function(c,u){let C=u-c,v,P;if(C===0)return null;if(C===1)return v=n[c],P=e?e(v):v,new Jo(P,v.node,Jo.BLACK,null,null);{let w=parseInt(C/2,10)+c,S=o(c,w),F=o(w+1,u);return v=n[w],P=e?e(v):v,new Jo(P,v.node,Jo.BLACK,S,F)}},r=function(c){let u=null,C=null,v=n.length,P=function(S,F){let N=v-S,W=v;v-=S;let Ce=o(N+1,W),we=n[N],Me=e?e(we):we;w(new Jo(Me,we.node,F,null,Ce))},w=function(S){u?(u.left=S,u=S):(C=S,u=S)};for(let S=0;S<c.count;++S){let F=c.nextBitIsOne(),N=Math.pow(2,c.count-(S+1));F?P(N,Jo.BLACK):(P(N,Jo.BLACK),P(N,Jo.RED))}return C},s=new VO(n.length),a=r(s);return new Mo(i||t,a)};var bO,rd={},dd=class n{static get Default(){return ee(rd&&Yt,"ChildrenNode.ts has not been loaded"),bO=bO||new n({".priority":rd},{".priority":Yt}),bO}constructor(t,e){this.indexes_=t,this.indexSet_=e}get(t){let e=dc(this.indexes_,t);if(!e)throw new Error("No index defined for "+t);return e instanceof Mo?e:null}hasIndex(t){return Qo(this.indexSet_,t.toString())}addIndex(t,e){ee(t!==bc,"KeyIndex always exists and isn't meant to be added to the IndexMap.");let i=[],o=!1,r=e.getIterator(ot.Wrap),s=r.getNext();for(;s;)o=o||t.isDefinedOn(s.node),i.push(s),s=r.getNext();let a;o?a=t_(i,t.getCompare()):a=rd;let c=t.toString(),u=Object.assign({},this.indexSet_);u[c]=t;let C=Object.assign({},this.indexes_);return C[c]=a,new n(C,u)}addToIndexes(t,e){let i=yp(this.indexes_,(o,r)=>{let s=dc(this.indexSet_,r);if(ee(s,"Missing index implementation for "+r),o===rd)if(s.isDefinedOn(t.node)){let a=[],c=e.getIterator(ot.Wrap),u=c.getNext();for(;u;)u.name!==t.name&&a.push(u),u=c.getNext();return a.push(t),t_(a,s.getCompare())}else return rd;else{let a=e.get(t.name),c=o;return a&&(c=c.remove(new ot(t.name,a))),c.insert(t,t.node)}});return new n(i,this.indexSet_)}removeFromIndexes(t,e){let i=yp(this.indexes_,o=>{if(o===rd)return o;{let r=e.get(t.name);return r?o.remove(new ot(t.name,r)):o}});return new n(i,this.indexSet_)}};var jp,We=(()=>{class n{static get EMPTY_NODE(){return jp||(jp=new n(new Mo(Sw),null,dd.Default))}constructor(e,i,o){this.children_=e,this.priorityNode_=i,this.indexMap_=o,this.lazyHash_=null,this.priorityNode_&&yN(this.priorityNode_),this.children_.isEmpty()&&ee(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||jp}updatePriority(e){return this.children_.isEmpty()?this:new n(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{let i=this.children_.get(e);return i===null?jp:i}}getChild(e){let i=nt(e);return i===null?this:this.getImmediateChild(i).getChild(Bt(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,i){if(ee(i,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(i);{let o=new ot(e,i),r,s;i.isEmpty()?(r=this.children_.remove(e),s=this.indexMap_.removeFromIndexes(o,this.children_)):(r=this.children_.insert(e,i),s=this.indexMap_.addToIndexes(o,this.children_));let a=r.isEmpty()?jp:this.priorityNode_;return new n(r,a,s)}}updateChild(e,i){let o=nt(e);if(o===null)return i;{ee(nt(e)!==".priority"||pa(e)===1,".priority must be the last token in a path");let r=this.getImmediateChild(o).updateChild(Bt(e),i);return this.updateImmediateChild(o,r)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;let i={},o=0,r=0,s=!0;if(this.forEachChild(Yt,(a,c)=>{i[a]=c.val(e),o++,s&&n.INTEGER_REGEXP_.test(a)?r=Math.max(r,Number(a)):s=!1}),!e&&s&&r<2*o){let a=[];for(let c in i)a[c]=i[c];return a}else return e&&!this.getPriority().isEmpty()&&(i[".priority"]=this.getPriority().val()),i}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+bN(this.getPriority().val())+":"),this.forEachChild(Yt,(i,o)=>{let r=o.hash();r!==""&&(e+=":"+i+":"+r)}),this.lazyHash_=e===""?"":eN(e)}return this.lazyHash_}getPredecessorChildName(e,i,o){let r=this.resolveIndex_(o);if(r){let s=r.getPredecessorKey(new ot(e,i));return s?s.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){let i=this.resolveIndex_(e);if(i){let o=i.minKey();return o&&o.name}else return this.children_.minKey()}getFirstChild(e){let i=this.getFirstChildName(e);return i?new ot(i,this.children_.get(i)):null}getLastChildName(e){let i=this.resolveIndex_(e);if(i){let o=i.maxKey();return o&&o.name}else return this.children_.maxKey()}getLastChild(e){let i=this.getLastChildName(e);return i?new ot(i,this.children_.get(i)):null}forEachChild(e,i){let o=this.resolveIndex_(e);return o?o.inorderTraversal(r=>i(r.name,r.node)):this.children_.inorderTraversal(i)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,i){let o=this.resolveIndex_(i);if(o)return o.getIteratorFrom(e,r=>r);{let r=this.children_.getIteratorFrom(e.name,ot.Wrap),s=r.peek();for(;s!=null&&i.compare(s,e)<0;)r.getNext(),s=r.peek();return r}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,i){let o=this.resolveIndex_(i);if(o)return o.getReverseIteratorFrom(e,r=>r);{let r=this.children_.getReverseIteratorFrom(e.name,ot.Wrap),s=r.peek();for(;s!=null&&i.compare(s,e)>0;)r.getNext(),s=r.peek();return r}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===sf?-1:0}withIndex(e){if(e===bc||this.indexMap_.hasIndex(e))return this;{let i=this.indexMap_.addIndex(e,this.children_);return new n(this.children_,this.priorityNode_,i)}}isIndexed(e){return e===bc||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{let i=e;if(this.getPriority().equals(i.getPriority()))if(this.children_.count()===i.children_.count()){let o=this.getIterator(Yt),r=i.getIterator(Yt),s=o.getNext(),a=r.getNext();for(;s&&a;){if(s.name!==a.name||!s.node.equals(a.node))return!1;s=o.getNext(),a=r.getNext()}return s===null&&a===null}else return!1;else return!1}}resolveIndex_(e){return e===bc?null:this.indexMap_.get(e.toString())}}return n.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,n})(),UO=class extends We{constructor(){super(new Mo(Sw),We.EMPTY_NODE,dd.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return We.EMPTY_NODE}isEmpty(){return!1}},sf=new UO;Object.defineProperties(ot,{MIN:{value:new ot(yc,We.EMPTY_NODE)},MAX:{value:new ot(ua,sf)}});e_.__EMPTY_NODE=We.EMPTY_NODE;ld.__childrenNodeConstructor=We;ZQ(sf);XQ(sf);var tK=!0;function An(n,t=null){if(n===null)return We.EMPTY_NODE;if(typeof n=="object"&&".priority"in n&&(t=n[".priority"]),ee(t===null||typeof t=="string"||typeof t=="number"||typeof t=="object"&&".sv"in t,"Invalid priority type found: "+typeof t),typeof n=="object"&&".value"in n&&n[".value"]!==null&&(n=n[".value"]),typeof n!="object"||".sv"in n){let e=n;return new ld(e,An(t))}if(!(n instanceof Array)&&tK){let e=[],i=!1;if(ei(n,(s,a)=>{if(s.substring(0,1)!=="."){let c=An(a);c.isEmpty()||(i=i||!c.getPriority().isEmpty(),e.push(new ot(s,c)))}}),e.length===0)return We.EMPTY_NODE;let r=t_(e,YQ,s=>s.name,Sw);if(i){let s=t_(e,Yt.getCompare());return new We(r,An(t),new dd({".priority":s},{".priority":Yt}))}else return new We(r,An(t),dd.Default)}else{let e=We.EMPTY_NODE;return ei(n,(i,o)=>{if(Qo(n,i)&&i.substring(0,1)!=="."){let r=An(o);(r.isLeafNode()||!r.isEmpty())&&(e=e.updateImmediateChild(i,r))}}),e.updatePriority(An(t))}}JQ(An);var Qp=class extends cd{constructor(t){super(),this.indexPath_=t,ee(!it(t)&&nt(t)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,e){let i=this.extractChild(t.node),o=this.extractChild(e.node),r=i.compareTo(o);return r===0?Oc(t.name,e.name):r}makePost(t,e){let i=An(t),o=We.EMPTY_NODE.updateChild(this.indexPath_,i);return new ot(e,o)}maxPost(){let t=We.EMPTY_NODE.updateChild(this.indexPath_,sf);return new ot(ua,t)}toString(){return Gp(this.indexPath_,0).join("/")}};var $O=class extends cd{compare(t,e){let i=t.node.compareTo(e.node);return i===0?Oc(t.name,e.name):i}isDefinedOn(t){return!0}indexedValueChanged(t,e){return!t.equals(e)}minPost(){return ot.MIN}maxPost(){return ot.MAX}makePost(t,e){let i=An(t);return new ot(e,i)}toString(){return".value"}},ON=new $O;function wN(n){return{type:"value",snapshotNode:n}}function ud(n,t){return{type:"child_added",snapshotNode:t,childName:n}}function Kp(n,t){return{type:"child_removed",snapshotNode:t,childName:n}}function Yp(n,t,e){return{type:"child_changed",snapshotNode:t,childName:n,oldSnap:e}}function nK(n,t){return{type:"child_moved",snapshotNode:t,childName:n}}var Zp=class{constructor(t){this.index_=t}updateChild(t,e,i,o,r,s){ee(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");let a=t.getImmediateChild(e);return a.getChild(o).equals(i.getChild(o))&&a.isEmpty()===i.isEmpty()||(s!=null&&(i.isEmpty()?t.hasChild(e)?s.trackChildChange(Kp(e,a)):ee(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?s.trackChildChange(ud(e,i)):s.trackChildChange(Yp(e,i,a))),t.isLeafNode()&&i.isEmpty())?t:t.updateImmediateChild(e,i).withIndex(this.index_)}updateFullNode(t,e,i){return i!=null&&(t.isLeafNode()||t.forEachChild(Yt,(o,r)=>{e.hasChild(o)||i.trackChildChange(Kp(o,r))}),e.isLeafNode()||e.forEachChild(Yt,(o,r)=>{if(t.hasChild(o)){let s=t.getImmediateChild(o);s.equals(r)||i.trackChildChange(Yp(o,r,s))}else i.trackChildChange(ud(o,r))})),e.withIndex(this.index_)}updatePriority(t,e){return t.isEmpty()?We.EMPTY_NODE:t.updatePriority(e)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}};var n_=class n{constructor(t){this.indexedFilter_=new Zp(t.getIndex()),this.index_=t.getIndex(),this.startPost_=n.getStartPost_(t),this.endPost_=n.getEndPost_(t),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){let e=this.startIsInclusive_?this.index_.compare(this.getStartPost(),t)<=0:this.index_.compare(this.getStartPost(),t)<0,i=this.endIsInclusive_?this.index_.compare(t,this.getEndPost())<=0:this.index_.compare(t,this.getEndPost())<0;return e&&i}updateChild(t,e,i,o,r,s){return this.matches(new ot(e,i))||(i=We.EMPTY_NODE),this.indexedFilter_.updateChild(t,e,i,o,r,s)}updateFullNode(t,e,i){e.isLeafNode()&&(e=We.EMPTY_NODE);let o=e.withIndex(this.index_);o=o.updatePriority(We.EMPTY_NODE);let r=this;return e.forEachChild(Yt,(s,a)=>{r.matches(new ot(s,a))||(o=o.updateImmediateChild(s,We.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,o,i)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){let e=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),e)}else return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){let e=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),e)}else return t.getIndex().maxPost()}};var qO=class{constructor(t){this.withinDirectionalStart=e=>this.reverse_?this.withinEndPost(e):this.withinStartPost(e),this.withinDirectionalEnd=e=>this.reverse_?this.withinStartPost(e):this.withinEndPost(e),this.withinStartPost=e=>{let i=this.index_.compare(this.rangedFilter_.getStartPost(),e);return this.startIsInclusive_?i<=0:i<0},this.withinEndPost=e=>{let i=this.index_.compare(e,this.rangedFilter_.getEndPost());return this.endIsInclusive_?i<=0:i<0},this.rangedFilter_=new n_(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft(),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}updateChild(t,e,i,o,r,s){return this.rangedFilter_.matches(new ot(e,i))||(i=We.EMPTY_NODE),t.getImmediateChild(e).equals(i)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,e,i,o,r,s):this.fullLimitUpdateChild_(t,e,i,r,s)}updateFullNode(t,e,i){let o;if(e.isLeafNode()||e.isEmpty())o=We.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<e.numChildren()&&e.isIndexed(this.index_)){o=We.EMPTY_NODE.withIndex(this.index_);let r;this.reverse_?r=e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):r=e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let s=0;for(;r.hasNext()&&s<this.limit_;){let a=r.getNext();if(this.withinDirectionalStart(a))if(this.withinDirectionalEnd(a))o=o.updateImmediateChild(a.name,a.node),s++;else break;else continue}}else{o=e.withIndex(this.index_),o=o.updatePriority(We.EMPTY_NODE);let r;this.reverse_?r=o.getReverseIterator(this.index_):r=o.getIterator(this.index_);let s=0;for(;r.hasNext();){let a=r.getNext();s<this.limit_&&this.withinDirectionalStart(a)&&this.withinDirectionalEnd(a)?s++:o=o.updateImmediateChild(a.name,We.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,o,i)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,e,i,o,r){let s;if(this.reverse_){let v=this.index_.getCompare();s=(P,w)=>v(w,P)}else s=this.index_.getCompare();let a=t;ee(a.numChildren()===this.limit_,"");let c=new ot(e,i),u=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),C=this.rangedFilter_.matches(c);if(a.hasChild(e)){let v=a.getImmediateChild(e),P=o.getChildAfterChild(this.index_,u,this.reverse_);for(;P!=null&&(P.name===e||a.hasChild(P.name));)P=o.getChildAfterChild(this.index_,P,this.reverse_);let w=P==null?1:s(P,c);if(C&&!i.isEmpty()&&w>=0)return r?.trackChildChange(Yp(e,i,v)),a.updateImmediateChild(e,i);{r?.trackChildChange(Kp(e,v));let F=a.updateImmediateChild(e,We.EMPTY_NODE);return P!=null&&this.rangedFilter_.matches(P)?(r?.trackChildChange(ud(P.name,P.node)),F.updateImmediateChild(P.name,P.node)):F}}else return i.isEmpty()?t:C&&s(u,c)>=0?(r!=null&&(r.trackChildChange(Kp(u.name,u.node)),r.trackChildChange(ud(e,i))),a.updateImmediateChild(e,i).updateImmediateChild(u.name,We.EMPTY_NODE)):t}};var HO=class n{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Yt}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return ee(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return ee(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:yc}hasEnd(){return this.endSet_}getIndexEndValue(){return ee(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return ee(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:ua}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return ee(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Yt}copy(){let t=new n;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}};function iK(n){return n.loadsAllData()?new Zp(n.getIndex()):n.hasLimit()?new qO(n):new n_(n)}function oK(n,t,e){let i=n.copy();return i.startSet_=!0,t===void 0&&(t=null),i.indexStartValue_=t,e!=null?(i.startNameSet_=!0,i.indexStartName_=e):(i.startNameSet_=!1,i.indexStartName_=""),i}function rK(n,t,e){let i=n.copy();return i.endSet_=!0,t===void 0&&(t=null),i.indexEndValue_=t,e!==void 0?(i.endNameSet_=!0,i.indexEndName_=e):(i.endNameSet_=!1,i.indexEndName_=""),i}function sK(n,t){let e=n.copy();return e.index_=t,e}function LR(n){let t={};if(n.isDefault())return t;let e;if(n.index_===Yt?e="$priority":n.index_===ON?e="$value":n.index_===bc?e="$key":(ee(n.index_ instanceof Qp,"Unrecognized index type!"),e=n.index_.toString()),t.orderBy=Pn(e),n.startSet_){let i=n.startAfterSet_?"startAfter":"startAt";t[i]=Pn(n.indexStartValue_),n.startNameSet_&&(t[i]+=","+Pn(n.indexStartName_))}if(n.endSet_){let i=n.endBeforeSet_?"endBefore":"endAt";t[i]=Pn(n.indexEndValue_),n.endNameSet_&&(t[i]+=","+Pn(n.indexEndName_))}return n.limitSet_&&(n.isViewFromLeft()?t.limitToFirst=n.limit_:t.limitToLast=n.limit_),t}function FR(n){let t={};if(n.startSet_&&(t.sp=n.indexStartValue_,n.startNameSet_&&(t.sn=n.indexStartName_),t.sin=!n.startAfterSet_),n.endSet_&&(t.ep=n.indexEndValue_,n.endNameSet_&&(t.en=n.indexEndName_),t.ein=!n.endBeforeSet_),n.limitSet_){t.l=n.limit_;let e=n.viewFrom_;e===""&&(n.isViewFromLeft()?e="l":e="r"),t.vf=e}return n.index_!==Yt&&(t.i=n.index_.toString()),t}var WO=class n extends Z0{reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,e){return e!==void 0?"tag$"+e:(ee(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}constructor(t,e,i,o){super(),this.repoInfo_=t,this.onDataUpdate_=e,this.authTokenProvider_=i,this.appCheckTokenProvider_=o,this.log_=rf("p:rest:"),this.listens_={}}listen(t,e,i,o){let r=t._path.toString();this.log_("Listen called for "+r+" "+t._queryIdentifier);let s=n.getListenId_(t,i),a={};this.listens_[s]=a;let c=LR(t._queryParams);this.restRequest_(r+".json",c,(u,C)=>{let v=C;if(u===404&&(v=null,u=null),u===null&&this.onDataUpdate_(r,v,!1,i),dc(this.listens_,s)===a){let P;u?u===401?P="permission_denied":P="rest_error:"+u:P="ok",o(P,null)}})}unlisten(t,e){let i=n.getListenId_(t,e);delete this.listens_[i]}get(t){let e=LR(t._queryParams),i=t._path.toString(),o=new vo;return this.restRequest_(i+".json",e,(r,s)=>{let a=s;r===404&&(a=null,r=null),r===null?(this.onDataUpdate_(i,a,!1,null),o.resolve(a)):o.reject(new Error(a))}),o.promise}refreshAuthToken(t){}restRequest_(t,e={},i){return e.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([o,r])=>{o&&o.accessToken&&(e.auth=o.accessToken),r&&r.token&&(e.ac=r.token);let s=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+Zs(e);this.log_("Sending REST request for "+s);let a=new XMLHttpRequest;a.onreadystatechange=()=>{if(i&&a.readyState===4){this.log_("REST Response for "+s+" received. status:",a.status,"response:",a.responseText);let c=null;if(a.status>=200&&a.status<300){try{c=Ql(a.responseText)}catch{xi("Failed to parse JSON response for "+s+": "+a.responseText)}i(null,c)}else a.status!==401&&a.status!==404&&xi("Got unsuccessful REST response for "+s+" Status: "+a.status),i(a.status);i=null}},a.open("GET",s,!0),a.send()})}};var GO=class{constructor(){this.rootNode_=We.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,e){this.rootNode_=this.rootNode_.updateChild(t,e)}};function i_(){return{value:null,children:new Map}}function xN(n,t,e){if(it(t))n.value=e,n.children.clear();else if(n.value!==null)n.value=n.value.updateChild(t,e);else{let i=nt(t);n.children.has(i)||n.children.set(i,i_());let o=n.children.get(i);t=Bt(t),xN(o,t,e)}}function QO(n,t,e){n.value!==null?e(t,n.value):aK(n,(i,o)=>{let r=new Pt(t.toString()+"/"+i);QO(o,r,e)})}function aK(n,t){n.children.forEach((e,i)=>{t(i,e)})}var KO=class{constructor(t){this.collection_=t,this.last_=null}get(){let t=this.collection_.get(),e=Object.assign({},t);return this.last_&&ei(this.last_,(i,o)=>{e[i]=e[i]-o}),this.last_=t,e}};var zR=10*1e3,cK=30*1e3,lK=300*1e3,YO=class{constructor(t,e){this.server_=e,this.statsToReport_={},this.statsListener_=new KO(t);let i=zR+(cK-zR)*Math.random();Up(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){let t=this.statsListener_.get(),e={},i=!1;ei(t,(o,r)=>{r>0&&Qo(this.statsToReport_,o)&&(e[o]=r,i=!0)}),i&&this.server_.reportStats(e),Up(this.reportStats_.bind(this),Math.floor(Math.random()*2*lK))}};var Ar=(function(n){return n[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",n})(Ar||{});function Tw(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Dw(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function kw(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}var ZO=class n{constructor(t,e,i){this.path=t,this.affectedTree=e,this.revert=i,this.type=Ar.ACK_USER_WRITE,this.source=Tw()}operationForChild(t){if(it(this.path)){if(this.affectedTree.value!=null)return ee(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{let e=this.affectedTree.subtree(new Pt(t));return new n(vt(),e,this.revert)}}else return ee(nt(this.path)===t,"operationForChild called for unrelated child."),new n(Bt(this.path),this.affectedTree,this.revert)}};var o_=class n{constructor(t,e){this.source=t,this.path=e,this.type=Ar.LISTEN_COMPLETE}operationForChild(t){return it(this.path)?new n(this.source,vt()):new n(this.source,Bt(this.path))}};var pd=class n{constructor(t,e,i){this.source=t,this.path=e,this.snap=i,this.type=Ar.OVERWRITE}operationForChild(t){return it(this.path)?new n(this.source,vt(),this.snap.getImmediateChild(t)):new n(this.source,Bt(this.path),this.snap)}};var Jp=class n{constructor(t,e,i){this.source=t,this.path=e,this.children=i,this.type=Ar.MERGE}operationForChild(t){if(it(this.path)){let e=this.children.subtree(new Pt(t));return e.isEmpty()?null:e.value?new pd(this.source,vt(),e.value):new n(this.source,vt(),e)}else return ee(nt(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new n(this.source,Bt(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}};var Rr=class{constructor(t,e,i){this.node_=t,this.fullyInitialized_=e,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(it(t))return this.isFullyInitialized()&&!this.filtered_;let e=nt(t);return this.isCompleteForChild(e)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}};var JO=class{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}};function dK(n,t,e,i){let o=[],r=[];return t.forEach(s=>{s.type==="child_changed"&&n.index_.indexedValueChanged(s.oldSnap,s.snapshotNode)&&r.push(nK(s.childName,s.snapshotNode))}),Vp(n,o,"child_removed",t,i,e),Vp(n,o,"child_added",t,i,e),Vp(n,o,"child_moved",r,i,e),Vp(n,o,"child_changed",t,i,e),Vp(n,o,"value",t,i,e),o}function Vp(n,t,e,i,o,r){let s=i.filter(a=>a.type===e);s.sort((a,c)=>pK(n,a,c)),s.forEach(a=>{let c=uK(n,a,r);o.forEach(u=>{u.respondsTo(a.type)&&t.push(u.createEvent(c,n.query_))})})}function uK(n,t,e){return t.type==="value"||t.type==="child_removed"||(t.prevName=e.getPredecessorChildName(t.childName,t.snapshotNode,n.index_)),t}function pK(n,t,e){if(t.childName==null||e.childName==null)throw lc("Should only compare child_ events.");let i=new ot(t.childName,t.snapshotNode),o=new ot(e.childName,e.snapshotNode);return n.index_.compare(i,o)}function C_(n,t){return{eventCache:n,serverCache:t}}function qp(n,t,e,i){return C_(new Rr(t,e,i),n.serverCache)}function EN(n,t,e,i){return C_(n.eventCache,new Rr(t,e,i))}function r_(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function Mc(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}var yO,fK=()=>(yO||(yO=new Mo(uQ)),yO),Ei=class n{static fromObject(t){let e=new n(null);return ei(t,(i,o)=>{e=e.set(new Pt(i),o)}),e}constructor(t,e=fK()){this.value=t,this.children=e}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,e){if(this.value!=null&&e(this.value))return{path:vt(),value:this.value};if(it(t))return null;{let i=nt(t),o=this.children.get(i);if(o!==null){let r=o.findRootMostMatchingPathAndValue(Bt(t),e);return r!=null?{path:on(new Pt(i),r.path),value:r.value}:null}else return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(it(t))return this;{let e=nt(t),i=this.children.get(e);return i!==null?i.subtree(Bt(t)):new n(null)}}set(t,e){if(it(t))return new n(e,this.children);{let i=nt(t),r=(this.children.get(i)||new n(null)).set(Bt(t),e),s=this.children.insert(i,r);return new n(this.value,s)}}remove(t){if(it(t))return this.children.isEmpty()?new n(null):new n(null,this.children);{let e=nt(t),i=this.children.get(e);if(i){let o=i.remove(Bt(t)),r;return o.isEmpty()?r=this.children.remove(e):r=this.children.insert(e,o),this.value===null&&r.isEmpty()?new n(null):new n(this.value,r)}else return this}}get(t){if(it(t))return this.value;{let e=nt(t),i=this.children.get(e);return i?i.get(Bt(t)):null}}setTree(t,e){if(it(t))return e;{let i=nt(t),r=(this.children.get(i)||new n(null)).setTree(Bt(t),e),s;return r.isEmpty()?s=this.children.remove(i):s=this.children.insert(i,r),new n(this.value,s)}}fold(t){return this.fold_(vt(),t)}fold_(t,e){let i={};return this.children.inorderTraversal((o,r)=>{i[o]=r.fold_(on(t,o),e)}),e(t,this.value,i)}findOnPath(t,e){return this.findOnPath_(t,vt(),e)}findOnPath_(t,e,i){let o=this.value?i(e,this.value):!1;if(o)return o;if(it(t))return null;{let r=nt(t),s=this.children.get(r);return s?s.findOnPath_(Bt(t),on(e,r),i):null}}foreachOnPath(t,e){return this.foreachOnPath_(t,vt(),e)}foreachOnPath_(t,e,i){if(it(t))return this;{this.value&&i(e,this.value);let o=nt(t),r=this.children.get(o);return r?r.foreachOnPath_(Bt(t),on(e,o),i):new n(null)}}foreach(t){this.foreach_(vt(),t)}foreach_(t,e){this.children.inorderTraversal((i,o)=>{o.foreach_(on(t,i),e)}),this.value&&e(t,this.value)}foreachChild(t){this.children.inorderTraversal((e,i)=>{i.value&&t(e,i.value)})}};var Xo=class n{constructor(t){this.writeTree_=t}static empty(){return new n(new Ei(null))}};function Hp(n,t,e){if(it(t))return new Xo(new Ei(e));{let i=n.writeTree_.findRootMostValueAndPath(t);if(i!=null){let o=i.path,r=i.value,s=wi(o,t);return r=r.updateChild(s,e),new Xo(n.writeTree_.set(o,r))}else{let o=new Ei(e),r=n.writeTree_.setTree(t,o);return new Xo(r)}}}function XO(n,t,e){let i=n;return ei(e,(o,r)=>{i=Hp(i,on(t,o),r)}),i}function BR(n,t){if(it(t))return Xo.empty();{let e=n.writeTree_.setTree(t,new Ei(null));return new Xo(e)}}function ew(n,t){return wc(n,t)!=null}function wc(n,t){let e=n.writeTree_.findRootMostValueAndPath(t);return e!=null?n.writeTree_.get(e.path).getChild(wi(e.path,t)):null}function jR(n){let t=[],e=n.writeTree_.value;return e!=null?e.isLeafNode()||e.forEachChild(Yt,(i,o)=>{t.push(new ot(i,o))}):n.writeTree_.children.inorderTraversal((i,o)=>{o.value!=null&&t.push(new ot(i,o.value))}),t}function la(n,t){if(it(t))return n;{let e=wc(n,t);return e!=null?new Xo(new Ei(e)):new Xo(n.writeTree_.subtree(t))}}function tw(n){return n.writeTree_.isEmpty()}function fd(n,t){return IN(vt(),n.writeTree_,t)}function IN(n,t,e){if(t.value!=null)return e.updateChild(n,t.value);{let i=null;return t.children.inorderTraversal((o,r)=>{o===".priority"?(ee(r.value!==null,"Priority writes must always be leaf nodes"),i=r.value):e=IN(on(n,o),r,e)}),!e.getChild(n).isEmpty()&&i!==null&&(e=e.updateChild(on(n,".priority"),i)),e}}function v_(n,t){return kN(t,n)}function gK(n,t,e,i,o){ee(i>n.lastWriteId,"Stacking an older write on top of newer ones"),o===void 0&&(o=!0),n.allWrites.push({path:t,snap:e,writeId:i,visible:o}),o&&(n.visibleWrites=Hp(n.visibleWrites,t,e)),n.lastWriteId=i}function hK(n,t,e,i){ee(i>n.lastWriteId,"Stacking an older merge on top of newer ones"),n.allWrites.push({path:t,children:e,writeId:i,visible:!0}),n.visibleWrites=XO(n.visibleWrites,t,e),n.lastWriteId=i}function mK(n,t){for(let e=0;e<n.allWrites.length;e++){let i=n.allWrites[e];if(i.writeId===t)return i}return null}function _K(n,t){let e=n.allWrites.findIndex(a=>a.writeId===t);ee(e>=0,"removeWrite called with nonexistent writeId.");let i=n.allWrites[e];n.allWrites.splice(e,1);let o=i.visible,r=!1,s=n.allWrites.length-1;for(;o&&s>=0;){let a=n.allWrites[s];a.visible&&(s>=e&&CK(a,i.path)?o=!1:yo(i.path,a.path)&&(r=!0)),s--}if(o){if(r)return vK(n),!0;if(i.snap)n.visibleWrites=BR(n.visibleWrites,i.path);else{let a=i.children;ei(a,c=>{n.visibleWrites=BR(n.visibleWrites,on(i.path,c))})}return!0}else return!1}function CK(n,t){if(n.snap)return yo(n.path,t);for(let e in n.children)if(n.children.hasOwnProperty(e)&&yo(on(n.path,e),t))return!0;return!1}function vK(n){n.visibleWrites=SN(n.allWrites,bK,vt()),n.allWrites.length>0?n.lastWriteId=n.allWrites[n.allWrites.length-1].writeId:n.lastWriteId=-1}function bK(n){return n.visible}function SN(n,t,e){let i=Xo.empty();for(let o=0;o<n.length;++o){let r=n[o];if(t(r)){let s=r.path,a;if(r.snap)yo(e,s)?(a=wi(e,s),i=Hp(i,a,r.snap)):yo(s,e)&&(a=wi(s,e),i=Hp(i,vt(),r.snap.getChild(a)));else if(r.children){if(yo(e,s))a=wi(e,s),i=XO(i,a,r.children);else if(yo(s,e))if(a=wi(s,e),it(a))i=XO(i,vt(),r.children);else{let c=dc(r.children,nt(a));if(c){let u=c.getChild(Bt(a));i=Hp(i,vt(),u)}}}else throw lc("WriteRecord should have .snap or .children")}}return i}function TN(n,t,e,i,o){if(!i&&!o){let r=wc(n.visibleWrites,t);if(r!=null)return r;{let s=la(n.visibleWrites,t);if(tw(s))return e;if(e==null&&!ew(s,vt()))return null;{let a=e||We.EMPTY_NODE;return fd(s,a)}}}else{let r=la(n.visibleWrites,t);if(!o&&tw(r))return e;if(!o&&e==null&&!ew(r,vt()))return null;{let s=function(u){return(u.visible||o)&&(!i||!~i.indexOf(u.writeId))&&(yo(u.path,t)||yo(t,u.path))},a=SN(n.allWrites,s,t),c=e||We.EMPTY_NODE;return fd(a,c)}}}function yK(n,t,e){let i=We.EMPTY_NODE,o=wc(n.visibleWrites,t);if(o)return o.isLeafNode()||o.forEachChild(Yt,(r,s)=>{i=i.updateImmediateChild(r,s)}),i;if(e){let r=la(n.visibleWrites,t);return e.forEachChild(Yt,(s,a)=>{let c=fd(la(r,new Pt(s)),a);i=i.updateImmediateChild(s,c)}),jR(r).forEach(s=>{i=i.updateImmediateChild(s.name,s.node)}),i}else{let r=la(n.visibleWrites,t);return jR(r).forEach(s=>{i=i.updateImmediateChild(s.name,s.node)}),i}}function MK(n,t,e,i,o){ee(i||o,"Either existingEventSnap or existingServerSnap must exist");let r=on(t,e);if(ew(n.visibleWrites,r))return null;{let s=la(n.visibleWrites,r);return tw(s)?o.getChild(e):fd(s,o.getChild(e))}}function PK(n,t,e,i){let o=on(t,e),r=wc(n.visibleWrites,o);if(r!=null)return r;if(i.isCompleteForChild(e)){let s=la(n.visibleWrites,o);return fd(s,i.getNode().getImmediateChild(e))}else return null}function OK(n,t){return wc(n.visibleWrites,t)}function wK(n,t,e,i,o,r,s){let a,c=la(n.visibleWrites,t),u=wc(c,vt());if(u!=null)a=u;else if(e!=null)a=fd(c,e);else return[];if(a=a.withIndex(s),!a.isEmpty()&&!a.isLeafNode()){let C=[],v=s.getCompare(),P=r?a.getReverseIteratorFrom(i,s):a.getIteratorFrom(i,s),w=P.getNext();for(;w&&C.length<o;)v(w,i)!==0&&C.push(w),w=P.getNext();return C}else return[]}function xK(){return{visibleWrites:Xo.empty(),allWrites:[],lastWriteId:-1}}function s_(n,t,e,i){return TN(n.writeTree,n.treePath,t,e,i)}function Aw(n,t){return yK(n.writeTree,n.treePath,t)}function VR(n,t,e,i){return MK(n.writeTree,n.treePath,t,e,i)}function a_(n,t){return OK(n.writeTree,on(n.treePath,t))}function EK(n,t,e,i,o,r){return wK(n.writeTree,n.treePath,t,e,i,o,r)}function Rw(n,t,e){return PK(n.writeTree,n.treePath,t,e)}function DN(n,t){return kN(on(n.treePath,t),n.writeTree)}function kN(n,t){return{treePath:n,writeTree:t}}var nw=class{constructor(){this.changeMap=new Map}trackChildChange(t){let e=t.type,i=t.childName;ee(e==="child_added"||e==="child_changed"||e==="child_removed","Only child changes supported for tracking"),ee(i!==".priority","Only non-priority child changes can be tracked.");let o=this.changeMap.get(i);if(o){let r=o.type;if(e==="child_added"&&r==="child_removed")this.changeMap.set(i,Yp(i,t.snapshotNode,o.snapshotNode));else if(e==="child_removed"&&r==="child_added")this.changeMap.delete(i);else if(e==="child_removed"&&r==="child_changed")this.changeMap.set(i,Kp(i,o.oldSnap));else if(e==="child_changed"&&r==="child_added")this.changeMap.set(i,ud(i,t.snapshotNode));else if(e==="child_changed"&&r==="child_changed")this.changeMap.set(i,Yp(i,t.snapshotNode,o.oldSnap));else throw lc("Illegal combination of changes: "+t+" occurred after "+o)}else this.changeMap.set(i,t)}getChanges(){return Array.from(this.changeMap.values())}};var iw=class{getCompleteChild(t){return null}getChildAfterChild(t,e,i){return null}},AN=new iw,Xp=class{constructor(t,e,i=null){this.writes_=t,this.viewCache_=e,this.optCompleteServerCache_=i}getCompleteChild(t){let e=this.viewCache_.eventCache;if(e.isCompleteForChild(t))return e.getNode().getImmediateChild(t);{let i=this.optCompleteServerCache_!=null?new Rr(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Rw(this.writes_,t,i)}}getChildAfterChild(t,e,i){let o=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Mc(this.viewCache_),r=EK(this.writes_,o,e,1,i,t);return r.length===0?null:r[0]}};function IK(n){return{filter:n}}function SK(n,t){ee(t.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),ee(t.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}function TK(n,t,e,i,o){let r=new nw,s,a;if(e.type===Ar.OVERWRITE){let u=e;u.source.fromUser?s=ow(n,t,u.path,u.snap,i,o,r):(ee(u.source.fromServer,"Unknown source."),a=u.source.tagged||t.serverCache.isFiltered()&&!it(u.path),s=c_(n,t,u.path,u.snap,i,o,a,r))}else if(e.type===Ar.MERGE){let u=e;u.source.fromUser?s=kK(n,t,u.path,u.children,i,o,r):(ee(u.source.fromServer,"Unknown source."),a=u.source.tagged||t.serverCache.isFiltered(),s=rw(n,t,u.path,u.children,i,o,a,r))}else if(e.type===Ar.ACK_USER_WRITE){let u=e;u.revert?s=NK(n,t,u.path,i,o,r):s=AK(n,t,u.path,u.affectedTree,i,o,r)}else if(e.type===Ar.LISTEN_COMPLETE)s=RK(n,t,e.path,i,r);else throw lc("Unknown operation type: "+e.type);let c=r.getChanges();return DK(t,s,c),{viewCache:s,changes:c}}function DK(n,t,e){let i=t.eventCache;if(i.isFullyInitialized()){let o=i.getNode().isLeafNode()||i.getNode().isEmpty(),r=r_(n);(e.length>0||!n.eventCache.isFullyInitialized()||o&&!i.getNode().equals(r)||!i.getNode().getPriority().equals(r.getPriority()))&&e.push(wN(r_(t)))}}function RN(n,t,e,i,o,r){let s=t.eventCache;if(a_(i,e)!=null)return t;{let a,c;if(it(e))if(ee(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){let u=Mc(t),C=u instanceof We?u:We.EMPTY_NODE,v=Aw(i,C);a=n.filter.updateFullNode(t.eventCache.getNode(),v,r)}else{let u=s_(i,Mc(t));a=n.filter.updateFullNode(t.eventCache.getNode(),u,r)}else{let u=nt(e);if(u===".priority"){ee(pa(e)===1,"Can't have a priority with additional path components");let C=s.getNode();c=t.serverCache.getNode();let v=VR(i,e,C,c);v!=null?a=n.filter.updatePriority(C,v):a=s.getNode()}else{let C=Bt(e),v;if(s.isCompleteForChild(u)){c=t.serverCache.getNode();let P=VR(i,e,s.getNode(),c);P!=null?v=s.getNode().getImmediateChild(u).updateChild(C,P):v=s.getNode().getImmediateChild(u)}else v=Rw(i,u,t.serverCache);v!=null?a=n.filter.updateChild(s.getNode(),u,v,C,o,r):a=s.getNode()}}return qp(t,a,s.isFullyInitialized()||it(e),n.filter.filtersNodes())}}function c_(n,t,e,i,o,r,s,a){let c=t.serverCache,u,C=s?n.filter:n.filter.getIndexedFilter();if(it(e))u=C.updateFullNode(c.getNode(),i,null);else if(C.filtersNodes()&&!c.isFiltered()){let w=c.getNode().updateChild(e,i);u=C.updateFullNode(c.getNode(),w,null)}else{let w=nt(e);if(!c.isCompleteForPath(e)&&pa(e)>1)return t;let S=Bt(e),N=c.getNode().getImmediateChild(w).updateChild(S,i);w===".priority"?u=C.updatePriority(c.getNode(),N):u=C.updateChild(c.getNode(),w,N,S,AN,null)}let v=EN(t,u,c.isFullyInitialized()||it(e),C.filtersNodes()),P=new Xp(o,v,r);return RN(n,v,e,o,P,a)}function ow(n,t,e,i,o,r,s){let a=t.eventCache,c,u,C=new Xp(o,t,r);if(it(e))u=n.filter.updateFullNode(t.eventCache.getNode(),i,s),c=qp(t,u,!0,n.filter.filtersNodes());else{let v=nt(e);if(v===".priority")u=n.filter.updatePriority(t.eventCache.getNode(),i),c=qp(t,u,a.isFullyInitialized(),a.isFiltered());else{let P=Bt(e),w=a.getNode().getImmediateChild(v),S;if(it(P))S=i;else{let F=C.getCompleteChild(v);F!=null?xw(P)===".priority"&&F.getChild(CN(P)).isEmpty()?S=F:S=F.updateChild(P,i):S=We.EMPTY_NODE}if(w.equals(S))c=t;else{let F=n.filter.updateChild(a.getNode(),v,S,P,C,s);c=qp(t,F,a.isFullyInitialized(),n.filter.filtersNodes())}}}return c}function UR(n,t){return n.eventCache.isCompleteForChild(t)}function kK(n,t,e,i,o,r,s){let a=t;return i.foreach((c,u)=>{let C=on(e,c);UR(t,nt(C))&&(a=ow(n,a,C,u,o,r,s))}),i.foreach((c,u)=>{let C=on(e,c);UR(t,nt(C))||(a=ow(n,a,C,u,o,r,s))}),a}function $R(n,t,e){return e.foreach((i,o)=>{t=t.updateChild(i,o)}),t}function rw(n,t,e,i,o,r,s,a){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let c=t,u;it(e)?u=i:u=new Ei(null).setTree(e,i);let C=t.serverCache.getNode();return u.children.inorderTraversal((v,P)=>{if(C.hasChild(v)){let w=t.serverCache.getNode().getImmediateChild(v),S=$R(n,w,P);c=c_(n,c,new Pt(v),S,o,r,s,a)}}),u.children.inorderTraversal((v,P)=>{let w=!t.serverCache.isCompleteForChild(v)&&P.value===null;if(!C.hasChild(v)&&!w){let S=t.serverCache.getNode().getImmediateChild(v),F=$R(n,S,P);c=c_(n,c,new Pt(v),F,o,r,s,a)}}),c}function AK(n,t,e,i,o,r,s){if(a_(o,e)!=null)return t;let a=t.serverCache.isFiltered(),c=t.serverCache;if(i.value!=null){if(it(e)&&c.isFullyInitialized()||c.isCompleteForPath(e))return c_(n,t,e,c.getNode().getChild(e),o,r,a,s);if(it(e)){let u=new Ei(null);return c.getNode().forEachChild(bc,(C,v)=>{u=u.set(new Pt(C),v)}),rw(n,t,e,u,o,r,a,s)}else return t}else{let u=new Ei(null);return i.foreach((C,v)=>{let P=on(e,C);c.isCompleteForPath(P)&&(u=u.set(C,c.getNode().getChild(P)))}),rw(n,t,e,u,o,r,a,s)}}function RK(n,t,e,i,o){let r=t.serverCache,s=EN(t,r.getNode(),r.isFullyInitialized()||it(e),r.isFiltered());return RN(n,s,e,i,AN,o)}function NK(n,t,e,i,o,r){let s;if(a_(i,e)!=null)return t;{let a=new Xp(i,t,o),c=t.eventCache.getNode(),u;if(it(e)||nt(e)===".priority"){let C;if(t.serverCache.isFullyInitialized())C=s_(i,Mc(t));else{let v=t.serverCache.getNode();ee(v instanceof We,"serverChildren would be complete if leaf node"),C=Aw(i,v)}C=C,u=n.filter.updateFullNode(c,C,r)}else{let C=nt(e),v=Rw(i,C,t.serverCache);v==null&&t.serverCache.isCompleteForChild(C)&&(v=c.getImmediateChild(C)),v!=null?u=n.filter.updateChild(c,C,v,Bt(e),a,r):t.eventCache.getNode().hasChild(C)?u=n.filter.updateChild(c,C,We.EMPTY_NODE,Bt(e),a,r):u=c,u.isEmpty()&&t.serverCache.isFullyInitialized()&&(s=s_(i,Mc(t)),s.isLeafNode()&&(u=n.filter.updateFullNode(u,s,r)))}return s=t.serverCache.isFullyInitialized()||a_(i,vt())!=null,qp(t,u,s,n.filter.filtersNodes())}}var sw=class{constructor(t,e){this.query_=t,this.eventRegistrations_=[];let i=this.query_._queryParams,o=new Zp(i.getIndex()),r=iK(i);this.processor_=IK(r);let s=e.serverCache,a=e.eventCache,c=o.updateFullNode(We.EMPTY_NODE,s.getNode(),null),u=r.updateFullNode(We.EMPTY_NODE,a.getNode(),null),C=new Rr(c,s.isFullyInitialized(),o.filtersNodes()),v=new Rr(u,a.isFullyInitialized(),r.filtersNodes());this.viewCache_=C_(v,C),this.eventGenerator_=new JO(this.query_)}get query(){return this.query_}};function LK(n){return n.viewCache_.serverCache.getNode()}function FK(n){return r_(n.viewCache_)}function zK(n,t){let e=Mc(n.viewCache_);return e&&(n.query._queryParams.loadsAllData()||!it(t)&&!e.getImmediateChild(nt(t)).isEmpty())?e.getChild(t):null}function qR(n){return n.eventRegistrations_.length===0}function BK(n,t){n.eventRegistrations_.push(t)}function HR(n,t,e){let i=[];if(e){ee(t==null,"A cancel should cancel all event registrations.");let o=n.query._path;n.eventRegistrations_.forEach(r=>{let s=r.createCancelEvent(e,o);s&&i.push(s)})}if(t){let o=[];for(let r=0;r<n.eventRegistrations_.length;++r){let s=n.eventRegistrations_[r];if(!s.matches(t))o.push(s);else if(t.hasAnyCallback()){o=o.concat(n.eventRegistrations_.slice(r+1));break}}n.eventRegistrations_=o}else n.eventRegistrations_=[];return i}function WR(n,t,e,i){t.type===Ar.MERGE&&t.source.queryId!==null&&(ee(Mc(n.viewCache_),"We should always have a full cache before handling merges"),ee(r_(n.viewCache_),"Missing event cache, even though we have a server cache"));let o=n.viewCache_,r=TK(n.processor_,o,t,e,i);return SK(n.processor_,r.viewCache),ee(r.viewCache.serverCache.isFullyInitialized()||!o.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=r.viewCache,NN(n,r.changes,r.viewCache.eventCache.getNode(),null)}function jK(n,t){let e=n.viewCache_.eventCache,i=[];return e.getNode().isLeafNode()||e.getNode().forEachChild(Yt,(r,s)=>{i.push(ud(r,s))}),e.isFullyInitialized()&&i.push(wN(e.getNode())),NN(n,i,e.getNode(),t)}function NN(n,t,e,i){let o=i?[i]:n.eventRegistrations_;return dK(n.eventGenerator_,t,e,o)}var l_,d_=class{constructor(){this.views=new Map}};function VK(n){ee(!l_,"__referenceConstructor has already been defined"),l_=n}function UK(){return ee(l_,"Reference.ts has not been loaded"),l_}function $K(n){return n.views.size===0}function Nw(n,t,e,i){let o=t.source.queryId;if(o!==null){let r=n.views.get(o);return ee(r!=null,"SyncTree gave us an op for an invalid query."),WR(r,t,e,i)}else{let r=[];for(let s of n.views.values())r=r.concat(WR(s,t,e,i));return r}}function LN(n,t,e,i,o){let r=t._queryIdentifier,s=n.views.get(r);if(!s){let a=s_(e,o?i:null),c=!1;a?c=!0:i instanceof We?(a=Aw(e,i),c=!1):(a=We.EMPTY_NODE,c=!1);let u=C_(new Rr(a,c,!1),new Rr(i,o,!1));return new sw(t,u)}return s}function qK(n,t,e,i,o,r){let s=LN(n,t,i,o,r);return n.views.has(t._queryIdentifier)||n.views.set(t._queryIdentifier,s),BK(s,e),jK(s,e)}function HK(n,t,e,i){let o=t._queryIdentifier,r=[],s=[],a=fa(n);if(o==="default")for(let[c,u]of n.views.entries())s=s.concat(HR(u,e,i)),qR(u)&&(n.views.delete(c),u.query._queryParams.loadsAllData()||r.push(u.query));else{let c=n.views.get(o);c&&(s=s.concat(HR(c,e,i)),qR(c)&&(n.views.delete(o),c.query._queryParams.loadsAllData()||r.push(c.query)))}return a&&!fa(n)&&r.push(new(UK())(t._repo,t._path)),{removed:r,events:s}}function FN(n){let t=[];for(let e of n.views.values())e.query._queryParams.loadsAllData()||t.push(e);return t}function da(n,t){let e=null;for(let i of n.views.values())e=e||zK(i,t);return e}function zN(n,t){if(t._queryParams.loadsAllData())return b_(n);{let i=t._queryIdentifier;return n.views.get(i)}}function BN(n,t){return zN(n,t)!=null}function fa(n){return b_(n)!=null}function b_(n){for(let t of n.views.values())if(t.query._queryParams.loadsAllData())return t;return null}var u_;function WK(n){ee(!u_,"__referenceConstructor has already been defined"),u_=n}function GK(){return ee(u_,"Reference.ts has not been loaded"),u_}var QK=1,p_=class{constructor(t){this.listenProvider_=t,this.syncPointTree_=new Ei(null),this.pendingWriteTree_=xK(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}};function jN(n,t,e,i,o){return gK(n.pendingWriteTree_,t,e,i,o),o?Cd(n,new pd(Tw(),t,e)):[]}function KK(n,t,e,i){hK(n.pendingWriteTree_,t,e,i);let o=Ei.fromObject(e);return Cd(n,new Jp(Tw(),t,o))}function ca(n,t,e=!1){let i=mK(n.pendingWriteTree_,t);if(_K(n.pendingWriteTree_,t)){let r=new Ei(null);return i.snap!=null?r=r.set(vt(),!0):ei(i.children,s=>{r=r.set(new Pt(s),!0)}),Cd(n,new ZO(i.path,r,e))}else return[]}function af(n,t,e){return Cd(n,new pd(Dw(),t,e))}function YK(n,t,e){let i=Ei.fromObject(e);return Cd(n,new Jp(Dw(),t,i))}function ZK(n,t){return Cd(n,new o_(Dw(),t))}function JK(n,t,e){let i=Fw(n,e);if(i){let o=zw(i),r=o.path,s=o.queryId,a=wi(r,t),c=new o_(kw(s),a);return Bw(n,r,c)}else return[]}function f_(n,t,e,i,o=!1){let r=t._path,s=n.syncPointTree_.get(r),a=[];if(s&&(t._queryIdentifier==="default"||BN(s,t))){let c=HK(s,t,e,i);$K(s)&&(n.syncPointTree_=n.syncPointTree_.remove(r));let u=c.removed;if(a=c.events,!o){let C=u.findIndex(P=>P._queryParams.loadsAllData())!==-1,v=n.syncPointTree_.findOnPath(r,(P,w)=>fa(w));if(C&&!v){let P=n.syncPointTree_.subtree(r);if(!P.isEmpty()){let w=tY(P);for(let S=0;S<w.length;++S){let F=w[S],N=F.query,W=qN(n,F);n.listenProvider_.startListening(Wp(N),ef(n,N),W.hashFn,W.onComplete)}}}!v&&u.length>0&&!i&&(C?n.listenProvider_.stopListening(Wp(t),null):u.forEach(P=>{let w=n.queryToTagMap.get(y_(P));n.listenProvider_.stopListening(Wp(P),w)}))}nY(n,u)}return a}function VN(n,t,e,i){let o=Fw(n,i);if(o!=null){let r=zw(o),s=r.path,a=r.queryId,c=wi(s,t),u=new pd(kw(a),c,e);return Bw(n,s,u)}else return[]}function XK(n,t,e,i){let o=Fw(n,i);if(o){let r=zw(o),s=r.path,a=r.queryId,c=wi(s,t),u=Ei.fromObject(e),C=new Jp(kw(a),c,u);return Bw(n,s,C)}else return[]}function aw(n,t,e,i=!1){let o=t._path,r=null,s=!1;n.syncPointTree_.foreachOnPath(o,(P,w)=>{let S=wi(P,o);r=r||da(w,S),s=s||fa(w)});let a=n.syncPointTree_.get(o);a?(s=s||fa(a),r=r||da(a,vt())):(a=new d_,n.syncPointTree_=n.syncPointTree_.set(o,a));let c;r!=null?c=!0:(c=!1,r=We.EMPTY_NODE,n.syncPointTree_.subtree(o).foreachChild((w,S)=>{let F=da(S,vt());F&&(r=r.updateImmediateChild(w,F))}));let u=BN(a,t);if(!u&&!t._queryParams.loadsAllData()){let P=y_(t);ee(!n.queryToTagMap.has(P),"View does not exist, but we have a tag");let w=iY();n.queryToTagMap.set(P,w),n.tagToQueryMap.set(w,P)}let C=v_(n.pendingWriteTree_,o),v=qK(a,t,e,C,r,c);if(!u&&!s&&!i){let P=zN(a,t);v=v.concat(oY(n,t,P))}return v}function Lw(n,t,e){let o=n.pendingWriteTree_,r=n.syncPointTree_.findOnPath(t,(s,a)=>{let c=wi(s,t),u=da(a,c);if(u)return u});return TN(o,t,r,e,!0)}function eY(n,t){let e=t._path,i=null;n.syncPointTree_.foreachOnPath(e,(u,C)=>{let v=wi(u,e);i=i||da(C,v)});let o=n.syncPointTree_.get(e);o?i=i||da(o,vt()):(o=new d_,n.syncPointTree_=n.syncPointTree_.set(e,o));let r=i!=null,s=r?new Rr(i,!0,!1):null,a=v_(n.pendingWriteTree_,t._path),c=LN(o,t,a,r?s.getNode():We.EMPTY_NODE,r);return FK(c)}function Cd(n,t){return UN(t,n.syncPointTree_,null,v_(n.pendingWriteTree_,vt()))}function UN(n,t,e,i){if(it(n.path))return $N(n,t,e,i);{let o=t.get(vt());e==null&&o!=null&&(e=da(o,vt()));let r=[],s=nt(n.path),a=n.operationForChild(s),c=t.children.get(s);if(c&&a){let u=e?e.getImmediateChild(s):null,C=DN(i,s);r=r.concat(UN(a,c,u,C))}return o&&(r=r.concat(Nw(o,n,i,e))),r}}function $N(n,t,e,i){let o=t.get(vt());e==null&&o!=null&&(e=da(o,vt()));let r=[];return t.children.inorderTraversal((s,a)=>{let c=e?e.getImmediateChild(s):null,u=DN(i,s),C=n.operationForChild(s);C&&(r=r.concat($N(C,a,c,u)))}),o&&(r=r.concat(Nw(o,n,i,e))),r}function qN(n,t){let e=t.query,i=ef(n,e);return{hashFn:()=>(LK(t)||We.EMPTY_NODE).hash(),onComplete:o=>{if(o==="ok")return i?JK(n,e._path,i):ZK(n,e._path);{let r=gQ(o,e);return f_(n,e,null,r)}}}}function ef(n,t){let e=y_(t);return n.queryToTagMap.get(e)}function y_(n){return n._path.toString()+"$"+n._queryIdentifier}function Fw(n,t){return n.tagToQueryMap.get(t)}function zw(n){let t=n.indexOf("$");return ee(t!==-1&&t<n.length-1,"Bad queryKey."),{queryId:n.substr(t+1),path:new Pt(n.substr(0,t))}}function Bw(n,t,e){let i=n.syncPointTree_.get(t);ee(i,"Missing sync point for query tag that we're tracking");let o=v_(n.pendingWriteTree_,t);return Nw(i,e,o,null)}function tY(n){return n.fold((t,e,i)=>{if(e&&fa(e))return[b_(e)];{let o=[];return e&&(o=FN(e)),ei(i,(r,s)=>{o=o.concat(s)}),o}})}function Wp(n){return n._queryParams.loadsAllData()&&!n._queryParams.isDefault()?new(GK())(n._repo,n._path):n}function nY(n,t){for(let e=0;e<t.length;++e){let i=t[e];if(!i._queryParams.loadsAllData()){let o=y_(i),r=n.queryToTagMap.get(o);n.queryToTagMap.delete(o),n.tagToQueryMap.delete(r)}}}function iY(){return QK++}function oY(n,t,e){let i=t._path,o=ef(n,t),r=qN(n,e),s=n.listenProvider_.startListening(Wp(t),o,r.hashFn,r.onComplete),a=n.syncPointTree_.subtree(i);if(o)ee(!fa(a.value),"If we're adding a query, it shouldn't be shadowed");else{let c=a.fold((u,C,v)=>{if(!it(u)&&C&&fa(C))return[b_(C).query];{let P=[];return C&&(P=P.concat(FN(C).map(w=>w.query))),ei(v,(w,S)=>{P=P.concat(S)}),P}});for(let u=0;u<c.length;++u){let C=c[u];n.listenProvider_.stopListening(Wp(C),ef(n,C))}}return s}var cw=class n{constructor(t){this.node_=t}getImmediateChild(t){let e=this.node_.getImmediateChild(t);return new n(e)}node(){return this.node_}},lw=class n{constructor(t,e){this.syncTree_=t,this.path_=e}getImmediateChild(t){let e=on(this.path_,t);return new n(this.syncTree_,e)}node(){return Lw(this.syncTree_,this.path_)}},rY=function(n){return n=n||{},n.timestamp=n.timestamp||new Date().getTime(),n},GR=function(n,t,e){if(!n||typeof n!="object")return n;if(ee(".sv"in n,"Unexpected leaf node or priority contents"),typeof n[".sv"]=="string")return sY(n[".sv"],t,e);if(typeof n[".sv"]=="object")return aY(n[".sv"],t);ee(!1,"Unexpected server value: "+JSON.stringify(n,null,2))},sY=function(n,t,e){switch(n){case"timestamp":return e.timestamp;default:ee(!1,"Unexpected server value: "+n)}},aY=function(n,t,e){n.hasOwnProperty("increment")||ee(!1,"Unexpected server value: "+JSON.stringify(n,null,2));let i=n.increment;typeof i!="number"&&ee(!1,"Unexpected increment value: "+i);let o=t.node();if(ee(o!==null&&typeof o<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!o.isLeafNode())return i;let s=o.getValue();return typeof s!="number"?i:s+i},HN=function(n,t,e,i){return jw(t,new lw(e,n),i)},WN=function(n,t,e){return jw(n,new cw(t),e)};function jw(n,t,e){let i=n.getPriority().val(),o=GR(i,t.getImmediateChild(".priority"),e),r;if(n.isLeafNode()){let s=n,a=GR(s.getValue(),t,e);return a!==s.getValue()||o!==s.getPriority().val()?new ld(a,An(o)):n}else{let s=n;return r=s,o!==s.getPriority().val()&&(r=r.updatePriority(new ld(o))),s.forEachChild(Yt,(a,c)=>{let u=jw(c,t.getImmediateChild(a),e);u!==c&&(r=r.updateImmediateChild(a,u))}),r}}var tf=class{constructor(t="",e=null,i={children:{},childCount:0}){this.name=t,this.parent=e,this.node=i}};function Vw(n,t){let e=t instanceof Pt?t:new Pt(t),i=n,o=nt(e);for(;o!==null;){let r=dc(i.node.children,o)||{children:{},childCount:0};i=new tf(o,i,r),e=Bt(e),o=nt(e)}return i}function vd(n){return n.node.value}function GN(n,t){n.node.value=t,dw(n)}function QN(n){return n.node.childCount>0}function cY(n){return vd(n)===void 0&&!QN(n)}function M_(n,t){ei(n.node.children,(e,i)=>{t(new tf(e,n,i))})}function KN(n,t,e,i){e&&!i&&t(n),M_(n,o=>{KN(o,t,!0,i)}),e&&i&&t(n)}function lY(n,t,e){let i=e?n:n.parent;for(;i!==null;){if(t(i))return!0;i=i.parent}return!1}function cf(n){return new Pt(n.parent===null?n.name:cf(n.parent)+"/"+n.name)}function dw(n){n.parent!==null&&dY(n.parent,n.name,n)}function dY(n,t,e){let i=cY(e),o=Qo(n.node.children,t);i&&o?(delete n.node.children[t],n.node.childCount--,dw(n)):!i&&!o&&(n.node.children[t]=e.node,n.node.childCount++,dw(n))}var uY=/[\[\].#$\/\u0000-\u001F\u007F]/,pY=/[\[\].#$\u0000-\u001F\u007F]/,MO=10*1024*1024,P_=function(n){return typeof n=="string"&&n.length!==0&&!uY.test(n)},YN=function(n){return typeof n=="string"&&n.length!==0&&!pY.test(n)},fY=function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),YN(n)},uw=function(n){return n===null||typeof n=="string"||typeof n=="number"&&!Pw(n)||n&&typeof n=="object"&&Qo(n,".sv")},lf=function(n,t,e,i){i&&t===void 0||O_(ed(n,"value"),t,e)},O_=function(n,t,e){let i=e instanceof Pt?new LO(e,n):e;if(t===void 0)throw new Error(n+"contains undefined "+_c(i));if(typeof t=="function")throw new Error(n+"contains a function "+_c(i)+" with contents = "+t.toString());if(Pw(t))throw new Error(n+"contains "+t.toString()+" "+_c(i));if(typeof t=="string"&&t.length>MO/3&&Mp(t)>MO)throw new Error(n+"contains a string greater than "+MO+" utf8 bytes "+_c(i)+" ('"+t.substring(0,50)+"...')");if(t&&typeof t=="object"){let o=!1,r=!1;if(ei(t,(s,a)=>{if(s===".value")o=!0;else if(s!==".priority"&&s!==".sv"&&(r=!0,!P_(s)))throw new Error(n+" contains an invalid key ("+s+") "+_c(i)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);qQ(i,s),O_(n,a,i),HQ(i)}),o&&r)throw new Error(n+' contains ".value" child '+_c(i)+" in addition to actual children.")}},gY=function(n,t){let e,i;for(e=0;e<t.length;e++){i=t[e];let r=Gp(i);for(let s=0;s<r.length;s++)if(!(r[s]===".priority"&&s===r.length-1)){if(!P_(r[s]))throw new Error(n+"contains an invalid key ("+r[s]+") in path "+i.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}t.sort($Q);let o=null;for(e=0;e<t.length;e++){if(i=t[e],o!==null&&yo(o,i))throw new Error(n+"contains a path "+o.toString()+" that is ancestor of another path "+i.toString());o=i}},hY=function(n,t,e,i){if(i&&t===void 0)return;let o=ed(n,"values");if(!(t&&typeof t=="object")||Array.isArray(t))throw new Error(o+" must be an object containing the children to replace.");let r=[];ei(t,(s,a)=>{let c=new Pt(s);if(O_(o,a,on(e,c)),xw(c)===".priority"&&!uw(a))throw new Error(o+"contains an invalid value for '"+c.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");r.push(c)}),gY(o,r)};var mY=function(n,t,e,i){if(!(i&&e===void 0)&&!P_(e))throw new Error(ed(n,t)+'was an invalid key = "'+e+`".  Firebase keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]").`)},Uw=function(n,t,e,i){if(!(i&&e===void 0)&&!YN(e))throw new Error(ed(n,t)+'was an invalid path = "'+e+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},_Y=function(n,t,e,i){e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),Uw(n,t,e,i)},$w=function(n,t){if(nt(t)===".info")throw new Error(n+" failed = Can't modify data under /.info/")},CY=function(n,t){let e=t.path.toString();if(typeof t.repoInfo.host!="string"||t.repoInfo.host.length===0||!P_(t.repoInfo.namespace)&&t.repoInfo.host.split(":")[0]!=="localhost"||e.length!==0&&!fY(e))throw new Error(ed(n,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};var pw=class{constructor(){this.eventLists_=[],this.recursionDepth_=0}};function w_(n,t){let e=null;for(let i=0;i<t.length;i++){let o=t[i],r=o.getPath();e!==null&&!Ew(r,e.path)&&(n.eventLists_.push(e),e=null),e===null&&(e={events:[],path:r}),e.events.push(o)}e&&n.eventLists_.push(e)}function ZN(n,t,e){w_(n,e),JN(n,i=>Ew(i,t))}function Po(n,t,e){w_(n,e),JN(n,i=>yo(i,t)||yo(t,i))}function JN(n,t){n.recursionDepth_++;let e=!0;for(let i=0;i<n.eventLists_.length;i++){let o=n.eventLists_[i];if(o){let r=o.path;t(r)?(vY(n.eventLists_[i]),n.eventLists_[i]=null):e=!1}}e&&(n.eventLists_=[]),n.recursionDepth_--}function vY(n){for(let t=0;t<n.events.length;t++){let e=n.events[t];if(e!==null){n.events[t]=null;let i=e.getEventRunner();vc&&Xn("event: "+e.toString()),_d(i)}}}var bY="repo_interrupt",yY=25,fw=class{constructor(t,e,i,o){this.repoInfo_=t,this.forceRestClient_=e,this.authTokenProvider_=i,this.appCheckProvider_=o,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new pw,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=i_(),this.transactionQueueTree_=new tf,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}};function MY(n,t,e){if(n.stats_=ww(n.repoInfo_),n.forceRestClient_||CQ())n.server_=new WO(n.repoInfo_,(i,o,r,s)=>{QR(n,i,o,r,s)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>KR(n,!0),0);else{if(typeof e<"u"&&e!==null){if(typeof e!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Pn(e)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}n.persistentConnection_=new Iw(n.repoInfo_,t,(i,o,r,s)=>{QR(n,i,o,r,s)},i=>{KR(n,i)},i=>{PY(n,i)},n.authTokenProvider_,n.appCheckProvider_,e),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(i=>{n.server_.refreshAuthToken(i)}),n.appCheckProvider_.addTokenChangeListener(i=>{n.server_.refreshAppCheckToken(i.token)}),n.statsReporter_=bQ(n.repoInfo_,()=>new YO(n.stats_,n.server_)),n.infoData_=new GO,n.infoSyncTree_=new p_({startListening:(i,o,r,s)=>{let a=[],c=n.infoData_.getNode(i._path);return c.isEmpty()||(a=af(n.infoSyncTree_,i._path,c),setTimeout(()=>{s("ok")},0)),a},stopListening:()=>{}}),qw(n,"connected",!1),n.serverSyncTree_=new p_({startListening:(i,o,r,s)=>(n.server_.listen(i,r,o,(a,c)=>{let u=s(a,c);Po(n.eventQueue_,i._path,u)}),[]),stopListening:(i,o)=>{n.server_.unlisten(i,o)}})}function XN(n){let e=n.infoData_.getNode(new Pt(".info/serverTimeOffset")).val()||0;return new Date().getTime()+e}function x_(n){return rY({timestamp:XN(n)})}function QR(n,t,e,i,o){n.dataUpdateCount++;let r=new Pt(t);e=n.interceptServerDataCallback_?n.interceptServerDataCallback_(t,e):e;let s=[];if(o)if(i){let c=yp(e,u=>An(u));s=XK(n.serverSyncTree_,r,c,o)}else{let c=An(e);s=VN(n.serverSyncTree_,r,c,o)}else if(i){let c=yp(e,u=>An(u));s=YK(n.serverSyncTree_,r,c)}else{let c=An(e);s=af(n.serverSyncTree_,r,c)}let a=r;s.length>0&&(a=gd(n,r)),Po(n.eventQueue_,a,s)}function KR(n,t){qw(n,"connected",t),t===!1&&EY(n)}function PY(n,t){ei(t,(e,i)=>{qw(n,e,i)})}function qw(n,t,e){let i=new Pt("/.info/"+t),o=An(e);n.infoData_.updateSnapshot(i,o);let r=af(n.infoSyncTree_,i,o);Po(n.eventQueue_,i,r)}function Hw(n){return n.nextWriteId_++}function OY(n,t,e){let i=eY(n.serverSyncTree_,t);return i!=null?Promise.resolve(i):n.server_.get(t).then(o=>{let r=An(o).withIndex(t._queryParams.getIndex());aw(n.serverSyncTree_,t,e,!0);let s;if(t._queryParams.loadsAllData())s=af(n.serverSyncTree_,t._path,r);else{let a=ef(n.serverSyncTree_,t);s=VN(n.serverSyncTree_,t._path,r,a)}return Po(n.eventQueue_,t._path,s),f_(n.serverSyncTree_,t,e,null,!0),r},o=>(df(n,"get for query "+Pn(t)+" failed: "+o),Promise.reject(new Error(o))))}function wY(n,t,e,i,o){df(n,"set",{path:t.toString(),value:e,priority:i});let r=x_(n),s=An(e,i),a=Lw(n.serverSyncTree_,t),c=WN(s,a,r),u=Hw(n),C=jN(n.serverSyncTree_,t,c,u,!0);w_(n.eventQueue_,C),n.server_.put(t.toString(),s.val(!0),(P,w)=>{let S=P==="ok";S||xi("set at "+t+" failed: "+P);let F=ca(n.serverSyncTree_,u,!S);Po(n.eventQueue_,t,F),gw(n,o,P,w)});let v=Gw(n,t);gd(n,v),Po(n.eventQueue_,v,[])}function xY(n,t,e,i){df(n,"update",{path:t.toString(),value:e});let o=!0,r=x_(n),s={};if(ei(e,(a,c)=>{o=!1,s[a]=HN(on(t,a),An(c),n.serverSyncTree_,r)}),o)Xn("update() called with empty data.  Don't do anything."),gw(n,i,"ok",void 0);else{let a=Hw(n),c=KK(n.serverSyncTree_,t,s,a);w_(n.eventQueue_,c),n.server_.merge(t.toString(),e,(u,C)=>{let v=u==="ok";v||xi("update at "+t+" failed: "+u);let P=ca(n.serverSyncTree_,a,!v),w=P.length>0?gd(n,t):t;Po(n.eventQueue_,w,P),gw(n,i,u,C)}),ei(e,u=>{let C=Gw(n,on(t,u));gd(n,C)}),Po(n.eventQueue_,t,[])}}function EY(n){df(n,"onDisconnectEvents");let t=x_(n),e=i_();QO(n.onDisconnect_,vt(),(o,r)=>{let s=HN(o,r,n.serverSyncTree_,t);xN(e,o,s)});let i=[];QO(e,vt(),(o,r)=>{i=i.concat(af(n.serverSyncTree_,o,r));let s=Gw(n,o);gd(n,s)}),n.onDisconnect_=i_(),Po(n.eventQueue_,vt(),i)}function IY(n,t,e){let i;nt(t._path)===".info"?i=aw(n.infoSyncTree_,t,e):i=aw(n.serverSyncTree_,t,e),ZN(n.eventQueue_,t._path,i)}function YR(n,t,e){let i;nt(t._path)===".info"?i=f_(n.infoSyncTree_,t,e):i=f_(n.serverSyncTree_,t,e),ZN(n.eventQueue_,t._path,i)}function SY(n){n.persistentConnection_&&n.persistentConnection_.interrupt(bY)}function df(n,...t){let e="";n.persistentConnection_&&(e=n.persistentConnection_.id+":"),Xn(e,...t)}function gw(n,t,e,i){t&&_d(()=>{if(e==="ok")t(null);else{let o=(e||"error").toUpperCase(),r=o;i&&(r+=": "+i);let s=new Error(r);s.code=o,t(s)}})}function e4(n,t,e){return Lw(n.serverSyncTree_,t,e)||We.EMPTY_NODE}function Ww(n,t=n.transactionQueueTree_){if(t||E_(n,t),vd(t)){let e=n4(n,t);ee(e.length>0,"Sending zero length transaction queue"),e.every(o=>o.status===0)&&TY(n,cf(t),e)}else QN(t)&&M_(t,e=>{Ww(n,e)})}function TY(n,t,e){let i=e.map(u=>u.currentWriteId),o=e4(n,t,i),r=o,s=o.hash();for(let u=0;u<e.length;u++){let C=e[u];ee(C.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),C.status=1,C.retryCount++;let v=wi(t,C.path);r=r.updateChild(v,C.currentOutputSnapshotRaw)}let a=r.val(!0),c=t;n.server_.put(c.toString(),a,u=>{df(n,"transaction put response",{path:c.toString(),status:u});let C=[];if(u==="ok"){let v=[];for(let P=0;P<e.length;P++)e[P].status=2,C=C.concat(ca(n.serverSyncTree_,e[P].currentWriteId)),e[P].onComplete&&v.push(()=>e[P].onComplete(null,!0,e[P].currentOutputSnapshotResolved)),e[P].unwatcher();E_(n,Vw(n.transactionQueueTree_,t)),Ww(n,n.transactionQueueTree_),Po(n.eventQueue_,t,C);for(let P=0;P<v.length;P++)_d(v[P])}else{if(u==="datastale")for(let v=0;v<e.length;v++)e[v].status===3?e[v].status=4:e[v].status=0;else{xi("transaction at "+c.toString()+" failed: "+u);for(let v=0;v<e.length;v++)e[v].status=4,e[v].abortReason=u}gd(n,t)}},s)}function gd(n,t){let e=t4(n,t),i=cf(e),o=n4(n,e);return DY(n,o,i),i}function DY(n,t,e){if(t.length===0)return;let i=[],o=[],s=t.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<t.length;a++){let c=t[a],u=wi(e,c.path),C=!1,v;if(ee(u!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),c.status===4)C=!0,v=c.abortReason,o=o.concat(ca(n.serverSyncTree_,c.currentWriteId,!0));else if(c.status===0)if(c.retryCount>=yY)C=!0,v="maxretry",o=o.concat(ca(n.serverSyncTree_,c.currentWriteId,!0));else{let P=e4(n,c.path,s);c.currentInputSnapshot=P;let w=t[a].update(P.val());if(w!==void 0){O_("transaction failed: Data returned ",w,c.path);let S=An(w);typeof w=="object"&&w!=null&&Qo(w,".priority")||(S=S.updatePriority(P.getPriority()));let N=c.currentWriteId,W=x_(n),Ce=WN(S,P,W);c.currentOutputSnapshotRaw=S,c.currentOutputSnapshotResolved=Ce,c.currentWriteId=Hw(n),s.splice(s.indexOf(N),1),o=o.concat(jN(n.serverSyncTree_,c.path,Ce,c.currentWriteId,c.applyLocally)),o=o.concat(ca(n.serverSyncTree_,N,!0))}else C=!0,v="nodata",o=o.concat(ca(n.serverSyncTree_,c.currentWriteId,!0))}Po(n.eventQueue_,e,o),o=[],C&&(t[a].status=2,(function(P){setTimeout(P,Math.floor(0))})(t[a].unwatcher),t[a].onComplete&&(v==="nodata"?i.push(()=>t[a].onComplete(null,!1,t[a].currentInputSnapshot)):i.push(()=>t[a].onComplete(new Error(v),!1,null))))}E_(n,n.transactionQueueTree_);for(let a=0;a<i.length;a++)_d(i[a]);Ww(n,n.transactionQueueTree_)}function t4(n,t){let e,i=n.transactionQueueTree_;for(e=nt(t);e!==null&&vd(i)===void 0;)i=Vw(i,e),t=Bt(t),e=nt(t);return i}function n4(n,t){let e=[];return i4(n,t,e),e.sort((i,o)=>i.order-o.order),e}function i4(n,t,e){let i=vd(t);if(i)for(let o=0;o<i.length;o++)e.push(i[o]);M_(t,o=>{i4(n,o,e)})}function E_(n,t){let e=vd(t);if(e){let i=0;for(let o=0;o<e.length;o++)e[o].status!==2&&(e[i]=e[o],i++);e.length=i,GN(t,e.length>0?e:void 0)}M_(t,i=>{E_(n,i)})}function Gw(n,t){let e=cf(t4(n,t)),i=Vw(n.transactionQueueTree_,t);return lY(i,o=>{PO(n,o)}),PO(n,i),KN(i,o=>{PO(n,o)}),e}function PO(n,t){let e=vd(t);if(e){let i=[],o=[],r=-1;for(let s=0;s<e.length;s++)e[s].status===3||(e[s].status===1?(ee(r===s-1,"All SENT items should be at beginning of queue."),r=s,e[s].status=3,e[s].abortReason="set"):(ee(e[s].status===0,"Unexpected transaction status in abort"),e[s].unwatcher(),o=o.concat(ca(n.serverSyncTree_,e[s].currentWriteId,!0)),e[s].onComplete&&i.push(e[s].onComplete.bind(null,new Error("set"),!1,null))));r===-1?GN(t,void 0):e.length=r+1,Po(n.eventQueue_,cf(t),o);for(let s=0;s<i.length;s++)_d(i[s])}}function kY(n){let t="",e=n.split("/");for(let i=0;i<e.length;i++)if(e[i].length>0){let o=e[i];try{o=decodeURIComponent(o.replace(/\+/g," "))}catch{}t+="/"+o}return t}function AY(n){let t={};n.charAt(0)==="?"&&(n=n.substring(1));for(let e of n.split("&")){if(e.length===0)continue;let i=e.split("=");i.length===2?t[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):xi(`Invalid query segment '${e}' in query '${n}'`)}return t}var ZR=function(n,t){let e=RY(n),i=e.namespace;e.domain==="firebase.com"&&Cs(e.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||i==="undefined")&&e.domain!=="localhost"&&Cs("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),e.secure||lQ();let o=e.scheme==="ws"||e.scheme==="wss";return{repoInfo:new K0(e.host,e.secure,i,o,t,"",i!==e.subdomain),path:new Pt(e.pathString)}},RY=function(n){let t="",e="",i="",o="",r="",s=!0,a="https",c=443;if(typeof n=="string"){let u=n.indexOf("//");u>=0&&(a=n.substring(0,u-1),n=n.substring(u+2));let C=n.indexOf("/");C===-1&&(C=n.length);let v=n.indexOf("?");v===-1&&(v=n.length),t=n.substring(0,Math.min(C,v)),C<v&&(o=kY(n.substring(C,v)));let P=AY(n.substring(Math.min(n.length,v)));u=t.indexOf(":"),u>=0?(s=a==="https"||a==="wss",c=parseInt(t.substring(u+1),10)):u=t.length;let w=t.slice(0,u);if(w.toLowerCase()==="localhost")e="localhost";else if(w.split(".").length<=2)e=w;else{let S=t.indexOf(".");i=t.substring(0,S).toLowerCase(),e=t.substring(S+1),r=i}"ns"in P&&(r=P.ns)}return{host:t,port:c,domain:e,subdomain:i,secure:s,scheme:a,pathString:o,namespace:r}};var JR="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",NY=(function(){let n=0,t=[];return function(e){let i=e===n;n=e;let o,r=new Array(8);for(o=7;o>=0;o--)r[o]=JR.charAt(e%64),e=Math.floor(e/64);ee(e===0,"Cannot push at time == 0");let s=r.join("");if(i){for(o=11;o>=0&&t[o]===63;o--)t[o]=0;t[o]++}else for(o=0;o<12;o++)t[o]=Math.floor(Math.random()*64);for(o=0;o<12;o++)s+=JR.charAt(t[o]);return ee(s.length===20,"nextPushId: Length should be 20."),s}})();var g_=class{constructor(t,e,i,o){this.eventType=t,this.eventRegistration=e,this.snapshot=i,this.prevName=o}getPath(){let t=this.snapshot.ref;return this.eventType==="value"?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Pn(this.snapshot.exportVal())}},h_=class{constructor(t,e,i){this.eventRegistration=t,this.error=e,this.path=i}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}};var m_=class{constructor(t,e){this.snapshotCallback=t,this.cancelCallback=e}onValue(t,e){this.snapshotCallback.call(null,t,e)}onCancel(t){return ee(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}};var hd=class n{constructor(t,e,i,o){this._repo=t,this._path=e,this._queryParams=i,this._orderByCalled=o}get key(){return it(this._path)?null:xw(this._path)}get ref(){return new Nr(this._repo,this._path)}get _queryIdentifier(){let t=FR(this._queryParams),e=Ow(t);return e==="{}"?"default":e}get _queryObject(){return FR(this._queryParams)}isEqual(t){if(t=nn(t),!(t instanceof n))return!1;let e=this._repo===t._repo,i=Ew(this._path,t._path),o=this._queryIdentifier===t._queryIdentifier;return e&&i&&o}toJSON(){return this.toString()}toString(){return this._repo.toString()+UQ(this._path)}};function LY(n,t){if(n._orderByCalled===!0)throw new Error(t+": You can't combine multiple orderBy calls.")}function Qw(n){let t=null,e=null;if(n.hasStart()&&(t=n.getIndexStartValue()),n.hasEnd()&&(e=n.getIndexEndValue()),n.getIndex()===bc){let i="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",o="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(n.hasStart()){if(n.getIndexStartName()!==yc)throw new Error(i);if(typeof t!="string")throw new Error(o)}if(n.hasEnd()){if(n.getIndexEndName()!==ua)throw new Error(i);if(typeof e!="string")throw new Error(o)}}else if(n.getIndex()===Yt){if(t!=null&&!uw(t)||e!=null&&!uw(e))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(ee(n.getIndex()instanceof Qp||n.getIndex()===ON,"unknown index type."),t!=null&&typeof t=="object"||e!=null&&typeof e=="object")throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function o4(n){if(n.hasStart()&&n.hasEnd()&&n.hasLimit()&&!n.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}var Nr=class n extends hd{constructor(t,e){super(t,e,new HO,!1)}get parent(){let t=CN(this._path);return t===null?null:new n(this._repo,t)}get root(){let t=this;for(;t.parent!==null;)t=t.parent;return t}},nf=class n{constructor(t,e,i){this._node=t,this.ref=e,this._index=i}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){let e=new Pt(t),i=Pc(this.ref,t);return new n(this._node.getChild(e),i,Yt)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(i,o)=>t(new n(o,Pc(this.ref,i),Yt)))}hasChild(t){let e=new Pt(t);return!this._node.getChild(e).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}};function r4(n,t){return n=nn(n),n._checkNotDeleted("ref"),t!==void 0?Pc(n._root,t):n._root}function Pc(n,t){return n=nn(n),nt(n._path)===null?_Y("child","path",t,!1):Uw("child","path",t,!1),new Nr(n._repo,on(n._path,t))}function s4(n,t){n=nn(n),$w("push",n._path),lf("push",t,n._path,!0);let e=XN(n._repo),i=NY(e),o=Pc(n,i),r=Pc(n,i),s;return t!=null?s=I_(r,t).then(()=>r):s=Promise.resolve(r),o.then=s.then.bind(s),o.catch=s.then.bind(s,void 0),o}function a4(n){return $w("remove",n._path),I_(n,null)}function I_(n,t){n=nn(n),$w("set",n._path),lf("set",t,n._path,!1);let e=new vo;return wY(n._repo,n._path,t,null,e.wrapCallback(()=>{})),e.promise}function c4(n,t){hY("update",t,n._path,!1);let e=new vo;return xY(n._repo,n._path,t,e.wrapCallback(()=>{})),e.promise}function l4(n){n=nn(n);let t=new m_(()=>{}),e=new __(t);return OY(n._repo,n,e).then(i=>new nf(i,new Nr(n._repo,n._path),n._queryParams.getIndex()))}var __=class n{constructor(t){this.callbackContext=t}respondsTo(t){return t==="value"}createEvent(t,e){let i=e._queryParams.getIndex();return new g_("value",this,new nf(t.snapshotNode,new Nr(e._repo,e._path),i))}getEventRunner(t){return t.getEventType()==="cancel"?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new h_(this,t,e):null}matches(t){return t instanceof n?!t.callbackContext||!this.callbackContext?!0:t.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}},hw=class n{constructor(t,e){this.eventType=t,this.callbackContext=e}respondsTo(t){let e=t==="children_added"?"child_added":t;return e=e==="children_removed"?"child_removed":e,this.eventType===e}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new h_(this,t,e):null}createEvent(t,e){ee(t.childName!=null,"Child events should have a childName.");let i=Pc(new Nr(e._repo,e._path),t.childName),o=e._queryParams.getIndex();return new g_(t.type,this,new nf(t.snapshotNode,i,o),t.prevName)}getEventRunner(t){return t.getEventType()==="cancel"?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,t.prevName)}matches(t){return t instanceof n?this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext)):!1}hasAnyCallback(){return!!this.callbackContext}};function FY(n,t,e,i,o){let r;if(typeof i=="object"&&(r=void 0,o=i),typeof i=="function"&&(r=i),o&&o.onlyOnce){let c=e,u=(C,v)=>{YR(n._repo,n,a),c(C,v)};u.userCallback=e.userCallback,u.context=e.context,e=u}let s=new m_(e,r||void 0),a=t==="value"?new __(s):new hw(t,s);return IY(n._repo,n,a),()=>YR(n._repo,n,a)}function d4(n,t,e,i){return FY(n,"value",t,e,i)}var md=class{},mw=class extends md{constructor(t,e){super(),this._value=t,this._key=e,this.type="endAt"}_apply(t){lf("endAt",this._value,t._path,!0);let e=rK(t._queryParams,this._value,this._key);if(o4(e),Qw(e),t._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new hd(t._repo,t._path,e,t._orderByCalled)}};var _w=class extends md{constructor(t,e){super(),this._value=t,this._key=e,this.type="startAt"}_apply(t){lf("startAt",this._value,t._path,!0);let e=oK(t._queryParams,this._value,this._key);if(o4(e),Qw(e),t._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new hd(t._repo,t._path,e,t._orderByCalled)}};var Cw=class extends md{constructor(t){super(),this._path=t,this.type="orderByChild"}_apply(t){LY(t,"orderByChild");let e=new Pt(this._path);if(it(e))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");let i=new Qp(e),o=sK(t._queryParams,i);return Qw(o),new hd(t._repo,t._path,o,!0)}};function u4(n){if(n==="$key")throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if(n==="$priority")throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if(n==="$value")throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return Uw("orderByChild","path",n,!1),new Cw(n)}var vw=class extends md{constructor(t,e){super(),this._value=t,this._key=e,this.type="equalTo"}_apply(t){if(lf("equalTo",this._value,t._path,!1),t._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(t._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new mw(this._value,this._key)._apply(new _w(this._value,this._key)._apply(t))}};function p4(n,t){return mY("equalTo","key",t,!0),new vw(n,t)}function f4(n,...t){let e=nn(n);for(let i of t)e=i._apply(e);return e}VK(Nr);WK(Nr);var zY="FIREBASE_DATABASE_EMULATOR_HOST",bw={},BY=!1;function jY(n,t,e,i){let o=t.lastIndexOf(":"),r=t.substring(0,o),s=Pr(r);n.repoInfo_=new K0(t,s,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams,!0,e),i&&(n.authTokenProvider_=i)}function VY(n,t,e,i,o){let r=i||n.options.databaseURL;r===void 0&&(n.options.projectId||Cs("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Xn("Using default host for project ",n.options.projectId),r=`${n.options.projectId}-default-rtdb.firebaseio.com`);let s=ZR(r,o),a=s.repoInfo,c,u;typeof process<"u"&&process.env&&(u=process.env[zY]),u?(c=!0,r=`http://${u}?ns=${a.namespace}`,s=ZR(r,o),a=s.repoInfo):c=!s.repoInfo.secure;let C=o&&c?new $p($p.OWNER):new SO(n.name,n.options,t);CY("Invalid Firebase Database URL",s),it(s.path)||Cs("Database URL must point to the root of a Firebase Database (not including a child path).");let v=$Y(a,n,C,new IO(n,e));return new yw(v,n)}function UY(n,t){let e=bw[t];(!e||e[n.key]!==n)&&Cs(`Database ${t}(${n.repoInfo_}) has already been deleted.`),SY(n),delete e[n.key]}function $Y(n,t,e,i){let o=bw[t.name];o||(o={},bw[t.name]=o);let r=o[n.toURLString()];return r&&Cs("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),r=new fw(n,BY,e,i),o[n.toURLString()]=r,r}var yw=class{constructor(t,e){this._repoInternal=t,this.app=e,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(MY(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Nr(this._repo,vt())),this._rootInternal}_delete(){return this._rootInternal!==null&&(UY(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){this._rootInternal===null&&Cs("Cannot call "+t+" on a deleted database.")}};function g4(n=ps(),t){let e=Xs(n,"database").getImmediate({identifier:t});if(!e._instanceStarted){let i=h0("database");i&&h4(e,...i)}return e}function h4(n,t,e,i={}){n=nn(n),n._checkNotDeleted("useEmulator");let o=`${t}:${e}`,r=n._repoInternal;if(n._instanceStarted){if(o===n._repoInternal.repoInfo_.host&&wr(i,r.repoInfo_.emulatorOptions))return;Cs("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let s;if(r.repoInfo_.nodeAdmin)i.mockUserToken&&Cs('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new $p($p.OWNER);else if(i.mockUserToken){let a=typeof i.mockUserToken=="string"?i.mockUserToken:m0(i.mockUserToken,n.app.options.projectId);s=new $p(a)}Pr(t)&&(Yl(t),Zl("Database",!0)),jY(r,o,i,s)}function qY(n){sQ(Ir),eo(new Zn("database",(t,{instanceIdentifier:e})=>{let i=t.getProvider("app").getImmediate(),o=t.getProvider("auth-internal"),r=t.getProvider("app-check-internal");return VY(i,o,r,e)},"PUBLIC").setMultipleInstances(!0)),Nt(bR,yR,n),Nt(bR,yR,"esm2017")}Iw.prototype.simpleListen=function(n,t){this.sendRequest("q",{p:n},t)};Iw.prototype.echo=function(n,t){this.sendRequest("echo",{d:n},t)};qY();var hn=class{constructor(t){return t}},m4="database",Kw=class{constructor(){return ea(m4)}};var Yw=new oe("angularfire2.database-instances");function HY(n,t){let e=fc(m4,n,t);return e&&new hn(e)}function WY(n){return(t,e)=>{let i=t.runOutsideAngular(()=>n(e));return new hn(i)}}var GY={provide:Kw,deps:[[new Dn,Yw]]},QY={provide:hn,useFactory:HY,deps:[[new Dn,Yw],Ko]};function _4(n,...t){return Nt("angularfire",Sr.full,"rtdb"),Wn([QY,GY,{provide:Yw,useFactory:WY(n),multi:!0,deps:[rt,ze,Tr,fs,[new Dn,mc],[new Dn,na],...t]}])}var xc=Ht(p4,!0,2);var $t=Ht(l4,!0),C4=Ht(g4,!0);var Bn=Ht(d4,!0),Oo=Ht(u4,!0,2);var pi=Ht(s4,!0,2),wo=Ht(f4,!0,2),le=Ht(r4,!0,2);var On=Ht(a4,!0,2);var ga=Ht(I_,!0,2);var fi=Ht(c4,!0,2);var O4="firebasestorage.googleapis.com",KY="storageBucket",YY=120*1e3,ZY=600*1e3;var Lr=class n extends Xi{constructor(t,e,i=0){super(Zw(t),`Firebase Storage: ${e} (${Zw(t)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,n.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return Zw(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}},bs=(function(n){return n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment",n})(bs||{});function Zw(n){return"storage/"+n}function JY(){let n="An unknown error occurred, please check the error payload for server response.";return new Lr(bs.UNKNOWN,n)}function XY(){return new Lr(bs.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function eZ(){return new Lr(bs.CANCELED,"User canceled the upload/download.")}function tZ(n){return new Lr(bs.INVALID_URL,"Invalid URL '"+n+"'.")}function nZ(n){return new Lr(bs.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function v4(n){return new Lr(bs.INVALID_ARGUMENT,n)}function w4(){return new Lr(bs.APP_DELETED,"The Firebase app was deleted.")}function iZ(n){return new Lr(bs.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}var vs=class n{constructor(t,e){this.bucket=t,this.path_=e}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){let t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,e){let i;try{i=n.makeFromUrl(t,e)}catch{return new n(t,"")}if(i.path==="")return i;throw nZ(t)}static makeFromUrl(t,e){let i=null,o="([A-Za-z0-9.\\-_]+)";function r(Me){Me.path.charAt(Me.path.length-1)==="/"&&(Me.path_=Me.path_.slice(0,-1))}let s="(/(.*))?$",a=new RegExp("^gs://"+o+s,"i"),c={bucket:1,path:3};function u(Me){Me.path_=decodeURIComponent(Me.path)}let C="v[A-Za-z0-9_]+",v=e.replace(/[.]/g,"\\."),P="(/([^?#]*).*)?$",w=new RegExp(`^https?://${v}/${C}/b/${o}/o${P}`,"i"),S={bucket:1,path:3},F=e===O4?"(?:storage.googleapis.com|storage.cloud.google.com)":e,N="([^?#]*)",W=new RegExp(`^https?://${F}/${o}/${N}`,"i"),we=[{regex:a,indices:c,postModify:r},{regex:w,indices:S,postModify:u},{regex:W,indices:{bucket:1,path:2},postModify:u}];for(let Me=0;Me<we.length;Me++){let mt=we[Me],lt=mt.regex.exec(t);if(lt){let Ot=lt[mt.indices.bucket],Lt=lt[mt.indices.path];Lt||(Lt=""),i=new n(Ot,Lt),mt.postModify(i);break}}if(i==null)throw tZ(t);return i}},Jw=class{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}};function oZ(n,t,e){let i=1,o=null,r=null,s=!1,a=0;function c(){return a===2}let u=!1;function C(...N){u||(u=!0,t.apply(null,N))}function v(N){o=setTimeout(()=>{o=null,n(w,c())},N)}function P(){r&&clearTimeout(r)}function w(N,...W){if(u){P();return}if(N){P(),C.call(null,N,...W);return}if(c()||s){P(),C.call(null,N,...W);return}i<64&&(i*=2);let we;a===1?(a=2,we=0):we=(i+Math.random())*1e3,v(we)}let S=!1;function F(N){S||(S=!0,P(),!u&&(o!==null?(N||(a=2),clearTimeout(o),v(0)):N||(a=1)))}return v(0),r=setTimeout(()=>{s=!0,F(!0)},e),F}function rZ(n){n(!1)}function sZ(n){return n!==void 0}function b4(n,t,e,i){if(i<t)throw v4(`Invalid value for '${n}'. Expected ${t} or greater.`);if(i>e)throw v4(`Invalid value for '${n}'. Expected ${e} or less.`)}function aZ(n){let t=encodeURIComponent,e="?";for(let i in n)if(n.hasOwnProperty(i)){let o=t(i)+"="+t(n[i]);e=e+o+"&"}return e=e.slice(0,-1),e}var Xw=(function(n){return n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT",n})(Xw||{});function cZ(n,t){let e=n>=500&&n<600,o=[408,429].indexOf(n)!==-1,r=t.indexOf(n)!==-1;return e||o||r}var ex=class{constructor(t,e,i,o,r,s,a,c,u,C,v,P=!0,w=!1){this.url_=t,this.method_=e,this.headers_=i,this.body_=o,this.successCodes_=r,this.additionalRetryCodes_=s,this.callback_=a,this.errorCallback_=c,this.timeout_=u,this.progressCallback_=C,this.connectionFactory_=v,this.retry=P,this.isUsingEmulator=w,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((S,F)=>{this.resolve_=S,this.reject_=F,this.start_()})}start_(){let t=(i,o)=>{if(o){i(!1,new bd(!1,null,!0));return}let r=this.connectionFactory_();this.pendingConnection_=r;let s=a=>{let c=a.loaded,u=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(c,u)};this.progressCallback_!==null&&r.addUploadProgressListener(s),r.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&r.removeUploadProgressListener(s),this.pendingConnection_=null;let a=r.getErrorCode()===Xw.NO_ERROR,c=r.getStatus();if(!a||cZ(c,this.additionalRetryCodes_)&&this.retry){let C=r.getErrorCode()===Xw.ABORT;i(!1,new bd(!1,null,C));return}let u=this.successCodes_.indexOf(c)!==-1;i(!0,new bd(u,r))})},e=(i,o)=>{let r=this.resolve_,s=this.reject_,a=o.connection;if(o.wasSuccessCode)try{let c=this.callback_(a,a.getResponse());sZ(c)?r(c):r()}catch(c){s(c)}else if(a!==null){let c=JY();c.serverResponse=a.getErrorText(),this.errorCallback_?s(this.errorCallback_(a,c)):s(c)}else if(o.canceled){let c=this.appDelete_?w4():eZ();s(c)}else{let c=XY();s(c)}};this.canceled_?e(!1,new bd(!1,null,!0)):this.backoffId_=oZ(t,e,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&rZ(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}},bd=class{constructor(t,e,i){this.wasSuccessCode=t,this.connection=e,this.canceled=!!i}};function lZ(n,t){t!==null&&t.length>0&&(n.Authorization="Firebase "+t)}function dZ(n,t){n["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function uZ(n,t){t&&(n["X-Firebase-GMPID"]=t)}function pZ(n,t){t!==null&&(n["X-Firebase-AppCheck"]=t)}function fZ(n,t,e,i,o,r,s=!0,a=!1){let c=aZ(n.urlParams),u=n.url+c,C=Object.assign({},n.headers);return uZ(C,t),lZ(C,e),dZ(C,r),pZ(C,i),new ex(u,n.method,C,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,o,s,a)}function gZ(n){if(n.length===0)return null;let t=n.lastIndexOf("/");return t===-1?"":n.slice(0,t)}function hZ(n){let t=n.lastIndexOf("/",n.length-2);return t===-1?n:n.slice(t+1)}var HOe=256*1024;var tx=class n{constructor(t,e){this._service=t,e instanceof vs?this._location=e:this._location=vs.makeFromUrl(e,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,e){return new n(t,e)}get root(){let t=new vs(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return hZ(this._location.path)}get storage(){return this._service}get parent(){let t=gZ(this._location.path);if(t===null)return null;let e=new vs(this._location.bucket,t);return new n(this._service,e)}_throwIfRoot(t){if(this._location.path==="")throw iZ(t)}};function y4(n,t){let e=t?.[KY];return e==null?null:vs.makeFromBucketSpec(e,n)}function mZ(n,t,e,i={}){n.host=`${t}:${e}`;let o=Pr(t);o&&(Yl(`https://${n.host}/b`),Zl("Storage",!0)),n._isUsingEmulator=!0,n._protocol=o?"https":"http";let{mockUserToken:r}=i;r&&(n._overrideAuthToken=typeof r=="string"?r:m0(r,n.app.options.projectId))}var nx=class{constructor(t,e,i,o,r,s=!1){this.app=t,this._authProvider=e,this._appCheckProvider=i,this._url=o,this._firebaseVersion=r,this._isUsingEmulator=s,this._bucket=null,this._host=O4,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=YY,this._maxUploadRetryTime=ZY,this._requests=new Set,o!=null?this._bucket=vs.makeFromBucketSpec(o,this._host):this._bucket=y4(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._url!=null?this._bucket=vs.makeFromBucketSpec(this._url,t):this._bucket=y4(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){b4("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){b4("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}_getAuthToken(){return L(this,null,function*(){if(this._overrideAuthToken)return this._overrideAuthToken;let t=this._authProvider.getImmediate({optional:!0});if(t){let e=yield t.getToken();if(e!==null)return e.accessToken}return null})}_getAppCheckToken(){return L(this,null,function*(){if(Jn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let t=this._appCheckProvider.getImmediate({optional:!0});return t?(yield t.getToken()).token:null})}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new tx(this,t)}_makeRequest(t,e,i,o,r=!0){if(this._deleted)return new Jw(w4());{let s=fZ(t,this._appId,i,o,e,this._firebaseVersion,r,this._isUsingEmulator);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}makeRequestWithTokens(t,e){return L(this,null,function*(){let[i,o]=yield Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,e,i,o).getPromise()})}},M4="@firebase/storage",P4="0.13.14";var x4="storage";function E4(n=ps(),t){n=nn(n);let i=Xs(n,x4).getImmediate({identifier:t}),o=h0("storage");return o&&I4(i,...o),i}function I4(n,t,e,i={}){mZ(n,t,e,i)}function _Z(n,{instanceIdentifier:t}){let e=n.getProvider("app").getImmediate(),i=n.getProvider("auth-internal"),o=n.getProvider("app-check-internal");return new nx(e,i,o,t,Ir)}function CZ(){eo(new Zn(x4,_Z,"PUBLIC").setMultipleInstances(!0)),Nt(M4,P4,""),Nt(M4,P4,"esm2017")}CZ();var uf=class{constructor(t){return t}},S4="storage",ix=class{constructor(){return ea(S4)}};var ox=new oe("angularfire2.storage-instances");function vZ(n,t){let e=fc(S4,n,t);return e&&new uf(e)}function bZ(n){return(t,e)=>{let i=t.runOutsideAngular(()=>n(e));return new uf(i)}}var yZ={provide:ix,deps:[[new Dn,ox]]},MZ={provide:uf,useFactory:vZ,deps:[[new Dn,ox],Ko]};function T4(n,...t){return Nt("angularfire",Sr.full,"gcs"),Wn([MZ,yZ,{provide:ox,useFactory:bZ(n),multi:!0,deps:[rt,ze,Tr,fs,[new Dn,mc],[new Dn,na],...t]}])}var D4=Ht(E4,!0);var rx={production:!1,firebase:{apiKey:"AIzaSyBIydVrbzKJ9YvIYQ8kQHn4upKo0jDfQ6M",authDomain:"ankh-a4380.firebaseapp.com",databaseURL:"https://ankh-a4380-default-rtdb.europe-west1.firebasedatabase.app",projectId:"ankh-a4380",storageBucket:"ankh-a4380.firebasestorage.app",messagingSenderId:"505804085488",appId:"1:505804085488:web:6dd9649409abc5ecc5ca35",measurementId:"G-F6VMMVJ0C3"},emailJs:{serviceId:"YOUR_EMAILJS_SERVICE_ID",templateId:"YOUR_EMAILJS_TEMPLATE_ID",publicKey:"YOUR_EMAILJS_PUBLIC_KEY",recipientEmail:"info@ankh.com"}};var S_=Un(jn());var Dt=class n{constructor(t,e){this.auth=t;this.injector=e}ADMIN_EMAIL="admin@ankh.com";register(t,e){return this.isAdminEmail(t)?new ve(i=>{i.error({code:"auth/admin-email-not-allowed",message:"Admin email cannot be used for registration."})}):this.executeInInjectionContext(()=>X(hR(this.auth,t,e)))}login(t,e){return this.executeInInjectionContext(()=>X(_R(this.auth,t,e)))}loginByGmail(){return this.executeInInjectionContext(()=>{let t=new rO;return X(CR(this.auth,t)).pipe(H(e=>{console.log("result",e);let i=e.user;if(i.email&&this.isAdminEmail(i.email))throw this.executeInInjectionContext(()=>X(mO(this.auth))).subscribe(),{code:"auth/admin-email-not-allowed",message:"Admin email cannot be used for Google authentication."};return e}),ut(e=>{throw e}))})}registerByGmail(){return this.loginByGmail()}logout(){return this.executeInInjectionContext(()=>X(mO(this.auth)))}getCurrentUserId(){return this.auth.currentUser?.uid||null}authState$(){return re(()=>Y(this.injector,()=>kr(this.auth)))}currentUserId$(){return this.authState$().pipe(H(t=>t?.uid||null))}isAdminEmail(t){return t?.toLowerCase()===this.ADMIN_EMAIL}executeInInjectionContext(t){return re(()=>Y(this.injector,t))}static \u0275fac=function(e){return new(e||n)(Z(Oi),Z(ze))};static \u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"})};var wn=class n{constructor(t,e){this.database=t;this.injector=e}createOrganizationRequest(t,e){let i=ae(j({},t),{uid:e,status:"pending",createdAt:new Date().toISOString()});return re(()=>Y(this.injector,()=>{let o=le(this.database,`organizations/${e}`);return X(ga(o,i))}))}getOrganizationStatus(t){return re(()=>Y(this.injector,()=>{let e=le(this.database,`organizations/${t}/status`);return new ve(i=>{Bn(e,o=>{i.next(o.exists()?o.val():null)},o=>{i.error(o)})})}))}getOrganization(t){return re(()=>Y(this.injector,()=>{let e=le(this.database,`organizations/${t}`);return new ve(i=>{Bn(e,o=>{i.next(o.exists()?o.val():null)},o=>{i.error(o)})})}))}getAllOrganizations(){return re(()=>Y(this.injector,()=>{let t=le(this.database,"organizations");return new ve(e=>{Bn(t,i=>{if(!i.exists()){e.next([]);return}let o=i.val(),r=Object.keys(o).map(s=>o[s]);e.next(r)},i=>{e.error(i)})})}))}getOrganizationsByStatus(t){return re(()=>Y(this.injector,()=>{let e=le(this.database,"organizations");return new ve(i=>{Bn(e,o=>{if(!o.exists()){i.next([]);return}let r=o.val(),s=Object.keys(r).map(a=>r[a]).filter(a=>a.status===t);i.next(s)},o=>{i.error(o)})})}))}approveOrganization(t){return re(()=>Y(this.injector,()=>{let e=le(this.database,`organizations/${t}/status`);return X(ga(e,"approved"))}))}rejectOrganization(t){return re(()=>Y(this.injector,()=>{let e=le(this.database,`organizations/${t}/status`);return X(ga(e,"rejected"))}))}updateOrganization(t,e){let i=le(this.database,`organizations/${t}`);return re(()=>Y(this.injector,()=>X(fi(i,e))))}deleteOrganization(t){return re(()=>Y(this.injector,()=>{let e=le(this.database,`organizations/${t}`);return X(On(e))}))}static \u0275fac=function(e){return new(e||n)(Z(hn),Z(ze))};static \u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"})};function PZ(n,t){n&1&&(d(0,"div",0),b(1,"div",2),p())}function OZ(n,t){n&1&&b(0,"i",37)}function wZ(n,t){n&1&&b(0,"i",38)}function xZ(n,t){n&1&&b(0,"i",39)}function EZ(n,t){if(n&1&&(d(0,"span",10),T(1,OZ,1,0,"i",37)(2,wZ,1,0,"i",38)(3,xZ,1,0,"i",39),f(4),h(5,"translate"),p()),n&2){let e=x(2);E("ngClass",e.getStatusClass()),l(),D(e.userStatus==="approved"?1:e.userStatus==="pending"?2:e.userStatus==="rejected"?3:-1),l(3),M(" ",m(5,3,e.getStatusKey())," ")}}function IZ(n,t){if(n&1&&(d(0,"span",12),f(1),p()),n&2){let e=x(2);l(),M(", ",e.userName)}}function SZ(n,t){if(n&1&&(d(0,"a",20)(1,"div",40),b(2,"i",41),p(),d(3,"div",42)(4,"h3",43),f(5),h(6,"translate"),p(),d(7,"p",44),f(8),h(9,"translate"),p()(),d(10,"div",45),b(11,"i",46),p()()),n&2){let e=t.$implicit;E("routerLink",e.route),pt("data-color",e.color),l(2),E("ngClass",e.icon),l(3),O(m(6,5,e.title)),l(3),O(m(9,7,e.description))}}function TZ(n,t){if(n&1){let e=J();d(0,"div",1)(1,"section",3)(2,"div",4)(3,"div",5)(4,"div",6)(5,"div",7)(6,"span",8),b(7,"i",9),f(8),h(9,"translate"),p(),T(10,EZ,6,5,"span",10),p(),d(11,"h1",11),f(12),h(13,"translate"),T(14,IZ,2,1,"span",12),p(),d(15,"p",13),f(16),h(17,"translate"),p()(),d(18,"div",14),b(19,"img",15),p()()()(),d(20,"section",16)(21,"div",4)(22,"h2",17),b(23,"i",18),f(24),h(25,"translate"),p(),d(26,"div",19),Be(27,SZ,12,9,"a",20,Ri),p()()(),d(29,"section",21)(30,"div",4)(31,"div",22)(32,"div",23)(33,"div",24),b(34,"i",25),p(),d(35,"div",26)(36,"h3"),f(37),h(38,"translate"),p(),d(39,"p"),f(40),h(41,"translate"),p()()(),d(42,"button",27),R("click",function(){$(e);let o=x();return q(o.goToCourses())}),b(43,"i",28),f(44),h(45,"translate"),p()()()(),d(46,"section",29)(47,"div",4)(48,"h2",17),b(49,"i",30),f(50),h(51,"translate"),p(),d(52,"div",31)(53,"div",32)(54,"div",33),b(55,"i",34),p(),d(56,"h4"),f(57),h(58,"translate"),p(),d(59,"p"),f(60),h(61,"translate"),p()(),d(62,"div",32)(63,"div",33),b(64,"i",35),p(),d(65,"h4"),f(66),h(67,"translate"),p(),d(68,"p"),f(69),h(70,"translate"),p()(),d(71,"div",32)(72,"div",33),b(73,"i",36),p(),d(74,"h4"),f(75),h(76,"translate"),p(),d(77,"p"),f(78),h(79,"translate"),p()()()()()()}if(n&2){let e=x();l(8),M(" ",m(9,16,e.getGreeting())," "),l(2),D(e.userStatus?10:-1),l(2),M(" ",m(13,18,"home.dashboard.welcomeBack")," "),l(2),D(e.userName?14:-1),l(2),O(m(17,20,"home.dashboard.subtitle")),l(8),M(" ",m(25,22,"home.dashboard.quickActions")," "),l(3),je(e.quickActions),l(10),O(m(38,24,"home.dashboard.startLearning.title")),l(3),O(m(41,26,"home.dashboard.startLearning.description")),l(4),M(" ",m(45,28,"home.dashboard.startLearning.button")," "),l(6),M(" ",m(51,30,"home.dashboard.tips.title")," "),l(7),O(m(58,32,"home.dashboard.tips.tip1.title")),l(3),O(m(61,34,"home.dashboard.tips.tip1.description")),l(6),O(m(67,36,"home.dashboard.tips.tip2.title")),l(3),O(m(70,38,"home.dashboard.tips.tip2.description")),l(6),O(m(76,40,"home.dashboard.tips.tip3.title")),l(3),O(m(79,42,"home.dashboard.tips.tip3.description"))}}function DZ(n,t){if(n&1&&(d(0,"div",81)(1,"div",101)(2,"div",102),b(3,"i",41),p(),d(4,"h3",103),f(5),h(6,"translate"),p(),d(7,"p",104),f(8),h(9,"translate"),p()()()),n&2){let e=t.$implicit,i=t.$index;l(),pt("data-aos","fade-up")("data-aos-delay",i*100),l(2),E("ngClass",e.icon),l(2),O(m(6,5,e.title)),l(3),O(m(9,7,e.description))}}function kZ(n,t){if(n&1&&(d(0,"div",85)(1,"div",105)(2,"div",106),f(3),p(),d(4,"div",107),b(5,"i",41),p(),d(6,"h3",108),f(7),h(8,"translate"),p(),d(9,"p",109),f(10),h(11,"translate"),p()()()),n&2){let e=t.$implicit;l(3),O(e.number),l(2),E("ngClass",e.icon),l(2),O(m(8,4,e.title)),l(3),O(m(11,6,e.description))}}function AZ(n,t){if(n&1&&(d(0,"div",87)(1,"div",110)(2,"div",111),b(3,"i",41),p(),d(4,"h3",112),f(5),h(6,"translate"),p(),d(7,"p",113),f(8),h(9,"translate"),p()()()),n&2){let e=t.$implicit;l(3),E("ngClass",e.icon),l(2),O(m(6,3,e.title)),l(3),O(m(9,5,e.description))}}function RZ(n,t){if(n&1&&(d(0,"section",47)(1,"div",48)(2,"div",49),b(3,"div",50)(4,"div",51)(5,"div",52),p()(),d(6,"div",4)(7,"div",53)(8,"div",54)(9,"div",55)(10,"span",56),b(11,"i",57),f(12),h(13,"translate"),p(),d(14,"h1",58),f(15),h(16,"translate"),p(),d(17,"p",59),f(18),h(19,"translate"),p(),d(20,"p",60),f(21),h(22,"translate"),p(),d(23,"div",61)(24,"a",62),b(25,"i",25),f(26),h(27,"translate"),p(),d(28,"a",63),b(29,"i",64),f(30),h(31,"translate"),p()(),d(32,"div",65)(33,"div",66)(34,"span",67),f(35,"100+"),p(),d(36,"span",68),f(37),h(38,"translate"),p()(),d(39,"div",66)(40,"span",67),f(41,"50+"),p(),d(42,"span",68),f(43),h(44,"translate"),p()(),d(45,"div",66)(46,"span",67),f(47,"24/7"),p(),d(48,"span",68),f(49),h(50,"translate"),p()()()()(),d(51,"div",54)(52,"div",69)(53,"div",70),b(54,"img",71),d(55,"div",72),b(56,"i",28),d(57,"span"),f(58),h(59,"translate"),p()(),d(60,"div",73),b(61,"i",74),d(62,"span"),f(63),h(64,"translate"),p()()()()()()()(),d(65,"section",75)(66,"div",4)(67,"div",76)(68,"div",77)(69,"span",78),f(70),h(71,"translate"),p(),d(72,"h2",17),f(73),h(74,"translate"),p(),d(75,"p",79),f(76),h(77,"translate"),p()()(),d(78,"div",80),Be(79,DZ,10,9,"div",81,Ri),p()()(),d(81,"section",82)(82,"div",4)(83,"div",76)(84,"div",77)(85,"span",78),f(86),h(87,"translate"),p(),d(88,"h2",17),f(89),h(90,"translate"),p(),d(91,"p",79),f(92),h(93,"translate"),p()()(),d(94,"div",83),b(95,"div",84),d(96,"div",80),Be(97,kZ,12,8,"div",85,Ri),p()()()(),d(99,"section",86)(100,"div",4)(101,"div",76)(102,"div",77)(103,"span",78),f(104),h(105,"translate"),p(),d(106,"h2",17),f(107),h(108,"translate"),p(),d(109,"p",79),f(110),h(111,"translate"),p()()(),d(112,"div",80),Be(113,AZ,10,7,"div",87,Ri),p()()(),d(115,"section",88)(116,"div",89)(117,"div",90),b(118,"div",50)(119,"div",51),p()(),d(120,"div",4)(121,"div",76)(122,"div",91)(123,"div",92)(124,"span",93),b(125,"i",94),f(126),h(127,"translate"),p(),d(128,"h2",95),f(129),h(130,"translate"),p(),d(131,"p",96),f(132),h(133,"translate"),p(),d(134,"div",97)(135,"a",98),b(136,"i",99),f(137),h(138,"translate"),p(),d(139,"a",100),b(140,"i",64),f(141),h(142,"translate"),p()()()()()()()),n&2){let e=x();l(12),M(" ",m(13,29,"home.hero.badge")," "),l(3),M(" ",m(16,31,"home.hero.title")," "),l(3),M(" ",m(19,33,"home.hero.subtitle")," "),l(3),M(" ",m(22,35,"home.hero.description")," "),l(3),E("routerLink","/register"),l(2),M(" ",m(27,37,"home.hero.registerBtn")," "),l(2),E("routerLink","/login"),l(2),M(" ",m(31,39,"home.hero.loginBtn")," "),l(7),O(m(38,41,"home.hero.stats.courses")),l(6),O(m(44,43,"home.hero.stats.organizations")),l(6),O(m(50,45,"home.hero.stats.support")),l(9),O(m(59,47,"home.hero.floatingCards.video")),l(5),O(m(64,49,"home.hero.floatingCards.certified")),l(7),O(m(71,51,"home.features.badge")),l(3),O(m(74,53,"home.features.title")),l(3),O(m(77,55,"home.features.subtitle")),l(3),je(e.features),l(7),O(m(87,57,"home.howItWorks.badge")),l(3),O(m(90,59,"home.howItWorks.title")),l(3),O(m(93,61,"home.howItWorks.subtitle")),l(5),je(e.steps),l(7),O(m(105,63,"home.benefits.badge")),l(3),O(m(108,65,"home.benefits.title")),l(3),O(m(111,67,"home.benefits.subtitle")),l(3),je(e.benefits),l(13),M(" ",m(127,69,"home.cta.badge")," "),l(3),O(m(130,71,"home.cta.title")),l(3),O(m(133,73,"home.cta.description")),l(3),E("routerLink","/register"),l(2),M(" ",m(138,75,"home.cta.registerBtn")," "),l(2),E("routerLink","/login"),l(2),M(" ",m(142,77,"home.cta.loginBtn")," ")}}var T_=class n{constructor(t,e,i,o){this.authService=t;this.router=e;this.organizationService=i;this.translateService=o}isLoggedIn=!1;isLoading=!0;userName=null;userEmail=null;userStatus=null;currentHour=new Date().getHours();destroy$=new me;statusAlertShown=!1;ngOnInit(){this.authService.authState$().pipe(ne(this.destroy$)).subscribe(t=>{this.isLoggedIn=!!t,this.isLoading=!1,t&&this.organizationService.getOrganization(t.uid||"").pipe(ne(this.destroy$)).subscribe(e=>{this.userName=e?.name||null,this.userEmail=e?.email||null,this.userStatus=e?.status||null,!this.statusAlertShown&&this.userStatus&&this.userStatus!=="approved"&&(this.showStatusAlert(this.userStatus),this.statusAlertShown=!0)})})}showStatusAlert(t){t==="pending"?S_.default.fire({icon:"info",title:this.translateService.instant("home.statusAlert.pending.title"),html:`
          <div class="ankh-alert-content">
            <p>${this.translateService.instant("home.statusAlert.pending.message")}</p>
            <div class="ankh-alert-info">
              <i class="fas fa-clock"></i>
              <span>${this.translateService.instant("home.statusAlert.pending.info")}</span>
            </div>
          </div>
        `,confirmButtonText:this.translateService.instant("home.statusAlert.pending.button"),customClass:{popup:"ankh-swal-popup",title:"ankh-swal-title",htmlContainer:"ankh-swal-html",confirmButton:"ankh-swal-confirm-btn ankh-swal-pending-btn"},background:"#fff",color:"#0E3A5D",iconColor:"#C9A24D",showClass:{popup:"animate__animated animate__fadeInDown"},hideClass:{popup:"animate__animated animate__fadeOutUp"}}):t==="rejected"&&S_.default.fire({icon:"error",title:this.translateService.instant("home.statusAlert.rejected.title"),html:`
          <div class="ankh-alert-content">
            <p>${this.translateService.instant("home.statusAlert.rejected.message")}</p>
            <div class="ankh-alert-warning">
              <i class="fas fa-exclamation-triangle"></i>
              <span>${this.translateService.instant("home.statusAlert.rejected.info")}</span>
            </div>
          </div>
        `,confirmButtonText:this.translateService.instant("home.statusAlert.rejected.button"),showCancelButton:!0,cancelButtonText:this.translateService.instant("home.statusAlert.rejected.contactButton"),customClass:{popup:"ankh-swal-popup",title:"ankh-swal-title",htmlContainer:"ankh-swal-html",confirmButton:"ankh-swal-confirm-btn ankh-swal-rejected-btn",cancelButton:"ankh-swal-cancel-btn"},background:"#fff",color:"#0E3A5D",iconColor:"#DC2626",showClass:{popup:"animate__animated animate__fadeInDown"},hideClass:{popup:"animate__animated animate__fadeOutUp"}}).then(e=>{e.dismiss===S_.default.DismissReason.cancel&&this.router.navigate(["/contact"])})}getStatusClass(){switch(this.userStatus){case"approved":return"status-approved";case"pending":return"status-pending";case"rejected":return"status-rejected";default:return""}}getStatusKey(){return`home.status.${this.userStatus}`}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}getGreeting(){return this.currentHour<12?"home.dashboard.greetingMorning":this.currentHour<18?"home.dashboard.greetingAfternoon":"home.dashboard.greetingEvening"}goToCourses(){this.router.navigate(["/courses"])}goToSubscriptions(){this.router.navigate(["/subscriptions"])}features=[{icon:"fa-shield-alt",title:"home.features.secure.title",description:"home.features.secure.description"},{icon:"fa-video",title:"home.features.video.title",description:"home.features.video.description"},{icon:"fa-file-pdf",title:"home.features.pdfs.title",description:"home.features.pdfs.description"},{icon:"fa-tasks",title:"home.features.quizzes.title",description:"home.features.quizzes.description"},{icon:"fa-users",title:"home.features.organizations.title",description:"home.features.organizations.description"},{icon:"fa-cog",title:"home.features.management.title",description:"home.features.management.description"}];steps=[{number:"01",title:"home.howItWorks.register.title",description:"home.howItWorks.register.description",icon:"fa-user-plus"},{number:"02",title:"home.howItWorks.approval.title",description:"home.howItWorks.approval.description",icon:"fa-check-circle"},{number:"03",title:"home.howItWorks.access.title",description:"home.howItWorks.access.description",icon:"fa-unlock"},{number:"04",title:"home.howItWorks.learn.title",description:"home.howItWorks.learn.description",icon:"fa-graduation-cap"}];benefits=[{icon:"fa-certificate",title:"home.benefits.certified.title",description:"home.benefits.certified.description"},{icon:"fa-clock",title:"home.benefits.flexible.title",description:"home.benefits.flexible.description"},{icon:"fa-headset",title:"home.benefits.support.title",description:"home.benefits.support.description"}];quickActions=[{icon:"fa-book-open",title:"home.dashboard.actions.courses",description:"home.dashboard.actions.coursesDesc",route:"/courses",color:"primary"},{icon:"fa-credit-card",title:"home.dashboard.actions.subscriptions",description:"home.dashboard.actions.subscriptionsDesc",route:"/mySubscriptions",color:"success"},{icon:"fa-user-circle",title:"home.dashboard.actions.profile",description:"home.dashboard.actions.profileDesc",route:"/profile-view",color:"info"},{icon:"fa-question-circle",title:"home.dashboard.actions.support",description:"home.dashboard.actions.supportDesc",route:"/contact",color:"warning"}];static \u0275fac=function(e){return new(e||n)(A(Dt),A(He),A(wn),A(Pi))};static \u0275cmp=ce({type:n,selectors:[["app-home"]],decls:3,vars:3,consts:[[1,"loading-screen"],[1,"dashboard-home"],[1,"spinner"],[1,"welcome-section"],[1,"container"],[1,"welcome-content"],[1,"welcome-text"],[1,"welcome-badges"],[1,"greeting-badge"],[1,"fas","fa-sun"],[1,"status-badge",3,"ngClass"],[1,"welcome-title"],[1,"user-name"],[1,"welcome-subtitle"],[1,"welcome-image"],["src","assets/logo-removebg-preview.png","alt","ANKH Logo"],[1,"quick-actions-section"],[1,"section-title"],[1,"fas","fa-bolt"],[1,"actions-grid"],[1,"action-card",3,"routerLink"],[1,"start-learning-section"],[1,"learning-banner"],[1,"banner-content"],[1,"banner-icon"],[1,"fas","fa-rocket"],[1,"banner-text"],[1,"btn-start",3,"click"],[1,"fas","fa-play-circle"],[1,"tips-section"],[1,"fas","fa-lightbulb"],[1,"tips-grid"],[1,"tip-card"],[1,"tip-icon"],[1,"fas","fa-video"],[1,"fas","fa-tasks"],[1,"fas","fa-trophy"],[1,"fas","fa-check-circle"],[1,"fas","fa-clock"],[1,"fas","fa-times-circle"],[1,"action-icon"],[1,"fas",3,"ngClass"],[1,"action-content"],[1,"action-title"],[1,"action-description"],[1,"action-arrow"],[1,"fas","fa-arrow-right"],[1,"hero-section"],[1,"hero-background"],[1,"hero-shapes"],[1,"shape","shape-1"],[1,"shape","shape-2"],[1,"shape","shape-3"],[1,"row","align-items-center","min-vh-100"],[1,"col-lg-6"],[1,"hero-content"],[1,"hero-badge"],[1,"fas","fa-star"],[1,"hero-title"],[1,"hero-subtitle"],[1,"hero-description"],[1,"hero-actions"],[1,"btn","btn-primary","btn-hero",3,"routerLink"],[1,"btn","btn-outline-light","btn-hero",3,"routerLink"],[1,"fas","fa-sign-in-alt"],[1,"hero-stats"],[1,"stat-item"],[1,"stat-number"],[1,"stat-label"],[1,"hero-image"],[1,"hero-image-wrapper"],["src","assets/logo-removebg-preview.png","alt","ANKH Platform"],[1,"floating-card","card-1"],[1,"floating-card","card-2"],[1,"fas","fa-certificate"],[1,"features-section"],[1,"row"],[1,"col-12","text-center","mb-5"],[1,"section-badge"],[1,"section-subtitle"],[1,"row","g-4"],[1,"col-md-6","col-lg-4"],[1,"how-it-works-section"],[1,"steps-container"],[1,"steps-line"],[1,"col-md-6","col-lg-3"],[1,"benefits-section"],[1,"col-md-4"],[1,"cta-section"],[1,"cta-background"],[1,"cta-shapes"],[1,"col-lg-8","mx-auto","text-center"],[1,"cta-content"],[1,"cta-badge"],[1,"fas","fa-gift"],[1,"cta-title"],[1,"cta-description"],[1,"cta-actions"],[1,"btn","btn-primary","btn-cta",3,"routerLink"],[1,"fas","fa-user-plus"],[1,"btn","btn-outline-light","btn-cta",3,"routerLink"],[1,"feature-card"],[1,"feature-icon"],[1,"feature-title"],[1,"feature-description"],[1,"step-card"],[1,"step-number"],[1,"step-icon"],[1,"step-title"],[1,"step-description"],[1,"benefit-card"],[1,"benefit-icon"],[1,"benefit-title"],[1,"benefit-description"]],template:function(e,i){e&1&&(T(0,PZ,2,0,"div",0),T(1,TZ,80,44,"div",1),T(2,RZ,143,79)),e&2&&(D(i.isLoading?0:-1),l(),D(!i.isLoading&&i.isLoggedIn?1:-1),l(),D(!i.isLoading&&!i.isLoggedIn?2:-1))},dependencies:[pe,gn,Ne,Ue,fe,_e],styles:['.loading-screen[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;min-height:100vh;background:linear-gradient(135deg,#0e3a5d,#071e31)}.loading-screen[_ngcontent-%COMP%]   .spinner[_ngcontent-%COMP%]{width:60px;height:60px;border:4px solid rgba(255,255,255,.2);border-top-color:#c9a24d;border-radius:50%;animation:_ngcontent-%COMP%_spin .8s linear infinite}@keyframes _ngcontent-%COMP%_spin{to{transform:rotate(360deg)}}.dashboard-home[_ngcontent-%COMP%]{min-height:100vh;background:linear-gradient(180deg,#f8fafc,#f1f5f9)}.dashboard-home[_ngcontent-%COMP%]   .welcome-section[_ngcontent-%COMP%]{background:linear-gradient(135deg,#c9a24d,#9b792f);padding:4rem 0;position:relative;overflow:hidden}.dashboard-home[_ngcontent-%COMP%]   .welcome-section[_ngcontent-%COMP%]:before{content:"";position:absolute;top:-50%;right:-20%;width:60%;height:200%;background:radial-gradient(ellipse,rgba(255,255,255,.1) 0%,transparent 60%);pointer-events:none}.dashboard-home[_ngcontent-%COMP%]   .welcome-section[_ngcontent-%COMP%]   .welcome-content[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;gap:2rem;position:relative;z-index:1}@media (max-width: 768px){.dashboard-home[_ngcontent-%COMP%]   .welcome-section[_ngcontent-%COMP%]   .welcome-content[_ngcontent-%COMP%]{flex-direction:column;text-align:center}}.dashboard-home[_ngcontent-%COMP%]   .welcome-section[_ngcontent-%COMP%]   .welcome-text[_ngcontent-%COMP%]{flex:1}.dashboard-home[_ngcontent-%COMP%]   .welcome-section[_ngcontent-%COMP%]   .welcome-text[_ngcontent-%COMP%]   .welcome-badges[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;flex-wrap:wrap;margin-bottom:1rem}@media (max-width: 768px){.dashboard-home[_ngcontent-%COMP%]   .welcome-section[_ngcontent-%COMP%]   .welcome-text[_ngcontent-%COMP%]   .welcome-badges[_ngcontent-%COMP%]{justify-content:center}}.dashboard-home[_ngcontent-%COMP%]   .welcome-section[_ngcontent-%COMP%]   .welcome-text[_ngcontent-%COMP%]   .greeting-badge[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.5rem;padding:.5rem 1rem;background:#ffffff26;border-radius:30px;color:#fff;font-size:.9rem;font-weight:600;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}.dashboard-home[_ngcontent-%COMP%]   .welcome-section[_ngcontent-%COMP%]   .welcome-text[_ngcontent-%COMP%]   .greeting-badge[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#fbbf24}.dashboard-home[_ngcontent-%COMP%]   .welcome-section[_ngcontent-%COMP%]   .welcome-text[_ngcontent-%COMP%]   .status-badge[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.5rem;padding:.5rem 1rem;border-radius:30px;font-size:.85rem;font-weight:600;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}.dashboard-home[_ngcontent-%COMP%]   .welcome-section[_ngcontent-%COMP%]   .welcome-text[_ngcontent-%COMP%]   .status-badge[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.9rem}.dashboard-home[_ngcontent-%COMP%]   .welcome-section[_ngcontent-%COMP%]   .welcome-text[_ngcontent-%COMP%]   .status-badge.status-approved[_ngcontent-%COMP%]{background:#16a34ae6;color:#fff}.dashboard-home[_ngcontent-%COMP%]   .welcome-section[_ngcontent-%COMP%]   .welcome-text[_ngcontent-%COMP%]   .status-badge.status-pending[_ngcontent-%COMP%]{background:#d97706e6;color:#fff}.dashboard-home[_ngcontent-%COMP%]   .welcome-section[_ngcontent-%COMP%]   .welcome-text[_ngcontent-%COMP%]   .status-badge.status-rejected[_ngcontent-%COMP%]{background:#dc2626e6;color:#fff}.dashboard-home[_ngcontent-%COMP%]   .welcome-section[_ngcontent-%COMP%]   .welcome-text[_ngcontent-%COMP%]   .welcome-title[_ngcontent-%COMP%]{font-size:2.75rem;font-weight:800;color:#fff;margin:0 0 1rem;line-height:1.2}.dashboard-home[_ngcontent-%COMP%]   .welcome-section[_ngcontent-%COMP%]   .welcome-text[_ngcontent-%COMP%]   .welcome-title[_ngcontent-%COMP%]   .user-name[_ngcontent-%COMP%]{color:#ffffffe6}@media (max-width: 768px){.dashboard-home[_ngcontent-%COMP%]   .welcome-section[_ngcontent-%COMP%]   .welcome-text[_ngcontent-%COMP%]   .welcome-title[_ngcontent-%COMP%]{font-size:2rem}}.dashboard-home[_ngcontent-%COMP%]   .welcome-section[_ngcontent-%COMP%]   .welcome-text[_ngcontent-%COMP%]   .welcome-subtitle[_ngcontent-%COMP%]{font-size:1.2rem;color:#ffffffd9;margin:0;line-height:1.6}.dashboard-home[_ngcontent-%COMP%]   .welcome-section[_ngcontent-%COMP%]   .welcome-image[_ngcontent-%COMP%]{flex-shrink:0}.dashboard-home[_ngcontent-%COMP%]   .welcome-section[_ngcontent-%COMP%]   .welcome-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:180px;height:180px;object-fit:contain;filter:drop-shadow(0 10px 30px rgba(0,0,0,.2));animation:_ngcontent-%COMP%_float 3s ease-in-out infinite}@media (max-width: 768px){.dashboard-home[_ngcontent-%COMP%]   .welcome-section[_ngcontent-%COMP%]   .welcome-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:140px;height:140px}}@keyframes _ngcontent-%COMP%_float{0%,to{transform:translateY(0)}50%{transform:translateY(-15px)}}.dashboard-home[_ngcontent-%COMP%]   .quick-actions-section[_ngcontent-%COMP%]{padding:3rem 0}.dashboard-home[_ngcontent-%COMP%]   .quick-actions-section[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;color:#1e293b;margin-bottom:1.5rem;display:flex;align-items:center;gap:.75rem}.dashboard-home[_ngcontent-%COMP%]   .quick-actions-section[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#c9a24d}.dashboard-home[_ngcontent-%COMP%]   .quick-actions-section[_ngcontent-%COMP%]   .actions-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:1.25rem}.dashboard-home[_ngcontent-%COMP%]   .quick-actions-section[_ngcontent-%COMP%]   .action-card[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1.25rem;padding:1.5rem;background:#fff;border-radius:16px;border:1px solid #e2e8f0;text-decoration:none;transition:all .3s ease;box-shadow:0 2px 8px #0000000a}.dashboard-home[_ngcontent-%COMP%]   .quick-actions-section[_ngcontent-%COMP%]   .action-card[_ngcontent-%COMP%]:hover{transform:translateY(-4px);box-shadow:0 12px 30px #0000001a;border-color:transparent}.dashboard-home[_ngcontent-%COMP%]   .quick-actions-section[_ngcontent-%COMP%]   .action-card[_ngcontent-%COMP%]:hover   .action-arrow[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{transform:translate(4px)}.dashboard-home[_ngcontent-%COMP%]   .quick-actions-section[_ngcontent-%COMP%]   .action-card[data-color=primary][_ngcontent-%COMP%]   .action-icon[_ngcontent-%COMP%]{background:linear-gradient(135deg,#c9a24d26,#c9a24d0d);color:#c9a24d}.dashboard-home[_ngcontent-%COMP%]   .quick-actions-section[_ngcontent-%COMP%]   .action-card[data-color=success][_ngcontent-%COMP%]   .action-icon[_ngcontent-%COMP%]{background:linear-gradient(135deg,#16a34a26,#16a34a0d);color:#16a34a}.dashboard-home[_ngcontent-%COMP%]   .quick-actions-section[_ngcontent-%COMP%]   .action-card[data-color=info][_ngcontent-%COMP%]   .action-icon[_ngcontent-%COMP%]{background:linear-gradient(135deg,#3b82f626,#3b82f60d);color:#3b82f6}.dashboard-home[_ngcontent-%COMP%]   .quick-actions-section[_ngcontent-%COMP%]   .action-card[data-color=warning][_ngcontent-%COMP%]   .action-icon[_ngcontent-%COMP%]{background:linear-gradient(135deg,#d9770626,#d977060d);color:#d97706}.dashboard-home[_ngcontent-%COMP%]   .quick-actions-section[_ngcontent-%COMP%]   .action-card[_ngcontent-%COMP%]   .action-icon[_ngcontent-%COMP%]{width:56px;height:56px;border-radius:14px;display:flex;align-items:center;justify-content:center;flex-shrink:0}.dashboard-home[_ngcontent-%COMP%]   .quick-actions-section[_ngcontent-%COMP%]   .action-card[_ngcontent-%COMP%]   .action-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.5rem}.dashboard-home[_ngcontent-%COMP%]   .quick-actions-section[_ngcontent-%COMP%]   .action-card[_ngcontent-%COMP%]   .action-content[_ngcontent-%COMP%]{flex:1}.dashboard-home[_ngcontent-%COMP%]   .quick-actions-section[_ngcontent-%COMP%]   .action-card[_ngcontent-%COMP%]   .action-content[_ngcontent-%COMP%]   .action-title[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:700;color:#1e293b;margin:0 0 .25rem}.dashboard-home[_ngcontent-%COMP%]   .quick-actions-section[_ngcontent-%COMP%]   .action-card[_ngcontent-%COMP%]   .action-content[_ngcontent-%COMP%]   .action-description[_ngcontent-%COMP%]{font-size:.875rem;color:#64748b;margin:0}.dashboard-home[_ngcontent-%COMP%]   .quick-actions-section[_ngcontent-%COMP%]   .action-card[_ngcontent-%COMP%]   .action-arrow[_ngcontent-%COMP%]{color:#94a3b8}.dashboard-home[_ngcontent-%COMP%]   .quick-actions-section[_ngcontent-%COMP%]   .action-card[_ngcontent-%COMP%]   .action-arrow[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{transition:transform .25s ease}.dashboard-home[_ngcontent-%COMP%]   .start-learning-section[_ngcontent-%COMP%]{padding:0 0 3rem}.dashboard-home[_ngcontent-%COMP%]   .start-learning-section[_ngcontent-%COMP%]   .learning-banner[_ngcontent-%COMP%]{background:linear-gradient(135deg,#1e293b,#0f172a);border-radius:20px;padding:2rem 2.5rem;display:flex;align-items:center;justify-content:space-between;gap:2rem;position:relative;overflow:hidden}.dashboard-home[_ngcontent-%COMP%]   .start-learning-section[_ngcontent-%COMP%]   .learning-banner[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;right:0;width:300px;height:100%;background:linear-gradient(90deg,transparent,rgba(201,162,77,.1));pointer-events:none}@media (max-width: 768px){.dashboard-home[_ngcontent-%COMP%]   .start-learning-section[_ngcontent-%COMP%]   .learning-banner[_ngcontent-%COMP%]{flex-direction:column;text-align:center;padding:2rem 1.5rem}}.dashboard-home[_ngcontent-%COMP%]   .start-learning-section[_ngcontent-%COMP%]   .learning-banner[_ngcontent-%COMP%]   .banner-content[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1.5rem;position:relative;z-index:1}@media (max-width: 768px){.dashboard-home[_ngcontent-%COMP%]   .start-learning-section[_ngcontent-%COMP%]   .learning-banner[_ngcontent-%COMP%]   .banner-content[_ngcontent-%COMP%]{flex-direction:column}}.dashboard-home[_ngcontent-%COMP%]   .start-learning-section[_ngcontent-%COMP%]   .learning-banner[_ngcontent-%COMP%]   .banner-icon[_ngcontent-%COMP%]{width:70px;height:70px;background:linear-gradient(135deg,#c9a24d,#ae8835);border-radius:16px;display:flex;align-items:center;justify-content:center;flex-shrink:0;box-shadow:0 8px 25px #c9a24d59}.dashboard-home[_ngcontent-%COMP%]   .start-learning-section[_ngcontent-%COMP%]   .learning-banner[_ngcontent-%COMP%]   .banner-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:2rem;color:#fff}.dashboard-home[_ngcontent-%COMP%]   .start-learning-section[_ngcontent-%COMP%]   .learning-banner[_ngcontent-%COMP%]   .banner-text[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;color:#fff;margin:0 0 .5rem}.dashboard-home[_ngcontent-%COMP%]   .start-learning-section[_ngcontent-%COMP%]   .learning-banner[_ngcontent-%COMP%]   .banner-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem;color:#ffffffb3;margin:0}.dashboard-home[_ngcontent-%COMP%]   .start-learning-section[_ngcontent-%COMP%]   .learning-banner[_ngcontent-%COMP%]   .btn-start[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;padding:1rem 2rem;background:linear-gradient(135deg,#c9a24d,#ae8835);color:#fff;border:none;border-radius:12px;font-size:1rem;font-weight:600;cursor:pointer;transition:all .25s ease;white-space:nowrap;box-shadow:0 6px 20px #c9a24d59}.dashboard-home[_ngcontent-%COMP%]   .start-learning-section[_ngcontent-%COMP%]   .learning-banner[_ngcontent-%COMP%]   .btn-start[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 10px 30px #c9a24d73}.dashboard-home[_ngcontent-%COMP%]   .start-learning-section[_ngcontent-%COMP%]   .learning-banner[_ngcontent-%COMP%]   .btn-start[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.2rem}.dashboard-home[_ngcontent-%COMP%]   .tips-section[_ngcontent-%COMP%]{padding:0 0 4rem}.dashboard-home[_ngcontent-%COMP%]   .tips-section[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;color:#1e293b;margin-bottom:1.5rem;display:flex;align-items:center;gap:.75rem}.dashboard-home[_ngcontent-%COMP%]   .tips-section[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#fbbf24}.dashboard-home[_ngcontent-%COMP%]   .tips-section[_ngcontent-%COMP%]   .tips-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(260px,1fr));gap:1.25rem}.dashboard-home[_ngcontent-%COMP%]   .tips-section[_ngcontent-%COMP%]   .tip-card[_ngcontent-%COMP%]{background:#fff;border-radius:16px;padding:1.75rem;border:1px solid #e2e8f0;transition:all .3s ease}.dashboard-home[_ngcontent-%COMP%]   .tips-section[_ngcontent-%COMP%]   .tip-card[_ngcontent-%COMP%]:hover{transform:translateY(-4px);box-shadow:0 12px 30px #00000014;border-color:#c9a24d33}.dashboard-home[_ngcontent-%COMP%]   .tips-section[_ngcontent-%COMP%]   .tip-card[_ngcontent-%COMP%]:hover   .tip-icon[_ngcontent-%COMP%]{background:#c9a24d;color:#fff}.dashboard-home[_ngcontent-%COMP%]   .tips-section[_ngcontent-%COMP%]   .tip-card[_ngcontent-%COMP%]   .tip-icon[_ngcontent-%COMP%]{width:50px;height:50px;background:#c9a24d1a;color:#c9a24d;border-radius:12px;display:flex;align-items:center;justify-content:center;margin-bottom:1rem;transition:all .3s ease}.dashboard-home[_ngcontent-%COMP%]   .tips-section[_ngcontent-%COMP%]   .tip-card[_ngcontent-%COMP%]   .tip-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.25rem}.dashboard-home[_ngcontent-%COMP%]   .tips-section[_ngcontent-%COMP%]   .tip-card[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:700;color:#1e293b;margin:0 0 .5rem}.dashboard-home[_ngcontent-%COMP%]   .tips-section[_ngcontent-%COMP%]   .tip-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9rem;color:#64748b;margin:0;line-height:1.6}.hero-section[_ngcontent-%COMP%]{position:relative;min-height:100vh;display:flex;align-items:center;background:linear-gradient(135deg,#0e3a5d,#04111b);padding:6rem 0;overflow:hidden}.hero-section[_ngcontent-%COMP%]   .hero-background[_ngcontent-%COMP%]{position:absolute;inset:0;overflow:hidden}.hero-section[_ngcontent-%COMP%]   .hero-background[_ngcontent-%COMP%]   .hero-shapes[_ngcontent-%COMP%]   .shape[_ngcontent-%COMP%]{position:absolute;border-radius:50%;opacity:.1}.hero-section[_ngcontent-%COMP%]   .hero-background[_ngcontent-%COMP%]   .hero-shapes[_ngcontent-%COMP%]   .shape.shape-1[_ngcontent-%COMP%]{width:600px;height:600px;background:#c9a24d;top:-200px;right:-100px;animation:_ngcontent-%COMP%_pulse 8s ease-in-out infinite}.hero-section[_ngcontent-%COMP%]   .hero-background[_ngcontent-%COMP%]   .hero-shapes[_ngcontent-%COMP%]   .shape.shape-2[_ngcontent-%COMP%]{width:400px;height:400px;background:#fff;bottom:-100px;left:-100px;animation:_ngcontent-%COMP%_pulse 10s ease-in-out infinite reverse}.hero-section[_ngcontent-%COMP%]   .hero-background[_ngcontent-%COMP%]   .hero-shapes[_ngcontent-%COMP%]   .shape.shape-3[_ngcontent-%COMP%]{width:200px;height:200px;background:#c9a24d;top:50%;left:30%;animation:_ngcontent-%COMP%_float 6s ease-in-out infinite}@keyframes _ngcontent-%COMP%_pulse{0%,to{transform:scale(1);opacity:.1}50%{transform:scale(1.1);opacity:.15}}.hero-section[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{position:relative;z-index:2}.hero-section[_ngcontent-%COMP%]   .hero-content[_ngcontent-%COMP%]{color:#fff;animation:_ngcontent-%COMP%_fadeInUp .8s ease-out}.hero-section[_ngcontent-%COMP%]   .hero-content[_ngcontent-%COMP%]   .hero-badge[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.5rem;padding:.5rem 1.25rem;background:#c9a24d33;border:1px solid rgba(201,162,77,.3);border-radius:30px;color:#fff;font-size:.9rem;font-weight:600;margin-bottom:1.5rem;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}.hero-section[_ngcontent-%COMP%]   .hero-content[_ngcontent-%COMP%]   .hero-badge[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#fbbf24}.hero-section[_ngcontent-%COMP%]   .hero-content[_ngcontent-%COMP%]   .hero-title[_ngcontent-%COMP%]{font-size:3.75rem;font-weight:800;margin-bottom:1.25rem;line-height:1.15;letter-spacing:-1px}@media (max-width: 991.98px){.hero-section[_ngcontent-%COMP%]   .hero-content[_ngcontent-%COMP%]   .hero-title[_ngcontent-%COMP%]{font-size:2.75rem}}@media (max-width: 575.98px){.hero-section[_ngcontent-%COMP%]   .hero-content[_ngcontent-%COMP%]   .hero-title[_ngcontent-%COMP%]{font-size:2.25rem}}.hero-section[_ngcontent-%COMP%]   .hero-content[_ngcontent-%COMP%]   .hero-subtitle[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:600;margin-bottom:1rem;color:#ffffffe6}@media (max-width: 991.98px){.hero-section[_ngcontent-%COMP%]   .hero-content[_ngcontent-%COMP%]   .hero-subtitle[_ngcontent-%COMP%]{font-size:1.25rem}}.hero-section[_ngcontent-%COMP%]   .hero-content[_ngcontent-%COMP%]   .hero-description[_ngcontent-%COMP%]{font-size:1.15rem;line-height:1.8;margin-bottom:2rem;color:#ffffffbf;max-width:500px}@media (max-width: 991.98px){.hero-section[_ngcontent-%COMP%]   .hero-content[_ngcontent-%COMP%]   .hero-description[_ngcontent-%COMP%]{font-size:1rem}}.hero-section[_ngcontent-%COMP%]   .hero-content[_ngcontent-%COMP%]   .hero-actions[_ngcontent-%COMP%]{display:flex;gap:1rem;flex-wrap:wrap;margin-bottom:2.5rem}.hero-section[_ngcontent-%COMP%]   .hero-content[_ngcontent-%COMP%]   .hero-actions[_ngcontent-%COMP%]   .btn-hero[_ngcontent-%COMP%]{padding:1rem 2rem;font-size:1.05rem;font-weight:600;border-radius:12px;transition:all .3s ease;text-decoration:none;display:inline-flex;align-items:center;gap:.5rem}.hero-section[_ngcontent-%COMP%]   .hero-content[_ngcontent-%COMP%]   .hero-actions[_ngcontent-%COMP%]   .btn-hero[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1rem}.hero-section[_ngcontent-%COMP%]   .hero-content[_ngcontent-%COMP%]   .hero-actions[_ngcontent-%COMP%]   .btn-hero[_ngcontent-%COMP%]:hover{transform:translateY(-3px)}.hero-section[_ngcontent-%COMP%]   .hero-content[_ngcontent-%COMP%]   .hero-actions[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]{background:linear-gradient(135deg,#c9a24d,#ae8835);border:none;color:#fff;box-shadow:0 8px 25px #c9a24d66}.hero-section[_ngcontent-%COMP%]   .hero-content[_ngcontent-%COMP%]   .hero-actions[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]:hover{box-shadow:0 12px 35px #c9a24d80}.hero-section[_ngcontent-%COMP%]   .hero-content[_ngcontent-%COMP%]   .hero-actions[_ngcontent-%COMP%]   .btn-outline-light[_ngcontent-%COMP%]{background:#ffffff1a;border:2px solid rgba(255,255,255,.3);color:#fff;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}.hero-section[_ngcontent-%COMP%]   .hero-content[_ngcontent-%COMP%]   .hero-actions[_ngcontent-%COMP%]   .btn-outline-light[_ngcontent-%COMP%]:hover{background:#fff;border-color:#fff;color:#0e3a5d}.hero-section[_ngcontent-%COMP%]   .hero-content[_ngcontent-%COMP%]   .hero-stats[_ngcontent-%COMP%]{display:flex;gap:2.5rem;flex-wrap:wrap}.hero-section[_ngcontent-%COMP%]   .hero-content[_ngcontent-%COMP%]   .hero-stats[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]{text-align:center}.hero-section[_ngcontent-%COMP%]   .hero-content[_ngcontent-%COMP%]   .hero-stats[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]   .stat-number[_ngcontent-%COMP%]{display:block;font-size:2rem;font-weight:800;color:#fff;line-height:1}.hero-section[_ngcontent-%COMP%]   .hero-content[_ngcontent-%COMP%]   .hero-stats[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]   .stat-label[_ngcontent-%COMP%]{font-size:.85rem;color:#ffffffb3;margin-top:.25rem;display:block}.hero-section[_ngcontent-%COMP%]   .hero-image[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;animation:_ngcontent-%COMP%_fadeInRight .8s ease-out}.hero-section[_ngcontent-%COMP%]   .hero-image[_ngcontent-%COMP%]   .hero-image-wrapper[_ngcontent-%COMP%]{position:relative;width:420px;height:420px;border-radius:50%;background:#c9a24d1a;display:flex;align-items:center;justify-content:center;border:2px solid rgba(201,162,77,.2)}.hero-section[_ngcontent-%COMP%]   .hero-image[_ngcontent-%COMP%]   .hero-image-wrapper[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:80%;height:80%;object-fit:contain;filter:drop-shadow(0 20px 40px rgba(0,0,0,.3));animation:_ngcontent-%COMP%_float 4s ease-in-out infinite}.hero-section[_ngcontent-%COMP%]   .hero-image[_ngcontent-%COMP%]   .hero-image-wrapper[_ngcontent-%COMP%]   .floating-card[_ngcontent-%COMP%]{position:absolute;background:#fff;border-radius:12px;padding:.75rem 1.25rem;display:flex;align-items:center;gap:.5rem;box-shadow:0 10px 30px #0003;animation:_ngcontent-%COMP%_floatCard 3s ease-in-out infinite}.hero-section[_ngcontent-%COMP%]   .hero-image[_ngcontent-%COMP%]   .hero-image-wrapper[_ngcontent-%COMP%]   .floating-card[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.25rem;color:#c9a24d}.hero-section[_ngcontent-%COMP%]   .hero-image[_ngcontent-%COMP%]   .hero-image-wrapper[_ngcontent-%COMP%]   .floating-card[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.85rem;font-weight:600;color:#0e3a5d;white-space:nowrap}.hero-section[_ngcontent-%COMP%]   .hero-image[_ngcontent-%COMP%]   .hero-image-wrapper[_ngcontent-%COMP%]   .floating-card.card-1[_ngcontent-%COMP%]{top:15%;right:-20px;animation-delay:0s}.hero-section[_ngcontent-%COMP%]   .hero-image[_ngcontent-%COMP%]   .hero-image-wrapper[_ngcontent-%COMP%]   .floating-card.card-2[_ngcontent-%COMP%]{bottom:20%;left:-30px;animation-delay:1.5s}@keyframes _ngcontent-%COMP%_floatCard{0%,to{transform:translateY(0)}50%{transform:translateY(-10px)}}@media (max-width: 991.98px){.hero-section[_ngcontent-%COMP%]   .hero-image[_ngcontent-%COMP%]   .hero-image-wrapper[_ngcontent-%COMP%]{width:320px;height:320px}}@media (max-width: 575.98px){.hero-section[_ngcontent-%COMP%]   .hero-image[_ngcontent-%COMP%]   .hero-image-wrapper[_ngcontent-%COMP%]{width:260px;height:260px}.hero-section[_ngcontent-%COMP%]   .hero-image[_ngcontent-%COMP%]   .hero-image-wrapper[_ngcontent-%COMP%]   .floating-card[_ngcontent-%COMP%]{display:none}}.section-badge[_ngcontent-%COMP%]{display:inline-block;padding:.5rem 1rem;background:#c9a24d1a;color:#c9a24d;border-radius:30px;font-size:.85rem;font-weight:600;margin-bottom:1rem;border:1px solid rgba(201,162,77,.2)}.features-section[_ngcontent-%COMP%]{padding:6rem 0;background:#f8fafc}.features-section[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{font-size:2.5rem;font-weight:800;color:#1e293b;margin-bottom:.75rem;letter-spacing:-.5px}@media (max-width: 991.98px){.features-section[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{font-size:2rem}}.features-section[_ngcontent-%COMP%]   .section-subtitle[_ngcontent-%COMP%]{font-size:1.15rem;color:#64748b;max-width:600px;margin:0 auto}.features-section[_ngcontent-%COMP%]   .feature-card[_ngcontent-%COMP%]{background:#fff;border-radius:20px;padding:2rem;height:100%;transition:all .35s ease;border:1px solid #e2e8f0;box-shadow:0 2px 8px #0000000a}.features-section[_ngcontent-%COMP%]   .feature-card[_ngcontent-%COMP%]:hover{transform:translateY(-8px);box-shadow:0 20px 40px #0000001a;border-color:transparent}.features-section[_ngcontent-%COMP%]   .feature-card[_ngcontent-%COMP%]:hover   .feature-icon[_ngcontent-%COMP%]{background:linear-gradient(135deg,#c9a24d,#ae8835)}.features-section[_ngcontent-%COMP%]   .feature-card[_ngcontent-%COMP%]:hover   .feature-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#fff}.features-section[_ngcontent-%COMP%]   .feature-card[_ngcontent-%COMP%]   .feature-icon[_ngcontent-%COMP%]{width:70px;height:70px;border-radius:16px;background:#c9a24d1a;display:flex;align-items:center;justify-content:center;margin-bottom:1.5rem;transition:all .35s ease}.features-section[_ngcontent-%COMP%]   .feature-card[_ngcontent-%COMP%]   .feature-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.75rem;color:#c9a24d;transition:all .35s ease}.features-section[_ngcontent-%COMP%]   .feature-card[_ngcontent-%COMP%]   .feature-title[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:700;color:#1e293b;margin-bottom:.75rem}.features-section[_ngcontent-%COMP%]   .feature-card[_ngcontent-%COMP%]   .feature-description[_ngcontent-%COMP%]{font-size:.95rem;color:#64748b;line-height:1.7;margin:0}.how-it-works-section[_ngcontent-%COMP%]{padding:6rem 0;background:#fff}.how-it-works-section[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{font-size:2.5rem;font-weight:800;color:#1e293b;margin-bottom:.75rem}@media (max-width: 991.98px){.how-it-works-section[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{font-size:2rem}}.how-it-works-section[_ngcontent-%COMP%]   .section-subtitle[_ngcontent-%COMP%]{font-size:1.15rem;color:#64748b;max-width:600px;margin:0 auto}.how-it-works-section[_ngcontent-%COMP%]   .steps-container[_ngcontent-%COMP%]{position:relative}.how-it-works-section[_ngcontent-%COMP%]   .steps-container[_ngcontent-%COMP%]   .steps-line[_ngcontent-%COMP%]{position:absolute;top:100px;left:15%;right:15%;height:3px;background:linear-gradient(90deg,#c9a24d,#e1cb9b);z-index:0;border-radius:2px}@media (max-width: 991.98px){.how-it-works-section[_ngcontent-%COMP%]   .steps-container[_ngcontent-%COMP%]   .steps-line[_ngcontent-%COMP%]{display:none}}.how-it-works-section[_ngcontent-%COMP%]   .step-card[_ngcontent-%COMP%]{background:#f8fafc;border-radius:20px;padding:2rem;text-align:center;position:relative;transition:all .35s ease;border:2px solid transparent;z-index:1}.how-it-works-section[_ngcontent-%COMP%]   .step-card[_ngcontent-%COMP%]:hover{transform:translateY(-8px);border-color:#c9a24d;box-shadow:0 20px 40px #00000014;background:#fff}.how-it-works-section[_ngcontent-%COMP%]   .step-card[_ngcontent-%COMP%]:hover   .step-icon[_ngcontent-%COMP%]{background:linear-gradient(135deg,#c9a24d,#ae8835)}.how-it-works-section[_ngcontent-%COMP%]   .step-card[_ngcontent-%COMP%]:hover   .step-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#fff}.how-it-works-section[_ngcontent-%COMP%]   .step-card[_ngcontent-%COMP%]:hover   .step-number[_ngcontent-%COMP%]{color:#c9a24d4d}.how-it-works-section[_ngcontent-%COMP%]   .step-card[_ngcontent-%COMP%]   .step-number[_ngcontent-%COMP%]{position:absolute;top:-20px;right:20px;font-size:5rem;font-weight:800;color:#c9a24d14;line-height:1;transition:color .35s ease}.how-it-works-section[_ngcontent-%COMP%]   .step-card[_ngcontent-%COMP%]   .step-icon[_ngcontent-%COMP%]{width:80px;height:80px;border-radius:50%;background:#c9a24d1a;display:flex;align-items:center;justify-content:center;margin:0 auto 1.5rem;transition:all .35s ease;position:relative;z-index:1}.how-it-works-section[_ngcontent-%COMP%]   .step-card[_ngcontent-%COMP%]   .step-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:2rem;color:#c9a24d;transition:all .35s ease}.how-it-works-section[_ngcontent-%COMP%]   .step-card[_ngcontent-%COMP%]   .step-title[_ngcontent-%COMP%]{font-size:1.2rem;font-weight:700;color:#1e293b;margin-bottom:.75rem}.how-it-works-section[_ngcontent-%COMP%]   .step-card[_ngcontent-%COMP%]   .step-description[_ngcontent-%COMP%]{font-size:.95rem;color:#64748b;line-height:1.7;margin:0}.benefits-section[_ngcontent-%COMP%]{padding:6rem 0;background:#f8fafc}.benefits-section[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{font-size:2.5rem;font-weight:800;color:#1e293b;margin-bottom:.75rem}@media (max-width: 991.98px){.benefits-section[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{font-size:2rem}}.benefits-section[_ngcontent-%COMP%]   .section-subtitle[_ngcontent-%COMP%]{font-size:1.15rem;color:#64748b;max-width:600px;margin:0 auto}.benefits-section[_ngcontent-%COMP%]   .benefit-card[_ngcontent-%COMP%]{background:#fff;border-radius:20px;padding:2.5rem 2rem;text-align:center;transition:all .35s ease;border:1px solid #e2e8f0;height:100%;box-shadow:0 2px 8px #0000000a}.benefits-section[_ngcontent-%COMP%]   .benefit-card[_ngcontent-%COMP%]:hover{transform:translateY(-8px);box-shadow:0 20px 40px #0000001a;border-color:transparent}.benefits-section[_ngcontent-%COMP%]   .benefit-card[_ngcontent-%COMP%]:hover   .benefit-icon[_ngcontent-%COMP%]{background:linear-gradient(135deg,#c9a24d,#ae8835);box-shadow:0 10px 30px #c9a24d4d}.benefits-section[_ngcontent-%COMP%]   .benefit-card[_ngcontent-%COMP%]:hover   .benefit-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#fff}.benefits-section[_ngcontent-%COMP%]   .benefit-card[_ngcontent-%COMP%]   .benefit-icon[_ngcontent-%COMP%]{width:90px;height:90px;border-radius:50%;background:#c9a24d1a;display:flex;align-items:center;justify-content:center;margin:0 auto 1.5rem;transition:all .35s ease}.benefits-section[_ngcontent-%COMP%]   .benefit-card[_ngcontent-%COMP%]   .benefit-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:2.25rem;color:#c9a24d;transition:all .35s ease}.benefits-section[_ngcontent-%COMP%]   .benefit-card[_ngcontent-%COMP%]   .benefit-title[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:700;color:#1e293b;margin-bottom:.75rem}.benefits-section[_ngcontent-%COMP%]   .benefit-card[_ngcontent-%COMP%]   .benefit-description[_ngcontent-%COMP%]{font-size:.95rem;color:#64748b;line-height:1.7;margin:0}.cta-section[_ngcontent-%COMP%]{padding:6rem 0;background:linear-gradient(135deg,#0e3a5d,#04111b);position:relative;overflow:hidden}.cta-section[_ngcontent-%COMP%]   .cta-background[_ngcontent-%COMP%]{position:absolute;inset:0}.cta-section[_ngcontent-%COMP%]   .cta-background[_ngcontent-%COMP%]   .cta-shapes[_ngcontent-%COMP%]   .shape[_ngcontent-%COMP%]{position:absolute;border-radius:50%;opacity:.08}.cta-section[_ngcontent-%COMP%]   .cta-background[_ngcontent-%COMP%]   .cta-shapes[_ngcontent-%COMP%]   .shape.shape-1[_ngcontent-%COMP%]{width:400px;height:400px;background:#c9a24d;top:-150px;left:-100px}.cta-section[_ngcontent-%COMP%]   .cta-background[_ngcontent-%COMP%]   .cta-shapes[_ngcontent-%COMP%]   .shape.shape-2[_ngcontent-%COMP%]{width:300px;height:300px;background:#fff;bottom:-100px;right:-50px}.cta-section[_ngcontent-%COMP%]   .cta-content[_ngcontent-%COMP%]{position:relative;z-index:2;color:#fff}.cta-section[_ngcontent-%COMP%]   .cta-content[_ngcontent-%COMP%]   .cta-badge[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.5rem;padding:.5rem 1.25rem;background:#c9a24d33;border:1px solid rgba(201,162,77,.3);border-radius:30px;font-size:.9rem;font-weight:600;margin-bottom:1.5rem;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}.cta-section[_ngcontent-%COMP%]   .cta-content[_ngcontent-%COMP%]   .cta-badge[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#fbbf24}.cta-section[_ngcontent-%COMP%]   .cta-content[_ngcontent-%COMP%]   .cta-title[_ngcontent-%COMP%]{font-size:2.75rem;font-weight:800;margin-bottom:1rem;letter-spacing:-.5px}@media (max-width: 991.98px){.cta-section[_ngcontent-%COMP%]   .cta-content[_ngcontent-%COMP%]   .cta-title[_ngcontent-%COMP%]{font-size:2rem}}.cta-section[_ngcontent-%COMP%]   .cta-content[_ngcontent-%COMP%]   .cta-description[_ngcontent-%COMP%]{font-size:1.25rem;margin-bottom:2rem;color:#ffffffd9;max-width:600px;margin-left:auto;margin-right:auto}@media (max-width: 991.98px){.cta-section[_ngcontent-%COMP%]   .cta-content[_ngcontent-%COMP%]   .cta-description[_ngcontent-%COMP%]{font-size:1.05rem}}.cta-section[_ngcontent-%COMP%]   .cta-content[_ngcontent-%COMP%]   .cta-actions[_ngcontent-%COMP%]{display:flex;gap:1rem;justify-content:center;flex-wrap:wrap}.cta-section[_ngcontent-%COMP%]   .cta-content[_ngcontent-%COMP%]   .cta-actions[_ngcontent-%COMP%]   .btn-cta[_ngcontent-%COMP%]{padding:1rem 2.5rem;font-size:1.1rem;font-weight:600;border-radius:12px;transition:all .3s ease;text-decoration:none;display:inline-flex;align-items:center;gap:.5rem}.cta-section[_ngcontent-%COMP%]   .cta-content[_ngcontent-%COMP%]   .cta-actions[_ngcontent-%COMP%]   .btn-cta[_ngcontent-%COMP%]:hover{transform:translateY(-3px)}.cta-section[_ngcontent-%COMP%]   .cta-content[_ngcontent-%COMP%]   .cta-actions[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]{background:linear-gradient(135deg,#c9a24d,#ae8835);border:none;color:#fff;box-shadow:0 8px 25px #c9a24d66}.cta-section[_ngcontent-%COMP%]   .cta-content[_ngcontent-%COMP%]   .cta-actions[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]:hover{box-shadow:0 12px 35px #c9a24d80}.cta-section[_ngcontent-%COMP%]   .cta-content[_ngcontent-%COMP%]   .cta-actions[_ngcontent-%COMP%]   .btn-outline-light[_ngcontent-%COMP%]{background:#ffffff1a;border:2px solid rgba(255,255,255,.3);color:#fff;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}.cta-section[_ngcontent-%COMP%]   .cta-content[_ngcontent-%COMP%]   .cta-actions[_ngcontent-%COMP%]   .btn-outline-light[_ngcontent-%COMP%]:hover{background:#fff;border-color:#fff;color:#0e3a5d}@keyframes _ngcontent-%COMP%_fadeInUp{0%{opacity:0;transform:translateY(30px)}to{opacity:1;transform:translateY(0)}}@keyframes _ngcontent-%COMP%_fadeInRight{0%{opacity:0;transform:translate(30px)}to{opacity:1;transform:translate(0)}}@media (max-width: 991.98px){.hero-section[_ngcontent-%COMP%]{min-height:auto;padding:5rem 0}.hero-section[_ngcontent-%COMP%]   .hero-content[_ngcontent-%COMP%]{text-align:center;margin-bottom:3rem}.hero-section[_ngcontent-%COMP%]   .hero-content[_ngcontent-%COMP%]   .hero-description[_ngcontent-%COMP%]{max-width:100%}.hero-section[_ngcontent-%COMP%]   .hero-content[_ngcontent-%COMP%]   .hero-actions[_ngcontent-%COMP%], .hero-section[_ngcontent-%COMP%]   .hero-content[_ngcontent-%COMP%]   .hero-stats[_ngcontent-%COMP%]{justify-content:center}.hero-section[_ngcontent-%COMP%]   .hero-image[_ngcontent-%COMP%]{margin-top:2rem}.features-section[_ngcontent-%COMP%], .how-it-works-section[_ngcontent-%COMP%], .benefits-section[_ngcontent-%COMP%], .cta-section[_ngcontent-%COMP%]{padding:4rem 0}}@media (max-width: 575.98px){.hero-section[_ngcontent-%COMP%]{padding:4rem 0}.hero-section[_ngcontent-%COMP%]   .hero-actions[_ngcontent-%COMP%]{flex-direction:column}.hero-section[_ngcontent-%COMP%]   .hero-actions[_ngcontent-%COMP%]   .btn-hero[_ngcontent-%COMP%]{width:100%;justify-content:center}.hero-section[_ngcontent-%COMP%]   .hero-stats[_ngcontent-%COMP%]{gap:1.5rem}.cta-section[_ngcontent-%COMP%]   .cta-actions[_ngcontent-%COMP%]{flex-direction:column}.cta-section[_ngcontent-%COMP%]   .cta-actions[_ngcontent-%COMP%]   .btn-cta[_ngcontent-%COMP%]{width:100%;justify-content:center}.dashboard-home[_ngcontent-%COMP%]   .welcome-section[_ngcontent-%COMP%]{padding:3rem 0}.dashboard-home[_ngcontent-%COMP%]   .welcome-section[_ngcontent-%COMP%]   .welcome-text[_ngcontent-%COMP%]   .welcome-title[_ngcontent-%COMP%]{font-size:1.75rem}.dashboard-home[_ngcontent-%COMP%]   .quick-actions-section[_ngcontent-%COMP%]{padding:2rem 0}.dashboard-home[_ngcontent-%COMP%]   .quick-actions-section[_ngcontent-%COMP%]   .actions-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}']})};var D_=class n{static \u0275fac=function(e){return new(e||n)};static \u0275cmp=ce({type:n,selectors:[["app-about"]],decls:2,vars:0,template:function(e,i){e&1&&(Se(0,"p"),f(1,"about works!"),Re())},encapsulation:2})};var V4=(()=>{class n{_renderer;_elementRef;onChange=e=>{};onTouched=()=>{};constructor(e,i){this._renderer=e,this._elementRef=i}setProperty(e,i){this._renderer.setProperty(this._elementRef.nativeElement,e,i)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}static \u0275fac=function(i){return new(i||n)(A(Qi),A(Fn))};static \u0275dir=gt({type:n})}return n})(),wd=(()=>{class n extends V4{static \u0275fac=(()=>{let e;return function(o){return(e||(e=Gn(n)))(o||n)}})();static \u0275dir=gt({type:n,features:[vn]})}return n})(),Ca=new oe(""),NZ={provide:Ca,useExisting:Ln(()=>_f),multi:!0},_f=(()=>{class n extends wd{writeValue(e){this.setProperty("checked",e)}static \u0275fac=(()=>{let e;return function(o){return(e||(e=Gn(n)))(o||n)}})();static \u0275dir=gt({type:n,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(i,o){i&1&&R("change",function(s){return o.onChange(s.target.checked)})("blur",function(){return o.onTouched()})},standalone:!1,features:[bi([NZ]),vn]})}return n})(),LZ={provide:Ca,useExisting:Ln(()=>ht),multi:!0};function FZ(){let n=ho()?ho().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var zZ=new oe(""),ht=(()=>{class n extends V4{_compositionMode;_composing=!1;constructor(e,i,o){super(e,i),this._compositionMode=o,this._compositionMode==null&&(this._compositionMode=!FZ())}writeValue(e){let i=e??"";this.setProperty("value",i)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}static \u0275fac=function(i){return new(i||n)(A(Qi),A(Fn),A(zZ,8))};static \u0275dir=gt({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,o){i&1&&R("input",function(s){return o._handleInput(s.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(s){return o._compositionEnd(s.target.value)})},standalone:!1,features:[bi([LZ]),vn]})}return n})();function px(n){return n==null||fx(n)===0}function fx(n){return n==null?null:Array.isArray(n)||typeof n=="string"?n.length:n instanceof Set?n.size:null}var Ec=new oe(""),Cf=new oe(""),BZ=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,te=class{static min(t){return U4(t)}static max(t){return $4(t)}static required(t){return jZ(t)}static requiredTrue(t){return VZ(t)}static email(t){return UZ(t)}static minLength(t){return $Z(t)}static maxLength(t){return qZ(t)}static pattern(t){return HZ(t)}static nullValidator(t){return A_()}static compose(t){return K4(t)}static composeAsync(t){return Z4(t)}};function U4(n){return t=>{if(t.value==null||n==null)return null;let e=parseFloat(t.value);return!isNaN(e)&&e<n?{min:{min:n,actual:t.value}}:null}}function $4(n){return t=>{if(t.value==null||n==null)return null;let e=parseFloat(t.value);return!isNaN(e)&&e>n?{max:{max:n,actual:t.value}}:null}}function jZ(n){return px(n.value)?{required:!0}:null}function VZ(n){return n.value===!0?null:{required:!0}}function UZ(n){return px(n.value)||BZ.test(n.value)?null:{email:!0}}function $Z(n){return t=>{let e=t.value?.length??fx(t.value);return e===null||e===0?null:e<n?{minlength:{requiredLength:n,actualLength:e}}:null}}function qZ(n){return t=>{let e=t.value?.length??fx(t.value);return e!==null&&e>n?{maxlength:{requiredLength:n,actualLength:e}}:null}}function HZ(n){if(!n)return A_;let t,e;return typeof n=="string"?(e="",n.charAt(0)!=="^"&&(e+="^"),e+=n,n.charAt(n.length-1)!=="$"&&(e+="$"),t=new RegExp(e)):(e=n.toString(),t=n),i=>{if(px(i.value))return null;let o=i.value;return t.test(o)?null:{pattern:{requiredPattern:e,actualValue:o}}}}function A_(n){return null}function q4(n){return n!=null}function H4(n){return Vs(n)?X(n):n}function W4(n){let t={};return n.forEach(e=>{t=e!=null?j(j({},t),e):t}),Object.keys(t).length===0?null:t}function G4(n,t){return t.map(e=>e(n))}function WZ(n){return!n.validate}function Q4(n){return n.map(t=>WZ(t)?t:e=>t.validate(e))}function K4(n){if(!n)return null;let t=n.filter(q4);return t.length==0?null:function(e){return W4(G4(e,t))}}function Y4(n){return n!=null?K4(Q4(n)):null}function Z4(n){if(!n)return null;let t=n.filter(q4);return t.length==0?null:function(e){let i=G4(e,t).map(H4);return Rt(i).pipe(H(W4))}}function J4(n){return n!=null?Z4(Q4(n)):null}function k4(n,t){return n===null?[t]:Array.isArray(n)?[...n,t]:[n,t]}function X4(n){return n._rawValidators}function eL(n){return n._rawAsyncValidators}function ax(n){return n?Array.isArray(n)?n:[n]:[]}function R_(n,t){return Array.isArray(n)?n.includes(t):n===t}function A4(n,t){let e=ax(t);return ax(n).forEach(o=>{R_(e,o)||e.push(o)}),e}function R4(n,t){return ax(t).filter(e=>!R_(n,e))}var N_=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=Y4(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=J4(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,e){return this.control?this.control.hasError(t,e):!1}getError(t,e){return this.control?this.control.getError(t,e):null}},to=class extends N_{name;get formDirective(){return null}get path(){return null}},ma=class extends N_{_parent=null;name=null;valueAccessor=null},L_=class{_cd;constructor(t){this._cd=t}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},GZ={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},oxe=ae(j({},GZ),{"[class.ng-submitted]":"isSubmitted"}),bt=(()=>{class n extends L_{constructor(e){super(e)}static \u0275fac=function(i){return new(i||n)(A(ma,2))};static \u0275dir=gt({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,o){i&2&&V("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)},standalone:!1,features:[vn]})}return n})(),rn=(()=>{class n extends L_{constructor(e){super(e)}static \u0275fac=function(i){return new(i||n)(A(to,10))};static \u0275dir=gt({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,o){i&2&&V("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)("ng-submitted",o.isSubmitted)},standalone:!1,features:[vn]})}return n})();var pf="VALID",k_="INVALID",yd="PENDING",ff="DISABLED",_a=class{},F_=class extends _a{value;source;constructor(t,e){super(),this.value=t,this.source=e}},gf=class extends _a{pristine;source;constructor(t,e){super(),this.pristine=t,this.source=e}},hf=class extends _a{touched;source;constructor(t,e){super(),this.touched=t,this.source=e}},Md=class extends _a{status;source;constructor(t,e){super(),this.status=t,this.source=e}},cx=class extends _a{source;constructor(t){super(),this.source=t}},mf=class extends _a{source;constructor(t){super(),this.source=t}};function gx(n){return(j_(n)?n.validators:n)||null}function QZ(n){return Array.isArray(n)?Y4(n):n||null}function hx(n,t){return(j_(t)?t.asyncValidators:n)||null}function KZ(n){return Array.isArray(n)?J4(n):n||null}function j_(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function tL(n,t,e){let i=n.controls;if(!(t?Object.keys(i):i).length)throw new G(1e3,"");if(!i[e])throw new G(1001,"")}function nL(n,t,e){n._forEachChild((i,o)=>{if(e[o]===void 0)throw new G(1002,"")})}var Pd=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(t,e){this._assignValidators(t),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get status(){return zn(this.statusReactive)}set status(t){zn(()=>this.statusReactive.set(t))}_status=yl(()=>this.statusReactive());statusReactive=Ai(void 0);get valid(){return this.status===pf}get invalid(){return this.status===k_}get pending(){return this.status==yd}get disabled(){return this.status===ff}get enabled(){return this.status!==ff}errors;get pristine(){return zn(this.pristineReactive)}set pristine(t){zn(()=>this.pristineReactive.set(t))}_pristine=yl(()=>this.pristineReactive());pristineReactive=Ai(!0);get dirty(){return!this.pristine}get touched(){return zn(this.touchedReactive)}set touched(t){zn(()=>this.touchedReactive.set(t))}_touched=yl(()=>this.touchedReactive());touchedReactive=Ai(!1);get untouched(){return!this.touched}_events=new me;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(A4(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(A4(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(R4(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(R4(t,this._rawAsyncValidators))}hasValidator(t){return R_(this._rawValidators,t)}hasAsyncValidator(t){return R_(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){let e=this.touched===!1;this.touched=!0;let i=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsTouched(ae(j({},t),{sourceControl:i})),e&&t.emitEvent!==!1&&this._events.next(new hf(!0,i))}markAllAsDirty(t={}){this.markAsDirty({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:this}),this._forEachChild(e=>e.markAllAsDirty(t))}markAllAsTouched(t={}){this.markAsTouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:this}),this._forEachChild(e=>e.markAllAsTouched(t))}markAsUntouched(t={}){let e=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let i=t.sourceControl??this;this._forEachChild(o=>{o.markAsUntouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:i})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,i),e&&t.emitEvent!==!1&&this._events.next(new hf(!1,i))}markAsDirty(t={}){let e=this.pristine===!0;this.pristine=!1;let i=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsDirty(ae(j({},t),{sourceControl:i})),e&&t.emitEvent!==!1&&this._events.next(new gf(!1,i))}markAsPristine(t={}){let e=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let i=t.sourceControl??this;this._forEachChild(o=>{o.markAsPristine({onlySelf:!0,emitEvent:t.emitEvent})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t,i),e&&t.emitEvent!==!1&&this._events.next(new gf(!0,i))}markAsPending(t={}){this.status=yd;let e=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new Md(this.status,e)),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.markAsPending(ae(j({},t),{sourceControl:e}))}disable(t={}){let e=this._parentMarkedDirty(t.onlySelf);this.status=ff,this.errors=null,this._forEachChild(o=>{o.disable(ae(j({},t),{onlySelf:!0}))}),this._updateValue();let i=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new F_(this.value,i)),this._events.next(new Md(this.status,i)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(ae(j({},t),{skipPristineCheck:e}),this),this._onDisabledChange.forEach(o=>o(!0))}enable(t={}){let e=this._parentMarkedDirty(t.onlySelf);this.status=pf,this._forEachChild(i=>{i.enable(ae(j({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(ae(j({},t),{skipPristineCheck:e}),this),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(t,e){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine({},e),this._parent._updateTouched({},e))}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let i=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===pf||this.status===yd)&&this._runAsyncValidator(i,t.emitEvent)}let e=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new F_(this.value,e)),this._events.next(new Md(this.status,e)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(ae(j({},t),{sourceControl:e}))}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?ff:pf}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t,e){if(this.asyncValidator){this.status=yd,this._hasOwnPendingAsyncValidator={emitEvent:e!==!1,shouldHaveEmitted:t!==!1};let i=H4(this.asyncValidator(this));this._asyncValidationSubscription=i.subscribe(o=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(o,{emitEvent:e,shouldHaveEmitted:t})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let t=(this._hasOwnPendingAsyncValidator?.emitEvent||this._hasOwnPendingAsyncValidator?.shouldHaveEmitted)??!1;return this._hasOwnPendingAsyncValidator=null,t}return!1}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(e.emitEvent!==!1,this,e.shouldHaveEmitted)}get(t){let e=t;return e==null||(Array.isArray(e)||(e=e.split(".")),e.length===0)?null:e.reduce((i,o)=>i&&i._find(o),this)}getError(t,e){let i=e?this.get(e):this;return i&&i.errors?i.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t,e,i){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),(t||i)&&this._events.next(new Md(this.status,e)),this._parent&&this._parent._updateControlsErrors(t,e,i)}_initObservables(){this.valueChanges=new et,this.statusChanges=new et}_calculateStatus(){return this._allControlsDisabled()?ff:this.errors?k_:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(yd)?yd:this._anyControlsHaveStatus(k_)?k_:pf}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t,e){let i=!this._anyControlsDirty(),o=this.pristine!==i;this.pristine=i,this._parent&&!t.onlySelf&&this._parent._updatePristine(t,e),o&&this._events.next(new gf(this.pristine,e))}_updateTouched(t={},e){this.touched=this._anyControlsTouched(),this._events.next(new hf(this.touched,e)),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,e)}_onDisabledChange=[];_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){j_(t)&&t.updateOn!=null&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){let e=this._parent&&this._parent.dirty;return!t&&!!e&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=QZ(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=KZ(this._rawAsyncValidators)}},Od=class extends Pd{constructor(t,e,i){super(gx(e),hx(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,i={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){nL(this,!0,t),Object.keys(t).forEach(i=>{tL(this,!0,i),this.controls[i].setValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){t!=null&&(Object.keys(t).forEach(i=>{let o=this.controls[i];o&&o.patchValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((i,o)=>{i.reset(t?t[o]:null,{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e,this),this._updateTouched(e,this),this.updateValueAndValidity(e),e?.emitEvent!==!1&&this._events.next(new mf(this))}getRawValue(){return this._reduceChildren({},(t,e,i)=>(t[i]=e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,i)=>i._syncPendingControls()?!0:e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{let i=this.controls[e];i&&t(i,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(let[e,i]of Object.entries(this.controls))if(this.contains(e)&&t(i))return!0;return!1}_reduceValue(){let t={};return this._reduceChildren(t,(e,i,o)=>((i.enabled||this.disabled)&&(e[o]=i.value),e))}_reduceChildren(t,e){let i=t;return this._forEachChild((o,r)=>{i=e(i,o,r)}),i}_allControlsDisabled(){for(let t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}};var lx=class extends Od{};var vf=new oe("",{providedIn:"root",factory:()=>bf}),bf="always";function V_(n,t){return[...t.path,n]}function dx(n,t,e=bf){mx(n,t),t.valueAccessor.writeValue(n.value),(n.disabled||e==="always")&&t.valueAccessor.setDisabledState?.(n.disabled),ZZ(n,t),XZ(n,t),JZ(n,t),YZ(n,t)}function N4(n,t,e=!0){let i=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(i),t.valueAccessor.registerOnTouched(i)),B_(n,t),n&&(t._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function z_(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function YZ(n,t){if(t.valueAccessor.setDisabledState){let e=i=>{t.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}function mx(n,t){let e=X4(n);t.validator!==null?n.setValidators(k4(e,t.validator)):typeof e=="function"&&n.setValidators([e]);let i=eL(n);t.asyncValidator!==null?n.setAsyncValidators(k4(i,t.asyncValidator)):typeof i=="function"&&n.setAsyncValidators([i]);let o=()=>n.updateValueAndValidity();z_(t._rawValidators,o),z_(t._rawAsyncValidators,o)}function B_(n,t){let e=!1;if(n!==null){if(t.validator!==null){let o=X4(n);if(Array.isArray(o)&&o.length>0){let r=o.filter(s=>s!==t.validator);r.length!==o.length&&(e=!0,n.setValidators(r))}}if(t.asyncValidator!==null){let o=eL(n);if(Array.isArray(o)&&o.length>0){let r=o.filter(s=>s!==t.asyncValidator);r.length!==o.length&&(e=!0,n.setAsyncValidators(r))}}}let i=()=>{};return z_(t._rawValidators,i),z_(t._rawAsyncValidators,i),e}function ZZ(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&iL(n,t)})}function JZ(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&iL(n,t),n.updateOn!=="submit"&&n.markAsTouched()})}function iL(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function XZ(n,t){let e=(i,o)=>{t.valueAccessor.writeValue(i),o&&t.viewToModelUpdate(i)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}function eJ(n,t){n==null,mx(n,t)}function tJ(n,t){return B_(n,t)}function oL(n,t){if(!n.hasOwnProperty("model"))return!1;let e=n.model;return e.isFirstChange()?!0:!Object.is(t,e.currentValue)}function nJ(n){return Object.getPrototypeOf(n.constructor)===wd}function iJ(n,t){n._syncPendingControls(),t.forEach(e=>{let i=e.control;i.updateOn==="submit"&&i._pendingChange&&(e.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function rL(n,t){if(!t)return null;Array.isArray(t);let e,i,o;return t.forEach(r=>{r.constructor===ht?e=r:nJ(r)?i=r:o=r}),o||i||e||null}function oJ(n,t){let e=n.indexOf(t);e>-1&&n.splice(e,1)}function L4(n,t){let e=n.indexOf(t);e>-1&&n.splice(e,1)}function F4(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var Eo=class extends Pd{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(t=null,e,i){super(gx(e),hx(i,e)),this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),j_(e)&&(e.nonNullable||e.initialValueIsDefault)&&(F4(t)?this.defaultValue=t.value:this.defaultValue=t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&e.emitModelToViewChange!==!1&&this._onChange.forEach(i=>i(this.value,e.emitViewToModelChange!==!1)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1,e?.emitEvent!==!1&&this._events.next(new mf(this))}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){L4(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){L4(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(t){F4(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}};var rJ=n=>n instanceof Eo,sJ=(()=>{class n extends to{_parent;ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return V_(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}static \u0275fac=(()=>{let e;return function(o){return(e||(e=Gn(n)))(o||n)}})();static \u0275dir=gt({type:n,standalone:!1,features:[vn]})}return n})();var aJ={provide:ma,useExisting:Ln(()=>er)},z4=Promise.resolve(),er=(()=>{class n extends ma{_changeDetectorRef;callSetDisabledState;control=new Eo;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new et;constructor(e,i,o,r,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this._parent=e,this._setValidators(i),this._setAsyncValidators(o),this.valueAccessor=rL(this,r)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){let i=e.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),oL(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){dx(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(e){z4.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){let i=e.isDisabled.currentValue,o=i!==0&&Ka(i);z4.then(()=>{o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?V_(e,this._parent):[e]}static \u0275fac=function(i){return new(i||n)(A(to,9),A(Ec,10),A(Cf,10),A(Ca,10),A(jo,8),A(vf,8))};static \u0275dir=gt({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[bi([aJ]),vn,_n]})}return n})();var sn=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275dir=gt({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return n})(),cJ={provide:Ca,useExisting:Ln(()=>no),multi:!0},no=(()=>{class n extends wd{writeValue(e){let i=e??"";this.setProperty("value",i)}registerOnChange(e){this.onChange=i=>{e(i==""?null:parseFloat(i))}}static \u0275fac=(()=>{let e;return function(o){return(e||(e=Gn(n)))(o||n)}})();static \u0275dir=gt({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(i,o){i&1&&R("input",function(s){return o.onChange(s.target.value)})("blur",function(){return o.onTouched()})},standalone:!1,features:[bi([cJ]),vn]})}return n})(),lJ={provide:Ca,useExisting:Ln(()=>yf),multi:!0};var dJ=(()=>{class n{_accessors=[];add(e,i){this._accessors.push([e,i])}remove(e){for(let i=this._accessors.length-1;i>=0;--i)if(this._accessors[i][1]===e){this._accessors.splice(i,1);return}}select(e){this._accessors.forEach(i=>{this._isSameGroup(i,e)&&i[1]!==e&&i[1].fireUncheck(e.value)})}_isSameGroup(e,i){return e[0].control?e[0]._parent===i._control._parent&&e[1].name===i.name:!1}static \u0275fac=function(i){return new(i||n)};static \u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),yf=(()=>{class n extends wd{_registry;_injector;_state;_control;_fn;setDisabledStateFired=!1;onChange=()=>{};name;formControlName;value;callSetDisabledState=U(vf,{optional:!0})??bf;constructor(e,i,o,r){super(e,i),this._registry=o,this._injector=r}ngOnInit(){this._control=this._injector.get(ma),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(e){this._state=e===this.value,this.setProperty("checked",this._state)}registerOnChange(e){this._fn=e,this.onChange=()=>{e(this.value),this._registry.select(this)}}setDisabledState(e){(this.setDisabledStateFired||e||this.callSetDisabledState==="whenDisabledForLegacyCode")&&this.setProperty("disabled",e),this.setDisabledStateFired=!0}fireUncheck(e){this.writeValue(e)}_checkName(){this.name&&this.formControlName&&(this.name,this.formControlName),!this.name&&this.formControlName&&(this.name=this.formControlName)}static \u0275fac=function(i){return new(i||n)(A(Qi),A(Fn),A(dJ),A(ze))};static \u0275dir=gt({type:n,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(i,o){i&1&&R("change",function(){return o.onChange()})("blur",function(){return o.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},standalone:!1,features:[bi([lJ]),vn]})}return n})();var sL=new oe("");var uJ={provide:to,useExisting:Ln(()=>Wt)},Wt=(()=>{class n extends to{callSetDisabledState;get submitted(){return zn(this._submittedReactive)}set submitted(e){this._submittedReactive.set(e)}_submitted=yl(()=>this._submittedReactive());_submittedReactive=Ai(!1);_oldForm;_onCollectionChange=()=>this._updateDomValue();directives=[];form=null;ngSubmit=new et;constructor(e,i,o){super(),this.callSetDisabledState=o,this._setValidators(e),this._setAsyncValidators(i)}ngOnChanges(e){e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(B_(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){let i=this.form.get(e.path);return dx(i,e,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),i}getControl(e){return this.form.get(e.path)}removeControl(e){N4(e.control||null,e,!1),oJ(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,i){this.form.get(e.path).setValue(i)}onSubmit(e){return this._submittedReactive.set(!0),iJ(this.form,this.directives),this.ngSubmit.emit(e),this.form._events.next(new cx(this.control)),e?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(e=void 0,i={}){this.form.reset(e,i),this._submittedReactive.set(!1)}_updateDomValue(){this.directives.forEach(e=>{let i=e.control,o=this.form.get(e.path);i!==o&&(N4(i||null,e),rJ(o)&&(dx(o,e,this.callSetDisabledState),e.control=o))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){let i=this.form.get(e.path);eJ(i,e),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){let i=this.form.get(e.path);i&&tJ(i,e)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){mx(this.form,this),this._oldForm&&B_(this._oldForm,this)}static \u0275fac=function(i){return new(i||n)(A(Ec,10),A(Cf,10),A(vf,8))};static \u0275dir=gt({type:n,selectors:[["","formGroup",""]],hostBindings:function(i,o){i&1&&R("submit",function(s){return o.onSubmit(s)})("reset",function(){return o.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[bi([uJ]),vn,_n]})}return n})(),pJ={provide:to,useExisting:Ln(()=>U_)},U_=(()=>{class n extends sJ{name=null;constructor(e,i,o){super(),this._parent=e,this._setValidators(i),this._setAsyncValidators(o)}_checkParentType(){aL(this._parent)}static \u0275fac=function(i){return new(i||n)(A(to,13),A(Ec,10),A(Cf,10))};static \u0275dir=gt({type:n,selectors:[["","formGroupName",""]],inputs:{name:[0,"formGroupName","name"]},standalone:!1,features:[bi([pJ]),vn]})}return n})(),fJ={provide:to,useExisting:Ln(()=>$_)},$_=(()=>{class n extends to{_parent;name=null;constructor(e,i,o){super(),this._parent=e,this._setValidators(i),this._setAsyncValidators(o)}ngOnInit(){aL(this._parent),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective?.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return V_(this.name==null?this.name:this.name.toString(),this._parent)}static \u0275fac=function(i){return new(i||n)(A(to,13),A(Ec,10),A(Cf,10))};static \u0275dir=gt({type:n,selectors:[["","formArrayName",""]],inputs:{name:[0,"formArrayName","name"]},standalone:!1,features:[bi([fJ]),vn]})}return n})();function aL(n){return!(n instanceof U_)&&!(n instanceof Wt)&&!(n instanceof $_)}var gJ={provide:ma,useExisting:Ln(()=>Zt)},Zt=(()=>{class n extends ma{_ngModelWarningConfig;_added=!1;viewModel;control;name=null;set isDisabled(e){}model;update=new et;static _ngModelWarningSentOnce=!1;_ngModelWarningSent=!1;constructor(e,i,o,r,s){super(),this._ngModelWarningConfig=s,this._parent=e,this._setValidators(i),this._setAsyncValidators(o),this.valueAccessor=rL(this,r)}ngOnChanges(e){this._added||this._setUpControl(),oL(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return V_(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_setUpControl(){this.control=this.formDirective.addControl(this),this._added=!0}static \u0275fac=function(i){return new(i||n)(A(to,13),A(Ec,10),A(Cf,10),A(Ca,10),A(sL,8))};static \u0275dir=gt({type:n,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},standalone:!1,features:[bi([gJ]),vn,_n]})}return n})();var hJ={provide:Ca,useExisting:Ln(()=>gi),multi:!0};function cL(n,t){return n==null?`${t}`:(t&&typeof t=="object"&&(t="Object"),`${n}: ${t}`.slice(0,50))}function mJ(n){return n.split(":")[0]}var gi=(()=>{class n extends wd{value;_optionMap=new Map;_idCounter=0;set compareWith(e){this._compareWith=e}_compareWith=Object.is;appRefInjector=U(mr).injector;destroyRef=U(fo);cdr=U(jo);_queuedWrite=!1;_writeValueAfterRender(){this._queuedWrite||this.appRefInjector.destroyed||(this._queuedWrite=!0,vu({write:()=>{this.destroyRef.destroyed||(this._queuedWrite=!1,this.writeValue(this.value))}},{injector:this.appRefInjector}))}writeValue(e){this.cdr.markForCheck(),this.value=e;let i=this._getOptionId(e),o=cL(i,e);this.setProperty("value",o)}registerOnChange(e){this.onChange=i=>{this.value=this._getOptionValue(i),e(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(e){for(let i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i),e))return i;return null}_getOptionValue(e){let i=mJ(e);return this._optionMap.has(i)?this._optionMap.get(i):e}static \u0275fac=(()=>{let e;return function(o){return(e||(e=Gn(n)))(o||n)}})();static \u0275dir=gt({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(i,o){i&1&&R("change",function(s){return o.onChange(s.target.value)})("blur",function(){return o.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[bi([hJ]),vn]})}return n})(),zi=(()=>{class n{_element;_renderer;_select;id;constructor(e,i,o){this._element=e,this._renderer=i,this._select=o,this._select&&(this.id=this._select._registerOption())}set ngValue(e){this._select!=null&&(this._select._optionMap.set(this.id,e),this._setElementValue(cL(this.id,e)),this._select._writeValueAfterRender())}set value(e){this._setElementValue(e),this._select&&this._select._writeValueAfterRender()}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select._writeValueAfterRender())}static \u0275fac=function(i){return new(i||n)(A(Fn),A(Qi),A(gi,9))};static \u0275dir=gt({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return n})(),_J={provide:Ca,useExisting:Ln(()=>lL),multi:!0};function B4(n,t){return n==null?`${t}`:(typeof t=="string"&&(t=`'${t}'`),t&&typeof t=="object"&&(t="Object"),`${n}: ${t}`.slice(0,50))}function CJ(n){return n.split(":")[0]}var lL=(()=>{class n extends wd{value;_optionMap=new Map;_idCounter=0;set compareWith(e){this._compareWith=e}_compareWith=Object.is;writeValue(e){this.value=e;let i;if(Array.isArray(e)){let o=e.map(r=>this._getOptionId(r));i=(r,s)=>{r._setSelected(o.indexOf(s.toString())>-1)}}else i=(o,r)=>{o._setSelected(!1)};this._optionMap.forEach(i)}registerOnChange(e){this.onChange=i=>{let o=[],r=i.selectedOptions;if(r!==void 0){let s=r;for(let a=0;a<s.length;a++){let c=s[a],u=this._getOptionValue(c.value);o.push(u)}}else{let s=i.options;for(let a=0;a<s.length;a++){let c=s[a];if(c.selected){let u=this._getOptionValue(c.value);o.push(u)}}}this.value=o,e(o)}}_registerOption(e){let i=(this._idCounter++).toString();return this._optionMap.set(i,e),i}_getOptionId(e){for(let i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i)._value,e))return i;return null}_getOptionValue(e){let i=CJ(e);return this._optionMap.has(i)?this._optionMap.get(i)._value:e}static \u0275fac=(()=>{let e;return function(o){return(e||(e=Gn(n)))(o||n)}})();static \u0275dir=gt({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(i,o){i&1&&R("change",function(s){return o.onChange(s.target)})("blur",function(){return o.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[bi([_J]),vn]})}return n})(),Bi=(()=>{class n{_element;_renderer;_select;id;_value;constructor(e,i,o){this._element=e,this._renderer=i,this._select=o,this._select&&(this.id=this._select._registerOption(this))}set ngValue(e){this._select!=null&&(this._value=e,this._setElementValue(B4(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._select?(this._value=e,this._setElementValue(B4(this.id,e)),this._select.writeValue(this._select.value)):this._setElementValue(e)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}_setSelected(e){this._renderer.setProperty(this._element.nativeElement,"selected",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(i){return new(i||n)(A(Fn),A(Qi),A(lL,9))};static \u0275dir=gt({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return n})();function dL(n){return typeof n=="number"?n:parseFloat(n)}var uL=(()=>{class n{_validator=A_;_onChange;_enabled;ngOnChanges(e){if(this.inputName in e){let i=this.normalizeInput(e[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):A_,this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}enabled(e){return e!=null}static \u0275fac=function(i){return new(i||n)};static \u0275dir=gt({type:n,features:[_n]})}return n})(),vJ={provide:Ec,useExisting:Ln(()=>Mf),multi:!0},Mf=(()=>{class n extends uL{max;inputName="max";normalizeInput=e=>dL(e);createValidator=e=>$4(e);static \u0275fac=(()=>{let e;return function(o){return(e||(e=Gn(n)))(o||n)}})();static \u0275dir=gt({type:n,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(i,o){i&2&&pt("max",o._enabled?o.max:null)},inputs:{max:"max"},standalone:!1,features:[bi([vJ]),vn]})}return n})(),bJ={provide:Ec,useExisting:Ln(()=>tr),multi:!0},tr=(()=>{class n extends uL{min;inputName="min";normalizeInput=e=>dL(e);createValidator=e=>U4(e);static \u0275fac=(()=>{let e;return function(o){return(e||(e=Gn(n)))(o||n)}})();static \u0275dir=gt({type:n,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(i,o){i&2&&pt("min",o._enabled?o.min:null)},inputs:{min:"min"},standalone:!1,features:[bi([bJ]),vn]})}return n})();var pL=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=ri({type:n});static \u0275inj=Hn({})}return n})(),ux=class extends Pd{constructor(t,e,i){super(gx(e),hx(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;at(t){return this.controls[this._adjustIndex(t)]}push(t,e={}){Array.isArray(t)?t.forEach(i=>{this.controls.push(i),this._registerControl(i)}):(this.controls.push(t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(t,e,i={}){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(t,e={}){let i=this._adjustIndex(t);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(t,e,i={}){let o=this._adjustIndex(t);o<0&&(o=0),this.controls[o]&&this.controls[o]._registerOnCollectionChange(()=>{}),this.controls.splice(o,1),e&&(this.controls.splice(o,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){nL(this,!1,t),t.forEach((i,o)=>{tL(this,!1,o),this.at(o).setValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){t!=null&&(t.forEach((i,o)=>{this.at(o)&&this.at(o).patchValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((i,o)=>{i.reset(t[o],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e,this),this._updateTouched(e,this),this.updateValueAndValidity(e),e?.emitEvent!==!1&&this._events.next(new mf(this))}getRawValue(){return this.controls.map(t=>t.getRawValue())}clear(t={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_adjustIndex(t){return t<0?t+this.length:t}_syncPendingControls(){let t=this.controls.reduce((e,i)=>i._syncPendingControls()?!0:e,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){this.controls.forEach((e,i)=>{t(e,i)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_allControlsDisabled(){for(let t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}_find(t){return this.at(t)??null}};function j4(n){return!!n&&(n.asyncValidators!==void 0||n.validators!==void 0||n.updateOn!==void 0)}var xn=(()=>{class n{useNonNullable=!1;get nonNullable(){let e=new n;return e.useNonNullable=!0,e}group(e,i=null){let o=this._reduceControls(e),r={};return j4(i)?r=i:i!==null&&(r.validators=i.validator,r.asyncValidators=i.asyncValidator),new Od(o,r)}record(e,i=null){let o=this._reduceControls(e);return new lx(o,i)}control(e,i,o){let r={};return this.useNonNullable?(j4(i)?r=i:(r.validators=i,r.asyncValidators=o),new Eo(e,ae(j({},r),{nonNullable:!0}))):new Eo(e,i,o)}array(e,i,o){let r=e.map(s=>this._createControl(s));return new ux(r,i,o)}_reduceControls(e){let i={};return Object.keys(e).forEach(o=>{i[o]=this._createControl(e[o])}),i}_createControl(e){if(e instanceof Eo)return e;if(e instanceof Pd)return e;if(Array.isArray(e)){let i=e[0],o=e.length>1?e[1]:null,r=e.length>2?e[2]:null;return this.control(i,o,r)}else return this.control(e)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var zr=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:vf,useValue:e.callSetDisabledState??bf}]}}static \u0275fac=function(i){return new(i||n)};static \u0275mod=ri({type:n});static \u0275inj=Hn({imports:[pL]})}return n})(),an=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:sL,useValue:e.warnOnNgModelWithFormControl??"always"},{provide:vf,useValue:e.callSetDisabledState??bf}]}}static \u0275fac=function(i){return new(i||n)};static \u0275mod=ri({type:n});static \u0275inj=Hn({imports:[pL]})}return n})();function yJ(n,t){n&1&&(d(0,"div",29),b(1,"i",31),d(2,"h3"),f(3,"\u062A\u0645 \u0625\u0631\u0633\u0627\u0644 \u0631\u0633\u0627\u0644\u062A\u0643 \u0628\u0646\u062C\u0627\u062D"),p(),d(4,"p"),f(5,"\u0633\u0646\u0642\u0648\u0645 \u0628\u0627\u0644\u0631\u062F \u0639\u0644\u064A\u0643 \u0641\u064A \u0623\u0642\u0631\u0628 \u0648\u0642\u062A \u0645\u0645\u0643\u0646"),p()())}function MJ(n,t){n&1&&(d(0,"div",37),f(1,"\u064A\u0631\u062C\u0649 \u0625\u062F\u062E\u0627\u0644 \u0627\u0644\u0627\u0633\u0645 \u0628\u0627\u0644\u0643\u0627\u0645\u0644"),p())}function PJ(n,t){n&1&&(d(0,"div",37),f(1,"\u064A\u0631\u062C\u0649 \u0625\u062F\u062E\u0627\u0644 \u0628\u0631\u064A\u062F \u0625\u0644\u0643\u062A\u0631\u0648\u0646\u064A \u0635\u062D\u064A\u062D"),p())}function OJ(n,t){n&1&&(d(0,"div",37),f(1,"\u064A\u0631\u062C\u0649 \u0625\u062F\u062E\u0627\u0644 \u0645\u0648\u0636\u0648\u0639 \u0627\u0644\u0631\u0633\u0627\u0644\u0629"),p())}function wJ(n,t){n&1&&(d(0,"div",37),f(1,"\u064A\u0631\u062C\u0649 \u0625\u062F\u062E\u0627\u0644 \u0631\u0633\u0627\u0644\u0629 \u0644\u0627 \u062A\u0642\u0644 \u0639\u0646 10 \u0623\u062D\u0631\u0641"),p())}function xJ(n,t){if(n&1){let e=J();d(0,"form",32),R("ngSubmit",function(){$(e);let o=x();return q(o.onSubmit())}),d(1,"div",33)(2,"div",34),b(3,"input",35)(4,"i",36),p(),T(5,MJ,2,0,"div",37),p(),d(6,"div",33)(7,"div",34),b(8,"input",38)(9,"i",15),p(),T(10,PJ,2,0,"div",37),p(),d(11,"div",33)(12,"div",34),b(13,"input",39)(14,"i",40),p(),T(15,OJ,2,0,"div",37),p(),d(16,"div",33)(17,"div",34),b(18,"textarea",41)(19,"i",42),p(),T(20,wJ,2,0,"div",37),p(),d(21,"button",43),b(22,"i",44),f(23," \u0625\u0631\u0633\u0627\u0644 \u0627\u0644\u0631\u0633\u0627\u0644\u0629 "),p()()}if(n&2){let e,i,o,r,s,a,c,u,C=x();E("formGroup",C.contactForm),l(3),V("is-invalid",((e=C.contactForm.get("name"))==null?null:e.invalid)&&((e=C.contactForm.get("name"))==null?null:e.touched)),l(2),D((i=C.contactForm.get("name"))!=null&&i.invalid&&((i=C.contactForm.get("name"))!=null&&i.touched)?5:-1),l(3),V("is-invalid",((o=C.contactForm.get("email"))==null?null:o.invalid)&&((o=C.contactForm.get("email"))==null?null:o.touched)),l(2),D((r=C.contactForm.get("email"))!=null&&r.invalid&&((r=C.contactForm.get("email"))!=null&&r.touched)?10:-1),l(3),V("is-invalid",((s=C.contactForm.get("subject"))==null?null:s.invalid)&&((s=C.contactForm.get("subject"))==null?null:s.touched)),l(2),D((a=C.contactForm.get("subject"))!=null&&a.invalid&&((a=C.contactForm.get("subject"))!=null&&a.touched)?15:-1),l(3),V("is-invalid",((c=C.contactForm.get("message"))==null?null:c.invalid)&&((c=C.contactForm.get("message"))==null?null:c.touched)),l(2),D((u=C.contactForm.get("message"))!=null&&u.invalid&&((u=C.contactForm.get("message"))!=null&&u.touched)?20:-1),l(),E("disabled",C.contactForm.invalid)}}var q_=class n{constructor(t){this.fb=t;this.contactForm=this.fb.group({name:["",[te.required,te.minLength(3)]],email:["",[te.required,te.email]],subject:["",te.required],message:["",[te.required,te.minLength(10)]]})}contactForm;isSubmitted=!1;contactInfo={phone:"01124599015",email:"info@tabibi.com",socialLinks:{facebook:"https://facebook.com/tabibi",twitter:"https://twitter.com/tabibi",instagram:"https://instagram.com/tabibi",linkedin:"https://linkedin.com/company/tabibi"}};onSubmit(){this.contactForm.valid&&(console.log(this.contactForm.value),this.isSubmitted=!0,this.contactForm.reset())}static \u0275fac=function(e){return new(e||n)(A(xn))};static \u0275cmp=ce({type:n,selectors:[["app-contact"]],decls:54,vars:10,consts:[[1,"contact-page"],[1,"contact-hero"],[1,"hero-content"],[1,"hero-title"],[1,"hero-subtitle"],[1,"contact-container"],[1,"info-section"],[1,"info-card"],[1,"card-icon"],[1,"fas","fa-phone-alt"],[1,"contact-options"],[1,"contact-link","phone",3,"href"],[1,"fas","fa-phone"],["target","_blank",1,"contact-link","whatsapp",3,"href"],[1,"fab","fa-whatsapp"],[1,"fas","fa-envelope"],[1,"contact-link","email",3,"href"],[1,"fas","fa-share-alt"],[1,"social-links"],["target","_blank",1,"social-link","facebook",3,"href"],[1,"fab","fa-facebook-f"],["target","_blank",1,"social-link","twitter",3,"href"],[1,"fab","fa-twitter"],["target","_blank",1,"social-link","instagram",3,"href"],[1,"fab","fa-instagram"],["target","_blank",1,"social-link","linkedin",3,"href"],[1,"fab","fa-linkedin-in"],[1,"form-section"],[1,"form-container"],[1,"success-message"],[1,"contact-form",3,"formGroup"],[1,"fas","fa-check-circle"],[1,"contact-form",3,"ngSubmit","formGroup"],[1,"form-group"],[1,"input-wrapper"],["type","text","formControlName","name","placeholder","\u0627\u0644\u0627\u0633\u0645 \u0628\u0627\u0644\u0643\u0627\u0645\u0644"],[1,"fas","fa-user"],[1,"error-message"],["type","email","formControlName","email","placeholder","\u0627\u0644\u0628\u0631\u064A\u062F \u0627\u0644\u0625\u0644\u0643\u062A\u0631\u0648\u0646\u064A"],["type","text","formControlName","subject","placeholder","\u0627\u0644\u0645\u0648\u0636\u0648\u0639"],[1,"fas","fa-heading"],["formControlName","message","placeholder","\u0631\u0633\u0627\u0644\u062A\u0643","rows","5"],[1,"fas","fa-comment-alt"],["type","submit",1,"submit-button",3,"disabled"],[1,"fas","fa-paper-plane"]],template:function(e,i){e&1&&(d(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3),f(4,"\u062A\u0648\u0627\u0635\u0644 \u0645\u0639\u0646\u0627"),p(),d(5,"p",4),f(6,"\u0646\u062D\u0646 \u0647\u0646\u0627 \u0644\u0645\u0633\u0627\u0639\u062F\u062A\u0643 \u0648\u0646\u0631\u062D\u0628 \u0628\u062A\u0648\u0627\u0635\u0644\u0643 \u0645\u0639\u0646\u0627"),p()()(),d(7,"div",5)(8,"div",6)(9,"div",7)(10,"div",8),b(11,"i",9),p(),d(12,"h3"),f(13,"\u0627\u062A\u0635\u0644 \u0628\u0646\u0627"),p(),d(14,"div",10)(15,"a",11),b(16,"i",12),d(17,"span"),f(18),p()(),d(19,"a",13),b(20,"i",14),d(21,"span"),f(22,"\u0648\u0627\u062A\u0633\u0627\u0628"),p()()()(),d(23,"div",7)(24,"div",8),b(25,"i",15),p(),d(26,"h3"),f(27,"\u0631\u0627\u0633\u0644\u0646\u0627"),p(),d(28,"a",16),b(29,"i",15),d(30,"span"),f(31),p()()(),d(32,"div",7)(33,"div",8),b(34,"i",17),p(),d(35,"h3"),f(36,"\u062A\u0627\u0628\u0639\u0646\u0627"),p(),d(37,"div",18)(38,"a",19),b(39,"i",20),p(),d(40,"a",21),b(41,"i",22),p(),d(42,"a",23),b(43,"i",24),p(),d(44,"a",25),b(45,"i",26),p()()()(),d(46,"div",27)(47,"div",28)(48,"h2"),f(49,"\u0627\u0631\u0633\u0644 \u0631\u0633\u0627\u0644\u0629"),p(),d(50,"p"),f(51,"\u064A\u0645\u0643\u0646\u0643 \u0625\u0631\u0633\u0627\u0644 \u0631\u0633\u0627\u0644\u062A\u0643 \u0648\u0633\u0646\u0642\u0648\u0645 \u0628\u0627\u0644\u0631\u062F \u0639\u0644\u064A\u0643 \u0641\u064A \u0623\u0642\u0631\u0628 \u0648\u0642\u062A"),p(),T(52,yJ,6,0,"div",29)(53,xJ,24,14,"form",30),p()()()()),e&2&&(l(15),E("href","tel:+20"+i.contactInfo.phone,Je),l(3),O(i.contactInfo.phone),l(),E("href","https://wa.me/+20"+i.contactInfo.phone,Je),l(9),E("href","mailto:"+i.contactInfo.email,Je),l(3),O(i.contactInfo.email),l(7),E("href",i.contactInfo.socialLinks.facebook,Je),l(2),E("href",i.contactInfo.socialLinks.twitter,Je),l(2),E("href",i.contactInfo.socialLinks.instagram,Je),l(2),E("href",i.contactInfo.socialLinks.linkedin,Je),l(8),D(i.isSubmitted?52:53))},dependencies:[an,sn,ht,bt,rn,Wt,Zt],styles:[".contact-hero[_ngcontent-%COMP%]{background:#0e3a5d;padding:6rem 2rem;text-align:center;color:#fff;position:relative}.contact-hero[_ngcontent-%COMP%]   .hero-content[_ngcontent-%COMP%]{position:relative;z-index:1}.contact-hero[_ngcontent-%COMP%]   .hero-title[_ngcontent-%COMP%]{font-size:3rem;margin-bottom:1rem;font-weight:700}.contact-hero[_ngcontent-%COMP%]   .hero-subtitle[_ngcontent-%COMP%]{font-size:1.2rem;opacity:.9}.contact-container[_ngcontent-%COMP%]{max-width:1200px;margin:-3rem auto 4rem;padding:0 1rem;position:relative;z-index:2;display:grid;grid-template-columns:1fr 2fr;gap:2rem}@media (max-width: 992px){.contact-container[_ngcontent-%COMP%]{grid-template-columns:1fr}}.info-section[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1.5rem}.info-card[_ngcontent-%COMP%]{background:#fff;border-radius:16px;padding:2rem;text-align:center;transition:all .3s ease;border:1px solid rgba(14,58,93,.1)}.info-card[_ngcontent-%COMP%]:hover{transform:translateY(-3px);box-shadow:0 4px 8px #00000026}.info-card[_ngcontent-%COMP%]   .card-icon[_ngcontent-%COMP%]{width:70px;height:70px;background:#c9a24d1a;border-radius:50%;display:flex;align-items:center;justify-content:center;margin:0 auto 1.5rem}.info-card[_ngcontent-%COMP%]   .card-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.8rem;color:#c9a24d}.info-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#0e3a5d;margin-bottom:1.5rem}.contact-options[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}.contact-link[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:.8rem;padding:.8rem;border-radius:8px;text-decoration:none;transition:all .3s ease;border:1px solid rgba(201,162,77,.2)}.contact-link.phone[_ngcontent-%COMP%]{background:#c9a24d1a;color:#c9a24d}.contact-link.phone[_ngcontent-%COMP%]:hover{background:#c9a24d;color:#fff}.contact-link.whatsapp[_ngcontent-%COMP%]{background:#16a34a1a;color:#16a34a;border-color:#16a34a33}.contact-link.whatsapp[_ngcontent-%COMP%]:hover{background:#16a34a;color:#fff}.contact-link.email[_ngcontent-%COMP%]{background:#c9a24d1a;color:#c9a24d}.contact-link.email[_ngcontent-%COMP%]:hover{background:#c9a24d;color:#fff}.social-links[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:1rem}.social-links[_ngcontent-%COMP%]   .social-link[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:50%;display:flex;align-items:center;justify-content:center;color:#fff;transition:all .3s ease;background:#c9a24d}.social-links[_ngcontent-%COMP%]   .social-link[_ngcontent-%COMP%]:hover{transform:translateY(-3px);background:#a8832f}.form-section[_ngcontent-%COMP%]{background:#fff;border-radius:16px;padding:2rem;transition:all .3s ease;border:1px solid rgba(14,58,93,.1)}.form-section[_ngcontent-%COMP%]:hover{transform:translateY(-3px);box-shadow:0 4px 8px #00000026}.form-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#0e3a5d;margin-bottom:.5rem}.form-section[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#0e3a5db3;margin-bottom:2rem}.contact-form[_ngcontent-%COMP%]{display:grid;gap:1.5rem}.contact-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]{position:relative}.contact-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .contact-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;padding:1rem 3rem 1rem 1rem;border:1px solid rgba(14,58,93,.2);border-radius:8px;transition:all .3s ease}.contact-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, .contact-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus{border-color:#c9a24d;box-shadow:0 0 0 3px #c9a24d1a;outline:none}.contact-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   input.is-invalid[_ngcontent-%COMP%], .contact-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   textarea.is-invalid[_ngcontent-%COMP%]{border-color:#dc2626}.contact-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{resize:vertical}.contact-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{position:absolute;right:1rem;top:50%;transform:translateY(-50%);color:#0e3a5d80}.contact-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]{color:#dc2626;font-size:.9rem;margin-top:.5rem}.submit-button[_ngcontent-%COMP%]{background:#c9a24d;color:#fff;border:none;padding:1rem 2rem;border-radius:8px;font-size:1.1rem;display:flex;align-items:center;justify-content:center;gap:.8rem;cursor:pointer;transition:all .3s ease}.submit-button[_ngcontent-%COMP%]:hover:not(:disabled){background:#a8832f;transform:translateY(-2px)}.submit-button[_ngcontent-%COMP%]:disabled{opacity:.7;cursor:not-allowed}.submit-button[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.2rem}.success-message[_ngcontent-%COMP%]{text-align:center;padding:3rem 2rem}.success-message[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:4rem;color:#16a34a;margin-bottom:1.5rem}.success-message[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#0e3a5d;margin-bottom:.5rem}.success-message[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#0e3a5db3}@media (max-width: 768px){.contact-hero[_ngcontent-%COMP%]{padding:4rem 1rem}.contact-hero[_ngcontent-%COMP%]   .hero-title[_ngcontent-%COMP%]{font-size:2rem}.contact-container[_ngcontent-%COMP%]{margin-top:-2rem}.form-section[_ngcontent-%COMP%]{padding:1.5rem}}"]})};function EJ(n,t){n&1&&(f(0),h(1,"translate")),n&2&&M(" ",m(1,1,"auth.login.emailRequired")," ")}function IJ(n,t){n&1&&(f(0),h(1,"translate")),n&2&&M(" ",m(1,1,"auth.login.emailInvalid")," ")}function SJ(n,t){if(n&1&&(d(0,"span",14),T(1,EJ,2,3)(2,IJ,2,3),p()),n&2){let e=x();l(),D(!(e.email==null||e.email.errors==null)&&e.email.errors.required?1:!(e.email==null||e.email.errors==null)&&e.email.errors.email?2:-1)}}function TJ(n,t){n&1&&(f(0),h(1,"translate")),n&2&&M(" ",m(1,1,"auth.login.passwordRequired")," ")}function DJ(n,t){n&1&&(f(0),h(1,"translate")),n&2&&M(" ",m(1,1,"auth.login.passwordMinLength")," ")}function kJ(n,t){if(n&1&&(d(0,"span",14),T(1,TJ,2,3)(2,DJ,2,3),p()),n&2){let e=x();l(),D(!(e.password==null||e.password.errors==null)&&e.password.errors.required?1:!(e.password==null||e.password.errors==null)&&e.password.errors.minlength?2:-1)}}function AJ(n,t){if(n&1&&(d(0,"div",9)(1,"div",30),b(2,"i",31),f(3),h(4,"translate"),p()()),n&2){let e=x();l(3),M(" ",m(4,1,e.errorMessage)," ")}}function RJ(n,t){n&1&&(b(0,"i",32),f(1),h(2,"translate")),n&2&&(l(),M(" ",m(2,1,"auth.login.loading")," "))}function NJ(n,t){n&1&&(b(0,"i",33),f(1),h(2,"translate")),n&2&&(l(),M(" ",m(2,1,"auth.login.submit")," "))}function LJ(n,t){n&1&&(b(0,"i",32),f(1),h(2,"translate")),n&2&&(l(),M(" ",m(2,1,"auth.login.googleLoading")," "))}function FJ(n,t){n&1&&(b(0,"i",34),f(1),h(2,"translate")),n&2&&(l(),M(" ",m(2,1,"auth.login.loginWithGoogle")," "))}var H_=class n{constructor(t,e,i,o){this.fb=t;this.authService=e;this.organizationService=i;this.router=o}loginForm;isLoading=!1;isGoogleLoading=!1;errorMessage="";showPassword=!1;REMEMBER_ME_KEY="ankh_remember_me";REMEMBERED_EMAIL_KEY="ankh_remembered_email";togglePasswordVisibility(){this.showPassword=!this.showPassword}ngOnInit(){let t=localStorage.getItem(this.REMEMBERED_EMAIL_KEY),e=localStorage.getItem(this.REMEMBER_ME_KEY)==="true";this.loginForm=this.fb.group({email:[t||"",[te.required,te.email]],password:["",[te.required,te.minLength(6)]],rememberMe:[e]})}onSubmit(){if(this.loginForm.invalid){this.markFormGroupTouched(this.loginForm);return}this.isLoading=!0,this.errorMessage="";let{email:t,password:e,rememberMe:i}=this.loginForm.value;i?(localStorage.setItem(this.REMEMBER_ME_KEY,"true"),localStorage.setItem(this.REMEMBERED_EMAIL_KEY,t)):(localStorage.removeItem(this.REMEMBER_ME_KEY),localStorage.removeItem(this.REMEMBERED_EMAIL_KEY)),this.authService.login(t,e).pipe(be(o=>{if(!o?.user)return Q(null);let r=o.user;return Q({user:r})}),ut(o=>(this.isLoading=!1,this.handleLoginError(o),Q(null)))).subscribe({next:o=>{o?.user?(this.isLoading=!1,this.redirectBasedOnRole(o.user.email)):o===null&&(this.isLoading=!1)}})}redirectBasedOnRole(t){if(t==="admin@ankh.com"){this.router.navigate(["/admin"]);return}this.router.navigate(["/profile-view"])}handleLoginError(t){switch(t.code){case"auth/user-not-found":this.errorMessage="auth.login.userNotFound";break;case"auth/wrong-password":this.errorMessage="auth.login.wrongPassword";break;case"auth/invalid-email":this.errorMessage="auth.login.invalidEmail";break;case"auth/invalid-credential":this.errorMessage="auth.login.wrongPassword";break;default:this.errorMessage="auth.login.error"}console.error("Login error:",t)}markFormGroupTouched(t){Object.keys(t.controls).forEach(e=>{t.get(e)?.markAsTouched()})}get email(){return this.loginForm.get("email")}get password(){return this.loginForm.get("password")}get rememberMe(){return this.loginForm.get("rememberMe")}loginByGmail(){this.isGoogleLoading=!0,this.errorMessage="",this.authService.loginByGmail().pipe(be(t=>{let e=t.user;if(!e)throw new Error("Login failed");return this.organizationService.getOrganization(e.uid).pipe(be(i=>i?Q({user:e,orgExists:!0}):this.organizationService.createOrganizationRequest({name:e.displayName||"",phone:e.phoneNumber||"",email:e.email||"",idImage:e.photoURL||""},e.uid).pipe(be(()=>Q({user:e,orgExists:!1})))))}),ut(t=>(this.isGoogleLoading=!1,t.code==="auth/admin-email-not-allowed"?this.errorMessage="auth.login.adminEmailNotAllowed":t.code==="auth/popup-closed-by-user"?this.errorMessage="":this.errorMessage="auth.login.googleError",console.error("Google login error:",t),Q(null)))).subscribe({next:t=>{t&&(this.isGoogleLoading=!1,this.redirectBasedOnRole(t.user.email||""))}})}static \u0275fac=function(e){return new(e||n)(A(xn),A(Dt),A(wn),A(He))};static \u0275cmp=ce({type:n,selectors:[["app-login"]],decls:62,vars:48,consts:[[1,"login-container"],[1,"container"],[1,"login-header"],[1,"login-title"],[1,"login-subtitle"],[1,"row","justify-content-center"],[1,"col-12","col-md-8","col-lg-6","col-xl-5"],[1,"login-form",3,"ngSubmit","formGroup"],[1,"row","g-3"],[1,"col-12"],[1,"form-group"],["for","email",1,"form-label"],[1,"fas","fa-envelope"],["type","email","id","email","formControlName","email",1,"form-control",3,"placeholder"],[1,"error-message"],["for","password",1,"form-label"],[1,"fas","fa-lock"],[1,"password-input-wrapper"],["id","password","formControlName","password",1,"form-control",3,"type","placeholder"],["type","button",1,"password-toggle",3,"click"],[1,"remember-me-wrapper"],[1,"remember-me-label"],["type","checkbox","formControlName","rememberMe",1,"remember-me-checkbox"],[1,"remember-me-text"],["type","submit",1,"btn","btn-primary","btn-submit","w-100",3,"disabled"],[1,"row","g-3","mt-3"],[1,"divider"],["type","button",1,"btn","btn-google","w-100",3,"click","disabled"],[1,"login-footer"],["routerLink","/register",1,"link-register"],[1,"alert","alert-error"],[1,"fas","fa-exclamation-circle"],[1,"fas","fa-spinner","fa-spin"],[1,"fas","fa-sign-in-alt"],[1,"fab","fa-google"]],template:function(e,i){e&1&&(d(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3),f(4),h(5,"translate"),p(),d(6,"p",4),f(7),h(8,"translate"),p()(),d(9,"div",5)(10,"div",6)(11,"form",7),R("ngSubmit",function(){return i.onSubmit()}),d(12,"div",8)(13,"div",9)(14,"div",10)(15,"label",11),b(16,"i",12),f(17),h(18,"translate"),p(),b(19,"input",13),h(20,"translate"),T(21,SJ,3,1,"span",14),p()(),d(22,"div",9)(23,"div",10)(24,"label",15),b(25,"i",16),f(26),h(27,"translate"),p(),d(28,"div",17),b(29,"input",18),h(30,"translate"),d(31,"button",19),R("click",function(){return i.togglePasswordVisibility()}),b(32,"i"),p()(),T(33,kJ,3,1,"span",14),p()(),d(34,"div",9)(35,"div",20)(36,"label",21),b(37,"input",22),d(38,"span",23),f(39),h(40,"translate"),p()()()(),T(41,AJ,5,3,"div",9),d(42,"div",9)(43,"button",24),T(44,RJ,3,3)(45,NJ,3,3),p()()()(),d(46,"div",25)(47,"div",9)(48,"div",26)(49,"span"),f(50),h(51,"translate"),p()(),d(52,"button",27),R("click",function(){return i.loginByGmail()}),T(53,LJ,3,3)(54,FJ,3,3),p()()(),d(55,"div",28)(56,"p"),f(57),h(58,"translate"),d(59,"a",29),f(60),h(61,"translate"),p()()()()()()()),e&2&&(l(4),O(m(5,28,"auth.login.title")),l(3),O(m(8,30,"auth.login.subtitle")),l(4),E("formGroup",i.loginForm),l(6),M(" ",m(18,32,"auth.login.email")," "),l(2),V("invalid",(i.email==null?null:i.email.invalid)&&(i.email==null?null:i.email.touched)),E("placeholder",ci(m(20,34,"auth.login.emailPlaceholder"))),l(2),D(i.email!=null&&i.email.invalid&&(i.email!=null&&i.email.touched)?21:-1),l(5),M(" ",m(27,36,"auth.login.password")," "),l(3),V("invalid",(i.password==null?null:i.password.invalid)&&(i.password==null?null:i.password.touched)),E("placeholder",ci(m(30,38,"auth.login.passwordPlaceholder")))("type",i.showPassword?"text":"password"),l(2),pt("aria-label",i.showPassword?"Hide password":"Show password"),l(),si(i.showPassword?"fa-solid fa-eye-slash":"fa-solid fa-eye"),l(),D(i.password!=null&&i.password.invalid&&(i.password!=null&&i.password.touched)?33:-1),l(6),M(" ",m(40,40,"auth.login.rememberMe")," "),l(2),D(i.errorMessage?41:-1),l(2),E("disabled",i.isLoading||i.isGoogleLoading||i.loginForm.invalid),l(),D(i.isLoading?44:45),l(6),O(m(51,42,"auth.login.or")),l(2),E("disabled",i.isLoading||i.isGoogleLoading),l(),D(i.isGoogleLoading?53:54),l(4),M(" ",m(58,44,"auth.login.noAccount")," "),l(3),M(" ",m(61,46,"auth.login.register")," "))},dependencies:[pe,an,sn,ht,_f,bt,rn,Wt,Zt,Ne,Ue,fe,_e],styles:['.login-container[_ngcontent-%COMP%]{min-height:100vh;padding:64px 0;background:linear-gradient(135deg,#f3f1ec,#f6f7f9)}.login-container[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{padding:32px 16px}.login-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:64px;padding-top:32px}.login-header[_ngcontent-%COMP%]   .login-title[_ngcontent-%COMP%]{font-size:2.5rem;font-weight:700;color:#0e3a5d;margin-bottom:8px;font-family:Cairo,sans-serif}.login-header[_ngcontent-%COMP%]   .login-subtitle[_ngcontent-%COMP%]{font-size:1rem;color:#0f172ab3;margin:0}.login-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:32px}.login-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-label[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;font-weight:500;color:#0f172a;margin-bottom:8px;font-size:.9rem}.login-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-label[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#0e3a5d;font-size:.85rem}.login-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .password-input-wrapper[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center}.login-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{width:100%;padding:16px 45px 16px 16px;border:2px solid rgba(14,58,93,.2);border-radius:8px;font-size:1rem;font-family:Cairo,sans-serif;transition:all .3s ease;background:#fff;color:#0f172a}.login-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:focus{outline:none;border-color:#c9a24d;box-shadow:0 0 0 3px #c9a24d1a}.login-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-control.invalid[_ngcontent-%COMP%]{border-color:#dc2626}.login-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]::placeholder{color:#0f172a66}.login-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .password-toggle[_ngcontent-%COMP%]{position:absolute;right:16px;background:transparent;border:none;color:#0f172a80;cursor:pointer;padding:4px;display:flex;align-items:center;justify-content:center;transition:all .3s ease;z-index:1}.login-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .password-toggle[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1rem}.login-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .password-toggle[_ngcontent-%COMP%]:hover{color:#c9a24d}.login-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .password-toggle[_ngcontent-%COMP%]:focus{outline:2px solid #C9A24D;outline-offset:2px;border-radius:4px}.login-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]{display:block;color:#dc2626;font-size:.85rem;margin-top:4px;font-weight:500}.login-form[_ngcontent-%COMP%]   .remember-me-wrapper[_ngcontent-%COMP%]{margin-bottom:16px}.login-form[_ngcontent-%COMP%]   .remember-me-wrapper[_ngcontent-%COMP%]   .remember-me-label[_ngcontent-%COMP%]{display:flex;align-items:center;cursor:pointer;-webkit-user-select:none;user-select:none;font-family:Cairo,sans-serif;gap:8px}.login-form[_ngcontent-%COMP%]   .remember-me-wrapper[_ngcontent-%COMP%]   .remember-me-label[_ngcontent-%COMP%]   .remember-me-checkbox[_ngcontent-%COMP%]{width:18px;height:18px;cursor:pointer;accent-color:#C9A24D;margin:0;flex-shrink:0}.login-form[_ngcontent-%COMP%]   .remember-me-wrapper[_ngcontent-%COMP%]   .remember-me-label[_ngcontent-%COMP%]   .remember-me-text[_ngcontent-%COMP%]{display:flex;align-items:center;gap:4px;color:#0f172acc;font-size:.9rem;font-weight:500;transition:color .2s ease}.login-form[_ngcontent-%COMP%]   .remember-me-wrapper[_ngcontent-%COMP%]   .remember-me-label[_ngcontent-%COMP%]   .remember-me-text[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.85rem;color:#c9a24d;opacity:0;transition:opacity .2s ease}.login-form[_ngcontent-%COMP%]   .remember-me-wrapper[_ngcontent-%COMP%]   .remember-me-label[_ngcontent-%COMP%]:hover   .remember-me-text[_ngcontent-%COMP%]{color:#0f172a}.login-form[_ngcontent-%COMP%]   .remember-me-wrapper[_ngcontent-%COMP%]   .remember-me-label[_ngcontent-%COMP%]   .remember-me-checkbox[_ngcontent-%COMP%]:checked + .remember-me-text[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{opacity:1}.login-form[_ngcontent-%COMP%]   .alert[_ngcontent-%COMP%]{padding:16px;border-radius:8px;margin-bottom:32px;display:flex;align-items:center;gap:8px;font-size:.9rem}.login-form[_ngcontent-%COMP%]   .alert.alert-error[_ngcontent-%COMP%]{background:#dc26261a;color:#dc2626;border:1px solid rgba(220,38,38,.3)}.login-form[_ngcontent-%COMP%]   .alert[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1rem}.login-form[_ngcontent-%COMP%]   .btn-submit[_ngcontent-%COMP%]{padding:16px;font-size:1rem;font-weight:600;border-radius:8px;border:none;cursor:pointer;transition:all .3s ease;display:flex;align-items:center;justify-content:center;gap:8px;font-family:Cairo,sans-serif;background:#c9a24d;color:#fff}.login-form[_ngcontent-%COMP%]   .btn-submit[_ngcontent-%COMP%]:hover:not(:disabled){background:#a8832f;transform:translateY(-2px);box-shadow:0 4px 8px #00000026}.login-form[_ngcontent-%COMP%]   .btn-submit[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.login-footer[_ngcontent-%COMP%]{margin-top:64px;text-align:center;padding-top:32px;border-top:1px solid rgba(14,58,93,.1)}.login-footer[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#0f172ab3;font-size:.9rem;margin:0}.login-footer[_ngcontent-%COMP%]   .link-register[_ngcontent-%COMP%]{color:#c9a24d;font-weight:600;text-decoration:none;transition:all .3s ease}.login-footer[_ngcontent-%COMP%]   .link-register[_ngcontent-%COMP%]:hover{color:#a8832f;text-decoration:underline}.divider[_ngcontent-%COMP%]{display:flex;align-items:center;text-align:center;margin:32px 0;color:#0f172a80;font-size:.9rem}.divider[_ngcontent-%COMP%]:before, .divider[_ngcontent-%COMP%]:after{content:"";flex:1;border-bottom:1px solid rgba(14,58,93,.2)}.divider[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding:0 16px}.btn-google[_ngcontent-%COMP%]{background:#fff;color:#0f172a;border:2px solid rgba(14,58,93,.2);padding:16px 32px;font-weight:600;border-radius:8px;transition:all .3s ease;display:flex;align-items:center;justify-content:center;gap:8px;width:100%}.btn-google[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.2rem;color:#4285f4}.btn-google[_ngcontent-%COMP%]:hover:not(:disabled){background:#0e3a5d0d;border-color:#0e3a5d4d;transform:translateY(-2px);box-shadow:0 1px 2px #0000001a}.btn-google[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}@media (max-width: 991.98px){.login-container[_ngcontent-%COMP%]{padding:32px 0}}@media (max-width: 767.98px){.login-header[_ngcontent-%COMP%]   .login-title[_ngcontent-%COMP%]{font-size:2rem}}@media (max-width: 575.98px){.login-header[_ngcontent-%COMP%]{padding-top:16px}.login-header[_ngcontent-%COMP%]   .login-title[_ngcontent-%COMP%]{font-size:1.5rem}}']})};var fL=Un(jn());function zJ(n,t){n&1&&(f(0),h(1,"translate")),n&2&&M(" ",m(1,1,"auth.register.nameRequired")," ")}function BJ(n,t){n&1&&(f(0),h(1,"translate")),n&2&&M(" ",m(1,1,"auth.register.nameMinLength")," ")}function jJ(n,t){if(n&1&&(d(0,"span",15),T(1,zJ,2,3)(2,BJ,2,3),p()),n&2){let e=x();l(),D(!(e.name==null||e.name.errors==null)&&e.name.errors.required?1:!(e.name==null||e.name.errors==null)&&e.name.errors.minlength?2:-1)}}function VJ(n,t){n&1&&(f(0),h(1,"translate")),n&2&&M(" ",m(1,1,"auth.register.emailRequired")," ")}function UJ(n,t){n&1&&(f(0),h(1,"translate")),n&2&&M(" ",m(1,1,"auth.register.emailInvalid")," ")}function $J(n,t){if(n&1&&(d(0,"span",15),T(1,VJ,2,3)(2,UJ,2,3),p()),n&2){let e=x();l(),D(!(e.email==null||e.email.errors==null)&&e.email.errors.required?1:!(e.email==null||e.email.errors==null)&&e.email.errors.email?2:-1)}}function qJ(n,t){n&1&&(f(0),h(1,"translate")),n&2&&M(" ",m(1,1,"auth.register.phoneRequired")," ")}function HJ(n,t){n&1&&(f(0),h(1,"translate")),n&2&&M(" ",m(1,1,"auth.register.phoneInvalid")," ")}function WJ(n,t){if(n&1&&(d(0,"span",15),T(1,qJ,2,3)(2,HJ,2,3),p()),n&2){let e=x();l(),D(!(e.phone==null||e.phone.errors==null)&&e.phone.errors.required?1:!(e.phone==null||e.phone.errors==null)&&e.phone.errors.pattern?2:-1)}}function GJ(n,t){n&1&&(f(0),h(1,"translate")),n&2&&M(" ",m(1,1,"auth.register.passwordRequired")," ")}function QJ(n,t){n&1&&(f(0),h(1,"translate")),n&2&&M(" ",m(1,1,"auth.register.passwordMinLength")," ")}function KJ(n,t){if(n&1&&(d(0,"span",15),T(1,GJ,2,3)(2,QJ,2,3),p()),n&2){let e=x();l(),D(!(e.password==null||e.password.errors==null)&&e.password.errors.required?1:!(e.password==null||e.password.errors==null)&&e.password.errors.minlength?2:-1)}}function YJ(n,t){n&1&&(f(0),h(1,"translate")),n&2&&M(" ",m(1,1,"auth.register.confirmPasswordRequired")," ")}function ZJ(n,t){n&1&&(f(0),h(1,"translate")),n&2&&M(" ",m(1,1,"auth.register.passwordMismatch")," ")}function JJ(n,t){if(n&1&&(d(0,"span",15),T(1,YJ,2,3)(2,ZJ,2,3),p()),n&2){let e=x();l(),D(!(e.confirmPassword==null||e.confirmPassword.errors==null)&&e.confirmPassword.errors.required?1:!(e.confirmPassword==null||e.confirmPassword.errors==null)&&e.confirmPassword.errors.passwordMismatch?2:-1)}}function XJ(n,t){n&1&&(b(0,"i",44),f(1),h(2,"translate")),n&2&&(l(),M(" ",m(2,1,"auth.register.compressing")," "))}function eX(n,t){n&1&&(b(0,"i",45),f(1),h(2,"translate")),n&2&&(l(),M(" ",m(2,1,"auth.register.uploadIdImage")," "))}function tX(n,t){n&1&&(d(0,"div",36)(1,"div",46)(2,"span",47),f(3),h(4,"translate"),p()(),d(5,"span",48),f(6),h(7,"translate"),p()()),n&2&&(l(3),O(m(4,2,"auth.register.compressing")),l(3),O(m(7,4,"auth.register.compressing")))}function nX(n,t){if(n&1){let e=J();d(0,"div",37),b(1,"img",49),d(2,"button",50),R("click",function(){$(e);let o=x();return q(o.removeImage())}),b(3,"i",51),p()()}if(n&2){let e=x();l(),E("src",e.idImagePreview,Je)}}function iX(n,t){n&1&&(d(0,"span",15),f(1),h(2,"translate"),p()),n&2&&(l(),M(" ",m(2,1,"auth.register.idImageRequired")," "))}function oX(n,t){if(n&1&&(d(0,"div",10)(1,"div",11)(2,"div",52),b(3,"i",53),f(4),h(5,"translate"),p()()()),n&2){let e=x();l(4),M(" ",m(5,1,e.errorMessage)," ")}}function rX(n,t){if(n&1&&(d(0,"div",10)(1,"div",11)(2,"div",54),b(3,"i",55),f(4),h(5,"translate"),p()()()),n&2){let e=x();l(4),M(" ",m(5,1,e.successMessage)," ")}}function sX(n,t){n&1&&(b(0,"i",44),f(1),h(2,"translate")),n&2&&(l(),M(" ",m(2,1,"auth.register.loading")," "))}function aX(n,t){n&1&&(b(0,"i",56),f(1),h(2,"translate")),n&2&&(l(),M(" ",m(2,1,"auth.register.submit")," "))}function cX(n,t){n&1&&(b(0,"i",44),f(1),h(2,"translate")),n&2&&(l(),M(" ",m(2,1,"auth.register.googleLoading")," "))}function lX(n,t){n&1&&(b(0,"i",57),f(1),h(2,"translate")),n&2&&(l(),M(" ",m(2,1,"auth.register.registerWithGoogle")," "))}var W_=class n{constructor(t,e,i,o){this.fb=t;this.authService=e;this.organizationService=i;this.router=o}registerForm;isLoading=!1;isCompressingImage=!1;isGoogleLoading=!1;errorMessage="";successMessage="";idImagePreview=null;idImageBase64=null;showPassword=!1;showConfirmPassword=!1;togglePasswordVisibility(){this.showPassword=!this.showPassword}toggleConfirmPasswordVisibility(){this.showConfirmPassword=!this.showConfirmPassword}ngOnInit(){this.registerForm=this.fb.group({name:["",[te.required,te.minLength(3)]],email:["",[te.required,te.email]],phone:["",[te.required,te.pattern(/^[0-9+\-\s()]+$/)]],password:["",[te.required,te.minLength(6)]],confirmPassword:["",[te.required]],idImage:[null,[te.required]]},{validators:this.passwordMatchValidator})}passwordMatchValidator(t){let e=t.get("password"),i=t.get("confirmPassword");return e&&i&&e.value!==i.value?(i.setErrors({passwordMismatch:!0}),{passwordMismatch:!0}):null}compressAndResizeImage(t){return new Promise((e,i)=>{let o=new FileReader;o.onload=r=>{let s=new Image;s.onload=()=>{let c=s.width,u=s.height;c>600&&(u=u*600/c,c=600);let C=document.createElement("canvas");C.width=c,C.height=u;let v=C.getContext("2d");if(!v){i(new Error("Could not get canvas context"));return}v.drawImage(s,0,0,c,u);let w=C.toDataURL("image/jpeg",.45);e(w)},s.onerror=()=>{i(new Error("Failed to load image"))},s.src=r.target?.result},o.onerror=()=>{i(new Error("Failed to read file"))},o.readAsDataURL(t)})}onFileSelected(t){let i=t.target.files?.[0];if(i){if(!i.type.startsWith("image/")){this.errorMessage="auth.register.invalidImageType";return}if(i.size>5*1024*1024){this.errorMessage="auth.register.imageTooLarge";return}this.isCompressingImage=!0,this.errorMessage="",this.compressAndResizeImage(i).then(o=>{this.idImageBase64=o,this.idImagePreview=o,this.registerForm.patchValue({idImage:o}),this.isCompressingImage=!1,this.errorMessage=""}).catch(o=>{console.error("Error compressing image:",o),this.isCompressingImage=!1,this.errorMessage="auth.register.imageProcessingError"})}}removeImage(){this.idImagePreview=null,this.idImageBase64=null,this.registerForm.patchValue({idImage:null})}onSubmit(){if(this.registerForm.invalid){this.markFormGroupTouched(this.registerForm);return}let{name:t,email:e,phone:i,password:o}=this.registerForm.value;if(this.authService.isAdminEmail(e)){this.errorMessage="auth.register.adminEmailNotAllowed";return}if(!this.idImageBase64){this.errorMessage="auth.register.idImageRequired";return}this.isLoading=!0,this.errorMessage="",this.successMessage="",this.authService.register(e,o).pipe(be(r=>{let s=r.user;if(!s)throw new Error("User creation failed");return this.organizationService.createOrganizationRequest({name:t,phone:i,email:e,idImage:this.idImageBase64},s.uid).pipe(be(()=>Q(s)))}),ut(r=>{if(this.isLoading=!1,r.code)switch(r.code){case"auth/email-already-in-use":this.errorMessage="auth.register.emailExists";break;case"auth/invalid-email":this.errorMessage="auth.register.invalidEmail";break;case"auth/weak-password":this.errorMessage="auth.register.weakPassword";break;case"auth/admin-email-not-allowed":this.errorMessage="auth.register.adminEmailNotAllowed";break;case"PERMISSION_DENIED":this.errorMessage="auth.register.permissionDenied",console.error("Database permission denied. Check database rules.");break;default:this.errorMessage="auth.register.error"}else this.errorMessage="auth.register.createError";return console.error("Registration error:",r),Q(null)})).subscribe({next:r=>{r&&(this.isLoading=!1,this.router.navigate(["/profile-view"]))}})}markFormGroupTouched(t){Object.keys(t.controls).forEach(e=>{t.get(e)?.markAsTouched()})}get name(){return this.registerForm.get("name")}get email(){return this.registerForm.get("email")}get phone(){return this.registerForm.get("phone")}get password(){return this.registerForm.get("password")}get confirmPassword(){return this.registerForm.get("confirmPassword")}get idImage(){return this.registerForm.get("idImage")}registerByGmail(){this.isGoogleLoading=!0,this.errorMessage="",this.authService.registerByGmail().pipe(be(t=>{let e=t.user;if(!e)throw new Error("User creation failed");return this.organizationService.getOrganization(e.uid).pipe(be(i=>i?Q({user:e,orgExists:!0}):(console.log("user",e),this.organizationService.createOrganizationRequest({name:e.displayName||"",phone:e.phoneNumber||"",email:e.email||"",idImage:e.photoURL||""},e.uid).subscribe(),console.log("organization created"),Q({user:e,orgExists:!1}))))}),ut(t=>(this.isGoogleLoading=!1,t.code==="auth/admin-email-not-allowed"?this.errorMessage="auth.register.adminEmailNotAllowed":t.code==="auth/popup-closed-by-user"?this.errorMessage="":this.errorMessage="auth.register.googleError",console.error("Google registration error:",t),Q(null)))).subscribe({next:t=>{t&&(this.isGoogleLoading=!1,t.orgExists?this.router.navigate(["/profile-view"]):fL.default.fire({title:"Complete Registration",text:"Please complete your organization details",icon:"info",confirmButtonText:"OK"}).then(()=>{t.user.email&&this.registerForm.patchValue({email:t.user.email,name:t.user.displayName||""})}))}})}static \u0275fac=function(e){return new(e||n)(A(xn),A(Dt),A(wn),A(He))};static \u0275cmp=ce({type:n,selectors:[["app-register"]],decls:119,vars:99,consts:[[1,"register-container"],[1,"container"],[1,"register-header"],[1,"register-title"],[1,"register-subtitle"],[1,"register-form",3,"ngSubmit","formGroup"],[1,"form-section"],[1,"section-title"],[1,"fas","fa-building"],[1,"section-content"],[1,"row","g-3"],[1,"col-12"],[1,"form-group"],["for","name",1,"form-label"],["type","text","id","name","formControlName","name",1,"form-control",3,"placeholder"],[1,"error-message"],[1,"col-12","col-md-6"],["for","email",1,"form-label"],[1,"fas","fa-envelope"],["type","email","id","email","formControlName","email",1,"form-control",3,"placeholder"],["for","phone",1,"form-label"],[1,"fas","fa-phone"],["type","number","id","phone","formControlName","phone",1,"form-control",3,"placeholder"],[1,"fas","fa-shield-alt"],["for","password",1,"form-label"],[1,"fas","fa-lock"],[1,"password-input-wrapper"],["id","password","formControlName","password",1,"form-control",3,"type","placeholder"],["type","button",1,"password-toggle",3,"click"],["for","confirmPassword",1,"form-label"],["id","confirmPassword","formControlName","confirmPassword",1,"form-control",3,"type","placeholder"],[1,"fas","fa-id-card"],["for","idImage",1,"form-label"],[1,"file-upload-container"],["type","file","id","idImage","accept","image/*",1,"file-input",3,"change","disabled"],["for","idImage",1,"file-label"],[1,"compression-indicator"],[1,"image-preview"],["type","submit",1,"btn","btn-primary","btn-submit","w-100",3,"disabled"],[1,"row","g-3","mt-3"],[1,"divider"],["type","button",1,"btn","btn-google","w-100",3,"click","disabled"],[1,"register-footer"],["routerLink","/login",1,"link-login"],[1,"fas","fa-spinner","fa-spin"],[1,"fas","fa-upload"],["role","status",1,"spinner-border","spinner-border-sm","text-primary"],[1,"visually-hidden"],[1,"ms-2"],["alt","ID Image Preview",3,"src"],["type","button",1,"btn-remove-image",3,"click"],[1,"fas","fa-times"],[1,"alert","alert-error"],[1,"fas","fa-exclamation-circle"],[1,"alert","alert-success"],[1,"fas","fa-check-circle"],[1,"fas","fa-user-plus"],[1,"fab","fa-google"]],template:function(e,i){e&1&&(d(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3),f(4),h(5,"translate"),p(),d(6,"p",4),f(7),h(8,"translate"),p()(),d(9,"form",5),R("ngSubmit",function(){return i.onSubmit()}),d(10,"div",6)(11,"h3",7),b(12,"i",8),f(13),h(14,"translate"),p(),d(15,"div",9)(16,"div",10)(17,"div",11)(18,"div",12)(19,"label",13),b(20,"i",8),f(21),h(22,"translate"),p(),b(23,"input",14),h(24,"translate"),T(25,jJ,3,1,"span",15),p()(),d(26,"div",16)(27,"div",12)(28,"label",17),b(29,"i",18),f(30),h(31,"translate"),p(),b(32,"input",19),h(33,"translate"),T(34,$J,3,1,"span",15),p()(),d(35,"div",16)(36,"div",12)(37,"label",20),b(38,"i",21),f(39),h(40,"translate"),p(),b(41,"input",22),h(42,"translate"),T(43,WJ,3,1,"span",15),p()()()()(),d(44,"div",6)(45,"h3",7),b(46,"i",23),f(47),h(48,"translate"),p(),d(49,"div",9)(50,"div",10)(51,"div",16)(52,"div",12)(53,"label",24),b(54,"i",25),f(55),h(56,"translate"),p(),d(57,"div",26),b(58,"input",27),h(59,"translate"),d(60,"button",28),R("click",function(){return i.togglePasswordVisibility()}),b(61,"i"),p()(),T(62,KJ,3,1,"span",15),p()(),d(63,"div",16)(64,"div",12)(65,"label",29),b(66,"i",25),f(67),h(68,"translate"),p(),d(69,"div",26),b(70,"input",30),h(71,"translate"),d(72,"button",28),R("click",function(){return i.toggleConfirmPasswordVisibility()}),b(73,"i"),p()(),T(74,JJ,3,1,"span",15),p()()()()(),d(75,"div",6)(76,"h3",7),b(77,"i",31),f(78),h(79,"translate"),p(),d(80,"div",9)(81,"div",10)(82,"div",11)(83,"div",12)(84,"label",32),b(85,"i",31),f(86),h(87,"translate"),p(),d(88,"div",33)(89,"input",34),R("change",function(r){return i.onFileSelected(r)}),p(),d(90,"label",35),T(91,XJ,3,3)(92,eX,3,3),p()(),T(93,tX,8,6,"div",36),T(94,nX,4,1,"div",37),T(95,iX,3,3,"span",15),p()()()()(),T(96,oX,6,3,"div",10),T(97,rX,6,3,"div",10),d(98,"div",10)(99,"div",11)(100,"button",38),T(101,sX,3,3)(102,aX,3,3),p()()()(),d(103,"div",39)(104,"div",11)(105,"div",40)(106,"span"),f(107),h(108,"translate"),p()(),d(109,"button",41),R("click",function(){return i.registerByGmail()}),T(110,cX,3,3)(111,lX,3,3),p()()(),d(112,"div",42)(113,"p"),f(114),h(115,"translate"),d(116,"a",43),f(117),h(118,"translate"),p()()()()()),e&2&&(l(4),O(m(5,61,"auth.register.title")),l(3),O(m(8,63,"auth.register.subtitle")),l(2),E("formGroup",i.registerForm),l(4),M(" ",m(14,65,"auth.register.basicInfo")," "),l(8),M(" ",m(22,67,"auth.register.name")," "),l(2),V("invalid",(i.name==null?null:i.name.invalid)&&(i.name==null?null:i.name.touched)),E("placeholder",ci(m(24,69,"auth.register.namePlaceholder"))),l(2),D(i.name!=null&&i.name.invalid&&(i.name!=null&&i.name.touched)?25:-1),l(5),M(" ",m(31,71,"auth.register.email")," "),l(2),V("invalid",(i.email==null?null:i.email.invalid)&&(i.email==null?null:i.email.touched)),E("placeholder",ci(m(33,73,"auth.register.emailPlaceholder"))),l(2),D(i.email!=null&&i.email.invalid&&(i.email!=null&&i.email.touched)?34:-1),l(5),M(" ",m(40,75,"auth.register.phone")," "),l(2),V("invalid",(i.phone==null?null:i.phone.invalid)&&(i.phone==null?null:i.phone.touched)),E("placeholder",ci(m(42,77,"auth.register.phonePlaceholder"))),l(2),D(i.phone!=null&&i.phone.invalid&&(i.phone!=null&&i.phone.touched)?43:-1),l(4),M(" ",m(48,79,"auth.register.accountSecurity")," "),l(8),M(" ",m(56,81,"auth.register.password")," "),l(3),V("invalid",(i.password==null?null:i.password.invalid)&&(i.password==null?null:i.password.touched)),E("placeholder",ci(m(59,83,"auth.register.passwordPlaceholder")))("type",i.showPassword?"text":"password"),l(2),pt("aria-label",i.showPassword?"Hide password":"Show password"),l(),si(i.showPassword?"fa-solid fa-eye-slash":"fa-solid fa-eye"),l(),D(i.password!=null&&i.password.invalid&&(i.password!=null&&i.password.touched)?62:-1),l(5),M(" ",m(68,85,"auth.register.confirmPassword")," "),l(3),V("invalid",(i.confirmPassword==null?null:i.confirmPassword.invalid)&&(i.confirmPassword==null?null:i.confirmPassword.touched)),E("placeholder",ci(m(71,87,"auth.register.confirmPasswordPlaceholder")))("type",i.showConfirmPassword?"text":"password"),l(2),pt("aria-label",i.showConfirmPassword?"Hide password":"Show password"),l(),si(i.showConfirmPassword?"fa-solid fa-eye-slash":"fa-solid fa-eye"),l(),D(i.confirmPassword!=null&&i.confirmPassword.invalid&&(i.confirmPassword!=null&&i.confirmPassword.touched)?74:-1),l(4),M(" ",m(79,89,"auth.register.verification")," "),l(8),M(" ",m(87,91,"auth.register.idImage")," "),l(3),E("disabled",i.isCompressingImage),l(),V("disabled",i.isCompressingImage),l(),D(i.isCompressingImage?91:92),l(2),D(i.isCompressingImage?93:-1),l(),D(i.idImagePreview&&!i.isCompressingImage?94:-1),l(),D(i.idImage!=null&&i.idImage.invalid&&(i.idImage!=null&&i.idImage.touched)?95:-1),l(),D(i.errorMessage?96:-1),l(),D(i.successMessage?97:-1),l(3),E("disabled",i.isLoading||i.isGoogleLoading||i.registerForm.invalid),l(),D(i.isLoading?101:102),l(6),O(m(108,93,"auth.register.or")),l(2),E("disabled",i.isLoading||i.isGoogleLoading),l(),D(i.isGoogleLoading?110:111),l(4),M(" ",m(115,95,"auth.register.haveAccount")," "),l(3),M(" ",m(118,97,"auth.register.login")," "))},dependencies:[pe,an,sn,ht,no,bt,rn,Wt,Zt,Ne,Ue,fe,_e],styles:['.register-container[_ngcontent-%COMP%]{min-height:100vh;padding:64px 0;background:linear-gradient(135deg,#f3f1ec,#f6f7f9)}.register-container[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{padding:32px 16px}.register-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:64px;padding-top:32px}.register-header[_ngcontent-%COMP%]   .register-title[_ngcontent-%COMP%]{font-size:2.5rem;font-weight:700;color:#0e3a5d;margin-bottom:8px;font-family:Cairo,sans-serif}.register-header[_ngcontent-%COMP%]   .register-subtitle[_ngcontent-%COMP%]{font-size:1rem;color:#0f172ab3;margin:0}.register-form[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]{margin-bottom:64px;background:#f6f7f94d;border-radius:8px;padding:32px;border:1px solid rgba(14,58,93,.1)}.register-form[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]:last-of-type{margin-bottom:32px}.register-form[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{font-size:1.2rem;font-weight:600;color:#0e3a5d;margin-bottom:32px;padding-bottom:8px;border-bottom:2px solid rgba(201,162,77,.2);display:flex;align-items:center;gap:8px;font-family:Cairo,sans-serif}.register-form[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#c9a24d;font-size:1rem}.register-form[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]   .section-subtitle[_ngcontent-%COMP%]{font-size:.85rem;font-weight:400;color:#0f172a80;margin-left:auto}.register-form[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .section-content[_ngcontent-%COMP%]   .row.g-3[_ngcontent-%COMP%]{margin-left:0;margin-right:0}.register-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:0}.register-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-label[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;font-weight:500;color:#0f172a;margin-bottom:8px;font-size:.9rem}.register-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-label[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#0e3a5d;font-size:.85rem}.register-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-label[_ngcontent-%COMP%]   .optional[_ngcontent-%COMP%]{color:#0f172a80;font-weight:400;font-size:.85rem}.register-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .password-input-wrapper[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center}.register-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{width:100%;padding:16px 45px 16px 16px;border:2px solid rgba(14,58,93,.2);border-radius:8px;font-size:1rem;font-family:Cairo,sans-serif;transition:all .3s ease;background:#fff;color:#0f172a}.register-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:focus{outline:none;border-color:#c9a24d;box-shadow:0 0 0 3px #c9a24d1a}.register-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-control.invalid[_ngcontent-%COMP%]{border-color:#dc2626}.register-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]::placeholder{color:#0f172a66}.register-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .password-toggle[_ngcontent-%COMP%]{position:absolute;right:16px;background:transparent;border:none;color:#0f172a80;cursor:pointer;padding:4px;display:flex;align-items:center;justify-content:center;transition:all .3s ease;z-index:1}.register-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .password-toggle[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1rem}.register-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .password-toggle[_ngcontent-%COMP%]:hover{color:#c9a24d}.register-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .password-toggle[_ngcontent-%COMP%]:focus{outline:2px solid #C9A24D;outline-offset:2px;border-radius:4px}.register-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-textarea[_ngcontent-%COMP%]{resize:vertical;min-height:80px}.register-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]{display:block;color:#dc2626;font-size:.85rem;margin-top:4px;font-weight:500}.register-form[_ngcontent-%COMP%]   .file-upload-container[_ngcontent-%COMP%]{position:relative}.register-form[_ngcontent-%COMP%]   .file-upload-container[_ngcontent-%COMP%]   .file-input[_ngcontent-%COMP%]{position:absolute;opacity:0;width:0;height:0}.register-form[_ngcontent-%COMP%]   .file-upload-container[_ngcontent-%COMP%]   .file-label[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:8px;padding:16px;border:2px dashed rgba(14,58,93,.3);border-radius:8px;background:#f6f7f980;cursor:pointer;transition:all .3s ease;color:#0e3a5d;font-weight:500}.register-form[_ngcontent-%COMP%]   .file-upload-container[_ngcontent-%COMP%]   .file-label[_ngcontent-%COMP%]:hover{border-color:#c9a24d;background:#c9a24d1a;color:#c9a24d}.register-form[_ngcontent-%COMP%]   .file-upload-container[_ngcontent-%COMP%]   .file-label[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.1rem}.register-form[_ngcontent-%COMP%]   .file-upload-container[_ngcontent-%COMP%]   .file-label.disabled[_ngcontent-%COMP%]{opacity:.6;cursor:not-allowed}.register-form[_ngcontent-%COMP%]   .compression-indicator[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;padding:16px;margin-top:8px;background:#c9a24d1a;border-radius:8px;color:#c9a24d;font-size:.9rem;font-weight:500;font-family:Cairo,sans-serif}.register-form[_ngcontent-%COMP%]   .compression-indicator[_ngcontent-%COMP%]   .spinner-border-sm[_ngcontent-%COMP%]{width:1rem;height:1rem;border-width:.15rem}.register-form[_ngcontent-%COMP%]   .image-preview[_ngcontent-%COMP%]{position:relative;margin-top:16px;border-radius:8px;overflow:hidden;border:2px solid rgba(14,58,93,.2);max-width:300px}.register-form[_ngcontent-%COMP%]   .image-preview[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto;display:block}.register-form[_ngcontent-%COMP%]   .image-preview[_ngcontent-%COMP%]   .btn-remove-image[_ngcontent-%COMP%]{position:absolute;top:8px;right:8px;background:#dc2626;color:#fff;border:none;border-radius:50%;width:30px;height:30px;display:flex;align-items:center;justify-content:center;cursor:pointer;transition:all .3s ease;box-shadow:0 4px 8px #00000026}.register-form[_ngcontent-%COMP%]   .image-preview[_ngcontent-%COMP%]   .btn-remove-image[_ngcontent-%COMP%]:hover{background:#b21d1d;transform:scale(1.1)}.register-form[_ngcontent-%COMP%]   .alert[_ngcontent-%COMP%]{padding:16px;border-radius:8px;margin-bottom:32px;display:flex;align-items:center;gap:8px;font-size:.9rem}.register-form[_ngcontent-%COMP%]   .alert.alert-error[_ngcontent-%COMP%]{background:#dc26261a;color:#dc2626;border:1px solid rgba(220,38,38,.3)}.register-form[_ngcontent-%COMP%]   .alert.alert-success[_ngcontent-%COMP%]{background:#16a34a1a;color:#16a34a;border:1px solid rgba(22,163,74,.3)}.register-form[_ngcontent-%COMP%]   .alert[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1rem}.register-form[_ngcontent-%COMP%]   .btn-submit[_ngcontent-%COMP%]{padding:16px;font-size:1rem;font-weight:600;border-radius:8px;border:none;cursor:pointer;transition:all .3s ease;display:flex;align-items:center;justify-content:center;gap:8px;font-family:Cairo,sans-serif;background:#c9a24d;color:#fff}.register-form[_ngcontent-%COMP%]   .btn-submit[_ngcontent-%COMP%]:hover:not(:disabled){background:#a8832f;transform:translateY(-2px);box-shadow:0 4px 8px #00000026}.register-form[_ngcontent-%COMP%]   .btn-submit[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.register-footer[_ngcontent-%COMP%]{margin-top:64px;text-align:center;padding-top:32px;border-top:1px solid rgba(14,58,93,.1)}.register-footer[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#0f172ab3;font-size:.9rem;margin:0}.register-footer[_ngcontent-%COMP%]   .link-login[_ngcontent-%COMP%]{color:#c9a24d;font-weight:600;text-decoration:none;transition:all .3s ease}.register-footer[_ngcontent-%COMP%]   .link-login[_ngcontent-%COMP%]:hover{color:#a8832f;text-decoration:underline}.divider[_ngcontent-%COMP%]{display:flex;align-items:center;text-align:center;margin:32px 0;color:#0f172a80;font-size:.9rem}.divider[_ngcontent-%COMP%]:before, .divider[_ngcontent-%COMP%]:after{content:"";flex:1;border-bottom:1px solid rgba(14,58,93,.2)}.divider[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding:0 16px}.btn-google[_ngcontent-%COMP%]{background:#fff;color:#0f172a;border:2px solid rgba(14,58,93,.2);padding:16px 32px;font-weight:600;border-radius:8px;transition:all .3s ease;display:flex;align-items:center;justify-content:center;gap:8px;width:100%}.btn-google[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.2rem;color:#4285f4}.btn-google[_ngcontent-%COMP%]:hover:not(:disabled){background:#0e3a5d0d;border-color:#0e3a5d4d;transform:translateY(-2px);box-shadow:0 1px 2px #0000001a}.btn-google[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}@media (max-width: 991.98px){.register-container[_ngcontent-%COMP%]{padding:32px 0}}@media (max-width: 767.98px){.register-header[_ngcontent-%COMP%]   .register-title[_ngcontent-%COMP%]{font-size:2rem}.register-form[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]{padding:16px}}@media (max-width: 575.98px){.register-header[_ngcontent-%COMP%]{padding-top:16px}.register-header[_ngcontent-%COMP%]   .register-title[_ngcontent-%COMP%]{font-size:1.5rem}.register-form[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]{padding:8px}.register-form[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{font-size:1rem}}']})};function dX(n,t){n&1&&(d(0,"div",2)(1,"div",5)(2,"span",6),f(3),h(4,"translate"),p()(),d(5,"p",7),f(6),h(7,"translate"),p()()),n&2&&(l(3),O(m(4,2,"auth.profile.loading")),l(3),O(m(7,4,"auth.profile.loading")))}function uX(n,t){if(n&1&&(d(0,"div",3)(1,"div",8),b(2,"i",9),f(3),h(4,"translate"),p()()),n&2){let e=x();l(3),M(" ",m(4,1,e.errorMessage)," ")}}function pX(n,t){if(n&1&&(b(0,"img",39),h(1,"translate")),n&2){let e=x(2);E("src",e.organization.idImage,Je)("alt",m(1,2,"auth.profile.idImage"))}}function fX(n,t){n&1&&(d(0,"div",40),b(1,"i",41),d(2,"p"),f(3),h(4,"translate"),p()()),n&2&&(l(3),O(m(4,1,"auth.profile.noImage")))}function gX(n,t){if(n&1&&(d(0,"div",4)(1,"div",10)(2,"div",11)(3,"div",12)(4,"h1",13),b(5,"i",14),f(6),p(),d(7,"p",15),f(8),h(9,"translate"),p()(),d(10,"div",16)(11,"div",17)(12,"span",18),b(13,"i",19),f(14),h(15,"translate"),p(),d(16,"button",20),b(17,"i",21),f(18),h(19,"translate"),p()()()()(),d(20,"div",22)(21,"div",23)(22,"div",24)(23,"h3",25),b(24,"i",26),f(25),h(26,"translate"),p(),d(27,"div",27)(28,"div",28)(29,"div",12)(30,"div",29)(31,"label",30),b(32,"i",31),f(33),h(34,"translate"),p(),d(35,"p",32),f(36),p()()(),d(37,"div",12)(38,"div",29)(39,"label",30),b(40,"i",33),f(41),h(42,"translate"),p(),d(43,"p",32),f(44),p()()()()()(),d(45,"div",24)(46,"h3",25),b(47,"i",34),f(48),h(49,"translate"),p(),d(50,"div",27)(51,"div",28)(52,"div",12)(53,"div",29)(54,"label",30),b(55,"i",35),f(56),h(57,"translate"),p(),d(58,"p",32),f(59),p()()()()()()(),d(60,"div",36)(61,"div",24)(62,"h3",25),b(63,"i",37),f(64),h(65,"translate"),p(),d(66,"div",27)(67,"div",38),T(68,pX,2,4,"img",39)(69,fX,5,3,"div",40),p()()()()()()),n&2){let e=x();l(6),M(" ",e.organization.name," "),l(2),O(m(9,21,"auth.profile.organizationProfile")),l(4),E("ngClass",e.getStatusClass(e.organization.status)),l(),V("fa-check-circle",e.organization.status==="approved")("fa-clock",e.organization.status==="pending")("fa-times-circle",e.organization.status==="rejected"),l(),M(" ",m(15,23,e.getStatusKey(e.organization.status))," "),l(4),M(" ",m(19,25,"auth.profile.edit.title")," "),l(7),M(" ",m(26,27,"auth.profile.basicInfo")," "),l(8),M(" ",m(34,29,"auth.profile.email")," "),l(3),O(e.organization.email),l(5),M(" ",m(42,31,"auth.profile.phone")," "),l(3),O(e.organization.phone),l(4),M(" ",m(49,33,"auth.profile.systemInfo")," "),l(8),M(" ",m(57,35,"auth.profile.registrationDate")," "),l(3),O(e.formatDate(e.organization.createdAt)),l(5),M(" ",m(65,37,"auth.profile.verificationDocument")," "),l(4),D(e.organization.idImage?68:69)}}var G_=class n{constructor(t,e){this.organizationService=t;this.authService=e}organization=null;isLoading=!0;errorMessage="";currentUserEmail="";destroy$=new me;ngOnInit(){let t=this.authService.getCurrentUserId();this.organizationService.getOrganization(t||"").pipe(ne(this.destroy$)).subscribe({next:e=>{this.organization=e,this.isLoading=!1,e||(this.errorMessage="auth.profile.organizationNotFound")},error:e=>{console.error("Error loading organization:",e),this.errorMessage="auth.profile.loadError",this.isLoading=!1}})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}getStatusClass(t){switch(t){case"approved":return"badge-success";case"pending":return"badge-warning";case"rejected":return"badge-error";default:return"badge-secondary"}}getStatusKey(t){return`auth.profile.status.${t}`}formatDate(t){return t?new Date(t).toLocaleDateString("ar-EG",{year:"numeric",month:"long",day:"numeric"}):""}static \u0275fac=function(e){return new(e||n)(A(wn),A(Dt))};static \u0275cmp=ce({type:n,selectors:[["app-profile-view"]],decls:5,vars:3,consts:[[1,"profile-container"],[1,"container"],[1,"loading-state"],[1,"error-state"],[1,"profile-content"],["role","status",1,"spinner-border","text-primary"],[1,"visually-hidden"],[1,"mt-3"],[1,"alert","alert-error"],[1,"fas","fa-exclamation-circle"],[1,"profile-header"],[1,"row","align-items-center"],[1,"col-12","col-md-6"],[1,"profile-title"],[1,"fas","fa-building"],[1,"profile-subtitle"],[1,"col-12","col-md-6","text-md-end"],[1,"header-actions"],[1,"status-badge",3,"ngClass"],[1,"fas"],["type","button","routerLink","/profile-edit",1,"btn","btn-edit"],[1,"fas","fa-edit"],[1,"row","g-4"],[1,"col-12","col-lg-8"],[1,"profile-card"],[1,"card-title"],[1,"fas","fa-info-circle"],[1,"card-content"],[1,"row","g-3"],[1,"info-item"],[1,"info-label"],[1,"fas","fa-envelope"],[1,"info-value"],[1,"fas","fa-phone"],[1,"fas","fa-cog"],[1,"fas","fa-calendar"],[1,"col-12","col-lg-4"],[1,"fas","fa-id-card"],[1,"id-image-container"],[1,"id-image",3,"src","alt"],[1,"no-image"],[1,"fas","fa-image"]],template:function(e,i){e&1&&(d(0,"div",0)(1,"div",1),T(2,dX,8,6,"div",2),T(3,uX,5,3,"div",3),T(4,gX,70,39,"div",4),p()()),e&2&&(l(2),D(i.isLoading?2:-1),l(),D(!i.isLoading&&i.errorMessage&&!i.organization?3:-1),l(),D(!i.isLoading&&i.organization?4:-1))},dependencies:[pe,gn,Ne,Ue,fe,_e],styles:['.profile-container[_ngcontent-%COMP%]{min-height:100vh;padding:64px 0;background:linear-gradient(135deg,#f3f1ec,#f6f7f9)}.profile-container[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{padding:32px 16px}.loading-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;min-height:400px;text-align:center}.loading-state[_ngcontent-%COMP%]   .spinner-border[_ngcontent-%COMP%]{width:3rem;height:3rem;border-width:.3rem}.loading-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#0f172ab3;font-size:1rem;margin:0}.error-state[_ngcontent-%COMP%]{margin-top:64px}.error-state[_ngcontent-%COMP%]   .alert-error[_ngcontent-%COMP%]{padding:32px;border-radius:8px;background:#dc26261a;color:#dc2626;border:1px solid rgba(220,38,38,.3);display:flex;align-items:center;gap:8px;font-size:1rem}.error-state[_ngcontent-%COMP%]   .alert-error[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.2rem}.profile-content[_ngcontent-%COMP%]{margin-top:32px}.profile-header[_ngcontent-%COMP%]{margin-bottom:64px;padding-bottom:32px;border-bottom:2px solid rgba(14,58,93,.1)}.profile-header[_ngcontent-%COMP%]   .profile-title[_ngcontent-%COMP%]{font-size:2.5rem;font-weight:700;color:#0e3a5d;margin-bottom:8px;font-family:Cairo,sans-serif;display:flex;align-items:center;gap:16px}.profile-header[_ngcontent-%COMP%]   .profile-title[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#c9a24d;font-size:2rem}.profile-header[_ngcontent-%COMP%]   .profile-subtitle[_ngcontent-%COMP%]{font-size:1rem;color:#0f172a99;margin:0}.profile-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]{display:flex;align-items:center;gap:16px;flex-wrap:wrap;justify-content:flex-end}@media (max-width: 767.98px){.profile-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]{margin-top:16px;justify-content:flex-start}}.profile-header[_ngcontent-%COMP%]   .status-badge[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:8px;padding:8px 16px;border-radius:8px;font-weight:600;font-size:.9rem;font-family:Cairo,sans-serif}.profile-header[_ngcontent-%COMP%]   .status-badge.badge-success[_ngcontent-%COMP%]{background:#16a34a1a;color:#16a34a;border:1px solid rgba(22,163,74,.3)}.profile-header[_ngcontent-%COMP%]   .status-badge.badge-warning[_ngcontent-%COMP%]{background:#d977061a;color:#d97706;border:1px solid rgba(217,119,6,.3)}.profile-header[_ngcontent-%COMP%]   .status-badge.badge-error[_ngcontent-%COMP%]{background:#dc26261a;color:#dc2626;border:1px solid rgba(220,38,38,.3)}.profile-header[_ngcontent-%COMP%]   .status-badge[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1rem}.profile-header[_ngcontent-%COMP%]   .btn-edit[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:8px;padding:8px 16px;background:#c9a24d;color:#fff;border:none;border-radius:8px;font-weight:600;font-size:.9rem;font-family:Cairo,sans-serif;cursor:pointer;transition:all .3s ease;text-decoration:none}.profile-header[_ngcontent-%COMP%]   .btn-edit[_ngcontent-%COMP%]:hover{background:#a8832f;transform:translateY(-2px);box-shadow:0 4px 8px #00000026}.profile-header[_ngcontent-%COMP%]   .btn-edit[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.9rem}.profile-card[_ngcontent-%COMP%]{background:#fff;border-radius:16px;padding:32px;margin-bottom:32px;box-shadow:0 4px 8px #00000026;border:1px solid rgba(14,58,93,.1)}.profile-card[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{font-size:1.3rem;font-weight:600;color:#0e3a5d;margin-bottom:32px;padding-bottom:16px;border-bottom:2px solid rgba(201,162,77,.2);display:flex;align-items:center;gap:8px;font-family:Cairo,sans-serif}.profile-card[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#c9a24d;font-size:1.1rem}.profile-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]{margin-bottom:16px}.profile-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]:last-child{margin-bottom:0}.profile-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]   .info-label[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;font-weight:600;color:#0f172a;margin-bottom:4px;font-size:.9rem;font-family:Cairo,sans-serif}.profile-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]   .info-label[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#0e3a5d;font-size:.85rem;width:16px}.profile-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]   .info-value[_ngcontent-%COMP%]{color:#0f172acc;font-size:1rem;margin:0;padding-left:24px;word-break:break-word}.profile-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]   .info-value[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#c9a24d;text-decoration:none;transition:all .3s ease}.profile-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]   .info-value[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#a8832f;text-decoration:underline}.profile-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]   .info-value.text-muted[_ngcontent-%COMP%]{color:#0f172a80;font-size:.85rem}.id-image-container[_ngcontent-%COMP%]{width:100%;border-radius:8px;overflow:hidden;border:2px solid rgba(14,58,93,.1);background:#f6f7f9;transition:all .3s ease}.id-image-container[_ngcontent-%COMP%]:hover{border-color:#c9a24d;box-shadow:0 4px 8px #00000026}.id-image-container[_ngcontent-%COMP%]   .id-image[_ngcontent-%COMP%]{width:100%;height:auto;display:block;object-fit:contain;min-height:200px;max-height:400px;transition:transform .3s ease}.id-image-container[_ngcontent-%COMP%]   .id-image[_ngcontent-%COMP%]:hover{transform:scale(1.02)}.id-image-container[_ngcontent-%COMP%]   .no-image[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:64px;color:#0f172a66;min-height:200px}.id-image-container[_ngcontent-%COMP%]   .no-image[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:3rem;margin-bottom:16px}.id-image-container[_ngcontent-%COMP%]   .no-image[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:.9rem}.transfer-receipt-container[_ngcontent-%COMP%]{width:100%;border-radius:8px;overflow:hidden;border:2px solid rgba(201,162,77,.2);background:linear-gradient(135deg,#c9a24d0d,#f6f7f9);transition:all .3s ease;position:relative}.transfer-receipt-container[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:0;background:linear-gradient(135deg,rgba(201,162,77,.03) 0%,transparent 100%);pointer-events:none}.transfer-receipt-container[_ngcontent-%COMP%]:hover{border-color:#c9a24d;box-shadow:0 8px 16px #0003;transform:translateY(-2px)}.transfer-receipt-container[_ngcontent-%COMP%]   .transfer-receipt-image[_ngcontent-%COMP%]{width:100%;height:auto;display:block;object-fit:contain;min-height:200px;max-height:400px;transition:transform .3s ease;position:relative;z-index:1}.transfer-receipt-container[_ngcontent-%COMP%]   .transfer-receipt-image[_ngcontent-%COMP%]:hover{transform:scale(1.03)}@media (max-width: 991.98px){.profile-container[_ngcontent-%COMP%]{padding:32px 0}.profile-header[_ngcontent-%COMP%]   .profile-title[_ngcontent-%COMP%]{font-size:2rem}.profile-header[_ngcontent-%COMP%]   .status-badge[_ngcontent-%COMP%]{margin-top:16px}}@media (max-width: 767.98px){.profile-header[_ngcontent-%COMP%]   .profile-title[_ngcontent-%COMP%], .profile-header[_ngcontent-%COMP%]   .profile-title[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.5rem}.profile-card[_ngcontent-%COMP%]{padding:16px}.profile-card[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{font-size:1.1rem}}']})};var Pf=Un(jn());function hX(n,t){n&1&&(d(0,"div",2)(1,"div",5)(2,"span",6),f(3),h(4,"translate"),p()(),d(5,"p",7),f(6),h(7,"translate"),p()()),n&2&&(l(3),O(m(4,2,"auth.profile.loading")),l(3),O(m(7,4,"auth.profile.loading")))}function mX(n,t){if(n&1&&(d(0,"div",3)(1,"div",8),b(2,"i",9),f(3),h(4,"translate"),p()()),n&2){let e=x();l(3),M(" ",m(4,1,e.errorMessage)," ")}}function _X(n,t){n&1&&(f(0),h(1,"translate")),n&2&&M(" ",m(1,1,"auth.register.nameRequired")," ")}function CX(n,t){n&1&&(f(0),h(1,"translate")),n&2&&M(" ",m(1,1,"auth.register.nameMinLength")," ")}function vX(n,t){if(n&1&&(d(0,"span",34),T(1,_X,2,3)(2,CX,2,3),p()),n&2){let e=x(2);l(),D(!(e.name==null||e.name.errors==null)&&e.name.errors.required?1:!(e.name==null||e.name.errors==null)&&e.name.errors.minlength?2:-1)}}function bX(n,t){n&1&&(f(0),h(1,"translate")),n&2&&M(" ",m(1,1,"auth.register.emailRequired")," ")}function yX(n,t){n&1&&(f(0),h(1,"translate")),n&2&&M(" ",m(1,1,"auth.register.emailInvalid")," ")}function MX(n,t){if(n&1&&(d(0,"span",34),T(1,bX,2,3)(2,yX,2,3),p()),n&2){let e=x(2);l(),D(!(e.email==null||e.email.errors==null)&&e.email.errors.required?1:!(e.email==null||e.email.errors==null)&&e.email.errors.email?2:-1)}}function PX(n,t){n&1&&(f(0),h(1,"translate")),n&2&&M(" ",m(1,1,"auth.register.phoneRequired")," ")}function OX(n,t){n&1&&(f(0),h(1,"translate")),n&2&&M(" ",m(1,1,"auth.register.phoneInvalid")," ")}function wX(n,t){if(n&1&&(d(0,"span",34),T(1,PX,2,3)(2,OX,2,3),p()),n&2){let e=x(2);l(),D(!(e.phone==null||e.phone.errors==null)&&e.phone.errors.required?1:!(e.phone==null||e.phone.errors==null)&&e.phone.errors.pattern?2:-1)}}function xX(n,t){n&1&&(b(0,"i",55),f(1),h(2,"translate")),n&2&&(l(),M(" ",m(2,1,"auth.profile.edit.compressing")," "))}function EX(n,t){n&1&&(b(0,"i",56),f(1),h(2,"translate")),n&2&&(l(),M(" ",m(2,1,"auth.profile.edit.changeImage")," "))}function IX(n,t){n&1&&(d(0,"div",48)(1,"div",57)(2,"span",6),f(3),h(4,"translate"),p()(),d(5,"span",58),f(6),h(7,"translate"),p()()),n&2&&(l(3),O(m(4,2,"auth.profile.edit.compressing")),l(3),O(m(7,4,"auth.profile.edit.compressing")))}function SX(n,t){if(n&1){let e=J();d(0,"div",49),b(1,"img",59),d(2,"button",60),R("click",function(){$(e);let o=x(2);return q(o.removeImage())}),b(3,"i",18),p()()}if(n&2){let e=x(2);l(),E("src",e.idImagePreview,Je)}}function TX(n,t){n&1&&(d(0,"span",34),f(1),h(2,"translate"),p()),n&2&&(l(),M(" ",m(2,1,"auth.register.idImageRequired")," "))}function DX(n,t){if(n&1&&(d(0,"div",8),b(1,"i",9),f(2),h(3,"translate"),p()),n&2){let e=x(2);l(2),M(" ",m(3,1,e.errorMessage)," ")}}function kX(n,t){if(n&1&&(d(0,"div",50),b(1,"i",61),f(2),h(3,"translate"),p()),n&2){let e=x(2);l(2),M(" ",m(3,1,e.successMessage)," ")}}function AX(n,t){n&1&&(b(0,"i",55),f(1),h(2,"translate")),n&2&&(l(),M(" ",m(2,1,"auth.profile.edit.saving")," "))}function RX(n,t){n&1&&(b(0,"i",62),f(1),h(2,"translate")),n&2&&(l(),M(" ",m(2,1,"auth.profile.edit.save")," "))}function NX(n,t){if(n&1){let e=J();d(0,"div",4)(1,"div",10)(2,"div",11)(3,"div",12)(4,"h1",13),b(5,"i",14),f(6),h(7,"translate"),p(),d(8,"p",15),f(9),h(10,"translate"),p()(),d(11,"div",16)(12,"button",17),R("click",function(){$(e);let o=x();return q(o.onCancel())}),b(13,"i",18),f(14),h(15,"translate"),p()()()(),d(16,"div",19),b(17,"i",20),f(18),h(19,"translate"),p(),d(20,"form",21),R("ngSubmit",function(){$(e);let o=x();return q(o.onSubmit())}),d(21,"div",22)(22,"div",23)(23,"div",24)(24,"h3",25),b(25,"i",26),f(26),h(27,"translate"),p(),d(28,"div",27)(29,"div",28)(30,"div",29)(31,"div",30)(32,"label",31),b(33,"i",32),f(34),h(35,"translate"),p(),b(36,"input",33),h(37,"translate"),T(38,vX,3,1,"span",34),p()(),d(39,"div",35)(40,"div",30)(41,"label",36),b(42,"i",37),f(43),h(44,"translate"),p(),b(45,"input",38),h(46,"translate"),T(47,MX,3,1,"span",34),p()(),d(48,"div",35)(49,"div",30)(50,"label",39),b(51,"i",40),f(52),h(53,"translate"),p(),b(54,"input",41),h(55,"translate"),T(56,wX,3,1,"span",34),p()()()()()(),d(57,"div",42)(58,"div",24)(59,"h3",25),b(60,"i",43),f(61),h(62,"translate"),p(),d(63,"div",27)(64,"div",30)(65,"label",44),b(66,"i",43),f(67),h(68,"translate"),p(),d(69,"div",45)(70,"input",46),R("change",function(o){$(e);let r=x();return q(r.onFileSelected(o))}),p(),d(71,"label",47),T(72,xX,3,3)(73,EX,3,3),p()(),T(74,IX,8,6,"div",48),T(75,SX,4,1,"div",49),T(76,TX,3,3,"span",34),p()()()()(),T(77,DX,4,3,"div",8),T(78,kX,4,3,"div",50),d(79,"div",51)(80,"div",52)(81,"div",35)(82,"button",53),R("click",function(){$(e);let o=x();return q(o.onCancel())}),b(83,"i",18),f(84),h(85,"translate"),p()(),d(86,"div",35)(87,"button",54),T(88,AX,3,3)(89,RX,3,3),p()()()()()()}if(n&2){let e=x();l(6),M(" ",m(7,39,"auth.profile.edit.title")," "),l(3),O(m(10,41,"auth.profile.edit.subtitle")),l(5),M(" ",m(15,43,"auth.profile.edit.cancel")," "),l(4),M(" ",m(19,45,"auth.profile.edit.warning")," "),l(2),E("formGroup",e.editForm),l(6),M(" ",m(27,47,"auth.register.basicInfo")," "),l(8),M(" ",m(35,49,"auth.register.name")," "),l(2),V("invalid",(e.name==null?null:e.name.invalid)&&(e.name==null?null:e.name.touched)),E("placeholder",ci(m(37,51,"auth.register.namePlaceholder"))),l(2),D(e.name!=null&&e.name.invalid&&(e.name!=null&&e.name.touched)?38:-1),l(5),M(" ",m(44,53,"auth.register.email")," "),l(2),V("invalid",(e.email==null?null:e.email.invalid)&&(e.email==null?null:e.email.touched)),E("placeholder",ci(m(46,55,"auth.register.emailPlaceholder"))),l(2),D(e.email!=null&&e.email.invalid&&(e.email!=null&&e.email.touched)?47:-1),l(5),M(" ",m(53,57,"auth.register.phone")," "),l(2),V("invalid",(e.phone==null?null:e.phone.invalid)&&(e.phone==null?null:e.phone.touched)),E("placeholder",ci(m(55,59,"auth.register.phonePlaceholder"))),l(2),D(e.phone!=null&&e.phone.invalid&&(e.phone!=null&&e.phone.touched)?56:-1),l(5),M(" ",m(62,61,"auth.register.verification")," "),l(6),M(" ",m(68,63,"auth.register.idImage")," "),l(3),E("disabled",e.isCompressingImage),l(),V("disabled",e.isCompressingImage),l(),D(e.isCompressingImage?72:73),l(2),D(e.isCompressingImage?74:-1),l(),D(e.idImagePreview&&!e.isCompressingImage?75:-1),l(),D(e.idImage!=null&&e.idImage.invalid&&(e.idImage!=null&&e.idImage.touched)?76:-1),l(),D(e.errorMessage?77:-1),l(),D(e.successMessage?78:-1),l(4),E("disabled",e.isSaving),l(2),M(" ",m(85,65,"auth.profile.edit.cancel")," "),l(3),E("disabled",e.isSaving||e.editForm.invalid),l(),D(e.isSaving?88:89)}}var Q_=class n{constructor(t,e,i,o){this.fb=t;this.organizationService=e;this.authService=i;this.router=o}editForm;organization=null;isLoading=!1;isSaving=!1;isCompressingImage=!1;errorMessage="";successMessage="";idImagePreview=null;idImageBase64=null;destroy$=new me;ngOnInit(){let t=this.authService.getCurrentUserId();if(!t){this.errorMessage="auth.profile.notAuthenticated";return}this.isLoading=!0,this.organizationService.getOrganization(t||"").pipe(ne(this.destroy$)).subscribe({next:e=>{this.organization=e,e?(this.initializeForm(e),this.idImagePreview=e.idImage,this.idImageBase64=e.idImage):this.errorMessage="auth.profile.organizationNotFound",this.isLoading=!1},error:e=>{console.error("Error loading organization:",e),this.errorMessage="auth.profile.loadError",this.isLoading=!1}})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}initializeForm(t){this.editForm=this.fb.group({name:[t.name,[te.required,te.minLength(3)]],email:[{value:t.email,disabled:!0},[te.required,te.email]],phone:[t.phone,[te.required,te.pattern(/^[0-9+\-\s()]+$/)]],idImage:[t.idImage,[te.required]]})}compressAndResizeImage(t){return new Promise((e,i)=>{let o=new FileReader;o.onload=r=>{let s=new Image;s.onload=()=>{let c=s.width,u=s.height;c>600&&(u=u*600/c,c=600);let C=document.createElement("canvas");C.width=c,C.height=u;let v=C.getContext("2d");if(!v){i(new Error("Could not get canvas context"));return}v.drawImage(s,0,0,c,u);let w=C.toDataURL("image/jpeg",.45);e(w)},s.onerror=()=>{i(new Error("Failed to load image"))},s.src=r.target?.result},o.onerror=()=>{i(new Error("Failed to read file"))},o.readAsDataURL(t)})}onFileSelected(t){let i=t.target.files?.[0];if(i){if(!i.type.startsWith("image/")){this.errorMessage="auth.register.invalidImageType";return}if(i.size>5*1024*1024){this.errorMessage="auth.register.imageTooLarge";return}this.isCompressingImage=!0,this.errorMessage="",this.compressAndResizeImage(i).then(o=>{this.idImageBase64=o,this.idImagePreview=o,this.editForm.patchValue({idImage:o}),this.isCompressingImage=!1,this.errorMessage=""}).catch(o=>{console.error("Error compressing image:",o),this.isCompressingImage=!1,this.errorMessage="auth.register.imageProcessingError",Pf.default.fire({icon:"error",title:"\u062E\u0637\u0623",text:"\u062D\u062F\u062B \u062E\u0637\u0623 \u0623\u062B\u0646\u0627\u0621 \u0645\u0639\u0627\u0644\u062C\u0629 \u0627\u0644\u0635\u0648\u0631\u0629. \u064A\u0631\u062C\u0649 \u0627\u0644\u0645\u062D\u0627\u0648\u0644\u0629 \u0645\u0631\u0629 \u0623\u062E\u0631\u0649.",confirmButtonText:"\u062D\u0633\u0646\u0627\u064B",confirmButtonColor:"#DC2626"})})}}removeImage(){this.idImagePreview=null,this.idImageBase64=null,this.editForm.patchValue({idImage:null})}onSubmit(){if(this.editForm.invalid){this.markFormGroupTouched(this.editForm);return}if(!this.idImageBase64){this.errorMessage="auth.register.idImageRequired",Pf.default.fire({icon:"error",title:"\u062E\u0637\u0623",text:"\u064A\u0631\u062C\u0649 \u0631\u0641\u0639 \u0635\u0648\u0631\u0629 \u0627\u0644\u0647\u0648\u064A\u0629",confirmButtonText:"\u062D\u0633\u0646\u0627\u064B",confirmButtonColor:"#DC2626"});return}let t=this.authService.getCurrentUserId();if(!t){this.errorMessage="auth.profile.notAuthenticated";return}this.isSaving=!0,this.errorMessage="",this.successMessage="";let e=this.editForm.value;this.organizationService.updateOrganization(t,ae(j({},e),{idImage:this.idImageBase64,status:"pending"})).pipe(ut(i=>(this.isSaving=!1,console.error("Error updating organization:",i),Pf.default.fire({icon:"error",title:"\u062E\u0637\u0623 \u0641\u064A \u0627\u0644\u062D\u0641\u0638",text:"\u062D\u062F\u062B \u062E\u0637\u0623 \u0623\u062B\u0646\u0627\u0621 \u062D\u0641\u0638 \u0627\u0644\u062A\u063A\u064A\u064A\u0631\u0627\u062A. \u064A\u0631\u062C\u0649 \u0627\u0644\u0645\u062D\u0627\u0648\u0644\u0629 \u0645\u0631\u0629 \u0623\u062E\u0631\u0649.",confirmButtonText:"\u062D\u0633\u0646\u0627\u064B",confirmButtonColor:"#DC2626"}),Q(null)))).subscribe({next:i=>{i!==null&&(this.isSaving=!1,Pf.default.fire({icon:"success",title:"\u062A\u0645 \u0627\u0644\u062D\u0641\u0638 \u0628\u0646\u062C\u0627\u062D!",text:'\u062A\u0645 \u062A\u062D\u062F\u064A\u062B \u0627\u0644\u0645\u0644\u0641 \u0627\u0644\u0634\u062E\u0635\u064A \u0628\u0646\u062C\u0627\u062D. \u0633\u064A\u062A\u0645 \u062A\u0639\u064A\u064A\u0646 \u062D\u0627\u0644\u0629 \u0645\u0646\u0638\u0645\u062A\u0643 \u0625\u0644\u0649 "\u0642\u064A\u062F \u0627\u0644\u0645\u0648\u0627\u0641\u0642\u0629" \u0648\u0633\u062A\u062D\u062A\u0627\u062C \u0625\u0644\u0649 \u0645\u0648\u0627\u0641\u0642\u0629 \u0627\u0644\u0645\u062F\u064A\u0631 \u0645\u0631\u0629 \u0623\u062E\u0631\u0649.',confirmButtonText:"\u062D\u0633\u0646\u0627\u064B",confirmButtonColor:"#16A34A",timer:3e3,timerProgressBar:!0}).then(()=>{this.router.navigate(["/profile-view"])}))}})}onCancel(){this.router.navigate(["/profile-view"])}markFormGroupTouched(t){Object.keys(t.controls).forEach(e=>{t.get(e)?.markAsTouched()})}get name(){return this.editForm.get("name")}get email(){return this.editForm.get("email")}get phone(){return this.editForm.get("phone")}get idImage(){return this.editForm.get("idImage")}static \u0275fac=function(e){return new(e||n)(A(xn),A(wn),A(Dt),A(He))};static \u0275cmp=ce({type:n,selectors:[["app-profile-edit"]],decls:5,vars:3,consts:[[1,"profile-edit-container"],[1,"container"],[1,"loading-state"],[1,"error-state"],[1,"edit-content"],["role","status",1,"spinner-border","text-primary"],[1,"visually-hidden"],[1,"mt-3"],[1,"alert","alert-error"],[1,"fas","fa-exclamation-circle"],[1,"edit-header"],[1,"row","align-items-center"],[1,"col-12","col-md-8"],[1,"edit-title"],[1,"fas","fa-edit"],[1,"edit-subtitle"],[1,"col-12","col-md-4","text-md-end"],["type","button",1,"btn","btn-cancel",3,"click"],[1,"fas","fa-times"],[1,"alert","alert-warning"],[1,"fas","fa-exclamation-triangle"],[1,"edit-form",3,"ngSubmit","formGroup"],[1,"row","g-4"],[1,"col-12","col-lg-8"],[1,"form-section"],[1,"section-title"],[1,"fas","fa-info-circle"],[1,"section-content"],[1,"row","g-3"],[1,"col-12"],[1,"form-group"],["for","name",1,"form-label"],[1,"fas","fa-building"],["type","text","id","name","formControlName","name",1,"form-control",3,"placeholder"],[1,"error-message"],[1,"col-12","col-md-6"],["for","email",1,"form-label"],[1,"fas","fa-envelope"],["type","email","id","email","formControlName","email",1,"form-control","bg-secondary-subtle",3,"placeholder"],["for","phone",1,"form-label"],[1,"fas","fa-phone"],["type","tel","id","phone","formControlName","phone",1,"form-control",3,"placeholder"],[1,"col-12","col-lg-4"],[1,"fas","fa-id-card"],["for","idImage",1,"form-label"],[1,"file-upload-container"],["type","file","id","idImage","accept","image/*",1,"file-input",3,"change","disabled"],["for","idImage",1,"file-label"],[1,"compression-indicator"],[1,"image-preview"],[1,"alert","alert-success"],[1,"form-actions"],[1,"row"],["type","button",1,"btn","btn-cancel","btn-full",3,"click","disabled"],["type","submit",1,"btn","btn-primary","btn-submit","btn-full",3,"disabled"],[1,"fas","fa-spinner","fa-spin"],[1,"fas","fa-upload"],["role","status",1,"spinner-border","spinner-border-sm","text-primary"],[1,"ms-2"],["alt","ID Image Preview",3,"src"],["type","button",1,"btn-remove-image",3,"click"],[1,"fas","fa-check-circle"],[1,"fas","fa-save"]],template:function(e,i){e&1&&(d(0,"div",0)(1,"div",1),T(2,hX,8,6,"div",2),T(3,mX,5,3,"div",3),T(4,NX,90,67,"div",4),p()()),e&2&&(l(2),D(i.isLoading?2:-1),l(),D(!i.isLoading&&i.errorMessage&&!i.organization?3:-1),l(),D(!i.isLoading&&i.organization&&i.editForm?4:-1))},dependencies:[pe,an,sn,ht,bt,rn,Wt,Zt,Ne,fe,_e],styles:[".profile-edit-container[_ngcontent-%COMP%]{min-height:100vh;padding:64px 0;background:linear-gradient(135deg,#f3f1ec,#f6f7f9)}.profile-edit-container[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{padding:32px 16px}.loading-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;min-height:400px;text-align:center}.loading-state[_ngcontent-%COMP%]   .spinner-border[_ngcontent-%COMP%]{width:3rem;height:3rem;border-width:.3rem}.loading-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#0f172ab3;font-size:1rem;margin:0}.error-state[_ngcontent-%COMP%]{margin-top:64px}.error-state[_ngcontent-%COMP%]   .alert-error[_ngcontent-%COMP%]{padding:32px;border-radius:8px;background:#dc26261a;color:#dc2626;border:1px solid rgba(220,38,38,.3);display:flex;align-items:center;gap:8px;font-size:1rem}.error-state[_ngcontent-%COMP%]   .alert-error[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.2rem}.edit-content[_ngcontent-%COMP%]{margin-top:32px}.edit-header[_ngcontent-%COMP%]{margin-bottom:64px;padding-bottom:32px;border-bottom:2px solid rgba(14,58,93,.1)}.edit-header[_ngcontent-%COMP%]   .edit-title[_ngcontent-%COMP%]{font-size:2.5rem;font-weight:700;color:#0e3a5d;margin-bottom:8px;font-family:Cairo,sans-serif;display:flex;align-items:center;gap:16px}.edit-header[_ngcontent-%COMP%]   .edit-title[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#c9a24d;font-size:2rem}.edit-header[_ngcontent-%COMP%]   .edit-subtitle[_ngcontent-%COMP%]{font-size:1rem;color:#0f172a99;margin:0}.edit-header[_ngcontent-%COMP%]   .btn-cancel[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:8px;padding:8px 16px;background:#0f172a1a;color:#0f172a;border:1px solid rgba(15,23,42,.2);border-radius:8px;font-weight:600;font-size:.9rem;font-family:Cairo,sans-serif;cursor:pointer;transition:all .3s ease}.edit-header[_ngcontent-%COMP%]   .btn-cancel[_ngcontent-%COMP%]:hover{background:#0f172a33;border-color:#0f172a4d}.edit-header[_ngcontent-%COMP%]   .btn-cancel[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.9rem}.alert-warning[_ngcontent-%COMP%]{padding:16px;border-radius:8px;background:#d977061a;color:#d97706;border:1px solid rgba(217,119,6,.3);display:flex;align-items:center;gap:8px;font-size:.9rem;margin-bottom:32px}.alert-warning[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1rem}.edit-form[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]{margin-bottom:64px;background:#fff;border-radius:16px;padding:32px;box-shadow:0 4px 8px #00000026;border:1px solid rgba(14,58,93,.1)}.edit-form[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{font-size:1.2rem;font-weight:600;color:#0e3a5d;margin-bottom:32px;padding-bottom:8px;border-bottom:2px solid rgba(201,162,77,.2);display:flex;align-items:center;gap:8px;font-family:Cairo,sans-serif}.edit-form[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#c9a24d;font-size:1rem}.edit-form[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]   .section-subtitle[_ngcontent-%COMP%]{font-size:.85rem;font-weight:400;color:#0f172a80;margin-left:auto}.edit-form[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .section-content[_ngcontent-%COMP%]   .row.g-3[_ngcontent-%COMP%]{margin-left:0;margin-right:0}.edit-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:0}.edit-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-label[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;font-weight:500;color:#0f172a;margin-bottom:8px;font-size:.9rem}.edit-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-label[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#0e3a5d;font-size:.85rem}.edit-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{width:100%;padding:16px;border:2px solid rgba(14,58,93,.2);border-radius:8px;font-size:1rem;font-family:Cairo,sans-serif;transition:all .3s ease;background:#fff;color:#0f172a}.edit-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:focus{outline:none;border-color:#c9a24d;box-shadow:0 0 0 3px #c9a24d1a}.edit-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-control.invalid[_ngcontent-%COMP%]{border-color:#dc2626}.edit-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]::placeholder{color:#0f172a66}.edit-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-textarea[_ngcontent-%COMP%]{resize:vertical;min-height:80px}.edit-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]{display:block;color:#dc2626;font-size:.85rem;margin-top:4px;font-weight:500}.edit-form[_ngcontent-%COMP%]   .file-upload-container[_ngcontent-%COMP%]{position:relative}.edit-form[_ngcontent-%COMP%]   .file-upload-container[_ngcontent-%COMP%]   .file-input[_ngcontent-%COMP%]{position:absolute;opacity:0;width:0;height:0}.edit-form[_ngcontent-%COMP%]   .file-upload-container[_ngcontent-%COMP%]   .file-input[_ngcontent-%COMP%]:disabled{cursor:not-allowed}.edit-form[_ngcontent-%COMP%]   .file-upload-container[_ngcontent-%COMP%]   .file-label[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:8px;padding:16px;border:2px dashed rgba(14,58,93,.3);border-radius:8px;background:#f6f7f980;cursor:pointer;transition:all .3s ease;color:#0e3a5d;font-weight:500}.edit-form[_ngcontent-%COMP%]   .file-upload-container[_ngcontent-%COMP%]   .file-label[_ngcontent-%COMP%]:hover{border-color:#c9a24d;background:#c9a24d1a;color:#c9a24d}.edit-form[_ngcontent-%COMP%]   .file-upload-container[_ngcontent-%COMP%]   .file-label[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.1rem}.edit-form[_ngcontent-%COMP%]   .file-upload-container[_ngcontent-%COMP%]   .file-label.disabled[_ngcontent-%COMP%]{opacity:.6;cursor:not-allowed}.edit-form[_ngcontent-%COMP%]   .compression-indicator[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;padding:16px;margin-top:8px;background:#c9a24d1a;border-radius:8px;color:#c9a24d;font-size:.9rem;font-weight:500;font-family:Cairo,sans-serif}.edit-form[_ngcontent-%COMP%]   .compression-indicator[_ngcontent-%COMP%]   .spinner-border-sm[_ngcontent-%COMP%]{width:1rem;height:1rem;border-width:.15rem}.edit-form[_ngcontent-%COMP%]   .image-preview[_ngcontent-%COMP%]{position:relative;margin-top:16px;border-radius:8px;overflow:hidden;border:2px solid rgba(14,58,93,.2);max-width:100%}.edit-form[_ngcontent-%COMP%]   .image-preview[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto;display:block;max-height:300px;object-fit:contain}.edit-form[_ngcontent-%COMP%]   .image-preview[_ngcontent-%COMP%]   .btn-remove-image[_ngcontent-%COMP%]{position:absolute;top:8px;right:8px;background:#dc2626;color:#fff;border:none;border-radius:50%;width:30px;height:30px;display:flex;align-items:center;justify-content:center;cursor:pointer;transition:all .3s ease;box-shadow:0 4px 8px #00000026}.edit-form[_ngcontent-%COMP%]   .image-preview[_ngcontent-%COMP%]   .btn-remove-image[_ngcontent-%COMP%]:hover{background:#b21d1d;transform:scale(1.1)}.edit-form[_ngcontent-%COMP%]   .alert[_ngcontent-%COMP%]{padding:16px;border-radius:8px;margin-bottom:32px;display:flex;align-items:center;gap:8px;font-size:.9rem}.edit-form[_ngcontent-%COMP%]   .alert.alert-error[_ngcontent-%COMP%]{background:#dc26261a;color:#dc2626;border:1px solid rgba(220,38,38,.3)}.edit-form[_ngcontent-%COMP%]   .alert.alert-success[_ngcontent-%COMP%]{background:#16a34a1a;color:#16a34a;border:1px solid rgba(22,163,74,.3)}.edit-form[_ngcontent-%COMP%]   .alert[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1rem}.edit-form[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]{margin-top:64px;padding-top:32px;border-top:1px solid rgba(14,58,93,.1)}.edit-form[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .btn-full[_ngcontent-%COMP%]{width:100%;padding:16px;font-size:1rem;font-weight:600;border-radius:8px;border:none;cursor:pointer;transition:all .3s ease;display:flex;align-items:center;justify-content:center;gap:8px;font-family:Cairo,sans-serif}.edit-form[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .btn-full[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.edit-form[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .btn-cancel[_ngcontent-%COMP%]{background:#0f172a1a;color:#0f172a;border:1px solid rgba(15,23,42,.2)}.edit-form[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .btn-cancel[_ngcontent-%COMP%]:hover:not(:disabled){background:#0f172a33;border-color:#0f172a4d}.edit-form[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .btn-submit[_ngcontent-%COMP%]{background:#c9a24d;color:#fff}.edit-form[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .btn-submit[_ngcontent-%COMP%]:hover:not(:disabled){background:#a8832f;transform:translateY(-2px);box-shadow:0 4px 8px #00000026}@media (max-width: 991.98px){.profile-edit-container[_ngcontent-%COMP%]{padding:32px 0}}@media (max-width: 767.98px){.edit-header[_ngcontent-%COMP%]   .edit-title[_ngcontent-%COMP%]{font-size:2rem}.edit-form[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]{padding:16px}}@media (max-width: 575.98px){.edit-header[_ngcontent-%COMP%]{padding-top:16px}.edit-header[_ngcontent-%COMP%]   .edit-title[_ngcontent-%COMP%]{font-size:1.5rem}.edit-form[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]{padding:8px}.edit-form[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{font-size:1rem}}"]})};var Io=class n{constructor(t,e){this.database=t;this.injector=e}sendNotificationToOrganization(t,e){return Is(re(()=>Y(this.injector,()=>{let i=le(this.database,`organizations/${t}/notifications`);return X(pi(i,ae(j({},e),{createdAt:new Date().toISOString(),isRead:!1})))})).pipe(H(()=>{})))}sendNotificationToAllOrganizations(t){return Is(re(()=>Y(this.injector,()=>{let e=le(this.database,"organizations");return X($t(e)).pipe(H(i=>i.val()),H(i=>Object.keys(i)),H(i=>i.map(o=>this.sendNotificationToOrganization(o,t))),ar())})).pipe(H(()=>{})))}sendApprovalNotification(t){return this.sendNotificationToOrganization(t,{title:"Organization Approved",message:"Your organization registration has been approved. You can now access the platform.",type:"approval"})}sendRejectionNotification(t,e){return this.sendNotificationToOrganization(t,{title:"Organization Registration Rejected",message:e||"Your organization registration has been rejected. Please contact support for more information.",type:"rejection"})}sendStatusNotification(t,e){return this.sendNotificationToOrganization(t,{title:"Status Update",message:e,type:"status"})}getNotificationsForOrganization(t){return re(()=>Y(this.injector,()=>{let e=le(this.database,`organizations/${t}/notifications`),i=wo(e,Oo("createdAt"));return new ve(o=>{Bn(i,r=>{let s=[];r.forEach(a=>{s.push(j({id:a.key||""},a.val()))}),s.sort((a,c)=>new Date(c.createdAt).getTime()-new Date(a.createdAt).getTime()),o.next(s)},r=>{o.error(r)})})}))}getNotificationForOrganization(t,e){return re(()=>Y(this.injector,()=>{let i=le(this.database,`organizations/${t}/notifications/${e}`);return new ve(o=>{Bn(i,r=>{let s=r.val();s?o.next(j({id:e},s)):o.next(null)},r=>{o.error(r)})})}))}getUnreadNotifications(t){return re(()=>Y(this.injector,()=>{let e=le(this.database,`organizations/${t}/notifications`),i=wo(e,Oo("isRead"),xc(!1));return new ve(o=>{Bn(i,r=>{let s=[];r.forEach(a=>{s.push(j({id:a.key||""},a.val()))}),s.sort((a,c)=>new Date(c.createdAt).getTime()-new Date(a.createdAt).getTime()),o.next(s)},r=>{o.error(r)})})}))}getUnreadCount(t){return this.getUnreadNotifications(t).pipe(H(e=>e.length))}markAsRead(t,e){return Is(re(()=>Y(this.injector,()=>{let i=le(this.database,`organizations/${t}/notifications/${e}`);return X(fi(i,{isRead:!0}))})).pipe(H(()=>{})))}markAllAsRead(t){return L(this,null,function*(){let i=(yield Is(this.getUnreadNotifications(t))).filter(o=>o.id).map(o=>this.markAsRead(t,o.id));yield Promise.all(i)})}deleteNotification(t,e){return Is(re(()=>Y(this.injector,()=>{let i=le(this.database,`organizations/${t}/notifications/${e}`);return X(On(i))})).pipe(H(()=>{})))}deleteAllNotifications(t){return Is(re(()=>Y(this.injector,()=>{let e=le(this.database,`organizations/${t}/notifications`);return X(On(e))})).pipe(H(()=>{})))}makeNotificationSound(){try{let t=["assets/sounds/notification.mp3","../../../../assets/sounds/notification.mp3","/assets/sounds/notification.mp3"],e=!1;for(let i of t)try{let o=new Audio(i);if(o.volume=.7,o.play().then(()=>{e=!0,console.log("Notification sound played successfully")}).catch(r=>{!e&&t.indexOf(i)===t.length-1&&console.log("Could not play notification sound - user interaction may be required:",r)}),e)break}catch{continue}e||this.playFallbackSound()}catch(t){console.log("Could not play notification sound:",t),this.playFallbackSound()}}playFallbackSound(){try{let t=new(window.AudioContext||window.webkitAudioContext),e=t.createOscillator(),i=t.createGain();e.connect(i),i.connect(t.destination),e.frequency.value=800,e.type="sine",i.gain.setValueAtTime(.3,t.currentTime),i.gain.exponentialRampToValueAtTime(.01,t.currentTime+.3),e.start(t.currentTime),e.stop(t.currentTime+.3)}catch(t){console.log("Could not play fallback notification sound:",t)}}static \u0275fac=function(e){return new(e||n)(Z(hn),Z(ze))};static \u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"})};var LX=n=>["/notification",n],FX=(n,t)=>t.id;function zX(n,t){if(n&1&&(d(0,"div",9),b(1,"i",12),d(2,"span"),f(3),h(4,"translate"),p()()),n&2){let e=x();l(3),tt("",e.unreadCount," ",m(4,2,"notifications.unread"))}}function BX(n,t){n&1&&(d(0,"div",10)(1,"div",13)(2,"span",14),f(3),h(4,"translate"),p()(),d(5,"p",15),f(6),h(7,"translate"),p()()),n&2&&(l(3),O(m(4,2,"notifications.loading")),l(3),O(m(7,4,"notifications.loading")))}function jX(n,t){if(n&1&&(d(0,"div",11),b(1,"i",16),f(2),h(3,"translate"),p()),n&2){let e=x();l(2),M(" ",m(3,1,e.errorMessage)," ")}}function VX(n,t){if(n&1){let e=J();d(0,"button",29),R("click",function(){$(e);let o=x(2);return q(o.markAllAsRead())}),b(1,"i",30),f(2),h(3,"translate"),p()}n&2&&(l(2),M(" ",m(3,1,"notifications.markAllRead")," "))}function UX(n,t){if(n&1){let e=J();d(0,"button",31),R("click",function(){$(e);let o=x(2);return q(o.deleteAllNotifications())}),b(1,"i",32),f(2),h(3,"translate"),p()}n&2&&(l(2),M(" ",m(3,1,"notifications.deleteAll")," "))}function $X(n,t){n&1&&(d(0,"span",45),b(1,"i",12),f(2),h(3,"translate"),p()),n&2&&(l(2),M(" ",m(3,1,"notifications.unread")," "))}function qX(n,t){if(n&1){let e=J();d(0,"button",49),h(1,"translate"),R("click",function(){$(e);let o=x().$implicit,r=x(3);return q(r.markAsRead(o))}),b(2,"i",50),p()}n&2&&E("title",m(1,1,"notifications.markAsRead"))}function HX(n,t){if(n&1){let e=J();d(0,"div",34)(1,"div",35)(2,"div",36),b(3,"i",37),p(),d(4,"div",38)(5,"div",39)(6,"h3",40),f(7),p(),d(8,"span",41),f(9),p()(),d(10,"p",42),f(11),p(),d(12,"div",43)(13,"span",44),f(14),h(15,"translate"),p(),T(16,$X,4,3,"span",45),p()()(),d(17,"div",46),T(18,qX,3,3,"button",47),d(19,"button",48),h(20,"translate"),R("click",function(){let o=$(e).$implicit,r=x(3);return q(r.deleteNotification(o))}),b(21,"i",32),p()()()}if(n&2){let e=t.$implicit,i=x(3);V("unread",!e.isRead),E("routerLink",os(16,LX,e.id))("ngClass",i.getNotificationTypeClass(e.type)),l(3),E("ngClass",i.getNotificationIcon(e.type)),l(4),O(e.title),l(2),O(i.formatDate(e.createdAt)),l(2),O(e.message),l(3),O(m(15,12,"notifications.types."+e.type)),l(2),D(e.isRead?-1:16),l(2),D(e.isRead?-1:18),l(),E("title",m(20,14,"notifications.delete"))}}function WX(n,t){if(n&1&&(d(0,"div",27),Be(1,HX,22,18,"div",33,FX),p()),n&2){let e=x(2);l(),je(e.filteredNotifications)}}function GX(n,t){n&1&&(d(0,"div",28),b(1,"i",51),d(2,"h3"),f(3),h(4,"translate"),p(),d(5,"p"),f(6),h(7,"translate"),p()()),n&2&&(l(3),O(m(4,2,"notifications.noNotifications")),l(3),O(m(7,4,"notifications.noNotificationsDescription")))}function QX(n,t){if(n&1){let e=J();d(0,"div",17)(1,"div",18)(2,"div",19)(3,"div",20)(4,"button",21),R("click",function(){$(e);let o=x();return q(o.onFilterChange("all"))}),d(5,"span"),f(6),h(7,"translate"),p(),d(8,"span",22),f(9),p()(),d(10,"button",21),R("click",function(){$(e);let o=x();return q(o.onFilterChange("unread"))}),d(11,"span"),f(12),h(13,"translate"),p(),d(14,"span",22),f(15),p()(),d(16,"button",21),R("click",function(){$(e);let o=x();return q(o.onFilterChange("read"))}),d(17,"span"),f(18),h(19,"translate"),p(),d(20,"span",22),f(21),p()()()(),d(22,"div",23)(23,"div",24),T(24,VX,4,3,"button",25),T(25,UX,4,3,"button",26),p()()()(),T(26,WX,3,0,"div",27)(27,GX,8,6,"div",28)}if(n&2){let e=x();l(4),V("active",e.filterType==="all"),l(2),O(m(7,15,"notifications.all")),l(3),O(e.notifications.length),l(),V("active",e.filterType==="unread"),l(2),O(m(13,17,"notifications.unread")),l(3),O(e.unreadCount),l(),V("active",e.filterType==="read"),l(2),O(m(19,19,"notifications.read")),l(3),O(e.notifications.length-e.unreadCount),l(3),D(e.unreadCount>0?24:-1),l(),D(e.notifications.length>0?25:-1),l(),D(e.filteredNotifications.length>0?26:27)}}var K_=class n{constructor(t,e){this.notificationsService=t;this.authService=e}notifications=[];filteredNotifications=[];isLoading=!0;errorMessage="";unreadCount=0;filterType="all";destroy$=new me;ngOnInit(){this.loadNotifications(),this.loadUnreadCount()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}loadNotifications(){let t=this.authService.getCurrentUserId();if(!t){this.errorMessage="auth.profile.notAuthenticated",this.isLoading=!1;return}this.isLoading=!0,this.errorMessage="",this.notificationsService.getNotificationsForOrganization(t||"").pipe(ne(this.destroy$)).subscribe({next:e=>{this.notifications=e,this.filterNotifications(),this.isLoading=!1},error:e=>{console.error("Error loading notifications:",e),this.errorMessage="notifications.loadError",this.isLoading=!1}})}loadUnreadCount(){let t=this.authService.getCurrentUserId();t&&this.notificationsService.getUnreadCount(t||"").pipe(ne(this.destroy$)).subscribe({next:e=>{this.unreadCount=e},error:e=>{console.error("Error loading unread count:",e)}})}filterNotifications(){switch(this.filterType){case"unread":this.filteredNotifications=this.notifications.filter(t=>!t.isRead);break;case"read":this.filteredNotifications=this.notifications.filter(t=>t.isRead);break;default:this.filteredNotifications=this.notifications}}onFilterChange(t){this.filterType=t,this.filterNotifications()}markAsRead(t){if(!t.id||t.isRead)return;let e=this.authService.getCurrentUserId();e&&this.notificationsService.markAsRead(e||"",t.id).then(()=>{t.isRead=!0,this.loadUnreadCount()}).catch(i=>{console.error("Error marking notification as read:",i)})}markAllAsRead(){let t=this.authService.getCurrentUserId();t&&this.notificationsService.markAllAsRead(t||"").then(()=>{this.notifications.forEach(e=>e.isRead=!0),this.filterNotifications(),this.loadUnreadCount()}).catch(e=>{console.error("Error marking all as read:",e)})}deleteNotification(t){if(!t.id)return;let e=this.authService.getCurrentUserId();e&&this.notificationsService.deleteNotification(e||"",t.id).then(()=>{this.notifications=this.notifications.filter(i=>i.id!==t.id),this.filterNotifications(),this.loadUnreadCount()}).catch(i=>{console.error("Error deleting notification:",i)})}deleteAllNotifications(){let t=this.authService.getCurrentUserId();t&&this.notificationsService.deleteAllNotifications(t||"").then(()=>{this.notifications=[],this.filteredNotifications=[],this.unreadCount=0}).catch(e=>{console.error("Error deleting all notifications:",e)})}getNotificationIcon(t){switch(t){case"approval":return"fa-check-circle";case"rejection":return"fa-times-circle";case"status":return"fa-info-circle";case"verification":return"fa-shield-alt";default:return"fa-bell"}}getNotificationTypeClass(t){switch(t){case"approval":return"notification-approval";case"rejection":return"notification-rejection";case"status":return"notification-status";case"verification":return"notification-verification";default:return"notification-general"}}formatDate(t){if(!t)return"";let e=new Date(t),o=new Date().getTime()-e.getTime(),r=Math.floor(o/6e4),s=Math.floor(r/60),a=Math.floor(s/24);return r<1?"now":r<60?`${r}m ago`:s<24?`${s}h ago`:a<7?`${a}d ago`:e.toLocaleDateString("ar-EG",{year:"numeric",month:"short",day:"numeric"})}static \u0275fac=function(e){return new(e||n)(A(Io),A(Dt))};static \u0275cmp=ce({type:n,selectors:[["app-notifications"]],decls:17,vars:10,consts:[[1,"notifications-container"],[1,"container"],[1,"notifications-header"],[1,"row","align-items-center"],[1,"col-12","col-md-8"],[1,"page-title"],[1,"fas","fa-bell"],[1,"page-subtitle"],[1,"col-12","col-md-4","text-md-end"],[1,"unread-badge"],[1,"loading-state"],[1,"alert","alert-error"],[1,"fas","fa-circle"],["role","status",1,"spinner-border","text-primary"],[1,"visually-hidden"],[1,"mt-3"],[1,"fas","fa-exclamation-circle"],[1,"notifications-controls"],[1,"row","g-3","align-items-center"],[1,"col-12","col-md-6"],[1,"filter-tabs"],["type","button",1,"filter-tab",3,"click"],[1,"count"],[1,"col-12","col-md-6","text-md-end"],[1,"action-buttons"],["type","button",1,"btn","btn-mark-all"],["type","button",1,"btn","btn-delete-all"],[1,"notifications-list"],[1,"empty-state"],["type","button",1,"btn","btn-mark-all",3,"click"],[1,"fas","fa-check-double"],["type","button",1,"btn","btn-delete-all",3,"click"],[1,"fas","fa-trash"],[1,"notification-item",3,"routerLink","unread","ngClass"],[1,"notification-item",3,"routerLink","ngClass"],[1,"notification-content"],[1,"notification-icon"],[1,"fas",3,"ngClass"],[1,"notification-body"],[1,"notification-header"],[1,"notification-title"],[1,"notification-time"],[1,"notification-message"],[1,"notification-footer"],[1,"notification-type"],[1,"unread-indicator"],[1,"notification-actions"],["type","button",1,"btn-action","btn-mark-read",3,"title"],["type","button",1,"btn-action","btn-delete",3,"click","title"],["type","button",1,"btn-action","btn-mark-read",3,"click","title"],[1,"fas","fa-check"],[1,"fas","fa-bell-slash"]],template:function(e,i){e&1&&(d(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h1",5),b(6,"i",6),f(7),h(8,"translate"),p(),d(9,"p",7),f(10),h(11,"translate"),p()(),d(12,"div",8),T(13,zX,5,4,"div",9),p()()(),T(14,BX,8,6,"div",10),T(15,jX,4,3,"div",11),T(16,QX,28,21),p()()),e&2&&(l(7),M(" ",m(8,6,"notifications.title")," "),l(3),O(m(11,8,"notifications.subtitle")),l(3),D(i.unreadCount>0?13:-1),l(),D(i.isLoading?14:-1),l(),D(!i.isLoading&&i.errorMessage?15:-1),l(),D(!i.isLoading&&!i.errorMessage?16:-1))},dependencies:[pe,gn,Ne,Ue,fe,_e],styles:[".notifications-container[_ngcontent-%COMP%]{min-height:100vh;padding:64px 0;background:linear-gradient(135deg,#f3f1ec,#f6f7f9)}.notifications-container[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{padding:32px 16px}.notifications-header[_ngcontent-%COMP%]{margin-bottom:64px;padding-bottom:32px;border-bottom:2px solid rgba(14,58,93,.1)}.notifications-header[_ngcontent-%COMP%]   .page-title[_ngcontent-%COMP%]{font-size:2.5rem;font-weight:700;color:#0e3a5d;margin-bottom:8px;font-family:Cairo,sans-serif;display:flex;align-items:center;gap:16px}.notifications-header[_ngcontent-%COMP%]   .page-title[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#c9a24d;font-size:2rem}.notifications-header[_ngcontent-%COMP%]   .page-subtitle[_ngcontent-%COMP%]{font-size:1rem;color:#0f172a99;margin:0}.notifications-header[_ngcontent-%COMP%]   .unread-badge[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:8px;padding:8px 16px;background:#c9a24d1a;color:#c9a24d;border:1px solid rgba(201,162,77,.3);border-radius:8px;font-weight:600;font-size:.9rem;font-family:Cairo,sans-serif}.notifications-header[_ngcontent-%COMP%]   .unread-badge[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.6rem;animation:_ngcontent-%COMP%_pulse 2s infinite}@keyframes _ngcontent-%COMP%_pulse{0%,to{opacity:1}50%{opacity:.5}}.loading-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;min-height:400px;text-align:center}.loading-state[_ngcontent-%COMP%]   .spinner-border[_ngcontent-%COMP%]{width:3rem;height:3rem;border-width:.3rem}.loading-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#0f172ab3;font-size:1rem;margin:0}.alert-error[_ngcontent-%COMP%]{padding:32px;border-radius:8px;background:#dc26261a;color:#dc2626;border:1px solid rgba(220,38,38,.3);display:flex;align-items:center;gap:8px;font-size:1rem;margin-bottom:32px}.alert-error[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.2rem}.notifications-controls[_ngcontent-%COMP%]{margin-bottom:64px;padding:32px;background:#fff;border-radius:16px;box-shadow:0 4px 8px #00000026}.notifications-controls[_ngcontent-%COMP%]   .filter-tabs[_ngcontent-%COMP%]{display:flex;gap:8px;flex-wrap:wrap}.notifications-controls[_ngcontent-%COMP%]   .filter-tabs[_ngcontent-%COMP%]   .filter-tab[_ngcontent-%COMP%]{display:flex;align-items:center;gap:4px;padding:8px 16px;background:#0e3a5d0d;border:2px solid rgba(14,58,93,.2);border-radius:8px;color:#0f172ab3;font-weight:500;font-size:.9rem;font-family:Cairo,sans-serif;cursor:pointer;transition:all .3s ease}.notifications-controls[_ngcontent-%COMP%]   .filter-tabs[_ngcontent-%COMP%]   .filter-tab[_ngcontent-%COMP%]   .count[_ngcontent-%COMP%]{background:#0e3a5d1a;padding:2px 4px;border-radius:4px;font-weight:700;font-size:.85rem}.notifications-controls[_ngcontent-%COMP%]   .filter-tabs[_ngcontent-%COMP%]   .filter-tab[_ngcontent-%COMP%]:hover{border-color:#c9a24d;background:#c9a24d0d;color:#c9a24d}.notifications-controls[_ngcontent-%COMP%]   .filter-tabs[_ngcontent-%COMP%]   .filter-tab.active[_ngcontent-%COMP%]{background:#c9a24d;border-color:#c9a24d;color:#fff}.notifications-controls[_ngcontent-%COMP%]   .filter-tabs[_ngcontent-%COMP%]   .filter-tab.active[_ngcontent-%COMP%]   .count[_ngcontent-%COMP%]{background:#fff3;color:#fff}.notifications-controls[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]{display:flex;gap:8px;flex-wrap:wrap;justify-content:flex-end}.notifications-controls[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:8px;padding:8px 16px;border:none;border-radius:8px;font-weight:600;font-size:.9rem;font-family:Cairo,sans-serif;cursor:pointer;transition:all .3s ease}.notifications-controls[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.85rem}.notifications-controls[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .btn-mark-all[_ngcontent-%COMP%]{background:#16a34a1a;color:#16a34a;border:1px solid rgba(22,163,74,.3)}.notifications-controls[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .btn-mark-all[_ngcontent-%COMP%]:hover{background:#16a34a;color:#fff}.notifications-controls[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .btn-delete-all[_ngcontent-%COMP%]{background:#dc26261a;color:#dc2626;border:1px solid rgba(220,38,38,.3)}.notifications-controls[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .btn-delete-all[_ngcontent-%COMP%]:hover{background:#dc2626;color:#fff}.notifications-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px}.notification-item[_ngcontent-%COMP%]{background:#fff;border-radius:16px;padding:32px;box-shadow:0 4px 8px #00000026;border:2px solid rgba(14,58,93,.1);transition:all .3s ease;display:flex;justify-content:space-between;align-items:flex-start;gap:16px;cursor:pointer}.notification-item[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 8px 16px #0003;border-color:#c9a24d}.notification-item.unread[_ngcontent-%COMP%]{border-left:4px solid #C9A24D;background:linear-gradient(90deg,#c9a24d0d,#fff 5%)}.notification-item.notification-approval[_ngcontent-%COMP%]{border-left-color:#16a34a}.notification-item.notification-approval[_ngcontent-%COMP%]   .notification-icon[_ngcontent-%COMP%]{background:#16a34a1a;color:#16a34a}.notification-item.notification-rejection[_ngcontent-%COMP%]{border-left-color:#dc2626}.notification-item.notification-rejection[_ngcontent-%COMP%]   .notification-icon[_ngcontent-%COMP%]{background:#dc26261a;color:#dc2626}.notification-item.notification-status[_ngcontent-%COMP%]{border-left-color:#c9a24d}.notification-item.notification-status[_ngcontent-%COMP%]   .notification-icon[_ngcontent-%COMP%]{background:#c9a24d1a;color:#c9a24d}.notification-item.notification-verification[_ngcontent-%COMP%]{border-left-color:#0e3a5d}.notification-item.notification-verification[_ngcontent-%COMP%]   .notification-icon[_ngcontent-%COMP%]{background:#0e3a5d1a;color:#0e3a5d}.notification-item.notification-general[_ngcontent-%COMP%]{border-left-color:#0f172a4d}.notification-item.notification-general[_ngcontent-%COMP%]   .notification-icon[_ngcontent-%COMP%]{background:#0f172a1a;color:#0f172ab3}.notification-item[_ngcontent-%COMP%]   .notification-content[_ngcontent-%COMP%]{display:flex;gap:16px;flex:1}.notification-item[_ngcontent-%COMP%]   .notification-icon[_ngcontent-%COMP%]{width:48px;height:48px;border-radius:50%;display:flex;align-items:center;justify-content:center;flex-shrink:0}.notification-item[_ngcontent-%COMP%]   .notification-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.2rem}.notification-item[_ngcontent-%COMP%]   .notification-body[_ngcontent-%COMP%]{flex:1}.notification-item[_ngcontent-%COMP%]   .notification-body[_ngcontent-%COMP%]   .notification-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;gap:16px;margin-bottom:8px}.notification-item[_ngcontent-%COMP%]   .notification-body[_ngcontent-%COMP%]   .notification-header[_ngcontent-%COMP%]   .notification-title[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:700;color:#0e3a5d;margin:0;font-family:Cairo,sans-serif}.notification-item[_ngcontent-%COMP%]   .notification-body[_ngcontent-%COMP%]   .notification-header[_ngcontent-%COMP%]   .notification-time[_ngcontent-%COMP%]{font-size:.85rem;color:#0f172a80;white-space:nowrap}.notification-item[_ngcontent-%COMP%]   .notification-body[_ngcontent-%COMP%]   .notification-message[_ngcontent-%COMP%]{font-size:.95rem;color:#0f172acc;margin:0 0 8px;line-height:1.6}.notification-item[_ngcontent-%COMP%]   .notification-body[_ngcontent-%COMP%]   .notification-footer[_ngcontent-%COMP%]{display:flex;align-items:center;gap:16px;flex-wrap:wrap}.notification-item[_ngcontent-%COMP%]   .notification-body[_ngcontent-%COMP%]   .notification-footer[_ngcontent-%COMP%]   .notification-type[_ngcontent-%COMP%]{display:inline-flex;align-items:center;padding:2px 8px;background:#0e3a5d1a;color:#0e3a5d;border-radius:4px;font-size:.75rem;font-weight:600;font-family:Cairo,sans-serif}.notification-item[_ngcontent-%COMP%]   .notification-body[_ngcontent-%COMP%]   .notification-footer[_ngcontent-%COMP%]   .unread-indicator[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:4px;color:#c9a24d;font-size:.75rem;font-weight:600}.notification-item[_ngcontent-%COMP%]   .notification-body[_ngcontent-%COMP%]   .notification-footer[_ngcontent-%COMP%]   .unread-indicator[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.5rem}.notification-item[_ngcontent-%COMP%]   .notification-actions[_ngcontent-%COMP%]{display:flex;gap:4px;flex-shrink:0}.notification-item[_ngcontent-%COMP%]   .notification-actions[_ngcontent-%COMP%]   .btn-action[_ngcontent-%COMP%]{width:36px;height:36px;border:none;border-radius:8px;display:flex;align-items:center;justify-content:center;cursor:pointer;transition:all .3s ease;font-size:.9rem}.notification-item[_ngcontent-%COMP%]   .notification-actions[_ngcontent-%COMP%]   .btn-action[_ngcontent-%COMP%]:hover{transform:scale(1.1)}.notification-item[_ngcontent-%COMP%]   .notification-actions[_ngcontent-%COMP%]   .btn-mark-read[_ngcontent-%COMP%]{background:#16a34a1a;color:#16a34a}.notification-item[_ngcontent-%COMP%]   .notification-actions[_ngcontent-%COMP%]   .btn-mark-read[_ngcontent-%COMP%]:hover{background:#16a34a;color:#fff}.notification-item[_ngcontent-%COMP%]   .notification-actions[_ngcontent-%COMP%]   .btn-delete[_ngcontent-%COMP%]{background:#dc26261a;color:#dc2626}.notification-item[_ngcontent-%COMP%]   .notification-actions[_ngcontent-%COMP%]   .btn-delete[_ngcontent-%COMP%]:hover{background:#dc2626;color:#fff}.empty-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;min-height:400px;text-align:center;padding:64px;background:#fff;border-radius:16px;box-shadow:0 4px 8px #00000026}.empty-state[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:4rem;color:#0f172a4d;margin-bottom:32px}.empty-state[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;color:#0e3a5d;margin-bottom:16px;font-family:Cairo,sans-serif}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem;color:#0f172a99;margin:0;font-family:Cairo,sans-serif}@media (max-width: 991.98px){.notifications-container[_ngcontent-%COMP%]{padding:32px 0}.notifications-header[_ngcontent-%COMP%]   .page-title[_ngcontent-%COMP%]{font-size:2rem}}@media (max-width: 767.98px){.notifications-header[_ngcontent-%COMP%]   .page-title[_ngcontent-%COMP%], .notifications-header[_ngcontent-%COMP%]   .page-title[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.5rem}.notifications-controls[_ngcontent-%COMP%]   .filter-tabs[_ngcontent-%COMP%]   .filter-tab[_ngcontent-%COMP%]{font-size:.85rem;padding:4px 8px}.notifications-controls[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]{justify-content:flex-start;margin-top:16px}.notification-item[_ngcontent-%COMP%]{flex-direction:column}.notification-item[_ngcontent-%COMP%]   .notification-actions[_ngcontent-%COMP%]{align-self:flex-end}}"]})};var va=Un(jn());var Br=class n{constructor(t,e){this.database=t;this.injector=e}createSubscription(t,e){return re(()=>Y(this.injector,()=>{let i=le(this.database,`platformSubscriptions/${t}`),o={startDate:e.startDate,endDate:e.endDate,subscriptionPlan:e.subscriptionPlan,imageOfBankTransfer:e.imageOfBankTransfer,status:"pending",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};return X(pi(i,o)).pipe(H(r=>{let s=r.key||"";return ae(j({},o),{subscriptionId:s})}))}))}updateSubscription(t,e,i){return re(()=>Y(this.injector,()=>{let o=le(this.database,`platformSubscriptions/${t}/${e}`),r=ae(j({},i),{updatedAt:new Date().toISOString()});return X(fi(o,r))}))}approveSubscription(t,e){return this.updateSubscription(t,e,{status:"approved"})}rejectSubscription(t,e){return this.updateSubscription(t,e,{status:"rejected"})}deleteSubscription(t,e){return re(()=>Y(this.injector,()=>{let i=le(this.database,`platformSubscriptions/${t}/${e}`);return X(On(i))}))}getSubscriptions(t){return re(()=>Y(this.injector,()=>{let e=le(this.database,`platformSubscriptions/${t}`);return new ve(i=>{Bn(e,o=>{if(!o.exists()){i.next([]);return}let r=o.val(),s=[];Object.keys(r).forEach(a=>{s.push(ae(j({},r[a]),{subscriptionId:a}))}),s.sort((a,c)=>new Date(c.createdAt).getTime()-new Date(a.createdAt).getTime()),i.next(s)},o=>{console.error("Error fetching subscriptions:",o),i.error(o)})})}))}getSubscriptionsOnce(t){return re(()=>Y(this.injector,()=>{let e=le(this.database,`platformSubscriptions/${t}`);return X($t(e)).pipe(H(i=>{if(!i.exists())return[];let o=i.val(),r=[];return Object.keys(o).forEach(s=>{r.push(ae(j({},o[s]),{subscriptionId:s}))}),r.sort((s,a)=>new Date(a.createdAt).getTime()-new Date(s.createdAt).getTime()),r}))}))}getLastSubscription(t){return this.getSubscriptions(t).pipe(H(e=>e.length===0?null:e[0]))}getSubscriptionById(t,e){return this.getSubscriptions(t).pipe(H(i=>i.find(r=>r.subscriptionId===e)||null))}getSubscriptionByStatus(t,e){return this.getSubscriptions(t).pipe(H(i=>i.filter(o=>o.status===e)))}getSubscriptionByStartDate(t,e){return this.getSubscriptions(t).pipe(H(i=>i.filter(o=>o.startDate===e)))}getSubscriptionByEndDate(t,e){return this.getSubscriptions(t).pipe(H(i=>i.filter(o=>o.endDate===e)))}getSubscriptionByCreatedAt(t,e){return this.getSubscriptions(t).pipe(H(i=>i.filter(o=>o.createdAt===e)))}getSubscriptionByUpdatedAt(t,e){return this.getSubscriptions(t).pipe(H(i=>i.filter(o=>o.updatedAt===e)))}getLastSubscriptionOnce(t){return this.getSubscriptionsOnce(t).pipe(H(e=>e.length===0?null:e[0]))}hasActiveSubscription(t){return this.getLastSubscriptionOnce(t).pipe(H(e=>{if(console.log(`[hasActiveSubscription] Checking subscription for organization: ${t}`),!e)return console.log("[hasActiveSubscription] No subscription found"),!1;if(console.log("[hasActiveSubscription] Last subscription found:",{subscriptionId:e.subscriptionId,status:e.status,startDate:e.startDate,endDate:e.endDate}),e.status!=="approved")return console.log(`[hasActiveSubscription] Subscription status is '${e.status}', not 'approved'`),!1;let i=new Date,o=new Date(e.startDate),r=new Date(e.endDate);i.setHours(0,0,0,0),o.setHours(0,0,0,0),r.setHours(23,59,59,999);let s=i>=o&&i<=r;return console.log("[hasActiveSubscription] Date check:",{now:i.toISOString(),startDate:o.toISOString(),endDate:r.toISOString(),isActive:s}),s}),Et(1))}isSubscriptionExpired(t){return this.getLastSubscription(t).pipe(H(e=>{if(!e||e.status!=="approved")return!0;let i=new Date,o=new Date(e.endDate);return i>o}))}getSubscriptionStatusSummary(t){return this.getLastSubscription(t).pipe(H(e=>{if(!e)return"none";if(e.status==="pending")return"pending";if(e.status==="rejected")return"rejected";let i=new Date,o=new Date(e.startDate),r=new Date(e.endDate);return i<o?"pending":i>r?"expired":"active"}))}static \u0275fac=function(e){return new(e||n)(Z(hn),Z(ze))};static \u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"})};var xd=class n{monthlyPlan={id:"monthly",nameKey:"subscribe.plans.monthly.name",descriptionKey:"subscribe.plans.monthly.description",price:399,pricePerMonth:399,currency:"EGP",currencyKey:"subscribe.currency",duration:30,durationKey:"subscribe.perMonth",isPopular:!1,features:["subscribe.features.allCourses","subscribe.features.unlimitedAccess","subscribe.features.certificate","subscribe.features.support"]};yearlyPlan={id:"yearly",nameKey:"subscribe.plans.yearly.name",descriptionKey:"subscribe.plans.yearly.description",price:2e3,pricePerMonth:167,currency:"EGP",currencyKey:"subscribe.currency",duration:365,durationKey:"subscribe.perYear",savings:58,savingsKey:"subscribe.savings",isPopular:!0,features:["subscribe.features.allCourses","subscribe.features.unlimitedAccess","subscribe.features.certificate","subscribe.features.support","subscribe.features.priority"]};getPlans(){return[this.yearlyPlan,this.monthlyPlan]}getPlanById(t){return this.getPlans().find(e=>e.id===t)}getMonthlyPlan(){return this.monthlyPlan}getYearlyPlan(){return this.yearlyPlan}getPlatformFeatures(){return["subscribe.platformFeatures.courses","subscribe.platformFeatures.unlimited","subscribe.platformFeatures.certificate"]}calculateTotalPrice(t){let e=this.getPlanById(t);return e?e.price:0}getYearlySavings(){return this.monthlyPlan.price*12-this.yearlyPlan.price}static \u0275fac=function(e){return new(e||n)};static \u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"})};var KX=(n,t)=>t.subscriptionId;function YX(n,t){n&1&&(d(0,"div",2),b(1,"div",5),d(2,"p"),f(3),h(4,"translate"),p()()),n&2&&(l(3),O(m(4,1,"subscriptions.loading")))}function ZX(n,t){if(n&1&&(d(0,"div",3),b(1,"i",6),f(2),h(3,"translate"),p()),n&2){let e=x();l(2),M(" ",m(3,1,e.errorMessage)," ")}}function JX(n,t){if(n&1){let e=J();d(0,"button",17),R("click",function(){$(e);let o=x(2);return q(o.showCreateForm())}),b(1,"i",18),f(2),h(3,"translate"),p()}n&2&&(l(2),M(" ",m(3,1,"subscriptions.createNew")," "))}function XX(n,t){if(n&1&&(d(0,"div",27)(1,"span",44),f(2),p(),d(3,"span",45),f(4),h(5,"translate"),p()()),n&2){let e=x(3);l(2),O(e.getDaysRemaining(e.lastSubscription)),l(2),O(m(5,2,"subscriptions.daysRemaining"))}}function eee(n,t){if(n&1){let e=J();d(0,"div",13)(1,"h2",19),b(2,"i",20),f(3),h(4,"translate"),p(),d(5,"div",21)(6,"div",22)(7,"div",23)(8,"span",24),b(9,"i",25),f(10),h(11,"translate"),p(),d(12,"span",26),b(13,"i",25),f(14),h(15,"translate"),p()(),T(16,XX,6,4,"div",27),p(),d(17,"div",28)(18,"div",29)(19,"div",30)(20,"div",31),b(21,"i",32),p(),d(22,"div",33)(23,"span",34),f(24),h(25,"translate"),p(),d(26,"span",35),f(27),p()()(),d(28,"div",30)(29,"div",31),b(30,"i",36),p(),d(31,"div",33)(32,"span",34),f(33),h(34,"translate"),p(),d(35,"span",35),f(36),p()()()(),d(37,"div",37)(38,"span",38),b(39,"i",39),f(40),h(41,"translate"),p(),d(42,"div",40)(43,"img",41),R("click",function(){$(e);let o=x(2);return q(o.openImageModal(o.lastSubscription.imageOfBankTransfer))}),p(),d(44,"div",42),b(45,"i",43),p()()()()()()}if(n&2){let e=x(2);l(3),M(" ",m(4,31,"subscriptions.currentSubscription")," "),l(2),V("active",e.isSubscriptionActive(e.lastSubscription))("pending",e.lastSubscription.status==="pending")("rejected",e.lastSubscription.status==="rejected"),l(3),V("monthly",e.lastSubscription.subscriptionPlan==="monthly")("yearly",e.lastSubscription.subscriptionPlan==="yearly"),l(),V("fa-calendar",e.lastSubscription.subscriptionPlan==="monthly")("fa-calendar-alt",e.lastSubscription.subscriptionPlan==="yearly"),l(),M(" ",m(11,33,e.getPlanKey(e.lastSubscription.subscriptionPlan))," "),l(2),E("ngClass",e.getStatusClass(e.lastSubscription.status)),l(),V("fa-check-circle",e.lastSubscription.status==="approved")("fa-clock",e.lastSubscription.status==="pending")("fa-times-circle",e.lastSubscription.status==="rejected"),l(),M(" ",m(15,35,e.getStatusKey(e.lastSubscription.status))," "),l(2),D(e.isSubscriptionActive(e.lastSubscription)?16:-1),l(8),O(m(25,37,"subscriptions.startDate")),l(3),O(e.formatDate(e.lastSubscription.startDate)),l(6),O(m(34,39,"subscriptions.endDate")),l(3),O(e.formatDate(e.lastSubscription.endDate)),l(4),M(" ",m(41,41,"subscriptions.bankTransferReceipt")," "),l(3),E("src",e.lastSubscription.imageOfBankTransfer,Je)}}function tee(n,t){if(n&1){let e=J();d(0,"div",14)(1,"div",46)(2,"div",47),b(3,"i",48),p(),d(4,"h3"),f(5),h(6,"translate"),p(),d(7,"p"),f(8),h(9,"translate"),p(),d(10,"button",49),R("click",function(){$(e);let o=x(2);return q(o.showCreateForm())}),b(11,"i",18),f(12),h(13,"translate"),p()()()}n&2&&(l(5),O(m(6,3,"subscriptions.noSubscription")),l(3),O(m(9,5,"subscriptions.noSubscriptionDescription")),l(4),M(" ",m(13,7,"subscriptions.createNew")," "))}function nee(n,t){if(n&1&&(d(0,"span",91),f(1),h(2,"translate"),h(3,"translate"),h(4,"translate"),p(),d(5,"span",95),b(6,"i",96),f(7),h(8,"translate"),p()),n&2){let e=x(4);l(),bl(" ",m(2,6,"subscriptions.equivalentTo")," ",e.selectedPlanDetails.pricePerMonth," ",m(3,8,e.selectedPlanDetails.currencyKey),"/",m(4,10,"subscribe.month")," "),l(6),tt(" ",m(8,12,"subscriptions.youSave")," ",e.selectedPlanDetails.savings,"% ")}}function iee(n,t){n&1&&(d(0,"span",91),f(1),h(2,"translate"),p()),n&2&&(l(),O(m(2,1,"subscriptions.perMonth")))}function oee(n,t){if(n&1&&(d(0,"div",69)(1,"div",83)(2,"div",84),b(3,"i",85),d(4,"span"),f(5),h(6,"translate"),p()(),d(7,"div",86)(8,"div",87)(9,"span",88),f(10),p(),d(11,"span",89),f(12),h(13,"translate"),p()(),d(14,"div",90),T(15,nee,9,14)(16,iee,3,3,"span",91),p()(),d(17,"a",92),b(18,"i",93),f(19),h(20,"translate"),b(21,"i",94),p()()()),n&2){let e=x(3);l(5),O(m(6,5,"subscriptions.priceDetails")),l(5),O(e.selectedPlanDetails.price),l(2),O(m(13,7,e.selectedPlanDetails.currencyKey)),l(3),D(e.selectedPlanDetails.id==="yearly"?15:16),l(4),M(" ",m(20,9,"subscriptions.viewPaymentMethods")," ")}}function ree(n,t){n&1&&(d(0,"div",73),f(1),h(2,"translate"),p()),n&2&&(l(),M(" ",m(2,1,"subscriptions.startDateRequired")," "))}function see(n,t){n&1&&(f(0),h(1,"translate")),n&2&&M(" ",m(1,1,"subscriptions.endDateRequired")," ")}function aee(n,t){n&1&&(f(0),h(1,"translate")),n&2&&M(" ",m(1,1,"subscriptions.endDateMustBeAfterStart")," ")}function cee(n,t){if(n&1&&(d(0,"div",73),T(1,see,2,3),T(2,aee,2,3),p()),n&2){let e=x(3);l(),D(!(e.endDate==null||e.endDate.errors==null)&&e.endDate.errors.required?1:-1),l(),D(!(e.endDate==null||e.endDate.errors==null)&&e.endDate.errors.dateRangeInvalid?2:-1)}}function lee(n,t){n&1&&(d(0,"label",77),b(1,"i",97),d(2,"span",98),f(3),h(4,"translate"),p(),d(5,"span",99),f(6),h(7,"translate"),p()()),n&2&&(l(3),O(m(4,2,"subscriptions.uploadReceipt")),l(3),O(m(7,4,"subscriptions.uploadHint")))}function dee(n,t){n&1&&(d(0,"div",78),b(1,"div",100),d(2,"span"),f(3),h(4,"translate"),p()()),n&2&&(l(3),O(m(4,1,"subscriptions.compressing")))}function uee(n,t){if(n&1){let e=J();d(0,"div",79),b(1,"img",101),d(2,"button",102),R("click",function(){$(e);let o=x(3);return q(o.removeBankTransfer())}),b(3,"i",103),p()()}if(n&2){let e=x(3);l(),E("src",e.bankTransferPreview,Je)}}function pee(n,t){n&1&&(d(0,"div",73),f(1),h(2,"translate"),p()),n&2&&(l(),M(" ",m(2,1,"subscriptions.bankTransferRequired")," "))}function fee(n,t){n&1&&(b(0,"div",100),f(1),h(2,"translate")),n&2&&(l(),M(" ",m(2,1,"subscriptions.submitting")," "))}function gee(n,t){n&1&&(b(0,"i",104),f(1),h(2,"translate")),n&2&&(l(),M(" ",m(2,1,"subscriptions.submitRequest")," "))}function hee(n,t){if(n&1){let e=J();d(0,"div",15)(1,"div",50)(2,"div",51)(3,"h2"),b(4,"i",52),f(5),h(6,"translate"),p(),d(7,"button",53),R("click",function(){$(e);let o=x(2);return q(o.cancelForm())}),b(8,"i",54),p()(),d(9,"form",55),R("ngSubmit",function(){$(e);let o=x(2);return q(o.onSubmit())}),d(10,"div",56)(11,"div",57)(12,"label",58),b(13,"i",10),f(14),h(15,"translate"),d(16,"span",59),f(17,"*"),p()(),d(18,"div",60)(19,"label",61)(20,"input",62),R("change",function(){$(e);let o=x(2);return q(o.onPlanChange())}),p(),d(21,"div",63),b(22,"i",64),d(23,"span",65),f(24),h(25,"translate"),p()()(),d(26,"label",61)(27,"input",66),R("change",function(){$(e);let o=x(2);return q(o.onPlanChange())}),p(),d(28,"div",63),b(29,"i",67),d(30,"span",65),f(31),h(32,"translate"),p(),d(33,"span",68),f(34),h(35,"translate"),p()()()()(),T(36,oee,22,11,"div",69),d(37,"div",70)(38,"div",71)(39,"label",58),b(40,"i",32),f(41),h(42,"translate"),d(43,"span",59),f(44,"*"),p()(),d(45,"input",72),R("change",function(){$(e);let o=x(2);return q(o.onPlanChange())}),p(),T(46,ree,3,3,"div",73),p(),d(47,"div",71)(48,"label",58),b(49,"i",36),f(50),h(51,"translate"),d(52,"span",59),f(53,"*"),p()(),b(54,"input",74),T(55,cee,3,2,"div",73),p()(),d(56,"div",71)(57,"label",58),b(58,"i",39),f(59),h(60,"translate"),d(61,"span",59),f(62,"*"),p()(),d(63,"div",75)(64,"input",76),R("change",function(o){$(e);let r=x(2);return q(r.onBankTransferSelected(o))}),p(),T(65,lee,8,6,"label",77),T(66,dee,5,3,"div",78),T(67,uee,4,1,"div",79),p(),T(68,pee,3,3,"div",73),p()(),d(69,"div",80)(70,"button",81),R("click",function(){$(e);let o=x(2);return q(o.cancelForm())}),b(71,"i",54),f(72),h(73,"translate"),p(),d(74,"button",82),T(75,fee,3,3)(76,gee,3,3),p()()()()()}if(n&2){let e,i,o=x(2);l(5),M(" ",m(6,32,"subscriptions.createNewSubscription")," "),l(4),E("formGroup",o.subscriptionForm),l(5),M(" ",m(15,34,"subscriptions.choosePlan")," "),l(5),V("selected",((e=o.subscriptionForm.get("subscriptionPlan"))==null?null:e.value)==="monthly"),l(5),O(m(25,36,"subscriptions.plans.monthly")),l(2),V("selected",((i=o.subscriptionForm.get("subscriptionPlan"))==null?null:i.value)==="yearly"),l(5),O(m(32,38,"subscriptions.plans.yearly")),l(3),O(m(35,40,"subscribe.mostPopular")),l(2),D(o.selectedPlanDetails?36:-1),l(5),M(" ",m(42,42,"subscriptions.startDate")," "),l(4),V("is-invalid",(o.startDate==null?null:o.startDate.invalid)&&(o.startDate==null?null:o.startDate.touched)),l(),D(o.startDate!=null&&o.startDate.invalid&&(o.startDate!=null&&o.startDate.touched)?46:-1),l(4),M(" ",m(51,44,"subscriptions.endDate")," "),l(4),V("is-invalid",(o.endDate==null?null:o.endDate.invalid)&&(o.endDate==null?null:o.endDate.touched)),l(),D(o.endDate!=null&&o.endDate.invalid&&(o.endDate!=null&&o.endDate.touched)?55:-1),l(4),M(" ",m(60,46,"subscriptions.bankTransferReceipt")," "),l(4),V("has-preview",o.bankTransferPreview)("is-uploading",o.isCompressingImage),l(),E("disabled",o.isCompressingImage),l(),D(!o.bankTransferPreview&&!o.isCompressingImage?65:-1),l(),D(o.isCompressingImage?66:-1),l(),D(o.bankTransferPreview&&!o.isCompressingImage?67:-1),l(),D(o.bankTransfer!=null&&o.bankTransfer.invalid&&(o.bankTransfer!=null&&o.bankTransfer.touched)?68:-1),l(4),M(" ",m(73,48,"subscriptions.cancel")," "),l(2),E("disabled",o.subscriptionForm.invalid||o.isSubmitting),l(),D(o.isSubmitting?75:76)}}function mee(n,t){if(n&1&&(d(0,"div",107)(1,"div",108)(2,"div",109),b(3,"i",25),f(4),h(5,"translate"),p(),d(6,"span",110),f(7),h(8,"translate"),p()(),d(9,"div",111)(10,"div",112)(11,"span"),b(12,"i",32),f(13),p(),b(14,"i",113),d(15,"span"),b(16,"i",36),f(17),p()(),d(18,"span",114),f(19),p()()()),n&2){let e=x().$implicit,i=x(3);l(3),V("fa-calendar",e.subscriptionPlan==="monthly")("fa-calendar-alt",e.subscriptionPlan==="yearly"),l(),M(" ",m(5,10,i.getPlanKey(e.subscriptionPlan))," "),l(2),E("ngClass",i.getStatusClass(e.status)),l(),M(" ",m(8,12,i.getStatusKey(e.status))," "),l(6),M(" ",i.formatDate(e.startDate)," "),l(4),M(" ",i.formatDate(e.endDate)," "),l(2),M(" ",i.formatDate(e.createdAt)," ")}}function _ee(n,t){if(n&1&&T(0,mee,20,14,"div",107),n&2){let e=t.$implicit,i=x(3);D(e.subscriptionId!==(i.lastSubscription==null?null:i.lastSubscription.subscriptionId)?0:-1)}}function Cee(n,t){if(n&1&&(d(0,"div",16)(1,"h2",19),b(2,"i",105),f(3),h(4,"translate"),p(),d(5,"div",106),Be(6,_ee,1,1,null,null,KX),p()()),n&2){let e=x(2);l(3),M(" ",m(4,1,"subscriptions.history")," "),l(3),je(e.allSubscriptions)}}function vee(n,t){if(n&1&&(d(0,"div",4)(1,"div",7)(2,"div",8)(3,"h1",9),b(4,"i",10),f(5),h(6,"translate"),p(),d(7,"p",11),f(8),h(9,"translate"),p()(),T(10,JX,4,3,"button",12),p(),T(11,eee,46,43,"div",13),T(12,tee,14,9,"div",14),T(13,hee,77,50,"div",15),T(14,Cee,8,3,"div",16),p()),n&2){let e=x();l(5),M(" ",m(6,7,"subscriptions.mySubscriptions")," "),l(3),O(m(9,9,"subscriptions.mySubscriptionsDescription")),l(2),D(!e.showForm&&(e.lastSubscription==null?null:e.lastSubscription.status)!=="pending"?10:-1),l(),D(e.lastSubscription&&!e.showForm?11:-1),l(),D(!e.lastSubscription&&!e.showForm?12:-1),l(),D(e.showForm?13:-1),l(),D(!e.showForm&&e.allSubscriptions.length>1?14:-1)}}var Z_=class n{constructor(t,e,i,o){this.fb=t;this.platformSubscriptions=e;this.subscribePlans=i;this.authService=o}organizationId="";lastSubscription=null;allSubscriptions=[];isLoading=!1;isSubmitting=!1;isCompressingImage=!1;showForm=!1;errorMessage="";bankTransferPreview=null;bankTransferBase64=null;subscriptionForm;selectedPlanDetails=null;destroy$=new me;ngOnInit(){let t=this.authService.getCurrentUserId();if(!t){this.errorMessage="subscriptions.notAuthenticated";return}this.organizationId=t||"",this.initializeForm(),this.loadSubscriptions()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}initializeForm(){this.subscriptionForm=this.fb.group({subscriptionPlan:["monthly",[te.required]],startDate:["",[te.required]],endDate:["",[te.required]],bankTransfer:["",[te.required]]},{validators:this.dateRangeValidator})}dateRangeValidator(t){let e=t.get("startDate"),i=t.get("endDate"),o=t.get("subscriptionPlan");if(!e||!i||!e.value||!i.value)return null;let r=new Date(e.value),s=new Date(i.value);if(s<=r)return i.setErrors({dateRangeInvalid:!0}),{dateRangeInvalid:!0};if(o?.value){let a=Math.ceil((s.getTime()-r.getTime())/864e5);if(o.value==="monthly"){if(a<28||a>31)return i.setErrors({monthlyDurationInvalid:!0}),{monthlyDurationInvalid:!0}}else if(o.value==="yearly"&&(a<365||a>366))return i.setErrors({yearlyDurationInvalid:!0}),{yearlyDurationInvalid:!0}}return null}loadSubscriptions(){this.organizationId&&(this.isLoading=!0,this.errorMessage="",this.platformSubscriptions.getSubscriptions(this.organizationId).pipe(ne(this.destroy$)).subscribe({next:t=>{this.allSubscriptions=t,this.platformSubscriptions.getLastSubscription(this.organizationId).pipe(ne(this.destroy$)).subscribe({next:e=>{this.lastSubscription=e,this.isLoading=!1},error:e=>{console.error("Error loading last subscription:",e),this.isLoading=!1}})},error:t=>{console.error("Error loading subscriptions:",t),this.errorMessage="subscriptions.loadError",this.isLoading=!1}}))}compressAndResizeImage(t){return new Promise((e,i)=>{let o=new FileReader;o.onload=r=>{let s=new Image;s.onload=()=>{let c=s.width,u=s.height;c>600&&(u=u*600/c,c=600);let C=document.createElement("canvas");C.width=c,C.height=u;let v=C.getContext("2d");if(!v){i(new Error("Could not get canvas context"));return}v.drawImage(s,0,0,c,u);let w=C.toDataURL("image/jpeg",.45);e(w)},s.onerror=()=>{i(new Error("Failed to load image"))},s.src=r.target?.result},o.onerror=()=>{i(new Error("Failed to read file"))},o.readAsDataURL(t)})}onBankTransferSelected(t){let i=t.target.files?.[0];if(i){if(!i.type.startsWith("image/")){va.default.fire({icon:"error",title:"\u062E\u0637\u0623",text:"\u064A\u0631\u062C\u0649 \u0627\u062E\u062A\u064A\u0627\u0631 \u0645\u0644\u0641 \u0635\u0648\u0631\u0629 \u0641\u0642\u0637.",confirmButtonText:"\u062D\u0633\u0646\u0627\u064B",confirmButtonColor:"#DC2626"});return}if(i.size>5*1024*1024){va.default.fire({icon:"error",title:"\u062E\u0637\u0623",text:"\u062D\u062C\u0645 \u0627\u0644\u0635\u0648\u0631\u0629 \u0643\u0628\u064A\u0631 \u062C\u062F\u0627\u064B. \u0627\u0644\u062D\u062F \u0627\u0644\u0623\u0642\u0635\u0649 5 \u0645\u064A\u062C\u0627\u0628\u0627\u064A\u062A.",confirmButtonText:"\u062D\u0633\u0646\u0627\u064B",confirmButtonColor:"#DC2626"});return}this.isCompressingImage=!0,this.compressAndResizeImage(i).then(o=>{this.bankTransferBase64=o,this.bankTransferPreview=o,this.subscriptionForm.patchValue({bankTransfer:"selected"}),this.isCompressingImage=!1}).catch(o=>{console.error("Error compressing image:",o),this.isCompressingImage=!1,va.default.fire({icon:"error",title:"\u062E\u0637\u0623",text:"\u062D\u062F\u062B \u062E\u0637\u0623 \u0623\u062B\u0646\u0627\u0621 \u0645\u0639\u0627\u0644\u062C\u0629 \u0627\u0644\u0635\u0648\u0631\u0629. \u064A\u0631\u062C\u0649 \u0627\u0644\u0645\u062D\u0627\u0648\u0644\u0629 \u0645\u0631\u0629 \u0623\u062E\u0631\u0649.",confirmButtonText:"\u062D\u0633\u0646\u0627\u064B",confirmButtonColor:"#DC2626"})})}}removeBankTransfer(){this.bankTransferPreview=null,this.bankTransferBase64=null,this.subscriptionForm.patchValue({bankTransfer:""});let t=document.getElementById("bankTransfer");t&&(t.value="")}showCreateForm(){this.subscriptionForm.reset({subscriptionPlan:"monthly",startDate:"",endDate:"",bankTransfer:""}),this.bankTransferPreview=null,this.bankTransferBase64=null,this.showForm=!0,this.errorMessage="",this.selectedPlanDetails=this.subscribePlans.getPlanById("monthly")||null}cancelForm(){this.showForm=!1,this.errorMessage="",this.bankTransferPreview=null,this.bankTransferBase64=null,this.selectedPlanDetails=null,this.subscriptionForm.reset({subscriptionPlan:"monthly",startDate:"",endDate:"",bankTransfer:""})}onPlanChange(){let t=this.subscriptionForm.get("subscriptionPlan")?.value,e=this.subscriptionForm.get("startDate")?.value;if(t?this.selectedPlanDetails=this.subscribePlans.getPlanById(t)||null:this.selectedPlanDetails=null,!t||!e){this.subscriptionForm.patchValue({endDate:""},{emitEvent:!1});return}let i=new Date(e),o=this.calculateEndDate(i,t),r=this.formatDateForInput(o);this.subscriptionForm.patchValue({endDate:r},{emitEvent:!1})}calculateEndDate(t,e){let i=new Date(t);if(e==="monthly"){let o=i.getMonth(),r=i.getFullYear(),s=i.getDate(),a=o+1,c=r;a>11&&(a=0,c+=1);let u=new Date(c,a+1,0).getDate(),C=s>u?u:s;i.setFullYear(c,a,C)}else if(e==="yearly"){let o=i.getFullYear(),r=i.getMonth(),s=i.getDate(),a=o+1;r===1&&s===29?(u=>u%4===0&&u%100!==0||u%400===0)(a)?i.setFullYear(a,r,s):i.setFullYear(a,1,28):i.setFullYear(a,r,s)}return i}formatDateForInput(t){let e=t.getFullYear(),i=String(t.getMonth()+1).padStart(2,"0"),o=String(t.getDate()).padStart(2,"0");return`${e}-${i}-${o}`}onSubmit(){if(this.subscriptionForm.invalid){this.markFormGroupTouched(this.subscriptionForm);return}if(!this.bankTransferBase64){va.default.fire({icon:"warning",title:"\u062A\u062D\u0630\u064A\u0631",text:"\u064A\u0631\u062C\u0649 \u0631\u0641\u0639 \u0635\u0648\u0631\u0629 \u0625\u064A\u0635\u0627\u0644 \u0627\u0644\u062A\u062D\u0648\u064A\u0644 \u0627\u0644\u0628\u0646\u0643\u064A.",confirmButtonText:"\u062D\u0633\u0646\u0627\u064B",confirmButtonColor:"#D97706"});return}if(!this.organizationId){this.errorMessage="subscriptions.organizationIdRequired";return}this.isSubmitting=!0,this.errorMessage="";let{subscriptionPlan:t,startDate:e,endDate:i}=this.subscriptionForm.value,o=new Date(e).toISOString(),r=new Date(i).toISOString(),s={startDate:o,endDate:r,subscriptionPlan:t,imageOfBankTransfer:this.bankTransferBase64};this.platformSubscriptions.createSubscription(this.organizationId,s).pipe(ut(a=>(this.isSubmitting=!1,console.error("Error creating subscription:",a),va.default.fire({icon:"error",title:"\u062E\u0637\u0623",text:"\u062D\u062F\u062B \u062E\u0637\u0623 \u0623\u062B\u0646\u0627\u0621 \u0625\u0646\u0634\u0627\u0621 \u0637\u0644\u0628 \u0627\u0644\u0627\u0634\u062A\u0631\u0627\u0643. \u064A\u0631\u062C\u0649 \u0627\u0644\u0645\u062D\u0627\u0648\u0644\u0629 \u0645\u0631\u0629 \u0623\u062E\u0631\u0649.",confirmButtonText:"\u062D\u0633\u0646\u0627\u064B",confirmButtonColor:"#DC2626"}),Q(null)))).subscribe({next:a=>{a!==null&&(this.isSubmitting=!1,this.showForm=!1,this.bankTransferPreview=null,this.bankTransferBase64=null,va.default.fire({icon:"success",title:"\u062A\u0645 \u0625\u0631\u0633\u0627\u0644 \u0627\u0644\u0637\u0644\u0628 \u0628\u0646\u062C\u0627\u062D!",text:"\u062A\u0645 \u0625\u0631\u0633\u0627\u0644 \u0637\u0644\u0628 \u0627\u0644\u0627\u0634\u062A\u0631\u0627\u0643 \u0628\u0646\u062C\u0627\u062D. \u0633\u064A\u062A\u0645 \u0645\u0631\u0627\u062C\u0639\u062A\u0647 \u0645\u0646 \u0642\u0628\u0644 \u0627\u0644\u0645\u062F\u064A\u0631 \u0642\u0631\u064A\u0628\u0627\u064B.",confirmButtonText:"\u062D\u0633\u0646\u0627\u064B",confirmButtonColor:"#16A34A",timer:3e3,timerProgressBar:!0}),this.loadSubscriptions())}})}getStatusClass(t){switch(t){case"approved":return"badge-success";case"pending":return"badge-warning";case"rejected":return"badge-error";default:return"badge-secondary"}}getStatusKey(t){return`subscriptions.statusTypes.${t}`}getPlanKey(t){return`subscriptions.plans.${t}`}formatDate(t){return t?new Date(t).toLocaleDateString("ar-EG",{year:"numeric",month:"long",day:"numeric"}):""}isSubscriptionActive(t){if(t.status!=="approved")return!1;let e=new Date,i=new Date(t.startDate),o=new Date(t.endDate);return e>=i&&e<=o}getDaysRemaining(t){if(t.status!=="approved")return null;let e=new Date,o=new Date(t.endDate).getTime()-e.getTime();return Math.ceil(o/(1e3*60*60*24))}openImageModal(t){va.default.fire({imageUrl:t,imageAlt:"Bank Transfer Receipt",showCloseButton:!0,showConfirmButton:!1,width:"90%",padding:"0"})}markFormGroupTouched(t){Object.keys(t.controls).forEach(e=>{t.get(e)?.markAsTouched()})}get subscriptionPlan(){return this.subscriptionForm.get("subscriptionPlan")}get startDate(){return this.subscriptionForm.get("startDate")}get endDate(){return this.subscriptionForm.get("endDate")}get bankTransfer(){return this.subscriptionForm.get("bankTransfer")}static \u0275fac=function(e){return new(e||n)(A(xn),A(Br),A(xd),A(Dt))};static \u0275cmp=ce({type:n,selectors:[["app-my-subscriptions"]],decls:5,vars:3,consts:[[1,"my-subscriptions-container"],[1,"container"],[1,"loading-state"],[1,"alert","alert-error"],[1,"subscriptions-content"],[1,"spinner"],[1,"fas","fa-exclamation-circle"],[1,"page-header"],[1,"header-content"],[1,"page-title"],[1,"fas","fa-crown"],[1,"page-subtitle"],["type","button",1,"btn","btn-primary"],[1,"current-subscription-section"],[1,"empty-state-section"],[1,"form-section"],[1,"history-section"],["type","button",1,"btn","btn-primary",3,"click"],[1,"fas","fa-plus"],[1,"section-title"],[1,"fas","fa-star"],[1,"subscription-card"],[1,"card-header"],[1,"plan-info"],[1,"plan-badge"],[1,"fas"],[1,"status-badge",3,"ngClass"],[1,"days-counter"],[1,"card-body"],[1,"info-grid"],[1,"info-item"],[1,"info-icon"],[1,"fas","fa-calendar-plus"],[1,"info-content"],[1,"info-label"],[1,"info-value"],[1,"fas","fa-calendar-minus"],[1,"receipt-section"],[1,"receipt-label"],[1,"fas","fa-receipt"],[1,"receipt-preview"],["alt","Bank Transfer Receipt",3,"click","src"],[1,"receipt-overlay"],[1,"fas","fa-search-plus"],[1,"days-number"],[1,"days-label"],[1,"empty-state-card"],[1,"empty-icon"],[1,"fas","fa-credit-card"],["type","button",1,"btn","btn-primary","btn-lg",3,"click"],[1,"form-card"],[1,"form-header"],[1,"fas","fa-file-invoice"],["type","button",1,"btn-close",3,"click"],[1,"fas","fa-times"],[3,"ngSubmit","formGroup"],[1,"form-body"],[1,"plan-selection"],[1,"form-label"],[1,"required"],[1,"plan-options"],[1,"plan-option"],["type","radio","formControlName","subscriptionPlan","value","monthly",3,"change"],[1,"plan-option-content"],[1,"fas","fa-calendar"],[1,"plan-name"],["type","radio","formControlName","subscriptionPlan","value","yearly",3,"change"],[1,"fas","fa-calendar-alt"],[1,"plan-badge-popular"],[1,"price-display"],[1,"date-fields"],[1,"form-group"],["type","date","formControlName","startDate",1,"form-control",3,"change"],[1,"invalid-feedback"],["type","date","formControlName","endDate","readonly","",1,"form-control"],[1,"upload-area"],["type","file","id","bankTransfer","accept","image/*",1,"file-input",3,"change","disabled"],["for","bankTransfer",1,"upload-label"],[1,"upload-loading"],[1,"preview-container"],[1,"form-footer"],["type","button",1,"btn","btn-secondary",3,"click"],["type","submit",1,"btn","btn-primary",3,"disabled"],[1,"price-card"],[1,"price-header"],[1,"fas","fa-tag"],[1,"price-body"],[1,"price-amount"],[1,"amount"],[1,"currency"],[1,"price-info"],[1,"price-monthly"],["routerLink","/paymentMethods",1,"payment-methods-link"],[1,"fas","fa-wallet"],[1,"fas","fa-external-link-alt"],[1,"price-savings"],[1,"fas","fa-percent"],[1,"fas","fa-cloud-upload-alt"],[1,"upload-text"],[1,"upload-hint"],[1,"spinner-sm"],["alt","Receipt Preview",3,"src"],["type","button",1,"btn-remove",3,"click"],[1,"fas","fa-trash-alt"],[1,"fas","fa-paper-plane"],[1,"fas","fa-history"],[1,"history-list"],[1,"history-item"],[1,"history-item-header"],[1,"history-plan"],[1,"status-badge","sm",3,"ngClass"],[1,"history-item-body"],[1,"history-dates"],[1,"fas","fa-arrow-left"],[1,"history-created"]],template:function(e,i){e&1&&(d(0,"div",0)(1,"div",1),T(2,YX,5,3,"div",2),T(3,ZX,4,3,"div",3),T(4,vee,15,11,"div",4),p()()),e&2&&(l(2),D(i.isLoading?2:-1),l(),D(!i.isLoading&&i.errorMessage?3:-1),l(),D(!i.isLoading&&!i.errorMessage?4:-1))},dependencies:[pe,gn,an,sn,ht,yf,bt,rn,Wt,Zt,fe,Ue,_e],styles:[".my-subscriptions-container[_ngcontent-%COMP%]{width:100%;min-height:100vh;padding:64px;background:linear-gradient(180deg,#f6f7f9,#f3f1ec)}.container[_ngcontent-%COMP%]{max-width:900px;margin:0 auto}.loading-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;min-height:400px;text-align:center}.loading-state[_ngcontent-%COMP%]   .spinner[_ngcontent-%COMP%]{width:48px;height:48px;border:4px solid rgba(201,162,77,.2);border-top-color:#c9a24d;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite}.loading-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#0f172ab3;font-size:1rem;margin-top:16px;font-family:Cairo,sans-serif}@keyframes _ngcontent-%COMP%_spin{to{transform:rotate(360deg)}}.alert-error[_ngcontent-%COMP%]{padding:16px 32px;border-radius:16px;background:#dc26261a;color:#dc2626;border:1px solid rgba(220,38,38,.2);display:flex;align-items:center;gap:8px;font-family:Cairo,sans-serif}.alert-error[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.2rem}.page-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:64px;padding-bottom:32px;border-bottom:2px solid rgba(14,58,93,.1);gap:16px;flex-wrap:wrap}.page-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{flex:1}.page-header[_ngcontent-%COMP%]   .page-title[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;color:#0e3a5d;margin:0 0 4px;font-family:Cairo,sans-serif;display:flex;align-items:center;gap:16px}.page-header[_ngcontent-%COMP%]   .page-title[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#c9a24d;font-size:1.8rem}.page-header[_ngcontent-%COMP%]   .page-subtitle[_ngcontent-%COMP%]{font-size:1rem;color:#0f172a99;margin:0;font-family:Cairo,sans-serif}.section-title[_ngcontent-%COMP%]{font-size:1.3rem;font-weight:700;color:#0e3a5d;margin-bottom:32px;font-family:Cairo,sans-serif;display:flex;align-items:center;gap:8px}.section-title[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#c9a24d}.current-subscription-section[_ngcontent-%COMP%]{margin-bottom:64px}.subscription-card[_ngcontent-%COMP%]{background:#fff;border-radius:16px;overflow:hidden;box-shadow:0 4px 8px #00000026;border:2px solid rgba(14,58,93,.1)}.subscription-card.active[_ngcontent-%COMP%]{border-color:#16a34a}.subscription-card.pending[_ngcontent-%COMP%]{border-color:#d97706}.subscription-card.rejected[_ngcontent-%COMP%]{border-color:#dc2626}.subscription-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:32px;background:linear-gradient(135deg,#0e3a5d,#1e5c8a);color:#fff;flex-wrap:wrap;gap:16px}.subscription-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .plan-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:16px;flex-wrap:wrap}.subscription-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .plan-badge[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:4px;padding:4px 16px;background:#fff3;border-radius:8px;font-weight:600;font-family:Cairo,sans-serif}.subscription-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .plan-badge.yearly[_ngcontent-%COMP%]{background:#c9a24d}.subscription-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .status-badge[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:4px;padding:4px 16px;border-radius:8px;font-weight:600;font-size:.9rem;font-family:Cairo,sans-serif}.subscription-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .status-badge.badge-success[_ngcontent-%COMP%]{background:#16a34a;color:#fff}.subscription-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .status-badge.badge-warning[_ngcontent-%COMP%]{background:#d97706;color:#fff}.subscription-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .status-badge.badge-error[_ngcontent-%COMP%]{background:#dc2626;color:#fff}.subscription-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .days-counter[_ngcontent-%COMP%]{text-align:center;padding:8px 32px;background:#ffffff26;border-radius:8px}.subscription-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .days-counter[_ngcontent-%COMP%]   .days-number[_ngcontent-%COMP%]{display:block;font-size:2rem;font-weight:700;line-height:1;font-family:Cairo,sans-serif}.subscription-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .days-counter[_ngcontent-%COMP%]   .days-label[_ngcontent-%COMP%]{font-size:.8rem;opacity:.9;font-family:Cairo,sans-serif}.subscription-card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{padding:64px}.subscription-card[_ngcontent-%COMP%]   .info-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:32px;margin-bottom:64px}.subscription-card[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:16px}.subscription-card[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]   .info-icon[_ngcontent-%COMP%]{width:44px;height:44px;display:flex;align-items:center;justify-content:center;background:#c9a24d1a;border-radius:8px;flex-shrink:0}.subscription-card[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]   .info-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#c9a24d;font-size:1.2rem}.subscription-card[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]   .info-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:4px}.subscription-card[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]   .info-content[_ngcontent-%COMP%]   .info-label[_ngcontent-%COMP%]{font-size:.85rem;color:#0f172a99;font-family:Cairo,sans-serif}.subscription-card[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]   .info-content[_ngcontent-%COMP%]   .info-value[_ngcontent-%COMP%]{font-size:1rem;font-weight:600;color:#0e3a5d;font-family:Cairo,sans-serif}.subscription-card[_ngcontent-%COMP%]   .receipt-section[_ngcontent-%COMP%]{padding-top:32px;border-top:1px solid rgba(14,58,93,.1)}.subscription-card[_ngcontent-%COMP%]   .receipt-section[_ngcontent-%COMP%]   .receipt-label[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;font-weight:600;color:#0f172a;margin-bottom:16px;font-family:Cairo,sans-serif}.subscription-card[_ngcontent-%COMP%]   .receipt-section[_ngcontent-%COMP%]   .receipt-label[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#0e3a5d}.subscription-card[_ngcontent-%COMP%]   .receipt-section[_ngcontent-%COMP%]   .receipt-preview[_ngcontent-%COMP%]{position:relative;display:inline-block;cursor:pointer;border-radius:8px;overflow:hidden}.subscription-card[_ngcontent-%COMP%]   .receipt-section[_ngcontent-%COMP%]   .receipt-preview[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;max-height:200px;display:block;transition:transform .3s ease}.subscription-card[_ngcontent-%COMP%]   .receipt-section[_ngcontent-%COMP%]   .receipt-preview[_ngcontent-%COMP%]   .receipt-overlay[_ngcontent-%COMP%]{position:absolute;inset:0;background:#0f172a80;display:flex;align-items:center;justify-content:center;opacity:0;transition:opacity .3s ease}.subscription-card[_ngcontent-%COMP%]   .receipt-section[_ngcontent-%COMP%]   .receipt-preview[_ngcontent-%COMP%]   .receipt-overlay[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#fff;font-size:1.5rem}.subscription-card[_ngcontent-%COMP%]   .receipt-section[_ngcontent-%COMP%]   .receipt-preview[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{transform:scale(1.02)}.subscription-card[_ngcontent-%COMP%]   .receipt-section[_ngcontent-%COMP%]   .receipt-preview[_ngcontent-%COMP%]:hover   .receipt-overlay[_ngcontent-%COMP%]{opacity:1}.empty-state-section[_ngcontent-%COMP%]{padding:64px 0}.empty-state-card[_ngcontent-%COMP%]{background:#fff;border-radius:16px;padding:128px;text-align:center;box-shadow:0 4px 8px #00000026;border:2px dashed rgba(14,58,93,.2)}.empty-state-card[_ngcontent-%COMP%]   .empty-icon[_ngcontent-%COMP%]{width:80px;height:80px;margin:0 auto 32px;display:flex;align-items:center;justify-content:center;background:#c9a24d1a;border-radius:50%}.empty-state-card[_ngcontent-%COMP%]   .empty-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:2.5rem;color:#c9a24d}.empty-state-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;color:#0e3a5d;margin-bottom:8px;font-family:Cairo,sans-serif}.empty-state-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem;color:#0f172a99;margin-bottom:32px;font-family:Cairo,sans-serif}.form-section[_ngcontent-%COMP%]{margin-bottom:64px}.form-card[_ngcontent-%COMP%]{background:#fff;border-radius:16px;overflow:hidden;box-shadow:0 4px 8px #00000026}.form-card[_ngcontent-%COMP%]   .form-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:32px;background:linear-gradient(135deg,#0e3a5d,#1e5c8a);color:#fff}.form-card[_ngcontent-%COMP%]   .form-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.3rem;font-weight:700;margin:0;font-family:Cairo,sans-serif;display:flex;align-items:center;gap:8px}.form-card[_ngcontent-%COMP%]   .form-header[_ngcontent-%COMP%]   .btn-close[_ngcontent-%COMP%]{width:36px;height:36px;border:none;background:#fff3;color:#fff;border-radius:50%;display:flex;align-items:center;justify-content:center;cursor:pointer;transition:background .2s ease}.form-card[_ngcontent-%COMP%]   .form-header[_ngcontent-%COMP%]   .btn-close[_ngcontent-%COMP%]:hover{background:#ffffff4d}.form-card[_ngcontent-%COMP%]   .form-body[_ngcontent-%COMP%]{padding:64px}.form-card[_ngcontent-%COMP%]   .form-footer[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:16px;padding:32px 64px;background:#f6f7f980;border-top:1px solid rgba(14,58,93,.1)}.plan-selection[_ngcontent-%COMP%]{margin-bottom:64px}.plan-selection[_ngcontent-%COMP%]   .plan-options[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:16px;margin-top:8px}.plan-selection[_ngcontent-%COMP%]   .plan-option[_ngcontent-%COMP%]{position:relative;cursor:pointer}.plan-selection[_ngcontent-%COMP%]   .plan-option[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{position:absolute;opacity:0}.plan-selection[_ngcontent-%COMP%]   .plan-option[_ngcontent-%COMP%]   .plan-option-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:8px;padding:32px;background:#f6f7f980;border:2px solid rgba(14,58,93,.1);border-radius:16px;transition:all .3s ease}.plan-selection[_ngcontent-%COMP%]   .plan-option[_ngcontent-%COMP%]   .plan-option-content[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:2rem;color:#0e3a5d}.plan-selection[_ngcontent-%COMP%]   .plan-option[_ngcontent-%COMP%]   .plan-option-content[_ngcontent-%COMP%]   .plan-name[_ngcontent-%COMP%]{font-weight:600;color:#0f172a;font-family:Cairo,sans-serif}.plan-selection[_ngcontent-%COMP%]   .plan-option[_ngcontent-%COMP%]   .plan-option-content[_ngcontent-%COMP%]   .plan-badge-popular[_ngcontent-%COMP%]{font-size:.75rem;padding:4px 8px;background:#c9a24d;color:#fff;border-radius:4px;font-weight:600;font-family:Cairo,sans-serif}.plan-selection[_ngcontent-%COMP%]   .plan-option.selected[_ngcontent-%COMP%]   .plan-option-content[_ngcontent-%COMP%]{background:#c9a24d0d;border-color:#c9a24d}.plan-selection[_ngcontent-%COMP%]   .plan-option.selected[_ngcontent-%COMP%]   .plan-option-content[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#c9a24d}.plan-selection[_ngcontent-%COMP%]   .plan-option[_ngcontent-%COMP%]:hover:not(.selected)   .plan-option-content[_ngcontent-%COMP%]{border-color:#0e3a5d4d}.price-display[_ngcontent-%COMP%]{margin-bottom:64px}.price-card[_ngcontent-%COMP%]{background:linear-gradient(135deg,#c9a24d0d,#c9a24d1a);border:2px solid rgba(201,162,77,.2);border-radius:16px;overflow:hidden}.price-card[_ngcontent-%COMP%]   .price-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;padding:16px 32px;background:#c9a24d;color:#fff;font-weight:600;font-family:Cairo,sans-serif}.price-card[_ngcontent-%COMP%]   .price-header[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1rem}.price-card[_ngcontent-%COMP%]   .price-body[_ngcontent-%COMP%]{padding:32px;text-align:center}.price-card[_ngcontent-%COMP%]   .price-body[_ngcontent-%COMP%]   .price-amount[_ngcontent-%COMP%]{display:flex;align-items:baseline;justify-content:center;gap:8px;margin-bottom:16px}.price-card[_ngcontent-%COMP%]   .price-body[_ngcontent-%COMP%]   .price-amount[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%]{font-size:3rem;font-weight:700;color:#0e3a5d;line-height:1;font-family:Cairo,sans-serif}.price-card[_ngcontent-%COMP%]   .price-body[_ngcontent-%COMP%]   .price-amount[_ngcontent-%COMP%]   .currency[_ngcontent-%COMP%]{font-size:1.2rem;color:#0f172a99;font-family:Cairo,sans-serif}.price-card[_ngcontent-%COMP%]   .price-body[_ngcontent-%COMP%]   .price-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:4px}.price-card[_ngcontent-%COMP%]   .price-body[_ngcontent-%COMP%]   .price-info[_ngcontent-%COMP%]   .price-monthly[_ngcontent-%COMP%]{font-size:.95rem;color:#0f172ab3;font-family:Cairo,sans-serif}.price-card[_ngcontent-%COMP%]   .price-body[_ngcontent-%COMP%]   .price-info[_ngcontent-%COMP%]   .price-savings[_ngcontent-%COMP%]{display:inline-flex;align-items:center;justify-content:center;gap:4px;padding:4px 16px;background:#16a34a;color:#fff;border-radius:8px;font-weight:600;font-size:.9rem;font-family:Cairo,sans-serif}.price-card[_ngcontent-%COMP%]   .price-body[_ngcontent-%COMP%]   .price-info[_ngcontent-%COMP%]   .price-savings[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.8rem}.price-card[_ngcontent-%COMP%]   .payment-methods-link[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:8px;padding:16px;background:#0e3a5d0d;border-top:1px solid rgba(14,58,93,.1);color:#0e3a5d;font-weight:600;font-size:.95rem;font-family:Cairo,sans-serif;text-decoration:none;transition:all .2s ease}.price-card[_ngcontent-%COMP%]   .payment-methods-link[_ngcontent-%COMP%]:hover{background:#0e3a5d1a;color:#0e3a5d}.price-card[_ngcontent-%COMP%]   .payment-methods-link[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]:last-child{font-size:.8rem;opacity:.7}.date-fields[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:32px;margin-bottom:32px}.form-group[_ngcontent-%COMP%]{margin-bottom:32px}.form-group[_ngcontent-%COMP%]   .form-label[_ngcontent-%COMP%]{display:flex;align-items:center;gap:4px;font-weight:600;color:#0f172a;margin-bottom:8px;font-family:Cairo,sans-serif}.form-group[_ngcontent-%COMP%]   .form-label[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#0e3a5d}.form-group[_ngcontent-%COMP%]   .form-label[_ngcontent-%COMP%]   .required[_ngcontent-%COMP%]{color:#dc2626}.form-group[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{width:100%;padding:8px 16px;border:2px solid rgba(14,58,93,.15);border-radius:8px;font-size:1rem;font-family:Cairo,sans-serif;transition:border-color .2s ease,box-shadow .2s ease}.form-group[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:focus{outline:none;border-color:#c9a24d;box-shadow:0 0 0 3px #c9a24d1a}.form-group[_ngcontent-%COMP%]   .form-control[readonly][_ngcontent-%COMP%]{background:#0f172a08;cursor:not-allowed}.form-group[_ngcontent-%COMP%]   .form-control.is-invalid[_ngcontent-%COMP%]{border-color:#dc2626}.form-group[_ngcontent-%COMP%]   .invalid-feedback[_ngcontent-%COMP%]{display:block;color:#dc2626;font-size:.85rem;margin-top:4px;font-family:Cairo,sans-serif}.upload-area[_ngcontent-%COMP%]{position:relative;min-height:180px;border:2px dashed rgba(14,58,93,.25);border-radius:16px;transition:all .3s ease}.upload-area[_ngcontent-%COMP%]:hover:not(.has-preview):not(.is-uploading){border-color:#c9a24d;background:#c9a24d05}.upload-area.has-preview[_ngcontent-%COMP%]{border-style:solid;border-color:#0e3a5d26}.upload-area[_ngcontent-%COMP%]   .file-input[_ngcontent-%COMP%]{position:absolute;opacity:0;width:100%;height:100%;cursor:pointer;z-index:1}.upload-area[_ngcontent-%COMP%]   .file-input[_ngcontent-%COMP%]:disabled{cursor:not-allowed}.upload-area[_ngcontent-%COMP%]   .upload-label[_ngcontent-%COMP%]{position:absolute;inset:0;display:flex;flex-direction:column;align-items:center;justify-content:center;cursor:pointer;padding:32px}.upload-area[_ngcontent-%COMP%]   .upload-label[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:3rem;color:#0e3a5d66;margin-bottom:16px}.upload-area[_ngcontent-%COMP%]   .upload-label[_ngcontent-%COMP%]   .upload-text[_ngcontent-%COMP%]{font-weight:600;color:#0f172a;font-family:Cairo,sans-serif;margin-bottom:4px}.upload-area[_ngcontent-%COMP%]   .upload-label[_ngcontent-%COMP%]   .upload-hint[_ngcontent-%COMP%]{font-size:.85rem;color:#0f172a80;font-family:Cairo,sans-serif}.upload-area[_ngcontent-%COMP%]   .upload-loading[_ngcontent-%COMP%]{position:absolute;inset:0;display:flex;flex-direction:column;align-items:center;justify-content:center;gap:16px;background:#ffffffe6}.upload-area[_ngcontent-%COMP%]   .upload-loading[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:500;color:#c9a24d;font-family:Cairo,sans-serif}.upload-area[_ngcontent-%COMP%]   .preview-container[_ngcontent-%COMP%]{position:relative;padding:16px;text-align:center}.upload-area[_ngcontent-%COMP%]   .preview-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;max-height:200px;border-radius:8px;box-shadow:0 1px 2px #0000001a}.upload-area[_ngcontent-%COMP%]   .preview-container[_ngcontent-%COMP%]   .btn-remove[_ngcontent-%COMP%]{position:absolute;top:16px;right:16px;width:36px;height:36px;border:none;background:#dc2626;color:#fff;border-radius:50%;display:flex;align-items:center;justify-content:center;cursor:pointer;box-shadow:0 1px 2px #0000001a;transition:background .2s ease;z-index:2}.upload-area[_ngcontent-%COMP%]   .preview-container[_ngcontent-%COMP%]   .btn-remove[_ngcontent-%COMP%]:hover{background:#b21d1d}.spinner-sm[_ngcontent-%COMP%]{width:20px;height:20px;border:2px solid rgba(201,162,77,.2);border-top-color:#c9a24d;border-radius:50%;animation:_ngcontent-%COMP%_spin .8s linear infinite}.history-section[_ngcontent-%COMP%]{margin-top:64px}.history-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px}.history-item[_ngcontent-%COMP%]{background:#fff;border-radius:16px;padding:32px;box-shadow:0 1px 2px #0000001a;border:1px solid rgba(14,58,93,.1);transition:box-shadow .2s ease}.history-item[_ngcontent-%COMP%]:hover{box-shadow:0 4px 8px #00000026}.history-item[_ngcontent-%COMP%]   .history-item-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:16px;flex-wrap:wrap;gap:8px}.history-item[_ngcontent-%COMP%]   .history-item-header[_ngcontent-%COMP%]   .history-plan[_ngcontent-%COMP%]{font-weight:600;color:#0e3a5d;font-family:Cairo,sans-serif;display:flex;align-items:center;gap:8px}.history-item[_ngcontent-%COMP%]   .history-item-header[_ngcontent-%COMP%]   .history-plan[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#c9a24d}.history-item[_ngcontent-%COMP%]   .history-item-header[_ngcontent-%COMP%]   .status-badge.sm[_ngcontent-%COMP%]{font-size:.8rem;padding:4px 8px}.history-item[_ngcontent-%COMP%]   .history-item-body[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;flex-wrap:wrap;gap:8px}.history-item[_ngcontent-%COMP%]   .history-item-body[_ngcontent-%COMP%]   .history-dates[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;font-size:.9rem;color:#0f172ab3;font-family:Cairo,sans-serif}.history-item[_ngcontent-%COMP%]   .history-item-body[_ngcontent-%COMP%]   .history-dates[_ngcontent-%COMP%] > i[_ngcontent-%COMP%]{color:#0f172a4d}.history-item[_ngcontent-%COMP%]   .history-item-body[_ngcontent-%COMP%]   .history-dates[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:flex;align-items:center;gap:4px}.history-item[_ngcontent-%COMP%]   .history-item-body[_ngcontent-%COMP%]   .history-dates[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#0e3a5d;font-size:.85rem}.history-item[_ngcontent-%COMP%]   .history-item-body[_ngcontent-%COMP%]   .history-created[_ngcontent-%COMP%]{font-size:.85rem;color:#0f172a80;font-family:Cairo,sans-serif}.btn[_ngcontent-%COMP%]{display:inline-flex;align-items:center;justify-content:center;gap:8px;padding:8px 32px;border:none;border-radius:8px;font-weight:600;font-size:1rem;font-family:Cairo,sans-serif;cursor:pointer;transition:all .2s ease;text-decoration:none}.btn[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.btn.btn-primary[_ngcontent-%COMP%]{background:#c9a24d;color:#fff}.btn.btn-primary[_ngcontent-%COMP%]:hover:not(:disabled){background:#a8832f}.btn.btn-secondary[_ngcontent-%COMP%]{background:#0f172a1a;color:#0f172a}.btn.btn-secondary[_ngcontent-%COMP%]:hover:not(:disabled){background:#0f172a26}.btn.btn-lg[_ngcontent-%COMP%]{padding:16px 64px;font-size:1.1rem}.btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.9em}.status-badge[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:4px;padding:4px 16px;border-radius:8px;font-weight:600;font-size:.9rem;font-family:Cairo,sans-serif}.status-badge.badge-success[_ngcontent-%COMP%]{background:#16a34a1a;color:#16a34a}.status-badge.badge-warning[_ngcontent-%COMP%]{background:#d977061a;color:#d97706}.status-badge.badge-error[_ngcontent-%COMP%]{background:#dc26261a;color:#dc2626}@media (max-width: 767.98px){.my-subscriptions-container[_ngcontent-%COMP%]{padding:32px 16px}.page-header[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch}.page-header[_ngcontent-%COMP%]   .page-title[_ngcontent-%COMP%]{font-size:1.5rem}.page-header[_ngcontent-%COMP%]   .page-title[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.4rem}.page-header[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{width:100%}.subscription-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{flex-direction:column;text-align:center}.subscription-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .plan-info[_ngcontent-%COMP%]{justify-content:center}.plan-selection[_ngcontent-%COMP%]   .plan-options[_ngcontent-%COMP%], .date-fields[_ngcontent-%COMP%]{grid-template-columns:1fr}.form-footer[_ngcontent-%COMP%]{flex-direction:column-reverse}.form-footer[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{width:100%}.history-item[_ngcontent-%COMP%]   .history-item-body[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start}.history-item[_ngcontent-%COMP%]   .history-dates[_ngcontent-%COMP%]{flex-wrap:wrap}}"]})};var J_=Un(jn());function bee(n,t){n&1&&(d(0,"div",5)(1,"div",8)(2,"span",9),f(3),h(4,"translate"),p()(),d(5,"p",10),f(6),h(7,"translate"),p()()),n&2&&(l(3),O(m(4,2,"notifications.loading")),l(3),O(m(7,4,"notifications.loading")))}function yee(n,t){if(n&1&&(d(0,"div",6),b(1,"i",11),f(2),h(3,"translate"),p()),n&2){let e=x();l(2),M(" ",m(3,1,e.errorMessage)," ")}}function Mee(n,t){n&1&&(d(0,"span",25),b(1,"i",30),f(2),h(3,"translate"),p()),n&2&&(l(2),M(" ",m(3,1,"notifications.read")," "))}function Pee(n,t){n&1&&(d(0,"span",26),b(1,"i",31),f(2),h(3,"translate"),p()),n&2&&(l(2),M(" ",m(3,1,"notifications.unread")," "))}function Oee(n,t){if(n&1){let e=J();d(0,"div",7)(1,"div",12)(2,"div",13)(3,"div",14),b(4,"i",15),p()(),d(5,"div",16)(6,"span",17),f(7),h(8,"translate"),p(),d(9,"span",18),b(10,"i",19),f(11),p()()(),d(12,"div",20)(13,"h1",21),f(14),p(),d(15,"div",22)(16,"p"),f(17),p()()(),d(18,"div",23)(19,"div",24),T(20,Mee,4,3,"span",25)(21,Pee,4,3,"span",26),p(),d(22,"div",27)(23,"button",28),h(24,"translate"),R("click",function(){$(e);let o=x();return q(o.deleteNotification())}),b(25,"i",29),f(26),h(27,"translate"),p()()()()}if(n&2){let e=x();E("ngClass",e.getNotificationTypeClass(e.notification.type)),l(3),E("ngClass",e.getNotificationTypeClass(e.notification.type)),l(),E("ngClass",e.getNotificationIcon(e.notification.type)),l(2),E("ngClass",e.getNotificationTypeClass(e.notification.type)),l(),M(" ",m(8,11,"notifications.types."+e.notification.type)," "),l(4),M(" ",e.formatDate(e.notification.createdAt)," "),l(3),O(e.notification.title),l(3),O(e.notification.message),l(3),D(e.notification.isRead?20:21),l(3),E("title",m(24,13,"notifications.delete")),l(3),M(" ",m(27,15,"notifications.delete")," ")}}var X_=class n{constructor(t,e,i,o){this.notificationsService=t;this.authService=e;this.route=i;this.router=o}notification=null;isLoading=!0;errorMessage="";notificationId=null;destroy$=new me;ngOnInit(){this.route.params.pipe(ne(this.destroy$)).subscribe(t=>{this.notificationId=t.id,this.notificationId?this.loadNotification():(this.errorMessage="notifications.invalidId",this.isLoading=!1)})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}loadNotification(){let t=this.authService.getCurrentUserId();if(!t||!this.notificationId){this.errorMessage="auth.profile.notAuthenticated",this.isLoading=!1;return}this.isLoading=!0,this.errorMessage="",this.notificationsService.getNotificationForOrganization(t,this.notificationId).pipe(ne(this.destroy$),be(e=>e?(this.notification=e,!e.isRead&&e.id?this.notificationsService.markAsRead(t,e.id).then(()=>(this.notification&&(this.notification.isRead=!0),e)):Q(e)):(this.errorMessage="notifications.notFound",this.isLoading=!1,Q(null))),ut(e=>(console.error("Error loading notification:",e),this.errorMessage="notifications.loadError",this.isLoading=!1,Q(null)))).subscribe({next:()=>{this.isLoading=!1}})}deleteNotification(){this.notification?.id&&J_.default.fire({title:"Delete Notification?",text:"Are you sure you want to delete this notification?",icon:"warning",showCancelButton:!0,confirmButtonText:"Delete",cancelButtonText:"Cancel",confirmButtonColor:"#DC2626",cancelButtonColor:"#6B7280"}).then(t=>{if(t.isConfirmed){let e=this.authService.getCurrentUserId();if(!e||!this.notification?.id)return;this.notificationsService.deleteNotification(e,this.notification.id).then(()=>{J_.default.fire({icon:"success",title:"Deleted",text:"Notification deleted successfully",timer:1500,showConfirmButton:!1}),this.router.navigate(["/notifications"])}).catch(i=>{console.error("Error deleting notification:",i),J_.default.fire({icon:"error",title:"Error",text:"Failed to delete notification"})})}})}getNotificationIcon(t){switch(t){case"approval":return"fa-check-circle";case"rejection":return"fa-times-circle";case"status":return"fa-info-circle";case"verification":return"fa-shield-alt";default:return"fa-bell"}}getNotificationTypeClass(t){switch(t){case"approval":return"type-approval";case"rejection":return"type-rejection";case"status":return"type-status";case"verification":return"type-verification";default:return"type-general"}}formatDate(t){if(!t)return"";let e=new Date(t),o=new Date().getTime()-e.getTime(),r=Math.floor(o/6e4),s=Math.floor(r/60),a=Math.floor(s/24);return r<1?"Just now":r<60?`${r} minute${r>1?"s":""} ago`:s<24?`${s} hour${s>1?"s":""} ago`:a<7?`${a} day${a>1?"s":""} ago`:e.toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})}static \u0275fac=function(e){return new(e||n)(A(Io),A(Dt),A(tn),A(He))};static \u0275cmp=ce({type:n,selectors:[["app-notification"]],decls:10,vars:6,consts:[[1,"notification-detail"],[1,"container"],[1,"back-button"],["type","button","routerLink","/notifications",1,"btn","btn-back"],[1,"fas","fa-arrow-left"],[1,"loading-state"],[1,"alert","alert-error"],[1,"notification-card",3,"ngClass"],["role","status",1,"spinner-border","text-primary"],[1,"visually-hidden"],[1,"mt-3"],[1,"fas","fa-exclamation-circle"],[1,"notification-header"],[1,"notification-icon-wrapper"],[1,"notification-icon",3,"ngClass"],[1,"fas",3,"ngClass"],[1,"notification-meta"],[1,"notification-type-badge",3,"ngClass"],[1,"notification-time"],[1,"fas","fa-clock"],[1,"notification-content"],[1,"notification-title"],[1,"notification-message"],[1,"notification-footer"],[1,"notification-status"],[1,"status-badge","read"],[1,"status-badge","unread"],[1,"notification-actions"],["type","button",1,"btn","btn-delete",3,"click","title"],[1,"fas","fa-trash"],[1,"fas","fa-check-circle"],[1,"fas","fa-circle"]],template:function(e,i){e&1&&(d(0,"div",0)(1,"div",1)(2,"div",2)(3,"button",3),b(4,"i",4),f(5),h(6,"translate"),p()(),T(7,bee,8,6,"div",5),T(8,yee,4,3,"div",6),T(9,Oee,28,17,"div",7),p()()),e&2&&(l(5),M(" ",m(6,4,"notifications.back")," "),l(2),D(i.isLoading?7:-1),l(),D(!i.isLoading&&i.errorMessage?8:-1),l(),D(!i.isLoading&&!i.errorMessage&&i.notification?9:-1))},dependencies:[pe,gn,Ne,Ue,fe,_e],styles:[".notification-detail[_ngcontent-%COMP%]{min-height:100vh;padding:64px 0;background:linear-gradient(135deg,#f6f7f980,#fff)}.notification-detail[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{max-width:800px;margin:0 auto;padding:0 32px}.notification-detail[_ngcontent-%COMP%]   .back-button[_ngcontent-%COMP%]{margin-bottom:32px}.notification-detail[_ngcontent-%COMP%]   .back-button[_ngcontent-%COMP%]   .btn-back[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:8px;padding:8px 16px;background:#0f172a1a;color:#0f172a;border:1px solid rgba(15,23,42,.2);border-radius:8px;font-weight:600;font-size:.9rem;font-family:Cairo,sans-serif;cursor:pointer;transition:all .3s ease;text-decoration:none}.notification-detail[_ngcontent-%COMP%]   .back-button[_ngcontent-%COMP%]   .btn-back[_ngcontent-%COMP%]:hover{background:#0f172a33;border-color:#0f172a4d;transform:translate(-3px)}.notification-detail[_ngcontent-%COMP%]   .back-button[_ngcontent-%COMP%]   .btn-back[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.9rem}.notification-detail[_ngcontent-%COMP%]   .loading-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;min-height:400px;text-align:center}.notification-detail[_ngcontent-%COMP%]   .loading-state[_ngcontent-%COMP%]   .spinner-border[_ngcontent-%COMP%]{width:3rem;height:3rem;border-width:.3rem}.notification-detail[_ngcontent-%COMP%]   .loading-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#0f172ab3;font-size:1rem;margin:0}.notification-detail[_ngcontent-%COMP%]   .alert-error[_ngcontent-%COMP%]{padding:16px;border-radius:8px;margin-bottom:32px;display:flex;align-items:center;gap:8px;background:#dc26261a;color:#dc2626;border:1px solid rgba(220,38,38,.3);font-size:.9rem}.notification-detail[_ngcontent-%COMP%]   .alert-error[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1rem}.notification-detail[_ngcontent-%COMP%]   .notification-card[_ngcontent-%COMP%]{background:#fff;border-radius:16px;padding:64px;box-shadow:0 8px 16px #0003;border:2px solid rgba(14,58,93,.1);transition:all .3s ease}.notification-detail[_ngcontent-%COMP%]   .notification-card[_ngcontent-%COMP%]:hover{box-shadow:0 4px 8px #00000026;transform:translateY(-2px)}.notification-detail[_ngcontent-%COMP%]   .notification-card.type-approval[_ngcontent-%COMP%]{border-left:5px solid #16A34A}.notification-detail[_ngcontent-%COMP%]   .notification-card.type-rejection[_ngcontent-%COMP%]{border-left:5px solid #DC2626}.notification-detail[_ngcontent-%COMP%]   .notification-card.type-status[_ngcontent-%COMP%]{border-left:5px solid #C9A24D}.notification-detail[_ngcontent-%COMP%]   .notification-card.type-verification[_ngcontent-%COMP%]{border-left:5px solid #F59E0B}.notification-detail[_ngcontent-%COMP%]   .notification-card.type-general[_ngcontent-%COMP%]{border-left:5px solid rgba(14,58,93,.5)}.notification-detail[_ngcontent-%COMP%]   .notification-card[_ngcontent-%COMP%]   .notification-header[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:32px;margin-bottom:64px;padding-bottom:32px;border-bottom:2px solid rgba(14,58,93,.1)}.notification-detail[_ngcontent-%COMP%]   .notification-card[_ngcontent-%COMP%]   .notification-header[_ngcontent-%COMP%]   .notification-icon-wrapper[_ngcontent-%COMP%]{flex-shrink:0}.notification-detail[_ngcontent-%COMP%]   .notification-card[_ngcontent-%COMP%]   .notification-header[_ngcontent-%COMP%]   .notification-icon[_ngcontent-%COMP%]{width:70px;height:70px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:2rem;transition:all .3s ease}.notification-detail[_ngcontent-%COMP%]   .notification-card[_ngcontent-%COMP%]   .notification-header[_ngcontent-%COMP%]   .notification-icon.type-approval[_ngcontent-%COMP%]{background:#16a34a1a;color:#16a34a}.notification-detail[_ngcontent-%COMP%]   .notification-card[_ngcontent-%COMP%]   .notification-header[_ngcontent-%COMP%]   .notification-icon.type-rejection[_ngcontent-%COMP%]{background:#dc26261a;color:#dc2626}.notification-detail[_ngcontent-%COMP%]   .notification-card[_ngcontent-%COMP%]   .notification-header[_ngcontent-%COMP%]   .notification-icon.type-status[_ngcontent-%COMP%]{background:#c9a24d1a;color:#c9a24d}.notification-detail[_ngcontent-%COMP%]   .notification-card[_ngcontent-%COMP%]   .notification-header[_ngcontent-%COMP%]   .notification-icon.type-verification[_ngcontent-%COMP%]{background:#f59e0b1a;color:#f59e0b}.notification-detail[_ngcontent-%COMP%]   .notification-card[_ngcontent-%COMP%]   .notification-header[_ngcontent-%COMP%]   .notification-icon.type-general[_ngcontent-%COMP%]{background:#0e3a5d1a;color:#0e3a5d}.notification-detail[_ngcontent-%COMP%]   .notification-card[_ngcontent-%COMP%]   .notification-header[_ngcontent-%COMP%]   .notification-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:2rem}.notification-detail[_ngcontent-%COMP%]   .notification-card[_ngcontent-%COMP%]   .notification-header[_ngcontent-%COMP%]   .notification-meta[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;gap:8px}.notification-detail[_ngcontent-%COMP%]   .notification-card[_ngcontent-%COMP%]   .notification-header[_ngcontent-%COMP%]   .notification-meta[_ngcontent-%COMP%]   .notification-type-badge[_ngcontent-%COMP%]{display:inline-flex;align-items:center;padding:4px 16px;border-radius:8px;font-size:.85rem;font-weight:600;width:fit-content}.notification-detail[_ngcontent-%COMP%]   .notification-card[_ngcontent-%COMP%]   .notification-header[_ngcontent-%COMP%]   .notification-meta[_ngcontent-%COMP%]   .notification-type-badge.type-approval[_ngcontent-%COMP%]{background:#16a34a1a;color:#16a34a}.notification-detail[_ngcontent-%COMP%]   .notification-card[_ngcontent-%COMP%]   .notification-header[_ngcontent-%COMP%]   .notification-meta[_ngcontent-%COMP%]   .notification-type-badge.type-rejection[_ngcontent-%COMP%]{background:#dc26261a;color:#dc2626}.notification-detail[_ngcontent-%COMP%]   .notification-card[_ngcontent-%COMP%]   .notification-header[_ngcontent-%COMP%]   .notification-meta[_ngcontent-%COMP%]   .notification-type-badge.type-status[_ngcontent-%COMP%]{background:#c9a24d1a;color:#c9a24d}.notification-detail[_ngcontent-%COMP%]   .notification-card[_ngcontent-%COMP%]   .notification-header[_ngcontent-%COMP%]   .notification-meta[_ngcontent-%COMP%]   .notification-type-badge.type-verification[_ngcontent-%COMP%]{background:#f59e0b1a;color:#f59e0b}.notification-detail[_ngcontent-%COMP%]   .notification-card[_ngcontent-%COMP%]   .notification-header[_ngcontent-%COMP%]   .notification-meta[_ngcontent-%COMP%]   .notification-type-badge.type-general[_ngcontent-%COMP%]{background:#0e3a5d1a;color:#0e3a5d}.notification-detail[_ngcontent-%COMP%]   .notification-card[_ngcontent-%COMP%]   .notification-header[_ngcontent-%COMP%]   .notification-meta[_ngcontent-%COMP%]   .notification-time[_ngcontent-%COMP%]{display:flex;align-items:center;gap:4px;color:#0f172a99;font-size:.9rem}.notification-detail[_ngcontent-%COMP%]   .notification-card[_ngcontent-%COMP%]   .notification-header[_ngcontent-%COMP%]   .notification-meta[_ngcontent-%COMP%]   .notification-time[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.8rem}.notification-detail[_ngcontent-%COMP%]   .notification-card[_ngcontent-%COMP%]   .notification-content[_ngcontent-%COMP%]{margin-bottom:64px}.notification-detail[_ngcontent-%COMP%]   .notification-card[_ngcontent-%COMP%]   .notification-content[_ngcontent-%COMP%]   .notification-title[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;color:#0e3a5d;margin-bottom:32px;font-family:Cairo,sans-serif;line-height:1.3}.notification-detail[_ngcontent-%COMP%]   .notification-card[_ngcontent-%COMP%]   .notification-content[_ngcontent-%COMP%]   .notification-message[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.1rem;line-height:1.8;color:#0f172acc;margin:0;white-space:pre-wrap;word-wrap:break-word}.notification-detail[_ngcontent-%COMP%]   .notification-card[_ngcontent-%COMP%]   .notification-footer[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding-top:32px;border-top:2px solid rgba(14,58,93,.1)}.notification-detail[_ngcontent-%COMP%]   .notification-card[_ngcontent-%COMP%]   .notification-footer[_ngcontent-%COMP%]   .notification-status[_ngcontent-%COMP%]   .status-badge[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:4px;padding:4px 16px;border-radius:8px;font-size:.85rem;font-weight:600}.notification-detail[_ngcontent-%COMP%]   .notification-card[_ngcontent-%COMP%]   .notification-footer[_ngcontent-%COMP%]   .notification-status[_ngcontent-%COMP%]   .status-badge.read[_ngcontent-%COMP%]{background:#16a34a1a;color:#16a34a}.notification-detail[_ngcontent-%COMP%]   .notification-card[_ngcontent-%COMP%]   .notification-footer[_ngcontent-%COMP%]   .notification-status[_ngcontent-%COMP%]   .status-badge.unread[_ngcontent-%COMP%]{background:#c9a24d1a;color:#c9a24d}.notification-detail[_ngcontent-%COMP%]   .notification-card[_ngcontent-%COMP%]   .notification-footer[_ngcontent-%COMP%]   .notification-status[_ngcontent-%COMP%]   .status-badge[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.7rem}.notification-detail[_ngcontent-%COMP%]   .notification-card[_ngcontent-%COMP%]   .notification-footer[_ngcontent-%COMP%]   .notification-actions[_ngcontent-%COMP%]   .btn-delete[_ngcontent-%COMP%]{padding:8px 16px;background:#dc26261a;color:#dc2626;border:1px solid rgba(220,38,38,.3);border-radius:8px;font-weight:600;font-size:.9rem;cursor:pointer;transition:all .3s ease;display:flex;align-items:center;gap:4px}.notification-detail[_ngcontent-%COMP%]   .notification-card[_ngcontent-%COMP%]   .notification-footer[_ngcontent-%COMP%]   .notification-actions[_ngcontent-%COMP%]   .btn-delete[_ngcontent-%COMP%]:hover{background:#dc262633;border-color:#dc262666;transform:translateY(-2px);box-shadow:0 1px 2px #0000001a}.notification-detail[_ngcontent-%COMP%]   .notification-card[_ngcontent-%COMP%]   .notification-footer[_ngcontent-%COMP%]   .notification-actions[_ngcontent-%COMP%]   .btn-delete[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.85rem}@media (max-width: 767.98px){.notification-detail[_ngcontent-%COMP%]{padding:32px 0}.notification-detail[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{padding:0 16px}.notification-detail[_ngcontent-%COMP%]   .notification-card[_ngcontent-%COMP%]{padding:32px}.notification-detail[_ngcontent-%COMP%]   .notification-card[_ngcontent-%COMP%]   .notification-header[_ngcontent-%COMP%]{flex-direction:column;align-items:center;text-align:center;gap:16px}.notification-detail[_ngcontent-%COMP%]   .notification-card[_ngcontent-%COMP%]   .notification-header[_ngcontent-%COMP%]   .notification-meta[_ngcontent-%COMP%]{align-items:center}.notification-detail[_ngcontent-%COMP%]   .notification-card[_ngcontent-%COMP%]   .notification-content[_ngcontent-%COMP%]   .notification-title[_ngcontent-%COMP%]{font-size:1.5rem}.notification-detail[_ngcontent-%COMP%]   .notification-card[_ngcontent-%COMP%]   .notification-content[_ngcontent-%COMP%]   .notification-message[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem}.notification-detail[_ngcontent-%COMP%]   .notification-card[_ngcontent-%COMP%]   .notification-footer[_ngcontent-%COMP%]{flex-direction:column;gap:16px;align-items:stretch}.notification-detail[_ngcontent-%COMP%]   .notification-card[_ngcontent-%COMP%]   .notification-footer[_ngcontent-%COMP%]   .notification-actions[_ngcontent-%COMP%]   .btn-delete[_ngcontent-%COMP%]{width:100%;justify-content:center}}"]})};var jr=class n{constructor(t,e){this.database=t;this.injector=e}createCourse(t){return re(()=>Y(this.injector,()=>{let e=le(this.database,"courses"),i=ae(j({},t),{createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()});return X(pi(e,i)).pipe(H(o=>o.key||""))}))}getCourse(t){return re(()=>Y(this.injector,()=>{let e=le(this.database,`courses/${t}`);return new ve(i=>{Bn(e,o=>{o.exists()?i.next(j({id:t},o.val())):i.next(null)},o=>{i.error(o)})})}))}getAllCourses(){return re(()=>Y(this.injector,()=>{let t=le(this.database,"courses");return new ve(e=>{Bn(t,i=>{if(!i.exists()){e.next([]);return}let o=i.val(),r=Object.keys(o).map(s=>j({id:s},o[s]));r.sort((s,a)=>new Date(a.createdAt).getTime()-new Date(s.createdAt).getTime()),e.next(r)},i=>{e.error(i)})})}))}getPublishedCourses(){return re(()=>Y(this.injector,()=>{let t=le(this.database,"courses");return X($t(t)).pipe(H(e=>{if(!e.exists())return[];let i=e.val(),r=Object.keys(i).map(s=>j({id:s},i[s])).filter(s=>s.published===!0);return r.sort((s,a)=>new Date(a.createdAt).getTime()-new Date(s.createdAt).getTime()),r}))}))}getCoursesByCategory(t){return re(()=>Y(this.injector,()=>{let e=le(this.database,"courses"),i=wo(e,Oo("category"),xc(t));return new ve(o=>{Bn(i,r=>{if(!r.exists()){o.next([]);return}let s=r.val(),a=Object.keys(s).map(c=>j({id:c},s[c]));a.sort((c,u)=>new Date(u.createdAt).getTime()-new Date(c.createdAt).getTime()),o.next(a)},r=>{o.error(r)})})}))}getCoursesByPrivacy(t){return re(()=>Y(this.injector,()=>{let e=le(this.database,"courses"),i=wo(e,Oo("Privacy"),xc(t));return new ve(o=>{Bn(i,r=>{if(!r.exists()){o.next([]);return}let s=r.val(),a=Object.keys(s).map(c=>j({id:c},s[c]));a.sort((c,u)=>new Date(u.createdAt).getTime()-new Date(c.createdAt).getTime()),o.next(a)},r=>{o.error(r)})})}))}updateCourse(t,e){return re(()=>Y(this.injector,()=>{let i=le(this.database,`courses/${t}`),o=ae(j({},e),{updatedAt:new Date().toISOString()});return X(fi(i,o))}))}publishCourse(t){return this.updateCourse(t,{published:!0})}unpublishCourse(t){return this.updateCourse(t,{published:!1})}deleteCourse(t){return re(()=>Y(this.injector,()=>{let e=le(this.database,`courses/${t}`);return X(On(e))}))}static \u0275fac=function(e){return new(e||n)(Z(hn),Z(ze))};static \u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"})};var wee=n=>["/course",n];function xee(n,t){if(n&1&&(d(0,"option",19),f(1),h(2,"translate"),p()),n&2){let e=t.$implicit,i=x();E("value",e),l(),M(" ",m(2,2,i.getCategoryName(e))," ")}}function Eee(n,t){if(n&1&&(d(0,"option",19),f(1),h(2,"translate"),p()),n&2){let e=t.$implicit,i=x();E("value",e),l(),M(" ",m(2,2,i.getPrivacyName(e))," ")}}function Iee(n,t){n&1&&(d(0,"div",20)(1,"div",2)(2,"div",21)(3,"div",22)(4,"span",23),f(5),h(6,"translate"),p()(),d(7,"p",24),f(8),h(9,"translate"),p()()()()),n&2&&(l(5),O(m(6,2,"courses.loading")),l(3),O(m(9,4,"courses.loadingCourses")))}function See(n,t){n&1&&(d(0,"div",25)(1,"div",2)(2,"div",21),b(3,"i",26),d(4,"h3"),f(5),h(6,"translate"),p(),d(7,"p",27),f(8),h(9,"translate"),p()()()()),n&2&&(l(5),O(m(6,2,"courses.noCourses")),l(3),O(m(9,4,"courses.noCoursesDescription")))}function Tee(n,t){if(n&1&&b(0,"img",49),n&2){let e=x().$implicit;E("src",e.thumbnail,Je)("alt",e.title)}}function Dee(n,t){n&1&&(d(0,"div",50),b(1,"i",51),p())}function kee(n,t){if(n&1&&(d(0,"div",32)(1,"div",33)(2,"div",34),se(3,Tee,1,2,"img",35)(4,Dee,2,0,"div",36),d(5,"span",37),b(6,"i",38),f(7),h(8,"translate"),p()(),d(9,"div",39)(10,"h3",40),f(11),p(),d(12,"p",41),f(13),h(14,"slice"),p(),d(15,"div",42)(16,"span",43),b(17,"i",44),f(18),h(19,"translate"),p(),d(20,"span",43),b(21,"i",45),f(22),h(23,"translate"),p()()(),d(24,"div",46)(25,"a",47),b(26,"i",48),f(27),h(28,"translate"),p()()()()),n&2){let e=t.$implicit,i=x(2);l(3),E("ngIf",e.thumbnail),l(),E("ngIf",!e.thumbnail),l(),V("free",e.Privacy==="free")("premium",e.Privacy==="premium"),l(),V("fa-unlock",e.Privacy==="free")("fa-lock",e.Privacy==="premium"),l(),M(" ",m(8,19,i.getPrivacyName(e.Privacy))," "),l(4),O(e.title),l(2),tt("",wu(14,21,e.description,0,120),"",e.description.length>120?"...":""),l(5),M(" ",m(19,25,i.getCategoryName(e.category))," "),l(4),tt(" ",e.duration," ",m(23,27,"courses.hours")," "),l(3),E("routerLink",os(31,wee,e.id)),l(2),M(" ",m(28,29,"courses.viewCourse")," ")}}function Aee(n,t){if(n&1&&(d(0,"div",28)(1,"div",2)(2,"div",29)(3,"div",30),se(4,kee,29,33,"div",31),p()()()()),n&2){let e=x();l(4),E("ngForOf",e.filteredCourses)}}var tC=class n{constructor(t){this.coursesService=t}courses=[];filteredCourses=[];isLoading=!1;searchQuery="";selectedCategory="all";selectedPrivacy="all";categories=["programming","design","marketing","business","technology","health","education","other"];privacyTypes=["free","premium"];destroy$=new me;ngOnInit(){this.loadCourses()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}loadCourses(){this.isLoading=!0,this.coursesService.getPublishedCourses().pipe(ne(this.destroy$)).subscribe({next:t=>{this.courses=t,this.applyFilters(),this.isLoading=!1},error:t=>{console.error("Error loading courses:",t),this.courses=[],this.filteredCourses=[],this.isLoading=!1}})}applyFilters(){let t=[...this.courses];if(this.searchQuery.trim()){let e=this.searchQuery.toLowerCase().trim();t=t.filter(i=>i.title.toLowerCase().includes(e)||i.description.toLowerCase().includes(e))}this.selectedCategory!=="all"&&(t=t.filter(e=>e.category===this.selectedCategory)),this.selectedPrivacy!=="all"&&(t=t.filter(e=>e.Privacy===this.selectedPrivacy)),this.filteredCourses=t}getCategoryName(t){return`courses.categories.${t}`}getPrivacyName(t){return t==="free"?"courses.privacy.free":"courses.privacy.premium"}static \u0275fac=function(e){return new(e||n)(A(jr))};static \u0275cmp=ce({type:n,selectors:[["app-courses"]],decls:34,vars:23,consts:[[1,"courses-page"],[1,"page-header"],[1,"container"],[1,"page-title"],[1,"fas","fa-graduation-cap"],[1,"page-subtitle"],[1,"filters-section"],[1,"row","g-3"],[1,"col-12","col-md-4"],["dir","ltr",1,"input-group"],[1,"input-group-text"],[1,"fas","fa-search"],["type","text",1,"form-control",3,"ngModelChange","ngModel","placeholder"],[1,"form-select",3,"ngModelChange","ngModel"],["value","all"],[3,"value",4,"ngFor","ngForOf"],["class","loading-state",4,"ngIf"],["class","empty-state",4,"ngIf"],["class","courses-section",4,"ngIf"],[3,"value"],[1,"loading-state"],[1,"text-center","py-5"],["role","status",1,"spinner-border","text-primary"],[1,"visually-hidden"],[1,"mt-3"],[1,"empty-state"],[1,"fas","fa-book-open","empty-icon"],[1,"text-muted"],[1,"courses-section"],[1,"courses-grid"],[1,"row","g-4"],["class","col-12 col-md-6 col-lg-4",4,"ngFor","ngForOf"],[1,"col-12","col-md-6","col-lg-4"],[1,"course-card"],[1,"course-thumbnail"],[3,"src","alt",4,"ngIf"],["class","thumbnail-placeholder",4,"ngIf"],[1,"privacy-badge"],[1,"fas"],[1,"course-info"],[1,"course-title"],[1,"course-description"],[1,"course-meta"],[1,"meta-item"],[1,"fas","fa-tag"],[1,"fas","fa-clock"],[1,"course-actions"],[1,"btn","btn-primary","btn-block",3,"routerLink"],[1,"fas","fa-eye"],[3,"src","alt"],[1,"thumbnail-placeholder"],[1,"fas","fa-book"]],template:function(e,i){e&1&&(d(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3),b(4,"i",4),f(5),h(6,"translate"),p(),d(7,"p",5),f(8),h(9,"translate"),p()()(),d(10,"div",6)(11,"div",2)(12,"div",7)(13,"div",8)(14,"div",9)(15,"span",10),b(16,"i",11),p(),d(17,"input",12),h(18,"translate"),Kn("ngModelChange",function(r){return ai(i.searchQuery,r)||(i.searchQuery=r),r}),R("ngModelChange",function(){return i.applyFilters()}),p()()(),d(19,"div",8)(20,"select",13),Kn("ngModelChange",function(r){return ai(i.selectedCategory,r)||(i.selectedCategory=r),r}),R("ngModelChange",function(){return i.applyFilters()}),d(21,"option",14),f(22),h(23,"translate"),p(),se(24,xee,3,4,"option",15),p()(),d(25,"div",8)(26,"select",13),Kn("ngModelChange",function(r){return ai(i.selectedPrivacy,r)||(i.selectedPrivacy=r),r}),R("ngModelChange",function(){return i.applyFilters()}),d(27,"option",14),f(28),h(29,"translate"),p(),se(30,Eee,3,4,"option",15),p()()()()(),se(31,Iee,10,6,"div",16)(32,See,10,6,"div",17)(33,Aee,5,1,"div",18),p()),e&2&&(l(5),M(" ",m(6,13,"courses.title")," "),l(3),O(m(9,15,"courses.subtitle")),l(9),Qn("ngModel",i.searchQuery),E("placeholder",m(18,17,"courses.searchPlaceholder")),l(3),Qn("ngModel",i.selectedCategory),l(2),O(m(23,19,"courses.allCategories")),l(2),E("ngForOf",i.categories),l(2),Qn("ngModel",i.selectedPrivacy),l(2),O(m(29,21,"courses.allTypes")),l(2),E("ngForOf",i.privacyTypes),l(),E("ngIf",i.isLoading),l(),E("ngIf",!i.isLoading&&i.filteredCourses.length===0),l(),E("ngIf",!i.isLoading&&i.filteredCourses.length>0))},dependencies:[pe,di,Yn,Ne,Ue,fe,zr,zi,Bi,ht,gi,bt,er,Ru,_e],styles:['.courses-page[_ngcontent-%COMP%]{min-height:100vh;background:linear-gradient(180deg,#f8fafc,#f1f5f9)}.courses-page[_ngcontent-%COMP%]   .page-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#c9a24d,#9b792f);color:#fff;padding:5rem 1.5rem 4rem;text-align:center;position:relative;overflow:hidden}.courses-page[_ngcontent-%COMP%]   .page-header[_ngcontent-%COMP%]:before{content:"";position:absolute;top:-50%;left:-25%;width:80%;height:200%;background:radial-gradient(ellipse,rgba(255,255,255,.1) 0%,transparent 70%);pointer-events:none}.courses-page[_ngcontent-%COMP%]   .page-header[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:0;left:0;right:0;height:60px;background:linear-gradient(180deg,transparent,rgba(0,0,0,.1));pointer-events:none}.courses-page[_ngcontent-%COMP%]   .page-header[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{position:relative;z-index:1}.courses-page[_ngcontent-%COMP%]   .page-header[_ngcontent-%COMP%]   .page-title[_ngcontent-%COMP%]{font-size:3.25rem;font-weight:800;margin:0 0 1rem;display:flex;align-items:center;justify-content:center;gap:1rem;text-shadow:0 4px 20px rgba(0,0,0,.2);letter-spacing:-1px;animation:_ngcontent-%COMP%_slideDown .6s ease}.courses-page[_ngcontent-%COMP%]   .page-header[_ngcontent-%COMP%]   .page-title[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:2.75rem;opacity:.95;animation:_ngcontent-%COMP%_bounce 2s ease infinite}.courses-page[_ngcontent-%COMP%]   .page-header[_ngcontent-%COMP%]   .page-subtitle[_ngcontent-%COMP%]{font-size:1.35rem;opacity:.9;font-weight:400;animation:_ngcontent-%COMP%_fadeIn .8s ease .2s both;max-width:600px;margin:0 auto;line-height:1.6}@keyframes _ngcontent-%COMP%_slideDown{0%{opacity:0;transform:translateY(-30px)}to{opacity:1;transform:translateY(0)}}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:.9}}@keyframes _ngcontent-%COMP%_bounce{0%,to{transform:translateY(0)}50%{transform:translateY(-5px)}}.courses-page[_ngcontent-%COMP%]   .filters-section[_ngcontent-%COMP%]{background:#fff;padding:1.75rem 1.5rem;box-shadow:0 4px 20px #0000000f;border-bottom:1px solid rgba(14,58,93,.06);position:sticky;top:0;z-index:100;-webkit-backdrop-filter:blur(12px);backdrop-filter:blur(12px);background:#fffffff2}.courses-page[_ngcontent-%COMP%]   .filters-section[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]{border-radius:12px;overflow:hidden;box-shadow:0 2px 8px #0000000a;border:2px solid #e2e8f0;transition:all .25s ease}.courses-page[_ngcontent-%COMP%]   .filters-section[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]:focus-within{border-color:#c9a24d;box-shadow:0 0 0 4px #c9a24d1a}.courses-page[_ngcontent-%COMP%]   .filters-section[_ngcontent-%COMP%]   .input-group-text[_ngcontent-%COMP%]{background:#f8fafc;border:none;color:#c9a24d;padding:.75rem 1rem;font-size:1.1rem}.courses-page[_ngcontent-%COMP%]   .filters-section[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{border:none;padding:.75rem 1rem;font-size:1rem;background:#f8fafc}.courses-page[_ngcontent-%COMP%]   .filters-section[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:focus{box-shadow:none;outline:none;background:#fff}.courses-page[_ngcontent-%COMP%]   .filters-section[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]::placeholder{color:#94a3b8}.courses-page[_ngcontent-%COMP%]   .filters-section[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%]{border:2px solid #e2e8f0;border-radius:12px;padding:.85rem 1.25rem;font-size:1rem;transition:all .25s ease;background-color:#f8fafc;cursor:pointer}.courses-page[_ngcontent-%COMP%]   .filters-section[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%]:focus{border-color:#c9a24d;box-shadow:0 0 0 4px #c9a24d1a;outline:none;background:#fff}.courses-page[_ngcontent-%COMP%]   .filters-section[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%]:hover{border-color:#c9a24d80}.courses-page[_ngcontent-%COMP%]   .loading-state[_ngcontent-%COMP%]{padding:6rem 0}.courses-page[_ngcontent-%COMP%]   .loading-state[_ngcontent-%COMP%]   .spinner-border[_ngcontent-%COMP%]{width:3.5rem;height:3.5rem;border-width:4px;color:#c9a24d!important}.courses-page[_ngcontent-%COMP%]   .loading-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#64748b;font-size:1.15rem;margin-top:1.5rem;font-weight:500}.courses-page[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]{padding:6rem 0}.courses-page[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   .empty-icon[_ngcontent-%COMP%]{font-size:6rem;color:#c9a24d26;margin-bottom:1.5rem;display:block;animation:_ngcontent-%COMP%_pulse 2s ease infinite}@keyframes _ngcontent-%COMP%_pulse{0%,to{transform:scale(1);opacity:.15}50%{transform:scale(1.05);opacity:.25}}.courses-page[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#334155;font-size:1.85rem;font-weight:700;margin-bottom:1rem}.courses-page[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#64748b;font-size:1.15rem;max-width:400px;margin:0 auto;line-height:1.6}.courses-page[_ngcontent-%COMP%]   .courses-section[_ngcontent-%COMP%]{padding:3.5rem 0 5rem}.courses-page[_ngcontent-%COMP%]   .courses-section[_ngcontent-%COMP%]   .courses-grid[_ngcontent-%COMP%]   .course-card[_ngcontent-%COMP%]{background:#fff;border-radius:20px;overflow:hidden;transition:all .4s cubic-bezier(.4,0,.2,1);height:100%;display:flex;flex-direction:column;border:1px solid rgba(14,58,93,.06);box-shadow:0 4px 16px #0000000a;position:relative}.courses-page[_ngcontent-%COMP%]   .courses-section[_ngcontent-%COMP%]   .courses-grid[_ngcontent-%COMP%]   .course-card[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;right:0;height:4px;background:linear-gradient(90deg,#c9a24d,#dbc188);opacity:0;transition:opacity .3s ease}.courses-page[_ngcontent-%COMP%]   .courses-section[_ngcontent-%COMP%]   .courses-grid[_ngcontent-%COMP%]   .course-card[_ngcontent-%COMP%]:hover{transform:translateY(-12px);box-shadow:0 20px 50px #0000001f;border-color:#c9a24d26}.courses-page[_ngcontent-%COMP%]   .courses-section[_ngcontent-%COMP%]   .courses-grid[_ngcontent-%COMP%]   .course-card[_ngcontent-%COMP%]:hover:before{opacity:1}.courses-page[_ngcontent-%COMP%]   .courses-section[_ngcontent-%COMP%]   .courses-grid[_ngcontent-%COMP%]   .course-card[_ngcontent-%COMP%]:hover   .course-thumbnail[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{transform:scale(1.08)}.courses-page[_ngcontent-%COMP%]   .courses-section[_ngcontent-%COMP%]   .courses-grid[_ngcontent-%COMP%]   .course-card[_ngcontent-%COMP%]:hover   .course-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{background:linear-gradient(135deg,#c9a24d,#ae8835)}.courses-page[_ngcontent-%COMP%]   .courses-section[_ngcontent-%COMP%]   .courses-grid[_ngcontent-%COMP%]   .course-card[_ngcontent-%COMP%]   .course-thumbnail[_ngcontent-%COMP%]{position:relative;width:100%;height:220px;overflow:hidden;background:linear-gradient(135deg,#f1f5f9,#e2e8f0)}.courses-page[_ngcontent-%COMP%]   .courses-section[_ngcontent-%COMP%]   .courses-grid[_ngcontent-%COMP%]   .course-card[_ngcontent-%COMP%]   .course-thumbnail[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;transition:transform .6s cubic-bezier(.4,0,.2,1)}.courses-page[_ngcontent-%COMP%]   .courses-section[_ngcontent-%COMP%]   .courses-grid[_ngcontent-%COMP%]   .course-card[_ngcontent-%COMP%]   .course-thumbnail[_ngcontent-%COMP%]   .thumbnail-placeholder[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;align-items:center;justify-content:center;background:linear-gradient(135deg,#c9a24d14,#c9a24d0a)}.courses-page[_ngcontent-%COMP%]   .courses-section[_ngcontent-%COMP%]   .courses-grid[_ngcontent-%COMP%]   .course-card[_ngcontent-%COMP%]   .course-thumbnail[_ngcontent-%COMP%]   .thumbnail-placeholder[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:4rem;color:#c9a24d40}.courses-page[_ngcontent-%COMP%]   .courses-section[_ngcontent-%COMP%]   .courses-grid[_ngcontent-%COMP%]   .course-card[_ngcontent-%COMP%]   .course-thumbnail[_ngcontent-%COMP%]   .privacy-badge[_ngcontent-%COMP%]{position:absolute;top:16px;right:16px;padding:8px 16px;border-radius:30px;font-size:.75rem;font-weight:700;display:flex;align-items:center;gap:6px;-webkit-backdrop-filter:blur(12px);backdrop-filter:blur(12px);box-shadow:0 4px 15px #00000026;text-transform:uppercase;letter-spacing:.5px}.courses-page[_ngcontent-%COMP%]   .courses-section[_ngcontent-%COMP%]   .courses-grid[_ngcontent-%COMP%]   .course-card[_ngcontent-%COMP%]   .course-thumbnail[_ngcontent-%COMP%]   .privacy-badge.free[_ngcontent-%COMP%]{background:linear-gradient(135deg,#16a34a,#107636);color:#fff}.courses-page[_ngcontent-%COMP%]   .courses-section[_ngcontent-%COMP%]   .courses-grid[_ngcontent-%COMP%]   .course-card[_ngcontent-%COMP%]   .course-thumbnail[_ngcontent-%COMP%]   .privacy-badge.premium[_ngcontent-%COMP%]{background:linear-gradient(135deg,#d97706,#a75c05);color:#fff}.courses-page[_ngcontent-%COMP%]   .courses-section[_ngcontent-%COMP%]   .courses-grid[_ngcontent-%COMP%]   .course-card[_ngcontent-%COMP%]   .course-thumbnail[_ngcontent-%COMP%]   .privacy-badge[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.7rem}.courses-page[_ngcontent-%COMP%]   .courses-section[_ngcontent-%COMP%]   .courses-grid[_ngcontent-%COMP%]   .course-card[_ngcontent-%COMP%]   .course-info[_ngcontent-%COMP%]{padding:1.75rem;flex:1;display:flex;flex-direction:column}.courses-page[_ngcontent-%COMP%]   .courses-section[_ngcontent-%COMP%]   .courses-grid[_ngcontent-%COMP%]   .course-card[_ngcontent-%COMP%]   .course-info[_ngcontent-%COMP%]   .course-title[_ngcontent-%COMP%]{font-size:1.35rem;font-weight:700;color:#1e293b;margin:0 0 .75rem;line-height:1.4;min-height:3.8rem;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden;text-overflow:ellipsis}.courses-page[_ngcontent-%COMP%]   .courses-section[_ngcontent-%COMP%]   .courses-grid[_ngcontent-%COMP%]   .course-card[_ngcontent-%COMP%]   .course-info[_ngcontent-%COMP%]   .course-description[_ngcontent-%COMP%]{color:#64748b;font-size:.95rem;line-height:1.7;margin:0 0 1.25rem;flex:1;display:-webkit-box;-webkit-line-clamp:3;-webkit-box-orient:vertical;overflow:hidden}.courses-page[_ngcontent-%COMP%]   .courses-section[_ngcontent-%COMP%]   .courses-grid[_ngcontent-%COMP%]   .course-card[_ngcontent-%COMP%]   .course-info[_ngcontent-%COMP%]   .course-meta[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:.75rem;margin-top:auto;padding-top:1.25rem;border-top:1px solid #f1f5f9}.courses-page[_ngcontent-%COMP%]   .courses-section[_ngcontent-%COMP%]   .courses-grid[_ngcontent-%COMP%]   .course-card[_ngcontent-%COMP%]   .course-info[_ngcontent-%COMP%]   .course-meta[_ngcontent-%COMP%]   .meta-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:6px;font-size:.85rem;color:#64748b;font-weight:500;background:#f8fafc;padding:6px 12px;border-radius:8px}.courses-page[_ngcontent-%COMP%]   .courses-section[_ngcontent-%COMP%]   .courses-grid[_ngcontent-%COMP%]   .course-card[_ngcontent-%COMP%]   .course-info[_ngcontent-%COMP%]   .course-meta[_ngcontent-%COMP%]   .meta-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#c9a24d;font-size:.8rem}.courses-page[_ngcontent-%COMP%]   .courses-section[_ngcontent-%COMP%]   .courses-grid[_ngcontent-%COMP%]   .course-card[_ngcontent-%COMP%]   .course-actions[_ngcontent-%COMP%]{padding:0 1.75rem 1.75rem}.courses-page[_ngcontent-%COMP%]   .courses-section[_ngcontent-%COMP%]   .courses-grid[_ngcontent-%COMP%]   .course-card[_ngcontent-%COMP%]   .course-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center;justify-content:center;gap:.5rem;padding:1rem 1.5rem;font-weight:600;border-radius:12px;font-size:1rem;transition:all .3s ease;border:none;background:#c9a24d;color:#fff;box-shadow:0 4px 15px #c9a24d40}.courses-page[_ngcontent-%COMP%]   .courses-section[_ngcontent-%COMP%]   .courses-grid[_ngcontent-%COMP%]   .course-card[_ngcontent-%COMP%]   .course-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 8px 25px #c9a24d59}.courses-page[_ngcontent-%COMP%]   .courses-section[_ngcontent-%COMP%]   .courses-grid[_ngcontent-%COMP%]   .course-card[_ngcontent-%COMP%]   .course-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1rem}@media (max-width: 991.98px){.courses-page[_ngcontent-%COMP%]   .page-header[_ngcontent-%COMP%]{padding:4rem 1.25rem 3rem}.courses-page[_ngcontent-%COMP%]   .page-header[_ngcontent-%COMP%]   .page-title[_ngcontent-%COMP%]{font-size:2.5rem}.courses-page[_ngcontent-%COMP%]   .page-header[_ngcontent-%COMP%]   .page-title[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:2.25rem}.courses-page[_ngcontent-%COMP%]   .page-header[_ngcontent-%COMP%]   .page-subtitle[_ngcontent-%COMP%]{font-size:1.15rem}.courses-page[_ngcontent-%COMP%]   .filters-section[_ngcontent-%COMP%]{padding:1.25rem 1rem}.courses-page[_ngcontent-%COMP%]   .courses-section[_ngcontent-%COMP%]{padding:2.5rem 0 4rem}}@media (max-width: 575.98px){.courses-page[_ngcontent-%COMP%]   .page-header[_ngcontent-%COMP%]{padding:3rem 1rem 2.5rem}.courses-page[_ngcontent-%COMP%]   .page-header[_ngcontent-%COMP%]   .page-title[_ngcontent-%COMP%]{font-size:2rem;flex-direction:column;gap:.75rem}.courses-page[_ngcontent-%COMP%]   .page-header[_ngcontent-%COMP%]   .page-title[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:2rem}.courses-page[_ngcontent-%COMP%]   .page-header[_ngcontent-%COMP%]   .page-subtitle[_ngcontent-%COMP%]{font-size:1rem}.courses-page[_ngcontent-%COMP%]   .filters-section[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%], .courses-page[_ngcontent-%COMP%]   .filters-section[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{font-size:.95rem;padding:.75rem 1rem}.courses-page[_ngcontent-%COMP%]   .courses-section[_ngcontent-%COMP%]{padding:2rem 0 3rem}.courses-page[_ngcontent-%COMP%]   .courses-section[_ngcontent-%COMP%]   .courses-grid[_ngcontent-%COMP%]   .course-card[_ngcontent-%COMP%]{border-radius:16px}.courses-page[_ngcontent-%COMP%]   .courses-section[_ngcontent-%COMP%]   .courses-grid[_ngcontent-%COMP%]   .course-card[_ngcontent-%COMP%]   .course-thumbnail[_ngcontent-%COMP%]{height:180px}.courses-page[_ngcontent-%COMP%]   .courses-section[_ngcontent-%COMP%]   .courses-grid[_ngcontent-%COMP%]   .course-card[_ngcontent-%COMP%]   .course-info[_ngcontent-%COMP%]{padding:1.25rem}.courses-page[_ngcontent-%COMP%]   .courses-section[_ngcontent-%COMP%]   .courses-grid[_ngcontent-%COMP%]   .course-card[_ngcontent-%COMP%]   .course-info[_ngcontent-%COMP%]   .course-title[_ngcontent-%COMP%]{font-size:1.2rem;min-height:auto}.courses-page[_ngcontent-%COMP%]   .courses-section[_ngcontent-%COMP%]   .courses-grid[_ngcontent-%COMP%]   .course-card[_ngcontent-%COMP%]   .course-actions[_ngcontent-%COMP%]{padding:0 1.25rem 1.25rem}.courses-page[_ngcontent-%COMP%]   .courses-section[_ngcontent-%COMP%]   .courses-grid[_ngcontent-%COMP%]   .course-card[_ngcontent-%COMP%]   .course-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{padding:.875rem 1.25rem;font-size:.95rem}}']})};var Cx=Un(jn());var wf=Un(jn());var _x={};(function n(t,e,i,o){var r=!!(t.Worker&&t.Blob&&t.Promise&&t.OffscreenCanvas&&t.OffscreenCanvasRenderingContext2D&&t.HTMLCanvasElement&&t.HTMLCanvasElement.prototype.transferControlToOffscreen&&t.URL&&t.URL.createObjectURL),s=typeof Path2D=="function"&&typeof DOMMatrix=="function",a=(function(){if(!t.OffscreenCanvas)return!1;try{var B=new OffscreenCanvas(1,1),k=B.getContext("2d");k.fillRect(0,0,1,1);var de=B.transferToImageBitmap();k.createPattern(de,"no-repeat")}catch{return!1}return!0})();function c(){}function u(B){var k=e.exports.Promise,de=k!==void 0?k:t.Promise;return typeof de=="function"?new de(B):(B(c,c),null)}var C=(function(B,k){return{transform:function(de){if(B)return de;if(k.has(de))return k.get(de);var Oe=new OffscreenCanvas(de.width,de.height),ue=Oe.getContext("2d");return ue.drawImage(de,0,0),k.set(de,Oe),Oe},clear:function(){k.clear()}}})(a,new Map),v=(function(){var B=Math.floor(16.666666666666668),k,de,Oe={},ue=0;return typeof requestAnimationFrame=="function"&&typeof cancelAnimationFrame=="function"?(k=function(ke){var Qe=Math.random();return Oe[Qe]=requestAnimationFrame(function he(De){ue===De||ue+B-1<De?(ue=De,delete Oe[Qe],ke()):Oe[Qe]=requestAnimationFrame(he)}),Qe},de=function(ke){Oe[ke]&&cancelAnimationFrame(Oe[ke])}):(k=function(ke){return setTimeout(ke,B)},de=function(ke){return clearTimeout(ke)}),{frame:k,cancel:de}})(),P=(function(){var B,k,de={};function Oe(ue){function ke(Qe,he){ue.postMessage({options:Qe||{},callback:he})}ue.init=function(he){var De=he.transferControlToOffscreen();ue.postMessage({canvas:De},[De])},ue.fire=function(he,De,Ke){if(k)return ke(he,null),k;var yt=Math.random().toString(36).slice(2);return k=u(function(_t){function kt(En){En.data.callback===yt&&(delete de[yt],ue.removeEventListener("message",kt),k=null,C.clear(),Ke(),_t())}ue.addEventListener("message",kt),ke(he,yt),de[yt]=kt.bind(null,{data:{callback:yt}})}),k},ue.reset=function(){ue.postMessage({reset:!0});for(var he in de)de[he](),delete de[he]}}return function(){if(B)return B;if(!i&&r){var ue=["var CONFETTI, SIZE = {}, module = {};","("+n.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join(`
`);try{B=new Worker(URL.createObjectURL(new Blob([ue])))}catch(ke){return typeof console<"u"&&typeof console.warn=="function"&&console.warn("\u{1F38A} Could not load worker",ke),null}Oe(B)}return B}})(),w={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function S(B,k){return k?k(B):B}function F(B){return B!=null}function N(B,k,de){return S(B&&F(B[k])?B[k]:w[k],de)}function W(B){return B<0?0:Math.floor(B)}function Ce(B,k){return Math.floor(Math.random()*(k-B))+B}function we(B){return parseInt(B,16)}function Me(B){return B.map(mt)}function mt(B){var k=String(B).replace(/[^0-9a-f]/gi,"");return k.length<6&&(k=k[0]+k[0]+k[1]+k[1]+k[2]+k[2]),{r:we(k.substring(0,2)),g:we(k.substring(2,4)),b:we(k.substring(4,6))}}function lt(B){var k=N(B,"origin",Object);return k.x=N(k,"x",Number),k.y=N(k,"y",Number),k}function Ot(B){B.width=document.documentElement.clientWidth,B.height=document.documentElement.clientHeight}function Lt(B){var k=B.getBoundingClientRect();B.width=k.width,B.height=k.height}function xt(B){var k=document.createElement("canvas");return k.style.position="fixed",k.style.top="0px",k.style.left="0px",k.style.pointerEvents="none",k.style.zIndex=B,k}function ti(B,k,de,Oe,ue,ke,Qe,he,De){B.save(),B.translate(k,de),B.rotate(ke),B.scale(Oe,ue),B.arc(0,0,1,Qe,he,De),B.restore()}function Rn(B){var k=B.angle*(Math.PI/180),de=B.spread*(Math.PI/180);return{x:B.x,y:B.y,wobble:Math.random()*10,wobbleSpeed:Math.min(.11,Math.random()*.1+.05),velocity:B.startVelocity*.5+Math.random()*B.startVelocity,angle2D:-k+(.5*de-Math.random()*de),tiltAngle:(Math.random()*(.75-.25)+.25)*Math.PI,color:B.color,shape:B.shape,tick:0,totalTicks:B.ticks,decay:B.decay,drift:B.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:B.gravity*3,ovalScalar:.6,scalar:B.scalar,flat:B.flat}}function Ge(B,k){k.x+=Math.cos(k.angle2D)*k.velocity+k.drift,k.y+=Math.sin(k.angle2D)*k.velocity+k.gravity,k.velocity*=k.decay,k.flat?(k.wobble=0,k.wobbleX=k.x+10*k.scalar,k.wobbleY=k.y+10*k.scalar,k.tiltSin=0,k.tiltCos=0,k.random=1):(k.wobble+=k.wobbleSpeed,k.wobbleX=k.x+10*k.scalar*Math.cos(k.wobble),k.wobbleY=k.y+10*k.scalar*Math.sin(k.wobble),k.tiltAngle+=.1,k.tiltSin=Math.sin(k.tiltAngle),k.tiltCos=Math.cos(k.tiltAngle),k.random=Math.random()+2);var de=k.tick++/k.totalTicks,Oe=k.x+k.random*k.tiltCos,ue=k.y+k.random*k.tiltSin,ke=k.wobbleX+k.random*k.tiltCos,Qe=k.wobbleY+k.random*k.tiltSin;if(B.fillStyle="rgba("+k.color.r+", "+k.color.g+", "+k.color.b+", "+(1-de)+")",B.beginPath(),s&&k.shape.type==="path"&&typeof k.shape.path=="string"&&Array.isArray(k.shape.matrix))B.fill(Pe(k.shape.path,k.shape.matrix,k.x,k.y,Math.abs(ke-Oe)*.1,Math.abs(Qe-ue)*.1,Math.PI/10*k.wobble));else if(k.shape.type==="bitmap"){var he=Math.PI/10*k.wobble,De=Math.abs(ke-Oe)*.1,Ke=Math.abs(Qe-ue)*.1,yt=k.shape.bitmap.width*k.scalar,_t=k.shape.bitmap.height*k.scalar,kt=new DOMMatrix([Math.cos(he)*De,Math.sin(he)*De,-Math.sin(he)*Ke,Math.cos(he)*Ke,k.x,k.y]);kt.multiplySelf(new DOMMatrix(k.shape.matrix));var En=B.createPattern(C.transform(k.shape.bitmap),"no-repeat");En.setTransform(kt),B.globalAlpha=1-de,B.fillStyle=En,B.fillRect(k.x-yt/2,k.y-_t/2,yt,_t),B.globalAlpha=1}else if(k.shape==="circle")B.ellipse?B.ellipse(k.x,k.y,Math.abs(ke-Oe)*k.ovalScalar,Math.abs(Qe-ue)*k.ovalScalar,Math.PI/10*k.wobble,0,2*Math.PI):ti(B,k.x,k.y,Math.abs(ke-Oe)*k.ovalScalar,Math.abs(Qe-ue)*k.ovalScalar,Math.PI/10*k.wobble,0,2*Math.PI);else if(k.shape==="star")for(var Ae=Math.PI/2*3,qt=4*k.scalar,Vi=8*k.scalar,jt=k.x,Ii=k.y,nr=5,Ui=Math.PI/nr;nr--;)jt=k.x+Math.cos(Ae)*Vi,Ii=k.y+Math.sin(Ae)*Vi,B.lineTo(jt,Ii),Ae+=Ui,jt=k.x+Math.cos(Ae)*qt,Ii=k.y+Math.sin(Ae)*qt,B.lineTo(jt,Ii),Ae+=Ui;else B.moveTo(Math.floor(k.x),Math.floor(k.y)),B.lineTo(Math.floor(k.wobbleX),Math.floor(ue)),B.lineTo(Math.floor(ke),Math.floor(Qe)),B.lineTo(Math.floor(Oe),Math.floor(k.wobbleY));return B.closePath(),B.fill(),k.tick<k.totalTicks}function io(B,k,de,Oe,ue){var ke=k.slice(),Qe=B.getContext("2d"),he,De,Ke=u(function(yt){function _t(){he=De=null,Qe.clearRect(0,0,Oe.width,Oe.height),C.clear(),ue(),yt()}function kt(){i&&!(Oe.width===o.width&&Oe.height===o.height)&&(Oe.width=B.width=o.width,Oe.height=B.height=o.height),!Oe.width&&!Oe.height&&(de(B),Oe.width=B.width,Oe.height=B.height),Qe.clearRect(0,0,Oe.width,Oe.height),ke=ke.filter(function(En){return Ge(Qe,En)}),ke.length?he=v.frame(kt):_t()}he=v.frame(kt),De=_t});return{addFettis:function(yt){return ke=ke.concat(yt),Ke},canvas:B,promise:Ke,reset:function(){he&&v.cancel(he),De&&De()}}}function ya(B,k){var de=!B,Oe=!!N(k||{},"resize"),ue=!1,ke=N(k,"disableForReducedMotion",Boolean),Qe=r&&!!N(k||{},"useWorker"),he=Qe?P():null,De=de?Ot:Lt,Ke=B&&he?!!B.__confetti_initialized:!1,yt=typeof matchMedia=="function"&&matchMedia("(prefers-reduced-motion)").matches,_t;function kt(Ae,qt,Vi){for(var jt=N(Ae,"particleCount",W),Ii=N(Ae,"angle",Number),nr=N(Ae,"spread",Number),Ui=N(Ae,"startVelocity",Number),Ct=N(Ae,"decay",Number),Si=N(Ae,"gravity",Number),ir=N(Ae,"drift",Number),or=N(Ae,"colors",Me),mn=N(Ae,"ticks",Number),In=N(Ae,"shapes"),kd=N(Ae,"scalar"),Tf=!!N(Ae,"flat"),Ms=lt(Ae),Vn=jt,Ad=[],Rd=B.width*Ms.x,AC=B.height*Ms.y;Vn--;)Ad.push(Rn({x:Rd,y:AC,angle:Ii,spread:nr,startVelocity:Ui,color:or[Vn%or.length],shape:In[Ce(0,In.length)],ticks:mn,decay:Ct,gravity:Si,drift:ir,scalar:kd,flat:Tf}));return _t?_t.addFettis(Ad):(_t=io(B,Ad,De,qt,Vi),_t.promise)}function En(Ae){var qt=ke||N(Ae,"disableForReducedMotion",Boolean),Vi=N(Ae,"zIndex",Number);if(qt&&yt)return u(function(Ui){Ui()});de&&_t?B=_t.canvas:de&&!B&&(B=xt(Vi),document.body.appendChild(B)),Oe&&!Ke&&De(B);var jt={width:B.width,height:B.height};he&&!Ke&&he.init(B),Ke=!0,he&&(B.__confetti_initialized=!0);function Ii(){if(he){var Ui={getBoundingClientRect:function(){if(!de)return B.getBoundingClientRect()}};De(Ui),he.postMessage({resize:{width:Ui.width,height:Ui.height}});return}jt.width=jt.height=null}function nr(){_t=null,Oe&&(ue=!1,t.removeEventListener("resize",Ii)),de&&B&&(document.body.contains(B)&&document.body.removeChild(B),B=null,Ke=!1)}return Oe&&!ue&&(ue=!0,t.addEventListener("resize",Ii,!1)),he?he.fire(Ae,jt,nr):kt(Ae,jt,nr)}return En.reset=function(){he&&he.reset(),_t&&_t.reset()},En}var Vr;function ge(){return Vr||(Vr=ya(null,{useWorker:!0,resize:!0})),Vr}function Pe(B,k,de,Oe,ue,ke,Qe){var he=new Path2D(B),De=new Path2D;De.addPath(he,new DOMMatrix(k));var Ke=new Path2D;return Ke.addPath(De,new DOMMatrix([Math.cos(Qe)*ue,Math.sin(Qe)*ue,-Math.sin(Qe)*ke,Math.cos(Qe)*ke,de,Oe])),Ke}function xe(B){if(!s)throw new Error("path confetti are not supported in this browser");var k,de;typeof B=="string"?k=B:(k=B.path,de=B.matrix);var Oe=new Path2D(k),ue=document.createElement("canvas"),ke=ue.getContext("2d");if(!de){for(var Qe=1e3,he=Qe,De=Qe,Ke=0,yt=0,_t,kt,En=0;En<Qe;En+=2)for(var Ae=0;Ae<Qe;Ae+=2)ke.isPointInPath(Oe,En,Ae,"nonzero")&&(he=Math.min(he,En),De=Math.min(De,Ae),Ke=Math.max(Ke,En),yt=Math.max(yt,Ae));_t=Ke-he,kt=yt-De;var qt=10,Vi=Math.min(qt/_t,qt/kt);de=[Vi,0,0,Vi,-Math.round(_t/2+he)*Vi,-Math.round(kt/2+De)*Vi]}return{type:"path",path:k,matrix:de}}function Ze(B){var k,de=1,Oe="#000000",ue='"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", "EmojiOne Color", "Android Emoji", "Twemoji Mozilla", "system emoji", sans-serif';typeof B=="string"?k=B:(k=B.text,de="scalar"in B?B.scalar:de,ue="fontFamily"in B?B.fontFamily:ue,Oe="color"in B?B.color:Oe);var ke=10*de,Qe=""+ke+"px "+ue,he=new OffscreenCanvas(ke,ke),De=he.getContext("2d");De.font=Qe;var Ke=De.measureText(k),yt=Math.ceil(Ke.actualBoundingBoxRight+Ke.actualBoundingBoxLeft),_t=Math.ceil(Ke.actualBoundingBoxAscent+Ke.actualBoundingBoxDescent),kt=2,En=Ke.actualBoundingBoxLeft+kt,Ae=Ke.actualBoundingBoxAscent+kt;yt+=kt+kt,_t+=kt+kt,he=new OffscreenCanvas(yt,_t),De=he.getContext("2d"),De.font=Qe,De.fillStyle=Oe,De.fillText(k,En,Ae);var qt=1/de;return{type:"bitmap",bitmap:he.transferToImageBitmap(),matrix:[qt,0,0,qt,-yt*qt/2,-_t*qt/2]}}e.exports=function(){return ge().apply(this,arguments)},e.exports.reset=function(){ge().reset()},e.exports.create=ya,e.exports.shapeFromPath=xe,e.exports.shapeFromText=Ze})((function(){return typeof window<"u"?window:typeof self<"u"?self:this||{}})(),_x,!1);var hL=_x.exports,e2e=_x.exports.create;var Ed=class n{constructor(t,e){this.database=t;this.injector=e}createQuiz(t,e){return re(()=>Y(this.injector,()=>{let i=le(this.database,"quizzes"),o=ae(j({},e),{lessonId:t,createdAt:new Date().toISOString()});return X(pi(i,o)).pipe(H(r=>r.key||""))}))}getQuiz(t){return re(()=>Y(this.injector,()=>{let e=le(this.database,`quizzes/${t}`);return X($t(e)).pipe(H(i=>{if(i.exists()){let o=i.val(),{questions:s}=o,a=Rc(o,["questions"]);return j({id:t},a)}return null}))}))}getQuizByLesson(t){return re(()=>Y(this.injector,()=>{let e=le(this.database,"quizzes"),i=wo(e,Oo("lessonId"),xc(t));return X($t(i)).pipe(H(o=>{if(!o.exists())return null;let r=o.val(),s=Object.keys(r)[0],C=r[s],{questions:c}=C,u=Rc(C,["questions"]);return j({id:s},u)}))}))}updateQuiz(t,e){return re(()=>Y(this.injector,()=>{let i=le(this.database,`quizzes/${t}`);return X(fi(i,e))}))}deleteQuiz(t){return re(()=>Y(this.injector,()=>{let e=le(this.database,`quizzes/${t}`);return X(On(e))}))}createQuestion(t,e){return re(()=>Y(this.injector,()=>{let i=le(this.database,`quizzes/${t}/questions`),o=ae(j({},e),{quizId:t});return X(pi(i,o)).pipe(H(r=>r.key||""))}))}getQuestionsByQuiz(t){return re(()=>Y(this.injector,()=>{let e=le(this.database,`quizzes/${t}/questions`),i=wo(e,Oo("order"));return X($t(i)).pipe(H(o=>{if(!o.exists())return[];let r=o.val(),s=Object.keys(r).map(a=>j({id:a},r[a]));return s.sort((a,c)=>a.order-c.order),s}))}))}getQuestion(t,e){return re(()=>Y(this.injector,()=>{let i=le(this.database,`quizzes/${t}/questions/${e}`);return X($t(i)).pipe(H(o=>o.exists()?j({id:e},o.val()):null))}))}updateQuestion(t,e,i){return re(()=>Y(this.injector,()=>{let o=le(this.database,`quizzes/${t}/questions/${e}`);return X(fi(o,i))}))}deleteQuestion(t,e){return re(()=>Y(this.injector,()=>{let i=le(this.database,`quizzes/${t}/questions/${e}`);return X(On(i))}))}calculateQuizScore(t,e){return this.getQuestionsByQuiz(t).pipe(H(i=>{let o=0,r=i.length;i.forEach(a=>{if(a.id&&e[a.id]!==void 0){let c=e[a.id],u=a.options[c];u&&u.correct&&o++}});let s=r>0?Math.round(o/r*100):0;return{score:o,total:r,percentage:s,passed:!1}}),be(i=>this.getQuiz(t).pipe(H(o=>{if(!o)return ae(j({},i),{passed:!1});let r=o.passingScore||60;return ae(j({},i),{passingScore:r,passed:i.percentage>=r})}))))}static \u0275fac=function(e){return new(e||n)(Z(hn),Z(ze))};static \u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"})};var Id=class n{constructor(t,e){this.database=t;this.injector=e}VIDEO_COMPLETION_THRESHOLD=90;getLessonProgress(t,e,i){return re(()=>Y(this.injector,()=>{let o=le(this.database,`progress/${t}/courses/${e}/lessons/${i}`);return X($t(o)).pipe(H(r=>r.exists()?r.val():null))}))}getAllLessonsProgress(t,e){return re(()=>Y(this.injector,()=>{let i=le(this.database,`progress/${t}/courses/${e}/lessons`);return X($t(i)).pipe(H(o=>{if(!o.exists())return[];let r=o.val();return Object.values(r)}))}))}initializeLessonProgress(t,e,i,o,r){return this.getLessonProgress(t,e,o).pipe(be(s=>{if(s)return this.updateLessonAccess(t,e,o).pipe(H(()=>s));let a=j({lessonId:o,courseId:e,sectionId:i,status:"inProgress",lastWatchedSecond:0,watchedSeconds:0,watchPercentage:0,videoCompleted:!1,quizPassed:!1,startedAt:new Date().toISOString(),lastAccessedAt:new Date().toISOString()},r?{quizId:r}:{});return this.saveLessonProgress(t,a).pipe(H(()=>a))}))}saveLessonProgress(t,e){return re(()=>Y(this.injector,()=>{let i=le(this.database,`progress/${t}/courses/${e.courseId}/lessons/${e.lessonId}`);return X(ga(i,e))}))}updateLessonAccess(t,e,i){return re(()=>Y(this.injector,()=>{let o=le(this.database,`progress/${t}/courses/${e}/lessons/${i}`);return X(fi(o,{lastAccessedAt:new Date().toISOString()}))}))}updateVideoProgress(t,e,i,o){return this.getLessonProgress(t,e,i).pipe(be(r=>{if(!r)throw new Error("Lesson progress not initialized");let{currentSecond:s,totalDuration:a}=o,c=a>0?Math.min(100,Math.round(s/a*100)):0,u=c>=this.VIDEO_COMPLETION_THRESHOLD,C=ae(j({},r),{videoDuration:a,lastWatchedSecond:s,watchedSeconds:Math.max(r.watchedSeconds||0,s),watchPercentage:c,videoCompleted:r.videoCompleted||u,lastAccessedAt:new Date().toISOString(),status:r.status==="notStarted"?"inProgress":r.status});return this.saveLessonProgress(t,C).pipe(H(()=>C))}))}getResumePosition(t,e,i){return this.getLessonProgress(t,e,i).pipe(H(o=>o?.lastWatchedSecond||0))}checkLessonCompletionRequirements(t,e,i,o){return this.getLessonProgress(t,e,i).pipe(be(r=>{let s=!!o.video,a=!!o.quizId,c=!s||(r?.videoCompleted??!1),u=!a||(r?.quizPassed??!1),C=[];s&&!c&&C.push(`Watch at least ${this.VIDEO_COMPLETION_THRESHOLD}% of the video`),a&&!u&&C.push("Pass the quiz");let v=c&&u;return Q({hasVideo:s,hasQuiz:a,videoWatchThreshold:this.VIDEO_COMPLETION_THRESHOLD,videoCompleted:c,quizPassed:u,canComplete:v,missingRequirements:C})}))}markLessonCompleted(t,e,i,o){return this.checkLessonCompletionRequirements(t,e,i,o).pipe(be(r=>r.canComplete?this.getLessonProgress(t,e,i).pipe(be(s=>{let a=ae(j({},s),{status:"completed",completedAt:new Date().toISOString(),lastAccessedAt:new Date().toISOString()});return this.saveLessonProgress(t,a).pipe(be(()=>this.updateCourseProgress(t,e)),H(()=>({success:!0,message:"Lesson completed successfully",progress:a})))})):Q({success:!1,message:`Cannot complete: ${r.missingRequirements.join(", ")}`})))}adminMarkLessonCompleted(t,e,i,o,r){return this.getLessonProgress(t,e,i).pipe(be(s=>{let a=new Date().toISOString(),c=s?ae(j({},s),{status:"completed",completedAt:a,lastAccessedAt:a,manuallyCompleted:!0,manuallyCompletedBy:r,manuallyCompletedAt:a}):{lessonId:i,courseId:e,sectionId:o,status:"completed",lastWatchedSecond:0,watchedSeconds:0,watchPercentage:100,videoCompleted:!0,quizPassed:!0,startedAt:a,lastAccessedAt:a,completedAt:a,manuallyCompleted:!0,manuallyCompletedBy:r,manuallyCompletedAt:a};return this.saveLessonProgress(t,c).pipe(be(()=>this.updateCourseProgress(t,e)),H(()=>c))}))}submitQuizAttempt(t,e,i,o,r,s,a,c,u,C){return this.getQuizProgress(t,e,o).pipe(be(v=>{let P=(v?.totalAttempts||0)+1,w=c>0?Math.round(a/c*100):0,S=w>=u,F=new Date().toISOString(),N=new Date(C).getTime(),W=new Date(F).getTime(),Ce=Math.round((W-N)/1e3),we={quizId:o,lessonId:i,courseId:e,organizationId:t,attemptNumber:P,answers:s,score:a,totalQuestions:c,percentage:w,passingScore:u,passed:S,startedAt:C,completedAt:F,durationSeconds:Ce};return re(()=>Y(this.injector,()=>{let Me=le(this.database,`progress/${t}/courses/${e}/quizAttempts`);return X(pi(Me,we)).pipe(H(mt=>mt.key||""),be(mt=>{let lt=ae(j({},we),{id:mt});return this.updateQuizProgress(t,e,o,i,lt,v).pipe(be(()=>S?this.markQuizPassed(t,e,i,r,o):Q(null)),H(()=>lt))}))}))}))}getQuizProgress(t,e,i){return re(()=>Y(this.injector,()=>{let o=le(this.database,`progress/${t}/courses/${e}/quizProgress/${i}`);return X($t(o)).pipe(H(r=>r.exists()?r.val():null))}))}getQuizAttempts(t,e,i){return re(()=>Y(this.injector,()=>{let o=le(this.database,`progress/${t}/courses/${e}/quizAttempts`);return X($t(o)).pipe(H(r=>{if(!r.exists())return[];let s=r.val();return Object.entries(s).map(([c,u])=>ae(j({},u),{id:c})).filter(c=>c.quizId===i).sort((c,u)=>c.attemptNumber-u.attemptNumber)}))}))}updateQuizProgress(t,e,i,o,r,s){let a=new Date().toISOString(),c={quizId:i,lessonId:o,courseId:e,totalAttempts:(s?.totalAttempts||0)+1,bestScore:Math.max(s?.bestScore||0,r.score),bestPercentage:Math.max(s?.bestPercentage||0,r.percentage),passed:s?.passed||r.passed,lastAttemptId:r.id,lastAttemptAt:a,lastScore:r.score,lastPercentage:r.percentage},u=s?.passedAt||(r.passed?a:null);return u&&(c.passedAt=u),re(()=>Y(this.injector,()=>{let C=le(this.database,`progress/${t}/courses/${e}/quizProgress/${i}`);return X(ga(C,c))}))}markQuizPassed(t,e,i,o,r){return this.getLessonProgress(t,e,i).pipe(be(s=>{let a=new Date().toISOString(),c=s?ae(j({},s),{quizPassed:!0,lastAccessedAt:a}):{lessonId:i,courseId:e,sectionId:o,status:"inProgress",lastWatchedSecond:0,watchedSeconds:0,watchPercentage:0,videoCompleted:!1,quizId:r,quizPassed:!0,startedAt:a,lastAccessedAt:a};return this.saveLessonProgress(t,c)}))}getCourseProgress(t,e){return re(()=>Y(this.injector,()=>{let i=le(this.database,`progress/${t}/courses/${e}/summary`);return X($t(i)).pipe(H(o=>o.exists()?o.val():null))}))}updateCourseProgress(t,e,i){return this.getAllLessonsProgress(t,e).pipe(be(o=>this.getCourseProgress(t,e).pipe(be(r=>{let s=new Date().toISOString(),a=o.filter(F=>F.status==="completed").length,c=o.filter(F=>F.status==="inProgress").length,u=i||r?.totalLessons||o.length,C=u>0?Math.round(a/u*100):0,P=[...o].sort((F,N)=>new Date(N.lastAccessedAt).getTime()-new Date(F.lastAccessedAt).getTime())[0],w={courseId:e,organizationId:t,totalLessons:u,completedLessons:a,inProgressLessons:c,progressPercentage:C,completed:a===u&&u>0,startedAt:r?.startedAt||s,updatedAt:s};P?.lessonId&&(w.lastAccessedLessonId=P.lessonId),P?.sectionId&&(w.lastAccessedSectionId=P.sectionId),P?.lastAccessedAt&&(w.lastAccessedAt=P.lastAccessedAt);let S=a===u&&u>0&&!r?.completedAt?s:r?.completedAt;return S&&(w.completedAt=S),re(()=>Y(this.injector,()=>{let F=le(this.database,`progress/${t}/courses/${e}/summary`);return X(ga(F,w)).pipe(H(()=>w))}))}))))}getAllCoursesProgress(t){return re(()=>Y(this.injector,()=>{let e=le(this.database,`progress/${t}/courses`);return X($t(e)).pipe(H(i=>{if(!i.exists())return[];let o=i.val();return Object.keys(o).map(s=>o[s].summary).filter(s=>s)}))}))}getResumeInfo(t,e,i){return Rt({courseProgress:this.getCourseProgress(t,e),lessonsProgress:this.getAllLessonsProgress(t,e)}).pipe(H(({courseProgress:o,lessonsProgress:r})=>{if(!o||r.length===0){let c=i[0];return c?{lessonId:c.id,sectionId:c.sectionId,resumeSecond:0,isNewLesson:!0}:null}if(o.lastAccessedLessonId){let c=r.find(u=>u.lessonId===o.lastAccessedLessonId);if(c&&c.status!=="completed")return{lessonId:c.lessonId,sectionId:c.sectionId,resumeSecond:c.lastWatchedSecond||0,isNewLesson:!1}}let s=new Map(r.map(c=>[c.lessonId,c]));for(let c of i){let u=s.get(c.id);if(!u||u.status!=="completed")return{lessonId:c.id,sectionId:c.sectionId,resumeSecond:u?.lastWatchedSecond||0,isNewLesson:!u}}let a=i[i.length-1];return a?{lessonId:a.id,sectionId:a.sectionId,resumeSecond:0,isNewLesson:!1}:null}))}isLessonLocked(t,e,i,o,r=!1){if(!r)return Q({locked:!1});let s=o.findIndex(c=>c.id===i);if(s<=0)return Q({locked:!1});let a=o[s-1];return this.getLessonProgress(t,e,a.id).pipe(H(c=>!c||c.status!=="completed"?{locked:!0,reason:`Complete "${a.title}" first`}:{locked:!1}))}resetLessonProgress(t,e,i){return re(()=>Y(this.injector,()=>{let o=le(this.database,`progress/${t}/courses/${e}/lessons/${i}`);return X(On(o)).pipe(be(()=>this.updateCourseProgress(t,e)),H(()=>{}))}))}resetCourseProgress(t,e){return re(()=>Y(this.injector,()=>{let i=le(this.database,`progress/${t}/courses/${e}`);return X(On(i))}))}static \u0275fac=function(e){return new(e||n)(Z(hn),Z(ze))};static \u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"})};var CL=()=>["A","B","C","D","E","F"];function Ree(n,t){n&1&&(d(0,"div",4)(1,"div",5)(2,"span",6),f(3),h(4,"translate"),p()(),d(5,"p"),f(6),h(7,"translate"),p()()),n&2&&(l(3),O(m(4,2,"courses.quiz.loading")),l(3),O(m(7,4,"courses.quiz.loadingQuiz")))}function Nee(n,t){if(n&1&&(d(0,"span"),f(1," \xA0\u2022\xA0 "),b(2,"i",18),f(3),h(4,"translate"),p()),n&2){let e=x(2);l(3),tt(" ",m(4,2,"courses.quiz.passingScore"),": ",e.quiz.passingScore,"% ")}}function Lee(n,t){if(n&1&&(d(0,"div",25)(1,"div",26)(2,"span",30),f(3),h(4,"date"),p(),d(5,"span",28),f(6),h(7,"translate"),p()()()),n&2){let e=x(3);l(3),O(s1(4,2,e.quizProgress.lastAttemptAt,"shortDate")),l(3),O(m(7,5,"courses.quiz.lastAttempt"))}}function Fee(n,t){if(n&1&&(d(0,"div",19)(1,"div",20)(2,"div",21)(3,"h6",22),b(4,"i",23),f(5),h(6,"translate"),p(),d(7,"div",24)(8,"div",25)(9,"div",26)(10,"span",27),f(11),p(),d(12,"span",28),f(13),h(14,"translate"),p()()(),d(15,"div",25)(16,"div",26)(17,"span",27),f(18),p(),d(19,"span",28),f(20),h(21,"translate"),p()()(),d(22,"div",25)(23,"div",26)(24,"span",27),f(25),h(26,"translate"),h(27,"translate"),p(),d(28,"span",28),f(29),h(30,"translate"),p()()(),se(31,Lee,8,7,"div",29),p()()()()),n&2){let e=x(2);l(5),M(" ",m(6,12,"courses.quiz.previousAttempts")," "),l(6),O(e.quizProgress.totalAttempts),l(2),O(m(14,14,"courses.quiz.attempts")),l(5),M("",e.quizProgress.bestPercentage,"%"),l(2),O(m(21,16,"courses.quiz.bestScore")),l(4),V("text-success",e.quizProgress.passed)("text-danger",!e.quizProgress.passed),l(),M(" ",e.quizProgress.passed?m(26,18,"courses.quiz.passed"):m(27,20,"courses.quiz.notPassed")," "),l(4),O(m(30,22,"courses.quiz.status")),l(2),E("ngIf",e.quizProgress.lastAttemptAt)}}function zee(n,t){if(n&1){let e=J();d(0,"div",31)(1,"div",32),b(2,"i",33),p(),d(3,"h5"),f(4),h(5,"translate"),p(),d(6,"p",34),f(7),h(8,"translate"),p(),d(9,"button",35),R("click",function(){$(e);let o=x(2);return q(o.startQuiz())}),b(10,"i",36),f(11),h(12,"translate"),p()()}if(n&2){let e=x(2);l(4),O(m(5,3,"courses.quiz.readyToStart")),l(3),M(" ",m(8,5,"courses.quiz.instructions")," "),l(4),M(" ",m(12,7,e.quizProgress!=null&&e.quizProgress.totalAttempts?"courses.quiz.retake":"courses.quiz.start")," ")}}function Bee(n,t){if(n&1){let e=J();d(0,"button",45),R("click",function(){let o=$(e).index,r=x(3);return q(r.goToQuestion(o))}),f(1),p()}if(n&2){let e=t.$implicit,i=t.index,o=x(3);V("btn-primary",i===o.currentQuestionIndex)("btn-outline-primary",i!==o.currentQuestionIndex&&o.isQuestionAnswered(e.id))("btn-outline-secondary",i!==o.currentQuestionIndex&&!o.isQuestionAnswered(e.id)),l(),M(" ",i+1," ")}}function jee(n,t){n&1&&b(0,"i",61)}function Vee(n,t){if(n&1){let e=J();d(0,"button",56),R("click",function(){let o=$(e).index,r=x().ngIf,s=x(3);return q(s.selectAnswer(r.id,o))}),d(1,"span",57)(2,"span",58),f(3),p()(),d(4,"span",59),f(5),p(),se(6,jee,1,0,"i",60),p()}if(n&2){let e=t.$implicit,i=t.index,o=x().ngIf,r=x(3);V("selected",r.isOptionSelected(o.id,i)),l(3),O(yi(5,CL)[i]),l(2),O(e.text),l(),E("ngIf",r.isOptionSelected(o.id,i))}}function Uee(n,t){if(n&1){let e=J();d(0,"button",62),R("click",function(){$(e);let o=x(4);return q(o.nextQuestion())}),f(1),h(2,"translate"),b(3,"i",63),p()}n&2&&(l(),M(" ",m(2,1,"courses.quiz.next")," "))}function $ee(n,t){n&1&&(d(0,"span"),b(1,"i",65),f(2),h(3,"translate"),p()),n&2&&(l(2),M(" ",m(3,1,"courses.quiz.submit")," "))}function qee(n,t){n&1&&(d(0,"span"),b(1,"span",66),f(2),h(3,"translate"),p()),n&2&&(l(2),M(" ",m(3,1,"courses.quiz.submitting")," "))}function Hee(n,t){if(n&1){let e=J();d(0,"button",64),R("click",function(){$(e);let o=x(4);return q(o.submitQuiz())}),se(1,$ee,4,3,"span",12)(2,qee,4,3,"span",12),p()}if(n&2){let e=x(4);E("disabled",!e.allQuestionsAnswered||e.isSubmitting),l(),E("ngIf",!e.isSubmitting),l(),E("ngIf",e.isSubmitting)}}function Wee(n,t){if(n&1){let e=J();d(0,"div",46)(1,"div",47)(2,"span",48),f(3),p(),f(4),p(),d(5,"div",49),se(6,Vee,7,6,"button",50),p(),d(7,"div",51)(8,"button",52),R("click",function(){$(e);let o=x(3);return q(o.previousQuestion())}),b(9,"i",53),f(10),h(11,"translate"),p(),se(12,Uee,4,3,"button",54)(13,Hee,3,3,"button",55),p()()}if(n&2){let e=t.ngIf,i=x(3);l(3),M("",i.currentQuestionIndex+1,"."),l(),M(" ",e.text," "),l(2),E("ngForOf",e.options),l(2),E("disabled",i.currentQuestionIndex===0),l(2),M(" ",m(11,7,"courses.quiz.previous")," "),l(2),E("ngIf",i.currentQuestionIndex<i.questions.length-1),l(),E("ngIf",i.currentQuestionIndex===i.questions.length-1)}}function Gee(n,t){if(n&1&&(d(0,"div",37)(1,"div",38)(2,"div",39)(3,"span"),f(4),h(5,"translate"),p(),d(6,"span"),f(7),h(8,"translate"),p()(),d(9,"div",40),b(10,"div",41),p()(),d(11,"div",42),se(12,Bee,2,7,"button",43),p(),se(13,Wee,14,9,"div",44),p()),n&2){let e=x(2);l(4),vl("",m(5,12,"courses.quiz.question")," ",e.currentQuestionIndex+1," / ",e.questions.length),l(3),tt("",e.answeredCount," ",m(8,14,"courses.quiz.answered")),l(3),vi("width",e.answeredCount/e.questions.length*100,"%"),pt("aria-valuenow",e.answeredCount)("aria-valuemin",0)("aria-valuemax",e.questions.length),l(2),E("ngForOf",e.questions),l(),E("ngIf",e.questions[e.currentQuestionIndex])}}function Qee(n,t){n&1&&b(0,"i",81)}function Kee(n,t){n&1&&b(0,"i",82)}function Yee(n,t){n&1&&b(0,"i",92)}function Zee(n,t){n&1&&b(0,"i",93)}function Jee(n,t){if(n&1&&(d(0,"div",89)(1,"span",58),f(2),p(),d(3,"span",59),f(4),p(),se(5,Yee,1,0,"i",90)(6,Zee,1,0,"i",91),p()),n&2){let e=t.$implicit,i=t.index,o=x().$implicit,r=x(3);V("selected",r.userAnswers[o.id]===i)("correct",e.correct)("incorrect",r.userAnswers[o.id]===i&&!e.correct),l(2),O(yi(10,CL)[i]),l(2),O(e.text),l(),E("ngIf",e.correct),l(),E("ngIf",r.userAnswers[o.id]===i&&!e.correct)}}function Xee(n,t){if(n&1&&(d(0,"div",83)(1,"div",84)(2,"span",85),f(3),p(),d(4,"span",86),f(5),p()(),d(6,"div",87),se(7,Jee,7,11,"div",88),p()()),n&2){let e=t.$implicit,i=t.index,o=x(3);l(2),V("correct",o.isAnswerCorrect(e.id))("incorrect",!o.isAnswerCorrect(e.id)),l(),M(" ",i+1," "),l(2),O(e.text),l(2),E("ngForOf",e.options)}}function ete(n,t){if(n&1){let e=J();d(0,"button",94),R("click",function(){$(e);let o=x(3);return q(o.retakeQuiz())}),b(1,"i",95),f(2),h(3,"translate"),p()}n&2&&(l(2),M(" ",m(3,1,"courses.quiz.retake")," "))}function tte(n,t){if(n&1){let e=J();d(0,"div",67)(1,"div",68)(2,"div",69),se(3,Qee,1,0,"i",70)(4,Kee,1,0,"i",71),p(),d(5,"h3"),f(6),h(7,"translate"),h(8,"translate"),p(),d(9,"p",72),f(10),h(11,"translate"),d(12,"strong"),f(13),p(),f(14),p(),d(15,"p",73),f(16),h(17,"translate"),p()(),d(18,"div",74)(19,"h5",75),b(20,"i",76),f(21),h(22,"translate"),p(),se(23,Xee,8,7,"div",77),p(),d(24,"div",78),se(25,ete,4,3,"button",79),d(26,"button",80),R("click",function(){$(e);let o=x(2);return q(o.closeQuiz())}),b(27,"i",53),f(28),h(29,"translate"),p()()()}if(n&2){let e=x(2);l(),V("passed",e.currentAttempt.passed)("failed",!e.currentAttempt.passed),l(2),E("ngIf",e.currentAttempt.passed),l(),E("ngIf",!e.currentAttempt.passed),l(),V("text-success",e.currentAttempt.passed)("text-warning",!e.currentAttempt.passed),l(),M(" ",e.currentAttempt.passed?m(7,21,"courses.quiz.congratulations"):m(8,23,"courses.quiz.keepTrying")," "),l(4),M(" ",m(11,25,"courses.quiz.yourScore"),": "),l(3),tt("",e.currentAttempt.score,"/",e.currentAttempt.totalQuestions),l(),M(" (",e.currentAttempt.percentage,"%) "),l(2),tt(" ",m(17,27,"courses.quiz.passingScore"),": ",e.currentAttempt.passingScore,"% "),l(5),M(" ",m(22,29,"courses.quiz.reviewAnswers")," "),l(2),E("ngForOf",e.questions),l(2),E("ngIf",!e.currentAttempt.passed),l(3),M(" ",m(29,31,"courses.quiz.backToLesson")," ")}}function nte(n,t){if(n&1){let e=J();d(0,"div",7)(1,"div",8)(2,"div",9)(3,"h4"),b(4,"img",10),f(5),p(),d(6,"p"),b(7,"i",11),f(8),h(9,"translate"),se(10,Nee,5,4,"span",12),p()(),d(11,"button",13),h(12,"translate"),R("click",function(){$(e);let o=x();return q(o.closeQuiz())}),p()(),se(13,Fee,32,24,"div",14)(14,zee,13,9,"div",15)(15,Gee,14,16,"div",16)(16,tte,30,33,"div",17),p()}if(n&2){let e=x();l(5),M(" ",e.quiz.title," "),l(3),tt(" ",e.questions.length," ",m(9,9,"courses.quiz.questions")," "),l(2),E("ngIf",e.quiz.passingScore),l(),pt("aria-label",m(12,11,"courses.close")),l(2),E("ngIf",e.quizProgress&&!e.quizStarted),l(),E("ngIf",!e.quizStarted),l(),E("ngIf",e.quizStarted&&!e.quizCompleted),l(),E("ngIf",e.quizCompleted&&e.currentAttempt)}}function ite(n,t){if(n&1){let e=J();d(0,"div",96),b(1,"i",97),d(2,"p"),f(3),h(4,"translate"),p(),d(5,"button",98),R("click",function(){$(e);let o=x();return q(o.closeQuiz())}),b(6,"i",53),f(7),h(8,"translate"),p()()}n&2&&(l(3),O(m(4,2,"courses.quiz.notFound")),l(4),M(" ",m(8,4,"courses.quiz.backToLesson")," "))}var nC=class n{constructor(t,e,i){this.quizzesService=t;this.progressService=e;this.translate=i}quizId;lessonId;courseId;sectionId;organizationId;quizPassed=new et;quizFailed=new et;close=new et;quiz=null;questions=[];isLoading=!0;isSubmitting=!1;quizStarted=!1;quizCompleted=!1;userAnswers={};currentQuestionIndex=0;quizProgress=null;previousAttempts=[];currentAttempt=null;attemptStartedAt="";destroy$=new me;ngOnInit(){this.loadQuizData()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}loadQuizData(){this.isLoading=!0,Rt({quiz:this.quizzesService.getQuiz(this.quizId),questions:this.quizzesService.getQuestionsByQuiz(this.quizId),progress:this.progressService.getQuizProgress(this.organizationId,this.courseId,this.quizId),attempts:this.progressService.getQuizAttempts(this.organizationId,this.courseId,this.quizId)}).pipe(ne(this.destroy$)).subscribe({next:({quiz:t,questions:e,progress:i,attempts:o})=>{this.quiz=t,this.questions=e,this.quizProgress=i,this.previousAttempts=o,this.isLoading=!1},error:t=>{console.error("Error loading quiz:",t),this.isLoading=!1,this.showError("courses.quiz.loadError")}})}startQuiz(){this.quizStarted=!0,this.quizCompleted=!1,this.userAnswers={},this.currentQuestionIndex=0,this.attemptStartedAt=new Date().toISOString(),this.currentAttempt=null}selectAnswer(t,e){this.quizCompleted||(this.userAnswers[t]=e)}isOptionSelected(t,e){return this.userAnswers[t]===e}isQuestionAnswered(t){return this.userAnswers[t]!==void 0}get answeredCount(){return Object.keys(this.userAnswers).length}get allQuestionsAnswered(){return this.answeredCount===this.questions.length}nextQuestion(){this.currentQuestionIndex<this.questions.length-1&&this.currentQuestionIndex++}previousQuestion(){this.currentQuestionIndex>0&&this.currentQuestionIndex--}goToQuestion(t){t>=0&&t<this.questions.length&&(this.currentQuestionIndex=t)}submitQuiz(){if(!this.allQuestionsAnswered){this.showWarning("courses.quiz.answerAllQuestions");return}this.isSubmitting=!0;let t=0;this.questions.forEach(i=>{let o=this.userAnswers[i.id];if(o!==void 0){let r=i.options[o];r&&r.correct&&t++}});let e=this.quiz?.passingScore||60;this.progressService.submitQuizAttempt(this.organizationId,this.courseId,this.lessonId,this.quizId,this.sectionId,this.userAnswers,t,this.questions.length,e,this.attemptStartedAt).pipe(ne(this.destroy$)).subscribe({next:i=>{this.currentAttempt=i,this.quizCompleted=!0,this.isSubmitting=!1,i.passed?(this.showSuccess("courses.quiz.passed"),this.quizPassed.emit(i)):(this.showInfo("courses.quiz.failed"),this.quizFailed.emit(i)),this.loadQuizProgress()},error:i=>{console.error("Error submitting quiz:",i),this.isSubmitting=!1,this.showError("courses.quiz.submitError")}})}loadQuizProgress(){Rt({progress:this.progressService.getQuizProgress(this.organizationId,this.courseId,this.quizId),attempts:this.progressService.getQuizAttempts(this.organizationId,this.courseId,this.quizId)}).pipe(ne(this.destroy$)).subscribe({next:({progress:t,attempts:e})=>{this.quizProgress=t,this.previousAttempts=e}})}retakeQuiz(){this.startQuiz()}closeQuiz(){this.close.emit()}isAnswerCorrect(t){if(!this.quizCompleted)return!1;let e=this.questions.find(o=>o.id===t);if(!e)return!1;let i=this.userAnswers[t];return i===void 0?!1:e.options[i]?.correct||!1}getCorrectAnswerIndex(t){let e=this.questions.find(i=>i.id===t);return e?e.options.findIndex(i=>i.correct):-1}showSuccess(t){wf.default.fire({icon:"success",title:this.translate.instant("courses.quiz.congratulations"),text:this.translate.instant(t),confirmButtonColor:"#16A34A"}),this.celebrateSuccess()}showInfo(t){wf.default.fire({icon:"info",title:this.translate.instant("courses.quiz.tryAgain"),text:this.translate.instant(t),confirmButtonColor:"#3B82F6"})}showWarning(t){wf.default.fire({icon:"warning",title:this.translate.instant("courses.quiz.attention"),text:this.translate.instant(t),confirmButtonColor:"#F59E0B"})}showError(t){wf.default.fire({icon:"error",title:this.translate.instant("courses.quiz.error"),text:this.translate.instant(t),confirmButtonColor:"#DC2626"})}celebrateSuccess(){hL({particleCount:120,spread:70,origin:{y:.6}})}static \u0275fac=function(e){return new(e||n)(A(Ed),A(Id),A(Pi))};static \u0275cmp=ce({type:n,selectors:[["app-lesson-quiz"]],inputs:{quizId:"quizId",lessonId:"lessonId",courseId:"courseId",sectionId:"sectionId",organizationId:"organizationId"},outputs:{quizPassed:"quizPassed",quizFailed:"quizFailed",close:"close"},decls:4,vars:3,consts:[[1,"lesson-quiz"],["class","quiz-loading",4,"ngIf"],["class","quiz-content",4,"ngIf"],["class","quiz-not-found text-center py-5",4,"ngIf"],[1,"quiz-loading"],["role","status",1,"spinner-border","text-primary"],[1,"visually-hidden"],[1,"quiz-content"],[1,"quiz-header"],[1,"quiz-title"],["src","assets/logo-removebg-preview.png","alt","logo","width","50","height","50"],[1,"fas","fa-list-ol","me-1"],[4,"ngIf"],["type","button",1,"btn-close",3,"click"],["class","previous-attempts mb-4",4,"ngIf"],["class","quiz-start text-center",4,"ngIf"],["class","quiz-questions",4,"ngIf"],["class","quiz-results",4,"ngIf"],[1,"fas","fa-trophy","me-1"],[1,"previous-attempts","mb-4"],[1,"card","bg-light"],[1,"card-body"],[1,"card-title"],[1,"fas","fa-history","me-2"],[1,"row"],[1,"col-6","col-md-3"],[1,"stat"],[1,"stat-value"],[1,"stat-label"],["class","col-6 col-md-3",4,"ngIf"],[1,"stat-value","text-muted"],[1,"quiz-start","text-center"],[1,"quiz-icon"],[1,"fas","fa-rocket"],[1,"text-muted"],[1,"btn","btn-primary","btn-lg",3,"click"],[1,"fas","fa-play"],[1,"quiz-questions"],[1,"quiz-progress","mb-4"],[1,"d-flex","justify-content-between","mb-2"],[1,"progress",2,"height","8px"],["role","progressbar",1,"progress-bar"],[1,"question-nav","mb-4"],["type","button","class","btn btn-sm question-pill",3,"btn-primary","btn-outline-primary","btn-outline-secondary","click",4,"ngFor","ngForOf"],["class","question-card",4,"ngIf"],["type","button",1,"btn","btn-sm","question-pill",3,"click"],[1,"question-card"],[1,"question-text"],[1,"question-number"],[1,"options-list"],["type","button","class","option-btn",3,"selected","click",4,"ngFor","ngForOf"],[1,"question-actions"],["type","button",1,"btn","btn-outline-secondary",3,"click","disabled"],[1,"fas","fa-arrow-left","me-2"],["type","button","class","btn btn-primary",3,"click",4,"ngIf"],["type","button","class","btn btn-success",3,"disabled","click",4,"ngIf"],["type","button",1,"option-btn",3,"click"],[1,"option-indicator"],[1,"option-letter"],[1,"option-text"],["class","fas fa-check-circle text-primary ms-auto",4,"ngIf"],[1,"fas","fa-check-circle","text-primary","ms-auto"],["type","button",1,"btn","btn-primary",3,"click"],[1,"fas","fa-arrow-right","ms-2"],["type","button",1,"btn","btn-success",3,"click","disabled"],[1,"fas","fa-paper-plane","me-2"],["role","status",1,"spinner-border","spinner-border-sm","me-2"],[1,"quiz-results"],[1,"result-summary"],[1,"result-icon"],["class","fas fa-crown",4,"ngIf"],["class","fas fa-lightbulb",4,"ngIf"],[1,"lead"],[1,"text-muted","mb-0"],[1,"answers-review","mt-4"],[1,"mb-3"],[1,"fas","fa-list-check","me-2"],["class","review-item mb-3",4,"ngFor","ngForOf"],[1,"result-actions","mt-4"],["class","btn btn-primary btn-lg me-3",3,"click",4,"ngIf"],[1,"btn","btn-outline-secondary","btn-lg",3,"click"],[1,"fas","fa-crown"],[1,"fas","fa-lightbulb"],[1,"review-item","mb-3"],[1,"review-question"],[1,"review-number"],[1,"review-text"],[1,"review-answer"],["class","review-option",3,"selected","correct","incorrect",4,"ngFor","ngForOf"],[1,"review-option"],["class","fas fa-check text-success ms-auto",4,"ngIf"],["class","fas fa-times text-danger ms-auto",4,"ngIf"],[1,"fas","fa-check","text-success","ms-auto"],[1,"fas","fa-times","text-danger","ms-auto"],[1,"btn","btn-primary","btn-lg","me-3",3,"click"],[1,"fas","fa-redo","me-2"],[1,"quiz-not-found","text-center","py-5"],[1,"fas","fa-exclamation-circle","fa-3x","text-muted","mb-3"],[1,"btn","btn-outline-primary",3,"click"]],template:function(e,i){e&1&&(d(0,"div",0),se(1,Ree,8,6,"div",1)(2,nte,17,13,"div",2)(3,ite,9,6,"div",3),p()),e&2&&(l(),E("ngIf",i.isLoading),l(),E("ngIf",!i.isLoading&&i.quiz),l(),E("ngIf",!i.isLoading&&!i.quiz))},dependencies:[pe,di,Yn,fe,w1,_e],styles:['@charset "UTF-8";.lesson-quiz[_ngcontent-%COMP%]{max-width:800px;margin:0 auto;padding:0;font-family:Segoe UI,system-ui,-apple-system,sans-serif}.lesson-quiz[_ngcontent-%COMP%]   .quiz-loading[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:80px 40px;text-align:center}.lesson-quiz[_ngcontent-%COMP%]   .quiz-loading[_ngcontent-%COMP%]   .spinner-border[_ngcontent-%COMP%]{width:50px;height:50px;border-width:4px;color:#c9a24d!important}.lesson-quiz[_ngcontent-%COMP%]   .quiz-loading[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:20px;color:#0e3a5d;font-size:1rem}.lesson-quiz[_ngcontent-%COMP%]   .quiz-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;padding:24px 28px;background:linear-gradient(135deg,#c9a24d,#9b792f);color:#fff;border-radius:16px 16px 0 0;margin:-1px -1px 0}.lesson-quiz[_ngcontent-%COMP%]   .quiz-header[_ngcontent-%COMP%]   .quiz-title[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin-bottom:6px;color:#fff;font-weight:600;font-size:1.25rem;display:flex;align-items:center;gap:10px}.lesson-quiz[_ngcontent-%COMP%]   .quiz-header[_ngcontent-%COMP%]   .quiz-title[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.1rem;opacity:.9}.lesson-quiz[_ngcontent-%COMP%]   .quiz-header[_ngcontent-%COMP%]   .quiz-title[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#ffffffd9!important;font-size:.9rem;margin:0}.lesson-quiz[_ngcontent-%COMP%]   .quiz-header[_ngcontent-%COMP%]   .btn-close[_ngcontent-%COMP%]{background:#fff3;border-radius:50%;width:36px;height:36px;padding:0;display:flex;align-items:center;justify-content:center;opacity:1;filter:brightness(10);transition:all .2s ease}.lesson-quiz[_ngcontent-%COMP%]   .quiz-header[_ngcontent-%COMP%]   .btn-close[_ngcontent-%COMP%]:hover{background:#ffffff4d;transform:rotate(90deg)}.lesson-quiz[_ngcontent-%COMP%]   .quiz-content[_ngcontent-%COMP%]{background:#fff;border-radius:0 0 16px 16px}.lesson-quiz[_ngcontent-%COMP%]   .previous-attempts[_ngcontent-%COMP%]{padding:24px 28px 0}.lesson-quiz[_ngcontent-%COMP%]   .previous-attempts[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{border:none;border-radius:12px;background:linear-gradient(145deg,#f8f9fa,#e9ecef);box-shadow:0 2px 8px #0000000a}.lesson-quiz[_ngcontent-%COMP%]   .previous-attempts[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{padding:20px}.lesson-quiz[_ngcontent-%COMP%]   .previous-attempts[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{color:#c9a24d;font-weight:600;font-size:.95rem;margin-bottom:16px;display:flex;align-items:center;gap:8px}.lesson-quiz[_ngcontent-%COMP%]   .previous-attempts[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#c9a24d}.lesson-quiz[_ngcontent-%COMP%]   .previous-attempts[_ngcontent-%COMP%]   .stat[_ngcontent-%COMP%]{text-align:center;padding:12px 8px;background:#fff;border-radius:10px;box-shadow:0 1px 3px #0000000d}.lesson-quiz[_ngcontent-%COMP%]   .previous-attempts[_ngcontent-%COMP%]   .stat[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%]{display:block;font-size:1.5rem;font-weight:700;color:#c9a24d;line-height:1.2}.lesson-quiz[_ngcontent-%COMP%]   .previous-attempts[_ngcontent-%COMP%]   .stat[_ngcontent-%COMP%]   .stat-label[_ngcontent-%COMP%]{font-size:.7rem;color:#0e3a5d;text-transform:uppercase;letter-spacing:.5px;margin-top:4px;display:block}.lesson-quiz[_ngcontent-%COMP%]   .previous-attempts[_ngcontent-%COMP%]   .stat[_ngcontent-%COMP%]   .text-success[_ngcontent-%COMP%]{color:#16a34a!important}.lesson-quiz[_ngcontent-%COMP%]   .previous-attempts[_ngcontent-%COMP%]   .stat[_ngcontent-%COMP%]   .text-danger[_ngcontent-%COMP%]{color:#dc2626!important}.lesson-quiz[_ngcontent-%COMP%]   .quiz-start[_ngcontent-%COMP%]{padding:60px 40px;text-align:center}.lesson-quiz[_ngcontent-%COMP%]   .quiz-start[_ngcontent-%COMP%]   .quiz-icon[_ngcontent-%COMP%]{width:120px;height:120px;margin:0 auto 24px;background:linear-gradient(135deg,#c9a24d1a,#c9a24d0d);border-radius:50%;display:flex;align-items:center;justify-content:center;animation:_ngcontent-%COMP%_pulse 2s infinite}.lesson-quiz[_ngcontent-%COMP%]   .quiz-start[_ngcontent-%COMP%]   .quiz-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:3rem;color:#c9a24d}.lesson-quiz[_ngcontent-%COMP%]   .quiz-start[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{color:#c9a24d;font-weight:600;font-size:1.35rem;margin-bottom:12px}.lesson-quiz[_ngcontent-%COMP%]   .quiz-start[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{max-width:400px;margin:0 auto 28px;line-height:1.6}.lesson-quiz[_ngcontent-%COMP%]   .quiz-start[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]{padding:14px 40px;font-size:1rem;font-weight:600;border-radius:50px;background:linear-gradient(135deg,#c9a24d,#ae8835);border:none;box-shadow:0 4px 15px #c9a24d59;transition:all .3s ease}.lesson-quiz[_ngcontent-%COMP%]   .quiz-start[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 6px 20px #c9a24d73}.lesson-quiz[_ngcontent-%COMP%]   .quiz-start[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:8px}@keyframes _ngcontent-%COMP%_pulse{0%,to{transform:scale(1);box-shadow:0 0 #c9a24d33}50%{transform:scale(1.02);box-shadow:0 0 0 15px #c9a24d00}}.lesson-quiz[_ngcontent-%COMP%]   .quiz-questions[_ngcontent-%COMP%]{padding:28px}.lesson-quiz[_ngcontent-%COMP%]   .quiz-progress[_ngcontent-%COMP%]{margin-bottom:24px}.lesson-quiz[_ngcontent-%COMP%]   .quiz-progress[_ngcontent-%COMP%]   .d-flex[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.875rem;color:#0e3a5d;font-weight:500}.lesson-quiz[_ngcontent-%COMP%]   .quiz-progress[_ngcontent-%COMP%]   .progress[_ngcontent-%COMP%]{height:10px;border-radius:10px;background:#e9ecef;overflow:hidden}.lesson-quiz[_ngcontent-%COMP%]   .quiz-progress[_ngcontent-%COMP%]   .progress[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]{background:linear-gradient(90deg,#c9a24d,#d5b674);border-radius:10px;transition:width .4s ease}.lesson-quiz[_ngcontent-%COMP%]   .question-nav[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:8px;margin-bottom:24px;padding:16px;background:#f8f9fa;border-radius:12px}.lesson-quiz[_ngcontent-%COMP%]   .question-nav[_ngcontent-%COMP%]   .question-pill[_ngcontent-%COMP%]{width:40px;height:40px;padding:0;border-radius:50%;font-weight:600;font-size:.9rem;transition:all .2s ease;position:relative}.lesson-quiz[_ngcontent-%COMP%]   .question-nav[_ngcontent-%COMP%]   .question-pill.btn-primary[_ngcontent-%COMP%]{background:#c9a24d;border-color:#c9a24d;box-shadow:0 3px 10px #c9a24d4d;transform:scale(1.1)}.lesson-quiz[_ngcontent-%COMP%]   .question-nav[_ngcontent-%COMP%]   .question-pill.btn-outline-primary[_ngcontent-%COMP%]{background:#c9a24d1a;border-color:#c9a24d;color:#c9a24d}.lesson-quiz[_ngcontent-%COMP%]   .question-nav[_ngcontent-%COMP%]   .question-pill.btn-outline-primary[_ngcontent-%COMP%]:after{content:"\\2713";position:absolute;top:-6px;right:-6px;width:18px;height:18px;background:#16a34a;color:#fff;border-radius:50%;font-size:10px;display:flex;align-items:center;justify-content:center}.lesson-quiz[_ngcontent-%COMP%]   .question-nav[_ngcontent-%COMP%]   .question-pill.btn-outline-secondary[_ngcontent-%COMP%]{background:#fff;border-color:#dee2e6;color:#0e3a5d}.lesson-quiz[_ngcontent-%COMP%]   .question-nav[_ngcontent-%COMP%]   .question-pill.btn-outline-secondary[_ngcontent-%COMP%]:hover{background:#f8f9fa;border-color:#c9a24d;color:#c9a24d}.lesson-quiz[_ngcontent-%COMP%]   .question-card[_ngcontent-%COMP%]{background:#fff;border:2px solid #e9ecef;border-radius:16px;padding:28px;box-shadow:0 4px 20px #0000000f;animation:_ngcontent-%COMP%_slideIn .3s ease}.lesson-quiz[_ngcontent-%COMP%]   .question-card[_ngcontent-%COMP%]   .question-text[_ngcontent-%COMP%]{font-size:1.2rem;font-weight:500;color:#c9a24d;margin-bottom:28px;line-height:1.7;padding-bottom:20px;border-bottom:1px dashed #e9ecef}.lesson-quiz[_ngcontent-%COMP%]   .question-card[_ngcontent-%COMP%]   .question-text[_ngcontent-%COMP%]   .question-number[_ngcontent-%COMP%]{display:inline-flex;align-items:center;justify-content:center;width:32px;height:32px;background:linear-gradient(135deg,#c9a24d,#ae8835);color:#fff;border-radius:50%;font-weight:700;font-size:.9rem;margin-right:12px}.lesson-quiz[_ngcontent-%COMP%]   .question-card[_ngcontent-%COMP%]   .options-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:12px}.lesson-quiz[_ngcontent-%COMP%]   .question-card[_ngcontent-%COMP%]   .option-btn[_ngcontent-%COMP%]{display:flex;align-items:center;gap:16px;padding:18px 22px;background:#f8f9fa;border:2px solid transparent;border-radius:14px;text-align:left;transition:all .25s ease;cursor:pointer;position:relative;overflow:hidden}.lesson-quiz[_ngcontent-%COMP%]   .question-card[_ngcontent-%COMP%]   .option-btn[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;width:100%;height:100%;background:linear-gradient(135deg,#c9a24d14,#c9a24d05);opacity:0;transition:opacity .25s ease}.lesson-quiz[_ngcontent-%COMP%]   .question-card[_ngcontent-%COMP%]   .option-btn[_ngcontent-%COMP%]:hover{border-color:#c9a24d4d;transform:translate(4px)}.lesson-quiz[_ngcontent-%COMP%]   .question-card[_ngcontent-%COMP%]   .option-btn[_ngcontent-%COMP%]:hover:before{opacity:1}.lesson-quiz[_ngcontent-%COMP%]   .question-card[_ngcontent-%COMP%]   .option-btn[_ngcontent-%COMP%]:hover   .option-indicator[_ngcontent-%COMP%]{border-color:#c9a24d;color:#c9a24d}.lesson-quiz[_ngcontent-%COMP%]   .question-card[_ngcontent-%COMP%]   .option-btn.selected[_ngcontent-%COMP%]{background:linear-gradient(135deg,#c9a24d1f,#c9a24d0f);border-color:#c9a24d;box-shadow:0 4px 15px #c9a24d26}.lesson-quiz[_ngcontent-%COMP%]   .question-card[_ngcontent-%COMP%]   .option-btn.selected[_ngcontent-%COMP%]   .option-indicator[_ngcontent-%COMP%]{background:linear-gradient(135deg,#c9a24d,#ae8835);border-color:#c9a24d;color:#fff;box-shadow:0 3px 10px #c9a24d4d}.lesson-quiz[_ngcontent-%COMP%]   .question-card[_ngcontent-%COMP%]   .option-btn[_ngcontent-%COMP%]   .option-indicator[_ngcontent-%COMP%]{width:38px;height:38px;display:flex;align-items:center;justify-content:center;background:#fff;border:2px solid #dee2e6;border-radius:50%;font-weight:700;font-size:.9rem;color:#0e3a5d;transition:all .25s ease;flex-shrink:0}.lesson-quiz[_ngcontent-%COMP%]   .question-card[_ngcontent-%COMP%]   .option-btn[_ngcontent-%COMP%]   .option-text[_ngcontent-%COMP%]{flex:1;font-size:1rem;color:#c9a24d;font-weight:500;line-height:1.5}.lesson-quiz[_ngcontent-%COMP%]   .question-card[_ngcontent-%COMP%]   .option-btn[_ngcontent-%COMP%]   .fa-check-circle[_ngcontent-%COMP%]{font-size:1.25rem;color:#c9a24d!important;animation:_ngcontent-%COMP%_popIn .3s ease}.lesson-quiz[_ngcontent-%COMP%]   .question-card[_ngcontent-%COMP%]   .question-actions[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-top:32px;padding-top:24px;border-top:1px solid #e9ecef;gap:12px}.lesson-quiz[_ngcontent-%COMP%]   .question-card[_ngcontent-%COMP%]   .question-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{padding:12px 28px;font-weight:600;border-radius:50px;transition:all .25s ease}.lesson-quiz[_ngcontent-%COMP%]   .question-card[_ngcontent-%COMP%]   .question-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.9rem}.lesson-quiz[_ngcontent-%COMP%]   .question-card[_ngcontent-%COMP%]   .question-actions[_ngcontent-%COMP%]   .btn-outline-secondary[_ngcontent-%COMP%]{border-width:2px;color:#0e3a5d}.lesson-quiz[_ngcontent-%COMP%]   .question-card[_ngcontent-%COMP%]   .question-actions[_ngcontent-%COMP%]   .btn-outline-secondary[_ngcontent-%COMP%]:hover:not(:disabled){background:#f8f9fa;border-color:#0e3a5d}.lesson-quiz[_ngcontent-%COMP%]   .question-card[_ngcontent-%COMP%]   .question-actions[_ngcontent-%COMP%]   .btn-outline-secondary[_ngcontent-%COMP%]:disabled{opacity:.4}.lesson-quiz[_ngcontent-%COMP%]   .question-card[_ngcontent-%COMP%]   .question-actions[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]{background:linear-gradient(135deg,#c9a24d,#ae8835);border:none;box-shadow:0 4px 15px #c9a24d40}.lesson-quiz[_ngcontent-%COMP%]   .question-card[_ngcontent-%COMP%]   .question-actions[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 6px 20px #c9a24d59}.lesson-quiz[_ngcontent-%COMP%]   .question-card[_ngcontent-%COMP%]   .question-actions[_ngcontent-%COMP%]   .btn-success[_ngcontent-%COMP%]{background:linear-gradient(135deg,#16a34a,#107636);border:none;box-shadow:0 4px 15px #16a34a40}.lesson-quiz[_ngcontent-%COMP%]   .question-card[_ngcontent-%COMP%]   .question-actions[_ngcontent-%COMP%]   .btn-success[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 6px 20px #16a34a59}.lesson-quiz[_ngcontent-%COMP%]   .question-card[_ngcontent-%COMP%]   .question-actions[_ngcontent-%COMP%]   .btn-success[_ngcontent-%COMP%]:disabled{opacity:.5;box-shadow:none;transform:none}@keyframes _ngcontent-%COMP%_slideIn{0%{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}@keyframes _ngcontent-%COMP%_popIn{0%{transform:scale(0)}70%{transform:scale(1.2)}to{transform:scale(1)}}.lesson-quiz[_ngcontent-%COMP%]   .quiz-results[_ngcontent-%COMP%]{padding:28px}.lesson-quiz[_ngcontent-%COMP%]   .quiz-results[_ngcontent-%COMP%]   .result-summary[_ngcontent-%COMP%]{padding:40px;border-radius:16px;text-align:center;position:relative;overflow:hidden}.lesson-quiz[_ngcontent-%COMP%]   .quiz-results[_ngcontent-%COMP%]   .result-summary[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;right:0;height:4px}.lesson-quiz[_ngcontent-%COMP%]   .quiz-results[_ngcontent-%COMP%]   .result-summary.passed[_ngcontent-%COMP%]{background:linear-gradient(145deg,#16a34a14,#16a34a05)}.lesson-quiz[_ngcontent-%COMP%]   .quiz-results[_ngcontent-%COMP%]   .result-summary.passed[_ngcontent-%COMP%]:before{background:linear-gradient(90deg,#16a34a,#24e16a)}.lesson-quiz[_ngcontent-%COMP%]   .quiz-results[_ngcontent-%COMP%]   .result-summary.passed[_ngcontent-%COMP%]   .result-icon[_ngcontent-%COMP%]{background:#16a34a1a}.lesson-quiz[_ngcontent-%COMP%]   .quiz-results[_ngcontent-%COMP%]   .result-summary.passed[_ngcontent-%COMP%]   .result-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#16a34a!important}.lesson-quiz[_ngcontent-%COMP%]   .quiz-results[_ngcontent-%COMP%]   .result-summary.failed[_ngcontent-%COMP%]{background:linear-gradient(145deg,#d9770614,#d9770605)}.lesson-quiz[_ngcontent-%COMP%]   .quiz-results[_ngcontent-%COMP%]   .result-summary.failed[_ngcontent-%COMP%]:before{background:linear-gradient(90deg,#d97706,#f99d32)}.lesson-quiz[_ngcontent-%COMP%]   .quiz-results[_ngcontent-%COMP%]   .result-summary.failed[_ngcontent-%COMP%]   .result-icon[_ngcontent-%COMP%]{background:#d977061a}.lesson-quiz[_ngcontent-%COMP%]   .quiz-results[_ngcontent-%COMP%]   .result-summary.failed[_ngcontent-%COMP%]   .result-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#d97706!important}.lesson-quiz[_ngcontent-%COMP%]   .quiz-results[_ngcontent-%COMP%]   .result-summary[_ngcontent-%COMP%]   .result-icon[_ngcontent-%COMP%]{width:100px;height:100px;margin:0 auto 20px;border-radius:50%;display:flex;align-items:center;justify-content:center;animation:_ngcontent-%COMP%_bounceIn .6s ease}.lesson-quiz[_ngcontent-%COMP%]   .quiz-results[_ngcontent-%COMP%]   .result-summary[_ngcontent-%COMP%]   .result-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:3rem}.lesson-quiz[_ngcontent-%COMP%]   .quiz-results[_ngcontent-%COMP%]   .result-summary[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-weight:700;font-size:1.5rem;margin-bottom:12px}.lesson-quiz[_ngcontent-%COMP%]   .quiz-results[_ngcontent-%COMP%]   .result-summary[_ngcontent-%COMP%]   .lead[_ngcontent-%COMP%]{font-size:1.2rem;margin-bottom:8px}.lesson-quiz[_ngcontent-%COMP%]   .quiz-results[_ngcontent-%COMP%]   .result-summary[_ngcontent-%COMP%]   .lead[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-weight:700}@keyframes _ngcontent-%COMP%_bounceIn{0%{transform:scale(0)}50%{transform:scale(1.15)}to{transform:scale(1)}}.lesson-quiz[_ngcontent-%COMP%]   .quiz-results[_ngcontent-%COMP%]   .answers-review[_ngcontent-%COMP%]{margin-top:32px}.lesson-quiz[_ngcontent-%COMP%]   .quiz-results[_ngcontent-%COMP%]   .answers-review[_ngcontent-%COMP%] > h5[_ngcontent-%COMP%]{font-weight:600;color:#c9a24d;margin-bottom:20px;display:flex;align-items:center;gap:10px}.lesson-quiz[_ngcontent-%COMP%]   .quiz-results[_ngcontent-%COMP%]   .answers-review[_ngcontent-%COMP%] > h5[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#c9a24d}.lesson-quiz[_ngcontent-%COMP%]   .quiz-results[_ngcontent-%COMP%]   .answers-review[_ngcontent-%COMP%]   .review-item[_ngcontent-%COMP%]{background:#fff;border:1px solid #e9ecef;border-radius:14px;overflow:hidden;margin-bottom:16px;box-shadow:0 2px 8px #0000000a}.lesson-quiz[_ngcontent-%COMP%]   .quiz-results[_ngcontent-%COMP%]   .answers-review[_ngcontent-%COMP%]   .review-item[_ngcontent-%COMP%]   .review-question[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:14px;padding:16px 20px;background:#f8f9fa;border-bottom:1px solid #e9ecef}.lesson-quiz[_ngcontent-%COMP%]   .quiz-results[_ngcontent-%COMP%]   .answers-review[_ngcontent-%COMP%]   .review-item[_ngcontent-%COMP%]   .review-question[_ngcontent-%COMP%]   .review-number[_ngcontent-%COMP%]{width:30px;height:30px;display:flex;align-items:center;justify-content:center;border-radius:50%;font-weight:700;font-size:.85rem;flex-shrink:0;box-shadow:0 2px 6px #0000001a}.lesson-quiz[_ngcontent-%COMP%]   .quiz-results[_ngcontent-%COMP%]   .answers-review[_ngcontent-%COMP%]   .review-item[_ngcontent-%COMP%]   .review-question[_ngcontent-%COMP%]   .review-number.correct[_ngcontent-%COMP%]{background:linear-gradient(135deg,#16a34a,#107636);color:#fff}.lesson-quiz[_ngcontent-%COMP%]   .quiz-results[_ngcontent-%COMP%]   .answers-review[_ngcontent-%COMP%]   .review-item[_ngcontent-%COMP%]   .review-question[_ngcontent-%COMP%]   .review-number.incorrect[_ngcontent-%COMP%]{background:linear-gradient(135deg,#dc2626,#b21d1d);color:#fff}.lesson-quiz[_ngcontent-%COMP%]   .quiz-results[_ngcontent-%COMP%]   .answers-review[_ngcontent-%COMP%]   .review-item[_ngcontent-%COMP%]   .review-question[_ngcontent-%COMP%]   .review-text[_ngcontent-%COMP%]{font-weight:500;color:#c9a24d;line-height:1.5;padding-top:4px}.lesson-quiz[_ngcontent-%COMP%]   .quiz-results[_ngcontent-%COMP%]   .answers-review[_ngcontent-%COMP%]   .review-item[_ngcontent-%COMP%]   .review-answer[_ngcontent-%COMP%]{padding:12px 16px}.lesson-quiz[_ngcontent-%COMP%]   .quiz-results[_ngcontent-%COMP%]   .answers-review[_ngcontent-%COMP%]   .review-item[_ngcontent-%COMP%]   .review-answer[_ngcontent-%COMP%]   .review-option[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;padding:10px 14px;border-radius:10px;margin-bottom:8px;transition:all .2s ease}.lesson-quiz[_ngcontent-%COMP%]   .quiz-results[_ngcontent-%COMP%]   .answers-review[_ngcontent-%COMP%]   .review-item[_ngcontent-%COMP%]   .review-answer[_ngcontent-%COMP%]   .review-option[_ngcontent-%COMP%]:last-child{margin-bottom:0}.lesson-quiz[_ngcontent-%COMP%]   .quiz-results[_ngcontent-%COMP%]   .answers-review[_ngcontent-%COMP%]   .review-item[_ngcontent-%COMP%]   .review-answer[_ngcontent-%COMP%]   .review-option[_ngcontent-%COMP%]   .option-letter[_ngcontent-%COMP%]{width:28px;height:28px;display:flex;align-items:center;justify-content:center;background:#e9ecef;border-radius:50%;font-size:.75rem;font-weight:700;flex-shrink:0}.lesson-quiz[_ngcontent-%COMP%]   .quiz-results[_ngcontent-%COMP%]   .answers-review[_ngcontent-%COMP%]   .review-item[_ngcontent-%COMP%]   .review-answer[_ngcontent-%COMP%]   .review-option[_ngcontent-%COMP%]   .option-text[_ngcontent-%COMP%]{flex:1;font-size:.95rem;color:#c9a24d}.lesson-quiz[_ngcontent-%COMP%]   .quiz-results[_ngcontent-%COMP%]   .answers-review[_ngcontent-%COMP%]   .review-item[_ngcontent-%COMP%]   .review-answer[_ngcontent-%COMP%]   .review-option.correct[_ngcontent-%COMP%]{background:#16a34a1a}.lesson-quiz[_ngcontent-%COMP%]   .quiz-results[_ngcontent-%COMP%]   .answers-review[_ngcontent-%COMP%]   .review-item[_ngcontent-%COMP%]   .review-answer[_ngcontent-%COMP%]   .review-option.correct[_ngcontent-%COMP%]   .option-letter[_ngcontent-%COMP%]{background:#16a34a;color:#fff}.lesson-quiz[_ngcontent-%COMP%]   .quiz-results[_ngcontent-%COMP%]   .answers-review[_ngcontent-%COMP%]   .review-item[_ngcontent-%COMP%]   .review-answer[_ngcontent-%COMP%]   .review-option.correct[_ngcontent-%COMP%]   .option-text[_ngcontent-%COMP%]{color:#0d602b;font-weight:500}.lesson-quiz[_ngcontent-%COMP%]   .quiz-results[_ngcontent-%COMP%]   .answers-review[_ngcontent-%COMP%]   .review-item[_ngcontent-%COMP%]   .review-answer[_ngcontent-%COMP%]   .review-option.selected.incorrect[_ngcontent-%COMP%]{background:#dc26261a}.lesson-quiz[_ngcontent-%COMP%]   .quiz-results[_ngcontent-%COMP%]   .answers-review[_ngcontent-%COMP%]   .review-item[_ngcontent-%COMP%]   .review-answer[_ngcontent-%COMP%]   .review-option.selected.incorrect[_ngcontent-%COMP%]   .option-letter[_ngcontent-%COMP%]{background:#dc2626;color:#fff}.lesson-quiz[_ngcontent-%COMP%]   .quiz-results[_ngcontent-%COMP%]   .answers-review[_ngcontent-%COMP%]   .review-item[_ngcontent-%COMP%]   .review-answer[_ngcontent-%COMP%]   .review-option.selected.incorrect[_ngcontent-%COMP%]   .option-text[_ngcontent-%COMP%]{color:#b21d1d}.lesson-quiz[_ngcontent-%COMP%]   .quiz-results[_ngcontent-%COMP%]   .result-actions[_ngcontent-%COMP%]{text-align:center;padding-top:24px;display:flex;justify-content:center;gap:16px;flex-wrap:wrap}.lesson-quiz[_ngcontent-%COMP%]   .quiz-results[_ngcontent-%COMP%]   .result-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{padding:14px 32px;font-weight:600;border-radius:50px;transition:all .25s ease}.lesson-quiz[_ngcontent-%COMP%]   .quiz-results[_ngcontent-%COMP%]   .result-actions[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]{background:linear-gradient(135deg,#c9a24d,#ae8835);border:none;box-shadow:0 4px 15px #c9a24d4d}.lesson-quiz[_ngcontent-%COMP%]   .quiz-results[_ngcontent-%COMP%]   .result-actions[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 6px 20px #c9a24d66}.lesson-quiz[_ngcontent-%COMP%]   .quiz-results[_ngcontent-%COMP%]   .result-actions[_ngcontent-%COMP%]   .btn-outline-secondary[_ngcontent-%COMP%]{border-width:2px;color:#0e3a5d}.lesson-quiz[_ngcontent-%COMP%]   .quiz-results[_ngcontent-%COMP%]   .result-actions[_ngcontent-%COMP%]   .btn-outline-secondary[_ngcontent-%COMP%]:hover{background:#f8f9fa}.lesson-quiz[_ngcontent-%COMP%]   .quiz-not-found[_ngcontent-%COMP%]{padding:60px 40px;text-align:center}.lesson-quiz[_ngcontent-%COMP%]   .quiz-not-found[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{display:block;font-size:4rem;margin-bottom:20px;color:#dee2e6}.lesson-quiz[_ngcontent-%COMP%]   .quiz-not-found[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#0e3a5d;font-size:1.1rem;margin-bottom:24px}.lesson-quiz[_ngcontent-%COMP%]   .quiz-not-found[_ngcontent-%COMP%]   .btn-outline-primary[_ngcontent-%COMP%]{padding:12px 28px;border-radius:50px;font-weight:600}@media (max-width: 768px){.lesson-quiz[_ngcontent-%COMP%]   .quiz-header[_ngcontent-%COMP%]{padding:20px 22px;border-radius:12px 12px 0 0}.lesson-quiz[_ngcontent-%COMP%]   .quiz-header[_ngcontent-%COMP%]   .quiz-title[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1.1rem}.lesson-quiz[_ngcontent-%COMP%]   .quiz-start[_ngcontent-%COMP%]{padding:40px 24px}.lesson-quiz[_ngcontent-%COMP%]   .quiz-start[_ngcontent-%COMP%]   .quiz-icon[_ngcontent-%COMP%]{width:100px;height:100px}.lesson-quiz[_ngcontent-%COMP%]   .quiz-start[_ngcontent-%COMP%]   .quiz-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:2.5rem}.lesson-quiz[_ngcontent-%COMP%]   .quiz-start[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:1.2rem}.lesson-quiz[_ngcontent-%COMP%]   .quiz-questions[_ngcontent-%COMP%]{padding:20px}.lesson-quiz[_ngcontent-%COMP%]   .question-nav[_ngcontent-%COMP%]{padding:12px;gap:6px}.lesson-quiz[_ngcontent-%COMP%]   .question-nav[_ngcontent-%COMP%]   .question-pill[_ngcontent-%COMP%]{width:36px;height:36px;font-size:.8rem}.lesson-quiz[_ngcontent-%COMP%]   .question-nav[_ngcontent-%COMP%]   .question-pill.btn-outline-primary[_ngcontent-%COMP%]:after{width:14px;height:14px;font-size:8px;top:-4px;right:-4px}.lesson-quiz[_ngcontent-%COMP%]   .question-card[_ngcontent-%COMP%]{padding:20px;border-radius:14px}.lesson-quiz[_ngcontent-%COMP%]   .question-card[_ngcontent-%COMP%]   .question-text[_ngcontent-%COMP%]{font-size:1.05rem;margin-bottom:20px;padding-bottom:16px}.lesson-quiz[_ngcontent-%COMP%]   .question-card[_ngcontent-%COMP%]   .question-text[_ngcontent-%COMP%]   .question-number[_ngcontent-%COMP%]{width:28px;height:28px;font-size:.8rem;margin-right:10px}.lesson-quiz[_ngcontent-%COMP%]   .question-card[_ngcontent-%COMP%]   .option-btn[_ngcontent-%COMP%]{padding:14px 16px;gap:12px}.lesson-quiz[_ngcontent-%COMP%]   .question-card[_ngcontent-%COMP%]   .option-btn[_ngcontent-%COMP%]   .option-indicator[_ngcontent-%COMP%]{width:34px;height:34px;font-size:.85rem}.lesson-quiz[_ngcontent-%COMP%]   .question-card[_ngcontent-%COMP%]   .option-btn[_ngcontent-%COMP%]   .option-text[_ngcontent-%COMP%]{font-size:.95rem}.lesson-quiz[_ngcontent-%COMP%]   .question-card[_ngcontent-%COMP%]   .question-actions[_ngcontent-%COMP%]{flex-direction:column;gap:10px}.lesson-quiz[_ngcontent-%COMP%]   .question-card[_ngcontent-%COMP%]   .question-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{width:100%;justify-content:center}.lesson-quiz[_ngcontent-%COMP%]   .quiz-results[_ngcontent-%COMP%]{padding:20px}.lesson-quiz[_ngcontent-%COMP%]   .quiz-results[_ngcontent-%COMP%]   .result-summary[_ngcontent-%COMP%]{padding:30px 20px}.lesson-quiz[_ngcontent-%COMP%]   .quiz-results[_ngcontent-%COMP%]   .result-summary[_ngcontent-%COMP%]   .result-icon[_ngcontent-%COMP%]{width:80px;height:80px}.lesson-quiz[_ngcontent-%COMP%]   .quiz-results[_ngcontent-%COMP%]   .result-summary[_ngcontent-%COMP%]   .result-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:2.5rem}.lesson-quiz[_ngcontent-%COMP%]   .quiz-results[_ngcontent-%COMP%]   .result-summary[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.25rem}.lesson-quiz[_ngcontent-%COMP%]   .quiz-results[_ngcontent-%COMP%]   .result-summary[_ngcontent-%COMP%]   .lead[_ngcontent-%COMP%]{font-size:1.05rem}.lesson-quiz[_ngcontent-%COMP%]   .quiz-results[_ngcontent-%COMP%]   .result-actions[_ngcontent-%COMP%]{flex-direction:column}.lesson-quiz[_ngcontent-%COMP%]   .quiz-results[_ngcontent-%COMP%]   .result-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{width:100%}.lesson-quiz[_ngcontent-%COMP%]   .previous-attempts[_ngcontent-%COMP%]{padding:20px 20px 0}.lesson-quiz[_ngcontent-%COMP%]   .previous-attempts[_ngcontent-%COMP%]   .stat[_ngcontent-%COMP%]{padding:8px}.lesson-quiz[_ngcontent-%COMP%]   .previous-attempts[_ngcontent-%COMP%]   .stat[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%]{font-size:1.25rem}.lesson-quiz[_ngcontent-%COMP%]   .previous-attempts[_ngcontent-%COMP%]   .stat[_ngcontent-%COMP%]   .stat-label[_ngcontent-%COMP%]{font-size:.65rem}}']})};var ji=class n{constructor(t,e){this.database=t;this.injector=e}createSection(t,e){return re(()=>Y(this.injector,()=>{let i=le(this.database,`courses/${t}/sections`),o=ae(j({},e),{courseId:t});return X(pi(i,o)).pipe(H(r=>r.key||""))}))}getSectionsByCourse(t){return re(()=>Y(this.injector,()=>{let e=le(this.database,`courses/${t}/sections`),i=wo(e,Oo("order"));return X($t(i)).pipe(H(o=>{if(!o.exists())return[];let r=o.val(),s=Object.keys(r).map(a=>j({id:a},r[a]));return s.sort((a,c)=>a.order-c.order),s}))}))}getSection(t,e){return re(()=>Y(this.injector,()=>{let i=le(this.database,`courses/${t}/sections/${e}`);return X($t(i)).pipe(H(o=>o.exists()?j({id:e},o.val()):null))}))}updateSection(t,e,i){return re(()=>Y(this.injector,()=>{let o=le(this.database,`courses/${t}/sections/${e}`);return X(fi(o,i))}))}deleteSection(t,e){return re(()=>Y(this.injector,()=>{let i=le(this.database,`courses/${t}/sections/${e}`);return X(On(i))}))}createLesson(t,e,i){return re(()=>Y(this.injector,()=>{let o=le(this.database,`courses/${t}/sections/${e}/lessons`),r=ae(j({},i),{courseId:t,sectionId:e,createdAt:new Date().toISOString()});return X(pi(o,r)).pipe(H(s=>s.key||""))}))}getLessonsBySection(t,e){return re(()=>Y(this.injector,()=>{let i=le(this.database,`courses/${t}/sections/${e}/lessons`),o=wo(i,Oo("order"));return X($t(o)).pipe(H(r=>{if(!r.exists())return[];let s=r.val(),a=Object.keys(s).map(c=>j({id:c},s[c]));return a.sort((c,u)=>c.order-u.order),a}))}))}getLessonsByCourse(t){return this.getSectionsByCourse(t).pipe(be(e=>{if(e.length===0)return Q([]);let i=e.map(o=>this.getLessonsBySection(t,o.id));return Rt(i).pipe(H(o=>{let r=o.flat();return r.sort((s,a)=>s.order-a.order),r}))}))}getLesson(t,e,i){return re(()=>Y(this.injector,()=>{let o=le(this.database,`courses/${t}/sections/${e}/lessons/${i}`);return X($t(o)).pipe(H(r=>r.exists()?j({id:i},r.val()):null))}))}updateLesson(t,e,i,o){return re(()=>Y(this.injector,()=>{let r=le(this.database,`courses/${t}/sections/${e}/lessons/${i}`);return X(fi(r,o))}))}attachVideoToLesson(t,e,i,o){return this.updateLesson(t,e,i,{video:o})}attachPdfToLesson(t,e,i,o){return this.updateLesson(t,e,i,{pdf:o})}attachQuizToLesson(t,e,i,o){return this.updateLesson(t,e,i,{quizId:o})}deleteLesson(t,e,i){return re(()=>Y(this.injector,()=>{let o=le(this.database,`courses/${t}/sections/${e}/lessons/${i}`);return X(On(o))}))}static \u0275fac=function(e){return new(e||n)(Z(hn),Z(ze))};static \u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"})};var ote=(n,t)=>t.id;function rte(n,t){n&1&&(d(0,"div",1),b(1,"i",4),d(2,"p"),f(3),h(4,"translate"),p()()),n&2&&(l(3),O(m(4,1,"courses.noSectionSelected")))}function ste(n,t){n&1&&(d(0,"div",2),b(1,"div",5),d(2,"p"),f(3),h(4,"translate"),p()()),n&2&&(l(3),O(m(4,1,"courses.loadingLessons")))}function ate(n,t){if(n&1){let e=J();d(0,"div",3),b(1,"i",6),d(2,"h3"),f(3),h(4,"translate"),p(),d(5,"p"),f(6),p(),d(7,"button",7),R("click",function(){$(e);let o=x();return q(o.loadSectionContent())}),b(8,"i",8),f(9),h(10,"translate"),p()()}if(n&2){let e=x();l(3),O(m(4,3,"courses.error")),l(3),O(e.error),l(3),M(" ",m(10,5,"courses.retry")," ")}}function cte(n,t){if(n&1&&(d(0,"div",9)(1,"div",12)(2,"h2",13),b(3,"i",14),f(4),p(),d(5,"span",15),f(6),h(7,"translate"),h(8,"translate"),p()()()),n&2){let e=x(2);l(4),M(" ",e.section.title," "),l(2),tt(" ",e.lessons.length," ",e.lessons.length===1?m(7,3,"courses.lesson"):m(8,5,"courses.lessons")," ")}}function lte(n,t){n&1&&(d(0,"div",10),b(1,"i",16),d(2,"h3"),f(3),h(4,"translate"),p(),d(5,"p"),f(6),h(7,"translate"),p()()),n&2&&(l(3),O(m(4,2,"courses.noLessons")),l(3),O(m(7,4,"courses.noLessonsDescription")))}function dte(n,t){n&1&&b(0,"i",21)}function ute(n,t){if(n&1&&f(0),n&2){let e=x().$implicit;M(" ",e.order," ")}}function pte(n,t){if(n&1&&(d(0,"span",25),b(1,"i",34),f(2),p()),n&2){let e=x().$implicit,i=x(3);l(2),M(" ",i.formatDuration(e.duration)," ")}}function fte(n,t){n&1&&(f(0),h(1,"translate")),n&2&&M(" ",m(1,1,"courses.videoAndPdf")," ")}function gte(n,t){n&1&&(f(0),h(1,"translate")),n&2&&M(" ",m(1,1,"courses.video")," ")}function hte(n,t){n&1&&(f(0),h(1,"translate")),n&2&&M(" ",m(1,1,"courses.pdf")," ")}function mte(n,t){n&1&&(f(0),h(1,"translate")),n&2&&M(" ",m(1,1,"courses.progress.quizPassed")," ")}function _te(n,t){n&1&&(f(0),h(1,"translate")),n&2&&M(" ",m(1,1,"courses.hasQuiz")," ")}function Cte(n,t){if(n&1&&(d(0,"span",35),b(1,"i",36),T(2,mte,2,3)(3,_te,2,3),p()),n&2){let e=x().$implicit,i=x(3);V("passed",i.isQuizPassed(e.id)),l(2),D(i.isQuizPassed(e.id)?2:3)}}function vte(n,t){if(n&1&&(d(0,"div",28)(1,"div",37)(2,"span"),f(3),p()()()),n&2){let e=x().$implicit,i=x(3);l(),pt("data-progress",i.getWatchPercentage(e.id)),l(2),M("",i.getWatchPercentage(e.id),"%")}}function bte(n,t){n&1&&(f(0),h(1,"translate")),n&2&&M(" ",m(1,1,"courses.progress.continueWatching")," ")}function yte(n,t){n&1&&(f(0),h(1,"translate")),n&2&&M(" ",m(1,1,"courses.watchVideo")," ")}function Mte(n,t){if(n&1){let e=J();d(0,"button",38),h(1,"translate"),R("click",function(){$(e);let o=x().$implicit,r=x(3);return q(r.openVideoModal(o))}),b(2,"i",39),T(3,bte,2,3)(4,yte,2,3),p()}if(n&2){let e=x().$implicit,i=x(3);pt("aria-label",m(1,2,"courses.watchVideo")),l(3),D(i.getWatchPercentage(e.id)>0&&!i.isVideoCompleted(e.id)?3:4)}}function Pte(n,t){if(n&1){let e=J();d(0,"button",40),h(1,"translate"),R("click",function(){$(e);let o=x().$implicit,r=x(3);return q(r.openPdf(o.pdf.url))}),b(2,"i",41),f(3),h(4,"translate"),p()}n&2&&(pt("aria-label",m(1,2,"courses.openPdf")),l(3),M(" ",m(4,4,"courses.openPdf")," "))}function Ote(n,t){n&1&&(f(0),h(1,"translate")),n&2&&M(" ",m(1,1,"courses.progress.quizPassed")," ")}function wte(n,t){n&1&&(f(0),h(1,"translate")),n&2&&M(" ",m(1,1,"courses.progress.completeVideo")," ")}function xte(n,t){n&1&&(f(0),h(1,"translate")),n&2&&M(" ",m(1,1,"courses.quiz.start")," ")}function Ete(n,t){if(n&1){let e=J();d(0,"button",42),h(1,"translate"),R("click",function(){$(e);let o=x().$implicit,r=x(3);return q(r.openQuizModal(o))}),b(2,"i",36),T(3,Ote,2,3)(4,wte,2,3)(5,xte,2,3),p()}if(n&2){let e=x().$implicit,i=x(3);V("disabled",!i.canTakeQuiz(e))("passed",i.isQuizPassed(e.id)),E("disabled",!i.canTakeQuiz(e)),pt("aria-label",m(1,7,"courses.quiz.start")),l(3),D(i.isQuizPassed(e.id)?3:i.canTakeQuiz(e)?5:4)}}function Ite(n,t){if(n&1&&(d(0,"div",18)(1,"div",19)(2,"div",20),T(3,dte,1,0,"i",21)(4,ute,1,1),p(),d(5,"div",22)(6,"h3",23),f(7),p(),d(8,"div",24),T(9,pte,3,1,"span",25),d(10,"span",26),b(11,"i"),T(12,fte,2,3)(13,gte,2,3)(14,hte,2,3),p(),T(15,Cte,4,3,"span",27),p()(),T(16,vte,4,2,"div",28),p(),d(17,"div",29)(18,"div",30),T(19,Mte,5,4,"button",31),T(20,Pte,5,6,"button",32),T(21,Ete,6,9,"button",33),p()()()),n&2){let e=t.$implicit,i=x(3);si(i.getLessonStatusClass(e.id)),l(3),D(i.isLessonCompleted(e.id)?3:4),l(4),O(e.title),l(2),D(e.duration?9:-1),l(2),si(i.getLessonTypeIcon(e)),l(),D(i.hasVideo(e)&&i.hasPdf(e)?12:i.hasVideo(e)?13:i.hasPdf(e)?14:-1),l(3),D(i.hasQuiz(e)?15:-1),l(),D(i.hasVideo(e)&&i.getWatchPercentage(e.id)>0?16:-1),l(3),D(i.hasVideo(e)?19:-1),l(),D(i.hasPdf(e)&&(e.pdf!=null&&e.pdf.url)?20:-1),l(),D(i.hasQuiz(e)?21:-1)}}function Ste(n,t){if(n&1&&(d(0,"div",11),Be(1,Ite,22,13,"div",17,ote),p()),n&2){let e=x(2);l(),je(e.lessons)}}function Tte(n,t){if(n&1&&(T(0,cte,9,7,"div",9),T(1,lte,8,6,"div",10)(2,Ste,3,0,"div",11)),n&2){let e=x();D(e.section?0:-1),l(),D(e.lessons.length===0?1:2)}}function Dte(n,t){n&1&&b(0,"div",50)}function kte(n,t){if(n&1){let e=J();d(0,"div",43)(1,"div",44)(2,"div",45)(3,"div",46)(4,"button",47),h(5,"translate"),R("click",function(){$(e);let o=x();return q(o.closeVideoModal())}),b(6,"i",48),p(),b(7,"iframe",49),p()()()(),T(8,Dte,1,0,"div",50)}if(n&2){let e=x();vi("display",e.showVideoModal?"block":"none"),V("show",e.showVideoModal),l(4),pt("aria-label",m(5,8,"courses.close")),l(3),E("src",e.videoEmbedUrl,hl)("title",e.currentVideoLesson.title),l(),D(e.showVideoModal?8:-1)}}function Ate(n,t){if(n&1){let e=J();d(0,"div",51)(1,"div",52)(2,"div",45)(3,"app-lesson-quiz",53),R("quizPassed",function(){$(e);let o=x();return q(o.onQuizPassed())})("quizFailed",function(){$(e);let o=x();return q(o.onQuizFailed())})("close",function(){$(e);let o=x();return q(o.closeQuizModal())}),p()()()(),b(4,"div",50)}if(n&2){let e=x();vi("display","block"),l(3),E("quizId",e.currentQuizLesson.quizId)("lessonId",e.currentQuizLesson.id)("courseId",e.courseId)("sectionId",e.currentQuizLesson.sectionId)("organizationId",e.currentUserId)}}var iC=class n{constructor(t,e,i,o){this.lessonsService=t;this.progressService=e;this.authService=i;this.sanitizer=o}sectionId=null;courseId=null;section=null;lessons=[];isLoading=!1;error=null;showVideoModal=!1;currentVideoLesson=null;videoEmbedUrl=null;showQuizModal=!1;currentQuizLesson=null;lessonsProgress=new Map;currentUserId=null;player=null;lastProgressUpdate=0;PROGRESS_UPDATE_INTERVAL=1e4;videoDuration=0;currentVideoTime=0;playerJsLoaded=!1;destroy$=new me;ngOnInit(){this.loadPlayerJsScript(),this.authService.authState$().pipe(ne(this.destroy$)).subscribe(t=>{this.currentUserId=t?.uid||null,this.sectionId&&this.courseId&&this.currentUserId&&this.loadLessonsProgress()}),this.sectionId&&this.courseId&&this.loadSectionContent()}loadPlayerJsScript(){if(this.playerJsLoaded||typeof playerjs<"u"){this.playerJsLoaded=!0;return}let t=document.createElement("script");t.src="//assets.mediadelivery.net/playerjs/playerjs-latest.min.js",t.async=!0,t.onload=()=>{this.playerJsLoaded=!0,console.log("[SectionContent] Player.js loaded")},t.onerror=()=>{console.error("[SectionContent] Failed to load Player.js")},document.head.appendChild(t)}ngOnChanges(t){(t.sectionId||t.courseId)&&(this.sectionId&&this.courseId?this.loadSectionContent():this.resetData())}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete(),this.cleanupPlayer(),this.showVideoModal&&this.closeVideoModal(),document.body.classList.remove("modal-open"),document.body.style.overflow="",document.body.style.paddingRight=""}resetData(){this.section=null,this.lessons=[],this.error=null}loadSectionContent(){!this.sectionId||!this.courseId||(this.isLoading=!0,this.error=null,Rt({section:this.lessonsService.getSection(this.courseId,this.sectionId).pipe(ut(t=>(console.error("[SectionContent] Error loading section:",t),Q(null)))),lessons:this.lessonsService.getLessonsBySection(this.courseId,this.sectionId).pipe(ut(t=>(console.error("[SectionContent] Error loading lessons:",t),Q([]))))}).pipe(ne(this.destroy$)).subscribe({next:({section:t,lessons:e})=>{this.section=t,this.lessons=e.sort((i,o)=>i.order-o.order),this.isLoading=!1,this.currentUserId&&this.loadLessonsProgress()},error:t=>{console.error("[SectionContent] Error loading content:",t),this.error="Failed to load section content",this.isLoading=!1}}))}loadLessonsProgress(){!this.courseId||!this.currentUserId||this.progressService.getAllLessonsProgress(this.currentUserId,this.courseId).pipe(ne(this.destroy$)).subscribe({next:t=>{this.lessonsProgress.clear(),t.forEach(e=>this.lessonsProgress.set(e.lessonId,e))},error:t=>{console.error("[SectionContent] Error loading progress:",t)}})}getLessonProgress(t){return this.lessonsProgress.get(t)}isLessonCompleted(t){return this.getLessonProgress(t)?.status==="completed"}getLessonStatusClass(t){let e=this.getLessonProgress(t);return e?e.status==="completed"?"completed":e.status==="inProgress"?"in-progress":"not-started":"not-started"}getWatchPercentage(t){return this.getLessonProgress(t)?.watchPercentage||0}hasVideo(t){return!!t.video&&!!t.video.videoId}hasPdf(t){return!!t.pdf&&!!t.pdf.url}getLessonTypeIcon(t){return this.hasVideo(t)&&this.hasPdf(t)?"fas fa-play-circle":this.hasVideo(t)?"fas fa-video":this.hasPdf(t)?"fas fa-file-pdf":"fas fa-book"}formatDuration(t){if(!t)return"";let e=Math.floor(t/3600),i=Math.floor(t%3600/60);return e>0?`${e}h ${i}m`:`${i}m`}openPdf(t){t&&window.open(t,"_blank","noopener,noreferrer")}openVideoModal(t){if(!t.video||!t.video.videoId||!t.video.libraryId)return;this.currentVideoLesson=t,this.currentUserId&&this.courseId&&this.progressService.initializeLessonProgress(this.currentUserId,this.courseId,t.sectionId,t.id,t.quizId).pipe(ne(this.destroy$)).subscribe({next:r=>{this.lessonsProgress.set(t.id,r)}});let i=this.getLessonProgress(t.id)?.lastWatchedSecond||0,o=this.getBunnyEmbedUrl(t.video.libraryId,t.video.videoId,i);this.videoEmbedUrl=this.sanitizer.bypassSecurityTrustResourceUrl(o),this.showVideoModal=!0,document.body.classList.add("modal-open"),document.body.style.overflow="hidden",document.body.style.paddingRight="0px",setTimeout(()=>this.initializePlayerJs(),500)}initializePlayerJs(){if(!this.playerJsLoaded||typeof playerjs>"u"){console.warn("[SectionContent] Player.js not loaded yet, retrying..."),setTimeout(()=>this.initializePlayerJs(),500);return}let t=document.querySelector(".video-modal iframe");if(!t){console.warn("[SectionContent] Video iframe not found");return}try{this.player=new playerjs.Player(t),this.player.on("ready",()=>{console.log("[SectionContent] Player ready"),this.player.getDuration(e=>{this.videoDuration=e}),this.player.on("timeupdate",e=>{this.onVideoTimeUpdate(e.seconds,e.duration)}),this.player.on("ended",()=>{this.onVideoEnded()}),this.player.on("pause",()=>{this.currentVideoTime>0&&this.videoDuration>0&&this.saveVideoProgress(this.currentVideoTime,this.videoDuration)})})}catch(e){console.error("[SectionContent] Error initializing Player.js:",e)}}closeVideoModal(){this.currentVideoTime>0&&this.videoDuration>0&&this.saveVideoProgress(this.currentVideoTime,this.videoDuration),this.cleanupPlayer(),this.showVideoModal=!1,setTimeout(()=>{this.showVideoModal||(this.currentVideoLesson=null,this.videoEmbedUrl=null,this.currentVideoTime=0,this.videoDuration=0,this.lastProgressUpdate=0)},300),document.body.classList.remove("modal-open"),document.body.style.overflow="",document.body.style.paddingRight="",this.loadLessonsProgress()}cleanupPlayer(){if(this.player){try{this.player.off("timeupdate"),this.player.off("ended"),this.player.off("pause"),this.player.off("ready")}catch{}this.player=null}}getBunnyEmbedUrl(t,e,i=0){let o=`https://iframe.mediadelivery.net/embed/${t}/${e}?autoplay=true&loop=false&muted=false&preload=true&responsive=true`;return i>0&&(o+=`&t=${i}`),o}onVideoTimeUpdate(t,e){if(t===void 0||e===void 0)return;this.currentVideoTime=t,this.videoDuration=e;let i=Date.now();i-this.lastProgressUpdate<this.PROGRESS_UPDATE_INTERVAL||(this.lastProgressUpdate=i,this.saveVideoProgress(t,e))}onVideoEnded(){console.log("[SectionContent] Video ended"),this.videoDuration>0&&this.saveVideoProgress(this.videoDuration,this.videoDuration),this.checkAndCompleteLesson()}saveVideoProgress(t,e){!this.currentUserId||!this.courseId||!this.currentVideoLesson||(console.log(`[SectionContent] Saving progress: ${Math.floor(t)}/${Math.floor(e)}s`),this.progressService.updateVideoProgress(this.currentUserId,this.courseId,this.currentVideoLesson.id,{currentSecond:Math.floor(t),totalDuration:Math.floor(e),isPlaying:!0}).pipe(ne(this.destroy$)).subscribe({next:i=>{this.lessonsProgress.set(this.currentVideoLesson.id,i),console.log(`[SectionContent] Progress saved: ${i.watchPercentage}%`),i.videoCompleted&&(console.log("[SectionContent] Video completed (90%+ watched)!"),this.checkAndCompleteLesson())},error:i=>{console.error("[SectionContent] Error updating video progress:",i)}}))}checkAndCompleteLesson(){if(!this.currentUserId||!this.courseId||!this.currentVideoLesson)return;let t=this.currentVideoLesson,e=this.lessonsProgress.get(t.id);if(!e?.videoCompleted){console.log("[SectionContent] Video not completed yet");return}if(t.quizId&&!e.quizPassed){console.log("[SectionContent] Quiz required - cannot complete lesson yet");return}if(e.status==="completed"){console.log("[SectionContent] Lesson already completed");return}console.log("[SectionContent] Marking lesson as completed..."),this.progressService.markLessonCompleted(this.currentUserId,this.courseId,t.id,t).pipe(ne(this.destroy$)).subscribe({next:i=>{i.success&&i.progress?(this.lessonsProgress.set(t.id,i.progress),console.log("[SectionContent] Lesson completed successfully!")):console.log("[SectionContent] Could not complete lesson:",i.message)},error:i=>{console.error("[SectionContent] Error completing lesson:",i)}})}hasQuiz(t){return!!t.quizId}isQuizPassed(t){return this.getLessonProgress(t)?.quizPassed||!1}openQuizModal(t){t.quizId&&(this.currentQuizLesson=t,this.showQuizModal=!0,document.body.classList.add("modal-open"),document.body.style.overflow="hidden")}closeQuizModal(){this.showQuizModal=!1,setTimeout(()=>{this.showQuizModal||(this.currentQuizLesson=null)},300),document.body.classList.remove("modal-open"),document.body.style.overflow=""}onQuizPassed(){this.loadLessonsProgress(),setTimeout(()=>{this.closeQuizModal()},2e3)}onQuizFailed(){this.loadLessonsProgress()}isVideoCompleted(t){return this.getLessonProgress(t)?.videoCompleted||!1}canTakeQuiz(t){return t.quizId?this.hasVideo(t)?this.isVideoCompleted(t.id):!0:!1}static \u0275fac=function(e){return new(e||n)(A(ji),A(Id),A(Dt),A(qu))};static \u0275cmp=ce({type:n,selectors:[["app-section-content"]],inputs:{sectionId:"sectionId",courseId:"courseId"},features:[_n],decls:7,vars:3,consts:[[1,"section-content"],[1,"no-data"],[1,"loading-state"],[1,"error-state"],[1,"fas","fa-info-circle"],[1,"spinner"],[1,"fas","fa-exclamation-triangle"],[1,"btn-retry",3,"click"],[1,"fas","fa-redo"],[1,"section-header"],[1,"empty-lessons"],[1,"lessons-list"],[1,"section-title-wrapper"],[1,"section-title"],[1,"fas","fa-folder-open"],[1,"lessons-count"],[1,"fas","fa-book-open"],[1,"lesson-card",3,"class"],[1,"lesson-card"],[1,"lesson-header"],[1,"lesson-number"],[1,"fas","fa-check-circle","text-success"],[1,"lesson-info"],[1,"lesson-title"],[1,"lesson-meta"],[1,"lesson-duration"],[1,"lesson-type"],[1,"lesson-quiz-badge",3,"passed"],[1,"lesson-progress-indicator"],[1,"lesson-content"],[1,"lesson-actions"],[1,"btn-action","btn-video"],[1,"btn-action","btn-pdf"],[1,"btn-action","btn-quiz",3,"disabled","passed"],[1,"fas","fa-clock"],[1,"lesson-quiz-badge"],[1,"fas","fa-question-circle"],[1,"progress-circle"],[1,"btn-action","btn-video",3,"click"],[1,"fas","fa-play-circle"],[1,"btn-action","btn-pdf",3,"click"],[1,"fas","fa-file-pdf"],[1,"btn-action","btn-quiz",3,"click","disabled"],["tabindex","-1","role","dialog","aria-labelledby","videoModalLabel","aria-hidden","true",1,"modal","fade","video-modal"],[1,"modal-dialog","modal-xl","modal-dialog-centered"],[1,"modal-content"],[1,"video-wrapper"],["type","button",1,"btn-close-video",3,"click"],[1,"fas","fa-times"],["frameborder","0","allow","accelerometer; gyroscope; autoplay; encrypted-media; picture-in-picture","allowfullscreen","","loading","lazy",3,"src","title"],[1,"modal-backdrop","fade","show"],["tabindex","-1","role","dialog",1,"modal","fade","quiz-modal","show"],[1,"modal-dialog","modal-lg","modal-dialog-centered","modal-dialog-scrollable"],[3,"quizPassed","quizFailed","close","quizId","lessonId","courseId","sectionId","organizationId"]],template:function(e,i){e&1&&(d(0,"div",0),T(1,rte,5,3,"div",1)(2,ste,5,3,"div",2)(3,ate,11,7,"div",3)(4,Tte,3,2),T(5,kte,9,10),T(6,Ate,5,7),p()),e&2&&(l(),D(!i.sectionId||!i.courseId?1:i.isLoading?2:i.error?3:4),l(4),D(i.currentVideoLesson&&i.videoEmbedUrl?5:-1),l(),D(i.showQuizModal&&i.currentQuizLesson&&i.currentQuizLesson.quizId&&i.currentUserId&&i.courseId?6:-1))},dependencies:[pe,fe,nC,_e],styles:['.section-content[_ngcontent-%COMP%]{width:100%;animation:_ngcontent-%COMP%_fadeIn .4s ease-out}.section-content[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]{margin-bottom:2rem;padding-bottom:1.5rem;border-bottom:2px solid rgba(201,162,77,.1);position:relative}.section-content[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:-2px;left:0;width:100px;height:2px;background:linear-gradient(90deg,#C9A24D,transparent)}.section-content[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   .section-title-wrapper[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;flex-wrap:wrap;gap:1rem}.section-content[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   .section-title-wrapper[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{margin:0;color:#1e293b;font-size:1.75rem;font-weight:800;display:flex;align-items:center;gap:.75rem;letter-spacing:-.5px}.section-content[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   .section-title-wrapper[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#c9a24d;font-size:1.4rem;opacity:.9}.section-content[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   .section-title-wrapper[_ngcontent-%COMP%]   .lessons-count[_ngcontent-%COMP%]{background:linear-gradient(135deg,#c9a24d1f,#c9a24d0f);color:#c9a24d;padding:.6rem 1.25rem;border-radius:30px;font-size:.875rem;font-weight:700;border:1px solid rgba(201,162,77,.15);box-shadow:0 2px 8px #c9a24d1a}.section-content[_ngcontent-%COMP%]   .loading-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;min-height:400px;text-align:center}.section-content[_ngcontent-%COMP%]   .loading-state[_ngcontent-%COMP%]   .spinner[_ngcontent-%COMP%]{width:60px;height:60px;border:4px solid rgba(201,162,77,.1);border-top-color:#c9a24d;border-radius:50%;animation:_ngcontent-%COMP%_spin .8s linear infinite;margin-bottom:1.5rem}@keyframes _ngcontent-%COMP%_spin{to{transform:rotate(360deg)}}.section-content[_ngcontent-%COMP%]   .loading-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#64748b;font-size:1.1rem;margin:0;font-weight:500}.section-content[_ngcontent-%COMP%]   .error-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;min-height:400px;text-align:center;padding:2rem}.section-content[_ngcontent-%COMP%]   .error-state[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:4rem;color:#ef4444;margin-bottom:1.25rem}.section-content[_ngcontent-%COMP%]   .error-state[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#1e293b;font-size:1.5rem;font-weight:700;margin:0 0 1rem}.section-content[_ngcontent-%COMP%]   .error-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#64748b;margin:0 0 1.5rem;font-size:1rem}.section-content[_ngcontent-%COMP%]   .error-state[_ngcontent-%COMP%]   .btn-retry[_ngcontent-%COMP%]{background:linear-gradient(135deg,#c9a24d,#ae8835);color:#fff;border:none;padding:.875rem 2rem;border-radius:12px;font-size:1rem;font-weight:600;cursor:pointer;transition:all .25s ease;display:flex;align-items:center;gap:.5rem;box-shadow:0 6px 20px #c9a24d4d}.section-content[_ngcontent-%COMP%]   .error-state[_ngcontent-%COMP%]   .btn-retry[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 8px 25px #c9a24d66}.section-content[_ngcontent-%COMP%]   .error-state[_ngcontent-%COMP%]   .btn-retry[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1rem;color:#fff;margin:0}.section-content[_ngcontent-%COMP%]   .no-data[_ngcontent-%COMP%], .section-content[_ngcontent-%COMP%]   .empty-lessons[_ngcontent-%COMP%]{text-align:center;padding:4rem 2rem;color:#64748b}.section-content[_ngcontent-%COMP%]   .no-data[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], .section-content[_ngcontent-%COMP%]   .empty-lessons[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:5rem;margin-bottom:1.5rem;color:#c9a24d26;display:block}.section-content[_ngcontent-%COMP%]   .no-data[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .section-content[_ngcontent-%COMP%]   .empty-lessons[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#1e293b;font-size:1.5rem;font-weight:700;margin:0 0 .75rem}.section-content[_ngcontent-%COMP%]   .no-data[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .section-content[_ngcontent-%COMP%]   .empty-lessons[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.05rem;color:#64748b;max-width:350px;margin:0 auto;line-height:1.6}.section-content[_ngcontent-%COMP%]   .lessons-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}.section-content[_ngcontent-%COMP%]   .lesson-card[_ngcontent-%COMP%]{background:#fff;border:1px solid #e2e8f0;border-radius:16px;padding:1.5rem;transition:all .35s cubic-bezier(.4,0,.2,1);box-shadow:0 2px 8px #00000008;position:relative;overflow:hidden}.section-content[_ngcontent-%COMP%]   .lesson-card[_ngcontent-%COMP%]:before{content:"";position:absolute;left:0;top:0;bottom:0;width:4px;background:#e2e8f0;transition:all .3s ease}.section-content[_ngcontent-%COMP%]   .lesson-card[_ngcontent-%COMP%]:hover{transform:translateY(-4px);box-shadow:0 12px 30px #00000014;border-color:#c9a24d33}.section-content[_ngcontent-%COMP%]   .lesson-card[_ngcontent-%COMP%]:hover:before{background:#c9a24d}.section-content[_ngcontent-%COMP%]   .lesson-card[_ngcontent-%COMP%]:hover   .lesson-number[_ngcontent-%COMP%]{background:#c9a24d;color:#fff;transform:scale(1.05)}.section-content[_ngcontent-%COMP%]   .lesson-card.completed[_ngcontent-%COMP%]{background:linear-gradient(135deg,#16a34a08,#16a34a03);border-color:#16a34a33}.section-content[_ngcontent-%COMP%]   .lesson-card.completed[_ngcontent-%COMP%]:before{background:#16a34a}.section-content[_ngcontent-%COMP%]   .lesson-card.completed[_ngcontent-%COMP%]   .lesson-number[_ngcontent-%COMP%]{background:#16a34a;color:#fff}.section-content[_ngcontent-%COMP%]   .lesson-card.in-progress[_ngcontent-%COMP%]{background:linear-gradient(135deg,#c9a24d08,#c9a24d03);border-color:#c9a24d33}.section-content[_ngcontent-%COMP%]   .lesson-card.in-progress[_ngcontent-%COMP%]:before{background:#c9a24d}.section-content[_ngcontent-%COMP%]   .lesson-card[_ngcontent-%COMP%]   .lesson-header[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:1.25rem}.section-content[_ngcontent-%COMP%]   .lesson-card[_ngcontent-%COMP%]   .lesson-header[_ngcontent-%COMP%]   .lesson-number[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;min-width:48px;height:48px;background:linear-gradient(135deg,#c9a24d1a,#c9a24d0d);color:#c9a24d;border-radius:14px;font-weight:800;font-size:1.1rem;flex-shrink:0;transition:all .3s ease}.section-content[_ngcontent-%COMP%]   .lesson-card[_ngcontent-%COMP%]   .lesson-header[_ngcontent-%COMP%]   .lesson-number[_ngcontent-%COMP%]   .fa-check-circle[_ngcontent-%COMP%]{font-size:1.4rem}.section-content[_ngcontent-%COMP%]   .lesson-card[_ngcontent-%COMP%]   .lesson-header[_ngcontent-%COMP%]   .lesson-info[_ngcontent-%COMP%]{flex:1;min-width:0}.section-content[_ngcontent-%COMP%]   .lesson-card[_ngcontent-%COMP%]   .lesson-header[_ngcontent-%COMP%]   .lesson-info[_ngcontent-%COMP%]   .lesson-title[_ngcontent-%COMP%]{margin:0 0 .5rem;font-size:1.15rem;font-weight:700;color:#1e293b;line-height:1.4}.section-content[_ngcontent-%COMP%]   .lesson-card[_ngcontent-%COMP%]   .lesson-header[_ngcontent-%COMP%]   .lesson-info[_ngcontent-%COMP%]   .lesson-meta[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:.75rem;align-items:center}.section-content[_ngcontent-%COMP%]   .lesson-card[_ngcontent-%COMP%]   .lesson-header[_ngcontent-%COMP%]   .lesson-info[_ngcontent-%COMP%]   .lesson-meta[_ngcontent-%COMP%]   .lesson-duration[_ngcontent-%COMP%], .section-content[_ngcontent-%COMP%]   .lesson-card[_ngcontent-%COMP%]   .lesson-header[_ngcontent-%COMP%]   .lesson-info[_ngcontent-%COMP%]   .lesson-meta[_ngcontent-%COMP%]   .lesson-type[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.4rem;font-size:.85rem;color:#64748b;font-weight:500}.section-content[_ngcontent-%COMP%]   .lesson-card[_ngcontent-%COMP%]   .lesson-header[_ngcontent-%COMP%]   .lesson-info[_ngcontent-%COMP%]   .lesson-meta[_ngcontent-%COMP%]   .lesson-duration[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], .section-content[_ngcontent-%COMP%]   .lesson-card[_ngcontent-%COMP%]   .lesson-header[_ngcontent-%COMP%]   .lesson-info[_ngcontent-%COMP%]   .lesson-meta[_ngcontent-%COMP%]   .lesson-type[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#c9a24d;font-size:.8rem}.section-content[_ngcontent-%COMP%]   .lesson-card[_ngcontent-%COMP%]   .lesson-header[_ngcontent-%COMP%]   .lesson-info[_ngcontent-%COMP%]   .lesson-meta[_ngcontent-%COMP%]   .lesson-quiz-badge[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.4rem;font-size:.8rem;font-weight:600;padding:.35rem .75rem;border-radius:20px;background:#8b5cf61a;color:#8b5cf6;border:1px solid rgba(139,92,246,.2)}.section-content[_ngcontent-%COMP%]   .lesson-card[_ngcontent-%COMP%]   .lesson-header[_ngcontent-%COMP%]   .lesson-info[_ngcontent-%COMP%]   .lesson-meta[_ngcontent-%COMP%]   .lesson-quiz-badge[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.75rem}.section-content[_ngcontent-%COMP%]   .lesson-card[_ngcontent-%COMP%]   .lesson-header[_ngcontent-%COMP%]   .lesson-info[_ngcontent-%COMP%]   .lesson-meta[_ngcontent-%COMP%]   .lesson-quiz-badge.passed[_ngcontent-%COMP%]{background:#16a34a1a;color:#16a34a;border-color:#16a34a33}.section-content[_ngcontent-%COMP%]   .lesson-card[_ngcontent-%COMP%]   .lesson-header[_ngcontent-%COMP%]   .lesson-progress-indicator[_ngcontent-%COMP%]{flex-shrink:0}.section-content[_ngcontent-%COMP%]   .lesson-card[_ngcontent-%COMP%]   .lesson-header[_ngcontent-%COMP%]   .lesson-progress-indicator[_ngcontent-%COMP%]   .progress-circle[_ngcontent-%COMP%]{width:52px;height:52px;border-radius:50%;background:conic-gradient(#c9a24d calc(var(--progress, 0) * 1%),#e2e8f0 0);display:flex;align-items:center;justify-content:center;position:relative}.section-content[_ngcontent-%COMP%]   .lesson-card[_ngcontent-%COMP%]   .lesson-header[_ngcontent-%COMP%]   .lesson-progress-indicator[_ngcontent-%COMP%]   .progress-circle[_ngcontent-%COMP%]:before{content:"";position:absolute;width:42px;height:42px;background:#fff;border-radius:50%}.section-content[_ngcontent-%COMP%]   .lesson-card[_ngcontent-%COMP%]   .lesson-header[_ngcontent-%COMP%]   .lesson-progress-indicator[_ngcontent-%COMP%]   .progress-circle[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{position:relative;z-index:1;font-size:.7rem;font-weight:700;color:#c9a24d}.section-content[_ngcontent-%COMP%]   .lesson-card[_ngcontent-%COMP%]   .lesson-content[_ngcontent-%COMP%]{margin-top:1.25rem;padding-top:1.25rem;border-top:1px dashed #e2e8f0}.section-content[_ngcontent-%COMP%]   .lesson-card[_ngcontent-%COMP%]   .lesson-actions[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:.75rem}.section-content[_ngcontent-%COMP%]   .lesson-card[_ngcontent-%COMP%]   .lesson-actions[_ngcontent-%COMP%]   .btn-action[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:.5rem;padding:.75rem 1.5rem;border-radius:12px;font-size:.9rem;font-weight:600;border:none;cursor:pointer;transition:all .25s ease;flex:1;min-width:140px}.section-content[_ngcontent-%COMP%]   .lesson-card[_ngcontent-%COMP%]   .lesson-actions[_ngcontent-%COMP%]   .btn-action[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1rem}.section-content[_ngcontent-%COMP%]   .lesson-card[_ngcontent-%COMP%]   .lesson-actions[_ngcontent-%COMP%]   .btn-action[_ngcontent-%COMP%]:disabled, .section-content[_ngcontent-%COMP%]   .lesson-card[_ngcontent-%COMP%]   .lesson-actions[_ngcontent-%COMP%]   .btn-action.disabled[_ngcontent-%COMP%]{opacity:.5;cursor:not-allowed;transform:none!important;box-shadow:none!important}.section-content[_ngcontent-%COMP%]   .lesson-card[_ngcontent-%COMP%]   .lesson-actions[_ngcontent-%COMP%]   .btn-video[_ngcontent-%COMP%]{background:linear-gradient(135deg,#c9a24d,#ae8835);color:#fff;box-shadow:0 4px 15px #c9a24d4d}.section-content[_ngcontent-%COMP%]   .lesson-card[_ngcontent-%COMP%]   .lesson-actions[_ngcontent-%COMP%]   .btn-video[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 6px 20px #c9a24d66}.section-content[_ngcontent-%COMP%]   .lesson-card[_ngcontent-%COMP%]   .lesson-actions[_ngcontent-%COMP%]   .btn-pdf[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ef4444,#eb1515);color:#fff;box-shadow:0 4px 15px #ef444440}.section-content[_ngcontent-%COMP%]   .lesson-card[_ngcontent-%COMP%]   .lesson-actions[_ngcontent-%COMP%]   .btn-pdf[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 6px 20px #ef444459}.section-content[_ngcontent-%COMP%]   .lesson-card[_ngcontent-%COMP%]   .lesson-actions[_ngcontent-%COMP%]   .btn-quiz[_ngcontent-%COMP%]{background:linear-gradient(135deg,#8b5cf6,#692cf3);color:#fff;box-shadow:0 4px 15px #8b5cf640}.section-content[_ngcontent-%COMP%]   .lesson-card[_ngcontent-%COMP%]   .lesson-actions[_ngcontent-%COMP%]   .btn-quiz[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 6px 20px #8b5cf659}.section-content[_ngcontent-%COMP%]   .lesson-card[_ngcontent-%COMP%]   .lesson-actions[_ngcontent-%COMP%]   .btn-quiz.passed[_ngcontent-%COMP%]{background:linear-gradient(135deg,#16a34a,#107636);box-shadow:0 4px 15px #16a34a40}.section-content[_ngcontent-%COMP%]   .lesson-card[_ngcontent-%COMP%]   .lesson-actions[_ngcontent-%COMP%]   .btn-quiz.passed[_ngcontent-%COMP%]:hover:not(:disabled){box-shadow:0 6px 20px #16a34a59}.section-content[_ngcontent-%COMP%]   .video-modal[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;z-index:10000;overflow-y:auto;display:flex;align-items:center;justify-content:center;padding:1.5rem;animation:_ngcontent-%COMP%_modalFadeIn .3s ease}.section-content[_ngcontent-%COMP%]   .video-modal.show[_ngcontent-%COMP%]{display:flex!important}.section-content[_ngcontent-%COMP%]   .video-modal[_ngcontent-%COMP%]   .modal-dialog[_ngcontent-%COMP%]{position:relative;margin:0 auto;max-width:95vw;z-index:10001;width:100%;animation:_ngcontent-%COMP%_modalSlideUp .35s ease}@media (min-width: 1200px){.section-content[_ngcontent-%COMP%]   .video-modal[_ngcontent-%COMP%]   .modal-dialog[_ngcontent-%COMP%]{max-width:1140px}}.section-content[_ngcontent-%COMP%]   .video-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{border:none;border-radius:20px;overflow:hidden;background:#000;box-shadow:0 30px 80px #00000080;padding:0}.section-content[_ngcontent-%COMP%]   .video-modal[_ngcontent-%COMP%]   .video-wrapper[_ngcontent-%COMP%]{position:relative;padding-bottom:56.25%;height:0;overflow:hidden}.section-content[_ngcontent-%COMP%]   .video-modal[_ngcontent-%COMP%]   .video-wrapper[_ngcontent-%COMP%]   iframe[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;border:none}.section-content[_ngcontent-%COMP%]   .video-modal[_ngcontent-%COMP%]   .video-wrapper[_ngcontent-%COMP%]   .btn-close-video[_ngcontent-%COMP%]{position:absolute;top:16px;right:16px;z-index:10;width:48px;height:48px;background:#000000b3;border:2px solid rgba(255,255,255,.3);border-radius:50%;color:#fff;font-size:1.25rem;cursor:pointer;transition:all .25s ease;display:flex;align-items:center;justify-content:center;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}.section-content[_ngcontent-%COMP%]   .video-modal[_ngcontent-%COMP%]   .video-wrapper[_ngcontent-%COMP%]   .btn-close-video[_ngcontent-%COMP%]:hover{background:#fff3;border-color:#ffffff80;transform:rotate(90deg) scale(1.1)}.section-content[_ngcontent-%COMP%]   .video-modal[_ngcontent-%COMP%] + .modal-backdrop[_ngcontent-%COMP%]{background:linear-gradient(135deg,#000000d9,#000000f2);-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);position:fixed;top:0;left:0;width:100%;height:100%;z-index:9999}.section-content[_ngcontent-%COMP%]   .quiz-modal[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;z-index:10000;overflow-y:auto;display:flex;align-items:center;justify-content:center;padding:1.25rem;animation:_ngcontent-%COMP%_modalFadeIn .3s ease}.section-content[_ngcontent-%COMP%]   .quiz-modal.show[_ngcontent-%COMP%]{display:flex!important}.section-content[_ngcontent-%COMP%]   .quiz-modal[_ngcontent-%COMP%]   .modal-dialog[_ngcontent-%COMP%]{position:relative;margin:0 auto;max-width:700px;width:100%;z-index:10001;animation:_ngcontent-%COMP%_modalSlideUp .35s ease}.section-content[_ngcontent-%COMP%]   .quiz-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{border:none;border-radius:24px;overflow:hidden;max-height:90vh;box-shadow:0 30px 80px #00000040;background:#fff}.section-content[_ngcontent-%COMP%]   .quiz-modal[_ngcontent-%COMP%] + .modal-backdrop[_ngcontent-%COMP%]{background:linear-gradient(135deg,#000000b3,#000000d9);-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);position:fixed;top:0;left:0;width:100%;height:100%;z-index:9999}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(15px)}to{opacity:1;transform:translateY(0)}}@keyframes _ngcontent-%COMP%_modalFadeIn{0%{opacity:0}to{opacity:1}}@keyframes _ngcontent-%COMP%_modalSlideUp{0%{opacity:0;transform:translateY(40px) scale(.95)}to{opacity:1;transform:translateY(0) scale(1)}}@media (max-width: 768px){.section-content[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]{margin-bottom:1.5rem;padding-bottom:1.25rem}.section-content[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   .section-title-wrapper[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{font-size:1.4rem}.section-content[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   .section-title-wrapper[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.2rem}.section-content[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   .section-title-wrapper[_ngcontent-%COMP%]   .lessons-count[_ngcontent-%COMP%]{font-size:.8rem;padding:.5rem 1rem}.section-content[_ngcontent-%COMP%]   .lesson-card[_ngcontent-%COMP%]{padding:1.25rem;border-radius:14px}.section-content[_ngcontent-%COMP%]   .lesson-card[_ngcontent-%COMP%]   .lesson-header[_ngcontent-%COMP%]{gap:1rem;flex-wrap:wrap}.section-content[_ngcontent-%COMP%]   .lesson-card[_ngcontent-%COMP%]   .lesson-header[_ngcontent-%COMP%]   .lesson-number[_ngcontent-%COMP%]{min-width:42px;height:42px;font-size:1rem;border-radius:12px}.section-content[_ngcontent-%COMP%]   .lesson-card[_ngcontent-%COMP%]   .lesson-header[_ngcontent-%COMP%]   .lesson-info[_ngcontent-%COMP%]   .lesson-title[_ngcontent-%COMP%]{font-size:1.05rem}.section-content[_ngcontent-%COMP%]   .lesson-card[_ngcontent-%COMP%]   .lesson-header[_ngcontent-%COMP%]   .lesson-info[_ngcontent-%COMP%]   .lesson-meta[_ngcontent-%COMP%]{gap:.5rem}.section-content[_ngcontent-%COMP%]   .lesson-card[_ngcontent-%COMP%]   .lesson-header[_ngcontent-%COMP%]   .lesson-info[_ngcontent-%COMP%]   .lesson-meta[_ngcontent-%COMP%]   .lesson-duration[_ngcontent-%COMP%], .section-content[_ngcontent-%COMP%]   .lesson-card[_ngcontent-%COMP%]   .lesson-header[_ngcontent-%COMP%]   .lesson-info[_ngcontent-%COMP%]   .lesson-meta[_ngcontent-%COMP%]   .lesson-type[_ngcontent-%COMP%]{font-size:.8rem}.section-content[_ngcontent-%COMP%]   .lesson-card[_ngcontent-%COMP%]   .lesson-header[_ngcontent-%COMP%]   .lesson-info[_ngcontent-%COMP%]   .lesson-meta[_ngcontent-%COMP%]   .lesson-quiz-badge[_ngcontent-%COMP%]{font-size:.75rem;padding:.3rem .6rem}.section-content[_ngcontent-%COMP%]   .lesson-card[_ngcontent-%COMP%]   .lesson-header[_ngcontent-%COMP%]   .lesson-progress-indicator[_ngcontent-%COMP%]   .progress-circle[_ngcontent-%COMP%]{width:44px;height:44px}.section-content[_ngcontent-%COMP%]   .lesson-card[_ngcontent-%COMP%]   .lesson-header[_ngcontent-%COMP%]   .lesson-progress-indicator[_ngcontent-%COMP%]   .progress-circle[_ngcontent-%COMP%]:before{width:36px;height:36px}.section-content[_ngcontent-%COMP%]   .lesson-card[_ngcontent-%COMP%]   .lesson-header[_ngcontent-%COMP%]   .lesson-progress-indicator[_ngcontent-%COMP%]   .progress-circle[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.65rem}.section-content[_ngcontent-%COMP%]   .lesson-card[_ngcontent-%COMP%]   .lesson-content[_ngcontent-%COMP%]{margin-top:1rem;padding-top:1rem}.section-content[_ngcontent-%COMP%]   .lesson-card[_ngcontent-%COMP%]   .lesson-actions[_ngcontent-%COMP%]{flex-direction:column}.section-content[_ngcontent-%COMP%]   .lesson-card[_ngcontent-%COMP%]   .lesson-actions[_ngcontent-%COMP%]   .btn-action[_ngcontent-%COMP%]{width:100%;min-width:auto;padding:.875rem 1.25rem}.section-content[_ngcontent-%COMP%]   .video-modal[_ngcontent-%COMP%]{padding:.75rem}.section-content[_ngcontent-%COMP%]   .video-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{border-radius:16px}.section-content[_ngcontent-%COMP%]   .video-modal[_ngcontent-%COMP%]   .video-wrapper[_ngcontent-%COMP%]   .btn-close-video[_ngcontent-%COMP%]{width:40px;height:40px;font-size:1.1rem;top:12px;right:12px}.section-content[_ngcontent-%COMP%]   .quiz-modal[_ngcontent-%COMP%]{padding:.75rem}.section-content[_ngcontent-%COMP%]   .quiz-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{border-radius:18px;max-height:95vh}}@media (max-width: 480px){.section-content[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   .section-title-wrapper[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:.75rem}.section-content[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   .section-title-wrapper[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{font-size:1.25rem}.section-content[_ngcontent-%COMP%]   .lesson-card[_ngcontent-%COMP%]{padding:1rem}.section-content[_ngcontent-%COMP%]   .lesson-card[_ngcontent-%COMP%]   .lesson-header[_ngcontent-%COMP%]   .lesson-number[_ngcontent-%COMP%]{min-width:38px;height:38px;font-size:.95rem}.section-content[_ngcontent-%COMP%]   .lesson-card[_ngcontent-%COMP%]   .lesson-header[_ngcontent-%COMP%]   .lesson-info[_ngcontent-%COMP%]   .lesson-title[_ngcontent-%COMP%]{font-size:1rem}.section-content[_ngcontent-%COMP%]   .loading-state[_ngcontent-%COMP%], .section-content[_ngcontent-%COMP%]   .error-state[_ngcontent-%COMP%], .section-content[_ngcontent-%COMP%]   .no-data[_ngcontent-%COMP%], .section-content[_ngcontent-%COMP%]   .empty-lessons[_ngcontent-%COMP%]{padding:3rem 1.5rem}.section-content[_ngcontent-%COMP%]   .loading-state[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], .section-content[_ngcontent-%COMP%]   .error-state[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], .section-content[_ngcontent-%COMP%]   .no-data[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], .section-content[_ngcontent-%COMP%]   .empty-lessons[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:3.5rem}.section-content[_ngcontent-%COMP%]   .loading-state[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .section-content[_ngcontent-%COMP%]   .error-state[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .section-content[_ngcontent-%COMP%]   .no-data[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .section-content[_ngcontent-%COMP%]   .empty-lessons[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.25rem}.section-content[_ngcontent-%COMP%]   .loading-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .section-content[_ngcontent-%COMP%]   .error-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .section-content[_ngcontent-%COMP%]   .no-data[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .section-content[_ngcontent-%COMP%]   .empty-lessons[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.95rem}}']})};var Rte=(n,t)=>t.id;function Nte(n,t){n&1&&(d(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"span",5),f(5),h(6,"translate"),p()(),d(7,"p",6),f(8),h(9,"translate"),p()()()()),n&2&&(l(5),O(m(6,2,"courses.loading")),l(3),O(m(9,4,"courses.loadingCourse")))}function Lte(n,t){n&1&&(d(0,"div",26),b(1,"i",32),d(2,"p"),f(3),h(4,"translate"),p()()),n&2&&(l(3),O(m(4,1,"courses.noSections")))}function Fte(n,t){if(n&1){let e=J();d(0,"li",33)(1,"button",34),R("click",function(){let o=$(e).$implicit,r=x(4);return q(r.navigateToSection(o.id))}),d(2,"span",35),f(3),p(),d(4,"span",36),f(5),p(),b(6,"i",37),p()()}if(n&2){let e=t.$implicit,i=x(4);l(),V("active",i.selectedSectionId===e.id),pt("aria-label",e.title),l(2),O(e.order),l(2),O(e.title)}}function zte(n,t){if(n&1&&(d(0,"ul",27),Be(1,Fte,7,5,"li",33,Rte),p()),n&2){let e=x(3);l(),je(e.sections)}}function Bte(n,t){if(n&1&&b(0,"app-section-content",30),n&2){let e=x(3);E("sectionId",e.selectedSectionId)("courseId",e.course.id)}}function jte(n,t){n&1&&(d(0,"div",31),b(1,"i",38),d(2,"h4"),f(3),h(4,"translate"),p(),d(5,"p"),f(6),h(7,"translate"),p()()),n&2&&(l(3),O(m(4,2,"courses.selectSection")),l(3),O(m(7,4,"courses.selectSectionDescription")))}function Vte(n,t){if(n&1&&(d(0,"div",7)(1,"div",9)(2,"div",10)(3,"div",11)(4,"div",12)(5,"div",13)(6,"div",14),b(7,"img",15),p(),d(8,"div",16)(9,"div",17)(10,"h1",18),f(11),p(),d(12,"p",19),f(13),p()()()()()(),d(14,"div",20)(15,"aside",21)(16,"div",22)(17,"h3",23),b(18,"i",24),f(19),h(20,"translate"),p()(),d(21,"nav",25),T(22,Lte,5,3,"div",26)(23,zte,3,0,"ul",27),p()()(),d(24,"div",28)(25,"div",29),T(26,Bte,1,2,"app-section-content",30)(27,jte,8,6,"div",31),p()()()()()),n&2){let e=x(2);l(7),E("src",e.course.thumbnail,Je)("alt",e.course.title),l(4),O(e.course.title),l(2),O(e.course.description),l(6),M(" ",m(20,7,"courses.sections")," "),l(3),D(e.sections.length===0?22:23),l(4),D(e.selectedSectionId&&e.course?26:27)}}function Ute(n,t){if(n&1&&(b(0,"img",51),d(1,"div",52),b(2,"i",53),p()),n&2){let e=x(3);E("src",e.course.thumbnail,Je)("alt",e.course.title)}}function $te(n,t){if(n&1){let e=J();d(0,"button",54),R("click",function(){$(e);let o=x(3);return q(o.goToSubscriptions())}),b(1,"i",55),d(2,"span"),f(3),h(4,"translate"),p()(),d(5,"div",56),b(6,"i",57),d(7,"span"),f(8),h(9,"translate"),p()()}n&2&&(l(3),O(m(4,2,"courses.subscribeToAccess")),l(5),O(m(9,4,"courses.subscriptionRequired")))}function qte(n,t){if(n&1&&(d(0,"div",50)(1,"h5",58),f(2),h(3,"translate"),p(),d(4,"div",59),b(5,"iframe",60),p()()),n&2){let e=x(3);l(2),O(m(3,2,"courses.introVideo")),l(3),E("src",e.introVideoUrl,hl)}}function Hte(n,t){if(n&1&&(d(0,"div",8)(1,"div",39)(2,"div",2)(3,"div",40)(4,"div",41)(5,"div",42),T(6,Ute,3,2),p(),d(7,"div",43),T(8,$te,10,6),p()(),d(9,"div",44)(10,"div",17)(11,"h1",18),f(12),p(),d(13,"p",19),f(14),p(),d(15,"div",45)(16,"span",46),b(17,"i",47),f(18),h(19,"translate"),p(),d(20,"span",46),b(21,"i",48),f(22),h(23,"translate"),p(),d(24,"span",46),b(25,"i",49),f(26),h(27,"translate"),p()(),T(28,qte,6,4,"div",50),p()()()()()()),n&2){let e=x(2);l(6),D(e.course.thumbnail?6:-1),l(2),D(e.hasActiveSubscription?-1:8),l(4),O(e.course.title),l(2),O(e.course.description),l(4),M(" ",m(19,17,"courses.categories."+e.course.category)," "),l(4),tt(" ",e.course.duration," ",m(23,19,"courses.hours")," "),l(2),V("free",e.course.Privacy==="free")("premium",e.course.Privacy==="premium"),l(),V("fa-unlock",e.course.Privacy==="free")("fa-lock",e.course.Privacy==="premium"),l(),M(" ",m(27,21,e.course.Privacy==="free"?"courses.privacy.free":"courses.privacy.premium")," "),l(2),D(e.course.introYouTubeVideo&&e.introVideoUrl?28:-1)}}function Wte(n,t){if(n&1&&T(0,Vte,28,9,"div",7)(1,Hte,29,23,"div",8),n&2){let e=x();D(e.hasActiveSubscription?0:1)}}var oC=class n{constructor(t,e,i,o,r,s,a){this.route=t;this.router=e;this.coursesService=i;this.lessonsService=o;this.platformSubscriptions=r;this.authService=s;this.sanitizer=a}course=null;sections=[];selectedSectionId=null;isLoading=!1;hasActiveSubscription=!1;currentUserId=null;introVideoUrl=null;lessonVideoUrls=new Map;destroy$=new me;ngOnInit(){this.authService.authState$().pipe(ne(this.destroy$)).subscribe(t=>{this.currentUserId=t?.uid||null}),this.route.params.pipe(ne(this.destroy$)).subscribe(t=>{let e=t.id;e&&this.loadCourse(e)})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}loadCourse(t){this.isLoading=!0,this.resetCourseData(),this.coursesService.getCourse(t).pipe(be(e=>this.validateAndPrepareCourse(e,t)),be(e=>this.loadCourseContent(e,t)),ne(this.destroy$)).subscribe({next:()=>{this.isLoading=!1},error:e=>{console.error("Error loading course:",e),this.isLoading=!1,this.showErrorAlert()}})}loadCourseSections(t){this.isLoading=!0,this.lessonsService.getSectionsByCourse(t).pipe(ne(this.destroy$)).subscribe({next:e=>{this.sections=e,console.log("sections",this.sections),this.isLoading=!1},error:e=>{console.error("Error loading sections",e),this.isLoading=!1}})}resetCourseData(){this.course=null,this.sections=[],this.introVideoUrl=null,this.lessonVideoUrls.clear(),this.hasActiveSubscription=!1}validateAndPrepareCourse(t,e){return t?t.published?(this.course=t,this.cacheIntroVideoUrl(t),this.checkSubscriptionStatus().pipe(H(i=>(this.hasActiveSubscription=i,{course:t,hasSubscription:i})))):(this.showCourseNotPublishedAlert(),this.router.navigate(["/courses"]),Q(null)):(this.router.navigate(["/courses"]),Q(null))}checkSubscriptionStatus(){return this.authService.authState$().pipe(Et(1),be(t=>{let e=t?.uid||null;return e?(this.currentUserId=e,this.platformSubscriptions.hasActiveSubscription(e).pipe(H(i=>(console.log(`[CourseComponent] Subscription status for user ${e}:`,i),i)),ut(i=>(console.error("[CourseComponent] Error checking subscription status:",i),Q(!1))))):(console.log("[CourseComponent] User not authenticated, subscription check skipped"),Q(!1))}))}cacheIntroVideoUrl(t){t.introYouTubeVideo?this.introVideoUrl=this.getYouTubeEmbedUrl(t.introYouTubeVideo):this.introVideoUrl=null}loadCourseContent(t,e){if(!t)return Q(null);let{course:i,hasSubscription:o}=t;return o?Rt({sections:this.lessonsService.getSectionsByCourse(e)}).pipe(H(({sections:r})=>(this.sections=r,this.loadCourseSections(e),i)),ut(r=>(console.error("Error loading course content:",r),Q(i)))):Q(i)}getYouTubeEmbedUrl(t){if(!t)return this.sanitizer.bypassSecurityTrustResourceUrl("");let e=null,i=t.trim(),o=i.match(/youtu\.be\/([a-zA-Z0-9_-]{11})/);if(o&&o[1]&&(e=o[1]),!e){let r=i.match(/youtube\.com\/watch\?v=([a-zA-Z0-9_-]{11})/);r&&r[1]&&(e=r[1])}if(!e){let r=i.match(/youtube\.com\/embed\/([a-zA-Z0-9_-]{11})/);r&&r[1]&&(e=r[1])}if(!e){let r=i.match(/youtube\.com\/v\/([a-zA-Z0-9_-]{11})/);r&&r[1]&&(e=r[1])}if(!e){let r=i.match(/youtube\.com\/shorts\/([a-zA-Z0-9_-]{11})/);r&&r[1]&&(e=r[1])}if(e){let r=`https://www.youtube.com/embed/${e}?rel=0&modestbranding=1&enablejsapi=1&origin=${encodeURIComponent(window.location.origin)}`;return this.sanitizer.bypassSecurityTrustResourceUrl(r)}return console.warn("Could not extract YouTube video ID from URL:",t),this.sanitizer.bypassSecurityTrustResourceUrl("")}getSanitizedVideoUrl(t){return t?this.sanitizer.bypassSecurityTrustResourceUrl(t):this.sanitizer.bypassSecurityTrustResourceUrl("")}getLessonVideoUrl(t){return this.lessonVideoUrls.get(t)||null}navigateToSection(t){this.course&&(this.selectedSectionId=t,console.log("[CourseComponent] Section selected:",{sectionId:this.selectedSectionId,courseId:this.course.id}))}goToSubscriptions(){this.currentUserId!==null?this.router.navigate(["/mySubscriptions"]):this.router.navigate(["/login"],{queryParams:{returnUrl:this.router.url}})}showCourseNotPublishedAlert(){Cx.default.fire({icon:"info",title:"courses.courseNotPublished",text:"courses.courseNotPublishedDescription",confirmButtonText:"courses.ok",confirmButtonColor:"#3B82F6"})}showErrorAlert(){Cx.default.fire({icon:"error",title:"courses.error",text:"courses.loadError",confirmButtonText:"courses.ok",confirmButtonColor:"#DC2626"})}static \u0275fac=function(e){return new(e||n)(A(tn),A(He),A(jr),A(ji),A(Br),A(Dt),A(qu))};static \u0275cmp=ce({type:n,selectors:[["app-course"]],decls:3,vars:2,consts:[[1,"course-page"],[1,"loading-state"],[1,"container"],[1,"text-center","py-5"],["role","status",1,"spinner-border","text-primary"],[1,"visually-hidden"],[1,"mt-3"],[1,"course-content-with-sidebar","pt-5"],[1,"course-content"],[1,"container-fluid"],[1,"row"],[1,"col-12","col-lg-12","col-xl-12"],[1,"course-header","text-center"],[1,"row","g-3"],[1,"col-12","col-lg-4","col-xl-4"],["draggable","false",1,"w-75","rounded-5","img-fluid",3,"src","alt"],[1,"col-12","col-lg-8","col-xl-8"],[1,"course-header-info"],[1,"course-title"],[1,"course-description"],[1,"col-12","col-lg-4","col-xl-4","sidebar-wrapper"],[1,"course-sidebar"],[1,"sidebar-header"],[1,"sidebar-title"],[1,"fas","fa-list"],[1,"sidebar-nav"],[1,"empty-sections"],[1,"sections-list"],[1,"col-12","col-lg-8","col-xl-8","main-content-wrapper"],[1,"main-content"],[3,"sectionId","courseId"],[1,"no-section-selected"],[1,"fas","fa-folder-open"],[1,"section-item"],[1,"section-link",3,"click"],[1,"section-order"],[1,"section-title"],[1,"fas","fa-chevron-right","section-arrow"],[1,"fas","fa-hand-pointer"],[1,"course-header"],[1,"row","align-items-center"],[1,"col-12","col-md-4"],[1,"course-thumbnail-wrapper"],[1,"course-actions"],[1,"col-12","col-md-8"],[1,"course-meta"],[1,"meta-item"],[1,"fas","fa-tag"],[1,"fas","fa-clock"],[1,"fas"],[1,"intro-video","mt-4"],[1,"course-thumbnail",3,"src","alt"],[1,"thumbnail-placeholder"],[1,"fas","fa-book"],[1,"btn","btn-subscribe-required",3,"click"],[1,"fas","fa-key"],[1,"action-hint","warning"],[1,"fas","fa-lock"],[1,"mb-3"],[1,"video-wrapper"],["frameborder","0","allow","accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share","allowfullscreen","","loading","lazy","title","YouTube video player",3,"src"]],template:function(e,i){e&1&&(d(0,"div",0),T(1,Nte,10,6,"div",1),T(2,Wte,2,1),p()),e&2&&(l(),D(i.isLoading?1:-1),l(),D(!i.isLoading&&i.course?2:-1))},dependencies:[pe,Ne,fe,iC,_e],styles:['.course-page[_ngcontent-%COMP%]{min-height:100vh;background:linear-gradient(180deg,#f8fafc,#f1f5f9)}.course-page[_ngcontent-%COMP%]   .course-content-with-sidebar[_ngcontent-%COMP%]{padding:2.5rem 0;min-height:calc(100vh - 80px)}.course-page[_ngcontent-%COMP%]   .course-content-with-sidebar[_ngcontent-%COMP%]   .course-header[_ngcontent-%COMP%]{margin-bottom:2rem;padding:2rem;background:linear-gradient(135deg,#c9a24d,#9b792f);border-radius:20px;color:#fff;position:relative;overflow:hidden}.course-page[_ngcontent-%COMP%]   .course-content-with-sidebar[_ngcontent-%COMP%]   .course-header[_ngcontent-%COMP%]:before{content:"";position:absolute;top:-50%;right:-20%;width:60%;height:200%;background:radial-gradient(ellipse,rgba(255,255,255,.1) 0%,transparent 60%);pointer-events:none}.course-page[_ngcontent-%COMP%]   .course-content-with-sidebar[_ngcontent-%COMP%]   .course-header[_ngcontent-%COMP%]   .course-header-info[_ngcontent-%COMP%]{position:relative;z-index:1}.course-page[_ngcontent-%COMP%]   .course-content-with-sidebar[_ngcontent-%COMP%]   .course-header[_ngcontent-%COMP%]   .course-header-info[_ngcontent-%COMP%]   .course-title[_ngcontent-%COMP%]{font-size:2.25rem;font-weight:800;margin:0 0 .75rem;letter-spacing:-.5px;text-shadow:0 2px 10px rgba(0,0,0,.1)}.course-page[_ngcontent-%COMP%]   .course-content-with-sidebar[_ngcontent-%COMP%]   .course-header[_ngcontent-%COMP%]   .course-header-info[_ngcontent-%COMP%]   .course-description[_ngcontent-%COMP%]{font-size:1.1rem;opacity:.9;margin:0;max-width:800px;line-height:1.6}.course-page[_ngcontent-%COMP%]   .course-content-with-sidebar[_ngcontent-%COMP%]   .sidebar-wrapper[_ngcontent-%COMP%]{padding:0 1rem;margin-bottom:1.5rem}@media (min-width: 992px){.course-page[_ngcontent-%COMP%]   .course-content-with-sidebar[_ngcontent-%COMP%]   .sidebar-wrapper[_ngcontent-%COMP%]{padding-right:1.5rem;margin-bottom:0}}.course-page[_ngcontent-%COMP%]   .course-content-with-sidebar[_ngcontent-%COMP%]   .main-content-wrapper[_ngcontent-%COMP%]{padding:0 1rem}@media (min-width: 992px){.course-page[_ngcontent-%COMP%]   .course-content-with-sidebar[_ngcontent-%COMP%]   .main-content-wrapper[_ngcontent-%COMP%]{padding-left:.5rem}}.course-page[_ngcontent-%COMP%]   .course-content-with-sidebar[_ngcontent-%COMP%]   .course-sidebar[_ngcontent-%COMP%]{background:#fff;border-radius:20px;box-shadow:0 8px 30px #00000014;overflow:hidden;position:sticky;top:1.5rem;max-height:calc(100vh - 3rem);display:flex;flex-direction:column;border:1px solid rgba(14,58,93,.06)}.course-page[_ngcontent-%COMP%]   .course-content-with-sidebar[_ngcontent-%COMP%]   .course-sidebar[_ngcontent-%COMP%]   .sidebar-header[_ngcontent-%COMP%]{padding:1.5rem 1.75rem;background:linear-gradient(135deg,#c9a24d,#a68232);color:#fff}.course-page[_ngcontent-%COMP%]   .course-content-with-sidebar[_ngcontent-%COMP%]   .course-sidebar[_ngcontent-%COMP%]   .sidebar-header[_ngcontent-%COMP%]   .sidebar-title[_ngcontent-%COMP%]{margin:0;font-size:1.25rem;font-weight:700;display:flex;align-items:center;gap:.75rem;letter-spacing:-.3px}.course-page[_ngcontent-%COMP%]   .course-content-with-sidebar[_ngcontent-%COMP%]   .course-sidebar[_ngcontent-%COMP%]   .sidebar-header[_ngcontent-%COMP%]   .sidebar-title[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.1rem;opacity:.9}.course-page[_ngcontent-%COMP%]   .course-content-with-sidebar[_ngcontent-%COMP%]   .course-sidebar[_ngcontent-%COMP%]   .sidebar-nav[_ngcontent-%COMP%]{flex:1;overflow-y:auto;padding:.75rem 0;background:#fafbfc}.course-page[_ngcontent-%COMP%]   .course-content-with-sidebar[_ngcontent-%COMP%]   .course-sidebar[_ngcontent-%COMP%]   .sidebar-nav[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px}.course-page[_ngcontent-%COMP%]   .course-content-with-sidebar[_ngcontent-%COMP%]   .course-sidebar[_ngcontent-%COMP%]   .sidebar-nav[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:transparent}.course-page[_ngcontent-%COMP%]   .course-content-with-sidebar[_ngcontent-%COMP%]   .course-sidebar[_ngcontent-%COMP%]   .sidebar-nav[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#c9a24d33;border-radius:3px}.course-page[_ngcontent-%COMP%]   .course-content-with-sidebar[_ngcontent-%COMP%]   .course-sidebar[_ngcontent-%COMP%]   .sidebar-nav[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#c9a24d66}.course-page[_ngcontent-%COMP%]   .course-content-with-sidebar[_ngcontent-%COMP%]   .course-sidebar[_ngcontent-%COMP%]   .sidebar-nav[_ngcontent-%COMP%]   .empty-sections[_ngcontent-%COMP%]{padding:3rem 2rem;text-align:center;color:#94a3b8}.course-page[_ngcontent-%COMP%]   .course-content-with-sidebar[_ngcontent-%COMP%]   .course-sidebar[_ngcontent-%COMP%]   .sidebar-nav[_ngcontent-%COMP%]   .empty-sections[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:3.5rem;margin-bottom:1rem;color:#c9a24d33}.course-page[_ngcontent-%COMP%]   .course-content-with-sidebar[_ngcontent-%COMP%]   .course-sidebar[_ngcontent-%COMP%]   .sidebar-nav[_ngcontent-%COMP%]   .empty-sections[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:.95rem;font-weight:500}.course-page[_ngcontent-%COMP%]   .course-content-with-sidebar[_ngcontent-%COMP%]   .course-sidebar[_ngcontent-%COMP%]   .sidebar-nav[_ngcontent-%COMP%]   .sections-list[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0}.course-page[_ngcontent-%COMP%]   .course-content-with-sidebar[_ngcontent-%COMP%]   .course-sidebar[_ngcontent-%COMP%]   .sidebar-nav[_ngcontent-%COMP%]   .sections-list[_ngcontent-%COMP%]   .section-item[_ngcontent-%COMP%]{margin:0}.course-page[_ngcontent-%COMP%]   .course-content-with-sidebar[_ngcontent-%COMP%]   .course-sidebar[_ngcontent-%COMP%]   .sidebar-nav[_ngcontent-%COMP%]   .sections-list[_ngcontent-%COMP%]   .section-item[_ngcontent-%COMP%]   .section-link[_ngcontent-%COMP%]{width:100%;padding:1rem 1.5rem;background:transparent;border:none;border-left:4px solid transparent;text-align:right;cursor:pointer;transition:all .25s cubic-bezier(.4,0,.2,1);display:flex;align-items:center;gap:1rem;color:#475569;text-decoration:none;position:relative}.course-page[_ngcontent-%COMP%]   .course-content-with-sidebar[_ngcontent-%COMP%]   .course-sidebar[_ngcontent-%COMP%]   .sidebar-nav[_ngcontent-%COMP%]   .sections-list[_ngcontent-%COMP%]   .section-item[_ngcontent-%COMP%]   .section-link[_ngcontent-%COMP%]:hover{background:linear-gradient(90deg,transparent,rgba(201,162,77,.06));color:#c9a24d}.course-page[_ngcontent-%COMP%]   .course-content-with-sidebar[_ngcontent-%COMP%]   .course-sidebar[_ngcontent-%COMP%]   .sidebar-nav[_ngcontent-%COMP%]   .sections-list[_ngcontent-%COMP%]   .section-item[_ngcontent-%COMP%]   .section-link[_ngcontent-%COMP%]:hover   .section-order[_ngcontent-%COMP%]{background:#c9a24d;color:#fff;transform:scale(1.05)}.course-page[_ngcontent-%COMP%]   .course-content-with-sidebar[_ngcontent-%COMP%]   .course-sidebar[_ngcontent-%COMP%]   .sidebar-nav[_ngcontent-%COMP%]   .sections-list[_ngcontent-%COMP%]   .section-item[_ngcontent-%COMP%]   .section-link[_ngcontent-%COMP%]:hover   .section-arrow[_ngcontent-%COMP%]{opacity:1;transform:translate(0)}.course-page[_ngcontent-%COMP%]   .course-content-with-sidebar[_ngcontent-%COMP%]   .course-sidebar[_ngcontent-%COMP%]   .sidebar-nav[_ngcontent-%COMP%]   .sections-list[_ngcontent-%COMP%]   .section-item[_ngcontent-%COMP%]   .section-link[_ngcontent-%COMP%]:focus{outline:none;background:#c9a24d0d}.course-page[_ngcontent-%COMP%]   .course-content-with-sidebar[_ngcontent-%COMP%]   .course-sidebar[_ngcontent-%COMP%]   .sidebar-nav[_ngcontent-%COMP%]   .sections-list[_ngcontent-%COMP%]   .section-item[_ngcontent-%COMP%]   .section-link.active[_ngcontent-%COMP%]{background:linear-gradient(90deg,transparent,rgba(201,162,77,.1));border-left-color:#c9a24d;color:#c9a24d}.course-page[_ngcontent-%COMP%]   .course-content-with-sidebar[_ngcontent-%COMP%]   .course-sidebar[_ngcontent-%COMP%]   .sidebar-nav[_ngcontent-%COMP%]   .sections-list[_ngcontent-%COMP%]   .section-item[_ngcontent-%COMP%]   .section-link.active[_ngcontent-%COMP%]   .section-order[_ngcontent-%COMP%]{background:linear-gradient(135deg,#c9a24d,#ae8835);color:#fff;box-shadow:0 4px 12px #c9a24d4d}.course-page[_ngcontent-%COMP%]   .course-content-with-sidebar[_ngcontent-%COMP%]   .course-sidebar[_ngcontent-%COMP%]   .sidebar-nav[_ngcontent-%COMP%]   .sections-list[_ngcontent-%COMP%]   .section-item[_ngcontent-%COMP%]   .section-link.active[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{font-weight:700}.course-page[_ngcontent-%COMP%]   .course-content-with-sidebar[_ngcontent-%COMP%]   .course-sidebar[_ngcontent-%COMP%]   .sidebar-nav[_ngcontent-%COMP%]   .sections-list[_ngcontent-%COMP%]   .section-item[_ngcontent-%COMP%]   .section-link.active[_ngcontent-%COMP%]   .section-arrow[_ngcontent-%COMP%]{opacity:1;transform:translate(0)}.course-page[_ngcontent-%COMP%]   .course-content-with-sidebar[_ngcontent-%COMP%]   .course-sidebar[_ngcontent-%COMP%]   .sidebar-nav[_ngcontent-%COMP%]   .sections-list[_ngcontent-%COMP%]   .section-item[_ngcontent-%COMP%]   .section-link[_ngcontent-%COMP%]   .section-order[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;min-width:40px;height:40px;background:#c9a24d1a;color:#c9a24d;border-radius:12px;font-weight:700;font-size:.95rem;flex-shrink:0;transition:all .25s ease}.course-page[_ngcontent-%COMP%]   .course-content-with-sidebar[_ngcontent-%COMP%]   .course-sidebar[_ngcontent-%COMP%]   .sidebar-nav[_ngcontent-%COMP%]   .sections-list[_ngcontent-%COMP%]   .section-item[_ngcontent-%COMP%]   .section-link[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{flex:1;font-size:.95rem;font-weight:600;text-align:right;line-height:1.5}.course-page[_ngcontent-%COMP%]   .course-content-with-sidebar[_ngcontent-%COMP%]   .course-sidebar[_ngcontent-%COMP%]   .sidebar-nav[_ngcontent-%COMP%]   .sections-list[_ngcontent-%COMP%]   .section-item[_ngcontent-%COMP%]   .section-link[_ngcontent-%COMP%]   .section-arrow[_ngcontent-%COMP%]{opacity:0;transform:translate(-8px);transition:all .25s ease;color:#c9a24d;font-size:.8rem;flex-shrink:0}.course-page[_ngcontent-%COMP%]   .course-content-with-sidebar[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]{background:#fff;border-radius:20px;box-shadow:0 8px 30px #0000000f;min-height:500px;padding:2rem;border:1px solid rgba(14,58,93,.06)}.course-page[_ngcontent-%COMP%]   .course-content-with-sidebar[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .no-section-selected[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;min-height:450px;text-align:center;color:#94a3b8;padding:2rem}.course-page[_ngcontent-%COMP%]   .course-content-with-sidebar[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .no-section-selected[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:5rem;margin-bottom:1.5rem;color:#c9a24d26;animation:_ngcontent-%COMP%_float 3s ease-in-out infinite}@keyframes _ngcontent-%COMP%_float{0%,to{transform:translateY(0)}50%{transform:translateY(-15px)}}.course-page[_ngcontent-%COMP%]   .course-content-with-sidebar[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .no-section-selected[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 1rem;color:#334155;font-size:1.75rem;font-weight:700}.course-page[_ngcontent-%COMP%]   .course-content-with-sidebar[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .no-section-selected[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:1.1rem;color:#64748b;max-width:400px}.course-page[_ngcontent-%COMP%]   .loading-state[_ngcontent-%COMP%]{padding:6rem 0;background:transparent}.course-page[_ngcontent-%COMP%]   .loading-state[_ngcontent-%COMP%]   .spinner-border[_ngcontent-%COMP%]{width:3.5rem;height:3.5rem;border-width:4px;color:#c9a24d!important}.course-page[_ngcontent-%COMP%]   .loading-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#64748b;font-size:1.1rem;margin-top:1.5rem;font-weight:500}.course-page[_ngcontent-%COMP%]   .course-content[_ngcontent-%COMP%]   .course-header[_ngcontent-%COMP%]{background:#fff;padding:4rem 0;box-shadow:0 4px 20px #0000000a;border-bottom:1px solid rgba(14,58,93,.06)}.course-page[_ngcontent-%COMP%]   .course-content[_ngcontent-%COMP%]   .course-header[_ngcontent-%COMP%]   .course-thumbnail-wrapper[_ngcontent-%COMP%]{position:relative;width:100%;height:350px;border-radius:20px;overflow:hidden;box-shadow:0 15px 40px #0000001f;margin-bottom:1.5rem;transition:all .4s ease}.course-page[_ngcontent-%COMP%]   .course-content[_ngcontent-%COMP%]   .course-header[_ngcontent-%COMP%]   .course-thumbnail-wrapper[_ngcontent-%COMP%]:hover{transform:scale(1.02);box-shadow:0 20px 50px #00000026}.course-page[_ngcontent-%COMP%]   .course-content[_ngcontent-%COMP%]   .course-header[_ngcontent-%COMP%]   .course-thumbnail-wrapper[_ngcontent-%COMP%]   .course-thumbnail[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.course-page[_ngcontent-%COMP%]   .course-content[_ngcontent-%COMP%]   .course-header[_ngcontent-%COMP%]   .course-thumbnail-wrapper[_ngcontent-%COMP%]   .thumbnail-placeholder[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;align-items:center;justify-content:center;background:linear-gradient(135deg,#c9a24d1a,#c9a24d0d)}.course-page[_ngcontent-%COMP%]   .course-content[_ngcontent-%COMP%]   .course-header[_ngcontent-%COMP%]   .course-thumbnail-wrapper[_ngcontent-%COMP%]   .thumbnail-placeholder[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:5rem;color:#c9a24d40}.course-page[_ngcontent-%COMP%]   .course-content[_ngcontent-%COMP%]   .course-header[_ngcontent-%COMP%]   .course-actions[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.75rem;margin-top:2rem}.course-page[_ngcontent-%COMP%]   .course-content[_ngcontent-%COMP%]   .course-header[_ngcontent-%COMP%]   .course-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{width:100%;padding:1.1rem 1.75rem;border:none;border-radius:14px;font-size:1.1rem;font-weight:700;cursor:pointer;transition:all .3s cubic-bezier(.4,0,.2,1);display:flex;align-items:center;justify-content:center;gap:.75rem;text-decoration:none;letter-spacing:.3px}.course-page[_ngcontent-%COMP%]   .course-content[_ngcontent-%COMP%]   .course-header[_ngcontent-%COMP%]   .course-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.25rem}.course-page[_ngcontent-%COMP%]   .course-content[_ngcontent-%COMP%]   .course-header[_ngcontent-%COMP%]   .course-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover{transform:translateY(-3px)}.course-page[_ngcontent-%COMP%]   .course-content[_ngcontent-%COMP%]   .course-header[_ngcontent-%COMP%]   .course-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:active{transform:translateY(0)}.course-page[_ngcontent-%COMP%]   .course-content[_ngcontent-%COMP%]   .course-header[_ngcontent-%COMP%]   .course-actions[_ngcontent-%COMP%]   .btn-start-course[_ngcontent-%COMP%]{background:linear-gradient(135deg,#c9a24d,#a68232);color:#fff;box-shadow:0 8px 25px #c9a24d59}.course-page[_ngcontent-%COMP%]   .course-content[_ngcontent-%COMP%]   .course-header[_ngcontent-%COMP%]   .course-actions[_ngcontent-%COMP%]   .btn-start-course[_ngcontent-%COMP%]:hover{box-shadow:0 12px 35px #c9a24d73}.course-page[_ngcontent-%COMP%]   .course-content[_ngcontent-%COMP%]   .course-header[_ngcontent-%COMP%]   .course-actions[_ngcontent-%COMP%]   .btn-subscribe-required[_ngcontent-%COMP%]{background:linear-gradient(135deg,#d97706,#a75c05);color:#fff;box-shadow:0 8px 25px #d977064d}.course-page[_ngcontent-%COMP%]   .course-content[_ngcontent-%COMP%]   .course-header[_ngcontent-%COMP%]   .course-actions[_ngcontent-%COMP%]   .btn-subscribe-required[_ngcontent-%COMP%]:hover{box-shadow:0 12px 35px #d9770666}.course-page[_ngcontent-%COMP%]   .course-content[_ngcontent-%COMP%]   .course-header[_ngcontent-%COMP%]   .course-actions[_ngcontent-%COMP%]   .btn-login-required[_ngcontent-%COMP%]{background:linear-gradient(135deg,#475569,#334155);color:#fff;box-shadow:0 8px 25px #00000026}.course-page[_ngcontent-%COMP%]   .course-content[_ngcontent-%COMP%]   .course-header[_ngcontent-%COMP%]   .course-actions[_ngcontent-%COMP%]   .btn-login-required[_ngcontent-%COMP%]:hover{box-shadow:0 12px 35px #0003}.course-page[_ngcontent-%COMP%]   .course-content[_ngcontent-%COMP%]   .course-header[_ngcontent-%COMP%]   .course-actions[_ngcontent-%COMP%]   .action-hint[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:.5rem;padding:.75rem 1.25rem;border-radius:12px;font-size:.9rem;font-weight:600}.course-page[_ngcontent-%COMP%]   .course-content[_ngcontent-%COMP%]   .course-header[_ngcontent-%COMP%]   .course-actions[_ngcontent-%COMP%]   .action-hint[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1rem}.course-page[_ngcontent-%COMP%]   .course-content[_ngcontent-%COMP%]   .course-header[_ngcontent-%COMP%]   .course-actions[_ngcontent-%COMP%]   .action-hint[_ngcontent-%COMP%]:not(.warning):not(.info){background:#16a34a1a;color:#16a34a}.course-page[_ngcontent-%COMP%]   .course-content[_ngcontent-%COMP%]   .course-header[_ngcontent-%COMP%]   .course-actions[_ngcontent-%COMP%]   .action-hint.warning[_ngcontent-%COMP%]{background:#d977061a;color:#a75c05}.course-page[_ngcontent-%COMP%]   .course-content[_ngcontent-%COMP%]   .course-header[_ngcontent-%COMP%]   .course-actions[_ngcontent-%COMP%]   .action-hint.info[_ngcontent-%COMP%]{background:#c9a24d1a;color:#c9a24d}.course-page[_ngcontent-%COMP%]   .course-content[_ngcontent-%COMP%]   .course-header[_ngcontent-%COMP%]   .course-header-info[_ngcontent-%COMP%]{padding:1rem 0}.course-page[_ngcontent-%COMP%]   .course-content[_ngcontent-%COMP%]   .course-header[_ngcontent-%COMP%]   .course-header-info[_ngcontent-%COMP%]   .course-title[_ngcontent-%COMP%]{font-size:2.75rem;font-weight:800;color:#1e293b;margin:0 0 1rem;letter-spacing:-1px;line-height:1.2}.course-page[_ngcontent-%COMP%]   .course-content[_ngcontent-%COMP%]   .course-header[_ngcontent-%COMP%]   .course-header-info[_ngcontent-%COMP%]   .course-description[_ngcontent-%COMP%]{font-size:1.2rem;color:#64748b;line-height:1.8;margin:0 0 1.75rem}.course-page[_ngcontent-%COMP%]   .course-content[_ngcontent-%COMP%]   .course-header[_ngcontent-%COMP%]   .course-header-info[_ngcontent-%COMP%]   .course-meta[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:.75rem;margin-bottom:2rem}.course-page[_ngcontent-%COMP%]   .course-content[_ngcontent-%COMP%]   .course-header[_ngcontent-%COMP%]   .course-header-info[_ngcontent-%COMP%]   .course-meta[_ngcontent-%COMP%]   .meta-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding:.6rem 1.1rem;background:#f8fafc;border-radius:30px;font-size:.95rem;color:#475569;font-weight:600;border:1px solid #e2e8f0;transition:all .2s ease}.course-page[_ngcontent-%COMP%]   .course-content[_ngcontent-%COMP%]   .course-header[_ngcontent-%COMP%]   .course-header-info[_ngcontent-%COMP%]   .course-meta[_ngcontent-%COMP%]   .meta-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#c9a24d;font-size:.9rem}.course-page[_ngcontent-%COMP%]   .course-content[_ngcontent-%COMP%]   .course-header[_ngcontent-%COMP%]   .course-header-info[_ngcontent-%COMP%]   .course-meta[_ngcontent-%COMP%]   .meta-item[_ngcontent-%COMP%]:hover{background:#fff;border-color:#c9a24d4d}.course-page[_ngcontent-%COMP%]   .course-content[_ngcontent-%COMP%]   .course-header[_ngcontent-%COMP%]   .course-header-info[_ngcontent-%COMP%]   .course-meta[_ngcontent-%COMP%]   .meta-item.free[_ngcontent-%COMP%]{background:#16a34a1a;color:#107636;border-color:#16a34a33}.course-page[_ngcontent-%COMP%]   .course-content[_ngcontent-%COMP%]   .course-header[_ngcontent-%COMP%]   .course-header-info[_ngcontent-%COMP%]   .course-meta[_ngcontent-%COMP%]   .meta-item.free[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#16a34a}.course-page[_ngcontent-%COMP%]   .course-content[_ngcontent-%COMP%]   .course-header[_ngcontent-%COMP%]   .course-header-info[_ngcontent-%COMP%]   .course-meta[_ngcontent-%COMP%]   .meta-item.premium[_ngcontent-%COMP%]{background:#d977061a;color:#8f4e04;border-color:#d9770633}.course-page[_ngcontent-%COMP%]   .course-content[_ngcontent-%COMP%]   .course-header[_ngcontent-%COMP%]   .course-header-info[_ngcontent-%COMP%]   .course-meta[_ngcontent-%COMP%]   .meta-item.premium[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#d97706}.course-page[_ngcontent-%COMP%]   .course-content[_ngcontent-%COMP%]   .course-header[_ngcontent-%COMP%]   .course-header-info[_ngcontent-%COMP%]   .intro-video[_ngcontent-%COMP%]{margin-top:2.5rem}.course-page[_ngcontent-%COMP%]   .course-content[_ngcontent-%COMP%]   .course-header[_ngcontent-%COMP%]   .course-header-info[_ngcontent-%COMP%]   .intro-video[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:1.4rem;font-weight:700;color:#1e293b;margin-bottom:1.25rem;display:flex;align-items:center;gap:.75rem}.course-page[_ngcontent-%COMP%]   .course-content[_ngcontent-%COMP%]   .course-header[_ngcontent-%COMP%]   .course-header-info[_ngcontent-%COMP%]   .intro-video[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]:before{content:"";display:block;width:4px;height:24px;background:#c9a24d;border-radius:2px}.course-page[_ngcontent-%COMP%]   .course-content[_ngcontent-%COMP%]   .course-header[_ngcontent-%COMP%]   .course-header-info[_ngcontent-%COMP%]   .intro-video[_ngcontent-%COMP%]   .video-wrapper[_ngcontent-%COMP%]{position:relative;padding-bottom:56.25%;height:0;overflow:hidden;border-radius:16px;box-shadow:0 15px 40px #0000001a;background:#000}.course-page[_ngcontent-%COMP%]   .course-content[_ngcontent-%COMP%]   .course-header[_ngcontent-%COMP%]   .course-header-info[_ngcontent-%COMP%]   .intro-video[_ngcontent-%COMP%]   .video-wrapper[_ngcontent-%COMP%]   iframe[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;border:none}@media (max-width: 991.98px){.course-page[_ngcontent-%COMP%]   .course-content-with-sidebar[_ngcontent-%COMP%]{padding:1.5rem 0}.course-page[_ngcontent-%COMP%]   .course-content-with-sidebar[_ngcontent-%COMP%]   .course-header[_ngcontent-%COMP%]{padding:1.5rem;margin:0 1rem 1.5rem;border-radius:16px}.course-page[_ngcontent-%COMP%]   .course-content-with-sidebar[_ngcontent-%COMP%]   .course-header[_ngcontent-%COMP%]   .course-header-info[_ngcontent-%COMP%]   .course-title[_ngcontent-%COMP%]{font-size:1.75rem}.course-page[_ngcontent-%COMP%]   .course-content-with-sidebar[_ngcontent-%COMP%]   .course-header[_ngcontent-%COMP%]   .course-header-info[_ngcontent-%COMP%]   .course-description[_ngcontent-%COMP%]{font-size:1rem}.course-page[_ngcontent-%COMP%]   .course-content-with-sidebar[_ngcontent-%COMP%]   .course-sidebar[_ngcontent-%COMP%]{position:relative;top:0;max-height:none;margin-bottom:1.5rem;border-radius:16px}.course-page[_ngcontent-%COMP%]   .course-content-with-sidebar[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]{border-radius:16px}.course-page[_ngcontent-%COMP%]   .course-content[_ngcontent-%COMP%]   .course-header[_ngcontent-%COMP%]{padding:2.5rem 0}.course-page[_ngcontent-%COMP%]   .course-content[_ngcontent-%COMP%]   .course-header[_ngcontent-%COMP%]   .course-thumbnail-wrapper[_ngcontent-%COMP%]{height:280px;border-radius:16px}.course-page[_ngcontent-%COMP%]   .course-content[_ngcontent-%COMP%]   .course-header[_ngcontent-%COMP%]   .course-header-info[_ngcontent-%COMP%]   .course-title[_ngcontent-%COMP%]{font-size:2rem}.course-page[_ngcontent-%COMP%]   .course-content[_ngcontent-%COMP%]   .course-header[_ngcontent-%COMP%]   .course-header-info[_ngcontent-%COMP%]   .course-meta[_ngcontent-%COMP%]   .meta-item[_ngcontent-%COMP%]{font-size:.85rem;padding:.5rem .875rem}}@media (max-width: 575.98px){.course-page[_ngcontent-%COMP%]   .course-content-with-sidebar[_ngcontent-%COMP%]   .course-header[_ngcontent-%COMP%]{padding:1.25rem}.course-page[_ngcontent-%COMP%]   .course-content-with-sidebar[_ngcontent-%COMP%]   .course-header[_ngcontent-%COMP%]   .course-header-info[_ngcontent-%COMP%]   .course-title[_ngcontent-%COMP%]{font-size:1.5rem}.course-page[_ngcontent-%COMP%]   .course-content-with-sidebar[_ngcontent-%COMP%]   .sidebar-wrapper[_ngcontent-%COMP%], .course-page[_ngcontent-%COMP%]   .course-content-with-sidebar[_ngcontent-%COMP%]   .main-content-wrapper[_ngcontent-%COMP%]{padding:0 .75rem}.course-page[_ngcontent-%COMP%]   .course-content-with-sidebar[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]{padding:1.5rem;min-height:400px}.course-page[_ngcontent-%COMP%]   .course-content-with-sidebar[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .no-section-selected[_ngcontent-%COMP%]{min-height:300px}.course-page[_ngcontent-%COMP%]   .course-content-with-sidebar[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .no-section-selected[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:4rem}.course-page[_ngcontent-%COMP%]   .course-content-with-sidebar[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .no-section-selected[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1.35rem}.course-page[_ngcontent-%COMP%]   .course-content-with-sidebar[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .no-section-selected[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem}.course-page[_ngcontent-%COMP%]   .course-content-with-sidebar[_ngcontent-%COMP%]   .course-sidebar[_ngcontent-%COMP%]   .sidebar-header[_ngcontent-%COMP%]{padding:1.25rem 1.5rem}.course-page[_ngcontent-%COMP%]   .course-content-with-sidebar[_ngcontent-%COMP%]   .course-sidebar[_ngcontent-%COMP%]   .sidebar-header[_ngcontent-%COMP%]   .sidebar-title[_ngcontent-%COMP%]{font-size:1.1rem}.course-page[_ngcontent-%COMP%]   .course-content-with-sidebar[_ngcontent-%COMP%]   .course-sidebar[_ngcontent-%COMP%]   .sidebar-nav[_ngcontent-%COMP%]   .sections-list[_ngcontent-%COMP%]   .section-item[_ngcontent-%COMP%]   .section-link[_ngcontent-%COMP%]{padding:.875rem 1.25rem}.course-page[_ngcontent-%COMP%]   .course-content-with-sidebar[_ngcontent-%COMP%]   .course-sidebar[_ngcontent-%COMP%]   .sidebar-nav[_ngcontent-%COMP%]   .sections-list[_ngcontent-%COMP%]   .section-item[_ngcontent-%COMP%]   .section-link[_ngcontent-%COMP%]   .section-order[_ngcontent-%COMP%]{min-width:36px;height:36px;font-size:.9rem}.course-page[_ngcontent-%COMP%]   .course-content-with-sidebar[_ngcontent-%COMP%]   .course-sidebar[_ngcontent-%COMP%]   .sidebar-nav[_ngcontent-%COMP%]   .sections-list[_ngcontent-%COMP%]   .section-item[_ngcontent-%COMP%]   .section-link[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{font-size:.9rem}.course-page[_ngcontent-%COMP%]   .course-content[_ngcontent-%COMP%]   .course-header[_ngcontent-%COMP%]{padding:2rem 0}.course-page[_ngcontent-%COMP%]   .course-content[_ngcontent-%COMP%]   .course-header[_ngcontent-%COMP%]   .course-thumbnail-wrapper[_ngcontent-%COMP%]{height:220px}.course-page[_ngcontent-%COMP%]   .course-content[_ngcontent-%COMP%]   .course-header[_ngcontent-%COMP%]   .course-header-info[_ngcontent-%COMP%]{padding:.5rem 0}.course-page[_ngcontent-%COMP%]   .course-content[_ngcontent-%COMP%]   .course-header[_ngcontent-%COMP%]   .course-header-info[_ngcontent-%COMP%]   .course-title[_ngcontent-%COMP%]{font-size:1.65rem}.course-page[_ngcontent-%COMP%]   .course-content[_ngcontent-%COMP%]   .course-header[_ngcontent-%COMP%]   .course-header-info[_ngcontent-%COMP%]   .course-description[_ngcontent-%COMP%]{font-size:1rem}.course-page[_ngcontent-%COMP%]   .course-content[_ngcontent-%COMP%]   .course-header[_ngcontent-%COMP%]   .course-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{font-size:1rem;padding:1rem 1.25rem}}']})};var Gte=(n,t)=>t.id;function Qte(n,t){n&1&&(Se(0,"div",30)(1,"span"),f(2),h(3,"translate"),Re()()),n&2&&(l(2),O(m(3,1,"subscribe.mostPopular")))}function Kte(n,t){if(n&1&&(Se(0,"div",38)(1,"span"),f(2),h(3,"translate"),h(4,"translate"),h(5,"translate"),Re()()),n&2){let e=x().$implicit;l(2),bl("* ",m(3,4,"subscribe.paidYearly")," ",e.price," ",m(4,6,e.currencyKey),"/",m(5,8,"subscribe.year"))}}function Yte(n,t){if(n&1){let e=J();Se(0,"div",29),T(1,Qte,4,3,"div",30),Se(2,"div",31)(3,"h3",32),f(4),h(5,"translate"),Re()(),Se(6,"div",33)(7,"div",34)(8,"div",35)(9,"span",36),f(10),Re(),Se(11,"span",37),f(12),h(13,"translate"),h(14,"translate"),Re()(),T(15,Kte,6,10,"div",38),Re(),Se(16,"button",39),Cl("click",function(){let o=$(e).$implicit,r=x();return q(r.selectPlan(o.id))}),f(17),h(18,"translate"),Re()()()}if(n&2){let e=t.$implicit,i=x();V("popular",e.isPopular)("selected",i.selectedPlan===e.id),l(),D(e.isPopular?1:-1),l(),V("popular-header",e.isPopular),l(2),O(m(5,15,e.nameKey)),l(6),O(e.pricePerMonth),l(2),tt("",m(13,17,e.currencyKey),"/",m(14,19,"subscribe.month")),l(3),D(e.id==="yearly"?15:-1),l(),V("btn-popular",e.isPopular),l(),M(" ",m(18,21,"subscribe.subscribeNow")," ")}}function Zte(n,t){if(n&1&&(Se(0,"li",12),bn(1,"i",40),Se(2,"span"),f(3),h(4,"translate"),Re()()),n&2){let e=t.$implicit;l(3),O(m(4,1,e))}}var rC=class n{constructor(t,e,i){this.subscribePlans=t;this.authService=e;this.router=i}plans=[];platformFeatures=[];selectedPlan=null;destroy$=new me;ngOnInit(){this.authService.authState$().pipe(ne(this.destroy$)).subscribe(t=>{t&&this.router.navigate(["/mySubscriptions"])}),this.loadPlans()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}loadPlans(){this.plans=this.subscribePlans.getPlans(),this.platformFeatures=this.subscribePlans.getPlatformFeatures()}selectPlan(t){this.selectedPlan=t,this.authService.getCurrentUserId()?this.router.navigate(["/mySubscriptions"],{queryParams:{plan:t}}):this.router.navigate(["/register"],{queryParams:{plan:t}})}goToSubscriptions(){this.authService.getCurrentUserId()?this.router.navigate(["/mySubscriptions"]):this.router.navigate(["/login"])}goToPaymentMethods(){this.router.navigate(["/paymentMethods"])}static \u0275fac=function(e){return new(e||n)(A(xd),A(Dt),A(He))};static \u0275cmp=ce({type:n,selectors:[["app-subscribe"]],decls:68,vars:42,consts:[[1,"subscribe-container"],[1,"container"],[1,"subscribe-header"],[1,"page-title"],[1,"page-subtitle"],[1,"plans-section"],[1,"section-title"],[1,"plans-grid"],[1,"plan-card",3,"popular","selected"],[1,"features-section"],[1,"features-card"],[1,"features-list"],[1,"feature-item"],[1,"payment-methods-section"],[1,"payment-methods-card"],[1,"payment-icon"],[1,"fas","fa-wallet"],[1,"payment-content"],[1,"payment-icons"],[1,"payment-badge"],[1,"fas","fa-university"],[1,"fas","fa-bolt"],[1,"fas","fa-mobile-alt"],[1,"fas","fa-store"],[1,"btn-payment-methods",3,"click"],[1,"fas","fa-arrow-left"],[1,"cta-section"],[1,"cta-content"],[1,"btn-cta",3,"click"],[1,"plan-card"],[1,"popular-badge"],[1,"plan-header"],[1,"plan-name"],[1,"plan-body"],[1,"price-section"],[1,"price-main"],[1,"price-amount"],[1,"price-currency"],[1,"price-note"],[1,"btn-subscribe",3,"click"],[1,"fas","fa-check-circle"]],template:function(e,i){e&1&&(Se(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3),f(4),h(5,"translate"),Re(),Se(6,"p",4),f(7),h(8,"translate"),Re()(),Se(9,"div",5)(10,"h2",6),f(11),h(12,"translate"),Re(),Se(13,"div",7),Be(14,Yte,19,23,"div",8,Gte),Re()(),Se(16,"div",9)(17,"h2",6),f(18),h(19,"translate"),Re(),Se(20,"div",10)(21,"ul",11),Be(22,Zte,5,3,"li",12,Pu),Re()()(),Se(24,"div",13)(25,"div",14)(26,"div",15),bn(27,"i",16),Re(),Se(28,"div",17)(29,"h3"),f(30),h(31,"translate"),Re(),Se(32,"p"),f(33),h(34,"translate"),Re(),Se(35,"div",18)(36,"span",19),bn(37,"i",20),f(38),h(39,"translate"),Re(),Se(40,"span",19),bn(41,"i",21),f(42),h(43,"translate"),Re(),Se(44,"span",19),bn(45,"i",22),f(46),h(47,"translate"),Re(),Se(48,"span",19),bn(49,"i",23),f(50),h(51,"translate"),Re()(),Se(52,"button",24),Cl("click",function(){return i.goToPaymentMethods()}),bn(53,"i",25),f(54),h(55,"translate"),Re()()()(),Se(56,"div",26)(57,"div",27)(58,"h3"),f(59),h(60,"translate"),Re(),Se(61,"p"),f(62),h(63,"translate"),Re(),Se(64,"button",28),Cl("click",function(){return i.goToSubscriptions()}),bn(65,"i",25),f(66),h(67,"translate"),Re()()()()()),e&2&&(l(4),O(m(5,14,"subscribe.title")),l(3),O(m(8,16,"subscribe.subtitle")),l(4),O(m(12,18,"subscribe.choosePlan")),l(3),je(i.plans),l(4),O(m(19,20,"subscribe.featuresTitle")),l(4),je(i.platformFeatures),l(8),O(m(31,22,"subscribe.paymentMethods.title")),l(3),O(m(34,24,"subscribe.paymentMethods.description")),l(5),M(" ",m(39,26,"subscribe.paymentMethods.bankTransfer")),l(4),M(" ",m(43,28,"subscribe.paymentMethods.instapay")),l(4),M(" ",m(47,30,"subscribe.paymentMethods.vodafoneCash")),l(4),M(" ",m(51,32,"subscribe.paymentMethods.fawry")),l(4),M(" ",m(55,34,"subscribe.paymentMethods.viewAll")," "),l(5),O(m(60,36,"subscribe.cta.title")),l(3),O(m(63,38,"subscribe.cta.description")),l(4),M(" ",m(67,40,"subscribe.cta.button")," "))},dependencies:[pe,fe,_e],styles:[".subscribe-container[_ngcontent-%COMP%]{width:100%;min-height:100vh;padding:64px 0;background:linear-gradient(180deg,#f6f7f9,#f3f1ec)}.container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:0 16px}.subscribe-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:96px;padding-top:32px}.subscribe-header[_ngcontent-%COMP%]   .page-title[_ngcontent-%COMP%]{font-size:2.5rem;font-weight:700;color:#0e3a5d;margin-bottom:8px;font-family:Cairo,sans-serif}.subscribe-header[_ngcontent-%COMP%]   .page-subtitle[_ngcontent-%COMP%]{font-size:1.1rem;color:#0f172ab3;max-width:600px;margin:0 auto;font-family:Cairo,sans-serif}.section-title[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;color:#0e3a5d;text-align:center;margin-bottom:32px;font-family:Cairo,sans-serif}.plans-section[_ngcontent-%COMP%]{margin-bottom:96px}.plans-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:32px;max-width:800px;margin:0 auto}.plan-card[_ngcontent-%COMP%]{background:#fff;border-radius:16px;overflow:hidden;box-shadow:0 4px 8px #00000026;border:2px solid rgba(14,58,93,.1);transition:all .3s ease;position:relative}.plan-card[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 8px 16px #0003}.plan-card.popular[_ngcontent-%COMP%]{border-color:#c9a24d}.plan-card.popular[_ngcontent-%COMP%]   .plan-header[_ngcontent-%COMP%]{background:#c9a24d;color:#fff}.plan-card.selected[_ngcontent-%COMP%]{border-color:#c9a24d;box-shadow:0 0 0 3px #c9a24d33}.plan-card[_ngcontent-%COMP%]   .popular-badge[_ngcontent-%COMP%]{position:absolute;top:0;left:0;right:0;background:#c9a24d;color:#fff;text-align:center;padding:4px 8px;font-size:.85rem;font-weight:600;font-family:Cairo,sans-serif}.plan-card[_ngcontent-%COMP%]   .plan-header[_ngcontent-%COMP%]{padding:32px;text-align:center;background:#0e3a5d0d;border-bottom:1px solid rgba(14,58,93,.1)}.plan-card[_ngcontent-%COMP%]   .plan-header.popular-header[_ngcontent-%COMP%]{padding-top:60px}.plan-card[_ngcontent-%COMP%]   .plan-header[_ngcontent-%COMP%]   .plan-name[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;margin:0;font-family:Cairo,sans-serif;color:inherit}.plan-card[_ngcontent-%COMP%]   .plan-body[_ngcontent-%COMP%]{padding:64px 32px;text-align:center}.plan-card[_ngcontent-%COMP%]   .price-section[_ngcontent-%COMP%]{margin-bottom:32px}.plan-card[_ngcontent-%COMP%]   .price-section[_ngcontent-%COMP%]   .price-main[_ngcontent-%COMP%]{display:flex;align-items:baseline;justify-content:center;gap:8px;margin-bottom:8px}.plan-card[_ngcontent-%COMP%]   .price-section[_ngcontent-%COMP%]   .price-main[_ngcontent-%COMP%]   .price-amount[_ngcontent-%COMP%]{font-size:3.5rem;font-weight:700;color:#0e3a5d;line-height:1;font-family:Cairo,sans-serif}.plan-card[_ngcontent-%COMP%]   .price-section[_ngcontent-%COMP%]   .price-main[_ngcontent-%COMP%]   .price-currency[_ngcontent-%COMP%]{font-size:1rem;color:#0f172a99;font-family:Cairo,sans-serif}.plan-card[_ngcontent-%COMP%]   .price-section[_ngcontent-%COMP%]   .price-note[_ngcontent-%COMP%]{font-size:.9rem;color:#0f172a99;font-family:Cairo,sans-serif}.plan-card[_ngcontent-%COMP%]   .btn-subscribe[_ngcontent-%COMP%]{width:100%;padding:16px 32px;border:2px solid #0E3A5D;background:transparent;color:#0e3a5d;font-size:1rem;font-weight:600;border-radius:8px;cursor:pointer;transition:all .3s ease;font-family:Cairo,sans-serif}.plan-card[_ngcontent-%COMP%]   .btn-subscribe[_ngcontent-%COMP%]:hover{background:#0e3a5d;color:#fff}.plan-card[_ngcontent-%COMP%]   .btn-subscribe.btn-popular[_ngcontent-%COMP%]{background:#c9a24d;border-color:#c9a24d;color:#fff}.plan-card[_ngcontent-%COMP%]   .btn-subscribe.btn-popular[_ngcontent-%COMP%]:hover{background:#a8832f;border-color:#a8832f}.features-section[_ngcontent-%COMP%]{margin-bottom:96px}.features-card[_ngcontent-%COMP%]{background:#fff;border-radius:16px;padding:64px;box-shadow:0 4px 8px #00000026;border:1px solid rgba(14,58,93,.1);max-width:800px;margin:0 auto}.features-list[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0;display:grid;gap:16px}.feature-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:16px;padding:8px 0;font-family:Cairo,sans-serif;font-size:1rem;color:#0f172a}.feature-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#16a34a;font-size:1.2rem;flex-shrink:0}.payment-methods-section[_ngcontent-%COMP%]{margin-bottom:96px;max-width:800px;margin-left:auto;margin-right:auto}.payment-methods-card[_ngcontent-%COMP%]{display:flex;align-items:center;gap:64px;padding:64px;background:linear-gradient(135deg,#c9a24d,#a8832f);border-radius:16px;color:#fff}.payment-methods-card[_ngcontent-%COMP%]   .payment-icon[_ngcontent-%COMP%]{width:80px;height:80px;display:flex;align-items:center;justify-content:center;background:#ffffff26;border-radius:50%;flex-shrink:0}.payment-methods-card[_ngcontent-%COMP%]   .payment-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:2.5rem}.payment-methods-card[_ngcontent-%COMP%]   .payment-content[_ngcontent-%COMP%]{flex:1}.payment-methods-card[_ngcontent-%COMP%]   .payment-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;margin:0 0 8px;font-family:Cairo,sans-serif}.payment-methods-card[_ngcontent-%COMP%]   .payment-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem;opacity:.9;margin:0 0 16px;font-family:Cairo,sans-serif;line-height:1.5}.payment-methods-card[_ngcontent-%COMP%]   .payment-content[_ngcontent-%COMP%]   .payment-icons[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:8px;margin-bottom:32px}.payment-methods-card[_ngcontent-%COMP%]   .payment-content[_ngcontent-%COMP%]   .payment-icons[_ngcontent-%COMP%]   .payment-badge[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:4px;padding:4px 16px;background:#ffffff26;border-radius:8px;font-size:.85rem;font-weight:500;font-family:Cairo,sans-serif}.payment-methods-card[_ngcontent-%COMP%]   .payment-content[_ngcontent-%COMP%]   .payment-icons[_ngcontent-%COMP%]   .payment-badge[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.9rem}.payment-methods-card[_ngcontent-%COMP%]   .payment-content[_ngcontent-%COMP%]   .btn-payment-methods[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:8px;padding:8px 32px;background:#fff;color:#c9a24d;border:none;border-radius:8px;font-size:1rem;font-weight:600;cursor:pointer;transition:all .2s ease;font-family:Cairo,sans-serif}.payment-methods-card[_ngcontent-%COMP%]   .payment-content[_ngcontent-%COMP%]   .btn-payment-methods[_ngcontent-%COMP%]:hover{background:#ffffffe6;transform:translateY(-2px)}.payment-methods-card[_ngcontent-%COMP%]   .payment-content[_ngcontent-%COMP%]   .btn-payment-methods[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.9rem}.cta-section[_ngcontent-%COMP%]{max-width:800px;margin:0 auto}.cta-content[_ngcontent-%COMP%]{background:linear-gradient(135deg,#0e3a5d,#1e5c8a);border-radius:16px;padding:96px;text-align:center;color:#fff}.cta-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.8rem;font-weight:700;margin-bottom:16px;font-family:Cairo,sans-serif}.cta-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.1rem;margin-bottom:32px;opacity:.9;font-family:Cairo,sans-serif}.cta-content[_ngcontent-%COMP%]   .btn-cta[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:8px;padding:16px 64px;background:#c9a24d;color:#fff;border:none;border-radius:8px;font-size:1.1rem;font-weight:600;cursor:pointer;transition:all .3s ease;font-family:Cairo,sans-serif}.cta-content[_ngcontent-%COMP%]   .btn-cta[_ngcontent-%COMP%]:hover{background:#a8832f;transform:translateY(-2px)}.cta-content[_ngcontent-%COMP%]   .btn-cta[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1rem}@media (max-width: 991.98px){.subscribe-header[_ngcontent-%COMP%]   .page-title[_ngcontent-%COMP%]{font-size:2rem}.plans-grid[_ngcontent-%COMP%]{grid-template-columns:1fr;max-width:400px}}@media (max-width: 767.98px){.subscribe-container[_ngcontent-%COMP%]{padding:32px 0}.subscribe-header[_ngcontent-%COMP%]{padding-top:16px;margin-bottom:64px}.subscribe-header[_ngcontent-%COMP%]   .page-title[_ngcontent-%COMP%]{font-size:1.75rem}.subscribe-header[_ngcontent-%COMP%]   .page-subtitle[_ngcontent-%COMP%]{font-size:1rem}.section-title[_ngcontent-%COMP%]{font-size:1.25rem}.plan-card[_ngcontent-%COMP%]   .plan-body[_ngcontent-%COMP%]{padding:32px}.plan-card[_ngcontent-%COMP%]   .price-section[_ngcontent-%COMP%]   .price-main[_ngcontent-%COMP%]   .price-amount[_ngcontent-%COMP%]{font-size:2.5rem}.features-card[_ngcontent-%COMP%]{padding:32px}.payment-methods-card[_ngcontent-%COMP%]{flex-direction:column;text-align:center}.payment-methods-card[_ngcontent-%COMP%]   .payment-content[_ngcontent-%COMP%]   .payment-icons[_ngcontent-%COMP%]{justify-content:center}.cta-content[_ngcontent-%COMP%]{padding:64px}.cta-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.5rem}.cta-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem}}"]})};var Jte=(n,t)=>t.id,Xte=(n,t)=>t.labelKey;function ene(n,t){if(n&1&&b(0,"i",23),n&2){let e=x().$implicit;E("ngClass",e.icon)}}function tne(n,t){if(n&1&&(b(0,"img",24),h(1,"translate")),n&2){let e=x().$implicit;E("src",e.iconSrc,Je)("alt",m(1,2,e.nameKey))}}function nne(n,t){n&1&&b(0,"i",40)}function ine(n,t){n&1&&b(0,"i",41)}function one(n,t){if(n&1){let e=J();d(0,"button",39),R("click",function(){$(e);let o=x().$implicit,r=x().$implicit,s=x();return q(s.copyToClipboard(o.valueKey,r.id+"-"+o.labelKey))}),T(1,nne,1,0,"i",40)(2,ine,1,0,"i",41),p()}if(n&2){let e=x().$implicit,i=x().$implicit,o=x();V("copied",o.copiedId===i.id+"-"+e.labelKey),l(),D(o.copiedId===i.id+"-"+e.labelKey?1:2)}}function rne(n,t){if(n&1&&(d(0,"div",30)(1,"span",35),f(2),h(3,"translate"),p(),d(4,"div",36)(5,"span",37),f(6),h(7,"translate"),p(),T(8,one,3,3,"button",38),p()()),n&2){let e=t.$implicit;l(2),O(m(3,3,e.labelKey)),l(4),O(m(7,5,e.valueKey)),l(2),D(e.copyable?8:-1)}}function sne(n,t){if(n&1&&(d(0,"li"),f(1),h(2,"translate"),p()),n&2){let e=t.$implicit;l(),O(m(2,1,e))}}function ane(n,t){if(n&1&&(d(0,"div",10)(1,"div",21)(2,"div",22),T(3,ene,1,1,"i",23)(4,tne,2,4,"img",24),p(),d(5,"div",25)(6,"h3",26),f(7),h(8,"translate"),p(),d(9,"p",27),f(10),h(11,"translate"),p()()(),d(12,"div",28)(13,"div",29),Be(14,rne,9,7,"div",30,Xte),p(),d(16,"div",31)(17,"h4",32),b(18,"i",33),f(19),h(20,"translate"),p(),d(21,"ol",34),Be(22,sne,3,3,"li",null,Pu),p()()()()),n&2){let e=t.$implicit;l(3),D(e.iconType==="fa"?3:4),l(4),O(m(8,4,e.nameKey)),l(3),O(m(11,6,e.descriptionKey)),l(4),je(e.details),l(5),M(" ",m(20,8,"paymentMethods.howToPay")," "),l(3),je(e.instructions)}}var sC=class n{constructor(t,e){this.router=t;this.translateService=e}paymentMethods=[{id:"bank-transfer",nameKey:"paymentMethods.bankTransfer.name",descriptionKey:"paymentMethods.bankTransfer.description",icon:"fa-university",iconType:"fa",details:[{labelKey:"paymentMethods.bankTransfer.bankName",valueKey:"paymentMethods.bankTransfer.bankNameValue",copyable:!1},{labelKey:"paymentMethods.bankTransfer.accountNumber",valueKey:"paymentMethods.bankTransfer.accountNumberValue",copyable:!0},{labelKey:"paymentMethods.bankTransfer.accountName",valueKey:"paymentMethods.bankTransfer.accountNameValue",copyable:!1},{labelKey:"paymentMethods.bankTransfer.iban",valueKey:"paymentMethods.bankTransfer.ibanValue",copyable:!0}],instructions:["paymentMethods.bankTransfer.instructions.1","paymentMethods.bankTransfer.instructions.2","paymentMethods.bankTransfer.instructions.3"]},{id:"instapay",nameKey:"paymentMethods.instapay.name",descriptionKey:"paymentMethods.instapay.description",icon:"fa-bolt",iconType:"fa",details:[{labelKey:"paymentMethods.instapay.accountName",valueKey:"paymentMethods.instapay.accountNameValue",copyable:!1},{labelKey:"paymentMethods.instapay.ipaAddress",valueKey:"paymentMethods.instapay.ipaAddressValue",copyable:!0}],instructions:["paymentMethods.instapay.instructions.1","paymentMethods.instapay.instructions.2","paymentMethods.instapay.instructions.3"]},{id:"vodafone-cash",nameKey:"paymentMethods.vodafoneCash.name",descriptionKey:"paymentMethods.vodafoneCash.description",icon:"fa-mobile-alt",iconType:"fa",details:[{labelKey:"paymentMethods.vodafoneCash.walletNumber",valueKey:"paymentMethods.vodafoneCash.walletNumberValue",copyable:!0},{labelKey:"paymentMethods.vodafoneCash.walletName",valueKey:"paymentMethods.vodafoneCash.walletNameValue",copyable:!1}],instructions:["paymentMethods.vodafoneCash.instructions.1","paymentMethods.vodafoneCash.instructions.2","paymentMethods.vodafoneCash.instructions.3"]},{id:"fawry",nameKey:"paymentMethods.fawry.name",descriptionKey:"paymentMethods.fawry.description",icon:"fa-store",iconType:"fa",details:[{labelKey:"paymentMethods.fawry.referenceCode",valueKey:"paymentMethods.fawry.referenceCodeValue",copyable:!0}],instructions:["paymentMethods.fawry.instructions.1","paymentMethods.fawry.instructions.2","paymentMethods.fawry.instructions.3"]}];copiedId=null;copyToClipboard(t,e){let i=this.translateService.instant(t);navigator.clipboard.writeText(i).then(()=>{this.copiedId=e,setTimeout(()=>{this.copiedId=null},2e3)})}goToMySubscriptions(){this.router.navigate(["/mySubscriptions"])}goToSubscribePlans(){this.router.navigate(["/subscribePlans"])}static \u0275fac=function(e){return new(e||n)(A(He),A(Pi))};static \u0275cmp=ce({type:n,selectors:[["app-payment-methods"]],decls:42,vars:24,consts:[[1,"payment-methods-container"],[1,"container"],[1,"page-header"],[1,"page-title"],[1,"fas","fa-wallet"],[1,"page-subtitle"],[1,"important-note"],[1,"fas","fa-info-circle"],[1,"note-content"],[1,"payment-methods-grid"],[1,"payment-method-card"],[1,"after-payment-section"],[1,"after-payment-card"],[1,"after-payment-icon"],[1,"fas","fa-receipt"],[1,"after-payment-content"],[1,"btn","btn-primary",3,"click"],[1,"fas","fa-upload"],[1,"cta-section"],[1,"btn","btn-outline",3,"click"],[1,"fas","fa-arrow-right"],[1,"card-header"],[1,"method-icon"],[1,"fas",3,"ngClass"],[3,"src","alt"],[1,"method-info"],[1,"method-name"],[1,"method-description"],[1,"card-body"],[1,"details-list"],[1,"detail-item"],[1,"instructions"],[1,"instructions-title"],[1,"fas","fa-list-ol"],[1,"instructions-list"],[1,"detail-label"],[1,"detail-value-wrapper"],[1,"detail-value"],[1,"btn-copy",3,"copied"],[1,"btn-copy",3,"click"],[1,"fas","fa-check"],[1,"fas","fa-copy"]],template:function(e,i){e&1&&(d(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3),b(4,"i",4),f(5),h(6,"translate"),p(),d(7,"p",5),f(8),h(9,"translate"),p()(),d(10,"div",6),b(11,"i",7),d(12,"div",8)(13,"strong"),f(14),h(15,"translate"),p(),d(16,"p"),f(17),h(18,"translate"),p()()(),d(19,"div",9),Be(20,ane,24,10,"div",10,Jte),p(),d(22,"div",11)(23,"div",12)(24,"div",13),b(25,"i",14),p(),d(26,"div",15)(27,"h3"),f(28),h(29,"translate"),p(),d(30,"p"),f(31),h(32,"translate"),p(),d(33,"button",16),R("click",function(){return i.goToMySubscriptions()}),b(34,"i",17),f(35),h(36,"translate"),p()()()(),d(37,"div",18)(38,"button",19),R("click",function(){return i.goToSubscribePlans()}),b(39,"i",20),f(40),h(41,"translate"),p()()()()),e&2&&(l(5),M(" ",m(6,8,"paymentMethods.title")," "),l(3),O(m(9,10,"paymentMethods.subtitle")),l(6),O(m(15,12,"paymentMethods.importantNote.title")),l(3),O(m(18,14,"paymentMethods.importantNote.text")),l(3),je(i.paymentMethods),l(8),O(m(29,16,"paymentMethods.afterPayment.title")),l(3),O(m(32,18,"paymentMethods.afterPayment.text")),l(4),M(" ",m(36,20,"paymentMethods.afterPayment.button")," "),l(5),M(" ",m(41,22,"paymentMethods.backToPlans")," "))},dependencies:[pe,gn,fe,_e],styles:[".payment-methods-container[_ngcontent-%COMP%]{width:100%;min-height:100vh;padding:64px 0;background:linear-gradient(180deg,#f6f7f9,#f3f1ec)}.container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:0 16px}.page-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:64px;padding-top:32px}.page-header[_ngcontent-%COMP%]   .page-title[_ngcontent-%COMP%]{font-size:2.5rem;font-weight:700;color:#0e3a5d;margin-bottom:8px;font-family:Cairo,sans-serif;display:flex;align-items:center;justify-content:center;gap:16px}.page-header[_ngcontent-%COMP%]   .page-title[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#c9a24d;font-size:2rem}.page-header[_ngcontent-%COMP%]   .page-subtitle[_ngcontent-%COMP%]{font-size:1.1rem;color:#0f172ab3;max-width:600px;margin:0 auto;font-family:Cairo,sans-serif}.important-note[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:16px;padding:32px;background:#c9a24d1a;border-radius:16px;border:1px solid rgba(201,162,77,.3);margin-bottom:64px}.important-note[_ngcontent-%COMP%] > i[_ngcontent-%COMP%]{color:#c9a24d;font-size:1.5rem;flex-shrink:0;margin-top:4px}.important-note[_ngcontent-%COMP%]   .note-content[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{display:block;color:#0e3a5d;font-size:1.1rem;margin-bottom:4px;font-family:Cairo,sans-serif}.important-note[_ngcontent-%COMP%]   .note-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#0f172acc;margin:0;font-family:Cairo,sans-serif;line-height:1.6}.payment-methods-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(350px,1fr));gap:32px;margin-bottom:64px}.payment-method-card[_ngcontent-%COMP%]{background:#fff;border-radius:16px;overflow:hidden;box-shadow:0 4px 8px #00000026;border:1px solid rgba(14,58,93,.1);transition:all .3s ease}.payment-method-card[_ngcontent-%COMP%]:hover{transform:translateY(-3px);box-shadow:0 8px 16px #0003}.payment-method-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:16px;padding:32px;background:linear-gradient(135deg,#0e3a5d,#1e5c8a);color:#fff}.payment-method-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .method-icon[_ngcontent-%COMP%]{width:56px;height:56px;display:flex;align-items:center;justify-content:center;background:#ffffff26;border-radius:8px;flex-shrink:0}.payment-method-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .method-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.8rem}.payment-method-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .method-icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:36px;height:36px;object-fit:contain}.payment-method-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .method-info[_ngcontent-%COMP%]{flex:1}.payment-method-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .method-info[_ngcontent-%COMP%]   .method-name[_ngcontent-%COMP%]{font-size:1.3rem;font-weight:700;margin:0 0 4px;font-family:Cairo,sans-serif}.payment-method-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .method-info[_ngcontent-%COMP%]   .method-description[_ngcontent-%COMP%]{font-size:.9rem;opacity:.9;margin:0;font-family:Cairo,sans-serif}.payment-method-card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{padding:32px}.payment-method-card[_ngcontent-%COMP%]   .details-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px;margin-bottom:32px}.payment-method-card[_ngcontent-%COMP%]   .detail-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:4px;padding:16px;background:#f6f7f980;border-radius:8px}.payment-method-card[_ngcontent-%COMP%]   .detail-item[_ngcontent-%COMP%]   .detail-label[_ngcontent-%COMP%]{font-size:.85rem;color:#0f172a99;font-weight:600;font-family:Cairo,sans-serif}.payment-method-card[_ngcontent-%COMP%]   .detail-item[_ngcontent-%COMP%]   .detail-value-wrapper[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;gap:8px}.payment-method-card[_ngcontent-%COMP%]   .detail-item[_ngcontent-%COMP%]   .detail-value-wrapper[_ngcontent-%COMP%]   .detail-value[_ngcontent-%COMP%]{font-size:1rem;font-weight:600;color:#0e3a5d;font-family:Cairo,sans-serif;word-break:break-all}.payment-method-card[_ngcontent-%COMP%]   .detail-item[_ngcontent-%COMP%]   .detail-value-wrapper[_ngcontent-%COMP%]   .btn-copy[_ngcontent-%COMP%]{width:36px;height:36px;display:flex;align-items:center;justify-content:center;border:none;background:#c9a24d1a;color:#c9a24d;border-radius:4px;cursor:pointer;transition:all .2s ease;flex-shrink:0}.payment-method-card[_ngcontent-%COMP%]   .detail-item[_ngcontent-%COMP%]   .detail-value-wrapper[_ngcontent-%COMP%]   .btn-copy[_ngcontent-%COMP%]:hover{background:#c9a24d;color:#fff}.payment-method-card[_ngcontent-%COMP%]   .detail-item[_ngcontent-%COMP%]   .detail-value-wrapper[_ngcontent-%COMP%]   .btn-copy.copied[_ngcontent-%COMP%]{background:#16a34a;color:#fff}.payment-method-card[_ngcontent-%COMP%]   .instructions[_ngcontent-%COMP%]{padding-top:16px;border-top:1px solid rgba(14,58,93,.1)}.payment-method-card[_ngcontent-%COMP%]   .instructions[_ngcontent-%COMP%]   .instructions-title[_ngcontent-%COMP%]{font-size:1rem;font-weight:700;color:#0e3a5d;margin-bottom:16px;font-family:Cairo,sans-serif;display:flex;align-items:center;gap:8px}.payment-method-card[_ngcontent-%COMP%]   .instructions[_ngcontent-%COMP%]   .instructions-title[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#c9a24d;font-size:.9rem}.payment-method-card[_ngcontent-%COMP%]   .instructions[_ngcontent-%COMP%]   .instructions-list[_ngcontent-%COMP%]{padding-right:32px;margin:0}.payment-method-card[_ngcontent-%COMP%]   .instructions[_ngcontent-%COMP%]   .instructions-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:.95rem;color:#0f172acc;font-family:Cairo,sans-serif;margin-bottom:8px;line-height:1.5}.payment-method-card[_ngcontent-%COMP%]   .instructions[_ngcontent-%COMP%]   .instructions-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:last-child{margin-bottom:0}.after-payment-section[_ngcontent-%COMP%]{margin-bottom:64px}.after-payment-card[_ngcontent-%COMP%]{display:flex;align-items:center;gap:64px;padding:64px;background:linear-gradient(135deg,#c9a24d,#a8832f);border-radius:16px;color:#fff}.after-payment-card[_ngcontent-%COMP%]   .after-payment-icon[_ngcontent-%COMP%]{width:80px;height:80px;display:flex;align-items:center;justify-content:center;background:#ffffff26;border-radius:50%;flex-shrink:0}.after-payment-card[_ngcontent-%COMP%]   .after-payment-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:2.5rem}.after-payment-card[_ngcontent-%COMP%]   .after-payment-content[_ngcontent-%COMP%]{flex:1}.after-payment-card[_ngcontent-%COMP%]   .after-payment-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;margin:0 0 8px;font-family:Cairo,sans-serif}.after-payment-card[_ngcontent-%COMP%]   .after-payment-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem;opacity:.9;margin:0 0 32px;font-family:Cairo,sans-serif;line-height:1.6}.after-payment-card[_ngcontent-%COMP%]   .after-payment-content[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{background:#fff;color:#c9a24d}.after-payment-card[_ngcontent-%COMP%]   .after-payment-content[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover{background:#ffffffe6}.cta-section[_ngcontent-%COMP%]{text-align:center}.btn[_ngcontent-%COMP%]{display:inline-flex;align-items:center;justify-content:center;gap:8px;padding:8px 32px;border:none;border-radius:8px;font-weight:600;font-size:1rem;font-family:Cairo,sans-serif;cursor:pointer;transition:all .2s ease;text-decoration:none}.btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.9em}.btn.btn-primary[_ngcontent-%COMP%]{background:#c9a24d;color:#fff}.btn.btn-primary[_ngcontent-%COMP%]:hover{background:#a8832f}.btn.btn-outline[_ngcontent-%COMP%]{background:transparent;border:2px solid #0E3A5D;color:#0e3a5d}.btn.btn-outline[_ngcontent-%COMP%]:hover{background:#0e3a5d;color:#fff}@media (max-width: 991.98px){.payment-methods-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}@media (max-width: 767.98px){.payment-methods-container[_ngcontent-%COMP%]{padding:32px 0}.page-header[_ngcontent-%COMP%]{padding-top:16px}.page-header[_ngcontent-%COMP%]   .page-title[_ngcontent-%COMP%]{font-size:1.75rem;flex-direction:column;gap:8px}.page-header[_ngcontent-%COMP%]   .page-title[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.5rem}.page-header[_ngcontent-%COMP%]   .page-subtitle[_ngcontent-%COMP%]{font-size:1rem}.important-note[_ngcontent-%COMP%]{flex-direction:column;text-align:center}.important-note[_ngcontent-%COMP%] > i[_ngcontent-%COMP%]{margin-top:0}.payment-method-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%], .after-payment-card[_ngcontent-%COMP%]{flex-direction:column;text-align:center}.after-payment-card[_ngcontent-%COMP%]   .after-payment-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:16px}}"]})};var cne=(n,t)=>t.key;function lne(n,t){if(n&1&&(d(0,"div",13)(1,"div",17)(2,"div",18),f(3),p(),d(4,"div",19),b(5,"i"),p(),d(6,"h2"),f(7),h(8,"translate"),p()(),d(9,"div",20)(10,"p"),f(11),h(12,"translate"),p()()()),n&2){let e=t.$implicit,i=t.$index;l(3),O(i+1),l(2),si(e.icon),l(2),O(m(8,5,"privacy.sections."+e.key+".title")),l(4),O(m(12,7,"privacy.sections."+e.key+".content"))}}var aC=class n{sections=[{key:"scope",icon:"fas fa-bullseye"},{key:"management",icon:"fas fa-tasks"},{key:"dataCollection",icon:"fas fa-database"},{key:"dataSharing",icon:"fas fa-share-alt"},{key:"dataProtection",icon:"fas fa-shield-alt"},{key:"dataAsAsset",icon:"fas fa-briefcase"},{key:"userRights",icon:"fas fa-user-check"},{key:"amendments",icon:"fas fa-edit"}];static \u0275fac=function(e){return new(e||n)};static \u0275cmp=ce({type:n,selectors:[["app-privacy-and-policy"]],decls:31,vars:15,consts:[[1,"legal-page"],[1,"legal-hero"],[1,"container"],[1,"hero-content"],[1,"hero-icon"],[1,"fas","fa-user-shield"],[1,"hero-subtitle"],[1,"date-badge"],[1,"fas","fa-calendar-alt"],[1,"legal-content"],[1,"row","justify-content-center"],[1,"col-12","col-lg-9"],[1,"intro-card"],[1,"legal-section"],[1,"back-section"],["routerLink","/home",1,"back-link"],[1,"fas","fa-arrow-right"],[1,"section-header"],[1,"section-number"],[1,"section-icon"],[1,"section-body"]],template:function(e,i){e&1&&(d(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),b(5,"i",5),p(),d(6,"h1"),f(7),h(8,"translate"),p(),d(9,"p",6),f(10),h(11,"translate"),p(),d(12,"span",7),b(13,"i",8),f(14),h(15,"translate"),p()()()(),d(16,"div",9)(17,"div",2)(18,"div",10)(19,"div",11)(20,"div",12)(21,"p"),f(22),h(23,"translate"),p()(),Be(24,lne,13,9,"div",13,cne),d(26,"div",14)(27,"a",15),b(28,"i",16),f(29),h(30,"translate"),p()()()()()()()),e&2&&(l(7),O(m(8,5,"privacy.title")),l(3),O(m(11,7,"privacy.subtitle")),l(4),M(" ",m(15,9,"privacy.lastUpdated")," "),l(8),O(m(23,11,"privacy.intro")),l(2),je(i.sections),l(5),M(" ",m(30,13,"not_found.go_home")," "))},dependencies:[pe,Ne,Ue,fe,_e],styles:['.legal-hero[_ngcontent-%COMP%]{background:linear-gradient(135deg,#0e3a5d,#071e2f);padding:4rem 0 3rem;position:relative;overflow:hidden}.legal-hero[_ngcontent-%COMP%]:before{content:"";position:absolute;top:-40%;right:-15%;width:45%;height:180%;background:radial-gradient(ellipse,rgba(201,162,77,.07) 0%,transparent 70%);pointer-events:none}.legal-hero[_ngcontent-%COMP%]   .hero-content[_ngcontent-%COMP%]{text-align:center;position:relative;z-index:1}.legal-hero[_ngcontent-%COMP%]   .hero-icon[_ngcontent-%COMP%]{width:64px;height:64px;border-radius:50%;background:#c9a24d26;border:2px solid rgba(201,162,77,.3);display:inline-flex;align-items:center;justify-content:center;margin-bottom:32px}.legal-hero[_ngcontent-%COMP%]   .hero-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.5rem;color:#c9a24d}.legal-hero[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2.4rem;font-weight:700;color:#fff;font-family:Cairo,sans-serif;margin-bottom:8px}.legal-hero[_ngcontent-%COMP%]   .hero-subtitle[_ngcontent-%COMP%]{font-size:1.05rem;color:#ffffffb3;font-family:Cairo,sans-serif;margin-bottom:32px}.legal-hero[_ngcontent-%COMP%]   .date-badge[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:8px;padding:4px 32px;background:#ffffff14;border:1px solid rgba(255,255,255,.15);border-radius:50px;color:#ffffffa6;font-size:.85rem;font-family:Cairo,sans-serif}.legal-content[_ngcontent-%COMP%]{padding:3rem 0 4rem;background:#f6f7f9}.intro-card[_ngcontent-%COMP%]{background:#fff;border-radius:16px;padding:2rem;margin-top:-2.5rem;position:relative;z-index:2;box-shadow:0 8px 16px #0003;border-right:4px solid #C9A24D;margin-bottom:2rem}.intro-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem;line-height:1.85;color:#0f172acc;font-family:Cairo,sans-serif;margin:0}.legal-section[_ngcontent-%COMP%]{background:#fff;border-radius:16px;box-shadow:0 1px 2px #0000001a;border:1px solid rgba(14,58,93,.06);margin-bottom:1.25rem;overflow:hidden;transition:box-shadow .25s ease}.legal-section[_ngcontent-%COMP%]:hover{box-shadow:0 4px 8px #00000026}.legal-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:16px;padding:1.25rem 1.5rem;background:#0e3a5d08;border-bottom:1px solid rgba(14,58,93,.06)}.legal-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   .section-number[_ngcontent-%COMP%]{width:32px;height:32px;border-radius:50%;background:linear-gradient(135deg,#c9a24d,#a8832f);color:#fff;display:flex;align-items:center;justify-content:center;font-weight:700;font-size:.85rem;font-family:Cairo,sans-serif;flex-shrink:0}.legal-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   .section-icon[_ngcontent-%COMP%]{width:36px;height:36px;border-radius:8px;background:#0e3a5d14;display:flex;align-items:center;justify-content:center;flex-shrink:0}.legal-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   .section-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.9rem;color:#0e3a5d}.legal-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:700;color:#0e3a5d;font-family:Cairo,sans-serif;margin:0;flex:1}.legal-section[_ngcontent-%COMP%]   .section-body[_ngcontent-%COMP%]{padding:1.25rem 1.5rem}.legal-section[_ngcontent-%COMP%]   .section-body[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.95rem;line-height:1.9;color:#0f172abf;font-family:Cairo,sans-serif;margin:0}.back-section[_ngcontent-%COMP%]{text-align:center;margin-top:2.5rem}.back-section[_ngcontent-%COMP%]   .back-link[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:8px;padding:16px 64px;background:#fff;color:#0e3a5d;border:2px solid rgba(14,58,93,.15);border-radius:8px;font-weight:600;font-size:.95rem;font-family:Cairo,sans-serif;text-decoration:none;transition:all .25s ease}.back-section[_ngcontent-%COMP%]   .back-link[_ngcontent-%COMP%]:hover{border-color:#c9a24d;color:#c9a24d;transform:translateY(-2px);box-shadow:0 1px 2px #0000001a}.back-section[_ngcontent-%COMP%]   .back-link[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.85rem}@media (max-width: 767.98px){.legal-hero[_ngcontent-%COMP%]{padding:3rem 0 2rem}.legal-hero[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.75rem}.legal-hero[_ngcontent-%COMP%]   .hero-icon[_ngcontent-%COMP%]{width:52px;height:52px}.legal-hero[_ngcontent-%COMP%]   .hero-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.2rem}.intro-card[_ngcontent-%COMP%]{padding:1.5rem;margin-top:-2rem}.legal-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]{padding:1rem 1.25rem;flex-wrap:wrap}.legal-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   .section-icon[_ngcontent-%COMP%]{display:none}.legal-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1rem}.legal-section[_ngcontent-%COMP%]   .section-body[_ngcontent-%COMP%]{padding:1rem 1.25rem}.legal-section[_ngcontent-%COMP%]   .section-body[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9rem}}']})};var dne=(n,t)=>t.key;function une(n,t){if(n&1&&(d(0,"div",13)(1,"div",17)(2,"div",18),f(3),p(),d(4,"div",19),b(5,"i"),p(),d(6,"h2"),f(7),h(8,"translate"),p()(),d(9,"div",20)(10,"p"),f(11),h(12,"translate"),p()()()),n&2){let e=t.$implicit,i=t.$index;l(3),O(i+1),l(2),si(e.icon),l(2),O(m(8,5,"terms.sections."+e.key+".title")),l(4),O(m(12,7,"terms.sections."+e.key+".content"))}}var cC=class n{sections=[{key:"acceptance",icon:"fas fa-handshake"},{key:"services",icon:"fas fa-cogs"},{key:"accounts",icon:"fas fa-user-circle"},{key:"subscriptions",icon:"fas fa-credit-card"},{key:"obligations",icon:"fas fa-clipboard-check"},{key:"intellectualProperty",icon:"fas fa-copyright"},{key:"liability",icon:"fas fa-exclamation-triangle"},{key:"law",icon:"fas fa-gavel"}];static \u0275fac=function(e){return new(e||n)};static \u0275cmp=ce({type:n,selectors:[["app-terms-and-conditions"]],decls:31,vars:15,consts:[[1,"legal-page"],[1,"legal-hero"],[1,"container"],[1,"hero-content"],[1,"hero-icon"],[1,"fas","fa-file-contract"],[1,"hero-subtitle"],[1,"date-badge"],[1,"fas","fa-calendar-alt"],[1,"legal-content"],[1,"row","justify-content-center"],[1,"col-12","col-lg-9"],[1,"intro-card"],[1,"legal-section"],[1,"back-section"],["routerLink","/home",1,"back-link"],[1,"fas","fa-arrow-right"],[1,"section-header"],[1,"section-number"],[1,"section-icon"],[1,"section-body"]],template:function(e,i){e&1&&(d(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),b(5,"i",5),p(),d(6,"h1"),f(7),h(8,"translate"),p(),d(9,"p",6),f(10),h(11,"translate"),p(),d(12,"span",7),b(13,"i",8),f(14),h(15,"translate"),p()()()(),d(16,"div",9)(17,"div",2)(18,"div",10)(19,"div",11)(20,"div",12)(21,"p"),f(22),h(23,"translate"),p()(),Be(24,une,13,9,"div",13,dne),d(26,"div",14)(27,"a",15),b(28,"i",16),f(29),h(30,"translate"),p()()()()()()()),e&2&&(l(7),O(m(8,5,"terms.title")),l(3),O(m(11,7,"terms.subtitle")),l(4),M(" ",m(15,9,"terms.lastUpdated")," "),l(8),O(m(23,11,"terms.intro")),l(2),je(i.sections),l(5),M(" ",m(30,13,"not_found.go_home")," "))},dependencies:[pe,Ne,Ue,fe,_e],styles:['.legal-hero[_ngcontent-%COMP%]{background:linear-gradient(135deg,#0e3a5d,#071e2f);padding:4rem 0 3rem;position:relative;overflow:hidden}.legal-hero[_ngcontent-%COMP%]:before{content:"";position:absolute;top:-40%;right:-15%;width:45%;height:180%;background:radial-gradient(ellipse,rgba(201,162,77,.07) 0%,transparent 70%);pointer-events:none}.legal-hero[_ngcontent-%COMP%]   .hero-content[_ngcontent-%COMP%]{text-align:center;position:relative;z-index:1}.legal-hero[_ngcontent-%COMP%]   .hero-icon[_ngcontent-%COMP%]{width:64px;height:64px;border-radius:50%;background:#c9a24d26;border:2px solid rgba(201,162,77,.3);display:inline-flex;align-items:center;justify-content:center;margin-bottom:32px}.legal-hero[_ngcontent-%COMP%]   .hero-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.5rem;color:#c9a24d}.legal-hero[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2.4rem;font-weight:700;color:#fff;font-family:Cairo,sans-serif;margin-bottom:8px}.legal-hero[_ngcontent-%COMP%]   .hero-subtitle[_ngcontent-%COMP%]{font-size:1.05rem;color:#ffffffb3;font-family:Cairo,sans-serif;margin-bottom:32px}.legal-hero[_ngcontent-%COMP%]   .date-badge[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:8px;padding:4px 32px;background:#ffffff14;border:1px solid rgba(255,255,255,.15);border-radius:50px;color:#ffffffa6;font-size:.85rem;font-family:Cairo,sans-serif}.legal-content[_ngcontent-%COMP%]{padding:3rem 0 4rem;background:#f6f7f9}.intro-card[_ngcontent-%COMP%]{background:#fff;border-radius:16px;padding:2rem;margin-top:-2.5rem;position:relative;z-index:2;box-shadow:0 8px 16px #0003;border-right:4px solid #C9A24D;margin-bottom:2rem}.intro-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem;line-height:1.85;color:#0f172acc;font-family:Cairo,sans-serif;margin:0}.legal-section[_ngcontent-%COMP%]{background:#fff;border-radius:16px;box-shadow:0 1px 2px #0000001a;border:1px solid rgba(14,58,93,.06);margin-bottom:1.25rem;overflow:hidden;transition:box-shadow .25s ease}.legal-section[_ngcontent-%COMP%]:hover{box-shadow:0 4px 8px #00000026}.legal-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:16px;padding:1.25rem 1.5rem;background:#0e3a5d08;border-bottom:1px solid rgba(14,58,93,.06)}.legal-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   .section-number[_ngcontent-%COMP%]{width:32px;height:32px;border-radius:50%;background:linear-gradient(135deg,#c9a24d,#a8832f);color:#fff;display:flex;align-items:center;justify-content:center;font-weight:700;font-size:.85rem;font-family:Cairo,sans-serif;flex-shrink:0}.legal-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   .section-icon[_ngcontent-%COMP%]{width:36px;height:36px;border-radius:8px;background:#0e3a5d14;display:flex;align-items:center;justify-content:center;flex-shrink:0}.legal-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   .section-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.9rem;color:#0e3a5d}.legal-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:700;color:#0e3a5d;font-family:Cairo,sans-serif;margin:0;flex:1}.legal-section[_ngcontent-%COMP%]   .section-body[_ngcontent-%COMP%]{padding:1.25rem 1.5rem}.legal-section[_ngcontent-%COMP%]   .section-body[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.95rem;line-height:1.9;color:#0f172abf;font-family:Cairo,sans-serif;margin:0}.back-section[_ngcontent-%COMP%]{text-align:center;margin-top:2.5rem}.back-section[_ngcontent-%COMP%]   .back-link[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:8px;padding:16px 64px;background:#fff;color:#0e3a5d;border:2px solid rgba(14,58,93,.15);border-radius:8px;font-weight:600;font-size:.95rem;font-family:Cairo,sans-serif;text-decoration:none;transition:all .25s ease}.back-section[_ngcontent-%COMP%]   .back-link[_ngcontent-%COMP%]:hover{border-color:#c9a24d;color:#c9a24d;transform:translateY(-2px);box-shadow:0 1px 2px #0000001a}.back-section[_ngcontent-%COMP%]   .back-link[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.85rem}@media (max-width: 767.98px){.legal-hero[_ngcontent-%COMP%]{padding:3rem 0 2rem}.legal-hero[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.75rem}.legal-hero[_ngcontent-%COMP%]   .hero-icon[_ngcontent-%COMP%]{width:52px;height:52px}.legal-hero[_ngcontent-%COMP%]   .hero-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.2rem}.intro-card[_ngcontent-%COMP%]{padding:1.5rem;margin-top:-2rem}.legal-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]{padding:1rem 1.25rem;flex-wrap:wrap}.legal-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   .section-icon[_ngcontent-%COMP%]{display:none}.legal-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1rem}.legal-section[_ngcontent-%COMP%]   .section-body[_ngcontent-%COMP%]{padding:1rem 1.25rem}.legal-section[_ngcontent-%COMP%]   .section-body[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9rem}}']})};var vx=Un(jn());var Td=class n{constructor(t,e){this.database=t;this.injector=e}createBooking(t){return re(()=>Y(this.injector,()=>{let e=le(this.database,"bookings"),i={name:t.name,phone:t.phone,courseName:t.courseName,numberOfTrainees:t.numberOfTrainees,trainingPeriod:t.trainingPeriod,notes:t.notes||"",createdAt:new Date().toISOString()};return X(pi(e,i)).pipe(H(o=>{let r=o.key||"";return ae(j({},i),{bookingId:r})}))}))}deleteBooking(t){return re(()=>Y(this.injector,()=>{let e=le(this.database,`bookings/${t}`);return X(On(e))}))}getAllBookings(){return re(()=>Y(this.injector,()=>{let t=le(this.database,"bookings");return new ve(e=>{Bn(t,i=>{if(!i.exists()){e.next([]);return}let o=i.val(),r=[];Object.keys(o).forEach(s=>{r.push(ae(j({},o[s]),{bookingId:s}))}),r.sort((s,a)=>new Date(a.createdAt).getTime()-new Date(s.createdAt).getTime()),e.next(r)},i=>{console.error("Error fetching bookings:",i),e.error(i)})})}))}getAllBookingsOnce(){return re(()=>Y(this.injector,()=>{let t=le(this.database,"bookings");return X($t(t)).pipe(H(e=>{if(!e.exists())return[];let i=e.val(),o=[];return Object.keys(i).forEach(r=>{o.push(ae(j({},i[r]),{bookingId:r}))}),o.sort((r,s)=>new Date(s.createdAt).getTime()-new Date(r.createdAt).getTime()),o}))}))}static \u0275fac=function(e){return new(e||n)(Z(hn),Z(ze))};static \u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"})};function pne(n,t){n&1&&(d(0,"div",21),f(1),h(2,"translate"),p()),n&2&&(l(),O(m(2,1,"booking.nameRequired")))}function fne(n,t){n&1&&(d(0,"div",21),f(1),h(2,"translate"),p()),n&2&&(l(),O(m(2,1,"booking.nameMinLength")))}function gne(n,t){n&1&&(d(0,"div",21),f(1),h(2,"translate"),p()),n&2&&(l(),O(m(2,1,"booking.phoneRequired")))}function hne(n,t){n&1&&(d(0,"div",21),f(1),h(2,"translate"),p()),n&2&&(l(),O(m(2,1,"booking.phoneInvalid")))}function mne(n,t){n&1&&(d(0,"div",21),f(1),h(2,"translate"),p()),n&2&&(l(),O(m(2,1,"booking.courseNameRequired")))}function _ne(n,t){n&1&&(d(0,"div",21),f(1),h(2,"translate"),p()),n&2&&(l(),O(m(2,1,"booking.courseNameMinLength")))}function Cne(n,t){n&1&&(d(0,"div",21),f(1),h(2,"translate"),p()),n&2&&(l(),O(m(2,1,"booking.numberOfTraineesRequired")))}function vne(n,t){n&1&&(d(0,"div",21),f(1),h(2,"translate"),p()),n&2&&(l(),O(m(2,1,"booking.numberOfTraineesMin")))}function bne(n,t){n&1&&(d(0,"div",21),f(1),h(2,"translate"),p()),n&2&&(l(),O(m(2,1,"booking.numberOfTraineesMax")))}function yne(n,t){n&1&&(d(0,"div",21),f(1),h(2,"translate"),p()),n&2&&(l(),O(m(2,1,"booking.trainingPeriodRequired")))}function Mne(n,t){n&1&&(b(0,"span",44),f(1),h(2,"translate")),n&2&&(l(),M(" ",m(2,1,"booking.submitting")," "))}function Pne(n,t){n&1&&(b(0,"i",45),f(1),h(2,"translate")),n&2&&(l(),M(" ",m(2,1,"booking.submit")," "))}var lC=class n{constructor(t,e){this.bookings=t;this.translateService=e;this.bookingForm=new Od({name:new Eo("",[te.required,te.minLength(3)]),phone:new Eo("",[te.required,te.pattern(/^[0-9]{10,15}$/)]),courseName:new Eo("",[te.required,te.minLength(3)]),numberOfTrainees:new Eo(1,[te.required,te.min(1),te.max(500)]),trainingPeriod:new Eo("",[te.required]),notes:new Eo("")})}bookingForm;isSubmitting=!1;isSubmitted=!1;onSubmit(){if(this.bookingForm.invalid){Object.keys(this.bookingForm.controls).forEach(e=>{this.bookingForm.get(e)?.markAsTouched()});return}this.isSubmitting=!0;let t=this.bookingForm.value;this.bookings.createBooking({name:t.name,phone:t.phone,courseName:t.courseName,numberOfTrainees:t.numberOfTrainees,trainingPeriod:t.trainingPeriod,notes:t.notes||""}).subscribe({next:()=>{this.isSubmitting=!1,this.isSubmitted=!0,this.bookingForm.reset({numberOfTrainees:1,trainingPeriod:""}),vx.default.fire({icon:"success",title:this.translateService.instant("booking.successTitle"),text:this.translateService.instant("booking.successMessage"),confirmButtonText:this.translateService.instant("booking.ok"),customClass:{popup:"ankh-swal-popup",title:"ankh-swal-title",confirmButton:"ankh-swal-confirm"}})},error:e=>{console.error("Error creating booking:",e),this.isSubmitting=!1,vx.default.fire({icon:"error",title:this.translateService.instant("booking.errorTitle"),text:this.translateService.instant("booking.errorMessage"),confirmButtonText:this.translateService.instant("booking.ok"),customClass:{popup:"ankh-swal-popup",title:"ankh-swal-title",confirmButton:"ankh-swal-confirm"}})}})}hasError(t,e){let i=this.bookingForm.get(t);return!!(i&&i.hasError(e)&&i.touched)}static \u0275fac=function(e){return new(e||n)(A(Td),A(Pi))};static \u0275cmp=ce({type:n,selectors:[["app-booking"]],decls:135,vars:101,consts:[[1,"booking-page"],[1,"booking-hero"],[1,"container"],[1,"hero-content"],[1,"hero-badge"],[1,"fas","fa-chalkboard-teacher"],[1,"hero-title"],[1,"hero-subtitle"],[1,"booking-form-section"],[1,"row","justify-content-center"],[1,"col-12","col-lg-8"],[1,"form-card"],[1,"form-header"],[1,"form-icon"],[1,"fas","fa-calendar-check"],[1,"booking-form",3,"ngSubmit","formGroup"],[1,"form-group"],[1,"form-label"],[1,"fas","fa-user"],[1,"required"],["type","text","formControlName","name",1,"form-control",3,"placeholder"],[1,"invalid-feedback"],[1,"fas","fa-phone"],["type","tel","formControlName","phone",1,"form-control",3,"placeholder"],[1,"fas","fa-book"],["type","text","formControlName","courseName",1,"form-control",3,"placeholder"],[1,"fas","fa-users"],["type","number","formControlName","numberOfTrainees","min","1","max","500",1,"form-control",3,"placeholder"],[1,"fas","fa-clock"],["formControlName","trainingPeriod",1,"form-control","form-select"],["value","","disabled",""],["value","morning"],["value","evening"],[1,"fas","fa-sticky-note"],[1,"optional-badge"],["formControlName","notes","rows","4",1,"form-control",3,"placeholder"],["type","submit",1,"btn-submit",3,"disabled"],[1,"info-cards"],[1,"row","g-3"],[1,"col-12","col-md-4"],[1,"info-card"],[1,"fas","fa-headset"],[1,"fas","fa-certificate"],[1,"fas","fa-map-marker-alt"],[1,"spinner-border","spinner-border-sm"],[1,"fas","fa-paper-plane"]],template:function(e,i){e&1&&(d(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"span",4),b(5,"i",5),f(6),h(7,"translate"),p(),d(8,"h1",6),f(9),h(10,"translate"),p(),d(11,"p",7),f(12),h(13,"translate"),p()()()(),d(14,"div",8)(15,"div",2)(16,"div",9)(17,"div",10)(18,"div",11)(19,"div",12)(20,"div",13),b(21,"i",14),p(),d(22,"h2"),f(23),h(24,"translate"),p(),d(25,"p"),f(26),h(27,"translate"),p()(),d(28,"form",15),R("ngSubmit",function(){return i.onSubmit()}),d(29,"div",16)(30,"label",17),b(31,"i",18),f(32),h(33,"translate"),d(34,"span",19),f(35,"*"),p()(),b(36,"input",20),h(37,"translate"),T(38,pne,3,3,"div",21),T(39,fne,3,3,"div",21),p(),d(40,"div",16)(41,"label",17),b(42,"i",22),f(43),h(44,"translate"),d(45,"span",19),f(46,"*"),p()(),b(47,"input",23),h(48,"translate"),T(49,gne,3,3,"div",21),T(50,hne,3,3,"div",21),p(),d(51,"div",16)(52,"label",17),b(53,"i",24),f(54),h(55,"translate"),d(56,"span",19),f(57,"*"),p()(),b(58,"input",25),h(59,"translate"),T(60,mne,3,3,"div",21),T(61,_ne,3,3,"div",21),p(),d(62,"div",16)(63,"label",17),b(64,"i",26),f(65),h(66,"translate"),d(67,"span",19),f(68,"*"),p()(),b(69,"input",27),h(70,"translate"),T(71,Cne,3,3,"div",21),T(72,vne,3,3,"div",21),T(73,bne,3,3,"div",21),p(),d(74,"div",16)(75,"label",17),b(76,"i",28),f(77),h(78,"translate"),d(79,"span",19),f(80,"*"),p()(),d(81,"select",29)(82,"option",30),f(83),h(84,"translate"),p(),d(85,"option",31),f(86),h(87,"translate"),p(),d(88,"option",32),f(89),h(90,"translate"),p()(),T(91,yne,3,3,"div",21),p(),d(92,"div",16)(93,"label",17),b(94,"i",33),f(95),h(96,"translate"),d(97,"span",34),f(98),h(99,"translate"),p()(),d(100,"textarea",35),h(101,"translate"),f(102,"                "),p()(),d(103,"button",36),T(104,Mne,3,3)(105,Pne,3,3),p()()(),d(106,"div",37)(107,"div",38)(108,"div",39)(109,"div",40),b(110,"i",41),d(111,"h4"),f(112),h(113,"translate"),p(),d(114,"p"),f(115),h(116,"translate"),p()()(),d(117,"div",39)(118,"div",40),b(119,"i",42),d(120,"h4"),f(121),h(122,"translate"),p(),d(123,"p"),f(124),h(125,"translate"),p()()(),d(126,"div",39)(127,"div",40),b(128,"i",43),d(129,"h4"),f(130),h(131,"translate"),p(),d(132,"p"),f(133),h(134,"translate"),p()()()()()()()()()()),e&2&&(l(6),M(" ",m(7,49,"booking.badge")," "),l(3),O(m(10,51,"booking.title")),l(3),O(m(13,53,"booking.subtitle")),l(11),O(m(24,55,"booking.formTitle")),l(3),O(m(27,57,"booking.formSubtitle")),l(2),E("formGroup",i.bookingForm),l(4),M(" ",m(33,59,"booking.name")," "),l(4),V("is-invalid",i.hasError("name","required")||i.hasError("name","minlength")),E("placeholder",m(37,61,"booking.namePlaceholder")),l(2),D(i.hasError("name","required")?38:-1),l(),D(i.hasError("name","minlength")?39:-1),l(4),M(" ",m(44,63,"booking.phone")," "),l(4),V("is-invalid",i.hasError("phone","required")||i.hasError("phone","pattern")),E("placeholder",m(48,65,"booking.phonePlaceholder")),l(2),D(i.hasError("phone","required")?49:-1),l(),D(i.hasError("phone","pattern")?50:-1),l(4),M(" ",m(55,67,"booking.courseName")," "),l(4),V("is-invalid",i.hasError("courseName","required")||i.hasError("courseName","minlength")),E("placeholder",m(59,69,"booking.courseNamePlaceholder")),l(2),D(i.hasError("courseName","required")?60:-1),l(),D(i.hasError("courseName","minlength")?61:-1),l(4),M(" ",m(66,71,"booking.numberOfTrainees")," "),l(4),V("is-invalid",i.hasError("numberOfTrainees","required")||i.hasError("numberOfTrainees","min")||i.hasError("numberOfTrainees","max")),E("placeholder",m(70,73,"booking.numberOfTraineesPlaceholder")),l(2),D(i.hasError("numberOfTrainees","required")?71:-1),l(),D(i.hasError("numberOfTrainees","min")?72:-1),l(),D(i.hasError("numberOfTrainees","max")?73:-1),l(4),M(" ",m(78,75,"booking.trainingPeriod")," "),l(4),V("is-invalid",i.hasError("trainingPeriod","required")),l(2),O(m(84,77,"booking.selectPeriod")),l(3),O(m(87,79,"booking.morning")),l(3),O(m(90,81,"booking.evening")),l(2),D(i.hasError("trainingPeriod","required")?91:-1),l(4),M(" ",m(96,83,"booking.notes")," "),l(3),O(m(99,85,"booking.optional")),l(2),E("placeholder",m(101,87,"booking.notesPlaceholder")),l(3),E("disabled",i.isSubmitting),l(),D(i.isSubmitting?104:105),l(8),O(m(113,89,"booking.info.support.title")),l(3),O(m(116,91,"booking.info.support.description")),l(6),O(m(122,93,"booking.info.certified.title")),l(3),O(m(125,95,"booking.info.certified.description")),l(6),O(m(131,97,"booking.info.location.title")),l(3),O(m(134,99,"booking.info.location.description")))},dependencies:[pe,an,sn,zi,Bi,ht,no,gi,bt,rn,tr,Mf,Wt,Zt,Ne,fe,_e],styles:[`.booking-hero[_ngcontent-%COMP%]{background:linear-gradient(135deg,#0e3a5d,#071e2f);padding:4rem 0 3rem;position:relative;overflow:hidden}.booking-hero[_ngcontent-%COMP%]:before{content:"";position:absolute;top:-50%;right:-20%;width:50%;height:200%;background:radial-gradient(ellipse,rgba(201,162,77,.08) 0%,transparent 70%);pointer-events:none}.booking-hero[_ngcontent-%COMP%]   .hero-content[_ngcontent-%COMP%]{text-align:center;position:relative;z-index:1}.booking-hero[_ngcontent-%COMP%]   .hero-badge[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:8px;padding:8px 32px;background:#c9a24d26;border:1px solid rgba(201,162,77,.3);border-radius:50px;color:#c9a24d;font-weight:600;font-size:.9rem;font-family:Cairo,sans-serif;margin-bottom:32px}.booking-hero[_ngcontent-%COMP%]   .hero-title[_ngcontent-%COMP%]{font-size:2.5rem;font-weight:700;color:#fff;font-family:Cairo,sans-serif;margin-bottom:16px}.booking-hero[_ngcontent-%COMP%]   .hero-subtitle[_ngcontent-%COMP%]{font-size:1.1rem;color:#ffffffbf;font-family:Cairo,sans-serif;max-width:600px;margin:0 auto}.booking-form-section[_ngcontent-%COMP%]{padding:5rem 0;background:#f6f7f9}.form-card[_ngcontent-%COMP%]{background:#fff;border-radius:16px;box-shadow:0 8px 16px #0003;border:1px solid rgba(14,58,93,.08);overflow:hidden;margin-top:-3rem;position:relative;z-index:2}.form-header[_ngcontent-%COMP%]{text-align:center;padding:2rem 2rem 1rem;border-bottom:1px solid rgba(14,58,93,.08);background:#c9a24d08}.form-header[_ngcontent-%COMP%]   .form-icon[_ngcontent-%COMP%]{width:56px;height:56px;border-radius:50%;background:linear-gradient(135deg,#c9a24d,#a8832f);display:inline-flex;align-items:center;justify-content:center;margin-bottom:16px}.form-header[_ngcontent-%COMP%]   .form-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.4rem;color:#fff}.form-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;color:#0e3a5d;font-family:Cairo,sans-serif;margin-bottom:4px}.form-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.95rem;color:#0f172a99;font-family:Cairo,sans-serif;margin:0}.booking-form[_ngcontent-%COMP%]{padding:2rem}.form-group[_ngcontent-%COMP%]{margin-bottom:1.5rem}.form-group[_ngcontent-%COMP%]   .form-label[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;font-weight:600;font-size:.95rem;color:#0e3a5d;font-family:Cairo,sans-serif;margin-bottom:8px}.form-group[_ngcontent-%COMP%]   .form-label[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#c9a24d;font-size:.9rem;width:18px;text-align:center}.form-group[_ngcontent-%COMP%]   .form-label[_ngcontent-%COMP%]   .required[_ngcontent-%COMP%]{color:#dc2626;font-size:1rem}.form-group[_ngcontent-%COMP%]   .form-label[_ngcontent-%COMP%]   .optional-badge[_ngcontent-%COMP%]{font-size:.75rem;font-weight:400;color:#0f172a80;background:#0f172a0f;padding:2px 8px;border-radius:10px;margin-right:auto}.form-group[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{width:100%;padding:16px;border:2px solid rgba(14,58,93,.15);border-radius:8px;font-size:1rem;font-family:Cairo,sans-serif;color:#0f172a;background:#fff;transition:all .25s ease}.form-group[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]::placeholder{color:#0f172a66}.form-group[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:focus{outline:none;border-color:#c9a24d;box-shadow:0 0 0 3px #c9a24d1a}.form-group[_ngcontent-%COMP%]   .form-control.is-invalid[_ngcontent-%COMP%]{border-color:#dc2626}.form-group[_ngcontent-%COMP%]   .form-control.is-invalid[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 3px #dc26261a}.form-group[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%]{appearance:none;background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' fill='%230E3A5D' viewBox='0 0 16 16'%3E%3Cpath d='M7.247 11.14L2.451 5.658C1.885 5.013 2.345 4 3.204 4h9.592a1 1 0 0 1 .753 1.659l-4.796 5.48a1 1 0 0 1-1.506 0z'/%3E%3C/svg%3E");background-repeat:no-repeat;background-position:left 1rem center;padding-left:2.5rem}.form-group[_ngcontent-%COMP%]   textarea.form-control[_ngcontent-%COMP%]{resize:vertical;min-height:100px}.form-group[_ngcontent-%COMP%]   .invalid-feedback[_ngcontent-%COMP%]{display:block;font-size:.85rem;color:#dc2626;font-family:Cairo,sans-serif;margin-top:4px}.form-group[_ngcontent-%COMP%]   .invalid-feedback[_ngcontent-%COMP%]:before{content:"\\f071";font-family:"Font Awesome 5 Free";font-weight:900;margin-left:4px;font-size:.75rem}.btn-submit[_ngcontent-%COMP%]{width:100%;padding:16px 32px;background:linear-gradient(135deg,#c9a24d,#a8832f);color:#fff;border:none;border-radius:8px;font-size:1.1rem;font-weight:700;font-family:Cairo,sans-serif;cursor:pointer;display:flex;align-items:center;justify-content:center;gap:8px;transition:all .3s ease;margin-top:32px}.btn-submit[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 8px 25px #c9a24d59}.btn-submit[_ngcontent-%COMP%]:disabled{opacity:.7;cursor:not-allowed}.btn-submit[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1rem}.info-cards[_ngcontent-%COMP%]{margin-top:2rem}.info-cards[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]{background:#fff;border-radius:16px;padding:1.5rem;text-align:center;border:1px solid rgba(14,58,93,.08);box-shadow:0 1px 2px #0000001a;transition:all .25s ease;height:100%}.info-cards[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]:hover{transform:translateY(-3px);box-shadow:0 4px 8px #00000026;border-color:#c9a24d33}.info-cards[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.8rem;color:#c9a24d;margin-bottom:16px}.info-cards[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1rem;font-weight:700;color:#0e3a5d;font-family:Cairo,sans-serif;margin-bottom:4px}.info-cards[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.85rem;color:#0f172a99;font-family:Cairo,sans-serif;margin:0}@media (max-width: 767.98px){.booking-hero[_ngcontent-%COMP%]{padding:3rem 0 2rem}.booking-hero[_ngcontent-%COMP%]   .hero-title[_ngcontent-%COMP%]{font-size:1.8rem}.booking-hero[_ngcontent-%COMP%]   .hero-subtitle[_ngcontent-%COMP%]{font-size:1rem}.form-card[_ngcontent-%COMP%]{margin-top:-2rem}.booking-form[_ngcontent-%COMP%]{padding:1.5rem}.form-header[_ngcontent-%COMP%]{padding:1.5rem 1.5rem .75rem}.form-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.25rem}}`]})};var dC=class n{constructor(t,e){this.router=t;this.location=e}goHome(){this.router.navigate(["/"])}goBack(){this.location.back()}static \u0275fac=function(e){return new(e||n)(A(He),A(_r))};static \u0275cmp=ce({type:n,selectors:[["app-not-found"]],decls:42,vars:22,consts:[[1,"not-found-hero"],["aria-hidden","true",1,"ankh-watermark"],[1,"container"],[1,"not-found-content"],[1,"brand-block"],["src","assets/logo-removebg-preview.png",1,"ankh-logo",3,"alt"],[1,"brand-name"],[1,"brand-tagline"],[1,"error-code"],[1,"four"],[1,"zero"],[1,"error-message"],[1,"error-title"],[1,"error-description"],[1,"error-actions"],["routerLink","/",1,"btn","btn-primary",3,"click"],[1,"fas","fa-home"],["type","button",1,"btn","btn-outline",3,"click"],[1,"fas","fa-arrow-right"],[1,"bg-shapes"],[1,"shape","shape-1"],[1,"shape","shape-2"],[1,"shape","shape-3"]],template:function(e,i){e&1&&(d(0,"div",0),b(1,"div",1),d(2,"div",2)(3,"div",3)(4,"div",4),b(5,"img",5),h(6,"translate"),d(7,"span",6),f(8),h(9,"translate"),p(),d(10,"span",7),f(11),h(12,"translate"),p()(),d(13,"div",8)(14,"span",9),f(15,"4"),p(),d(16,"span",10),f(17,"0"),p(),d(18,"span",9),f(19,"4"),p()(),d(20,"div",11)(21,"h1",12),f(22),h(23,"translate"),p(),d(24,"p",13),f(25),h(26,"translate"),p()(),d(27,"div",14)(28,"a",15),R("click",function(){return i.goHome()}),b(29,"i",16),d(30,"span"),f(31),h(32,"translate"),p()(),d(33,"button",17),R("click",function(){return i.goBack()}),b(34,"i",18),d(35,"span"),f(36),h(37,"translate"),p()()()()(),d(38,"div",19),b(39,"div",20)(40,"div",21)(41,"div",22),p()()),e&2&&(l(5),E("alt",ci(m(6,8,"not_found.brand"))),l(3),O(m(9,10,"not_found.brand")),l(3),O(m(12,12,"not_found.tagline")),l(11),O(m(23,14,"not_found.title")),l(3),O(m(26,16,"not_found.description")),l(6),O(m(32,18,"not_found.go_home")),l(5),O(m(37,20,"not_found.go_back")))},dependencies:[pe,Ne,Ue,fe,_e],styles:[".not-found-hero[_ngcontent-%COMP%]{min-height:100vh;background:linear-gradient(160deg,#071e2f,#0e3a5d 40%,#1e5c8a);display:flex;align-items:center;justify-content:center;position:relative;overflow:hidden;padding:64px 16px;font-family:Cairo,sans-serif}.ankh-watermark[_ngcontent-%COMP%]{position:absolute;inset:0;background:url(/assets/logo-removebg-preview.png) center/40% no-repeat;opacity:.04;pointer-events:none}.not-found-content[_ngcontent-%COMP%]{text-align:center;color:#fff;position:relative;z-index:2;max-width:560px;margin:0 auto}.brand-block[_ngcontent-%COMP%]{margin-bottom:64px}.brand-block[_ngcontent-%COMP%]   .ankh-logo[_ngcontent-%COMP%]{width:72px;height:72px;object-fit:contain;filter:drop-shadow(0 4px 12px rgba(201,162,77,.4));animation:_ngcontent-%COMP%_logoIn .8s ease-out}.brand-block[_ngcontent-%COMP%]   .brand-name[_ngcontent-%COMP%]{display:block;font-size:1.5rem;font-weight:700;color:#c9a24d;letter-spacing:.15em;margin-top:8px;text-shadow:0 0 20px rgba(201,162,77,.3);animation:_ngcontent-%COMP%_fadeInUp .6s ease-out .2s both}.brand-block[_ngcontent-%COMP%]   .brand-tagline[_ngcontent-%COMP%]{display:block;font-size:.9rem;opacity:.85;margin-top:4px;font-weight:500;animation:_ngcontent-%COMP%_fadeInUp .6s ease-out .35s both}.error-code[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;gap:8px;margin-bottom:32px}.error-code[_ngcontent-%COMP%]   .four[_ngcontent-%COMP%]{font-size:clamp(4rem,15vw,7rem);font-weight:800;line-height:1;color:#fff;text-shadow:0 0 40px rgba(201,162,77,.5);animation:_ngcontent-%COMP%_bounceIn .9s ease-out .4s both}.error-code[_ngcontent-%COMP%]   .zero[_ngcontent-%COMP%]{font-size:clamp(4rem,15vw,7rem);font-weight:800;line-height:1;background:linear-gradient(180deg,#c9a24d,#a8832f);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;filter:drop-shadow(0 0 20px rgba(201,162,77,.5));animation:_ngcontent-%COMP%_symbolPulse 1s ease-out .6s both}.error-message[_ngcontent-%COMP%]{margin-bottom:64px;animation:_ngcontent-%COMP%_fadeInUp .6s ease-out .7s both}.error-message[_ngcontent-%COMP%]   .error-title[_ngcontent-%COMP%]{font-size:clamp(1.5rem,4vw,2rem);font-weight:700;margin:0 0 16px;color:#fff;text-shadow:0 2px 8px rgba(0,0,0,.2)}.error-message[_ngcontent-%COMP%]   .error-description[_ngcontent-%COMP%]{font-size:clamp(.95rem,2vw,1.1rem);line-height:1.7;margin:0;opacity:.92}.error-actions[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:16px;justify-content:center;animation:_ngcontent-%COMP%_fadeInUp .6s ease-out .9s both}.error-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:8px;padding:16px 32px;border-radius:16px;font-weight:600;font-size:1rem;font-family:Cairo,sans-serif;text-decoration:none;border:2px solid transparent;cursor:pointer;transition:all .3s ease}.error-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1rem}.error-actions[_ngcontent-%COMP%]   .btn.btn-primary[_ngcontent-%COMP%]{background:linear-gradient(135deg,#c9a24d,#a8832f);color:#fff;box-shadow:0 4px 16px #c9a24d59}.error-actions[_ngcontent-%COMP%]   .btn.btn-primary[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 8px 24px #c9a24d73;background:linear-gradient(135deg,#cfac61,#c9a24d)}.error-actions[_ngcontent-%COMP%]   .btn.btn-outline[_ngcontent-%COMP%]{background:transparent;border-color:#ffffff80;color:#fff}.error-actions[_ngcontent-%COMP%]   .btn.btn-outline[_ngcontent-%COMP%]:hover{background:#ffffff1a;border-color:#fff;transform:translateY(-2px)}.bg-shapes[_ngcontent-%COMP%]{position:absolute;inset:0;overflow:hidden;z-index:1;pointer-events:none}.shape[_ngcontent-%COMP%]{position:absolute;border-radius:50%;background:#c9a24d0f;animation:_ngcontent-%COMP%_float 8s ease-in-out infinite}.shape.shape-1[_ngcontent-%COMP%]{width:min(180px,40vw);height:min(180px,40vw);top:15%;right:10%;animation-delay:0s}.shape.shape-2[_ngcontent-%COMP%]{width:min(120px,28vw);height:min(120px,28vw);bottom:25%;left:8%;background:#ffffff0a;animation-delay:2.5s;animation-duration:10s}.shape.shape-3[_ngcontent-%COMP%]{width:min(100px,22vw);height:min(100px,22vw);top:50%;left:15%;animation-delay:1s;animation-duration:7s}@keyframes _ngcontent-%COMP%_logoIn{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes _ngcontent-%COMP%_bounceIn{0%{opacity:0;transform:scale(.4) translateY(-40px)}55%{opacity:1;transform:scale(1.05) translateY(0)}75%{transform:scale(.98)}to{opacity:1;transform:scale(1)}}@keyframes _ngcontent-%COMP%_symbolPulse{0%{opacity:0;transform:scale(.5) rotate(-20deg)}to{opacity:1;transform:scale(1) rotate(0)}}@keyframes _ngcontent-%COMP%_fadeInUp{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}@keyframes _ngcontent-%COMP%_float{0%,to{transform:translate(0)}50%{transform:translate(10px,-15px)}}@media (max-width: 767.98px){.not-found-hero[_ngcontent-%COMP%]{padding:32px 16px}.brand-block[_ngcontent-%COMP%]{margin-bottom:32px}.brand-block[_ngcontent-%COMP%]   .ankh-logo[_ngcontent-%COMP%]{width:56px;height:56px}.brand-block[_ngcontent-%COMP%]   .brand-name[_ngcontent-%COMP%]{font-size:1.25rem;letter-spacing:.1em}.brand-block[_ngcontent-%COMP%]   .brand-tagline[_ngcontent-%COMP%]{font-size:.85rem}.error-actions[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch}.error-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{justify-content:center;width:100%;max-width:280px;margin:0 auto}}"]})};var uC=()=>({exact:!1}),pC=class n{constructor(t){this.route=t}sidebarOpen=!1;toggleSidebar(){this.sidebarOpen=!this.sidebarOpen}closeSidebar(){this.sidebarOpen=!1}closeSidebarOnMobile(){window.innerWidth<768&&(this.sidebarOpen=!1)}static \u0275fac=function(e){return new(e||n)(A(tn))};static \u0275cmp=ce({type:n,selectors:[["app-admin-dashboard"]],decls:79,vars:46,consts:[[1,"admin-dashboard"],[1,"mobile-header","d-md-none"],[1,"mobile-header-content"],[1,"brand"],[1,"fas","fa-shield-alt"],[1,"menu-toggle",3,"click"],[1,"fas"],[1,"dashboard-layout"],[1,"sidebar"],[1,"sidebar-header"],[1,"logo-section"],["src","assets/logo-removebg-preview.png","alt","Ankh",1,"logo"],[1,"sidebar-title"],[1,"sidebar-nav"],[1,"nav-section"],[1,"nav-section-title"],[1,"nav-list"],[1,"nav-item"],["routerLink","/admin/organizations","routerLinkActive","active",1,"nav-link",3,"click","routerLinkActiveOptions"],[1,"nav-icon"],[1,"fas","fa-building"],[1,"nav-text"],[1,"fas","fa-chevron-left","nav-arrow"],["routerLink","/admin/subscriptions","routerLinkActive","active",1,"nav-link",3,"click","routerLinkActiveOptions"],[1,"fas","fa-credit-card"],["routerLink","/admin/courses","routerLinkActive","active",1,"nav-link",3,"click","routerLinkActiveOptions"],[1,"fas","fa-book"],["routerLink","/admin/bookings","routerLinkActive","active",1,"nav-link",3,"click","routerLinkActiveOptions"],[1,"fas","fa-calendar-alt"],["routerLink","/home",1,"nav-link","nav-link-secondary",3,"click"],[1,"fas","fa-home"],[1,"sidebar-footer"],[1,"admin-info"],[1,"admin-avatar"],[1,"fas","fa-user-shield"],[1,"admin-details"],[1,"admin-role"],[1,"sidebar-overlay",3,"click"],[1,"main-content"]],template:function(e,i){e&1&&(d(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),b(4,"i",4),d(5,"span"),f(6),h(7,"translate"),p()(),d(8,"button",5),R("click",function(){return i.toggleSidebar()}),b(9,"i",6),p()()(),d(10,"div",7)(11,"aside",8)(12,"div",9)(13,"div",10),b(14,"img",11),d(15,"h2",12),f(16),h(17,"translate"),p()()(),d(18,"nav",13)(19,"div",14)(20,"span",15),f(21),h(22,"translate"),p(),d(23,"ul",16)(24,"li",17)(25,"a",18),R("click",function(){return i.closeSidebarOnMobile()}),d(26,"div",19),b(27,"i",20),p(),d(28,"span",21),f(29),h(30,"translate"),p(),b(31,"i",22),p()(),d(32,"li",17)(33,"a",23),R("click",function(){return i.closeSidebarOnMobile()}),d(34,"div",19),b(35,"i",24),p(),d(36,"span",21),f(37),h(38,"translate"),p(),b(39,"i",22),p()(),d(40,"li",17)(41,"a",25),R("click",function(){return i.closeSidebarOnMobile()}),d(42,"div",19),b(43,"i",26),p(),d(44,"span",21),f(45),h(46,"translate"),p(),b(47,"i",22),p()(),d(48,"li",17)(49,"a",27),R("click",function(){return i.closeSidebarOnMobile()}),d(50,"div",19),b(51,"i",28),p(),d(52,"span",21),f(53),h(54,"translate"),p(),b(55,"i",22),p()()()(),d(56,"div",14)(57,"span",15),f(58),h(59,"translate"),p(),d(60,"ul",16)(61,"li",17)(62,"a",29),R("click",function(){return i.closeSidebarOnMobile()}),d(63,"div",19),b(64,"i",30),p(),d(65,"span",21),f(66),h(67,"translate"),p()()()()()(),d(68,"div",31)(69,"div",32)(70,"div",33),b(71,"i",34),p(),d(72,"div",35)(73,"span",36),f(74),h(75,"translate"),p()()()()(),d(76,"div",37),R("click",function(){return i.closeSidebar()}),p(),d(77,"main",38),b(78,"router-outlet"),p()()()),e&2&&(l(6),O(m(7,22,"admin.dashboard.title")),l(3),V("fa-bars",!i.sidebarOpen)("fa-times",i.sidebarOpen),l(2),V("open",i.sidebarOpen),l(5),O(m(17,24,"admin.dashboard.title")),l(5),O(m(22,26,"admin.dashboard.management")),l(4),E("routerLinkActiveOptions",yi(42,uC)),l(4),O(m(30,28,"admin.dashboard.organizations")),l(4),E("routerLinkActiveOptions",yi(43,uC)),l(4),O(m(38,30,"admin.dashboard.subscriptions")),l(4),E("routerLinkActiveOptions",yi(44,uC)),l(4),O(m(46,32,"admin.dashboard.courses")),l(4),E("routerLinkActiveOptions",yi(45,uC)),l(4),O(m(54,34,"admin.dashboard.bookings")),l(5),O(m(59,36,"admin.dashboard.quickLinks")),l(8),O(m(67,38,"admin.dashboard.backToHome")),l(8),O(m(75,40,"admin.dashboard.adminRole")),l(2),V("visible",i.sidebarOpen))},dependencies:[pe,Ne,ic,Ue,ap,fe,_e],styles:['.admin-dashboard[_ngcontent-%COMP%]{min-height:100vh;background:#f3f1ec}.dashboard-layout[_ngcontent-%COMP%]{display:flex;min-height:100vh}.mobile-header[_ngcontent-%COMP%]{position:fixed;top:0;left:0;right:0;z-index:1000;background:linear-gradient(135deg,#0e3a5d,#071e2f);padding:16px;box-shadow:0 4px 8px #00000026}.mobile-header[_ngcontent-%COMP%]   .mobile-header-content[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.mobile-header[_ngcontent-%COMP%]   .brand[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;color:#c9a24d;font-weight:700;font-size:1.2rem;font-family:Cairo,sans-serif}.mobile-header[_ngcontent-%COMP%]   .brand[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.3rem}.mobile-header[_ngcontent-%COMP%]   .menu-toggle[_ngcontent-%COMP%]{width:44px;height:44px;display:flex;align-items:center;justify-content:center;background:#c9a24d33;border:none;border-radius:8px;color:#c9a24d;font-size:1.2rem;cursor:pointer;transition:all .3s ease}.mobile-header[_ngcontent-%COMP%]   .menu-toggle[_ngcontent-%COMP%]:hover{background:#c9a24d;color:#fff}.sidebar[_ngcontent-%COMP%]{width:280px;min-height:100vh;background:linear-gradient(180deg,#0e3a5d,#071e2f);box-shadow:0 8px 16px #0003;display:flex;flex-direction:column;flex-shrink:0;position:sticky;top:0;height:100vh;overflow-y:auto}.sidebar[_ngcontent-%COMP%]   .sidebar-header[_ngcontent-%COMP%]{padding:32px;border-bottom:1px solid rgba(201,162,77,.2)}.sidebar[_ngcontent-%COMP%]   .sidebar-header[_ngcontent-%COMP%]   .logo-section[_ngcontent-%COMP%]{display:flex;align-items:center;gap:16px}.sidebar[_ngcontent-%COMP%]   .sidebar-header[_ngcontent-%COMP%]   .logo-section[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{width:48px;height:48px;object-fit:contain}.sidebar[_ngcontent-%COMP%]   .sidebar-header[_ngcontent-%COMP%]   .logo-section[_ngcontent-%COMP%]   .sidebar-title[_ngcontent-%COMP%]{font-size:1.3rem;font-weight:700;color:#c9a24d;margin:0;font-family:Cairo,sans-serif}.sidebar[_ngcontent-%COMP%]   .sidebar-nav[_ngcontent-%COMP%]{flex:1;padding:16px 0}.sidebar[_ngcontent-%COMP%]   .sidebar-nav[_ngcontent-%COMP%]   .nav-section[_ngcontent-%COMP%]{margin-bottom:32px}.sidebar[_ngcontent-%COMP%]   .sidebar-nav[_ngcontent-%COMP%]   .nav-section[_ngcontent-%COMP%]   .nav-section-title[_ngcontent-%COMP%]{display:block;padding:8px 32px;font-size:.75rem;font-weight:600;color:#fff6;text-transform:uppercase;letter-spacing:.5px;font-family:Cairo,sans-serif}.sidebar[_ngcontent-%COMP%]   .sidebar-nav[_ngcontent-%COMP%]   .nav-list[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0}.sidebar[_ngcontent-%COMP%]   .sidebar-nav[_ngcontent-%COMP%]   .nav-list[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]{margin:4px 0}.sidebar[_ngcontent-%COMP%]   .sidebar-nav[_ngcontent-%COMP%]   .nav-list[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{display:flex;align-items:center;gap:16px;padding:16px 32px;color:#fffc;text-decoration:none;font-weight:500;font-size:.95rem;font-family:Cairo,sans-serif;transition:all .3s ease;border-radius:0 16px 16px 0;margin-right:16px;position:relative}.sidebar[_ngcontent-%COMP%]   .sidebar-nav[_ngcontent-%COMP%]   .nav-list[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]   .nav-icon[_ngcontent-%COMP%]{width:40px;height:40px;display:flex;align-items:center;justify-content:center;background:#ffffff1a;border-radius:8px;transition:all .3s ease}.sidebar[_ngcontent-%COMP%]   .sidebar-nav[_ngcontent-%COMP%]   .nav-list[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]   .nav-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1rem}.sidebar[_ngcontent-%COMP%]   .sidebar-nav[_ngcontent-%COMP%]   .nav-list[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]   .nav-text[_ngcontent-%COMP%]{flex:1}.sidebar[_ngcontent-%COMP%]   .sidebar-nav[_ngcontent-%COMP%]   .nav-list[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]   .nav-arrow[_ngcontent-%COMP%]{font-size:.75rem;opacity:0;transition:all .3s ease}.sidebar[_ngcontent-%COMP%]   .sidebar-nav[_ngcontent-%COMP%]   .nav-list[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:hover{background:#c9a24d26;color:#fff}.sidebar[_ngcontent-%COMP%]   .sidebar-nav[_ngcontent-%COMP%]   .nav-list[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:hover   .nav-icon[_ngcontent-%COMP%]{background:#c9a24d4d}.sidebar[_ngcontent-%COMP%]   .sidebar-nav[_ngcontent-%COMP%]   .nav-list[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:hover   .nav-arrow[_ngcontent-%COMP%]{opacity:1}.sidebar[_ngcontent-%COMP%]   .sidebar-nav[_ngcontent-%COMP%]   .nav-list[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]{background:linear-gradient(90deg,#c9a24d4d,#c9a24d1a);color:#c9a24d}.sidebar[_ngcontent-%COMP%]   .sidebar-nav[_ngcontent-%COMP%]   .nav-list[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]:before{content:"";position:absolute;right:0;top:50%;transform:translateY(-50%);width:4px;height:60%;background:#c9a24d;border-radius:4px}.sidebar[_ngcontent-%COMP%]   .sidebar-nav[_ngcontent-%COMP%]   .nav-list[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]   .nav-icon[_ngcontent-%COMP%]{background:#c9a24d;color:#fff}.sidebar[_ngcontent-%COMP%]   .sidebar-nav[_ngcontent-%COMP%]   .nav-list[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]   .nav-arrow[_ngcontent-%COMP%]{opacity:1;color:#c9a24d}.sidebar[_ngcontent-%COMP%]   .sidebar-nav[_ngcontent-%COMP%]   .nav-list[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-link.nav-link-secondary[_ngcontent-%COMP%]{color:#fff9}.sidebar[_ngcontent-%COMP%]   .sidebar-nav[_ngcontent-%COMP%]   .nav-list[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-link.nav-link-secondary[_ngcontent-%COMP%]   .nav-icon[_ngcontent-%COMP%]{background:#ffffff0d}.sidebar[_ngcontent-%COMP%]   .sidebar-nav[_ngcontent-%COMP%]   .nav-list[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-link.nav-link-secondary[_ngcontent-%COMP%]:hover{color:#fff;background:#ffffff1a}.sidebar[_ngcontent-%COMP%]   .sidebar-nav[_ngcontent-%COMP%]   .nav-list[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-link.nav-link-secondary[_ngcontent-%COMP%]:hover   .nav-icon[_ngcontent-%COMP%]{background:#ffffff26}.sidebar[_ngcontent-%COMP%]   .sidebar-footer[_ngcontent-%COMP%]{padding:32px;border-top:1px solid rgba(201,162,77,.2)}.sidebar[_ngcontent-%COMP%]   .sidebar-footer[_ngcontent-%COMP%]   .admin-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:16px}.sidebar[_ngcontent-%COMP%]   .sidebar-footer[_ngcontent-%COMP%]   .admin-info[_ngcontent-%COMP%]   .admin-avatar[_ngcontent-%COMP%]{width:44px;height:44px;display:flex;align-items:center;justify-content:center;background:#c9a24d33;border-radius:50%;color:#c9a24d;font-size:1.1rem}.sidebar[_ngcontent-%COMP%]   .sidebar-footer[_ngcontent-%COMP%]   .admin-info[_ngcontent-%COMP%]   .admin-details[_ngcontent-%COMP%]{flex:1}.sidebar[_ngcontent-%COMP%]   .sidebar-footer[_ngcontent-%COMP%]   .admin-info[_ngcontent-%COMP%]   .admin-details[_ngcontent-%COMP%]   .admin-role[_ngcontent-%COMP%]{font-size:.9rem;font-weight:600;color:#fff;font-family:Cairo,sans-serif}.sidebar-overlay[_ngcontent-%COMP%]{display:none;position:fixed;inset:0;background:#0f172a80;z-index:998;opacity:0;transition:opacity .3s ease}.sidebar-overlay.visible[_ngcontent-%COMP%]{opacity:1}.main-content[_ngcontent-%COMP%]{flex:1;padding:64px;min-height:100vh;overflow-x:hidden}@media (max-width: 991.98px){.sidebar[_ngcontent-%COMP%]{width:260px}.main-content[_ngcontent-%COMP%]{padding:32px}}@media (max-width: 767.98px){.dashboard-layout[_ngcontent-%COMP%]{padding-top:76px}.sidebar[_ngcontent-%COMP%]{position:fixed;top:76px;right:-100%;width:85%;max-width:320px;height:calc(100vh - 76px);z-index:999;transition:right .3s ease}.sidebar.open[_ngcontent-%COMP%]{right:0}.sidebar[_ngcontent-%COMP%]   .sidebar-header[_ngcontent-%COMP%]{padding:16px}.sidebar[_ngcontent-%COMP%]   .sidebar-header[_ngcontent-%COMP%]   .logo-section[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{width:40px;height:40px}.sidebar[_ngcontent-%COMP%]   .sidebar-header[_ngcontent-%COMP%]   .logo-section[_ngcontent-%COMP%]   .sidebar-title[_ngcontent-%COMP%]{font-size:1.1rem}.sidebar[_ngcontent-%COMP%]   .sidebar-nav[_ngcontent-%COMP%]   .nav-section-title[_ngcontent-%COMP%]{padding:4px 16px}.sidebar[_ngcontent-%COMP%]   .sidebar-nav[_ngcontent-%COMP%]   .nav-list[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{padding:8px 16px;margin-right:8px}.sidebar[_ngcontent-%COMP%]   .sidebar-nav[_ngcontent-%COMP%]   .nav-list[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]   .nav-icon[_ngcontent-%COMP%]{width:36px;height:36px}.sidebar[_ngcontent-%COMP%]   .sidebar-nav[_ngcontent-%COMP%]   .nav-list[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]   .nav-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.9rem}.sidebar[_ngcontent-%COMP%]   .sidebar-footer[_ngcontent-%COMP%]{padding:16px}.sidebar[_ngcontent-%COMP%]   .sidebar-footer[_ngcontent-%COMP%]   .admin-info[_ngcontent-%COMP%]   .admin-avatar[_ngcontent-%COMP%]{width:38px;height:38px}.sidebar-overlay[_ngcontent-%COMP%]{display:block;top:76px}.main-content[_ngcontent-%COMP%]{padding:16px}}@media (max-width: 575.98px){.mobile-header[_ngcontent-%COMP%]{padding:8px 16px}.mobile-header[_ngcontent-%COMP%]   .brand[_ngcontent-%COMP%]{font-size:1rem}.mobile-header[_ngcontent-%COMP%]   .brand[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.1rem}.mobile-header[_ngcontent-%COMP%]   .menu-toggle[_ngcontent-%COMP%]{width:40px;height:40px}.dashboard-layout[_ngcontent-%COMP%]{padding-top:68px}.sidebar[_ngcontent-%COMP%]{top:68px;height:calc(100vh - 68px)}.sidebar-overlay[_ngcontent-%COMP%]{top:68px}}']})};var One=n=>["/admin/organizations",n],wne=(n,t)=>t.uid;function xne(n,t){n&1&&(d(0,"div",6)(1,"div",8)(2,"span",9),f(3),h(4,"translate"),p()(),d(5,"p",10),f(6),h(7,"translate"),p()()),n&2&&(l(3),O(m(4,2,"admin.organizations.loading")),l(3),O(m(7,4,"admin.organizations.loading")))}function Ene(n,t){if(n&1&&(d(0,"div",7),b(1,"i",11),f(2),h(3,"translate"),p()),n&2){let e=x();l(2),M(" ",m(3,1,e.errorMessage)," ")}}function Ine(n,t){if(n&1){let e=J();d(0,"button",26),R("click",function(){$(e);let o=x(2);return q(o.clearSearch())}),b(1,"i",27),p()}}function Sne(n,t){if(n&1&&(d(0,"div",17)(1,"span"),f(2),h(3,"translate"),p()()),n&2){let e=x(2);l(2),tt("",m(3,2,"admin.organizations.searchResults"),": ",e.filteredOrganizations.length)}}function Tne(n,t){if(n&1&&(d(0,"div",29)(1,"div",30)(2,"div",31)(3,"h3",32),f(4),p(),d(5,"span",33),b(6,"i",34),f(7),h(8,"translate"),p()(),d(9,"div",35)(10,"div",36)(11,"p",37),b(12,"i",38),d(13,"span"),f(14),p()(),d(15,"p",37),b(16,"i",39),d(17,"span"),f(18),p()(),d(19,"p",40),b(20,"i",41),d(21,"span"),f(22),p()()()(),d(23,"div",42)(24,"a",43),b(25,"i",44),f(26),h(27,"translate"),p()()()()),n&2){let e=t.$implicit,i=x(3);l(4),O(e.name),l(),E("ngClass",i.getStatusClass(e.status)),l(),V("fa-check-circle",e.status==="approved")("fa-clock",e.status==="pending")("fa-times-circle",e.status==="rejected"),l(),M(" ",m(8,14,i.getStatusKey(e.status))," "),l(7),O(e.email),l(4),O(e.phone),l(4),O(e.createdAt),l(2),E("routerLink",os(18,One,e.uid)),l(2),M(" ",m(27,16,"admin.organizations.viewDetails")," ")}}function Dne(n,t){if(n&1&&(d(0,"div",24)(1,"div",28),Be(2,Tne,28,20,"div",29,wne),p()()),n&2){let e=x(2);l(2),je(e.filteredOrganizations)}}function kne(n,t){n&1&&(d(0,"div",25),b(1,"i",4),d(2,"p"),f(3),h(4,"translate"),p()()),n&2&&(l(3),O(m(4,1,"admin.organizations.noOrganizations")))}function Ane(n,t){if(n&1){let e=J();d(0,"div",12)(1,"div",13),b(2,"i",14),d(3,"input",15),h(4,"translate"),Kn("ngModelChange",function(o){$(e);let r=x();return ai(r.searchQuery,o)||(r.searchQuery=o),q(o)}),R("ngModelChange",function(){$(e);let o=x();return q(o.onSearchChange())}),p(),T(5,Ine,2,0,"button",16),p(),T(6,Sne,4,4,"div",17),p(),d(7,"div",18)(8,"div",19)(9,"div",20)(10,"button",21),R("click",function(){$(e);let o=x();return q(o.onStatusFilterChange("all"))}),d(11,"span",22),f(12),h(13,"translate"),p(),d(14,"span",23),f(15),p()()(),d(16,"div",20)(17,"button",21),R("click",function(){$(e);let o=x();return q(o.onStatusFilterChange("pending"))}),d(18,"span",22),f(19),h(20,"translate"),p(),d(21,"span",23),f(22),p()()(),d(23,"div",20)(24,"button",21),R("click",function(){$(e);let o=x();return q(o.onStatusFilterChange("approved"))}),d(25,"span",22),f(26),h(27,"translate"),p(),d(28,"span",23),f(29),p()()(),d(30,"div",20)(31,"button",21),R("click",function(){$(e);let o=x();return q(o.onStatusFilterChange("rejected"))}),d(32,"span",22),f(33),h(34,"translate"),p(),d(35,"span",23),f(36),p()()()()(),T(37,Dne,4,0,"div",24)(38,kne,5,3,"div",25)}if(n&2){let e=x();l(3),Qn("ngModel",e.searchQuery),E("placeholder",m(4,21,"admin.organizations.searchPlaceholder")),l(2),D(e.searchQuery?5:-1),l(),D(e.searchQuery&&e.filteredOrganizations.length!==e.organizations.length?6:-1),l(4),V("active",e.selectedStatus==="all"),l(2),O(m(13,23,"admin.organizations.all")),l(3),O(e.getCountByStatus("all")),l(2),V("active",e.selectedStatus==="pending"),l(2),O(m(20,25,"admin.organizations.pending")),l(3),O(e.getCountByStatus("pending")),l(2),V("active",e.selectedStatus==="approved"),l(2),O(m(27,27,"admin.organizations.approved")),l(3),O(e.getCountByStatus("approved")),l(2),V("active",e.selectedStatus==="rejected"),l(2),O(m(34,29,"admin.organizations.rejected")),l(3),O(e.getCountByStatus("rejected")),l(),D(e.filteredOrganizations.length>0?37:38)}}var fC=class n{constructor(t){this.organizationService=t}organizations=[];filteredOrganizations=[];isLoading=!0;errorMessage="";selectedStatus="all";searchQuery="";destroy$=new me;ngOnInit(){this.loadOrganizations()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}loadOrganizations(){this.isLoading=!0,this.errorMessage="",this.organizationService.getAllOrganizations().pipe(ne(this.destroy$)).subscribe({next:t=>{this.organizations=t,this.filterOrganizations(),this.isLoading=!1},error:t=>{console.error("Error loading organizations:",t),this.errorMessage="admin.organizations.loadError",this.isLoading=!1}})}filterOrganizations(){let t=this.organizations;if(this.selectedStatus!=="all"&&(t=t.filter(e=>e.status===this.selectedStatus)),this.searchQuery.trim()){let e=this.searchQuery.toLowerCase().trim();t=t.filter(i=>i.name&&i.name.toLowerCase().includes(e)||i.email&&i.email.toLowerCase().includes(e)||i.phone&&String(i.phone).includes(e))}this.filteredOrganizations=t}onStatusFilterChange(t){this.selectedStatus=t,this.filterOrganizations()}onSearchChange(){this.filterOrganizations()}clearSearch(){this.searchQuery="",this.filterOrganizations()}getStatusClass(t){switch(t){case"approved":return"badge-success";case"pending":return"badge-warning";case"rejected":return"badge-error";default:return"badge-secondary"}}getStatusKey(t){return`auth.profile.status.${t}`}getCountByStatus(t){return t==="all"?this.organizations.length:this.organizations.filter(e=>e.status===t).length}static \u0275fac=function(e){return new(e||n)(A(wn))};static \u0275cmp=ce({type:n,selectors:[["app-organization-list"]],decls:13,vars:9,consts:[[1,"organization-list"],[1,"page-header"],[1,"header-content"],[1,"page-title"],[1,"fas","fa-building"],[1,"page-subtitle"],[1,"loading-state"],[1,"alert","alert-error"],["role","status",1,"spinner-border","text-primary"],[1,"visually-hidden"],[1,"mt-3"],[1,"fas","fa-exclamation-circle"],[1,"search-section"],[1,"search-box"],[1,"fas","fa-search","search-icon"],["type","text",1,"search-input",3,"ngModelChange","ngModel","placeholder"],[1,"search-clear"],[1,"search-results-info"],[1,"filter-tabs"],[1,"row","g-2"],[1,"col-6","col-md-3"],["type","button",1,"filter-tab",3,"click"],[1,"tab-label"],[1,"tab-count"],[1,"organizations-grid"],[1,"empty-state"],[1,"search-clear",3,"click"],[1,"fas","fa-times"],[1,"row","g-4"],[1,"col-12","col-md-6","col-lg-4"],[1,"organization-card"],[1,"card-header"],[1,"org-name"],[1,"status-badge",3,"ngClass"],[1,"fas"],[1,"card-body"],[1,"org-info"],[1,"info-item"],[1,"fas","fa-envelope"],[1,"fas","fa-phone"],[1,"info-item","date"],[1,"fas","fa-calendar"],[1,"card-footer"],[1,"btn","btn-view",3,"routerLink"],[1,"fas","fa-eye"]],template:function(e,i){e&1&&(d(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3),b(4,"i",4),f(5),h(6,"translate"),p(),d(7,"p",5),f(8),h(9,"translate"),p()()(),T(10,xne,8,6,"div",6),T(11,Ene,4,3,"div",7),T(12,Ane,39,31),p()),e&2&&(l(5),M(" ",m(6,5,"admin.organizations.title")," "),l(3),O(m(9,7,"admin.organizations.subtitle")),l(2),D(i.isLoading?10:-1),l(),D(!i.isLoading&&i.errorMessage?11:-1),l(),D(!i.isLoading&&!i.errorMessage?12:-1))},dependencies:[pe,gn,Ne,Ue,zr,ht,bt,er,fe,_e],styles:[".organization-list[_ngcontent-%COMP%]   .page-header[_ngcontent-%COMP%]{margin-bottom:32px;padding-bottom:32px;border-bottom:2px solid rgba(14,58,93,.1)}.organization-list[_ngcontent-%COMP%]   .page-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .page-title[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;color:#0e3a5d;margin-bottom:8px;font-family:Cairo,sans-serif;display:flex;align-items:center;gap:16px}.organization-list[_ngcontent-%COMP%]   .page-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .page-title[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#c9a24d;font-size:1.8rem}.organization-list[_ngcontent-%COMP%]   .page-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .page-subtitle[_ngcontent-%COMP%]{font-size:1rem;color:#0f172a99;margin:0}.organization-list[_ngcontent-%COMP%]   .search-section[_ngcontent-%COMP%]{margin-bottom:32px}.organization-list[_ngcontent-%COMP%]   .search-section[_ngcontent-%COMP%]   .search-box[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center;background:#fff;border:2px solid rgba(14,58,93,.15);border-radius:16px;overflow:hidden;transition:all .3s ease}.organization-list[_ngcontent-%COMP%]   .search-section[_ngcontent-%COMP%]   .search-box[_ngcontent-%COMP%]:focus-within{border-color:#c9a24d;box-shadow:0 0 0 3px #c9a24d1a}.organization-list[_ngcontent-%COMP%]   .search-section[_ngcontent-%COMP%]   .search-box[_ngcontent-%COMP%]   .search-icon[_ngcontent-%COMP%]{position:absolute;right:16px;color:#0f172a66;font-size:1rem;pointer-events:none}.organization-list[_ngcontent-%COMP%]   .search-section[_ngcontent-%COMP%]   .search-box[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]{width:100%;padding:16px 64px 16px 32px;border:none;background:transparent;font-size:1rem;font-family:Cairo,sans-serif;color:#0f172a}.organization-list[_ngcontent-%COMP%]   .search-section[_ngcontent-%COMP%]   .search-box[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]::placeholder{color:#0f172a66}.organization-list[_ngcontent-%COMP%]   .search-section[_ngcontent-%COMP%]   .search-box[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]:focus{outline:none}.organization-list[_ngcontent-%COMP%]   .search-section[_ngcontent-%COMP%]   .search-box[_ngcontent-%COMP%]   .search-clear[_ngcontent-%COMP%]{position:absolute;left:16px;width:32px;height:32px;display:flex;align-items:center;justify-content:center;background:#0f172a1a;border:none;border-radius:50%;color:#0f172a99;cursor:pointer;transition:all .2s ease}.organization-list[_ngcontent-%COMP%]   .search-section[_ngcontent-%COMP%]   .search-box[_ngcontent-%COMP%]   .search-clear[_ngcontent-%COMP%]:hover{background:#dc26261a;color:#dc2626}.organization-list[_ngcontent-%COMP%]   .search-section[_ngcontent-%COMP%]   .search-results-info[_ngcontent-%COMP%]{margin-top:8px;padding:8px 16px;background:#c9a24d1a;border-radius:8px;display:inline-block}.organization-list[_ngcontent-%COMP%]   .search-section[_ngcontent-%COMP%]   .search-results-info[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.9rem;font-weight:600;color:#c9a24d;font-family:Cairo,sans-serif}.organization-list[_ngcontent-%COMP%]   .loading-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;min-height:300px;text-align:center}.organization-list[_ngcontent-%COMP%]   .loading-state[_ngcontent-%COMP%]   .spinner-border[_ngcontent-%COMP%]{width:3rem;height:3rem;border-width:.3rem}.organization-list[_ngcontent-%COMP%]   .loading-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#0f172ab3;font-size:1rem;margin:0}.organization-list[_ngcontent-%COMP%]   .alert-error[_ngcontent-%COMP%]{padding:32px;border-radius:8px;background:#dc26261a;color:#dc2626;border:1px solid rgba(220,38,38,.3);display:flex;align-items:center;gap:8px;font-size:1rem;margin-bottom:32px}.organization-list[_ngcontent-%COMP%]   .alert-error[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.2rem}.organization-list[_ngcontent-%COMP%]   .filter-tabs[_ngcontent-%COMP%]{margin-bottom:64px}.organization-list[_ngcontent-%COMP%]   .filter-tabs[_ngcontent-%COMP%]   .filter-tab[_ngcontent-%COMP%]{width:100%;padding:16px;background:#fff;border:2px solid rgba(14,58,93,.2);border-radius:8px;cursor:pointer;transition:all .3s ease;display:flex;flex-direction:column;align-items:center;gap:4px;font-family:Cairo,sans-serif}.organization-list[_ngcontent-%COMP%]   .filter-tabs[_ngcontent-%COMP%]   .filter-tab[_ngcontent-%COMP%]   .tab-label[_ngcontent-%COMP%]{font-size:.9rem;font-weight:500;color:#0f172ab3}.organization-list[_ngcontent-%COMP%]   .filter-tabs[_ngcontent-%COMP%]   .filter-tab[_ngcontent-%COMP%]   .tab-count[_ngcontent-%COMP%]{font-size:1.2rem;font-weight:700;color:#0e3a5d}.organization-list[_ngcontent-%COMP%]   .filter-tabs[_ngcontent-%COMP%]   .filter-tab[_ngcontent-%COMP%]:hover{border-color:#c9a24d;background:#c9a24d0d}.organization-list[_ngcontent-%COMP%]   .filter-tabs[_ngcontent-%COMP%]   .filter-tab.active[_ngcontent-%COMP%]{background:#c9a24d;border-color:#c9a24d;color:#fff}.organization-list[_ngcontent-%COMP%]   .filter-tabs[_ngcontent-%COMP%]   .filter-tab.active[_ngcontent-%COMP%]   .tab-label[_ngcontent-%COMP%], .organization-list[_ngcontent-%COMP%]   .filter-tabs[_ngcontent-%COMP%]   .filter-tab.active[_ngcontent-%COMP%]   .tab-count[_ngcontent-%COMP%]{color:#fff}.organization-list[_ngcontent-%COMP%]   .organizations-grid[_ngcontent-%COMP%]   .organization-card[_ngcontent-%COMP%]{background:#fff;border-radius:16px;box-shadow:0 4px 8px #00000026;border:1px solid rgba(14,58,93,.1);overflow:hidden;transition:all .3s ease;height:100%;display:flex;flex-direction:column}.organization-list[_ngcontent-%COMP%]   .organizations-grid[_ngcontent-%COMP%]   .organization-card[_ngcontent-%COMP%]:hover{transform:translateY(-4px);box-shadow:0 8px 16px #0003;border-color:#c9a24d}.organization-list[_ngcontent-%COMP%]   .organizations-grid[_ngcontent-%COMP%]   .organization-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{padding:32px;background:linear-gradient(135deg,#c9a24d1a,#0e3a5d0d);border-bottom:1px solid rgba(14,58,93,.1);display:flex;justify-content:space-between;align-items:flex-start;gap:16px}.organization-list[_ngcontent-%COMP%]   .organizations-grid[_ngcontent-%COMP%]   .organization-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .org-name[_ngcontent-%COMP%]{font-size:1.2rem;font-weight:700;color:#0e3a5d;margin:0;font-family:Cairo,sans-serif;flex:1}.organization-list[_ngcontent-%COMP%]   .organizations-grid[_ngcontent-%COMP%]   .organization-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .status-badge[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:4px;padding:4px 8px;border-radius:4px;font-weight:600;font-size:.75rem;font-family:Cairo,sans-serif;white-space:nowrap}.organization-list[_ngcontent-%COMP%]   .organizations-grid[_ngcontent-%COMP%]   .organization-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .status-badge.badge-success[_ngcontent-%COMP%]{background:#16a34a1a;color:#16a34a;border:1px solid rgba(22,163,74,.3)}.organization-list[_ngcontent-%COMP%]   .organizations-grid[_ngcontent-%COMP%]   .organization-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .status-badge.badge-warning[_ngcontent-%COMP%]{background:#d977061a;color:#d97706;border:1px solid rgba(217,119,6,.3)}.organization-list[_ngcontent-%COMP%]   .organizations-grid[_ngcontent-%COMP%]   .organization-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .status-badge.badge-error[_ngcontent-%COMP%]{background:#dc26261a;color:#dc2626;border:1px solid rgba(220,38,38,.3)}.organization-list[_ngcontent-%COMP%]   .organizations-grid[_ngcontent-%COMP%]   .organization-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .status-badge[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.7rem}.organization-list[_ngcontent-%COMP%]   .organizations-grid[_ngcontent-%COMP%]   .organization-card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{padding:32px;flex:1}.organization-list[_ngcontent-%COMP%]   .organizations-grid[_ngcontent-%COMP%]   .organization-card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .org-info[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;margin-bottom:16px;color:#0f172acc;font-size:.9rem}.organization-list[_ngcontent-%COMP%]   .organizations-grid[_ngcontent-%COMP%]   .organization-card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .org-info[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]:last-child{margin-bottom:0}.organization-list[_ngcontent-%COMP%]   .organizations-grid[_ngcontent-%COMP%]   .organization-card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .org-info[_ngcontent-%COMP%]   .info-item.date[_ngcontent-%COMP%]{color:#0f172a80;font-size:.85rem}.organization-list[_ngcontent-%COMP%]   .organizations-grid[_ngcontent-%COMP%]   .organization-card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .org-info[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#0e3a5d;font-size:.85rem;width:16px}.organization-list[_ngcontent-%COMP%]   .organizations-grid[_ngcontent-%COMP%]   .organization-card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .org-info[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{word-break:break-word}.organization-list[_ngcontent-%COMP%]   .organizations-grid[_ngcontent-%COMP%]   .organization-card[_ngcontent-%COMP%]   .card-footer[_ngcontent-%COMP%]{padding:16px 32px;border-top:1px solid rgba(14,58,93,.1);background:#f6f7f980}.organization-list[_ngcontent-%COMP%]   .organizations-grid[_ngcontent-%COMP%]   .organization-card[_ngcontent-%COMP%]   .card-footer[_ngcontent-%COMP%]   .btn-view[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center;justify-content:center;gap:8px;padding:8px 16px;background:#c9a24d;color:#fff;border:none;border-radius:8px;font-weight:600;font-size:.9rem;font-family:Cairo,sans-serif;text-decoration:none;transition:all .3s ease;cursor:pointer}.organization-list[_ngcontent-%COMP%]   .organizations-grid[_ngcontent-%COMP%]   .organization-card[_ngcontent-%COMP%]   .card-footer[_ngcontent-%COMP%]   .btn-view[_ngcontent-%COMP%]:hover{background:#a8832f;transform:translateY(-2px);box-shadow:0 4px 8px #00000026}.organization-list[_ngcontent-%COMP%]   .organizations-grid[_ngcontent-%COMP%]   .organization-card[_ngcontent-%COMP%]   .card-footer[_ngcontent-%COMP%]   .btn-view[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.9rem}.organization-list[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;min-height:400px;text-align:center;padding:64px}.organization-list[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:4rem;color:#0f172a4d;margin-bottom:32px}.organization-list[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.1rem;color:#0f172a99;margin:0;font-family:Cairo,sans-serif}@media (max-width: 991.98px){.organization-list[_ngcontent-%COMP%]   .page-header[_ngcontent-%COMP%]   .page-title[_ngcontent-%COMP%]{font-size:1.5rem}}@media (max-width: 767.98px){.organization-list[_ngcontent-%COMP%]   .page-header[_ngcontent-%COMP%]   .page-title[_ngcontent-%COMP%], .organization-list[_ngcontent-%COMP%]   .page-header[_ngcontent-%COMP%]   .page-title[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.3rem}.organization-list[_ngcontent-%COMP%]   .filter-tabs[_ngcontent-%COMP%]   .filter-tab[_ngcontent-%COMP%]{padding:8px;font-size:.85rem}}"]})};var gC=Un(jn());var Rne=(n,t)=>t.value;function Nne(n,t){n&1&&(d(0,"div",4)(1,"div",7)(2,"span",8),f(3),h(4,"translate"),p()(),d(5,"p",9),f(6),h(7,"translate"),p()()),n&2&&(l(3),O(m(4,2,"admin.organizations.loading")),l(3),O(m(7,4,"admin.organizations.loading")))}function Lne(n,t){n&1&&(d(0,"div",5),b(1,"i",10),f(2),h(3,"translate"),p()),n&2&&(l(2),M(" ",m(3,1,"admin.organizations.notFound")," "))}function Fne(n,t){if(n&1&&(b(0,"img",37),h(1,"translate")),n&2){let e=x(2);E("src",e.organization.idImage,Je)("alt",m(1,2,"auth.profile.idImage"))}}function zne(n,t){n&1&&(d(0,"div",38),b(1,"i",47),d(2,"p"),f(3),h(4,"translate"),p()()),n&2&&(l(3),O(m(4,1,"auth.profile.noImage")))}function Bne(n,t){if(n&1&&(d(0,"option",57),f(1),h(2,"translate"),p()),n&2){let e=t.$implicit;E("value",e.value),l(),M(" ",m(2,2,e.label)," ")}}function jne(n,t){if(n&1&&(d(0,"div",58),b(1,"i",73),f(2),h(3,"translate"),p()),n&2){let e=x(3);l(2),M(" ",m(3,1,e.getFormError("type"))," ")}}function Vne(n,t){n&1&&(d(0,"div",74),b(1,"i",76),d(2,"strong"),f(3),h(4,"translate"),p(),f(5),h(6,"translate"),p()),n&2&&(l(3),M("",m(4,2,"admin.organizations.warning"),":"),l(2),M(" ",m(6,4,"admin.organizations.statusChangeWarning")," "))}function Une(n,t){n&1&&(d(0,"div",75),b(1,"i",77),f(2),h(3,"translate"),p()),n&2&&(l(2),M(" ",m(3,1,"admin.organizations.noStatusChange")," "))}function $ne(n,t){if(n&1&&(d(0,"div",59),T(1,Vne,7,6,"div",74)(2,Une,4,3,"div",75),p()),n&2){let e,i=x(3);l(),D(i.doesTypeChangeStatus((e=i.notificationForm.get("type"))==null?null:e.value)?1:2)}}function qne(n,t){if(n&1&&(d(0,"div",58),b(1,"i",73),f(2),h(3,"translate"),p()),n&2){let e=x(3);l(2),M(" ",m(3,1,e.getFormError("title"))," ")}}function Hne(n,t){if(n&1&&(d(0,"div",58),b(1,"i",73),f(2),h(3,"translate"),p()),n&2){let e=x(3);l(2),M(" ",m(3,1,e.getFormError("message"))," ")}}function Wne(n,t){n&1&&(b(0,"span",78),f(1),h(2,"translate")),n&2&&(l(),M(" ",m(2,1,"admin.organizations.processing")," "))}function Gne(n,t){n&1&&(b(0,"i",79),f(1),h(2,"translate")),n&2&&(l(),M(" ",m(2,1,"admin.organizations.submit")," "))}function Qne(n,t){if(n&1){let e=J();d(0,"form",48),R("ngSubmit",function(){$(e);let o=x(2);return q(o.onSubmitNotificationForm())}),d(1,"div",49),b(2,"i",50),d(3,"div")(4,"strong"),f(5),h(6,"translate"),p(),d(7,"p",51),f(8),h(9,"translate"),p()()(),d(10,"div",52)(11,"label",53),b(12,"i",54),f(13),h(14,"translate"),d(15,"span",55),f(16,"*"),p()(),d(17,"select",56),Be(18,Bne,3,4,"option",57,Rne),p(),T(20,jne,4,3,"div",58),T(21,$ne,3,1,"div",59),p(),d(22,"div",52)(23,"label",60),b(24,"i",61),f(25),h(26,"translate"),d(27,"span",55),f(28,"*"),p()(),b(29,"input",62),h(30,"translate"),T(31,qne,4,3,"div",58),p(),d(32,"div",63)(33,"label",64),b(34,"i",65),f(35),h(36,"translate"),d(37,"span",55),f(38,"*"),p()(),d(39,"textarea",66),h(40,"translate"),f(41,"                    "),p(),T(42,Hne,4,3,"div",58),d(43,"div",67),b(44,"i",68),f(45),h(46,"translate"),p()(),d(47,"div",69)(48,"button",70),R("click",function(){$(e);let o=x(2);return q(o.toggleNotificationForm())}),b(49,"i",71),f(50),h(51,"translate"),p(),d(52,"button",72),T(53,Wne,3,3)(54,Gne,3,3),p()()()}if(n&2){let e,i,o,r,s,a,c,u=x(2);E("formGroup",u.notificationForm),l(5),O(m(6,26,"admin.organizations.formInfo")),l(3),O(m(9,28,"admin.organizations.formInfoDescription")),l(5),M(" ",m(14,30,"admin.organizations.notificationType.label")," "),l(4),V("is-invalid",((e=u.notificationForm.get("type"))==null?null:e.invalid)&&((e=u.notificationForm.get("type"))==null?null:e.touched)),E("disabled",u.isProcessing),l(),je(u.notificationTypes),l(2),D((i=u.notificationForm.get("type"))!=null&&i.invalid&&((i=u.notificationForm.get("type"))!=null&&i.touched)?20:-1),l(),D((o=u.notificationForm.get("type"))!=null&&o.value?21:-1),l(4),M(" ",m(26,32,"admin.organizations.notificationTitle")," "),l(4),V("is-invalid",((r=u.notificationForm.get("title"))==null?null:r.invalid)&&((r=u.notificationForm.get("title"))==null?null:r.touched)),E("placeholder",m(30,34,"admin.organizations.titlePlaceholder"))("disabled",u.isProcessing),l(2),D((s=u.notificationForm.get("title"))!=null&&s.invalid&&((s=u.notificationForm.get("title"))!=null&&s.touched)?31:-1),l(4),M(" ",m(36,36,"admin.organizations.notificationMessage")," "),l(4),V("is-invalid",((a=u.notificationForm.get("message"))==null?null:a.invalid)&&((a=u.notificationForm.get("message"))==null?null:a.touched)),E("placeholder",m(40,38,"admin.organizations.messagePlaceholder"))("disabled",u.isProcessing),l(3),D((c=u.notificationForm.get("message"))!=null&&c.invalid&&((c=u.notificationForm.get("message"))!=null&&c.touched)?42:-1),l(3),M(" ",m(46,40,"admin.organizations.messageHint")," "),l(3),E("disabled",u.isProcessing),l(2),M(" ",m(51,42,"admin.organizations.cancel")," "),l(2),E("disabled",u.notificationForm.invalid||u.isProcessing),l(),D(u.isProcessing?53:54)}}function Kne(n,t){if(n&1){let e=J();d(0,"div",6)(1,"div",11)(2,"div",12)(3,"div",13)(4,"h1",14),b(5,"i",15),f(6),p(),d(7,"p",16),f(8),h(9,"translate"),p()(),d(10,"div",17)(11,"span",18),b(12,"i",19),f(13),h(14,"translate"),p()()()(),d(15,"div",20)(16,"div",21)(17,"div",22)(18,"h3",23),b(19,"i",24),f(20),h(21,"translate"),p(),d(22,"div",25)(23,"div",26)(24,"div",13)(25,"div",27)(26,"label",28),b(27,"i",29),f(28),h(29,"translate"),p(),d(30,"p",30),f(31),p()()(),d(32,"div",13)(33,"div",27)(34,"label",28),b(35,"i",31),f(36),h(37,"translate"),p(),d(38,"p",30),f(39),p()()()()()(),d(40,"div",22)(41,"h3",23),b(42,"i",32),f(43),h(44,"translate"),p(),d(45,"div",25)(46,"div",26)(47,"div",13)(48,"div",27)(49,"label",28),b(50,"i",33),f(51),h(52,"translate"),p(),d(53,"p",30),f(54),p()()()()()()(),d(55,"div",34)(56,"div",22)(57,"h3",23),b(58,"i",35),f(59),h(60,"translate"),p(),d(61,"div",25)(62,"div",36),T(63,Fne,2,4,"img",37)(64,zne,5,3,"div",38),p()()()(),d(65,"div",39)(66,"div",40)(67,"div",41)(68,"h3",23),b(69,"i",42),f(70),h(71,"translate"),p(),d(72,"p",43),b(73,"i",24),f(74),h(75,"translate"),p()(),d(76,"div",44)(77,"button",45),R("click",function(){$(e);let o=x();return q(o.toggleNotificationForm())}),b(78,"i",19),f(79),h(80,"translate"),h(81,"translate"),p(),T(82,Qne,55,44,"form",46),p()()()()()}if(n&2){let e=x();l(6),M(" ",e.organization.name," "),l(2),O(m(9,31,"admin.organizations.details")),l(3),E("ngClass",e.getStatusClass(e.organization.status)),l(),V("fa-check-circle",e.organization.status==="approved")("fa-clock",e.organization.status==="pending")("fa-times-circle",e.organization.status==="rejected"),l(),M(" ",m(14,33,e.getStatusKey(e.organization.status))," "),l(7),M(" ",m(21,35,"auth.profile.basicInfo")," "),l(8),M(" ",m(29,37,"auth.profile.email")," "),l(3),O(e.organization.email),l(5),M(" ",m(37,39,"auth.profile.phone")," "),l(3),O(e.organization.phone),l(4),M(" ",m(44,41,"auth.profile.systemInfo")," "),l(8),M(" ",m(52,43,"auth.profile.registrationDate")," "),l(3),O(e.formatDate(e.organization.createdAt)),l(5),M(" ",m(60,45,"auth.profile.verificationDocument")," "),l(4),D(e.organization.idImage?63:64),l(7),M(" ",m(71,47,"admin.organizations.sendNotification")," "),l(4),M(" ",m(75,49,"admin.organizations.actionsDescription")," "),l(3),V("active",e.showNotificationForm),E("disabled",e.isProcessing),l(),V("fa-bell",!e.showNotificationForm)("fa-chevron-up",e.showNotificationForm),l(),M(" ",e.showNotificationForm?m(80,51,"admin.organizations.hideForm"):m(81,53,"admin.organizations.sendNotification")," "),l(3),D(e.showNotificationForm?82:-1)}}var hC=class n{constructor(t,e,i,o,r){this.organizationService=t;this.route=e;this.router=i;this.notifications=o;this.fb=r;this.initializeForm()}organization=null;isLoading=!0;isProcessing=!1;showNotificationForm=!1;notificationForm;notificationTypes=[{value:"approval",label:"admin.organizations.notificationType.approval",icon:"fa-check-circle",color:"success"},{value:"rejection",label:"admin.organizations.notificationType.rejection",icon:"fa-times-circle",color:"danger"},{value:"general",label:"admin.organizations.notificationType.general",icon:"fa-bell",color:"info"},{value:"status",label:"admin.organizations.notificationType.status",icon:"fa-info-circle",color:"primary"},{value:"verification",label:"admin.organizations.notificationType.verification",icon:"fa-shield-alt",color:"warning"}];destroy$=new me;initializeForm(){this.notificationForm=this.fb.group({type:["general",[te.required]],title:["",[te.required,te.minLength(3)]],message:["",[te.required,te.minLength(10)]]})}ngOnInit(){this.route.params.pipe(be(t=>{let e=t.id;return e?this.organizationService.getOrganization(e):(this.isLoading=!1,this.showErrorAlert("admin.organizations.invalidId"),Q(null))}),ne(this.destroy$)).subscribe({next:t=>{this.organization=t,this.isLoading=!1,t||this.showErrorAlert("admin.organizations.notFound")},error:t=>{console.error("Error loading organization:",t),this.isLoading=!1,this.showErrorAlert("admin.organizations.loadError")}})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}toggleNotificationForm(){this.showNotificationForm=!this.showNotificationForm,this.showNotificationForm&&this.resetForm()}resetForm(){this.notificationForm.reset({type:"general",title:"",message:""}),this.notificationForm.markAsUntouched(),this.notificationForm.markAsPristine()}getFormError(t){let e=this.notificationForm.get(t);return e?.hasError("required")&&e?.touched?t==="type"?"admin.organizations.typeRequired":t==="title"?"admin.organizations.titleRequired":"admin.organizations.messageRequired":e?.hasError("minlength")&&e?.touched?t==="title"?"admin.organizations.titleMinLength":"admin.organizations.messageMinLength":""}getNotificationTypeInfo(t){let e=this.notificationTypes.find(i=>i.value===t);return e?{icon:e.icon,color:e.color,description:e.label}:{icon:"fa-bell",color:"info",description:"admin.organizations.notificationType.general"}}doesTypeChangeStatus(t){return t==="approval"||t==="rejection"}onSubmitNotificationForm(){if(!this.organization)return;if(this.notificationForm.invalid){this.markFormGroupTouched(),this.showValidationError("admin.organizations.formInvalid");return}let{type:t,title:e,message:i}=this.notificationForm.value;this.isProcessing=!0,t==="approval"?this.handleApprovalAction(e.trim(),i.trim()):t==="rejection"?this.handleRejectionAction(e.trim(),i.trim()):this.handleNotificationOnly(e.trim(),i.trim(),t)}handleApprovalAction(t,e){this.organizationService.approveOrganization(this.organization.uid).pipe(ut(i=>this.handleError(i,"approval"))).subscribe({next:i=>{i!==null&&this.handleSuccess("approval",t,e)}})}handleRejectionAction(t,e){this.organizationService.rejectOrganization(this.organization.uid).pipe(ut(i=>this.handleError(i,"rejection"))).subscribe({next:i=>{i!==null&&this.handleSuccess("rejection",t,e)}})}handleNotificationOnly(t,e,i){this.sendNotification(t,e,i),this.isProcessing=!1,this.resetForm(),this.showNotificationForm=!1,this.showSuccessAlert("admin.organizations.notificationSent","admin.organizations.notificationSentMessage")}markFormGroupTouched(){Object.keys(this.notificationForm.controls).forEach(t=>{this.notificationForm.get(t)?.markAsTouched()})}handleSuccess(t,e,i){this.isProcessing=!1,this.organization&&(this.organization.status=t==="approval"?"approved":"rejected",this.sendNotification(e,i,t)),this.resetForm(),this.showNotificationForm=!1;let o=t==="approval"?"admin.organizations.approveSuccess":"admin.organizations.rejectSuccess",r=t==="approval"?"admin.organizations.approveSuccessMessage":"admin.organizations.rejectSuccessMessage";this.showSuccessAlert(o,r)}handleError(t,e){this.isProcessing=!1,console.error(`Error ${e}ing organization:`,t);let i=e==="approval"?"admin.organizations.approveError":"admin.organizations.rejectError";return this.showErrorAlert(i),Q(null)}showSuccessAlert(t,e){gC.default.fire({icon:"success",title:t,text:e||"",confirmButtonText:"admin.organizations.ok",confirmButtonColor:"#16A34A",timer:3e3,timerProgressBar:!0}).then(()=>{this.router.navigate(["/admin/organizations"])})}showErrorAlert(t){gC.default.fire({icon:"error",title:"admin.organizations.error",text:t,confirmButtonText:"admin.organizations.ok",confirmButtonColor:"#DC2626"})}showValidationError(t){gC.default.fire({icon:"warning",title:"admin.organizations.validationError",text:t,confirmButtonText:"admin.organizations.ok",confirmButtonColor:"#D97706"})}getStatusClass(t){switch(t){case"approved":return"badge-success";case"pending":return"badge-warning";case"rejected":return"badge-error";default:return"badge-secondary"}}getStatusKey(t){return`auth.profile.status.${t}`}formatDate(t){return t?new Date(t).toLocaleDateString("ar-EG",{year:"numeric",month:"long",day:"numeric"}):""}sendNotification(t,e,i){this.organization&&this.notifications.sendNotificationToOrganization(this.organization.uid,{title:t,message:e,type:i})}static \u0275fac=function(e){return new(e||n)(A(wn),A(tn),A(He),A(Io),A(xn))};static \u0275cmp=ce({type:n,selectors:[["app-organization-details"]],decls:9,vars:6,consts:[[1,"organization-details"],[1,"back-button"],["type","button","routerLink","/admin/organizations",1,"btn","btn-back"],[1,"fas","fa-arrow-left"],[1,"loading-state"],[1,"alert","alert-error"],[1,"details-content"],["role","status",1,"spinner-border","text-primary"],[1,"visually-hidden"],[1,"mt-3"],[1,"fas","fa-exclamation-circle"],[1,"details-header"],[1,"row","align-items-center"],[1,"col-12","col-md-6"],[1,"details-title"],[1,"fas","fa-building"],[1,"details-subtitle"],[1,"col-12","col-md-4","text-md-end"],[1,"status-badge",3,"ngClass"],[1,"fas"],[1,"row","g-4"],[1,"col-12","col-lg-8"],[1,"details-card"],[1,"card-title"],[1,"fas","fa-info-circle"],[1,"card-content"],[1,"row","g-3"],[1,"info-item"],[1,"info-label"],[1,"fas","fa-envelope"],[1,"info-value"],[1,"fas","fa-phone"],[1,"fas","fa-cog"],[1,"fas","fa-calendar"],[1,"col-12","col-lg-4"],[1,"fas","fa-id-card"],[1,"id-image-container"],[1,"id-image",3,"src","alt"],[1,"no-image"],[1,"col-12"],[1,"details-card","actions-card"],[1,"card-header"],[1,"fas","fa-bell"],[1,"card-description"],[1,"card-body"],["type","button",1,"btn","btn-primary","w-100","mb-3",3,"click","disabled"],[1,"notification-form",3,"formGroup"],[1,"fas","fa-image"],[1,"notification-form",3,"ngSubmit","formGroup"],["role","alert",1,"alert","alert-info","d-flex","align-items-center","mb-4"],[1,"fas","fa-lightbulb","me-2"],[1,"mb-0","small"],[1,"mb-3"],["for","notification-type",1,"form-label"],[1,"fas","fa-tag","me-2"],[1,"text-danger"],["id","notification-type","formControlName","type",1,"form-select",3,"disabled"],[3,"value"],[1,"invalid-feedback","d-block"],[1,"form-text","mt-2"],["for","notification-title",1,"form-label"],[1,"fas","fa-heading","me-2"],["type","text","id","notification-title","formControlName","title",1,"form-control",3,"placeholder","disabled"],[1,"mb-4"],["for","notification-message",1,"form-label"],[1,"fas","fa-comment-alt","me-2"],["id","notification-message","formControlName","message","rows","5",1,"form-control",3,"placeholder","disabled"],[1,"form-text"],[1,"fas","fa-info-circle","me-1"],[1,"d-flex","gap-2"],["type","button",1,"btn","btn-outline-secondary","flex-fill",3,"click","disabled"],[1,"fas","fa-times","me-2"],["type","submit",1,"btn","btn-primary","flex-fill",3,"disabled"],[1,"fas","fa-exclamation-circle","me-1"],[1,"alert","alert-warning","py-2","px-3","mb-0","mt-2"],[1,"alert","alert-info","py-2","px-3","mb-0","mt-2"],[1,"fas","fa-exclamation-triangle","me-2"],[1,"fas","fa-info-circle","me-2"],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm","me-2"],[1,"fas","fa-paper-plane","me-2"]],template:function(e,i){e&1&&(d(0,"div",0)(1,"div",1)(2,"button",2),b(3,"i",3),f(4),h(5,"translate"),p()(),T(6,Nne,8,6,"div",4),T(7,Lne,4,3,"div",5),T(8,Kne,83,55,"div",6),p()),e&2&&(l(4),M(" ",m(5,4,"admin.organizations.back")," "),l(2),D(i.isLoading?6:-1),l(),D(!i.isLoading&&!i.organization?7:-1),l(),D(!i.isLoading&&i.organization?8:-1))},dependencies:[pe,gn,Ne,Ue,fe,an,sn,zi,Bi,ht,gi,bt,rn,Wt,Zt,_e],styles:[`.organization-details[_ngcontent-%COMP%]   .back-button[_ngcontent-%COMP%]{margin-bottom:32px}.organization-details[_ngcontent-%COMP%]   .back-button[_ngcontent-%COMP%]   .btn-back[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:8px;padding:8px 16px;background:#0f172a1a;color:#0f172a;border:1px solid rgba(15,23,42,.2);border-radius:8px;font-weight:600;font-size:.9rem;font-family:Cairo,sans-serif;cursor:pointer;transition:all .3s ease;text-decoration:none}.organization-details[_ngcontent-%COMP%]   .back-button[_ngcontent-%COMP%]   .btn-back[_ngcontent-%COMP%]:hover{background:#0f172a33;border-color:#0f172a4d}.organization-details[_ngcontent-%COMP%]   .back-button[_ngcontent-%COMP%]   .btn-back[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.9rem}.organization-details[_ngcontent-%COMP%]   .loading-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;min-height:400px;text-align:center}.organization-details[_ngcontent-%COMP%]   .loading-state[_ngcontent-%COMP%]   .spinner-border[_ngcontent-%COMP%]{width:3rem;height:3rem;border-width:.3rem}.organization-details[_ngcontent-%COMP%]   .loading-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#0f172ab3;font-size:1rem;margin:0}.organization-details[_ngcontent-%COMP%]   .alert[_ngcontent-%COMP%]{padding:16px;border-radius:8px;margin-bottom:32px;display:flex;align-items:center;gap:8px;font-size:.9rem}.organization-details[_ngcontent-%COMP%]   .alert.alert-error[_ngcontent-%COMP%]{background:#dc26261a;color:#dc2626;border:1px solid rgba(220,38,38,.3)}.organization-details[_ngcontent-%COMP%]   .alert.alert-success[_ngcontent-%COMP%]{background:#16a34a1a;color:#16a34a;border:1px solid rgba(22,163,74,.3)}.organization-details[_ngcontent-%COMP%]   .alert[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1rem}.organization-details[_ngcontent-%COMP%]   .details-header[_ngcontent-%COMP%]{margin-bottom:64px;padding-bottom:32px;border-bottom:2px solid rgba(14,58,93,.1)}.organization-details[_ngcontent-%COMP%]   .details-header[_ngcontent-%COMP%]   .details-title[_ngcontent-%COMP%]{font-size:2.5rem;font-weight:700;color:#0e3a5d;margin-bottom:8px;font-family:Cairo,sans-serif;display:flex;align-items:center;gap:16px}.organization-details[_ngcontent-%COMP%]   .details-header[_ngcontent-%COMP%]   .details-title[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#c9a24d;font-size:2rem}.organization-details[_ngcontent-%COMP%]   .details-header[_ngcontent-%COMP%]   .details-subtitle[_ngcontent-%COMP%]{font-size:1rem;color:#0f172a99;margin:0}.organization-details[_ngcontent-%COMP%]   .details-header[_ngcontent-%COMP%]   .status-badge[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:8px;padding:8px 16px;border-radius:8px;font-weight:600;font-size:.9rem;font-family:Cairo,sans-serif}.organization-details[_ngcontent-%COMP%]   .details-header[_ngcontent-%COMP%]   .status-badge.badge-success[_ngcontent-%COMP%]{background:#16a34a1a;color:#16a34a;border:1px solid rgba(22,163,74,.3)}.organization-details[_ngcontent-%COMP%]   .details-header[_ngcontent-%COMP%]   .status-badge.badge-warning[_ngcontent-%COMP%]{background:#d977061a;color:#d97706;border:1px solid rgba(217,119,6,.3)}.organization-details[_ngcontent-%COMP%]   .details-header[_ngcontent-%COMP%]   .status-badge.badge-error[_ngcontent-%COMP%]{background:#dc26261a;color:#dc2626;border:1px solid rgba(220,38,38,.3)}.organization-details[_ngcontent-%COMP%]   .details-header[_ngcontent-%COMP%]   .status-badge[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1rem}.organization-details[_ngcontent-%COMP%]   .details-card[_ngcontent-%COMP%]{background:#fff;border-radius:16px;padding:32px;margin-bottom:32px;box-shadow:0 4px 8px #00000026;border:1px solid rgba(14,58,93,.1)}.organization-details[_ngcontent-%COMP%]   .details-card.actions-card[_ngcontent-%COMP%]{border:2px solid rgba(201,162,77,.2)}.organization-details[_ngcontent-%COMP%]   .details-card[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{font-size:1.3rem;font-weight:600;color:#0e3a5d;margin-bottom:16px;padding-bottom:16px;border-bottom:2px solid rgba(201,162,77,.2);display:flex;align-items:center;gap:8px;font-family:Cairo,sans-serif}.organization-details[_ngcontent-%COMP%]   .details-card[_ngcontent-%COMP%]   .card-description[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;color:#0e3a5db3;font-size:.9rem;margin-bottom:32px;padding:8px 16px;background:#c9a24d0d;border-radius:4px;border-left:3px solid #C9A24D}.organization-details[_ngcontent-%COMP%]   .details-card[_ngcontent-%COMP%]   .card-description[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#c9a24d;font-size:.9rem}.organization-details[_ngcontent-%COMP%]   .details-card[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#c9a24d;font-size:1.1rem}.organization-details[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]{margin-bottom:16px}.organization-details[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]:last-child{margin-bottom:0}.organization-details[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]   .info-label[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;font-weight:600;color:#0f172a;margin-bottom:4px;font-size:.9rem;font-family:Cairo,sans-serif}.organization-details[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]   .info-label[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#0e3a5d;font-size:.85rem;width:16px}.organization-details[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]   .info-value[_ngcontent-%COMP%]{color:#0f172acc;font-size:1rem;margin:0;padding-left:24px;word-break:break-word}.organization-details[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]   .info-value[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#c9a24d;text-decoration:none;transition:all .3s ease}.organization-details[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]   .info-value[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#a8832f;text-decoration:underline}.organization-details[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]   .info-value.text-muted[_ngcontent-%COMP%]{color:#0f172a80;font-size:.85rem}.id-image-container[_ngcontent-%COMP%]{width:100%;border-radius:8px;overflow:hidden;border:2px solid rgba(14,58,93,.1);background:#f6f7f9;transition:all .3s ease}.id-image-container[_ngcontent-%COMP%]:hover{border-color:#c9a24d;box-shadow:0 4px 8px #00000026}.id-image-container[_ngcontent-%COMP%]   .id-image[_ngcontent-%COMP%]{width:100%;height:auto;display:block;object-fit:contain;min-height:200px;max-height:400px;transition:transform .3s ease}.id-image-container[_ngcontent-%COMP%]   .id-image[_ngcontent-%COMP%]:hover{transform:scale(1.02)}.id-image-container[_ngcontent-%COMP%]   .no-image[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:64px;color:#0f172a66;min-height:200px}.id-image-container[_ngcontent-%COMP%]   .no-image[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:3rem;margin-bottom:16px}.id-image-container[_ngcontent-%COMP%]   .no-image[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:.9rem}.transfer-receipt-container[_ngcontent-%COMP%]{width:100%;border-radius:8px;overflow:hidden;border:2px solid rgba(201,162,77,.2);background:linear-gradient(135deg,#c9a24d0d,#f6f7f9);transition:all .3s ease;position:relative}.transfer-receipt-container[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:0;background:linear-gradient(135deg,rgba(201,162,77,.03) 0%,transparent 100%);pointer-events:none}.transfer-receipt-container[_ngcontent-%COMP%]:hover{border-color:#c9a24d;box-shadow:0 8px 16px #0003;transform:translateY(-2px)}.transfer-receipt-container[_ngcontent-%COMP%]   .transfer-receipt-image[_ngcontent-%COMP%]{width:100%;height:auto;display:block;object-fit:contain;min-height:200px;max-height:400px;transition:transform .3s ease;position:relative;z-index:1}.transfer-receipt-container[_ngcontent-%COMP%]   .transfer-receipt-image[_ngcontent-%COMP%]:hover{transform:scale(1.03)}.actions-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{margin-bottom:32px}.actions-card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{padding:0}.actions-card[_ngcontent-%COMP%]   .btn-primary.active[_ngcontent-%COMP%]{background:#ae8835;border-color:#ae8835;box-shadow:0 0 0 3px #c9a24d40}.actions-card[_ngcontent-%COMP%]   .notification-form[_ngcontent-%COMP%]{background:#fff;border:2px solid rgba(201,162,77,.15);border-radius:16px;padding:64px;box-shadow:0 4px 8px #00000026;margin-top:16px}.actions-card[_ngcontent-%COMP%]   .notification-form[_ngcontent-%COMP%]   .alert[_ngcontent-%COMP%]{border-left:4px solid;border-radius:8px;font-size:.9rem}.actions-card[_ngcontent-%COMP%]   .notification-form[_ngcontent-%COMP%]   .alert.alert-info[_ngcontent-%COMP%]{border-left-color:#c9a24d;background:#c9a24d14;color:#c9a24d}.actions-card[_ngcontent-%COMP%]   .notification-form[_ngcontent-%COMP%]   .alert.alert-warning[_ngcontent-%COMP%]{border-left-color:#d97706;background:#d9770614;color:#d97706}.actions-card[_ngcontent-%COMP%]   .notification-form[_ngcontent-%COMP%]   .form-label[_ngcontent-%COMP%]{font-weight:600;color:#0f172a;margin-bottom:8px;display:flex;align-items:center}.actions-card[_ngcontent-%COMP%]   .notification-form[_ngcontent-%COMP%]   .form-label[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#c9a24d}.actions-card[_ngcontent-%COMP%]   .notification-form[_ngcontent-%COMP%]   .form-label[_ngcontent-%COMP%]   .text-danger[_ngcontent-%COMP%]{margin-left:4px}.actions-card[_ngcontent-%COMP%]   .notification-form[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%], .actions-card[_ngcontent-%COMP%]   .notification-form[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{border:2px solid rgba(14,58,93,.2);border-radius:8px;padding:16px;font-size:.95rem;transition:all .2s ease;font-family:Cairo,sans-serif}.actions-card[_ngcontent-%COMP%]   .notification-form[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%]:focus, .actions-card[_ngcontent-%COMP%]   .notification-form[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:focus{border-color:#c9a24d;box-shadow:0 0 0 3px #c9a24d1a;outline:none}.actions-card[_ngcontent-%COMP%]   .notification-form[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%]:disabled, .actions-card[_ngcontent-%COMP%]   .notification-form[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:disabled{background-color:#f6f7f980;opacity:.7;cursor:not-allowed}.actions-card[_ngcontent-%COMP%]   .notification-form[_ngcontent-%COMP%]   .form-select.is-invalid[_ngcontent-%COMP%], .actions-card[_ngcontent-%COMP%]   .notification-form[_ngcontent-%COMP%]   .form-control.is-invalid[_ngcontent-%COMP%]{border-color:#dc2626}.actions-card[_ngcontent-%COMP%]   .notification-form[_ngcontent-%COMP%]   .form-select.is-invalid[_ngcontent-%COMP%]:focus, .actions-card[_ngcontent-%COMP%]   .notification-form[_ngcontent-%COMP%]   .form-control.is-invalid[_ngcontent-%COMP%]:focus{border-color:#dc2626;box-shadow:0 0 0 3px #dc26261a}.actions-card[_ngcontent-%COMP%]   .notification-form[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%]::placeholder, .actions-card[_ngcontent-%COMP%]   .notification-form[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]::placeholder{color:#0e3a5d80}.actions-card[_ngcontent-%COMP%]   .notification-form[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%]{cursor:pointer;background-image:url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16'%3e%3cpath fill='none' stroke='%23343a40' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M2 5l6 6 6-6'/%3e%3c/svg%3e");background-repeat:no-repeat;background-position:right .75rem center;background-size:16px 12px;padding-right:2.5rem}.actions-card[_ngcontent-%COMP%]   .notification-form[_ngcontent-%COMP%]   textarea.form-control[_ngcontent-%COMP%]{resize:vertical;min-height:120px}.actions-card[_ngcontent-%COMP%]   .notification-form[_ngcontent-%COMP%]   .invalid-feedback[_ngcontent-%COMP%]{display:flex;align-items:center;margin-top:4px;font-size:.85rem;color:#dc2626}.actions-card[_ngcontent-%COMP%]   .notification-form[_ngcontent-%COMP%]   .invalid-feedback[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.8rem}.actions-card[_ngcontent-%COMP%]   .notification-form[_ngcontent-%COMP%]   .form-text[_ngcontent-%COMP%]{color:#0e3a5db3;font-size:.85rem;margin-top:4px}.actions-card[_ngcontent-%COMP%]   .notification-form[_ngcontent-%COMP%]   .form-text[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#0e3a5d99}.actions-card[_ngcontent-%COMP%]   .notification-form[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{font-weight:600;padding:16px 32px;border-radius:8px;transition:all .2s ease;display:flex;align-items:center;justify-content:center}.actions-card[_ngcontent-%COMP%]   .notification-form[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.9rem}.actions-card[_ngcontent-%COMP%]   .notification-form[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.actions-card[_ngcontent-%COMP%]   .notification-form[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]{background:#c9a24d;border-color:#c9a24d}.actions-card[_ngcontent-%COMP%]   .notification-form[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]:hover:not(:disabled){background:#ae8835;border-color:#ae8835;transform:translateY(-2px);box-shadow:0 4px 8px #00000026}.actions-card[_ngcontent-%COMP%]   .notification-form[_ngcontent-%COMP%]   .btn-outline-secondary[_ngcontent-%COMP%]{border:2px solid rgba(14,58,93,.3);color:#0f172a}.actions-card[_ngcontent-%COMP%]   .notification-form[_ngcontent-%COMP%]   .btn-outline-secondary[_ngcontent-%COMP%]:hover:not(:disabled){background:#0e3a5d1a;border-color:#0e3a5d66}.actions-card[_ngcontent-%COMP%]   .notification-form[_ngcontent-%COMP%]   .spinner-border-sm[_ngcontent-%COMP%]{width:1rem;height:1rem;border-width:.15rem}@media (max-width: 991.98px){.organization-details[_ngcontent-%COMP%]   .details-header[_ngcontent-%COMP%]   .details-title[_ngcontent-%COMP%]{font-size:2rem}}@media (max-width: 767.98px){.organization-details[_ngcontent-%COMP%]   .details-header[_ngcontent-%COMP%]   .details-title[_ngcontent-%COMP%], .organization-details[_ngcontent-%COMP%]   .details-header[_ngcontent-%COMP%]   .details-title[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.5rem}.organization-details[_ngcontent-%COMP%]   .details-header[_ngcontent-%COMP%]   .status-badge[_ngcontent-%COMP%]{margin-top:16px}.organization-details[_ngcontent-%COMP%]   .details-card[_ngcontent-%COMP%]{padding:16px}.organization-details[_ngcontent-%COMP%]   .details-card[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{font-size:1.1rem}.organization-details[_ngcontent-%COMP%]   .details-card[_ngcontent-%COMP%]   .actions-card[_ngcontent-%COMP%]   .action-section[_ngcontent-%COMP%]{padding:8px}}`]})};var xf=Un(jn());var Yne=n=>["/admin/courses",n];function Zne(n,t){if(n&1&&(d(0,"option",26),f(1),h(2,"translate"),p()),n&2){let e=t.$implicit,i=x();E("value",e),l(),M(" ",m(2,2,i.getCategoryName(e))," ")}}function Jne(n,t){if(n&1&&(d(0,"option",26),f(1),h(2,"translate"),p()),n&2){let e=t.$implicit,i=x();E("value",e),l(),M(" ",m(2,2,i.getPrivacyName(e))," ")}}function Xne(n,t){n&1&&(d(0,"div",27)(1,"div",28)(2,"span",29),f(3),h(4,"translate"),p()(),d(5,"p"),f(6),h(7,"translate"),p()()),n&2&&(l(3),O(m(4,2,"admin.courses.loading")),l(3),O(m(7,4,"admin.courses.loadingCourses")))}function eie(n,t){if(n&1&&b(0,"img",55),n&2){let e=x().$implicit;E("src",e.thumbnail,Je)("alt",e.title)}}function tie(n,t){n&1&&(d(0,"div",56),b(1,"i",4),p())}function nie(n,t){n&1&&b(0,"i",57)}function iie(n,t){n&1&&b(0,"i",58)}function oie(n,t){if(n&1){let e=J();d(0,"div",33)(1,"div",34)(2,"div",35),se(3,eie,1,2,"img",36)(4,tie,2,0,"div",37),d(5,"span",38),b(6,"i",39),f(7),h(8,"translate"),p()(),d(9,"div",40)(10,"h3",41),f(11),p(),d(12,"p",42),f(13),h(14,"slice"),p(),d(15,"div",43)(16,"span",44),b(17,"i",45),f(18),h(19,"translate"),p(),d(20,"span",44),se(21,nie,1,0,"i",46)(22,iie,1,0,"i",47),f(23),h(24,"translate"),p(),d(25,"span",44),b(26,"i",48),f(27),h(28,"translate"),p()()(),d(29,"div",49)(30,"a",50),b(31,"i",51),f(32),h(33,"translate"),p(),d(34,"button",52),R("click",function(){let o=$(e).$implicit,r=x(2);return q(r.togglePublish(o))}),b(35,"i",39),f(36),h(37,"translate"),p(),d(38,"button",53),R("click",function(){let o=$(e).$implicit,r=x(2);return q(r.deleteCourse(o))}),b(39,"i",54),f(40),h(41,"translate"),p()()()()}if(n&2){let e=t.$implicit,i=x(2);l(3),E("ngIf",e.thumbnail),l(),E("ngIf",!e.thumbnail),l(),V("published",e.published)("unpublished",!e.published),l(),V("fa-check-circle",e.published)("fa-times-circle",!e.published),l(),M(" ",m(8,32,e.published?"admin.courses.published":"admin.courses.unpublished")," "),l(4),O(e.title),l(2),tt("",wu(14,34,e.description,0,100),"",e.description.length>100?"...":""),l(5),M(" ",m(19,38,i.getCategoryName(e.category))," "),l(3),E("ngIf",e.Privacy==="premium"),l(),E("ngIf",e.Privacy==="free"),l(),M(" ",m(24,40,i.getPrivacyName(e.Privacy))," "),l(4),tt(" ",e.duration," ",m(28,42,"admin.courses.hours")," "),l(3),E("routerLink",os(50,Yne,e.id)),l(2),M(" ",m(33,44,"admin.courses.edit")," "),l(2),V("btn-success",!e.published)("btn-warning",e.published),l(),V("fa-eye",!e.published)("fa-eye-slash",e.published),l(),M(" ",m(37,46,e.published?"admin.courses.unpublish":"admin.courses.publish")," "),l(4),M(" ",m(41,48,"admin.courses.delete")," ")}}function rie(n,t){if(n&1&&(d(0,"div",30)(1,"div",31),se(2,oie,42,52,"div",32),p()()),n&2){let e=x();l(2),E("ngForOf",e.filteredCourses)}}function sie(n,t){n&1&&(d(0,"p"),f(1),h(2,"translate"),p()),n&2&&(l(),M(" ",m(2,1,"admin.courses.noCoursesFiltered")," "))}function aie(n,t){n&1&&(d(0,"p"),f(1),h(2,"translate"),p()),n&2&&(l(),M(" ",m(2,1,"admin.courses.noCoursesDescription")," "))}function cie(n,t){n&1&&(d(0,"a",64),b(1,"i",7),f(2),h(3,"translate"),p()),n&2&&(l(2),M(" ",m(3,1,"admin.courses.createFirstCourse")," "))}function lie(n,t){if(n&1&&(d(0,"div",59)(1,"div",60),b(2,"i",61),d(3,"h3"),f(4),h(5,"translate"),p(),se(6,sie,3,3,"p",62)(7,aie,3,3,"p",62)(8,cie,4,3,"a",63),p()()),n&2){let e=x();l(4),O(m(5,4,"admin.courses.noCourses")),l(2),E("ngIf",e.searchQuery||e.selectedCategory!=="all"||e.selectedPrivacy!=="all"||e.publishedFilter!=="all"),l(),E("ngIf",!e.searchQuery&&e.selectedCategory==="all"&&e.selectedPrivacy==="all"&&e.publishedFilter==="all"),l(),E("ngIf",!e.searchQuery&&e.selectedCategory==="all"&&e.selectedPrivacy==="all"&&e.publishedFilter==="all")}}var mC=class n{constructor(t){this.coursesService=t}courses=[];filteredCourses=[];isLoading=!1;searchQuery="";selectedCategory="all";selectedPrivacy="all";publishedFilter="all";categories=["programming","design","marketing","business","technology","health","education","other"];privacyTypes=["free","premium"];destroy$=new me;ngOnInit(){this.loadCourses()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}loadCourses(){this.isLoading=!0,this.coursesService.getAllCourses().pipe(ne(this.destroy$)).subscribe({next:t=>{this.courses=t,this.applyFilters(),this.isLoading=!1},error:t=>{console.error("Error loading courses:",t),this.isLoading=!1,this.showErrorAlert("admin.courses.loadError")}})}applyFilters(){this.filteredCourses=this.courses.filter(t=>{let e=!this.searchQuery||t.title.toLowerCase().includes(this.searchQuery.toLowerCase())||t.description.toLowerCase().includes(this.searchQuery.toLowerCase()),i=this.selectedCategory==="all"||t.category===this.selectedCategory,o=this.selectedPrivacy==="all"||t.Privacy===this.selectedPrivacy,r=this.publishedFilter==="all"||this.publishedFilter==="published"&&t.published||this.publishedFilter==="unpublished"&&!t.published;return e&&i&&o&&r})}deleteCourse(t){xf.default.fire({title:"admin.courses.deleteConfirmTitle",text:"admin.courses.deleteConfirmText",icon:"warning",showCancelButton:!0,confirmButtonText:"admin.courses.delete",cancelButtonText:"admin.courses.cancel",confirmButtonColor:"#DC2626",cancelButtonColor:"#6B7280"}).then(e=>{e.isConfirmed&&this.coursesService.deleteCourse(t.id).pipe(ne(this.destroy$)).subscribe({next:()=>{this.showSuccessAlert("admin.courses.deleteSuccess"),this.loadCourses()},error:i=>{console.error("Error deleting course:",i),this.showErrorAlert("admin.courses.deleteError")}})})}togglePublish(t){let e=t.published?"unpublish":"publish",i=t.published?"admin.courses.unpublish":"admin.courses.publish";xf.default.fire({title:"admin.courses.confirmAction",text:i,icon:"question",showCancelButton:!0,confirmButtonText:"admin.courses.confirm",cancelButtonText:"admin.courses.cancel",confirmButtonColor:"#16A34A",cancelButtonColor:"#6B7280"}).then(o=>{o.isConfirmed&&(t.published?this.coursesService.unpublishCourse(t.id):this.coursesService.publishCourse(t.id)).pipe(ne(this.destroy$)).subscribe({next:()=>{this.showSuccessAlert(t.published?"admin.courses.unpublishSuccess":"admin.courses.publishSuccess"),this.loadCourses()},error:s=>{console.error(`Error ${e}ing course:`,s),this.showErrorAlert(`admin.courses.${e}Error`)}})})}getCategoryName(t){return`admin.courses.categories.${t}`}getPrivacyName(t){return t==="free"?"admin.courses.privacy.free":"admin.courses.privacy.premium"}showSuccessAlert(t){xf.default.fire({icon:"success",title:"admin.courses.success",text:t,confirmButtonText:"admin.courses.ok",confirmButtonColor:"#16A34A"})}showErrorAlert(t){xf.default.fire({icon:"error",title:"admin.courses.error",text:t,confirmButtonText:"admin.courses.ok",confirmButtonColor:"#DC2626"})}static \u0275fac=function(e){return new(e||n)(A(jr))};static \u0275cmp=ce({type:n,selectors:[["app-courses-list"]],decls:54,vars:40,consts:[[1,"courses-list"],[1,"page-header"],[1,"header-content"],[1,"page-title"],[1,"fas","fa-book"],[1,"page-subtitle"],["routerLink","/admin/courses/new",1,"btn","btn-primary","create-btn"],[1,"fas","fa-plus"],[1,"filters-section"],[1,"row","g-3"],[1,"col-12","col-md-4"],["dir","ltr",1,"input-group"],[1,"input-group-text"],[1,"fas","fa-search"],["type","text",1,"form-control",3,"ngModelChange","ngModel","placeholder"],[1,"col-12","col-md-2"],[1,"form-select",3,"ngModelChange","ngModel"],["value","all"],[3,"value",4,"ngFor","ngForOf"],["value","published"],["value","unpublished"],[1,"results-count"],[1,"badge","bg-secondary"],["class","loading-state",4,"ngIf"],["class","courses-grid",4,"ngIf"],["class","empty-state",4,"ngIf"],[3,"value"],[1,"loading-state"],["role","status",1,"spinner-border","text-primary"],[1,"visually-hidden"],[1,"courses-grid"],[1,"row","g-4"],["class","col-12 col-md-6 col-lg-4",4,"ngFor","ngForOf"],[1,"col-12","col-md-6","col-lg-4"],[1,"course-card"],[1,"course-thumbnail"],[3,"src","alt",4,"ngIf"],["class","thumbnail-placeholder",4,"ngIf"],[1,"status-badge"],[1,"fas"],[1,"course-info"],[1,"course-title"],[1,"course-description"],[1,"course-meta"],[1,"meta-item"],[1,"fas","fa-tag"],["class","fas fa-lock",4,"ngIf"],["class","fas fa-unlock",4,"ngIf"],[1,"fas","fa-clock"],[1,"course-actions"],[1,"btn","btn-sm","btn-outline-primary",3,"routerLink"],[1,"fas","fa-edit"],["type","button",1,"btn","btn-sm",3,"click"],["type","button",1,"btn","btn-sm","btn-outline-danger",3,"click"],[1,"fas","fa-trash"],[3,"src","alt"],[1,"thumbnail-placeholder"],[1,"fas","fa-lock"],[1,"fas","fa-unlock"],[1,"empty-state"],[1,"empty-state-content"],[1,"fas","fa-book-open"],[4,"ngIf"],["routerLink","/admin/courses/new","class","btn btn-primary",4,"ngIf"],["routerLink","/admin/courses/new",1,"btn","btn-primary"]],template:function(e,i){e&1&&(d(0,"div",0)(1,"div",1)(2,"div",2)(3,"div")(4,"h1",3),b(5,"i",4),f(6),h(7,"translate"),p(),d(8,"p",5),f(9),h(10,"translate"),p()(),d(11,"a",6),b(12,"i",7),f(13),h(14,"translate"),p()()(),d(15,"div",8)(16,"div",9)(17,"div",10)(18,"div",11)(19,"span",12),b(20,"i",13),p(),d(21,"input",14),h(22,"translate"),Kn("ngModelChange",function(r){return ai(i.searchQuery,r)||(i.searchQuery=r),r}),R("ngModelChange",function(){return i.applyFilters()}),p()()(),d(23,"div",15)(24,"select",16),Kn("ngModelChange",function(r){return ai(i.selectedCategory,r)||(i.selectedCategory=r),r}),R("ngModelChange",function(){return i.applyFilters()}),d(25,"option",17),f(26),h(27,"translate"),p(),se(28,Zne,3,4,"option",18),p()(),d(29,"div",15)(30,"select",16),Kn("ngModelChange",function(r){return ai(i.selectedPrivacy,r)||(i.selectedPrivacy=r),r}),R("ngModelChange",function(){return i.applyFilters()}),d(31,"option",17),f(32),h(33,"translate"),p(),se(34,Jne,3,4,"option",18),p()(),d(35,"div",15)(36,"select",16),Kn("ngModelChange",function(r){return ai(i.publishedFilter,r)||(i.publishedFilter=r),r}),R("ngModelChange",function(){return i.applyFilters()}),d(37,"option",17),f(38),h(39,"translate"),p(),d(40,"option",19),f(41),h(42,"translate"),p(),d(43,"option",20),f(44),h(45,"translate"),p()()(),d(46,"div",15)(47,"div",21)(48,"span",22),f(49),h(50,"translate"),p()()()()(),se(51,Xne,8,6,"div",23)(52,rie,3,1,"div",24)(53,lie,9,6,"div",25),p()),e&2&&(l(6),M(" ",m(7,20,"admin.courses.title")," "),l(3),O(m(10,22,"admin.courses.subtitle")),l(4),M(" ",m(14,24,"admin.courses.createCourse")," "),l(8),Qn("ngModel",i.searchQuery),E("placeholder",m(22,26,"admin.courses.searchPlaceholder")),l(3),Qn("ngModel",i.selectedCategory),l(2),O(m(27,28,"admin.courses.allCategories")),l(2),E("ngForOf",i.categories),l(2),Qn("ngModel",i.selectedPrivacy),l(2),O(m(33,30,"admin.courses.allPrivacy")),l(2),E("ngForOf",i.privacyTypes),l(2),Qn("ngModel",i.publishedFilter),l(2),O(m(39,32,"admin.courses.allStatus")),l(3),O(m(42,34,"admin.courses.published")),l(3),O(m(45,36,"admin.courses.unpublished")),l(5),tt(" ",i.filteredCourses.length," ",m(50,38,"admin.courses.courses")," "),l(2),E("ngIf",i.isLoading),l(),E("ngIf",!i.isLoading&&i.filteredCourses.length>0),l(),E("ngIf",!i.isLoading&&i.filteredCourses.length===0))},dependencies:[pe,di,Yn,Ne,Ue,fe,zr,zi,Bi,ht,gi,bt,er,Ru,_e],styles:[".courses-list[_ngcontent-%COMP%]   .page-header[_ngcontent-%COMP%]{margin-bottom:64px;padding-bottom:32px;border-bottom:2px solid rgba(14,58,93,.1)}.courses-list[_ngcontent-%COMP%]   .page-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;gap:32px}.courses-list[_ngcontent-%COMP%]   .page-header[_ngcontent-%COMP%]   .page-title[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;color:#0e3a5d;margin-bottom:8px;font-family:Cairo,sans-serif;display:flex;align-items:center;gap:16px}.courses-list[_ngcontent-%COMP%]   .page-header[_ngcontent-%COMP%]   .page-title[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#c9a24d;font-size:1.8rem}.courses-list[_ngcontent-%COMP%]   .page-header[_ngcontent-%COMP%]   .page-subtitle[_ngcontent-%COMP%]{font-size:1rem;color:#0f172a99;margin:0}.courses-list[_ngcontent-%COMP%]   .page-header[_ngcontent-%COMP%]   .create-btn[_ngcontent-%COMP%]{white-space:nowrap;display:flex;align-items:center;gap:8px}.courses-list[_ngcontent-%COMP%]   .filters-section[_ngcontent-%COMP%]{background:#fff;padding:32px;border-radius:16px;box-shadow:0 1px 2px #0000001a;margin-bottom:64px}.courses-list[_ngcontent-%COMP%]   .filters-section[_ngcontent-%COMP%]   .input-group-text[_ngcontent-%COMP%]{background:#c9a24d1a;border-color:#c9a24d33;color:#c9a24d}.courses-list[_ngcontent-%COMP%]   .filters-section[_ngcontent-%COMP%]   .results-count[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;height:100%}.courses-list[_ngcontent-%COMP%]   .filters-section[_ngcontent-%COMP%]   .results-count[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{font-size:.9rem;padding:8px 16px}.courses-list[_ngcontent-%COMP%]   .loading-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;min-height:300px;text-align:center}.courses-list[_ngcontent-%COMP%]   .loading-state[_ngcontent-%COMP%]   .spinner-border[_ngcontent-%COMP%]{width:3rem;height:3rem;border-width:.3rem;margin-bottom:16px}.courses-list[_ngcontent-%COMP%]   .loading-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#0f172ab3;font-size:1rem;margin:0}.courses-list[_ngcontent-%COMP%]   .courses-grid[_ngcontent-%COMP%]   .course-card[_ngcontent-%COMP%]{background:#fff;border-radius:16px;box-shadow:0 4px 8px #00000026;overflow:hidden;transition:transform .2s,box-shadow .2s;height:100%;display:flex;flex-direction:column}.courses-list[_ngcontent-%COMP%]   .courses-grid[_ngcontent-%COMP%]   .course-card[_ngcontent-%COMP%]:hover{transform:translateY(-4px);box-shadow:0 8px 16px #0003}.courses-list[_ngcontent-%COMP%]   .courses-grid[_ngcontent-%COMP%]   .course-card[_ngcontent-%COMP%]   .course-thumbnail[_ngcontent-%COMP%]{position:relative;width:100%;height:200px;overflow:hidden;background:linear-gradient(135deg,#c9a24d1a,#0e3a5d1a)}.courses-list[_ngcontent-%COMP%]   .courses-grid[_ngcontent-%COMP%]   .course-card[_ngcontent-%COMP%]   .course-thumbnail[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.courses-list[_ngcontent-%COMP%]   .courses-grid[_ngcontent-%COMP%]   .course-card[_ngcontent-%COMP%]   .course-thumbnail[_ngcontent-%COMP%]   .thumbnail-placeholder[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;align-items:center;justify-content:center;background:linear-gradient(135deg,#c9a24d1a,#0e3a5d1a)}.courses-list[_ngcontent-%COMP%]   .courses-grid[_ngcontent-%COMP%]   .course-card[_ngcontent-%COMP%]   .course-thumbnail[_ngcontent-%COMP%]   .thumbnail-placeholder[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:4rem;color:#c9a24d4d}.courses-list[_ngcontent-%COMP%]   .courses-grid[_ngcontent-%COMP%]   .course-card[_ngcontent-%COMP%]   .course-thumbnail[_ngcontent-%COMP%]   .status-badge[_ngcontent-%COMP%]{position:absolute;top:8px;right:8px;padding:4px 8px;border-radius:8px;font-size:.75rem;font-weight:600;display:flex;align-items:center;gap:4px;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}.courses-list[_ngcontent-%COMP%]   .courses-grid[_ngcontent-%COMP%]   .course-card[_ngcontent-%COMP%]   .course-thumbnail[_ngcontent-%COMP%]   .status-badge.published[_ngcontent-%COMP%]{background:#16a34ae6;color:#fff}.courses-list[_ngcontent-%COMP%]   .courses-grid[_ngcontent-%COMP%]   .course-card[_ngcontent-%COMP%]   .course-thumbnail[_ngcontent-%COMP%]   .status-badge.unpublished[_ngcontent-%COMP%]{background:#dc2626e6;color:#fff}.courses-list[_ngcontent-%COMP%]   .courses-grid[_ngcontent-%COMP%]   .course-card[_ngcontent-%COMP%]   .course-info[_ngcontent-%COMP%]{padding:32px;flex:1;display:flex;flex-direction:column}.courses-list[_ngcontent-%COMP%]   .courses-grid[_ngcontent-%COMP%]   .course-card[_ngcontent-%COMP%]   .course-info[_ngcontent-%COMP%]   .course-title[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:700;color:#0e3a5d;margin-bottom:8px;font-family:Cairo,sans-serif}.courses-list[_ngcontent-%COMP%]   .courses-grid[_ngcontent-%COMP%]   .course-card[_ngcontent-%COMP%]   .course-info[_ngcontent-%COMP%]   .course-description[_ngcontent-%COMP%]{font-size:.9rem;color:#0f172ab3;margin-bottom:16px;flex:1;line-height:1.6}.courses-list[_ngcontent-%COMP%]   .courses-grid[_ngcontent-%COMP%]   .course-card[_ngcontent-%COMP%]   .course-info[_ngcontent-%COMP%]   .course-meta[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:16px;margin-top:auto}.courses-list[_ngcontent-%COMP%]   .courses-grid[_ngcontent-%COMP%]   .course-card[_ngcontent-%COMP%]   .course-info[_ngcontent-%COMP%]   .course-meta[_ngcontent-%COMP%]   .meta-item[_ngcontent-%COMP%]{font-size:.85rem;color:#0f172a99;display:flex;align-items:center;gap:4px}.courses-list[_ngcontent-%COMP%]   .courses-grid[_ngcontent-%COMP%]   .course-card[_ngcontent-%COMP%]   .course-info[_ngcontent-%COMP%]   .course-meta[_ngcontent-%COMP%]   .meta-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#c9a24d}.courses-list[_ngcontent-%COMP%]   .courses-grid[_ngcontent-%COMP%]   .course-card[_ngcontent-%COMP%]   .course-actions[_ngcontent-%COMP%]{padding:16px 32px;border-top:1px solid rgba(14,58,93,.1);display:flex;gap:8px;flex-wrap:wrap}.courses-list[_ngcontent-%COMP%]   .courses-grid[_ngcontent-%COMP%]   .course-card[_ngcontent-%COMP%]   .course-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{flex:1;min-width:100px;font-size:.85rem}.courses-list[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;min-height:400px;padding:64px}.courses-list[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   .empty-state-content[_ngcontent-%COMP%]{text-align:center;max-width:500px}.courses-list[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   .empty-state-content[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:5rem;color:#c9a24d4d;margin-bottom:32px}.courses-list[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   .empty-state-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;color:#0e3a5d;margin-bottom:16px;font-family:Cairo,sans-serif}.courses-list[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   .empty-state-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem;color:#0f172a99;margin-bottom:32px;line-height:1.6}@media (max-width: 991.98px){.courses-list[_ngcontent-%COMP%]   .page-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{flex-direction:column}.courses-list[_ngcontent-%COMP%]   .page-header[_ngcontent-%COMP%]   .create-btn[_ngcontent-%COMP%]{width:100%;justify-content:center}}@media (max-width: 767.98px){.courses-list[_ngcontent-%COMP%]   .page-header[_ngcontent-%COMP%]   .page-title[_ngcontent-%COMP%], .courses-list[_ngcontent-%COMP%]   .page-header[_ngcontent-%COMP%]   .page-title[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.5rem}.courses-list[_ngcontent-%COMP%]   .filters-section[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{margin-bottom:16px}.courses-list[_ngcontent-%COMP%]   .courses-grid[_ngcontent-%COMP%]   .course-card[_ngcontent-%COMP%]   .course-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{flex:1 1 100%}}"]})};var yC=Un(jn());function die(n,t){if(n&1&&(d(0,"div",47),f(1),h(2,"translate"),p()),n&2){let e=x();l(),M(" ",m(2,1,e.getFormError("title"))," ")}}function uie(n,t){if(n&1&&(d(0,"div",47),f(1),h(2,"translate"),p()),n&2){let e=x();l(),M(" ",m(2,1,e.getFormError("description"))," ")}}function pie(n,t){if(n&1&&(d(0,"option",48),f(1),h(2,"translate"),p()),n&2){let e=t.$implicit,i=x();E("value",e),l(),M(" ",m(2,2,i.getCategoryName(e))," ")}}function fie(n,t){if(n&1&&(d(0,"div",47),f(1),h(2,"translate"),p()),n&2){let e=x();l(),M(" ",m(2,1,e.getFormError("category"))," ")}}function gie(n,t){if(n&1&&(d(0,"option",48),f(1),h(2,"translate"),p()),n&2){let e=t.$implicit,i=x();E("value",e),l(),M(" ",m(2,2,i.getPrivacyName(e))," ")}}function hie(n,t){if(n&1&&(d(0,"div",47),f(1),h(2,"translate"),p()),n&2){let e=x();l(),M(" ",m(2,1,e.getFormError("Privacy"))," ")}}function mie(n,t){n&1&&(d(0,"span"),f(1),h(2,"translate"),p()),n&2&&(l(),M(" ",m(2,1,"admin.courses.selectThumbnail")," "))}function _ie(n,t){n&1&&(d(0,"span",49),b(1,"span",50),f(2),h(3,"translate"),p()),n&2&&(l(2),M(" ",m(3,1,"admin.courses.compressing")," "))}function Cie(n,t){if(n&1&&(d(0,"div",51),f(1),h(2,"translate"),p()),n&2){let e=x();l(),M(" ",m(2,1,e.getFormError("thumbnail"))," ")}}function vie(n,t){if(n&1){let e=J();d(0,"div",52)(1,"div",53),b(2,"img",54),d(3,"button",55),R("click",function(){$(e);let o=x();return q(o.removeThumbnail())}),b(4,"i",46),p()()()}if(n&2){let e=x();l(2),E("src",e.thumbnailPreview,Je),l(),E("disabled",e.isCompressingImage||e.isSaving)}}function bie(n,t){if(n&1&&(d(0,"div",47),f(1),h(2,"translate"),p()),n&2){let e=x();l(),M(" ",m(2,1,e.getFormError("duration"))," ")}}function yie(n,t){n&1&&b(0,"span",56)}var _C=class n{constructor(t){this.fb=t;this.courseForm=this.fb.group({title:["",[te.required,te.minLength(3)]],description:["",[te.required,te.minLength(10)]],category:["",te.required],thumbnail:["",te.required],introYouTubeVideo:[""],duration:[0,[te.required,te.min(.5)]],Privacy:["free",te.required],published:[!1]})}course=null;isSaving=!1;saveCourse=new et;cancel=new et;courseForm;isCompressingImage=!1;thumbnailPreview=null;categories=["programming","design","marketing","business","technology","health","education","other"];privacyTypes=["free","premium"];ngOnInit(){this.course&&this.populateForm()}ngOnChanges(t){t.course&&this.course&&this.populateForm()}populateForm(){this.course&&(this.courseForm.patchValue({title:this.course.title,description:this.course.description,category:this.course.category,thumbnail:this.course.thumbnail,introYouTubeVideo:this.course.introYouTubeVideo||"",duration:this.course.duration,Privacy:this.course.Privacy,published:this.course.published}),this.course.thumbnail&&(this.thumbnailPreview=this.course.thumbnail))}onSubmit(){if(this.courseForm.invalid){this.markFormGroupTouched();return}this.saveCourse.emit(this.courseForm.value)}getCategoryName(t){return`admin.courses.categories.${t}`}getPrivacyName(t){return t==="free"?"admin.courses.privacy.free":"admin.courses.privacy.premium"}markFormGroupTouched(){Object.keys(this.courseForm.controls).forEach(t=>{this.courseForm.get(t)?.markAsTouched()})}compressAndResizeImage(t){return new Promise((e,i)=>{let o=new FileReader;o.onload=r=>{let s=new Image;s.onload=()=>{let c=s.width,u=s.height;c>800&&(u=u*800/c,c=800);let C=document.createElement("canvas");C.width=c,C.height=u;let v=C.getContext("2d");if(!v){i(new Error("Could not get canvas context"));return}v.drawImage(s,0,0,c,u);let w=C.toDataURL("image/jpeg",.7);e(w)},s.onerror=()=>{i(new Error("Failed to load image"))},s.src=r.target?.result},o.onerror=()=>{i(new Error("Failed to read file"))},o.readAsDataURL(t)})}onThumbnailSelected(t){let i=t.target.files?.[0];if(!i||!i.type.startsWith("image/"))return;let o=5*1024*1024;i.size>o||(this.isCompressingImage=!0,this.compressAndResizeImage(i).then(r=>{this.thumbnailPreview=r,this.courseForm.patchValue({thumbnail:r}),this.isCompressingImage=!1}).catch(r=>{console.error("Error compressing image:",r),this.isCompressingImage=!1}))}removeThumbnail(){this.thumbnailPreview=null,this.courseForm.patchValue({thumbnail:""});let t=document.getElementById("thumbnailFile");t&&(t.value="")}getFormError(t){let e=this.courseForm.get(t);if(e&&e.touched&&e.errors){if(e.errors.required)return"admin.courses.fieldRequired";if(e.errors.minlength)return"admin.courses.fieldMinLength";if(e.errors.min)return"admin.courses.durationMin"}return""}static \u0275fac=function(e){return new(e||n)(A(xn))};static \u0275cmp=ce({type:n,selectors:[["app-info"]],inputs:{course:"course",isSaving:"isSaving"},outputs:{saveCourse:"saveCourse",cancel:"cancel"},features:[_n],decls:105,vars:84,consts:[[1,"course-info"],[1,"card"],[1,"card-header"],[1,"card-title"],[1,"fas","fa-info-circle"],[1,"card-body"],[3,"ngSubmit","formGroup"],[1,"row","g-3"],[1,"col-12"],["for","title",1,"form-label"],[1,"text-danger"],["type","text","id","title","formControlName","title",1,"form-control",3,"placeholder"],["class","invalid-feedback",4,"ngIf"],["for","description",1,"form-label"],["id","description","rows","5","formControlName","description",1,"form-control",3,"placeholder"],[1,"col-12","col-md-6"],["for","category",1,"form-label"],["id","category","formControlName","category",1,"form-select"],["value",""],[3,"value",4,"ngFor","ngForOf"],["for","Privacy",1,"form-label"],["id","Privacy","formControlName","Privacy",1,"form-select"],[1,"form-label"],["type","text","id","thumbnail","formControlName","thumbnail",1,"d-none"],[1,"thumbnail-upload-container"],["type","file","id","thumbnailFile","accept","image/*",1,"thumbnail-file-input",3,"change","disabled"],["for","thumbnailFile",1,"thumbnail-upload-label"],[1,"upload-content"],[1,"fas","fa-cloud-upload-alt"],[4,"ngIf"],["class","compressing",4,"ngIf"],["class","invalid-feedback d-block",4,"ngIf"],[1,"form-text"],["class","thumbnail-preview-container mt-3",4,"ngIf"],["for","introYouTubeVideo",1,"form-label"],["type","url","id","introYouTubeVideo","formControlName","introYouTubeVideo",1,"form-control",3,"placeholder"],["for","duration",1,"form-label"],["type","number","id","duration","step","0.5","min","0.5","formControlName","duration",1,"form-control",3,"placeholder"],[1,"form-check","form-switch","mt-4"],["type","checkbox","id","published","formControlName","published",1,"form-check-input"],["for","published",1,"form-check-label"],[1,"form-actions","mt-4"],["type","submit",1,"btn","btn-primary",3,"disabled"],[1,"fas","fa-save"],["class","spinner-border spinner-border-sm ms-2","role","status",4,"ngIf"],["type","button",1,"btn","btn-outline-secondary",3,"click"],[1,"fas","fa-times"],[1,"invalid-feedback"],[3,"value"],[1,"compressing"],["role","status",1,"spinner-border","spinner-border-sm","me-2"],[1,"invalid-feedback","d-block"],[1,"thumbnail-preview-container","mt-3"],[1,"thumbnail-preview-wrapper"],["alt","Thumbnail preview",1,"thumbnail-preview",3,"src"],["type","button",1,"btn","btn-sm","btn-danger","thumbnail-remove-btn",3,"click","disabled"],["role","status",1,"spinner-border","spinner-border-sm","ms-2"]],template:function(e,i){if(e&1&&(d(0,"div",0)(1,"div",1)(2,"div",2)(3,"h3",3),b(4,"i",4),f(5),h(6,"translate"),p()(),d(7,"div",5)(8,"form",6),R("ngSubmit",function(){return i.onSubmit()}),d(9,"div",7)(10,"div",8)(11,"label",9),f(12),h(13,"translate"),d(14,"span",10),f(15,"*"),p()(),b(16,"input",11),h(17,"translate"),se(18,die,3,3,"div",12),p(),d(19,"div",8)(20,"label",13),f(21),h(22,"translate"),d(23,"span",10),f(24,"*"),p()(),b(25,"textarea",14),h(26,"translate"),se(27,uie,3,3,"div",12),p(),d(28,"div",15)(29,"label",16),f(30),h(31,"translate"),d(32,"span",10),f(33,"*"),p()(),d(34,"select",17)(35,"option",18),f(36),h(37,"translate"),p(),se(38,pie,3,4,"option",19),p(),se(39,fie,3,3,"div",12),p(),d(40,"div",15)(41,"label",20),f(42),h(43,"translate"),d(44,"span",10),f(45,"*"),p()(),d(46,"select",21),se(47,gie,3,4,"option",19),p(),se(48,hie,3,3,"div",12),p(),d(49,"div",8)(50,"label",22),f(51),h(52,"translate"),d(53,"span",10),f(54,"*"),p()(),b(55,"input",23),d(56,"div",24)(57,"input",25),R("change",function(r){return i.onThumbnailSelected(r)}),p(),d(58,"label",26)(59,"div",27),b(60,"i",28),se(61,mie,3,3,"span",29)(62,_ie,4,3,"span",30),p()()(),se(63,Cie,3,3,"div",31),d(64,"div",32),f(65),h(66,"translate"),p(),se(67,vie,5,2,"div",33),p(),d(68,"div",8)(69,"label",34),f(70),h(71,"translate"),p(),b(72,"input",35),h(73,"translate"),d(74,"div",32),f(75),h(76,"translate"),p()(),d(77,"div",15)(78,"label",36),f(79),h(80,"translate"),d(81,"span",10),f(82,"*"),p()(),b(83,"input",37),h(84,"translate"),se(85,bie,3,3,"div",12),d(86,"div",32),f(87),h(88,"translate"),p()(),d(89,"div",15)(90,"div",38),b(91,"input",39),d(92,"label",40),f(93),h(94,"translate"),p()()()(),d(95,"div",41)(96,"button",42),b(97,"i",43),f(98),h(99,"translate"),se(100,yie,1,0,"span",44),p(),d(101,"button",45),R("click",function(){return i.cancel.emit()}),b(102,"i",46),f(103),h(104,"translate"),p()()()()()()),e&2){let o,r,s,a,c,u;l(5),M(" ",m(6,46,"admin.courses.courseInformation")," "),l(3),E("formGroup",i.courseForm),l(4),M(" ",m(13,48,"admin.courses.title")," "),l(4),V("is-invalid",((o=i.courseForm.get("title"))==null?null:o.invalid)&&((o=i.courseForm.get("title"))==null?null:o.touched)),E("placeholder",m(17,50,"admin.courses.titlePlaceholder")),l(2),E("ngIf",i.getFormError("title")),l(3),M(" ",m(22,52,"admin.courses.description")," "),l(4),V("is-invalid",((r=i.courseForm.get("description"))==null?null:r.invalid)&&((r=i.courseForm.get("description"))==null?null:r.touched)),E("placeholder",m(26,54,"admin.courses.descriptionPlaceholder")),l(2),E("ngIf",i.getFormError("description")),l(3),M(" ",m(31,56,"admin.courses.category")," "),l(4),V("is-invalid",((s=i.courseForm.get("category"))==null?null:s.invalid)&&((s=i.courseForm.get("category"))==null?null:s.touched)),l(2),O(m(37,58,"admin.courses.selectCategory")),l(2),E("ngForOf",i.categories),l(),E("ngIf",i.getFormError("category")),l(3),M(" ",m(43,60,"admin.courses.privacyTitle")," "),l(4),V("is-invalid",((a=i.courseForm.get("Privacy"))==null?null:a.invalid)&&((a=i.courseForm.get("Privacy"))==null?null:a.touched)),l(),E("ngForOf",i.privacyTypes),l(),E("ngIf",i.getFormError("Privacy")),l(3),M(" ",m(52,62,"admin.courses.thumbnail")," "),l(6),E("disabled",i.isCompressingImage||i.isSaving),l(),V("disabled",i.isCompressingImage||i.isSaving),l(3),E("ngIf",!i.isCompressingImage),l(),E("ngIf",i.isCompressingImage),l(),E("ngIf",i.getFormError("thumbnail")&&((c=i.courseForm.get("thumbnail"))==null?null:c.touched)),l(2),O(m(66,64,"admin.courses.thumbnailHelp")),l(2),E("ngIf",i.thumbnailPreview),l(3),M(" ",m(71,66,"admin.courses.introVideo")," "),l(2),E("placeholder",m(73,68,"admin.courses.introVideoPlaceholder")),l(3),O(m(76,70,"admin.courses.introVideoHelp")),l(4),M(" ",m(80,72,"admin.courses.duration")," "),l(4),V("is-invalid",((u=i.courseForm.get("duration"))==null?null:u.invalid)&&((u=i.courseForm.get("duration"))==null?null:u.touched)),E("placeholder",m(84,74,"admin.courses.durationPlaceholder")),l(2),E("ngIf",i.getFormError("duration")),l(2),O(m(88,76,"admin.courses.durationHelp")),l(6),M(" ",m(94,78,"admin.courses.published")," "),l(3),E("disabled",i.isSaving||i.courseForm.invalid),l(2),M(" ",m(99,80,i.course?"admin.courses.save":"admin.courses.create")," "),l(2),E("ngIf",i.isSaving),l(3),M(" ",m(104,82,"admin.courses.cancel")," ")}},dependencies:[pe,di,Yn,Ne,fe,an,sn,zi,Bi,ht,no,_f,gi,bt,rn,tr,Wt,Zt,_e],styles:[".course-info[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{border:none;box-shadow:0 4px 8px #00000026;border-radius:16px}.course-info[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{background:#c9a24d0d;border-bottom:1px solid rgba(14,58,93,.1);padding:32px}.course-info[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:700;color:#0e3a5d;margin:0;font-family:Cairo,sans-serif;display:flex;align-items:center;gap:8px}.course-info[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#c9a24d}.course-info[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{padding:64px}.course-info[_ngcontent-%COMP%]   .form-label[_ngcontent-%COMP%]{font-weight:600;color:#0e3a5d;margin-bottom:8px;font-size:.9rem}.course-info[_ngcontent-%COMP%]   .form-label[_ngcontent-%COMP%]   .text-danger[_ngcontent-%COMP%]{color:#dc2626}.course-info[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%], .course-info[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%]{border:1px solid rgba(14,58,93,.2);border-radius:8px;padding:8px 16px;transition:border-color .2s,box-shadow .2s}.course-info[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:focus, .course-info[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%]:focus{border-color:#c9a24d;box-shadow:0 0 0 .2rem #c9a24d40}.course-info[_ngcontent-%COMP%]   .form-control.is-invalid[_ngcontent-%COMP%], .course-info[_ngcontent-%COMP%]   .form-select.is-invalid[_ngcontent-%COMP%]{border-color:#dc2626}.course-info[_ngcontent-%COMP%]   .invalid-feedback[_ngcontent-%COMP%]{display:block;color:#dc2626;font-size:.85rem;margin-top:4px}.course-info[_ngcontent-%COMP%]   .form-text[_ngcontent-%COMP%]{font-size:.85rem;color:#0f172a99;margin-top:4px}.course-info[_ngcontent-%COMP%]   .thumbnail-upload-container[_ngcontent-%COMP%]{position:relative;margin-bottom:8px}.course-info[_ngcontent-%COMP%]   .thumbnail-file-input[_ngcontent-%COMP%]{position:absolute;width:.1px;height:.1px;opacity:0;overflow:hidden;z-index:-1}.course-info[_ngcontent-%COMP%]   .thumbnail-upload-label[_ngcontent-%COMP%]{display:block;width:100%;padding:32px;border:2px dashed rgba(14,58,93,.3);border-radius:8px;background:#c9a24d05;text-align:center;cursor:pointer;transition:all .3s ease;position:relative}.course-info[_ngcontent-%COMP%]   .thumbnail-upload-label[_ngcontent-%COMP%]:hover:not(.disabled){border-color:#c9a24d;background:#c9a24d0d;transform:translateY(-2px);box-shadow:0 1px 2px #0000001a}.course-info[_ngcontent-%COMP%]   .thumbnail-upload-label.disabled[_ngcontent-%COMP%]{opacity:.6;cursor:not-allowed}.course-info[_ngcontent-%COMP%]   .thumbnail-upload-label[_ngcontent-%COMP%]   .upload-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:8px;color:#0e3a5d}.course-info[_ngcontent-%COMP%]   .thumbnail-upload-label[_ngcontent-%COMP%]   .upload-content[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:2rem;color:#c9a24d}.course-info[_ngcontent-%COMP%]   .thumbnail-upload-label[_ngcontent-%COMP%]   .upload-content[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:500;font-size:.95rem}.course-info[_ngcontent-%COMP%]   .thumbnail-upload-label[_ngcontent-%COMP%]   .upload-content[_ngcontent-%COMP%]   .compressing[_ngcontent-%COMP%]{display:flex;align-items:center;color:#c9a24d}.course-info[_ngcontent-%COMP%]   .thumbnail-preview-container[_ngcontent-%COMP%]{position:relative}.course-info[_ngcontent-%COMP%]   .thumbnail-preview-wrapper[_ngcontent-%COMP%]{position:relative;display:inline-block;border-radius:8px;overflow:hidden;box-shadow:0 4px 8px #00000026;border:2px solid rgba(14,58,93,.1);transition:transform .3s ease}.course-info[_ngcontent-%COMP%]   .thumbnail-preview-wrapper[_ngcontent-%COMP%]:hover{transform:scale(1.02);box-shadow:0 8px 16px #0003}.course-info[_ngcontent-%COMP%]   .thumbnail-preview[_ngcontent-%COMP%]{display:block;max-width:100%;max-height:300px;width:auto;height:auto;object-fit:contain}.course-info[_ngcontent-%COMP%]   .thumbnail-remove-btn[_ngcontent-%COMP%]{position:absolute;top:4px;right:4px;border-radius:50%;width:32px;height:32px;display:flex;align-items:center;justify-content:center;padding:0;box-shadow:0 4px 8px #00000026;transition:transform .2s ease}.course-info[_ngcontent-%COMP%]   .thumbnail-remove-btn[_ngcontent-%COMP%]:hover:not(:disabled){transform:scale(1.1)}.course-info[_ngcontent-%COMP%]   .form-check-input[_ngcontent-%COMP%]:checked{background-color:#c9a24d;border-color:#c9a24d}.course-info[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]{display:flex;gap:16px;padding-top:32px;border-top:1px solid rgba(14,58,93,.1)}.course-info[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:8px}@media (max-width: 767.98px){.course-info[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]{flex-direction:column}.course-info[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{width:100%;justify-content:center}}"]})};var Ef=Un(jn());function Mie(n,t){n&1&&(d(0,"div",12)(1,"div",13)(2,"span",14),f(3),h(4,"translate"),p()(),d(5,"p"),f(6),h(7,"translate"),p()()),n&2&&(l(3),O(m(4,2,"admin.courses.loading")),l(3),O(m(7,4,"admin.courses.loadingSections")))}function Pie(n,t){if(n&1&&(d(0,"div",33),f(1),h(2,"translate"),p()),n&2){let e=x(2);l(),M(" ",m(2,1,e.getFormError("title"))," ")}}function Oie(n,t){if(n&1&&(d(0,"div",33),f(1),h(2,"translate"),p()),n&2){let e=x(2);l(),M(" ",m(2,1,e.getFormError("order"))," ")}}function wie(n,t){n&1&&b(0,"span",34)}function xie(n,t){if(n&1){let e=J();d(0,"div",15)(1,"h5",16),f(2),h(3,"translate"),p(),d(4,"form",17),R("ngSubmit",function(){$(e);let o=x();return q(o.submitSection())}),d(5,"div",18)(6,"div",19)(7,"label",20),f(8),h(9,"translate"),d(10,"span",21),f(11,"*"),p()(),b(12,"input",22),h(13,"translate"),se(14,Pie,3,3,"div",23),p(),d(15,"div",24)(16,"label",25),f(17),h(18,"translate"),d(19,"span",21),f(20,"*"),p()(),b(21,"input",26),h(22,"translate"),se(23,Oie,3,3,"div",23),p()(),d(24,"div",27)(25,"button",28),b(26,"i",29),f(27),h(28,"translate"),se(29,wie,1,0,"span",30),p(),d(30,"button",31),R("click",function(){$(e);let o=x();return q(o.cancelForm())}),b(31,"i",32),f(32),h(33,"translate"),p()()()()}if(n&2){let e,i,o=x();l(2),M(" ",m(3,17,o.editingSection?"admin.courses.editSection":"admin.courses.createSection")," "),l(2),E("formGroup",o.sectionForm),l(4),M(" ",m(9,19,"admin.courses.sectionTitle")," "),l(4),V("is-invalid",((e=o.sectionForm.get("title"))==null?null:e.invalid)&&((e=o.sectionForm.get("title"))==null?null:e.touched)),E("placeholder",m(13,21,"admin.courses.sectionTitlePlaceholder")),l(2),E("ngIf",o.getFormError("title")),l(3),M(" ",m(18,23,"admin.courses.order")," "),l(4),V("is-invalid",((i=o.sectionForm.get("order"))==null?null:i.invalid)&&((i=o.sectionForm.get("order"))==null?null:i.touched)),E("placeholder",m(22,25,"admin.courses.orderPlaceholder")),l(2),E("ngIf",o.getFormError("order")),l(2),E("disabled",o.isProcessing||o.sectionForm.invalid),l(2),M(" ",m(28,27,o.editingSection?"admin.courses.save":"admin.courses.create")," "),l(2),E("ngIf",o.isProcessing),l(),E("disabled",o.isProcessing),l(2),M(" ",m(33,29,"admin.courses.cancel")," ")}}function Eie(n,t){n&1&&(d(0,"p",35),f(1),h(2,"translate"),p()),n&2&&(l(),M(" ",m(2,1,"admin.courses.noSections")," "))}function Iie(n,t){if(n&1){let e=J();d(0,"div",39)(1,"div",40)(2,"div")(3,"h5",41),f(4),p(),d(5,"small",35),f(6),h(7,"translate"),p()(),d(8,"div",42)(9,"button",43),R("click",function(){let o=$(e).$implicit,r=x(2);return q(r.editSection(o))}),b(10,"i",44),f(11),h(12,"translate"),p(),d(13,"button",45),R("click",function(){let o=$(e).$implicit,r=x(2);return q(r.deleteSection(o))}),b(14,"i",46),f(15),h(16,"translate"),p()()()()}if(n&2){let e=t.$implicit,i=x(2);l(4),O(e.title),l(2),tt(" ",m(7,7,"admin.courses.order"),": ",e.order," "),l(3),E("disabled",i.isProcessing),l(2),M(" ",m(12,9,"admin.courses.edit")," "),l(2),E("disabled",i.isProcessing),l(2),M(" ",m(16,11,"admin.courses.delete")," ")}}function Sie(n,t){if(n&1&&(d(0,"div",36)(1,"div",37),se(2,Iie,17,13,"div",38),p()()),n&2){let e=x();l(2),E("ngForOf",e.sections)}}var CC=class n{constructor(t,e){this.lessonsService=t;this.fb=e;this.sectionForm=this.fb.group({title:["",[te.required,te.minLength(3)]],order:[1,[te.required,te.min(1)]]})}courseId=null;sectionsUpdated=new et;sections=[];isLoading=!1;isProcessing=!1;showForm=!1;editingSection=null;sectionForm;destroy$=new me;ngOnInit(){this.courseId&&this.loadSections()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}loadSections(){this.courseId&&(this.isLoading=!0,this.lessonsService.getSectionsByCourse(this.courseId).pipe(ne(this.destroy$)).subscribe({next:t=>{this.sections=t,this.isLoading=!1},error:t=>{console.error("Error loading sections:",t),this.isLoading=!1,this.showErrorAlert("admin.courses.loadSectionsError")}}))}createSection(){this.editingSection=null,this.sectionForm.reset({title:"",order:this.sections.length>0?Math.max(...this.sections.map(t=>t.order))+1:1}),this.showForm=!0}editSection(t){this.editingSection=t,this.sectionForm.patchValue({title:t.title,order:t.order}),this.showForm=!0}cancelForm(){this.showForm=!1,this.editingSection=null,this.sectionForm.reset()}submitSection(){if(this.sectionForm.invalid){this.markFormGroupTouched(),this.showValidationError("admin.courses.fillRequiredFields");return}if(!this.courseId)return;this.isProcessing=!0;let t=this.sectionForm.value;this.editingSection?this.lessonsService.updateSection(this.courseId,this.editingSection.id,{title:t.title,order:t.order}).pipe(ne(this.destroy$)).subscribe({next:()=>{this.showSuccessAlert("admin.courses.sectionUpdateSuccess"),this.cancelForm(),this.loadSections(),this.sectionsUpdated.emit(),this.isProcessing=!1},error:e=>{console.error("Error updating section:",e),this.showErrorAlert("admin.courses.sectionUpdateError"),this.isProcessing=!1}}):this.lessonsService.createSection(this.courseId,{title:t.title,order:t.order}).pipe(ne(this.destroy$)).subscribe({next:()=>{this.showSuccessAlert("admin.courses.sectionCreateSuccess"),this.cancelForm(),this.loadSections(),this.sectionsUpdated.emit(),this.isProcessing=!1},error:e=>{console.error("Error creating section:",e),this.showErrorAlert("admin.courses.sectionCreateError"),this.isProcessing=!1}})}deleteSection(t){Ef.default.fire({title:"admin.courses.deleteSectionConfirmTitle",text:"admin.courses.deleteSectionConfirmText",icon:"warning",showCancelButton:!0,confirmButtonText:"admin.courses.delete",cancelButtonText:"admin.courses.cancel",confirmButtonColor:"#DC2626",cancelButtonColor:"#6B7280"}).then(e=>{e.isConfirmed&&this.courseId&&(this.isProcessing=!0,this.lessonsService.deleteSection(this.courseId,t.id).pipe(ne(this.destroy$)).subscribe({next:()=>{this.showSuccessAlert("admin.courses.sectionDeleteSuccess"),this.loadSections(),this.sectionsUpdated.emit(),this.isProcessing=!1},error:i=>{console.error("Error deleting section:",i),this.showErrorAlert("admin.courses.sectionDeleteError"),this.isProcessing=!1}}))})}markFormGroupTouched(){Object.keys(this.sectionForm.controls).forEach(t=>{this.sectionForm.get(t)?.markAsTouched()})}getFormError(t){let e=this.sectionForm.get(t);if(e&&e.touched&&e.errors){if(e.errors.required)return"admin.courses.fieldRequired";if(e.errors.minlength)return"admin.courses.fieldMinLength";if(e.errors.min)return"admin.courses.orderMin"}return""}showSuccessAlert(t){Ef.default.fire({icon:"success",title:"admin.courses.success",text:t,confirmButtonText:"admin.courses.ok",confirmButtonColor:"#16A34A"})}showErrorAlert(t){Ef.default.fire({icon:"error",title:"admin.courses.error",text:t,confirmButtonText:"admin.courses.ok",confirmButtonColor:"#DC2626"})}showValidationError(t){Ef.default.fire({icon:"warning",title:"admin.courses.validationError",text:t,confirmButtonText:"admin.courses.ok",confirmButtonColor:"#F59E0B"})}static \u0275fac=function(e){return new(e||n)(A(ji),A(xn))};static \u0275cmp=ce({type:n,selectors:[["app-sections"]],inputs:{courseId:"courseId"},outputs:{sectionsUpdated:"sectionsUpdated"},decls:16,vars:11,consts:[[1,"sections-management"],[1,"card"],[1,"card-header","d-flex","justify-content-between","align-items-center"],[1,"card-title","mb-0"],[1,"fas","fa-list"],[1,"btn","btn-primary","btn-sm",3,"click","disabled"],[1,"fas","fa-plus"],[1,"card-body"],["class","loading-state",4,"ngIf"],["class","section-form mb-4",4,"ngIf"],["class","text-muted",4,"ngIf"],["class","sections-list",4,"ngIf"],[1,"loading-state"],["role","status",1,"spinner-border","text-primary"],[1,"visually-hidden"],[1,"section-form","mb-4"],[1,"mb-3"],[3,"ngSubmit","formGroup"],[1,"row","g-3"],[1,"col-12"],["for","sectionTitle",1,"form-label"],[1,"text-danger"],["type","text","id","sectionTitle","formControlName","title",1,"form-control",3,"placeholder"],["class","invalid-feedback",4,"ngIf"],[1,"col-12","col-md-6"],["for","sectionOrder",1,"form-label"],["type","number","id","sectionOrder","min","1","formControlName","order",1,"form-control",3,"placeholder"],[1,"form-actions","mt-3"],["type","submit",1,"btn","btn-primary",3,"disabled"],[1,"fas","fa-save"],["class","spinner-border spinner-border-sm ms-2","role","status",4,"ngIf"],["type","button",1,"btn","btn-outline-secondary",3,"click","disabled"],[1,"fas","fa-times"],[1,"invalid-feedback"],["role","status",1,"spinner-border","spinner-border-sm","ms-2"],[1,"text-muted"],[1,"sections-list"],[1,"list-group"],["class","list-group-item",4,"ngFor","ngForOf"],[1,"list-group-item"],[1,"d-flex","justify-content-between","align-items-center"],[1,"mb-1"],[1,"btn-group"],[1,"btn","btn-sm","btn-outline-primary",3,"click","disabled"],[1,"fas","fa-edit"],[1,"btn","btn-sm","btn-outline-danger",3,"click","disabled"],[1,"fas","fa-trash"]],template:function(e,i){e&1&&(d(0,"div",0)(1,"div",1)(2,"div",2)(3,"h3",3),b(4,"i",4),f(5),h(6,"translate"),p(),d(7,"button",5),R("click",function(){return i.createSection()}),b(8,"i",6),f(9),h(10,"translate"),p()(),d(11,"div",7),se(12,Mie,8,6,"div",8)(13,xie,34,31,"div",9)(14,Eie,3,3,"p",10)(15,Sie,3,1,"div",11),p()()()),e&2&&(l(5),M(" ",m(6,7,"admin.courses.sections")," "),l(2),E("disabled",i.isProcessing),l(2),M(" ",m(10,9,"admin.courses.addSection")," "),l(3),E("ngIf",i.isLoading),l(),E("ngIf",i.showForm&&!i.isLoading),l(),E("ngIf",!i.isLoading&&!i.showForm&&i.sections.length===0),l(),E("ngIf",!i.isLoading&&!i.showForm&&i.sections.length>0))},dependencies:[pe,di,Yn,fe,an,sn,ht,no,bt,rn,tr,Wt,Zt,_e],styles:[".sections-management[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{border:none;box-shadow:0 4px 8px #00000026;border-radius:16px}.sections-management[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{background:#c9a24d0d;border-bottom:1px solid rgba(14,58,93,.1);padding:32px}.sections-management[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:700;color:#0e3a5d;margin:0;font-family:Cairo,sans-serif;display:flex;align-items:center;gap:8px}.sections-management[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#c9a24d}.sections-management[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{padding:64px}.sections-management[_ngcontent-%COMP%]   .loading-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;min-height:200px;text-align:center}.sections-management[_ngcontent-%COMP%]   .loading-state[_ngcontent-%COMP%]   .spinner-border[_ngcontent-%COMP%]{width:2rem;height:2rem;border-width:.25rem;margin-bottom:16px}.sections-management[_ngcontent-%COMP%]   .loading-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#0f172ab3;font-size:.9rem;margin:0}.sections-management[_ngcontent-%COMP%]   .section-form[_ngcontent-%COMP%]{background:#c9a24d05;border:1px solid rgba(14,58,93,.1);border-radius:8px;padding:32px}.sections-management[_ngcontent-%COMP%]   .section-form[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:600;color:#0e3a5d}.sections-management[_ngcontent-%COMP%]   .section-form[_ngcontent-%COMP%]   .form-label[_ngcontent-%COMP%]{font-weight:600;color:#0e3a5d;margin-bottom:8px;font-size:.9rem}.sections-management[_ngcontent-%COMP%]   .section-form[_ngcontent-%COMP%]   .form-label[_ngcontent-%COMP%]   .text-danger[_ngcontent-%COMP%]{color:#dc2626}.sections-management[_ngcontent-%COMP%]   .section-form[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{border:1px solid rgba(14,58,93,.2);border-radius:8px;padding:8px 16px;transition:border-color .2s,box-shadow .2s}.sections-management[_ngcontent-%COMP%]   .section-form[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:focus{border-color:#c9a24d;box-shadow:0 0 0 .2rem #c9a24d40}.sections-management[_ngcontent-%COMP%]   .section-form[_ngcontent-%COMP%]   .form-control.is-invalid[_ngcontent-%COMP%]{border-color:#dc2626}.sections-management[_ngcontent-%COMP%]   .section-form[_ngcontent-%COMP%]   .invalid-feedback[_ngcontent-%COMP%]{display:block;color:#dc2626;font-size:.85rem;margin-top:4px}.sections-management[_ngcontent-%COMP%]   .section-form[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]{display:flex;gap:16px;margin-top:16px}.sections-management[_ngcontent-%COMP%]   .section-form[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:8px}.sections-management[_ngcontent-%COMP%]   .sections-list[_ngcontent-%COMP%]   .list-group-item[_ngcontent-%COMP%]{border:1px solid rgba(14,58,93,.1);border-radius:8px;margin-bottom:8px;padding:16px}.sections-management[_ngcontent-%COMP%]   .sections-list[_ngcontent-%COMP%]   .list-group-item[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:1rem;font-weight:600;color:#0e3a5d;margin-bottom:4px}.sections-management[_ngcontent-%COMP%]   .sections-list[_ngcontent-%COMP%]   .list-group-item[_ngcontent-%COMP%]   .btn-group[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{font-size:.85rem}"]})};var If=Un(jn());function Tie(n,t){n&1&&(d(0,"div",10)(1,"div",11)(2,"span",12),f(3),h(4,"translate"),p()(),d(5,"p"),f(6),h(7,"translate"),p()()),n&2&&(l(3),O(m(4,2,"admin.courses.loading")),l(3),O(m(7,4,"admin.courses.loadingLessons")))}function Die(n,t){if(n&1&&(d(0,"option",44),f(1),p()),n&2){let e=t.$implicit;E("value",e.id),l(),M(" ",e.title," ")}}function kie(n,t){if(n&1&&(d(0,"div",45),f(1),h(2,"translate"),p()),n&2){let e=x(2);l(),M(" ",m(2,1,e.getFormError("sectionId"))," ")}}function Aie(n,t){if(n&1&&(d(0,"div",45),f(1),h(2,"translate"),p()),n&2){let e=x(2);l(),M(" ",m(2,1,e.getFormError("title"))," ")}}function Rie(n,t){if(n&1&&(d(0,"div",45),f(1),h(2,"translate"),p()),n&2){let e=x(2);l(),M(" ",m(2,1,e.getFormError("order"))," ")}}function Nie(n,t){if(n&1&&(d(0,"div",45),f(1),h(2,"translate"),p()),n&2){let e=x(2);l(),M(" ",m(2,1,e.getFormError("videoId"))," ")}}function Lie(n,t){if(n&1&&(d(0,"div",45),f(1),h(2,"translate"),p()),n&2){let e=x(2);l(),M(" ",m(2,1,e.getFormError("libraryId"))," ")}}function Fie(n,t){if(n&1&&(d(0,"div",45),f(1),h(2,"translate"),p()),n&2){let e=x(2);l(),M(" ",m(2,1,e.getFormError("pdfUrl"))," ")}}function zie(n,t){n&1&&b(0,"span",46)}function Bie(n,t){if(n&1){let e=J();d(0,"div",13)(1,"h5",14),f(2),h(3,"translate"),p(),d(4,"form",15),R("ngSubmit",function(){$(e);let o=x();return q(o.submitLesson())}),d(5,"div",16)(6,"div",17)(7,"label",18),f(8),h(9,"translate"),d(10,"span",19),f(11,"*"),p()(),d(12,"select",20)(13,"option",21),f(14),h(15,"translate"),p(),se(16,Die,2,2,"option",22),p(),se(17,kie,3,3,"div",23),p(),d(18,"div",17)(19,"label",24),f(20),h(21,"translate"),d(22,"span",19),f(23,"*"),p()(),b(24,"input",25),h(25,"translate"),se(26,Aie,3,3,"div",23),p(),d(27,"div",26)(28,"label",27),f(29),h(30,"translate"),d(31,"span",19),f(32,"*"),p()(),b(33,"input",28),h(34,"translate"),se(35,Rie,3,3,"div",23),p(),d(36,"div",17),b(37,"hr"),d(38,"h6",14),b(39,"i",29),f(40),h(41,"translate"),p()(),d(42,"div",26)(43,"label",30),f(44),h(45,"translate"),d(46,"span",19),f(47,"*"),p()(),b(48,"input",31),h(49,"translate"),se(50,Nie,3,3,"div",23),d(51,"small",32),f(52),h(53,"translate"),p()(),d(54,"div",26)(55,"label",33),f(56),h(57,"translate"),d(58,"span",19),f(59,"*"),p()(),b(60,"input",34),h(61,"translate"),se(62,Lie,3,3,"div",23),d(63,"small",32),f(64),h(65,"translate"),p()(),d(66,"div",17),b(67,"hr"),d(68,"h6",14),b(69,"i",35),f(70),h(71,"translate"),p()(),d(72,"div",17)(73,"label",36),f(74),h(75,"translate"),d(76,"span",19),f(77,"*"),p()(),b(78,"input",37),h(79,"translate"),se(80,Fie,3,3,"div",23),d(81,"small",32),f(82),h(83,"translate"),p()()(),d(84,"div",38)(85,"button",39),b(86,"i",40),f(87),h(88,"translate"),se(89,zie,1,0,"span",41),p(),d(90,"button",42),R("click",function(){$(e);let o=x();return q(o.cancelForm())}),b(91,"i",43),f(92),h(93,"translate"),p()()()()}if(n&2){let e,i,o,r,s,a,c=x();l(2),M(" ",m(3,43,c.editingLesson?"admin.courses.editLesson":"admin.courses.createLesson")," "),l(2),E("formGroup",c.lessonForm),l(4),M(" ",m(9,45,"admin.courses.section")," "),l(4),V("is-invalid",((e=c.lessonForm.get("sectionId"))==null?null:e.invalid)&&((e=c.lessonForm.get("sectionId"))==null?null:e.touched)),l(2),O(m(15,47,"admin.courses.selectSection")),l(2),E("ngForOf",c.sections),l(),E("ngIf",c.getFormError("sectionId")),l(3),M(" ",m(21,49,"admin.courses.lessonTitle")," "),l(4),V("is-invalid",((i=c.lessonForm.get("title"))==null?null:i.invalid)&&((i=c.lessonForm.get("title"))==null?null:i.touched)),E("placeholder",m(25,51,"admin.courses.lessonTitlePlaceholder")),l(2),E("ngIf",c.getFormError("title")),l(3),M(" ",m(30,53,"admin.courses.order")," "),l(4),V("is-invalid",((o=c.lessonForm.get("order"))==null?null:o.invalid)&&((o=c.lessonForm.get("order"))==null?null:o.touched)),E("placeholder",m(34,55,"admin.courses.orderPlaceholder")),l(2),E("ngIf",c.getFormError("order")),l(5),M(" ",m(41,57,"admin.courses.videoDetails")," "),l(4),M(" ",m(45,59,"admin.courses.videoId")," "),l(4),V("is-invalid",((r=c.lessonForm.get("videoId"))==null?null:r.invalid)&&((r=c.lessonForm.get("videoId"))==null?null:r.touched)),E("placeholder",m(49,61,"admin.courses.videoIdPlaceholder")),l(2),E("ngIf",c.getFormError("videoId")),l(2),M(" ",m(53,63,"admin.courses.videoIdHelp")," "),l(4),M(" ",m(57,65,"admin.courses.libraryId")," "),l(4),V("is-invalid",((s=c.lessonForm.get("libraryId"))==null?null:s.invalid)&&((s=c.lessonForm.get("libraryId"))==null?null:s.touched)),E("placeholder",m(61,67,"admin.courses.playbackUrlPlaceholder")),l(2),E("ngIf",c.getFormError("libraryId")),l(2),M(" ",m(65,69,"admin.courses.libraryIdHelp")," "),l(6),M(" ",m(71,71,"admin.courses.pdfDetails")," "),l(4),M(" ",m(75,73,"admin.courses.pdfUrl")," "),l(4),V("is-invalid",((a=c.lessonForm.get("pdfUrl"))==null?null:a.invalid)&&((a=c.lessonForm.get("pdfUrl"))==null?null:a.touched)),E("placeholder",m(79,75,"admin.courses.pdfUrlPlaceholder")),l(2),E("ngIf",c.getFormError("pdfUrl")),l(2),M(" ",m(83,77,"admin.courses.pdfUrlHelp")," "),l(3),E("disabled",c.isProcessing||c.lessonForm.invalid),l(2),M(" ",m(88,79,c.editingLesson?"admin.courses.save":"admin.courses.create")," "),l(2),E("ngIf",c.isProcessing),l(),E("disabled",c.isProcessing),l(2),M(" ",m(93,81,"admin.courses.cancel")," ")}}function jie(n,t){n&1&&(d(0,"p",47),f(1),h(2,"translate"),p()),n&2&&(l(),M(" ",m(2,1,"admin.courses.noSectionsForLessons")," "))}function Vie(n,t){n&1&&(d(0,"p",47),f(1),h(2,"translate"),p()),n&2&&(l(),M(" ",m(2,1,"admin.courses.noLessons")," "))}function Uie(n,t){n&1&&(d(0,"div",57),f(1),h(2,"translate"),p()),n&2&&(l(),M(" ",m(2,1,"admin.courses.noLessonsInSection")," "))}function $ie(n,t){n&1&&(d(0,"small",70),b(1,"i",29),f(2),h(3,"translate"),p()),n&2&&(l(2),M(" ",m(3,1,"admin.courses.hasVideo")," "))}function qie(n,t){n&1&&(d(0,"small",71),b(1,"i",35),f(2),h(3,"translate"),p()),n&2&&(l(2),M(" ",m(3,1,"admin.courses.hasPdf")," "))}function Hie(n,t){if(n&1){let e=J();d(0,"div",60)(1,"div",61)(2,"div")(3,"strong"),f(4),p(),d(5,"div",62),se(6,$ie,4,3,"small",63)(7,qie,4,3,"small",64),p()(),d(8,"div",65)(9,"button",66),R("click",function(){let o=$(e).$implicit,r=x(4);return q(r.editLesson(o))}),b(10,"i",67),p(),d(11,"button",68),R("click",function(){let o=$(e).$implicit,r=x(4);return q(r.deleteLesson(o))}),b(12,"i",69),p()()()()}if(n&2){let e=t.$implicit,i=x(4);l(4),O(e.title),l(2),E("ngIf",e.video),l(),E("ngIf",e.pdf),l(2),E("disabled",i.isProcessing),l(2),E("disabled",i.isProcessing)}}function Wie(n,t){if(n&1&&(d(0,"div",58),se(1,Hie,13,5,"div",59),p()),n&2){let e=x().$implicit,i=x(2);l(),E("ngForOf",i.getLessonsBySection(e.id))}}function Gie(n,t){if(n&1){let e=J();d(0,"div",50)(1,"h5",51),b(2,"i",52),f(3),d(4,"button",53),R("click",function(){let o=$(e).$implicit,r=x(2);return q(r.createLesson(o.id))}),b(5,"i",54),f(6),h(7,"translate"),p()(),se(8,Uie,3,3,"div",55)(9,Wie,2,1,"div",56),p()}if(n&2){let e=t.$implicit,i=x(2);l(3),M(" ",e.title," "),l(),E("disabled",i.isProcessing),l(2),M(" ",m(7,5,"admin.courses.addLesson")," "),l(2),E("ngIf",i.getLessonsBySection(e.id).length===0),l(),E("ngIf",i.getLessonsBySection(e.id).length>0)}}function Qie(n,t){if(n&1&&(d(0,"div",48),se(1,Gie,10,7,"div",49),p()),n&2){let e=x();l(),E("ngForOf",e.sections)}}var vC=class n{constructor(t,e){this.lessonsService=t;this.fb=e;this.lessonForm=this.fb.group({sectionId:["",te.required],title:["",[te.required,te.minLength(3)]],order:[1,[te.required,te.min(1)]],videoId:["",te.required],libraryId:["",te.required],pdfUrl:[""]})}courseId=null;sections=[];lessons=[];isLoading=!1;isProcessing=!1;showForm=!1;editingLesson=null;selectedSectionId=null;lessonForm;destroy$=new me;ngOnInit(){}ngOnChanges(t){(t.courseId||t.sections)&&this.courseId&&(this.sections.length>0?this.loadLessons():(this.isLoading=!1,this.lessons=[]))}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}loadLessons(){if(!this.courseId||this.sections.length===0){this.isLoading=!1,this.lessons=[];return}this.isLoading=!0,this.lessonsService.getLessonsByCourse(this.courseId).pipe(ne(this.destroy$)).subscribe({next:t=>{this.lessons=(t||[]).filter(e=>e.type==="video"||e.type==="pdf"),this.isLoading=!1},error:t=>{console.error("Error loading lessons:",t),this.isLoading=!1,this.lessons=[],this.showErrorAlert("admin.courses.loadLessonsError")}})}getLessonsBySection(t){return this.lessons.filter(e=>e.sectionId===t)}getNextOrderForSection(t){let e=this.getLessonsBySection(t);return e.length===0?1:Math.max(...e.map(i=>i.order))+1}createLesson(t){this.editingLesson=null,this.selectedSectionId=t,this.lessonForm.reset({sectionId:t,title:"",order:this.getNextOrderForSection(t),videoId:"",libraryId:"",pdfUrl:""}),this.lessonForm.get("sectionId")?.enable(),this.showForm=!0}editLesson(t){this.editingLesson=t,this.selectedSectionId=t.sectionId,this.lessonForm.patchValue({sectionId:t.sectionId,title:t.title,order:t.order,videoId:t.video?.videoId||"",libraryId:t.video?.libraryId||"",pdfUrl:t.pdf?.url||""}),this.lessonForm.get("sectionId")?.disable(),this.showForm=!0}cancelForm(){this.showForm=!1,this.editingLesson=null,this.selectedSectionId=null,this.lessonForm.get("sectionId")?.enable(),this.lessonForm.reset()}submitLesson(){if(this.lessonForm.invalid){this.markFormGroupTouched(),this.showValidationError("admin.courses.fillRequiredFields");return}if(!this.courseId)return;let t=this.lessonForm.getRawValue(),e=t.sectionId||this.selectedSectionId||this.editingLesson?.sectionId;if(!e){this.showValidationError("admin.courses.sectionRequired");return}if(!t.videoId||!t.libraryId){this.showValidationError("admin.courses.videoFieldsRequired");return}this.isProcessing=!0;let i={title:t.title,type:"video",order:t.order},o={provider:"bunny",videoId:t.videoId,libraryId:t.libraryId},r={url:t.pdfUrl};this.editingLesson?this.lessonsService.updateLesson(this.courseId,this.editingLesson.sectionId,this.editingLesson.id,i).pipe(ne(this.destroy$)).subscribe({next:()=>{Rt([this.lessonsService.attachVideoToLesson(this.courseId,this.editingLesson.sectionId,this.editingLesson.id,o),this.lessonsService.attachPdfToLesson(this.courseId,this.editingLesson.sectionId,this.editingLesson.id,r)]).pipe(ne(this.destroy$)).subscribe({next:()=>{this.showSuccessAlert("admin.courses.lessonUpdateSuccess"),this.cancelForm(),this.loadLessons(),this.isProcessing=!1},error:s=>{console.error("Error attaching video/PDF:",s),this.showErrorAlert("admin.courses.lessonUpdateError"),this.isProcessing=!1}})},error:s=>{console.error("Error updating lesson:",s),this.showErrorAlert("admin.courses.lessonUpdateError"),this.isProcessing=!1}}):this.lessonsService.createLesson(this.courseId,e,i).pipe(ne(this.destroy$)).subscribe({next:s=>{Rt([this.lessonsService.attachVideoToLesson(this.courseId,e,s,o),this.lessonsService.attachPdfToLesson(this.courseId,e,s,r)]).pipe(ne(this.destroy$)).subscribe({next:()=>{this.showSuccessAlert("admin.courses.lessonCreateSuccess"),this.cancelForm(),this.loadLessons(),this.isProcessing=!1},error:a=>{console.error("Error attaching video/PDF:",a),this.showErrorAlert("admin.courses.lessonCreateError"),this.isProcessing=!1}})},error:s=>{console.error("Error creating lesson:",s),this.showErrorAlert("admin.courses.lessonCreateError"),this.isProcessing=!1}})}deleteLesson(t){If.default.fire({title:"admin.courses.deleteLessonConfirmTitle",text:"admin.courses.deleteLessonConfirmText",icon:"warning",showCancelButton:!0,confirmButtonText:"admin.courses.delete",cancelButtonText:"admin.courses.cancel",confirmButtonColor:"#DC2626",cancelButtonColor:"#6B7280"}).then(e=>{e.isConfirmed&&this.courseId&&(this.isProcessing=!0,this.lessonsService.deleteLesson(this.courseId,t.sectionId,t.id).pipe(ne(this.destroy$)).subscribe({next:()=>{this.showSuccessAlert("admin.courses.lessonDeleteSuccess"),this.loadLessons(),this.isProcessing=!1},error:i=>{console.error("Error deleting lesson:",i),this.showErrorAlert("admin.courses.lessonDeleteError"),this.isProcessing=!1}}))})}getSectionName(t){let e=this.sections.find(i=>i.id===t);return e?e.title:t}markFormGroupTouched(){Object.keys(this.lessonForm.controls).forEach(t=>{this.lessonForm.get(t)?.markAsTouched()})}getFormError(t){let e=this.lessonForm.get(t);if(e&&e.touched&&e.errors){if(e.errors.required)return"admin.courses.fieldRequired";if(e.errors.minlength)return"admin.courses.fieldMinLength";if(e.errors.min)return"admin.courses.orderMin"}return""}showSuccessAlert(t){If.default.fire({icon:"success",title:"admin.courses.success",text:t,confirmButtonText:"admin.courses.ok",confirmButtonColor:"#16A34A"})}showErrorAlert(t){If.default.fire({icon:"error",title:"admin.courses.error",text:t,confirmButtonText:"admin.courses.ok",confirmButtonColor:"#DC2626"})}showValidationError(t){If.default.fire({icon:"warning",title:"admin.courses.validationError",text:t,confirmButtonText:"admin.courses.ok",confirmButtonColor:"#F59E0B"})}static \u0275fac=function(e){return new(e||n)(A(ji),A(xn))};static \u0275cmp=ce({type:n,selectors:[["app-lessons"]],inputs:{courseId:"courseId",sections:"sections"},features:[_n],decls:13,vars:8,consts:[[1,"lessons-management"],[1,"card"],[1,"card-header"],[1,"card-title"],[1,"fas","fa-play-circle"],[1,"card-body"],["class","loading-state",4,"ngIf"],["class","lesson-form mb-4",4,"ngIf"],["class","text-muted",4,"ngIf"],["class","lessons-by-section",4,"ngIf"],[1,"loading-state"],["role","status",1,"spinner-border","text-primary"],[1,"visually-hidden"],[1,"lesson-form","mb-4"],[1,"mb-3"],[3,"ngSubmit","formGroup"],[1,"row","g-3"],[1,"col-12"],["for","lessonSection",1,"form-label"],[1,"text-danger"],["id","lessonSection","formControlName","sectionId",1,"form-select"],["value",""],[3,"value",4,"ngFor","ngForOf"],["class","invalid-feedback",4,"ngIf"],["for","lessonTitle",1,"form-label"],["type","text","id","lessonTitle","formControlName","title",1,"form-control",3,"placeholder"],[1,"col-12","col-md-6"],["for","lessonOrder",1,"form-label"],["type","number","id","lessonOrder","min","1","readonly","","formControlName","order",1,"form-control","disabled","opacity-50",3,"placeholder"],[1,"fas","fa-video"],["for","videoId",1,"form-label"],["type","text","id","videoId","formControlName","videoId",1,"form-control",3,"placeholder"],[1,"form-text","text-muted"],["for","libraryId",1,"form-label"],["type","url","id","libraryId","formControlName","libraryId",1,"form-control",3,"placeholder"],[1,"fas","fa-file-pdf"],["for","pdfUrl",1,"form-label"],["type","url","id","pdfUrl","formControlName","pdfUrl",1,"form-control",3,"placeholder"],[1,"form-actions","mt-3"],["type","submit",1,"btn","btn-primary",3,"disabled"],[1,"fas","fa-save"],["class","spinner-border spinner-border-sm ms-2","role","status",4,"ngIf"],["type","button",1,"btn","btn-outline-secondary",3,"click","disabled"],[1,"fas","fa-times"],[3,"value"],[1,"invalid-feedback"],["role","status",1,"spinner-border","spinner-border-sm","ms-2"],[1,"text-muted"],[1,"lessons-by-section"],["class","section-lessons mb-4",4,"ngFor","ngForOf"],[1,"section-lessons","mb-4"],[1,"section-title"],[1,"fas","fa-folder"],[1,"btn","btn-sm","btn-primary","ms-2",3,"click","disabled"],[1,"fas","fa-plus"],["class","text-muted ms-4",4,"ngIf"],["class","lessons-list ms-4",4,"ngIf"],[1,"text-muted","ms-4"],[1,"lessons-list","ms-4"],["class","lesson-item mb-2",4,"ngFor","ngForOf"],[1,"lesson-item","mb-2"],[1,"d-flex","justify-content-between","align-items-center","p-2","border","rounded"],[1,"mt-1"],["class","badge bg-info me-1",4,"ngIf"],["class","badge bg-danger",4,"ngIf"],[1,"btn-group"],[1,"btn","btn-sm","btn-outline-primary",3,"click","disabled"],[1,"fas","fa-edit"],[1,"btn","btn-sm","btn-outline-danger",3,"click","disabled"],[1,"fas","fa-trash"],[1,"badge","bg-info","me-1"],[1,"badge","bg-danger"]],template:function(e,i){e&1&&(d(0,"div",0)(1,"div",1)(2,"div",2)(3,"h3",3),b(4,"i",4),f(5),h(6,"translate"),p()(),d(7,"div",5),se(8,Tie,8,6,"div",6)(9,Bie,94,83,"div",7)(10,jie,3,3,"p",8)(11,Vie,3,3,"p",8)(12,Qie,2,1,"div",9),p()()()),e&2&&(l(5),M(" ",m(6,6,"admin.courses.lessons")," "),l(3),E("ngIf",i.isLoading),l(),E("ngIf",i.showForm&&!i.isLoading),l(),E("ngIf",!i.isLoading&&!i.showForm&&i.sections.length===0),l(),E("ngIf",!i.isLoading&&!i.showForm&&i.sections.length>0&&i.lessons.length===0),l(),E("ngIf",!i.isLoading&&!i.showForm&&i.sections.length>0))},dependencies:[pe,di,Yn,fe,an,sn,zi,Bi,ht,no,gi,bt,rn,tr,Wt,Zt,_e],styles:[".lessons-management[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{border:none;box-shadow:0 4px 8px #00000026;border-radius:16px}.lessons-management[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{background:#c9a24d0d;border-bottom:1px solid rgba(14,58,93,.1);padding:32px}.lessons-management[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:700;color:#0e3a5d;margin:0;font-family:Cairo,sans-serif;display:flex;align-items:center;gap:8px}.lessons-management[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#c9a24d}.lessons-management[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{padding:64px}.lessons-management[_ngcontent-%COMP%]   .loading-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;min-height:200px;text-align:center}.lessons-management[_ngcontent-%COMP%]   .loading-state[_ngcontent-%COMP%]   .spinner-border[_ngcontent-%COMP%]{width:2rem;height:2rem;border-width:.25rem;margin-bottom:16px}.lessons-management[_ngcontent-%COMP%]   .loading-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#0f172ab3;font-size:.9rem;margin:0}.lessons-management[_ngcontent-%COMP%]   .lesson-form[_ngcontent-%COMP%]{background:#c9a24d05;border:1px solid rgba(14,58,93,.1);border-radius:8px;padding:32px}.lessons-management[_ngcontent-%COMP%]   .lesson-form[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:600;color:#0e3a5d}.lessons-management[_ngcontent-%COMP%]   .lesson-form[_ngcontent-%COMP%]   .form-label[_ngcontent-%COMP%]{font-weight:600;color:#0e3a5d;margin-bottom:8px;font-size:.9rem}.lessons-management[_ngcontent-%COMP%]   .lesson-form[_ngcontent-%COMP%]   .form-label[_ngcontent-%COMP%]   .text-danger[_ngcontent-%COMP%]{color:#dc2626}.lessons-management[_ngcontent-%COMP%]   .lesson-form[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%], .lessons-management[_ngcontent-%COMP%]   .lesson-form[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%]{border:1px solid rgba(14,58,93,.2);border-radius:8px;padding:8px 16px;transition:border-color .2s,box-shadow .2s}.lessons-management[_ngcontent-%COMP%]   .lesson-form[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:focus, .lessons-management[_ngcontent-%COMP%]   .lesson-form[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%]:focus{border-color:#c9a24d;box-shadow:0 0 0 .2rem #c9a24d40}.lessons-management[_ngcontent-%COMP%]   .lesson-form[_ngcontent-%COMP%]   .form-control.is-invalid[_ngcontent-%COMP%], .lessons-management[_ngcontent-%COMP%]   .lesson-form[_ngcontent-%COMP%]   .form-select.is-invalid[_ngcontent-%COMP%]{border-color:#dc2626}.lessons-management[_ngcontent-%COMP%]   .lesson-form[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:disabled, .lessons-management[_ngcontent-%COMP%]   .lesson-form[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%]:disabled{background-color:#0e3a5d0d;cursor:not-allowed}.lessons-management[_ngcontent-%COMP%]   .lesson-form[_ngcontent-%COMP%]   .invalid-feedback[_ngcontent-%COMP%]{display:block;color:#dc2626;font-size:.85rem;margin-top:4px}.lessons-management[_ngcontent-%COMP%]   .lesson-form[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]{display:flex;gap:16px;margin-top:16px}.lessons-management[_ngcontent-%COMP%]   .lesson-form[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:8px}.lessons-management[_ngcontent-%COMP%]   .lessons-by-section[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:600;color:#0e3a5d;margin-bottom:16px;display:flex;align-items:center;gap:8px}.lessons-management[_ngcontent-%COMP%]   .lessons-by-section[_ngcontent-%COMP%]   .lessons-list[_ngcontent-%COMP%]   .lesson-item[_ngcontent-%COMP%]   .border[_ngcontent-%COMP%]{border-color:#0e3a5d1a!important}"]})};var Sf=Un(jn());function Kie(n,t){n&1&&(d(0,"div",10)(1,"div",11)(2,"span",12),f(3),h(4,"translate"),p()(),d(5,"p"),f(6),h(7,"translate"),p()()),n&2&&(l(3),O(m(4,2,"admin.courses.loading")),l(3),O(m(7,4,"admin.courses.loadingQuizzes")))}function Yie(n,t){if(n&1&&(d(0,"option",43),f(1),p()),n&2){let e=t.$implicit;E("value",e.id),l(),M(" ",e.title," ")}}function Zie(n,t){if(n&1&&(d(0,"div",44),f(1),h(2,"translate"),p()),n&2){let e=x(2);l(),M(" ",m(2,1,e.getFormError("lessonId"))," ")}}function Jie(n,t){if(n&1&&(d(0,"div",44),f(1),h(2,"translate"),p()),n&2){let e=x(2);l(),M(" ",m(2,1,e.getFormError("title"))," ")}}function Xie(n,t){if(n&1&&(d(0,"div",44),f(1),h(2,"translate"),p()),n&2){let e=x(2);l(),M(" ",m(2,1,e.getFormError("passingScore"))," ")}}function eoe(n,t){if(n&1&&(d(0,"div",44),f(1),h(2,"translate"),p()),n&2){let e=x().index,i=x(2);l(),M(" ",m(2,1,i.getQuestionError(e,"text"))," ")}}function toe(n,t){if(n&1){let e=J();d(0,"div",45)(1,"div",46)(2,"h6",30),f(3),h(4,"translate"),p(),d(5,"button",47),R("click",function(){let o=$(e).index,r=x(2);return q(r.removeQuestion(o))}),b(6,"i",48),p()(),d(7,"div",14)(8,"label",49),f(9),h(10,"translate"),d(11,"span",19),f(12,"*"),p()(),b(13,"input",50),h(14,"translate"),se(15,eoe,3,3,"div",23),p(),d(16,"div")(17,"label",51),f(18),h(19,"translate"),d(20,"span",19),f(21,"*"),p()(),d(22,"div",52),b(23,"input",53),d(24,"label",54),f(25),h(26,"translate"),p(),b(27,"input",53),d(28,"label",55),f(29),h(30,"translate"),p()()()()}if(n&2){let e,i=t.$implicit,o=t.index,r=x(2);E("formGroupName",o),l(3),tt(" ",m(4,20,"admin.courses.question")," ",o+1," "),l(2),E("disabled",r.isProcessing||r.questionsArray.length===1),l(3),E("for","questionText"+o),l(),M(" ",m(10,22,"admin.courses.questionText")," "),l(4),V("is-invalid",((e=i.get("text"))==null?null:e.invalid)&&((e=i.get("text"))==null?null:e.touched)),E("id","questionText"+o)("placeholder",m(14,24,"admin.courses.questionTextPlaceholder")),l(2),E("ngIf",r.getQuestionError(o,"text")),l(3),M(" ",m(19,26,"admin.courses.correctAnswer")," "),l(5),E("id","yes"+o)("value",!0),l(),E("for","yes"+o),l(),M(" ",m(26,28,"admin.courses.yes")," "),l(2),E("id","no"+o)("value",!1),l(),E("for","no"+o),l(),M(" ",m(30,30,"admin.courses.no")," ")}}function noe(n,t){n&1&&(d(0,"div",56),f(1),h(2,"translate"),p()),n&2&&(l(),M(" ",m(2,1,"admin.courses.noQuestions")," "))}function ioe(n,t){n&1&&b(0,"span",40)}function ooe(n,t){if(n&1){let e=J();d(0,"div",13)(1,"h5",14),f(2),h(3,"translate"),p(),d(4,"form",15),R("ngSubmit",function(){$(e);let o=x();return q(o.submitQuiz())}),d(5,"div",16)(6,"div",17)(7,"label",18),f(8),h(9,"translate"),d(10,"span",19),f(11,"*"),p()(),d(12,"select",20)(13,"option",21),f(14),h(15,"translate"),p(),se(16,Yie,2,2,"option",22),p(),se(17,Zie,3,3,"div",23),p(),d(18,"div",17)(19,"label",24),f(20),h(21,"translate"),d(22,"span",19),f(23,"*"),p()(),b(24,"input",25),h(25,"translate"),se(26,Jie,3,3,"div",23),p(),d(27,"div",26)(28,"label",27),f(29),h(30,"translate"),d(31,"span",19),f(32,"*"),p()(),b(33,"input",28),h(34,"translate"),se(35,Xie,3,3,"div",23),p(),d(36,"div",17),b(37,"hr"),d(38,"div",29)(39,"h6",30),b(40,"i",31),f(41),h(42,"translate"),p(),d(43,"button",32),R("click",function(){$(e);let o=x();return q(o.addQuestion())}),b(44,"i",33),f(45),h(46,"translate"),p()(),d(47,"div",34),se(48,toe,31,32,"div",35)(49,noe,3,3,"div",36),p()()(),d(50,"div",37)(51,"button",38),b(52,"i",39),f(53),h(54,"translate"),T(55,ioe,1,0,"span",40),p(),d(56,"button",41),R("click",function(){$(e);let o=x();return q(o.cancelForm())}),b(57,"i",42),f(58),h(59,"translate"),p()()()()}if(n&2){let e,i,o,r=x();l(2),M(" ",m(3,28,r.editingQuiz?"admin.courses.editQuiz":"admin.courses.createQuiz")," "),l(2),E("formGroup",r.quizForm),l(4),M(" ",m(9,30,"admin.courses.lesson")," "),l(4),V("is-invalid",((e=r.quizForm.get("lessonId"))==null?null:e.invalid)&&((e=r.quizForm.get("lessonId"))==null?null:e.touched)),l(2),O(m(15,32,"admin.courses.selectLesson")),l(2),E("ngForOf",r.lessons),l(),E("ngIf",r.getFormError("lessonId")),l(3),M(" ",m(21,34,"admin.courses.quizTitle")," "),l(4),V("is-invalid",((i=r.quizForm.get("title"))==null?null:i.invalid)&&((i=r.quizForm.get("title"))==null?null:i.touched)),E("placeholder",m(25,36,"admin.courses.quizTitlePlaceholder")),l(2),E("ngIf",r.getFormError("title")),l(3),M(" ",m(30,38,"admin.courses.passingScore")," (%) "),l(4),V("is-invalid",((o=r.quizForm.get("passingScore"))==null?null:o.invalid)&&((o=r.quizForm.get("passingScore"))==null?null:o.touched)),E("placeholder",m(34,40,"admin.courses.passingScorePlaceholder")),l(2),E("ngIf",r.getFormError("passingScore")),l(6),M(" ",m(42,42,"admin.courses.questions")," "),l(2),E("disabled",r.isProcessing),l(2),M(" ",m(46,44,"admin.courses.addQuestion")," "),l(3),E("ngForOf",r.questionsArray.controls),l(),E("ngIf",r.questionsArray.length===0),l(2),E("disabled",!r.canSubmitForm()),l(2),M(" ",m(54,46,r.editingQuiz?"admin.courses.save":"admin.courses.create")," "),l(2),D(r.isProcessing?55:-1),l(),E("disabled",r.isProcessing),l(2),M(" ",m(59,48,"admin.courses.cancel")," ")}}function roe(n,t){n&1&&(d(0,"p",57),f(1),h(2,"translate"),p()),n&2&&(l(),M(" ",m(2,1,"admin.courses.noSectionsForQuizzes")," "))}function soe(n,t){n&1&&(d(0,"p",57),f(1),h(2,"translate"),p()),n&2&&(l(),M(" ",m(2,1,"admin.courses.noLessonsForQuizzes")," "))}function aoe(n,t){n&1&&(d(0,"span",73),f(1),h(2,"translate"),p()),n&2&&(l(),M(" ",m(2,1,"admin.courses.hasQuiz")," "))}function coe(n,t){n&1&&(d(0,"span",74),f(1),h(2,"translate"),p()),n&2&&(l(),M(" ",m(2,1,"admin.courses.noQuiz")," "))}function loe(n,t){if(n&1){let e=J();d(0,"button",75),R("click",function(){$(e);let o=x(2).$implicit,r=x(3);return q(r.createQuiz(o.id))}),b(1,"i",33),f(2),h(3,"translate"),p()}if(n&2){let e=x(5);E("disabled",e.isProcessing),l(2),M(" ",m(3,2,"admin.courses.createQuiz")," ")}}function doe(n,t){if(n&1){let e=J();d(0,"button",76),R("click",function(){$(e);let o=x(2).$implicit,r=x(3);return q(r.editQuiz(r.getQuizForLesson(o.id)))}),b(1,"i",77),f(2),h(3,"translate"),p()}if(n&2){let e=x(5);E("disabled",e.isProcessing),l(2),M(" ",m(3,2,"admin.courses.edit")," ")}}function uoe(n,t){if(n&1){let e=J();d(0,"button",78),R("click",function(){$(e);let o=x(2).$implicit,r=x(3);return q(r.deleteQuiz(r.getQuizForLesson(o.id)))}),b(1,"i",48),f(2),h(3,"translate"),p()}if(n&2){let e=x(5);E("disabled",e.isProcessing),l(2),M(" ",m(3,2,"admin.courses.delete")," ")}}function poe(n,t){if(n&1&&(d(0,"div",66)(1,"div")(2,"strong"),f(3),p(),se(4,aoe,3,3,"span",67)(5,coe,3,3,"span",68),p(),d(6,"div",69),se(7,loe,4,4,"button",70)(8,doe,4,4,"button",71)(9,uoe,4,4,"button",72),p()()),n&2){let e=x().$implicit,i=x(3);l(3),O(e.title),l(),E("ngIf",i.getQuizForLesson(e.id)),l(),E("ngIf",!i.getQuizForLesson(e.id)),l(2),E("ngIf",!i.getQuizForLesson(e.id)),l(),E("ngIf",i.getQuizForLesson(e.id)),l(),E("ngIf",i.getQuizForLesson(e.id))}}function foe(n,t){if(n&1&&(d(0,"div",64),se(1,poe,10,6,"div",65),p()),n&2){let e=t.$implicit,i=x().$implicit;l(),E("ngIf",e.sectionId===i.id)}}function goe(n,t){if(n&1&&(d(0,"div",60)(1,"h5",61),b(2,"i",62),f(3),p(),se(4,foe,2,1,"div",63),p()),n&2){let e=t.$implicit,i=x(2);l(3),M(" ",e.title," "),l(),E("ngForOf",i.lessons)}}function hoe(n,t){if(n&1&&(d(0,"div",58),se(1,goe,5,2,"div",59),p()),n&2){let e=x();l(),E("ngForOf",e.sections)}}var bC=class n{constructor(t,e,i){this.quizzesService=t;this.lessonsService=e;this.fb=i;this.questionsFormArray=this.fb.array([]),this.quizForm=this.fb.group({lessonId:["",te.required],title:["",[te.required,te.minLength(3)]],passingScore:[60,[te.required,te.min(0),te.max(100)]],questions:this.questionsFormArray})}courseId=null;sections=[];quizzes=[];lessons=[];isLoading=!1;isProcessing=!1;showForm=!1;editingQuiz=null;selectedLessonId=null;questions=[];quizForm;questionsFormArray;destroy$=new me;ngOnInit(){}ngOnChanges(t){(t.courseId||t.sections)&&(this.courseId&&this.sections.length>0?this.loadLessons():this.courseId&&(this.isLoading=!1,this.lessons=[],this.quizzes=[]))}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}loadLessons(){if(!this.courseId||this.sections.length===0){this.isLoading=!1,this.lessons=[],this.quizzes=[];return}this.isLoading=!0,this.lessonsService.getLessonsByCourse(this.courseId).pipe(ne(this.destroy$)).subscribe({next:t=>{this.lessons=t||[],this.loadQuizzesForLessons()},error:t=>{console.error("Error loading lessons:",t),this.isLoading=!1,this.lessons=[],this.quizzes=[]}})}loadQuizzesForLessons(){let t=this.lessons.filter(i=>i.quizId);if(t.length===0){this.quizzes=[],this.isLoading=!1;return}let e=t.map(i=>this.quizzesService.getQuiz(i.quizId).pipe(ne(this.destroy$)));Rt(e).pipe(ne(this.destroy$)).subscribe({next:i=>{this.quizzes=i.filter(o=>o!==null),this.isLoading=!1},error:i=>{console.error("Error loading quizzes:",i),this.quizzes=[],this.isLoading=!1}})}getQuizForLesson(t){let e=this.lessons.find(i=>i.id===t);return!e||!e.quizId?null:this.quizzes.find(i=>i.id===e.quizId)||null}getLessonName(t){let e=this.lessons.find(i=>i.id===t);return e?e.title:t}createQuiz(t){this.editingQuiz=null,this.selectedLessonId=t,this.questions=[],this.quizForm.get("lessonId")?.enable(),this.questionsFormArray.clear(),this.quizForm.reset({lessonId:t,title:"",passingScore:60}),this.addQuestion(),setTimeout(()=>{this.quizForm.get("lessonId")?.updateValueAndValidity(),this.quizForm.get("title")?.updateValueAndValidity(),this.quizForm.get("passingScore")?.updateValueAndValidity()},0),this.showForm=!0}editQuiz(t){this.editingQuiz=t,this.selectedLessonId=t.lessonId,this.questionsFormArray.clear(),this.quizzesService.getQuestionsByQuiz(t.id).pipe(ne(this.destroy$)).subscribe({next:e=>{this.questions=e,this.quizForm.patchValue({lessonId:t.lessonId,title:t.title,passingScore:t.passingScore||60}),this.quizForm.get("lessonId")?.disable(),e.forEach(i=>{this.addQuestion(i)}),this.showForm=!0},error:e=>{console.error("Error loading questions:",e),this.showErrorAlert("admin.courses.loadQuestionsError")}})}cancelForm(){this.showForm=!1,this.editingQuiz=null,this.selectedLessonId=null,this.questions=[],this.questionsFormArray.clear(),this.quizForm.get("lessonId")?.enable(),this.quizForm.reset()}addQuestion(t){let e=this.fb.group({text:[t?.text||"",[te.required,te.minLength(3)]],correctAnswer:[t?this.getCorrectAnswer(t):!0,te.required],order:[t?.order||this.questionsFormArray.length+1,te.required]});this.questionsFormArray.push(e)}removeQuestion(t){this.questionsFormArray.removeAt(t),this.updateQuestionOrders()}updateQuestionOrders(){this.questionsFormArray.controls.forEach((t,e)=>{t.patchValue({order:e+1},{emitEvent:!1})})}getCorrectAnswer(t){let e=t.options.find(i=>i.correct);return e?e.text.toLowerCase().includes("yes")||e.text.toLowerCase().includes("\u0646\u0639\u0645"):!0}submitQuiz(){if(this.questionsFormArray.length===0){this.markFormGroupTouched(),this.showValidationError("admin.courses.fillRequiredFields");return}let t=this.quizForm.getRawValue(),e=t.lessonId||this.selectedLessonId||this.editingQuiz?.lessonId;if(!e){this.markFormGroupTouched(),this.showValidationError("admin.courses.lessonRequired");return}if(!t.title||t.title.trim().length<3){this.markFormGroupTouched(),this.showValidationError("admin.courses.fillRequiredFields");return}if(this.questionsFormArray.controls.some(r=>{let s=r.value;return!s.text||s.text.trim().length<3||s.correctAnswer===void 0||s.correctAnswer===null})){this.markFormGroupTouched(),this.showValidationError("admin.courses.fillRequiredFields");return}this.isProcessing=!0;let o={title:t.title,passingScore:t.passingScore};this.editingQuiz?this.quizzesService.updateQuiz(this.editingQuiz.id,o).pipe(ne(this.destroy$)).subscribe({next:()=>{this.saveQuestions(this.editingQuiz.id,t.questions)},error:r=>{console.error("Error updating quiz:",r),this.showErrorAlert("admin.courses.quizUpdateError"),this.isProcessing=!1}}):this.quizzesService.createQuiz(e,o).pipe(ne(this.destroy$)).subscribe({next:r=>{this.attachQuizToLesson(e,r),this.saveQuestions(r,t.questions)},error:r=>{console.error("Error creating quiz:",r),this.showErrorAlert("admin.courses.quizCreateError"),this.isProcessing=!1}})}attachQuizToLesson(t,e){if(!this.courseId)return;let i=this.lessons.find(o=>o.id===t);i&&this.lessonsService.updateLesson(this.courseId,i.sectionId,t,{quizId:e}).pipe(ne(this.destroy$)).subscribe({error:o=>{console.error("Error attaching quiz to lesson:",o)}})}saveQuestions(t,e){if(!e||e.length===0){this.showSuccessAlert("admin.courses.quizUpdateSuccess"),this.cancelForm(),this.loadLessons(),this.isProcessing=!1;return}if(this.editingQuiz&&this.questions.length>0){let i=this.questions.map(o=>this.quizzesService.deleteQuestion(t,o.id));Rt(i).pipe(ne(this.destroy$)).subscribe({next:()=>{this.createNewQuestions(t,e)},error:o=>{console.error("Error deleting old questions:",o),this.createNewQuestions(t,e)}})}else this.createNewQuestions(t,e)}createNewQuestions(t,e){let i=e.map((o,r)=>{let s={text:o.text,order:r+1,options:[{text:"Yes",correct:o.correctAnswer===!0},{text:"No",correct:o.correctAnswer===!1}]};return this.quizzesService.createQuestion(t,s)});Rt(i).pipe(ne(this.destroy$)).subscribe({next:()=>{this.showSuccessAlert(this.editingQuiz?"admin.courses.quizUpdateSuccess":"admin.courses.quizCreateSuccess"),this.cancelForm(),this.loadLessons(),this.isProcessing=!1},error:o=>{console.error("Error creating questions:",o),this.showErrorAlert("admin.courses.questionsCreateError"),this.isProcessing=!1}})}deleteQuiz(t){Sf.default.fire({title:"admin.courses.deleteQuizConfirmTitle",text:"admin.courses.deleteQuizConfirmText",icon:"warning",showCancelButton:!0,confirmButtonText:"admin.courses.delete",cancelButtonText:"admin.courses.cancel",confirmButtonColor:"#DC2626",cancelButtonColor:"#6B7280"}).then(e=>{e.isConfirmed&&(this.isProcessing=!0,this.quizzesService.deleteQuiz(t.id).pipe(ne(this.destroy$)).subscribe({next:()=>{this.showSuccessAlert("admin.courses.quizDeleteSuccess"),this.loadLessons(),this.isProcessing=!1},error:i=>{console.error("Error deleting quiz:",i),this.showErrorAlert("admin.courses.quizDeleteError"),this.isProcessing=!1}}))})}get questionsArray(){return this.questionsFormArray}canSubmitForm(){if(this.isProcessing||this.questionsFormArray.length===0)return!1;let t=this.quizForm.getRawValue();return!(t.lessonId||this.selectedLessonId)||!t.title||t.title.trim().length<3?!1:this.questionsFormArray.controls.every(o=>{let r=o.value;return r.text&&r.text.trim().length>=3&&r.correctAnswer!==void 0&&r.correctAnswer!==null})}markFormGroupTouched(){Object.keys(this.quizForm.controls).forEach(t=>{this.quizForm.get(t)?.markAsTouched()}),this.questionsFormArray.controls.forEach(t=>{t.markAllAsTouched()})}getFormError(t){let e=this.quizForm.get(t);if(e&&e.touched&&e.errors){if(e.errors.required)return"admin.courses.fieldRequired";if(e.errors.minlength)return"admin.courses.fieldMinLength";if(e.errors.min||e.errors.max)return"admin.courses.passingScoreRange"}return""}getQuestionError(t,e){let o=this.questionsFormArray.at(t).get(e);if(o&&o.touched&&o.errors){if(o.errors.required)return"admin.courses.fieldRequired";if(o.errors.minlength)return"admin.courses.fieldMinLength"}return""}showSuccessAlert(t){Sf.default.fire({icon:"success",title:"admin.courses.success",text:t,confirmButtonText:"admin.courses.ok",confirmButtonColor:"#16A34A"})}showErrorAlert(t){Sf.default.fire({icon:"error",title:"admin.courses.error",text:t,confirmButtonText:"admin.courses.ok",confirmButtonColor:"#DC2626"})}showValidationError(t){Sf.default.fire({icon:"warning",title:"admin.courses.validationError",text:t,confirmButtonText:"admin.courses.ok",confirmButtonColor:"#F59E0B"})}static \u0275fac=function(e){return new(e||n)(A(Ed),A(ji),A(xn))};static \u0275cmp=ce({type:n,selectors:[["app-quizzes"]],inputs:{courseId:"courseId",sections:"sections"},features:[_n],decls:13,vars:8,consts:[[1,"quizzes-management"],[1,"card"],[1,"card-header"],[1,"card-title"],[1,"fas","fa-question-circle"],[1,"card-body"],["class","loading-state",4,"ngIf"],["class","quiz-form mb-4",4,"ngIf"],["class","text-muted",4,"ngIf"],["class","quizzes-by-section",4,"ngIf"],[1,"loading-state"],["role","status",1,"spinner-border","text-primary"],[1,"visually-hidden"],[1,"quiz-form","mb-4"],[1,"mb-3"],[3,"ngSubmit","formGroup"],[1,"row","g-3"],[1,"col-12"],["for","quizLesson",1,"form-label"],[1,"text-danger"],["id","quizLesson","formControlName","lessonId",1,"form-select"],["value",""],[3,"value",4,"ngFor","ngForOf"],["class","invalid-feedback",4,"ngIf"],["for","quizTitle",1,"form-label"],["type","text","id","quizTitle","formControlName","title",1,"form-control",3,"placeholder"],[1,"col-12","col-md-6"],["for","passingScore",1,"form-label"],["type","number","id","passingScore","min","0","max","100","formControlName","passingScore",1,"form-control",3,"placeholder"],[1,"d-flex","justify-content-between","align-items-center","mb-3"],[1,"mb-0"],[1,"fas","fa-list"],["type","button",1,"btn","btn-sm","btn-primary",3,"click","disabled"],[1,"fas","fa-plus"],["formArrayName","questions",1,"questions-list"],["class","question-item mb-3 p-3 border rounded",3,"formGroupName",4,"ngFor","ngForOf"],["class","text-muted text-center p-3",4,"ngIf"],[1,"form-actions","mt-3"],["type","submit",1,"btn","btn-primary",3,"disabled"],[1,"fas","fa-save"],["role","status",1,"spinner-border","spinner-border-sm","ms-2"],["type","button",1,"btn","btn-outline-secondary",3,"click","disabled"],[1,"fas","fa-times"],[3,"value"],[1,"invalid-feedback"],[1,"question-item","mb-3","p-3","border","rounded",3,"formGroupName"],[1,"d-flex","justify-content-between","align-items-start","mb-2"],["type","button",1,"btn","btn-sm","btn-outline-danger",3,"click","disabled"],[1,"fas","fa-trash"],[1,"form-label",3,"for"],["type","text","formControlName","text",1,"form-control",3,"id","placeholder"],[1,"form-label"],["role","group",1,"btn-group","w-100"],["type","radio","formControlName","correctAnswer",1,"btn-check",3,"id","value"],[1,"btn","btn-outline-success",3,"for"],[1,"btn","btn-outline-danger",3,"for"],[1,"text-muted","text-center","p-3"],[1,"text-muted"],[1,"quizzes-by-section"],["class","section-quizzes mb-4",4,"ngFor","ngForOf"],[1,"section-quizzes","mb-4"],[1,"section-title"],[1,"fas","fa-folder"],["class","lesson-quiz ms-4 mb-3",4,"ngFor","ngForOf"],[1,"lesson-quiz","ms-4","mb-3"],["class","d-flex justify-content-between align-items-center p-2 border rounded",4,"ngIf"],[1,"d-flex","justify-content-between","align-items-center","p-2","border","rounded"],["class","badge bg-success ms-2",4,"ngIf"],["class","badge bg-secondary ms-2",4,"ngIf"],[1,"btn-group"],["class","btn btn-sm btn-primary",3,"disabled","click",4,"ngIf"],["class","btn btn-sm btn-outline-primary",3,"disabled","click",4,"ngIf"],["class","btn btn-sm btn-outline-danger",3,"disabled","click",4,"ngIf"],[1,"badge","bg-success","ms-2"],[1,"badge","bg-secondary","ms-2"],[1,"btn","btn-sm","btn-primary",3,"click","disabled"],[1,"btn","btn-sm","btn-outline-primary",3,"click","disabled"],[1,"fas","fa-edit"],[1,"btn","btn-sm","btn-outline-danger",3,"click","disabled"]],template:function(e,i){e&1&&(d(0,"div",0)(1,"div",1)(2,"div",2)(3,"h3",3),b(4,"i",4),f(5),h(6,"translate"),p()(),d(7,"div",5),se(8,Kie,8,6,"div",6)(9,ooe,60,50,"div",7)(10,roe,3,3,"p",8)(11,soe,3,3,"p",8)(12,hoe,2,1,"div",9),p()()()),e&2&&(l(5),M(" ",m(6,6,"admin.courses.quizzes")," "),l(3),E("ngIf",i.isLoading),l(),E("ngIf",i.showForm&&!i.isLoading),l(),E("ngIf",!i.isLoading&&!i.showForm&&i.sections.length===0),l(),E("ngIf",!i.isLoading&&!i.showForm&&i.sections.length>0&&i.lessons.length===0),l(),E("ngIf",!i.isLoading&&!i.showForm&&i.sections.length>0&&i.lessons.length>0))},dependencies:[pe,di,Yn,fe,an,sn,zi,Bi,ht,no,gi,yf,bt,rn,tr,Mf,Wt,Zt,U_,$_,_e],styles:[".quizzes-management[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{border:none;box-shadow:0 4px 8px #00000026;border-radius:16px}.quizzes-management[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{background:#c9a24d0d;border-bottom:1px solid rgba(14,58,93,.1);padding:32px}.quizzes-management[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:700;color:#0e3a5d;margin:0;font-family:Cairo,sans-serif;display:flex;align-items:center;gap:8px}.quizzes-management[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#c9a24d}.quizzes-management[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{padding:64px}.quizzes-management[_ngcontent-%COMP%]   .loading-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;min-height:200px;text-align:center}.quizzes-management[_ngcontent-%COMP%]   .loading-state[_ngcontent-%COMP%]   .spinner-border[_ngcontent-%COMP%]{width:2rem;height:2rem;border-width:.25rem;margin-bottom:16px}.quizzes-management[_ngcontent-%COMP%]   .loading-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#0f172ab3;font-size:.9rem;margin:0}.quizzes-management[_ngcontent-%COMP%]   .quizzes-by-section[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:600;color:#0e3a5d;margin-bottom:16px;display:flex;align-items:center;gap:8px}.quizzes-management[_ngcontent-%COMP%]   .quizzes-by-section[_ngcontent-%COMP%]   .lesson-quiz[_ngcontent-%COMP%]   .border[_ngcontent-%COMP%]{border-color:#0e3a5d1a!important}"]})};function moe(n,t){n&1&&(d(0,"div",9)(1,"div",10)(2,"span",11),f(3),h(4,"translate"),p()(),d(5,"p"),f(6),h(7,"translate"),p()()),n&2&&(l(3),O(m(4,2,"admin.courses.loading")),l(3),O(m(7,4,"admin.courses.loadingCourse")))}function _oe(n,t){if(n&1&&(d(0,"span",21),f(1),p()),n&2){let e=x(3);l(),O(e.sections.length)}}function Coe(n,t){if(n&1){let e=J();d(0,"li",14)(1,"button",15),R("click",function(){$(e);let o=x(2);return q(o.setActiveTab("sections"))}),b(2,"i",19),f(3),h(4,"translate"),se(5,_oe,2,1,"span",20),p()()}if(n&2){let e=x(2);l(),V("active",e.activeTab==="sections"),l(2),M(" ",m(4,4,"admin.courses.sections")," "),l(2),E("ngIf",e.sections.length>0)}}function voe(n,t){if(n&1){let e=J();d(0,"li",14)(1,"button",15),R("click",function(){$(e);let o=x(2);return q(o.setActiveTab("lessons"))}),b(2,"i",22),f(3),h(4,"translate"),p()()}if(n&2){let e=x(2);l(),V("active",e.activeTab==="lessons"),l(2),M(" ",m(4,3,"admin.courses.lessons")," ")}}function boe(n,t){if(n&1){let e=J();d(0,"li",14)(1,"button",15),R("click",function(){$(e);let o=x(2);return q(o.setActiveTab("quizzes"))}),b(2,"i",23),f(3),h(4,"translate"),p()()}if(n&2){let e=x(2);l(),V("active",e.activeTab==="quizzes"),l(2),M(" ",m(4,3,"admin.courses.quizzes")," ")}}function yoe(n,t){if(n&1){let e=J();d(0,"div",24)(1,"app-info",25),R("saveCourse",function(o){$(e);let r=x(2);return q(r.onSaveCourse(o))})("cancel",function(){$(e);let o=x(2);return q(o.router.navigate(["/admin/courses"]))}),p()()}if(n&2){let e=x(2);l(),E("course",e.course)("isSaving",e.isSaving)}}function Moe(n,t){if(n&1){let e=J();d(0,"div",24)(1,"app-sections",26),R("sectionsUpdated",function(){$(e);let o=x(2);return q(o.loadSections())}),p()()}if(n&2){let e=x(2);l(),E("courseId",e.courseId)}}function Poe(n,t){if(n&1&&(d(0,"div",24),b(1,"app-lessons",27),p()),n&2){let e=x(2);l(),E("courseId",e.courseId)("sections",e.sections)}}function Ooe(n,t){if(n&1&&(d(0,"div",24),b(1,"app-quizzes",27),p()),n&2){let e=x(2);l(),E("courseId",e.courseId)("sections",e.sections)}}function woe(n,t){if(n&1){let e=J();d(0,"div",12)(1,"ul",13)(2,"li",14)(3,"button",15),R("click",function(){$(e);let o=x();return q(o.setActiveTab("info"))}),b(4,"i",16),f(5),h(6,"translate"),p()(),se(7,Coe,6,6,"li",17)(8,voe,5,5,"li",17)(9,boe,5,5,"li",17),p(),se(10,yoe,2,2,"div",18)(11,Moe,2,1,"div",18)(12,Poe,2,2,"div",18)(13,Ooe,2,2,"div",18),p()}if(n&2){let e=x();l(3),V("active",e.activeTab==="info"),l(2),M(" ",m(6,10,"admin.courses.courseInfo")," "),l(2),E("ngIf",e.course),l(),E("ngIf",e.course),l(),E("ngIf",e.course),l(),E("ngIf",e.activeTab==="info"),l(),E("ngIf",e.activeTab==="sections"&&e.course),l(),E("ngIf",e.activeTab==="lessons"&&e.course),l(),E("ngIf",e.activeTab==="quizzes"&&e.course)}}var MC=class n{constructor(t,e,i,o){this.route=t;this.router=e;this.coursesService=i;this.lessonsService=o}course=null;sections=[];isLoading=!1;isSaving=!1;activeTab="info";destroy$=new me;courseId=null;ngOnInit(){this.route.paramMap.pipe(be(t=>(this.courseId=t.get("id"),this.courseId==="new"?[]:this.coursesService.getCourse(this.courseId))),ne(this.destroy$)).subscribe({next:t=>{t?(this.course=t,this.loadSections()):this.courseId==="new"||(this.showErrorAlert("admin.courses.courseNotFound"),this.router.navigate(["/admin/courses"]))},error:t=>{console.error("Error loading course:",t),this.showErrorAlert("admin.courses.loadError"),this.router.navigate(["/admin/courses"])}})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}loadSections(){!this.courseId||this.courseId==="new"||(this.isLoading=!0,this.lessonsService.getSectionsByCourse(this.courseId).pipe(ne(this.destroy$)).subscribe({next:t=>{this.sections=t,this.isLoading=!1},error:t=>{console.error("Error loading sections:",t),this.isLoading=!1}}))}onSaveCourse(t){this.isSaving=!0,this.courseId==="new"?this.coursesService.createCourse({title:t.title,description:t.description,category:t.category,thumbnail:t.thumbnail,introYouTubeVideo:t.introYouTubeVideo||"",duration:t.duration,Privacy:t.Privacy,published:t.published}).pipe(ne(this.destroy$)).subscribe({next:e=>{this.showSuccessAlert("admin.courses.createSuccess"),this.router.navigate(["/admin/courses",e])},error:e=>{console.error("Error creating course:",e),this.showErrorAlert("admin.courses.createError"),this.isSaving=!1}}):this.coursesService.updateCourse(this.courseId,{title:t.title,description:t.description,category:t.category,thumbnail:t.thumbnail,introYouTubeVideo:t.introYouTubeVideo||"",duration:t.duration,Privacy:t.Privacy,published:t.published}).pipe(ne(this.destroy$)).subscribe({next:()=>{this.showSuccessAlert("admin.courses.updateSuccess"),this.isSaving=!1,this.coursesService.getCourse(this.courseId).pipe(ne(this.destroy$)).subscribe(e=>{e&&(this.course=e)})},error:e=>{console.error("Error updating course:",e),this.showErrorAlert("admin.courses.updateError"),this.isSaving=!1}})}setActiveTab(t){this.activeTab=t,(t==="sections"||t==="lessons"||t==="quizzes")&&this.loadSections()}showSuccessAlert(t){yC.default.fire({icon:"success",title:"admin.courses.success",text:t,confirmButtonText:"admin.courses.ok",confirmButtonColor:"#16A34A"})}showErrorAlert(t){yC.default.fire({icon:"error",title:"admin.courses.error",text:t,confirmButtonText:"admin.courses.ok",confirmButtonColor:"#DC2626"})}showValidationError(t){yC.default.fire({icon:"warning",title:"admin.courses.validationError",text:t,confirmButtonText:"admin.courses.ok",confirmButtonColor:"#F59E0B"})}static \u0275fac=function(e){return new(e||n)(A(tn),A(He),A(jr),A(ji))};static \u0275cmp=ce({type:n,selectors:[["app-course-details"]],decls:14,vars:8,consts:[[1,"course-details"],[1,"page-header"],[1,"header-content"],["routerLink","/admin/courses",1,"back-link"],[1,"fas","fa-arrow-right"],[1,"page-title"],[1,"fas","fa-book"],["class","loading-state",4,"ngIf"],["class","course-content",4,"ngIf"],[1,"loading-state"],["role","status",1,"spinner-border","text-primary"],[1,"visually-hidden"],[1,"course-content"],["role","tablist",1,"nav","nav-tabs","mb-4"],["role","presentation",1,"nav-item"],["type","button",1,"nav-link",3,"click"],[1,"fas","fa-info-circle"],["class","nav-item","role","presentation",4,"ngIf"],["class","tab-content",4,"ngIf"],[1,"fas","fa-list"],["class","badge bg-secondary ms-2",4,"ngIf"],[1,"badge","bg-secondary","ms-2"],[1,"fas","fa-play-circle"],[1,"fas","fa-question-circle"],[1,"tab-content"],[3,"saveCourse","cancel","course","isSaving"],[3,"sectionsUpdated","courseId"],[3,"courseId","sections"]],template:function(e,i){e&1&&(d(0,"div",0)(1,"div",1)(2,"div",2)(3,"div")(4,"a",3),b(5,"i",4),f(6),h(7,"translate"),p(),d(8,"h1",5),b(9,"i",6),f(10),h(11,"translate"),p()()()(),se(12,moe,8,6,"div",7)(13,woe,14,12,"div",8),p()),e&2&&(l(6),M(" ",m(7,4,"admin.courses.backToList")," "),l(4),M(" ",m(11,6,i.course!=null&&i.course.id?"admin.courses.editCourse":"admin.courses.newCourse")," "),l(2),E("ngIf",i.isLoading&&i.course),l(),E("ngIf",!i.isLoading||!i.course))},dependencies:[pe,Yn,Ne,Ue,fe,_C,CC,vC,bC,_e],styles:[".course-details[_ngcontent-%COMP%]   .page-header[_ngcontent-%COMP%]{margin-bottom:64px;padding-bottom:32px;border-bottom:2px solid rgba(14,58,93,.1)}.course-details[_ngcontent-%COMP%]   .page-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .back-link[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:4px;color:#0f172ab3;text-decoration:none;font-size:.9rem;margin-bottom:16px;transition:color .2s}.course-details[_ngcontent-%COMP%]   .page-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .back-link[_ngcontent-%COMP%]:hover{color:#c9a24d}.course-details[_ngcontent-%COMP%]   .page-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .back-link[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.8rem}.course-details[_ngcontent-%COMP%]   .page-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .page-title[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;color:#0e3a5d;margin:0;font-family:Cairo,sans-serif;display:flex;align-items:center;gap:16px}.course-details[_ngcontent-%COMP%]   .page-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .page-title[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#c9a24d;font-size:1.8rem}.course-details[_ngcontent-%COMP%]   .loading-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;min-height:300px;text-align:center}.course-details[_ngcontent-%COMP%]   .loading-state[_ngcontent-%COMP%]   .spinner-border[_ngcontent-%COMP%]{width:3rem;height:3rem;border-width:.3rem;margin-bottom:16px}.course-details[_ngcontent-%COMP%]   .loading-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#0f172ab3;font-size:1rem;margin:0}.course-details[_ngcontent-%COMP%]   .nav-tabs[_ngcontent-%COMP%]{border-bottom:2px solid rgba(14,58,93,.1)}.course-details[_ngcontent-%COMP%]   .nav-tabs[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{color:#0f172ab3;border:none;border-bottom:3px solid transparent;padding:16px 32px;font-weight:500;transition:all .2s;display:flex;align-items:center;gap:8px}.course-details[_ngcontent-%COMP%]   .nav-tabs[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:hover{color:#c9a24d;border-bottom-color:#c9a24d4d}.course-details[_ngcontent-%COMP%]   .nav-tabs[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]{color:#c9a24d;border-bottom-color:#c9a24d;background:transparent}.course-details[_ngcontent-%COMP%]   .nav-tabs[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{font-size:.75rem}.course-details[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{border:none;box-shadow:0 4px 8px #00000026;border-radius:16px}.course-details[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{background:#c9a24d0d;border-bottom:1px solid rgba(14,58,93,.1);padding:32px}.course-details[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:700;color:#0e3a5d;margin:0;font-family:Cairo,sans-serif;display:flex;align-items:center;gap:8px}.course-details[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#c9a24d}.course-details[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{padding:64px}.course-details[_ngcontent-%COMP%]   .form-label[_ngcontent-%COMP%]{font-weight:600;color:#0e3a5d;margin-bottom:8px;font-size:.9rem}.course-details[_ngcontent-%COMP%]   .form-label[_ngcontent-%COMP%]   .text-danger[_ngcontent-%COMP%]{color:#dc2626}.course-details[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%], .course-details[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%]{border:1px solid rgba(14,58,93,.2);border-radius:8px;padding:8px 16px;transition:border-color .2s,box-shadow .2s}.course-details[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:focus, .course-details[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%]:focus{border-color:#c9a24d;box-shadow:0 0 0 .2rem #c9a24d40}.course-details[_ngcontent-%COMP%]   .form-control.is-invalid[_ngcontent-%COMP%], .course-details[_ngcontent-%COMP%]   .form-select.is-invalid[_ngcontent-%COMP%]{border-color:#dc2626}.course-details[_ngcontent-%COMP%]   .invalid-feedback[_ngcontent-%COMP%]{display:block;color:#dc2626;font-size:.85rem;margin-top:4px}.course-details[_ngcontent-%COMP%]   .form-text[_ngcontent-%COMP%]{font-size:.85rem;color:#0f172a99;margin-top:4px}.course-details[_ngcontent-%COMP%]   .thumbnail-preview[_ngcontent-%COMP%]{max-width:100%;max-height:200px;border-radius:8px;border:1px solid rgba(14,58,93,.2);box-shadow:0 1px 2px #0000001a}.course-details[_ngcontent-%COMP%]   .form-check-input[_ngcontent-%COMP%]:checked{background-color:#c9a24d;border-color:#c9a24d}.course-details[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]{display:flex;gap:16px;padding-top:32px;border-top:1px solid rgba(14,58,93,.1)}.course-details[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:8px}@media (max-width: 767.98px){.course-details[_ngcontent-%COMP%]   .page-header[_ngcontent-%COMP%]   .page-title[_ngcontent-%COMP%], .course-details[_ngcontent-%COMP%]   .page-header[_ngcontent-%COMP%]   .page-title[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.5rem}.course-details[_ngcontent-%COMP%]   .nav-tabs[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{padding:8px 16px;font-size:.9rem}.course-details[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]{flex-direction:column}.course-details[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{width:100%;justify-content:center}}"]})};var xoe=(n,t)=>["/admin/subscriptions",n,t],Eoe=(n,t)=>t.subscriptionId;function Ioe(n,t){n&1&&(d(0,"div",6)(1,"div",8)(2,"span",9),f(3),h(4,"translate"),p()(),d(5,"p",10),f(6),h(7,"translate"),p()()),n&2&&(l(3),O(m(4,2,"admin.subscriptions.loading")),l(3),O(m(7,4,"admin.subscriptions.loading")))}function Soe(n,t){if(n&1&&(d(0,"div",7),b(1,"i",11),f(2),h(3,"translate"),p()),n&2){let e=x();l(2),M(" ",m(3,1,e.errorMessage)," ")}}function Toe(n,t){if(n&1){let e=J();d(0,"button",26),R("click",function(){$(e);let o=x(2);return q(o.clearSearch())}),b(1,"i",27),p()}}function Doe(n,t){if(n&1&&(d(0,"div",17)(1,"span"),f(2),h(3,"translate"),p()()),n&2){let e=x(2);l(2),tt("",m(3,2,"admin.subscriptions.searchResults"),": ",e.filteredSubscriptions.length)}}function koe(n,t){n&1&&(d(0,"p",44),b(1,"i",48),d(2,"span"),f(3),h(4,"translate"),p()()),n&2&&(l(3),O(m(4,1,"admin.subscriptions.active")))}function Aoe(n,t){if(n&1&&(d(0,"div",29)(1,"div",30)(2,"div",31)(3,"h3",32),f(4),p(),d(5,"span",33),b(6,"i",34),f(7),h(8,"translate"),p()(),d(9,"div",35)(10,"div",36)(11,"p",37),b(12,"i",38),d(13,"span")(14,"strong"),f(15),h(16,"translate"),p(),f(17),h(18,"translate"),p()(),d(19,"p",37),b(20,"i",39),d(21,"span")(22,"strong"),f(23),h(24,"translate"),p(),f(25),p()(),d(26,"p",37),b(27,"i",40),d(28,"span")(29,"strong"),f(30),h(31,"translate"),p(),f(32),p()(),d(33,"p",37),b(34,"i",41),d(35,"span"),f(36),p()(),d(37,"p",42),b(38,"i",43),d(39,"span"),f(40),p()(),T(41,koe,5,3,"p",44),p()(),d(42,"div",45)(43,"a",46),b(44,"i",47),f(45),h(46,"translate"),p()()()()),n&2){let e=t.$implicit,i=x(3);l(4),O(e.organizationName),l(),E("ngClass",i.getStatusClass(e.status)),l(),V("fa-check-circle",e.status==="approved")("fa-clock",e.status==="pending")("fa-times-circle",e.status==="rejected"),l(),M(" ",m(8,20,i.getStatusKey(e.status))," "),l(8),M("",m(16,22,"subscriptions.plan"),":"),l(2),M(" ",m(18,24,i.getPlanKey(e.subscriptionPlan))),l(6),M("",m(24,26,"subscriptions.startDate"),":"),l(2),M(" ",i.formatDate(e.startDate)),l(5),M("",m(31,28,"subscriptions.endDate"),":"),l(2),M(" ",i.formatDate(e.endDate)),l(4),O(e.organizationEmail),l(4),O(i.formatDate(e.createdAt)),l(),D(i.isSubscriptionActive(e)?41:-1),l(2),E("routerLink",o1(32,xoe,e.organizationId,e.subscriptionId)),l(2),M(" ",m(46,30,"admin.subscriptions.viewDetails")," ")}}function Roe(n,t){if(n&1&&(d(0,"div",24)(1,"div",28),Be(2,Aoe,47,35,"div",29,Eoe),p()()),n&2){let e=x(2);l(2),je(e.filteredSubscriptions)}}function Noe(n,t){n&1&&(d(0,"div",25),b(1,"i",4),d(2,"p"),f(3),h(4,"translate"),p()()),n&2&&(l(3),O(m(4,1,"admin.subscriptions.noSubscriptions")))}function Loe(n,t){if(n&1){let e=J();d(0,"div",12)(1,"div",13),b(2,"i",14),d(3,"input",15),h(4,"translate"),Kn("ngModelChange",function(o){$(e);let r=x();return ai(r.searchQuery,o)||(r.searchQuery=o),q(o)}),R("ngModelChange",function(){$(e);let o=x();return q(o.onSearchChange())}),p(),T(5,Toe,2,0,"button",16),p(),T(6,Doe,4,4,"div",17),p(),d(7,"div",18)(8,"div",19)(9,"div",20)(10,"button",21),R("click",function(){$(e);let o=x();return q(o.onStatusFilterChange("all"))}),d(11,"span",22),f(12),h(13,"translate"),p(),d(14,"span",23),f(15),p()()(),d(16,"div",20)(17,"button",21),R("click",function(){$(e);let o=x();return q(o.onStatusFilterChange("pending"))}),d(18,"span",22),f(19),h(20,"translate"),p(),d(21,"span",23),f(22),p()()(),d(23,"div",20)(24,"button",21),R("click",function(){$(e);let o=x();return q(o.onStatusFilterChange("approved"))}),d(25,"span",22),f(26),h(27,"translate"),p(),d(28,"span",23),f(29),p()()(),d(30,"div",20)(31,"button",21),R("click",function(){$(e);let o=x();return q(o.onStatusFilterChange("rejected"))}),d(32,"span",22),f(33),h(34,"translate"),p(),d(35,"span",23),f(36),p()()()()(),T(37,Roe,4,0,"div",24)(38,Noe,5,3,"div",25)}if(n&2){let e=x();l(3),Qn("ngModel",e.searchQuery),E("placeholder",m(4,21,"admin.subscriptions.searchPlaceholder")),l(2),D(e.searchQuery?5:-1),l(),D(e.searchQuery&&e.filteredSubscriptions.length!==e.subscriptions.length?6:-1),l(4),V("active",e.selectedStatus==="all"),l(2),O(m(13,23,"admin.subscriptions.all")),l(3),O(e.getCountByStatus("all")),l(2),V("active",e.selectedStatus==="pending"),l(2),O(m(20,25,"admin.subscriptions.pending")),l(3),O(e.getCountByStatus("pending")),l(2),V("active",e.selectedStatus==="approved"),l(2),O(m(27,27,"admin.subscriptions.approved")),l(3),O(e.getCountByStatus("approved")),l(2),V("active",e.selectedStatus==="rejected"),l(2),O(m(34,29,"admin.subscriptions.rejected")),l(3),O(e.getCountByStatus("rejected")),l(),D(e.filteredSubscriptions.length>0?37:38)}}var PC=class n{constructor(t,e){this.platformSubscriptions=t;this.organizationService=e}subscriptions=[];filteredSubscriptions=[];isLoading=!0;errorMessage="";selectedStatus="all";searchQuery="";destroy$=new me;ngOnInit(){this.loadAllSubscriptions()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}loadAllSubscriptions(){this.isLoading=!0,this.errorMessage="",this.organizationService.getAllOrganizations().pipe(Et(1),be(t=>{if(t.length===0)return Q([]);let e=t.map(i=>this.platformSubscriptions.getSubscriptionsOnce(i.uid).pipe(H(o=>o.map(r=>ae(j({},r),{organizationName:i.name,organizationEmail:i.email,organizationPhone:i.phone,organizationId:i.uid})))));return Rt(e).pipe(H(i=>i.flat()))}),ne(this.destroy$)).subscribe({next:t=>{this.subscriptions=t.sort((e,i)=>new Date(i.createdAt).getTime()-new Date(e.createdAt).getTime()),this.filterSubscriptions(),this.isLoading=!1},error:t=>{console.error("Error loading subscriptions:",t),this.errorMessage="admin.subscriptions.loadError",this.isLoading=!1}})}filterSubscriptions(){let t=this.subscriptions;if(this.selectedStatus!=="all"&&(t=t.filter(e=>e.status===this.selectedStatus)),this.searchQuery.trim()){let e=this.searchQuery.toLowerCase().trim();t=t.filter(i=>i.organizationName&&i.organizationName.toLowerCase().includes(e)||i.organizationEmail&&i.organizationEmail.toLowerCase().includes(e)||i.organizationPhone&&String(i.organizationPhone).includes(e))}this.filteredSubscriptions=t}onStatusFilterChange(t){this.selectedStatus=t,this.filterSubscriptions()}onSearchChange(){this.filterSubscriptions()}clearSearch(){this.searchQuery="",this.filterSubscriptions()}getStatusClass(t){switch(t){case"approved":return"badge-success";case"pending":return"badge-warning";case"rejected":return"badge-error";default:return"badge-secondary"}}getStatusKey(t){return`subscriptions.statusTypes.${t}`}getPlanKey(t){return`subscriptions.plans.${t}`}getCountByStatus(t){return t==="all"?this.subscriptions.length:this.subscriptions.filter(e=>e.status===t).length}formatDate(t){return t?new Date(t).toLocaleDateString("ar-EG",{year:"numeric",month:"short",day:"numeric"}):""}isSubscriptionActive(t){if(t.status!=="approved")return!1;let e=new Date,i=new Date(t.startDate),o=new Date(t.endDate);return e>=i&&e<=o}static \u0275fac=function(e){return new(e||n)(A(Br),A(wn))};static \u0275cmp=ce({type:n,selectors:[["app-subscription-list"]],decls:13,vars:9,consts:[[1,"subscription-list"],[1,"page-header"],[1,"header-content"],[1,"page-title"],[1,"fas","fa-credit-card"],[1,"page-subtitle"],[1,"loading-state"],[1,"alert","alert-error"],["role","status",1,"spinner-border","text-primary"],[1,"visually-hidden"],[1,"mt-3"],[1,"fas","fa-exclamation-circle"],[1,"search-section"],[1,"search-box"],[1,"fas","fa-search","search-icon"],["type","text",1,"search-input",3,"ngModelChange","ngModel","placeholder"],[1,"search-clear"],[1,"search-results-info"],[1,"filter-tabs"],[1,"row","g-2"],[1,"col-6","col-md-3"],["type","button",1,"filter-tab",3,"click"],[1,"tab-label"],[1,"tab-count"],[1,"subscriptions-grid"],[1,"empty-state"],[1,"search-clear",3,"click"],[1,"fas","fa-times"],[1,"row","g-4"],[1,"col-12","col-md-6","col-lg-4"],[1,"subscription-card"],[1,"card-header"],[1,"org-name"],[1,"status-badge",3,"ngClass"],[1,"fas"],[1,"card-body"],[1,"subscription-info"],[1,"info-item"],[1,"fas","fa-calendar-alt"],[1,"fas","fa-calendar-plus"],[1,"fas","fa-calendar-minus"],[1,"fas","fa-envelope"],[1,"info-item","date"],[1,"fas","fa-clock"],[1,"info-item","active-badge"],[1,"card-footer"],[1,"btn","btn-view",3,"routerLink"],[1,"fas","fa-eye"],[1,"fas","fa-check-circle"]],template:function(e,i){e&1&&(d(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3),b(4,"i",4),f(5),h(6,"translate"),p(),d(7,"p",5),f(8),h(9,"translate"),p()()(),T(10,Ioe,8,6,"div",6),T(11,Soe,4,3,"div",7),T(12,Loe,39,31),p()),e&2&&(l(5),M(" ",m(6,5,"admin.subscriptions.title")," "),l(3),O(m(9,7,"admin.subscriptions.subtitle")),l(2),D(i.isLoading?10:-1),l(),D(!i.isLoading&&i.errorMessage?11:-1),l(),D(!i.isLoading&&!i.errorMessage?12:-1))},dependencies:[pe,gn,Ne,Ue,zr,ht,bt,er,fe,_e],styles:[".page-header[_ngcontent-%COMP%]{margin-bottom:32px;padding-bottom:32px;border-bottom:2px solid rgba(14,58,93,.1)}.page-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .page-title[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;color:#0e3a5d;margin-bottom:4px;font-family:Cairo,sans-serif;display:flex;align-items:center;gap:16px}.page-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .page-title[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#c9a24d;font-size:1.8rem}.page-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .page-subtitle[_ngcontent-%COMP%]{font-size:1rem;color:#0f172a99;margin:0;font-family:Cairo,sans-serif}.search-section[_ngcontent-%COMP%]{margin-bottom:32px}.search-section[_ngcontent-%COMP%]   .search-box[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center;background:#fff;border:2px solid rgba(14,58,93,.15);border-radius:16px;overflow:hidden;transition:all .3s ease}.search-section[_ngcontent-%COMP%]   .search-box[_ngcontent-%COMP%]:focus-within{border-color:#c9a24d;box-shadow:0 0 0 3px #c9a24d1a}.search-section[_ngcontent-%COMP%]   .search-box[_ngcontent-%COMP%]   .search-icon[_ngcontent-%COMP%]{position:absolute;right:16px;color:#0f172a66;font-size:1rem;pointer-events:none}.search-section[_ngcontent-%COMP%]   .search-box[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]{width:100%;padding:16px 64px 16px 32px;border:none;background:transparent;font-size:1rem;font-family:Cairo,sans-serif;color:#0f172a}.search-section[_ngcontent-%COMP%]   .search-box[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]::placeholder{color:#0f172a66}.search-section[_ngcontent-%COMP%]   .search-box[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]:focus{outline:none}.search-section[_ngcontent-%COMP%]   .search-box[_ngcontent-%COMP%]   .search-clear[_ngcontent-%COMP%]{position:absolute;left:16px;width:32px;height:32px;display:flex;align-items:center;justify-content:center;background:#0f172a1a;border:none;border-radius:50%;color:#0f172a99;cursor:pointer;transition:all .2s ease}.search-section[_ngcontent-%COMP%]   .search-box[_ngcontent-%COMP%]   .search-clear[_ngcontent-%COMP%]:hover{background:#dc26261a;color:#dc2626}.search-section[_ngcontent-%COMP%]   .search-results-info[_ngcontent-%COMP%]{margin-top:8px;padding:8px 16px;background:#c9a24d1a;border-radius:8px;display:inline-block}.search-section[_ngcontent-%COMP%]   .search-results-info[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.9rem;font-weight:600;color:#c9a24d;font-family:Cairo,sans-serif}.loading-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;min-height:400px;text-align:center;padding:64px}.loading-state[_ngcontent-%COMP%]   .spinner-border[_ngcontent-%COMP%]{width:3rem;height:3rem;border-width:.3rem;color:#c9a24d}.loading-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#0f172ab3;font-size:1rem;margin-top:16px;font-family:Cairo,sans-serif}.alert-error[_ngcontent-%COMP%]{padding:16px 32px;border-radius:8px;background:#dc26261a;color:#dc2626;border:1px solid rgba(220,38,38,.3);display:flex;align-items:center;gap:8px;font-size:.95rem;margin-bottom:32px;font-family:Cairo,sans-serif}.alert-error[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.1rem}.filter-tabs[_ngcontent-%COMP%]{margin-bottom:64px}.filter-tabs[_ngcontent-%COMP%]   .filter-tab[_ngcontent-%COMP%]{width:100%;padding:16px;border:2px solid rgba(14,58,93,.2);border-radius:8px;background:#fff;cursor:pointer;transition:all .2s ease;font-family:Cairo,sans-serif;text-align:center}.filter-tabs[_ngcontent-%COMP%]   .filter-tab[_ngcontent-%COMP%]:hover{border-color:#c9a24d;background:#c9a24d0d}.filter-tabs[_ngcontent-%COMP%]   .filter-tab.active[_ngcontent-%COMP%]{border-color:#c9a24d;background:#c9a24d1a;color:#0e3a5d;font-weight:700}.filter-tabs[_ngcontent-%COMP%]   .filter-tab[_ngcontent-%COMP%]   .tab-label[_ngcontent-%COMP%]{display:block;font-size:.9rem;margin-bottom:4px}.filter-tabs[_ngcontent-%COMP%]   .filter-tab[_ngcontent-%COMP%]   .tab-count[_ngcontent-%COMP%]{display:block;font-size:1.5rem;font-weight:700;color:#c9a24d}.subscriptions-grid[_ngcontent-%COMP%]   .subscription-card[_ngcontent-%COMP%]{background:#fff;border-radius:16px;box-shadow:0 4px 8px #00000026;border:1px solid rgba(14,58,93,.1);transition:all .2s ease;height:100%;display:flex;flex-direction:column}.subscriptions-grid[_ngcontent-%COMP%]   .subscription-card[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 8px 16px #0003;border-color:#c9a24d4d}.subscriptions-grid[_ngcontent-%COMP%]   .subscription-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{padding:32px;border-bottom:1px solid rgba(14,58,93,.1);display:flex;justify-content:space-between;align-items:flex-start;gap:16px}.subscriptions-grid[_ngcontent-%COMP%]   .subscription-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .org-name[_ngcontent-%COMP%]{font-size:1.2rem;font-weight:700;color:#0e3a5d;margin:0;font-family:Cairo,sans-serif;flex:1}.subscriptions-grid[_ngcontent-%COMP%]   .subscription-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .status-badge[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:4px;padding:4px 16px;border-radius:8px;font-weight:600;font-size:.85rem;font-family:Cairo,sans-serif;white-space:nowrap}.subscriptions-grid[_ngcontent-%COMP%]   .subscription-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .status-badge.badge-success[_ngcontent-%COMP%]{background:#16a34a1a;color:#16a34a;border:1px solid rgba(22,163,74,.3)}.subscriptions-grid[_ngcontent-%COMP%]   .subscription-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .status-badge.badge-warning[_ngcontent-%COMP%]{background:#d977061a;color:#d97706;border:1px solid rgba(217,119,6,.3)}.subscriptions-grid[_ngcontent-%COMP%]   .subscription-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .status-badge.badge-error[_ngcontent-%COMP%]{background:#dc26261a;color:#dc2626;border:1px solid rgba(220,38,38,.3)}.subscriptions-grid[_ngcontent-%COMP%]   .subscription-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .status-badge[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.8rem}.subscriptions-grid[_ngcontent-%COMP%]   .subscription-card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{padding:32px;flex:1}.subscriptions-grid[_ngcontent-%COMP%]   .subscription-card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .subscription-info[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;margin-bottom:16px;font-size:.95rem;color:#0f172acc;font-family:Cairo,sans-serif}.subscriptions-grid[_ngcontent-%COMP%]   .subscription-card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .subscription-info[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#0e3a5d;font-size:.9rem;width:18px;text-align:center}.subscriptions-grid[_ngcontent-%COMP%]   .subscription-card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .subscription-info[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#0f172a;font-weight:600}.subscriptions-grid[_ngcontent-%COMP%]   .subscription-card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .subscription-info[_ngcontent-%COMP%]   .info-item.date[_ngcontent-%COMP%]{color:#0f172a99;font-size:.85rem}.subscriptions-grid[_ngcontent-%COMP%]   .subscription-card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .subscription-info[_ngcontent-%COMP%]   .info-item.active-badge[_ngcontent-%COMP%]{color:#16a34a;font-weight:700;margin-top:8px;padding-top:8px;border-top:1px solid rgba(14,58,93,.1)}.subscriptions-grid[_ngcontent-%COMP%]   .subscription-card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .subscription-info[_ngcontent-%COMP%]   .info-item.active-badge[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#16a34a}.subscriptions-grid[_ngcontent-%COMP%]   .subscription-card[_ngcontent-%COMP%]   .card-footer[_ngcontent-%COMP%]{padding:16px 32px;border-top:1px solid rgba(14,58,93,.1);background:#f6f7f94d}.subscriptions-grid[_ngcontent-%COMP%]   .subscription-card[_ngcontent-%COMP%]   .card-footer[_ngcontent-%COMP%]   .btn-view[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center;justify-content:center;gap:8px;padding:8px 16px;background:#c9a24d;color:#fff;border:none;border-radius:8px;font-weight:600;font-size:.95rem;font-family:Cairo,sans-serif;text-decoration:none;transition:all .2s ease}.subscriptions-grid[_ngcontent-%COMP%]   .subscription-card[_ngcontent-%COMP%]   .card-footer[_ngcontent-%COMP%]   .btn-view[_ngcontent-%COMP%]:hover{background:#a8832f;transform:translateY(-2px);box-shadow:0 1px 2px #0000001a}.subscriptions-grid[_ngcontent-%COMP%]   .subscription-card[_ngcontent-%COMP%]   .card-footer[_ngcontent-%COMP%]   .btn-view[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.9rem}.empty-state[_ngcontent-%COMP%]{text-align:center;padding:128px;background:#fff;border-radius:16px;box-shadow:0 1px 2px #0000001a;border:2px dashed rgba(14,58,93,.2)}.empty-state[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:4rem;color:#0f172a4d;margin-bottom:16px}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.1rem;color:#0f172a99;font-family:Cairo,sans-serif;margin:0}@media (max-width: 767.98px){.page-header[_ngcontent-%COMP%]   .page-title[_ngcontent-%COMP%]{font-size:1.5rem}.subscription-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start}}"]})};var ba=Un(jn());function Foe(n,t){n&1&&(d(0,"div",4)(1,"div",7)(2,"span",8),f(3),h(4,"translate"),p()(),d(5,"p",9),f(6),h(7,"translate"),p()()),n&2&&(l(3),O(m(4,2,"admin.subscriptions.loading")),l(3),O(m(7,4,"admin.subscriptions.loading")))}function zoe(n,t){if(n&1&&(d(0,"div",5),b(1,"i",10),f(2),h(3,"translate"),p()),n&2){let e=x();l(2),M(" ",m(3,1,e.errorMessage)," ")}}function Boe(n,t){if(n&1&&(d(0,"div",20),b(1,"i",43),f(2),h(3,"translate"),p()),n&2){let e=x(2);l(2),M(" ",m(3,1,e.successMessage)," ")}}function joe(n,t){if(n&1&&(d(0,"div",5),b(1,"i",10),f(2),h(3,"translate"),p()),n&2){let e=x(2);l(2),M(" ",m(3,1,e.errorMessage)," ")}}function Voe(n,t){if(n&1&&(d(0,"div",13)(1,"div",28)(2,"label",29),b(3,"i",44),f(4),h(5,"translate"),p(),d(6,"p",45),f(7),h(8,"translate"),p()()()),n&2){let e=x(2);l(4),M(" ",m(5,3,"subscriptions.daysRemaining")," "),l(3),tt(" ",e.getDaysRemaining()," ",m(8,5,"subscriptions.days")," ")}}function Uoe(n,t){if(n&1&&(d(0,"div",13)(1,"div",28)(2,"label",29),b(3,"i",46),f(4),h(5,"translate"),p(),d(6,"p",31),f(7),p()()()),n&2){let e=x(2);l(4),M(" ",m(5,2,"subscriptions.updatedAt")," "),l(3),O(e.formatDate(e.subscription.updatedAt))}}function $oe(n,t){n&1&&(b(0,"i",51),f(1),h(2,"translate")),n&2&&(l(),M(" ",m(2,1,"admin.subscriptions.processing")," "))}function qoe(n,t){n&1&&(b(0,"i",52),f(1),h(2,"translate")),n&2&&(l(),M(" ",m(2,1,"admin.subscriptions.approve")," "))}function Hoe(n,t){n&1&&(b(0,"i",51),f(1),h(2,"translate")),n&2&&(l(),M(" ",m(2,1,"admin.subscriptions.processing")," "))}function Woe(n,t){n&1&&(b(0,"i",53),f(1),h(2,"translate")),n&2&&(l(),M(" ",m(2,1,"admin.subscriptions.reject")," "))}function Goe(n,t){if(n&1){let e=J();d(0,"div",42)(1,"h3",24),b(2,"i",47),f(3),h(4,"translate"),p(),d(5,"div",26)(6,"div",48)(7,"button",49),R("click",function(){$(e);let o=x(2);return q(o.approveSubscription())}),T(8,$oe,3,3)(9,qoe,3,3),p(),d(10,"button",50),R("click",function(){$(e);let o=x(2);return q(o.rejectSubscription())}),T(11,Hoe,3,3)(12,Woe,3,3),p()()()()}if(n&2){let e=x(2);l(3),M(" ",m(4,5,"admin.subscriptions.actions")," "),l(4),E("disabled",e.isProcessing),l(),D(e.isProcessing?8:9),l(2),E("disabled",e.isProcessing),l(),D(e.isProcessing?11:12)}}function Qoe(n,t){if(n&1){let e=J();d(0,"div",6)(1,"div",11)(2,"div",12)(3,"div",13)(4,"h1",14),b(5,"i",15),f(6),h(7,"translate"),p(),d(8,"p",16),f(9),p()(),d(10,"div",17)(11,"span",18),b(12,"i",19),f(13),h(14,"translate"),p()()()(),T(15,Boe,4,3,"div",20),T(16,joe,4,3,"div",5),d(17,"div",21)(18,"div",22)(19,"div",23)(20,"h3",24),b(21,"i",25),f(22),h(23,"translate"),p(),d(24,"div",26)(25,"div",27)(26,"div",13)(27,"div",28)(28,"label",29),b(29,"i",30),f(30),h(31,"translate"),p(),d(32,"p",31),f(33),h(34,"translate"),p()()(),d(35,"div",13)(36,"div",28)(37,"label",29),b(38,"i",32),f(39),h(40,"translate"),p(),d(41,"p",31),f(42),p()()(),d(43,"div",13)(44,"div",28)(45,"label",29),b(46,"i",33),f(47),h(48,"translate"),p(),d(49,"p",31),f(50),p()()(),T(51,Voe,9,7,"div",13),d(52,"div",13)(53,"div",28)(54,"label",29),b(55,"i",34),f(56),h(57,"translate"),p(),d(58,"p",31),f(59),p()()(),T(60,Uoe,8,4,"div",13),p()()(),d(61,"div",23)(62,"h3",24),b(63,"i",35),f(64),h(65,"translate"),p(),d(66,"div",26)(67,"div",36)(68,"img",37),R("click",function(){$(e);let o=x();return q(o.openImageModal(o.subscription.imageOfBankTransfer))}),p()()()()(),d(69,"div",38)(70,"div",23)(71,"h3",24),b(72,"i",39),f(73),h(74,"translate"),p(),d(75,"div",26)(76,"div",28)(77,"label",29),b(78,"i",39),f(79),h(80,"translate"),p(),d(81,"p",31),f(82),p()(),d(83,"div",28)(84,"label",29),b(85,"i",40),f(86),h(87,"translate"),p(),d(88,"p",31),f(89),p()(),d(90,"div",28)(91,"label",29),b(92,"i",41),f(93),h(94,"translate"),p(),d(95,"p",31),f(96),p()()()(),T(97,Goe,13,7,"div",42),p()()()}if(n&2){let e=x();l(6),M(" ",m(7,33,"admin.subscriptions.details")," "),l(3),O(e.organization.name),l(2),E("ngClass",e.getStatusClass(e.subscription.status)),l(),V("fa-check-circle",e.subscription.status==="approved")("fa-clock",e.subscription.status==="pending")("fa-times-circle",e.subscription.status==="rejected"),l(),M(" ",m(14,35,e.getStatusKey(e.subscription.status))," "),l(2),D(e.successMessage?15:-1),l(),D(e.errorMessage?16:-1),l(6),M(" ",m(23,37,"admin.subscriptions.subscriptionInfo")," "),l(8),M(" ",m(31,39,"subscriptions.plan")," "),l(3),O(m(34,41,e.getPlanKey(e.subscription.subscriptionPlan))),l(6),M(" ",m(40,43,"subscriptions.startDate")," "),l(3),O(e.formatDate(e.subscription.startDate)),l(5),M(" ",m(48,45,"subscriptions.endDate")," "),l(3),O(e.formatDate(e.subscription.endDate)),l(),D(e.isSubscriptionActive()?51:-1),l(5),M(" ",m(57,47,"subscriptions.createdAt")," "),l(3),O(e.formatDate(e.subscription.createdAt)),l(),D(e.subscription.updatedAt?60:-1),l(4),M(" ",m(65,49,"subscriptions.bankTransferReceipt")," "),l(4),E("src",e.subscription.imageOfBankTransfer,Je),l(5),M(" ",m(74,51,"admin.subscriptions.organizationInfo")," "),l(6),M(" ",m(80,53,"auth.profile.name")," "),l(3),O(e.organization.name),l(4),M(" ",m(87,55,"auth.profile.email")," "),l(3),O(e.organization.email),l(4),M(" ",m(94,57,"auth.profile.phone")," "),l(3),O(e.organization.phone),l(),D(e.subscription.status==="pending"?97:-1)}}var OC=class n{constructor(t,e,i,o,r){this.platformSubscriptions=t;this.organizationService=e;this.route=i;this.router=o;this.notifications=r}subscription=null;organization=null;isLoading=!0;isProcessing=!1;errorMessage="";successMessage="";destroy$=new me;ngOnInit(){this.route.params.pipe(be(t=>{let e=t.organizationId,i=t.subscriptionId;return!e||!i?(this.errorMessage="admin.subscriptions.invalidId",this.isLoading=!1,Q({subscription:null,organization:null})):Rt({subscription:this.platformSubscriptions.getSubscriptionById(e,i).pipe(Et(1)),organization:this.organizationService.getOrganization(e).pipe(Et(1))})}),ne(this.destroy$)).subscribe({next:t=>{this.subscription=t.subscription,this.organization=t.organization,this.isLoading=!1,t.subscription||(this.errorMessage="admin.subscriptions.notFound"),t.organization||(this.errorMessage="admin.subscriptions.organizationNotFound")},error:t=>{console.error("Error loading subscription:",t),this.errorMessage="admin.subscriptions.loadError",this.isLoading=!1}})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}approveSubscription(){!this.subscription||!this.organization||ba.default.fire({title:"\u0647\u0644 \u0623\u0646\u062A \u0645\u062A\u0623\u0643\u062F\u061F",text:"\u0633\u064A\u062A\u0645 \u0627\u0644\u0645\u0648\u0627\u0641\u0642\u0629 \u0639\u0644\u0649 \u0647\u0630\u0627 \u0627\u0644\u0627\u0634\u062A\u0631\u0627\u0643.",icon:"question",showCancelButton:!0,confirmButtonText:"\u0646\u0639\u0645, \u0645\u0648\u0627\u0641\u0642",cancelButtonText:"\u0625\u0644\u063A\u0627\u0621",confirmButtonColor:"#16A34A",cancelButtonColor:"#6B7280"}).then(t=>{t.isConfirmed&&(this.isProcessing=!0,this.errorMessage="",this.successMessage="",this.platformSubscriptions.approveSubscription(this.organization.uid,this.subscription.subscriptionId).pipe(ut(e=>(this.isProcessing=!1,this.errorMessage="admin.subscriptions.approveError",console.error("Error approving subscription:",e),ba.default.fire({icon:"error",title:"\u062E\u0637\u0623",text:"\u062D\u062F\u062B \u062E\u0637\u0623 \u0623\u062B\u0646\u0627\u0621 \u0627\u0644\u0645\u0648\u0627\u0641\u0642\u0629 \u0639\u0644\u0649 \u0627\u0644\u0627\u0634\u062A\u0631\u0627\u0643. \u064A\u0631\u062C\u0649 \u0627\u0644\u0645\u062D\u0627\u0648\u0644\u0629 \u0645\u0631\u0629 \u0623\u062E\u0631\u0649.",confirmButtonText:"\u062D\u0633\u0646\u0627\u064B",confirmButtonColor:"#DC2626"}),Q(null)))).subscribe({next:e=>{e!==null&&(this.isProcessing=!1,this.successMessage="admin.subscriptions.approveSuccess",this.subscription&&(this.subscription.status="approved"),this.sendNotificationToOrganization("\u062A\u0645 \u0627\u0644\u0645\u0648\u0627\u0641\u0642\u0629 \u0639\u0644\u0649 \u0627\u0634\u062A\u0631\u0627\u0643\u0643","\u062A\u0645 \u0627\u0644\u0645\u0648\u0627\u0641\u0642\u0629 \u0639\u0644\u0649 \u0637\u0644\u0628 \u0627\u0644\u0627\u0634\u062A\u0631\u0627\u0643 \u0627\u0644\u062E\u0627\u0635 \u0628\u0645\u0646\u0638\u0645\u062A\u0643. \u064A\u0645\u0643\u0646\u0643 \u0627\u0644\u0622\u0646 \u0627\u0644\u0648\u0635\u0648\u0644 \u0625\u0644\u0649 \u0627\u0644\u0645\u0646\u0635\u0629.","approval"),ba.default.fire({icon:"success",title:"\u062A\u0645\u062A \u0627\u0644\u0645\u0648\u0627\u0641\u0642\u0629 \u0628\u0646\u062C\u0627\u062D!",text:"\u062A\u0645\u062A \u0627\u0644\u0645\u0648\u0627\u0641\u0642\u0629 \u0639\u0644\u0649 \u0627\u0644\u0627\u0634\u062A\u0631\u0627\u0643 \u0628\u0646\u062C\u0627\u062D.",confirmButtonText:"\u062D\u0633\u0646\u0627\u064B",confirmButtonColor:"#16A34A",timer:2e3,timerProgressBar:!0}).then(()=>{this.router.navigate(["/admin/subscriptions/list"])}))}}))})}rejectSubscription(){!this.subscription||!this.organization||ba.default.fire({title:"\u0647\u0644 \u0623\u0646\u062A \u0645\u062A\u0623\u0643\u062F\u061F",text:"\u0633\u064A\u062A\u0645 \u0631\u0641\u0636 \u0647\u0630\u0627 \u0627\u0644\u0627\u0634\u062A\u0631\u0627\u0643.",icon:"warning",showCancelButton:!0,confirmButtonText:"\u0646\u0639\u0645, \u0627\u0631\u0641\u0636",cancelButtonText:"\u0625\u0644\u063A\u0627\u0621",confirmButtonColor:"#DC2626",cancelButtonColor:"#6B7280"}).then(t=>{t.isConfirmed&&(this.isProcessing=!0,this.errorMessage="",this.successMessage="",this.platformSubscriptions.rejectSubscription(this.organization.uid,this.subscription.subscriptionId).pipe(ut(e=>(this.isProcessing=!1,this.errorMessage="admin.subscriptions.rejectError",console.error("Error rejecting subscription:",e),ba.default.fire({icon:"error",title:"\u062E\u0637\u0623",text:"\u062D\u062F\u062B \u062E\u0637\u0623 \u0623\u062B\u0646\u0627\u0621 \u0631\u0641\u0636 \u0627\u0644\u0627\u0634\u062A\u0631\u0627\u0643. \u064A\u0631\u062C\u0649 \u0627\u0644\u0645\u062D\u0627\u0648\u0644\u0629 \u0645\u0631\u0629 \u0623\u062E\u0631\u0649.",confirmButtonText:"\u062D\u0633\u0646\u0627\u064B",confirmButtonColor:"#DC2626"}),Q(null)))).subscribe({next:e=>{e!==null&&(this.isProcessing=!1,this.successMessage="admin.subscriptions.rejectSuccess",this.subscription&&(this.subscription.status="rejected"),this.sendNotificationToOrganization("\u062A\u0645 \u0631\u0641\u0636 \u0627\u0634\u062A\u0631\u0627\u0643\u0643","\u062A\u0645 \u0631\u0641\u0636 \u0637\u0644\u0628 \u0627\u0644\u0627\u0634\u062A\u0631\u0627\u0643 \u0627\u0644\u062E\u0627\u0635 \u0628\u0645\u0646\u0638\u0645\u062A\u0643. \u064A\u0631\u062C\u0649 \u0645\u0631\u0627\u062C\u0639\u0629 \u0627\u0644\u0645\u0639\u0644\u0648\u0645\u0627\u062A \u0648\u0625\u0639\u0627\u062F\u0629 \u0627\u0644\u0645\u062D\u0627\u0648\u0644\u0629.","rejection"),ba.default.fire({icon:"success",title:"\u062A\u0645 \u0627\u0644\u0631\u0641\u0636 \u0628\u0646\u062C\u0627\u062D!",text:"\u062A\u0645 \u0631\u0641\u0636 \u0627\u0644\u0627\u0634\u062A\u0631\u0627\u0643 \u0628\u0646\u062C\u0627\u062D.",confirmButtonText:"\u062D\u0633\u0646\u0627\u064B",confirmButtonColor:"#DC2626",timer:2e3,timerProgressBar:!0}).then(()=>{this.router.navigate(["/admin/subscriptions/list"])}))}}))})}getStatusClass(t){switch(t){case"approved":return"badge-success";case"pending":return"badge-warning";case"rejected":return"badge-error";default:return"badge-secondary"}}getStatusKey(t){return`subscriptions.statusTypes.${t}`}getPlanKey(t){return`subscriptions.plans.${t}`}formatDate(t){return t?new Date(t).toLocaleDateString("ar-EG",{year:"numeric",month:"long",day:"numeric"}):""}openImageModal(t){ba.default.fire({imageUrl:t,imageAlt:"Bank Transfer Receipt",showCloseButton:!0,showConfirmButton:!1,width:"90%",padding:"0"})}isSubscriptionActive(){if(!this.subscription||this.subscription.status!=="approved")return!1;let t=new Date,e=new Date(this.subscription.startDate),i=new Date(this.subscription.endDate);return t>=e&&t<=i}getDaysRemaining(){if(!this.subscription||this.subscription.status!=="approved")return null;let t=new Date,i=new Date(this.subscription.endDate).getTime()-t.getTime();return Math.ceil(i/(1e3*60*60*24))}sendNotificationToOrganization(t,e,i){this.organization&&this.notifications.sendNotificationToOrganization(this.organization.uid,{title:t,message:e,type:i})}static \u0275fac=function(e){return new(e||n)(A(Br),A(wn),A(tn),A(He),A(Io))};static \u0275cmp=ce({type:n,selectors:[["app-subscription-details"]],decls:9,vars:6,consts:[[1,"subscription-details"],[1,"back-button"],["type","button","routerLink","/admin/subscriptions",1,"btn","btn-back"],[1,"fas","fa-arrow-left"],[1,"loading-state"],[1,"alert","alert-error"],[1,"details-content"],["role","status",1,"spinner-border","text-primary"],[1,"visually-hidden"],[1,"mt-3"],[1,"fas","fa-exclamation-circle"],[1,"details-header"],[1,"row","align-items-center"],[1,"col-12","col-md-6"],[1,"details-title"],[1,"fas","fa-credit-card"],[1,"details-subtitle"],[1,"col-12","col-md-6","text-md-end"],[1,"status-badge",3,"ngClass"],[1,"fas"],[1,"alert","alert-success"],[1,"row","g-4"],[1,"col-12","col-lg-8"],[1,"details-card"],[1,"card-title"],[1,"fas","fa-info-circle"],[1,"card-content"],[1,"row","g-3"],[1,"info-item"],[1,"info-label"],[1,"fas","fa-calendar-alt"],[1,"info-value"],[1,"fas","fa-calendar-plus"],[1,"fas","fa-calendar-minus"],[1,"fas","fa-clock"],[1,"fas","fa-receipt"],[1,"receipt-preview"],["alt","Bank Transfer Receipt",2,"cursor","pointer",3,"click","src"],[1,"col-12","col-lg-4"],[1,"fas","fa-building"],[1,"fas","fa-envelope"],[1,"fas","fa-phone"],[1,"details-card","actions-card"],[1,"fas","fa-check-circle"],[1,"fas","fa-hourglass-half"],[1,"info-value","days-remaining"],[1,"fas","fa-edit"],[1,"fas","fa-cog"],[1,"action-buttons"],["type","button",1,"btn","btn-approve",3,"click","disabled"],["type","button",1,"btn","btn-reject",3,"click","disabled"],[1,"fas","fa-spinner","fa-spin"],[1,"fas","fa-check"],[1,"fas","fa-times"]],template:function(e,i){e&1&&(d(0,"div",0)(1,"div",1)(2,"button",2),b(3,"i",3),f(4),h(5,"translate"),p()(),T(6,Foe,8,6,"div",4),T(7,zoe,4,3,"div",5),T(8,Qoe,98,59,"div",6),p()),e&2&&(l(4),M(" ",m(5,4,"admin.subscriptions.back")," "),l(2),D(i.isLoading?6:-1),l(),D(!i.isLoading&&i.errorMessage&&!i.subscription?7:-1),l(),D(!i.isLoading&&i.subscription&&i.organization?8:-1))},dependencies:[pe,gn,Ne,Ue,fe,_e],styles:[".subscription-details[_ngcontent-%COMP%]{width:100%;padding:32px 0}.subscription-details[_ngcontent-%COMP%]   .back-button[_ngcontent-%COMP%]{margin-bottom:32px}.subscription-details[_ngcontent-%COMP%]   .back-button[_ngcontent-%COMP%]   .btn-back[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:8px;padding:8px 16px;background:#0f172a1a;color:#0f172a;border:1px solid rgba(15,23,42,.2);border-radius:8px;font-weight:600;font-size:.9rem;font-family:Cairo,sans-serif;cursor:pointer;transition:all .2s ease;text-decoration:none}.subscription-details[_ngcontent-%COMP%]   .back-button[_ngcontent-%COMP%]   .btn-back[_ngcontent-%COMP%]:hover{background:#0f172a33;border-color:#0f172a4d}.subscription-details[_ngcontent-%COMP%]   .back-button[_ngcontent-%COMP%]   .btn-back[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.9rem}.subscription-details[_ngcontent-%COMP%]   .loading-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;min-height:400px;text-align:center;padding:64px}.subscription-details[_ngcontent-%COMP%]   .loading-state[_ngcontent-%COMP%]   .spinner-border[_ngcontent-%COMP%]{width:3rem;height:3rem;border-width:.3rem;color:#c9a24d}.subscription-details[_ngcontent-%COMP%]   .loading-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#0f172ab3;font-size:1rem;margin-top:16px;font-family:Cairo,sans-serif}.subscription-details[_ngcontent-%COMP%]   .alert[_ngcontent-%COMP%]{padding:16px 32px;border-radius:8px;margin-bottom:32px;display:flex;align-items:center;gap:8px;font-size:.95rem;font-family:Cairo,sans-serif}.subscription-details[_ngcontent-%COMP%]   .alert.alert-error[_ngcontent-%COMP%]{background:#dc26261a;color:#dc2626;border:1px solid rgba(220,38,38,.3)}.subscription-details[_ngcontent-%COMP%]   .alert.alert-success[_ngcontent-%COMP%]{background:#16a34a1a;color:#16a34a;border:1px solid rgba(22,163,74,.3)}.subscription-details[_ngcontent-%COMP%]   .alert[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.1rem}.subscription-details[_ngcontent-%COMP%]   .details-header[_ngcontent-%COMP%]{margin-bottom:64px;padding-bottom:16px;border-bottom:2px solid rgba(14,58,93,.1)}.subscription-details[_ngcontent-%COMP%]   .details-header[_ngcontent-%COMP%]   .details-title[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;color:#0e3a5d;margin-bottom:4px;font-family:Cairo,sans-serif;display:flex;align-items:center;gap:16px}.subscription-details[_ngcontent-%COMP%]   .details-header[_ngcontent-%COMP%]   .details-title[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#c9a24d;font-size:1.8rem}.subscription-details[_ngcontent-%COMP%]   .details-header[_ngcontent-%COMP%]   .details-subtitle[_ngcontent-%COMP%]{font-size:1.1rem;color:#0f172a99;margin:0;font-family:Cairo,sans-serif}.subscription-details[_ngcontent-%COMP%]   .details-header[_ngcontent-%COMP%]   .status-badge[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:4px;padding:8px 32px;border-radius:8px;font-weight:700;font-size:.95rem;font-family:Cairo,sans-serif}.subscription-details[_ngcontent-%COMP%]   .details-header[_ngcontent-%COMP%]   .status-badge.badge-success[_ngcontent-%COMP%]{background:#16a34a1a;color:#16a34a;border:1px solid rgba(22,163,74,.3)}.subscription-details[_ngcontent-%COMP%]   .details-header[_ngcontent-%COMP%]   .status-badge.badge-warning[_ngcontent-%COMP%]{background:#d977061a;color:#d97706;border:1px solid rgba(217,119,6,.3)}.subscription-details[_ngcontent-%COMP%]   .details-header[_ngcontent-%COMP%]   .status-badge.badge-error[_ngcontent-%COMP%]{background:#dc26261a;color:#dc2626;border:1px solid rgba(220,38,38,.3)}.subscription-details[_ngcontent-%COMP%]   .details-header[_ngcontent-%COMP%]   .status-badge[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.9rem}.subscription-details[_ngcontent-%COMP%]   .details-card[_ngcontent-%COMP%]{background:#fff;border-radius:16px;padding:64px;box-shadow:0 4px 8px #00000026;border:1px solid rgba(14,58,93,.1);margin-bottom:32px}.subscription-details[_ngcontent-%COMP%]   .details-card[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;color:#0e3a5d;margin-bottom:32px;font-family:Cairo,sans-serif;display:flex;align-items:center;gap:8px;padding-bottom:16px;border-bottom:1px solid rgba(14,58,93,.1)}.subscription-details[_ngcontent-%COMP%]   .details-card[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#c9a24d;font-size:1.3rem}.subscription-details[_ngcontent-%COMP%]   .details-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]{margin-bottom:16px}.subscription-details[_ngcontent-%COMP%]   .details-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]   .info-label[_ngcontent-%COMP%]{display:flex;align-items:center;gap:4px;font-weight:600;color:#0f172a;margin-bottom:4px;font-size:.9rem;font-family:Cairo,sans-serif}.subscription-details[_ngcontent-%COMP%]   .details-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]   .info-label[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#0e3a5d;font-size:.85rem;width:18px}.subscription-details[_ngcontent-%COMP%]   .details-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]   .info-value[_ngcontent-%COMP%]{color:#0f172acc;font-size:1rem;margin:0;padding-left:26px;font-family:Cairo,sans-serif}.subscription-details[_ngcontent-%COMP%]   .details-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]   .info-value.days-remaining[_ngcontent-%COMP%]{color:#c9a24d;font-weight:700;font-size:1.2rem}.subscription-details[_ngcontent-%COMP%]   .details-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]   .info-value.text-muted[_ngcontent-%COMP%]{color:#0f172a80;font-size:.85rem}.subscription-details[_ngcontent-%COMP%]   .details-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .receipt-preview[_ngcontent-%COMP%]{margin-top:16px;text-align:center}.subscription-details[_ngcontent-%COMP%]   .details-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .receipt-preview[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;max-height:400px;border-radius:8px;border:1px solid rgba(14,58,93,.2);box-shadow:0 4px 8px #00000026;cursor:pointer;transition:opacity .2s ease}.subscription-details[_ngcontent-%COMP%]   .details-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .receipt-preview[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:hover{opacity:.9}.subscription-details[_ngcontent-%COMP%]   .details-card.actions-card[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px}.subscription-details[_ngcontent-%COMP%]   .details-card.actions-card[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center;justify-content:center;gap:8px;padding:16px 32px;border:none;border-radius:8px;font-weight:700;font-size:1rem;font-family:Cairo,sans-serif;cursor:pointer;transition:all .2s ease}.subscription-details[_ngcontent-%COMP%]   .details-card.actions-card[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.subscription-details[_ngcontent-%COMP%]   .details-card.actions-card[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.9rem}.subscription-details[_ngcontent-%COMP%]   .details-card.actions-card[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .btn.btn-approve[_ngcontent-%COMP%]{background:#16a34a;color:#fff}.subscription-details[_ngcontent-%COMP%]   .details-card.actions-card[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .btn.btn-approve[_ngcontent-%COMP%]:hover:not(:disabled){background:#107636}.subscription-details[_ngcontent-%COMP%]   .details-card.actions-card[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .btn.btn-reject[_ngcontent-%COMP%]{background:#dc2626;color:#fff}.subscription-details[_ngcontent-%COMP%]   .details-card.actions-card[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .btn.btn-reject[_ngcontent-%COMP%]:hover:not(:disabled){background:#b21d1d}@media (max-width: 991.98px){.subscription-details[_ngcontent-%COMP%]   .details-header[_ngcontent-%COMP%]   .details-title[_ngcontent-%COMP%]{font-size:1.5rem}.subscription-details[_ngcontent-%COMP%]   .details-card[_ngcontent-%COMP%]{padding:32px}}@media (max-width: 767.98px){.subscription-details[_ngcontent-%COMP%]{padding:16px 0}.subscription-details[_ngcontent-%COMP%]   .details-header[_ngcontent-%COMP%]   .details-title[_ngcontent-%COMP%]{font-size:1.3rem}.subscription-details[_ngcontent-%COMP%]   .details-card[_ngcontent-%COMP%]{padding:16px}}"]})};var wC=Un(jn());var Koe=(n,t)=>t.bookingId;function Yoe(n,t){n&1&&(d(0,"div",9)(1,"div",11)(2,"span",12),f(3),h(4,"translate"),p()(),d(5,"p",13),f(6),h(7,"translate"),p()()),n&2&&(l(3),O(m(4,2,"admin.bookings.loading")),l(3),O(m(7,4,"admin.bookings.loading")))}function Zoe(n,t){if(n&1&&(d(0,"div",10),b(1,"i",14),f(2),h(3,"translate"),p()),n&2){let e=x();l(2),M(" ",m(3,1,e.errorMessage)," ")}}function Joe(n,t){if(n&1){let e=J();d(0,"button",23),R("click",function(){$(e);let o=x(2);return q(o.clearSearch())}),b(1,"i",24),p()}}function Xoe(n,t){if(n&1&&(d(0,"div",20)(1,"span"),f(2),h(3,"translate"),p()()),n&2){let e=x(2);l(2),tt("",m(3,2,"admin.bookings.searchResults"),": ",e.filteredBookings.length)}}function ere(n,t){n&1&&b(0,"i",32)}function tre(n,t){n&1&&b(0,"i",33)}function nre(n,t){if(n&1&&(d(0,"p",41),b(1,"i",47),d(2,"span"),f(3),p()()),n&2){let e=x().$implicit;l(3),O(e.notes)}}function ire(n,t){if(n&1){let e=J();d(0,"div",26)(1,"div",27)(2,"div",28)(3,"h3",29),b(4,"i",30),f(5),p(),d(6,"span",31),T(7,ere,1,0,"i",32)(8,tre,1,0,"i",33),f(9),h(10,"translate"),p()(),d(11,"div",34)(12,"div",35)(13,"p",36),b(14,"i",37),d(15,"span",38),f(16),p()(),d(17,"p",36),b(18,"i",39),d(19,"span"),f(20),p()(),d(21,"p",36),b(22,"i",40),d(23,"span")(24,"strong"),f(25),h(26,"translate"),p(),f(27),p()(),T(28,nre,4,1,"p",41),d(29,"p",42),b(30,"i",43),d(31,"span"),f(32),p()()()(),d(33,"div",44)(34,"button",45),R("click",function(){let o=$(e).$implicit,r=x(3);return q(r.confirmDelete(o))}),b(35,"i",46),f(36),h(37,"translate"),p()()()()}if(n&2){let e=t.$implicit,i=x(3);l(5),M(" ",e.name," "),l(),V("morning",e.trainingPeriod==="morning")("evening",e.trainingPeriod==="evening"),l(),D(e.trainingPeriod==="morning"?7:8),l(2),M(" ",m(10,14,i.getPeriodKey(e.trainingPeriod))," "),l(7),O(e.phone),l(4),O(e.courseName),l(5),M("",m(26,16,"admin.bookings.trainees"),":"),l(2),M(" ",e.numberOfTrainees),l(),D(e.notes?28:-1),l(4),O(i.formatDate(e.createdAt)),l(4),M(" ",m(37,18,"admin.bookings.delete")," ")}}function ore(n,t){if(n&1&&(d(0,"div",21)(1,"div",25),Be(2,ire,38,20,"div",26,Koe),p()()),n&2){let e=x(2);l(2),je(e.filteredBookings)}}function rre(n,t){n&1&&(d(0,"div",22),b(1,"i",4),d(2,"p"),f(3),h(4,"translate"),p()()),n&2&&(l(3),O(m(4,1,"admin.bookings.noBookings")))}function sre(n,t){if(n&1){let e=J();d(0,"div",15)(1,"div",16),b(2,"i",17),d(3,"input",18),h(4,"translate"),Kn("ngModelChange",function(o){$(e);let r=x();return ai(r.searchQuery,o)||(r.searchQuery=o),q(o)}),R("ngModelChange",function(){$(e);let o=x();return q(o.onSearchChange())}),p(),T(5,Joe,2,0,"button",19),p(),T(6,Xoe,4,4,"div",20),p(),T(7,ore,4,0,"div",21)(8,rre,5,3,"div",22)}if(n&2){let e=x();l(3),Qn("ngModel",e.searchQuery),E("placeholder",m(4,5,"admin.bookings.searchPlaceholder")),l(2),D(e.searchQuery?5:-1),l(),D(e.searchQuery&&e.filteredBookings.length!==e.bookings.length?6:-1),l(),D(e.filteredBookings.length>0?7:8)}}var xC=class n{constructor(t,e){this.bookingsService=t;this.translateService=e}bookings=[];filteredBookings=[];isLoading=!0;errorMessage="";searchQuery="";destroy$=new me;ngOnInit(){this.loadBookings()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}loadBookings(){this.isLoading=!0,this.errorMessage="",this.bookingsService.getAllBookings().pipe(ne(this.destroy$)).subscribe({next:t=>{this.bookings=t,this.filterBookings(),this.isLoading=!1},error:t=>{console.error("Error loading bookings:",t),this.errorMessage="admin.bookings.loadError",this.isLoading=!1}})}filterBookings(){let t=this.bookings;if(this.searchQuery.trim()){let e=this.searchQuery.toLowerCase().trim();t=t.filter(i=>i.name&&i.name.toLowerCase().includes(e)||i.phone&&String(i.phone).includes(e)||i.courseName&&i.courseName.toLowerCase().includes(e))}this.filteredBookings=t}onSearchChange(){this.filterBookings()}clearSearch(){this.searchQuery="",this.filterBookings()}confirmDelete(t){wC.default.fire({title:this.translateService.instant("admin.bookings.deleteConfirmTitle"),text:this.translateService.instant("admin.bookings.deleteConfirmText"),icon:"warning",showCancelButton:!0,confirmButtonText:this.translateService.instant("admin.bookings.delete"),cancelButtonText:this.translateService.instant("admin.bookings.cancel"),customClass:{popup:"ankh-swal-popup",title:"ankh-swal-title",confirmButton:"ankh-swal-confirm",cancelButton:"ankh-swal-cancel"}}).then(e=>{e.isConfirmed&&this.deleteBooking(t)})}deleteBooking(t){this.bookingsService.deleteBooking(t.bookingId).subscribe({next:()=>{wC.default.fire({icon:"success",title:this.translateService.instant("admin.bookings.deleteSuccess"),timer:1500,showConfirmButton:!1,customClass:{popup:"ankh-swal-popup",title:"ankh-swal-title"}})},error:e=>{console.error("Error deleting booking:",e),wC.default.fire({icon:"error",title:this.translateService.instant("admin.bookings.deleteError"),customClass:{popup:"ankh-swal-popup",title:"ankh-swal-title"}})}})}getPeriodKey(t){return`booking.${t}`}formatDate(t){return t?new Date(t).toLocaleDateString("ar-EG",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):""}static \u0275fac=function(e){return new(e||n)(A(Td),A(Pi))};static \u0275cmp=ce({type:n,selectors:[["app-booking-list"]],decls:18,vars:13,consts:[[1,"booking-list"],[1,"page-header"],[1,"header-content"],[1,"page-title"],[1,"fas","fa-calendar-alt"],[1,"page-subtitle"],[1,"header-stats"],[1,"stat-badge"],[1,"fas","fa-list"],[1,"loading-state"],[1,"alert","alert-error"],["role","status",1,"spinner-border","text-primary"],[1,"visually-hidden"],[1,"mt-3"],[1,"fas","fa-exclamation-circle"],[1,"search-section"],[1,"search-box"],[1,"fas","fa-search","search-icon"],["type","text",1,"search-input",3,"ngModelChange","ngModel","placeholder"],[1,"search-clear"],[1,"search-results-info"],[1,"bookings-grid"],[1,"empty-state"],[1,"search-clear",3,"click"],[1,"fas","fa-times"],[1,"row","g-4"],[1,"col-12","col-md-6","col-lg-4"],[1,"booking-card"],[1,"card-header"],[1,"booking-name"],[1,"fas","fa-user"],[1,"period-badge"],[1,"fas","fa-sun"],[1,"fas","fa-moon"],[1,"card-body"],[1,"booking-info"],[1,"info-item"],[1,"fas","fa-phone"],["dir","ltr"],[1,"fas","fa-book"],[1,"fas","fa-users"],[1,"info-item","notes"],[1,"info-item","date"],[1,"fas","fa-clock"],[1,"card-footer"],[1,"btn","btn-delete",3,"click"],[1,"fas","fa-trash-alt"],[1,"fas","fa-sticky-note"]],template:function(e,i){e&1&&(d(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3),b(4,"i",4),f(5),h(6,"translate"),p(),d(7,"p",5),f(8),h(9,"translate"),p()(),d(10,"div",6)(11,"span",7),b(12,"i",8),f(13),h(14,"translate"),p()()(),T(15,Yoe,8,6,"div",9),T(16,Zoe,4,3,"div",10),T(17,sre,9,7),p()),e&2&&(l(5),M(" ",m(6,7,"admin.bookings.title")," "),l(3),O(m(9,9,"admin.bookings.subtitle")),l(5),tt(" ",i.bookings.length," ",m(14,11,"admin.bookings.total")," "),l(2),D(i.isLoading?15:-1),l(),D(!i.isLoading&&i.errorMessage?16:-1),l(),D(!i.isLoading&&!i.errorMessage?17:-1))},dependencies:[pe,zr,ht,bt,er,fe,_e],styles:[".page-header[_ngcontent-%COMP%]{margin-bottom:32px;padding-bottom:32px;border-bottom:2px solid rgba(14,58,93,.1);display:flex;justify-content:space-between;align-items:flex-start;flex-wrap:wrap;gap:16px}.page-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .page-title[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;color:#0e3a5d;margin-bottom:4px;font-family:Cairo,sans-serif;display:flex;align-items:center;gap:16px}.page-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .page-title[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#c9a24d;font-size:1.8rem}.page-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .page-subtitle[_ngcontent-%COMP%]{font-size:1rem;color:#0f172a99;margin:0;font-family:Cairo,sans-serif}.page-header[_ngcontent-%COMP%]   .header-stats[_ngcontent-%COMP%]   .stat-badge[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:8px;padding:8px 32px;background:#c9a24d1a;border:1px solid rgba(201,162,77,.2);border-radius:8px;color:#c9a24d;font-weight:700;font-family:Cairo,sans-serif;font-size:.9rem}.search-section[_ngcontent-%COMP%]{margin-bottom:32px}.search-section[_ngcontent-%COMP%]   .search-box[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center;background:#fff;border:2px solid rgba(14,58,93,.15);border-radius:16px;overflow:hidden;transition:all .3s ease}.search-section[_ngcontent-%COMP%]   .search-box[_ngcontent-%COMP%]:focus-within{border-color:#c9a24d;box-shadow:0 0 0 3px #c9a24d1a}.search-section[_ngcontent-%COMP%]   .search-box[_ngcontent-%COMP%]   .search-icon[_ngcontent-%COMP%]{position:absolute;right:16px;color:#0f172a66;font-size:1rem;pointer-events:none}.search-section[_ngcontent-%COMP%]   .search-box[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]{width:100%;padding:16px 64px 16px 32px;border:none;background:transparent;font-size:1rem;font-family:Cairo,sans-serif;color:#0f172a}.search-section[_ngcontent-%COMP%]   .search-box[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]::placeholder{color:#0f172a66}.search-section[_ngcontent-%COMP%]   .search-box[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]:focus{outline:none}.search-section[_ngcontent-%COMP%]   .search-box[_ngcontent-%COMP%]   .search-clear[_ngcontent-%COMP%]{position:absolute;left:16px;width:32px;height:32px;display:flex;align-items:center;justify-content:center;background:#0f172a1a;border:none;border-radius:50%;color:#0f172a99;cursor:pointer;transition:all .2s ease}.search-section[_ngcontent-%COMP%]   .search-box[_ngcontent-%COMP%]   .search-clear[_ngcontent-%COMP%]:hover{background:#dc26261a;color:#dc2626}.search-section[_ngcontent-%COMP%]   .search-results-info[_ngcontent-%COMP%]{margin-top:8px;padding:8px 16px;background:#c9a24d1a;border-radius:8px;display:inline-block}.search-section[_ngcontent-%COMP%]   .search-results-info[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.9rem;font-weight:600;color:#c9a24d;font-family:Cairo,sans-serif}.loading-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;min-height:400px;text-align:center;padding:64px}.loading-state[_ngcontent-%COMP%]   .spinner-border[_ngcontent-%COMP%]{width:3rem;height:3rem;border-width:.3rem;color:#c9a24d}.loading-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#0f172ab3;font-size:1rem;margin-top:16px;font-family:Cairo,sans-serif}.alert-error[_ngcontent-%COMP%]{padding:16px 32px;border-radius:8px;background:#dc26261a;color:#dc2626;border:1px solid rgba(220,38,38,.3);display:flex;align-items:center;gap:8px;font-size:.95rem;margin-bottom:32px;font-family:Cairo,sans-serif}.alert-error[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.1rem}.bookings-grid[_ngcontent-%COMP%]   .booking-card[_ngcontent-%COMP%]{background:#fff;border-radius:16px;box-shadow:0 4px 8px #00000026;border:1px solid rgba(14,58,93,.1);transition:all .2s ease;height:100%;display:flex;flex-direction:column}.bookings-grid[_ngcontent-%COMP%]   .booking-card[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 8px 16px #0003;border-color:#c9a24d4d}.bookings-grid[_ngcontent-%COMP%]   .booking-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{padding:32px;border-bottom:1px solid rgba(14,58,93,.1);display:flex;justify-content:space-between;align-items:flex-start;gap:16px}.bookings-grid[_ngcontent-%COMP%]   .booking-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .booking-name[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:700;color:#0e3a5d;margin:0;font-family:Cairo,sans-serif;flex:1;display:flex;align-items:center;gap:8px}.bookings-grid[_ngcontent-%COMP%]   .booking-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .booking-name[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#c9a24d;font-size:.9rem}.bookings-grid[_ngcontent-%COMP%]   .booking-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .period-badge[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:4px;padding:4px 16px;border-radius:8px;font-weight:600;font-size:.8rem;font-family:Cairo,sans-serif;white-space:nowrap}.bookings-grid[_ngcontent-%COMP%]   .booking-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .period-badge.morning[_ngcontent-%COMP%]{background:#d977061a;color:#d97706;border:1px solid rgba(217,119,6,.3)}.bookings-grid[_ngcontent-%COMP%]   .booking-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .period-badge.evening[_ngcontent-%COMP%]{background:#0e3a5d1a;color:#1e5c8a;border:1px solid rgba(14,58,93,.2)}.bookings-grid[_ngcontent-%COMP%]   .booking-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .period-badge[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.75rem}.bookings-grid[_ngcontent-%COMP%]   .booking-card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{padding:32px;flex:1}.bookings-grid[_ngcontent-%COMP%]   .booking-card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .booking-info[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:8px;margin-bottom:16px;font-size:.95rem;color:#0f172acc;font-family:Cairo,sans-serif}.bookings-grid[_ngcontent-%COMP%]   .booking-card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .booking-info[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#0e3a5d;font-size:.85rem;width:18px;text-align:center;margin-top:3px}.bookings-grid[_ngcontent-%COMP%]   .booking-card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .booking-info[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#0f172a;font-weight:600}.bookings-grid[_ngcontent-%COMP%]   .booking-card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .booking-info[_ngcontent-%COMP%]   .info-item.notes[_ngcontent-%COMP%]{background:#c9a24d0a;padding:8px 16px;border-radius:8px;border-right:3px solid #C9A24D}.bookings-grid[_ngcontent-%COMP%]   .booking-card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .booking-info[_ngcontent-%COMP%]   .info-item.notes[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.9rem;color:#0f172ab3;word-break:break-word}.bookings-grid[_ngcontent-%COMP%]   .booking-card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .booking-info[_ngcontent-%COMP%]   .info-item.date[_ngcontent-%COMP%]{color:#0f172a80;font-size:.85rem}.bookings-grid[_ngcontent-%COMP%]   .booking-card[_ngcontent-%COMP%]   .card-footer[_ngcontent-%COMP%]{padding:16px 32px;border-top:1px solid rgba(14,58,93,.1);background:#f6f7f94d}.bookings-grid[_ngcontent-%COMP%]   .booking-card[_ngcontent-%COMP%]   .card-footer[_ngcontent-%COMP%]   .btn-delete[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center;justify-content:center;gap:8px;padding:8px 16px;background:#dc26261a;color:#dc2626;border:1px solid rgba(220,38,38,.2);border-radius:8px;font-weight:600;font-size:.95rem;font-family:Cairo,sans-serif;cursor:pointer;transition:all .2s ease}.bookings-grid[_ngcontent-%COMP%]   .booking-card[_ngcontent-%COMP%]   .card-footer[_ngcontent-%COMP%]   .btn-delete[_ngcontent-%COMP%]:hover{background:#dc2626;color:#fff;transform:translateY(-2px);box-shadow:0 4px 12px #dc26264d}.bookings-grid[_ngcontent-%COMP%]   .booking-card[_ngcontent-%COMP%]   .card-footer[_ngcontent-%COMP%]   .btn-delete[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.85rem}.empty-state[_ngcontent-%COMP%]{text-align:center;padding:128px;background:#fff;border-radius:16px;box-shadow:0 1px 2px #0000001a;border:2px dashed rgba(14,58,93,.2)}.empty-state[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:4rem;color:#0f172a4d;margin-bottom:16px}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.1rem;color:#0f172a99;font-family:Cairo,sans-serif;margin:0}@media (max-width: 767.98px){.page-header[_ngcontent-%COMP%]{flex-direction:column}.page-header[_ngcontent-%COMP%]   .page-title[_ngcontent-%COMP%]{font-size:1.5rem}.booking-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start}}"]})};var Ic=(n,t)=>{let e=U(Oi),i=U(He);return kr(e).pipe(Et(1),H(o=>o?!0:(i.navigate(["/login"],{queryParams:{returnUrl:t.url}}),!1)))};var bx=(n,t)=>{let e=U(Oi),i=U(He);return kr(e).pipe(Et(1),H(o=>o?(i.navigate(["/profile-view"]),!1):!0))};var bL=(n,t)=>{let e=U(Oi),i=U(Dt),o=U(He);return kr(e).pipe(Et(1),H(r=>r&&i.isAdminEmail(r.email||"")?!0:(o.navigate(["/home"]),!1)))};var yL=[{path:"",pathMatch:"full",redirectTo:"home"},{path:"home",title:"\u0639\u0646\u062E | \u0628\u0648\u0627\u0628\u0629 \u0627\u0644\u0645\u0639\u0631\u0641\u0629 \u0648\u0628\u062F\u0627\u064A\u0629 \u0627\u0644\u0631\u062D\u0644\u0629",component:T_},{path:"about",title:"\u0639\u0646\u062E | \u0645\u0646\u0638\u0648\u0645\u0629 \u062A\u0635\u0646\u0639 \u0627\u0644\u0642\u0627\u062F\u0629",component:D_},{path:"contact",title:"\u0639\u0646\u062E | \u062A\u0648\u0627\u0635\u0644 \u0645\u0639\u0646\u0627 \u0648\u0627\u0628\u062F\u0623 \u062E\u0637\u0648\u062A\u0643",component:q_},{path:"courses",title:"\u0639\u0646\u062E | \u0627\u0644\u062F\u0648\u0631\u0627\u062A \u0627\u0644\u062A\u0639\u0644\u064A\u0645\u064A\u0629",component:tC},{path:"course/:id",title:"\u0639\u0646\u062E | \u062A\u0641\u0627\u0635\u064A\u0644 \u0627\u0644\u062F\u0648\u0631\u0629",component:oC},{path:"subscribePlans",title:"\u0639\u0646\u062E | \u062E\u0637\u0637 \u0627\u0644\u0627\u0634\u062A\u0631\u0627\u0643",component:rC},{path:"paymentMethods",title:"\u0639\u0646\u062E | \u0637\u0631\u0642 \u0627\u0644\u062F\u0641\u0639",component:sC},{path:"privacy",title:"\u0639\u0646\u062E | \u0633\u064A\u0627\u0633\u0629 \u0627\u0644\u062E\u0635\u0648\u0635\u064A\u0629",component:aC},{path:"terms",title:"\u0639\u0646\u062E | \u0627\u0644\u0634\u0631\u0648\u0637 \u0648\u0627\u0644\u0623\u062D\u0643\u0627\u0645",component:cC},{path:"booking",title:"\u0639\u0646\u062E | \u062A\u062D\u062F\u064A\u062F \u0645\u0648\u0639\u062F \u062F\u0648\u0631\u0629 \u062A\u062F\u0631\u064A\u0628\u064A\u0629 \u0623\u0648\u0641\u0644\u0627\u064A\u0646",component:lC},{path:"login",title:"\u0639\u0646\u062E | \u062A\u0633\u062C\u064A\u0644 \u0627\u0644\u062F\u062E\u0648\u0644 \u0625\u0644\u0649 \u0639\u0627\u0644\u0645\u0643",component:H_,canActivate:[bx]},{path:"register",title:"\u0639\u0646\u062E | \u0627\u0646\u0636\u0645 \u0625\u0644\u0649 \u0645\u0646\u0638\u0648\u0645\u0629 \u0627\u0644\u0646\u062E\u0628\u0629",component:W_,canActivate:[bx]},{path:"profile-view",title:"\u0639\u0646\u062E | \u0645\u0644\u0641\u0643 \u0627\u0644\u0634\u062E\u0635\u064A",component:G_,canActivate:[Ic]},{path:"profile-edit",title:"\u0639\u0646\u062E | \u062A\u0637\u0648\u064A\u0631 \u0645\u0644\u0641\u0643 \u0627\u0644\u0634\u062E\u0635\u064A",component:Q_,canActivate:[Ic]},{path:"notifications",title:"\u0639\u0646\u062E | \u0645\u0631\u0643\u0632 \u0627\u0644\u0625\u0634\u0639\u0627\u0631\u0627\u062A",component:K_,canActivate:[Ic]},{path:"notification/:id",title:"\u0639\u0646\u062E | \u062A\u0641\u0627\u0635\u064A\u0644 \u0627\u0644\u0625\u0634\u0639\u0627\u0631",component:X_,canActivate:[Ic]},{path:"mySubscriptions",title:"\u0639\u0646\u062E | \u0627\u0634\u062A\u0631\u0627\u0643\u0627\u062A\u0643 \u0627\u0644\u062A\u0639\u0644\u064A\u0645\u064A\u0629",component:Z_,canActivate:[Ic]},{path:"admin",component:pC,canActivate:[Ic,bL],children:[{path:"",pathMatch:"full",redirectTo:"organizations"},{path:"organizations",title:"\u0639\u0646\u062E | \u0625\u062F\u0627\u0631\u0629 \u0627\u0644\u0643\u064A\u0627\u0646\u0627\u062A \u0648\u0627\u0644\u0645\u0646\u0638\u0645\u0627\u062A",component:fC},{path:"organizations/:id",title:"\u0639\u0646\u062E | \u062A\u0641\u0627\u0635\u064A\u0644 \u0627\u0644\u0645\u0646\u0638\u0645\u0629",component:hC},{path:"subscriptions",title:"\u0639\u0646\u062E | \u0625\u062F\u0627\u0631\u0629 \u0627\u0644\u0627\u0634\u062A\u0631\u0627\u0643\u0627\u062A",component:PC},{path:"subscriptions/:organizationId/:subscriptionId",title:"\u0639\u0646\u062E | \u062A\u0641\u0627\u0635\u064A\u0644 \u0627\u0644\u0627\u0634\u062A\u0631\u0627\u0643",component:OC},{path:"courses",title:"\u0639\u0646\u062E | \u0645\u0631\u0643\u0632 \u0625\u062F\u0627\u0631\u0629 \u0627\u0644\u062F\u0648\u0631\u0627\u062A",component:mC},{path:"courses/:id",title:"\u0639\u0646\u062E | \u062A\u0641\u0627\u0635\u064A\u0644 \u0627\u0644\u062F\u0648\u0631\u0629",component:MC},{path:"bookings",title:"\u0639\u0646\u062E | \u0625\u062F\u0627\u0631\u0629 \u062D\u062C\u0648\u0632\u0627\u062A \u0627\u0644\u062F\u0648\u0631\u0627\u062A",component:xC}]},{path:"**",component:dC,title:"\u0639\u0646\u062E | \u0635\u0641\u062D\u0629 \u063A\u064A\u0631 \u0645\u0648\u062C\u0648\u062F\u0629 - \u0646\u0639\u062A\u0630\u0631\u060C \u0627\u0644\u0635\u0641\u062D\u0629 \u0627\u0644\u0645\u0637\u0644\u0648\u0628\u0629 \u063A\u064A\u0631 \u0645\u062A\u0648\u0641\u0631\u0629"}];var yx=null,EC=()=>(yx||(yx=c3(rx.firebase)),yx),ML={providers:[d1({eventCoalescing:!0}),hM(yL,_M()),yA(),a3(()=>EC()),gR(()=>mR(EC())),_4(()=>{let n=EC();return C4(n,rx.firebase.databaseURL)}),T4(()=>D4(EC())),Rg(j1,fe.forRoot({defaultLanguage:"ar",loader:{provide:Ys,useFactory:EA,deps:[mm]}}))]};var Mx=Un(jn());var Dd=class n{constructor(t){this.translate=t;let e=localStorage.getItem("AnkhLang");if(e&&this.supportedLangs.includes(e))this.currentLang=e;else{let i=navigator.language?.toLowerCase().split("-")[0];this.currentLang=this.supportedLangs.includes(i)?i:this.defaultLang,localStorage.setItem("AnkhLang",this.currentLang)}t.setDefaultLang(this.defaultLang),t.use(this.currentLang)}supportedLangs=["en","ar"];defaultLang="ar";currentLang;switchLanguage(t){this.supportedLangs.includes(t)&&(this.currentLang=t,localStorage.setItem("AnkhLang",t),this.translate.use(t))}getCurrentLang(){return this.currentLang}getAvailableLanguages(){return[{code:"ar",label:"\u0627\u0644\u0639\u0631\u0628\u064A\u0629",flagUrl:"assets/flags/sa.png"},{code:"en",label:"English",flagUrl:"assets/flags/us.png"}]}static \u0275fac=function(e){return new(e||n)(Z(Pi))};static \u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"})};var are=()=>({exact:!0});function cre(n,t){if(n&1&&(d(0,"span",10),f(1),p()),n&2){let e=x();l(),M(" ",e.unreadNotificationsCount," ")}}function lre(n,t){if(n&1){let e=J();d(0,"div",13)(1,"a",27),R("click",function(){$(e);let o=x();return q(o.closeMobileMenu())}),d(2,"span"),f(3),h(4,"translate"),p()()(),d(5,"div",13)(6,"a",28),R("click",function(){$(e);let o=x();return q(o.closeMobileMenu())}),d(7,"span"),f(8),h(9,"translate"),p()()()}if(n&2){let e=x();l(),E("routerLink",e.ROUTES.LOGIN),l(2),O(m(4,4,"navbar.login")),l(3),E("routerLink",e.ROUTES.REGISTER),l(2),O(m(9,6,"navbar.register"))}}function dre(n,t){if(n&1&&(d(0,"span",36),f(1),p()),n&2){let e=x(2);l(),O(e.unreadNotificationsCount)}}function ure(n,t){if(n&1){let e=J();d(0,"li")(1,"a",38),R("click",function(){$(e);let o=x(2);return q(o.navigateTo(o.ROUTES.PROFILE))}),b(2,"i",42),d(3,"span"),f(4),h(5,"translate"),p()()(),d(6,"li")(7,"a",38),R("click",function(){$(e);let o=x(2);return q(o.navigateTo(o.ROUTES.mySubscriptions))}),b(8,"i",43),d(9,"span"),f(10),h(11,"translate"),p()()()}n&2&&(l(4),O(m(5,2,"navbar.viewProfile")),l(6),O(m(11,4,"navbar.subscriptions")))}function pre(n,t){if(n&1&&(d(0,"span",46),f(1),p()),n&2){let e=x(3);l(),O(e.unreadNotificationsCount)}}function fre(n,t){if(n&1){let e=J();d(0,"li")(1,"a",44),R("click",function(){$(e);let o=x(2);return q(o.navigateTo(o.ROUTES.NOTIFICATIONS))}),b(2,"i",45),d(3,"span"),f(4),h(5,"translate"),p(),T(6,pre,2,1,"span",46),p()(),d(7,"li"),b(8,"hr",47),p()}if(n&2){let e=x(2);l(4),O(m(5,2,"navbar.notifications")),l(2),D(e.unreadNotificationsCount>0?6:-1)}}function gre(n,t){if(n&1){let e=J();d(0,"div",19)(1,"a",29),R("click",function(o){$(e);let r=x();return q(r.toggleUserDropdown(o))}),d(2,"div",30),b(3,"i",31),p(),d(4,"div",32)(5,"span",33),f(6),p(),d(7,"span",34),f(8),p()(),b(9,"i",35),T(10,dre,2,1,"span",36),p(),d(11,"ul",37)(12,"li")(13,"a",38),R("click",function(){$(e);let o=x();return q(o.navigateTo(o.getDashboardUrl()))}),b(14,"i",39),d(15,"span"),f(16),h(17,"translate"),p()()(),T(18,ure,12,6),T(19,fre,9,4),d(20,"li")(21,"a",40),R("click",function(){$(e);let o=x();return o.logout(),q(o.closeAllDropdowns())}),b(22,"i",41),d(23,"span"),f(24),h(25,"translate"),p()()()()()}if(n&2){let e=x();l(),pt("aria-expanded",e.isUserDropdownOpen),l(5),O((e.user==null?null:e.user.email)||"Guest"),l(2),O(e.userRole==="admin"?"Admin":"Organization"),l(2),D(e.userRole==="organization"&&e.unreadNotificationsCount>0?10:-1),l(),V("show",e.isUserDropdownOpen),l(5),O(m(17,10,"navbar.dashboard")),l(2),D(e.userRole==="organization"?18:-1),l(),D(e.userRole==="organization"?19:-1),l(5),O(m(25,12,"navbar.logout"))}}function hre(n,t){n&1&&b(0,"i",50)}function mre(n,t){if(n&1){let e=J();d(0,"li")(1,"a",48),R("click",function(o){let r=$(e).$implicit;return x().changeLang(r.code),q(o.preventDefault())}),b(2,"img",22),d(3,"span",49),f(4),p(),T(5,hre,1,0,"i",50),p()()}if(n&2){let e=t.$implicit,i=x();l(2),E("src",e.flagUrl,Je)("alt",e.label),l(2),O(e.label),l(),D(i.selectedLang===e.code?5:-1)}}var IC=class n{constructor(t,e,i,o,r){this.lanService=t;this.authService=e;this.auth=i;this.router=o;this.notifications=r}ROUTES={HOME:"/home",COURSES:"/courses",ABOUT:"/about",CONTACT:"/contact",LOGIN:"/login",REGISTER:"/register",PROFILE:"/profile-view",NOTIFICATIONS:"/notifications",mySubscriptions:"/mySubscriptions",ADMIN:"/admin",BOOKING:"/booking"};availableLanguages=[];selectedLang="ar";isScrolled=!1;isMobileMenuOpen=!1;isLanguageDropdownOpen=!1;isUserDropdownOpen=!1;isLoggedIn=!1;user=null;userRole=null;unreadNotificationsCount=0;LANG_STORAGE_KEY="AnkhLang";destroy$=new me;previousUnreadCount=void 0;ngOnInit(){this.initializeLanguage(),this.checkScrollPosition(),this.subscribeToAuthState()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}subscribeToAuthState(){kr(this.auth).pipe(ne(this.destroy$)).subscribe({next:t=>{this.isLoggedIn=!!t,this.user=t,t?this.loadUserData(t):this.resetUserData()}})}loadUserData(t){!t?.uid||!t?.email||(this.authService.isAdminEmail(t.email)?this.userRole="admin":(this.userRole="organization",this.loadUnreadNotificationsCount()))}resetUserData(){this.user=null,this.userRole=null,this.unreadNotificationsCount=0}loadUnreadNotificationsCount(){if(!this.user?.uid)return;let t=this.unreadNotificationsCount;this.previousUnreadCount=t,this.notifications.getUnreadCount(this.user.uid).pipe(ne(this.destroy$)).subscribe({next:e=>{e>(this.previousUnreadCount||0)&&this.onNewNotificationReceived(),this.unreadNotificationsCount=e,this.previousUnreadCount=e},error:e=>{console.error("Error loading notifications count:",e)}})}onNewNotificationReceived(){this.notifications.makeNotificationSound()}getDashboardUrl(){return this.userRole==="admin"?this.ROUTES.ADMIN:this.userRole==="organization"?this.ROUTES.PROFILE:this.ROUTES.HOME}logout(){Mx.default.fire({title:"\u0647\u0644 \u0623\u0646\u062A \u0645\u062A\u0623\u0643\u062F \u0645\u0646 \u062A\u0633\u062C\u064A\u0644 \u0627\u0644\u062E\u0631\u0648\u062C\u061F",text:"\u0633\u064A\u062A\u0645 \u062A\u0633\u062C\u064A\u0644 \u0627\u0644\u062E\u0631\u0648\u062C \u0645\u0646 \u062D\u0633\u0627\u0628\u0643!",icon:"warning",showCancelButton:!0,confirmButtonText:"\u0646\u0639\u0645, \u062A\u0633\u062C\u064A\u0644 \u0627\u0644\u062E\u0631\u0648\u062C",cancelButtonText:"\u0625\u0644\u063A\u0627\u0621",confirmButtonColor:"#DC2626",cancelButtonColor:"#6B7280"}).then(t=>{t.isConfirmed&&this.authService.logout().pipe(ne(this.destroy$)).subscribe({next:()=>{this.router.navigate([this.ROUTES.HOME]),this.closeAllDropdowns()},error:e=>{console.error("Logout error:",e),Mx.default.fire({icon:"error",title:"\u062E\u0637\u0623",text:"\u062D\u062F\u062B \u062E\u0637\u0623 \u0623\u062B\u0646\u0627\u0621 \u062A\u0633\u062C\u064A\u0644 \u0627\u0644\u062E\u0631\u0648\u062C. \u064A\u0631\u062C\u0649 \u0627\u0644\u0645\u062D\u0627\u0648\u0644\u0629 \u0645\u0631\u0629 \u0623\u062E\u0631\u0649."})}})})}toggleUserDropdown(t){t.preventDefault(),t.stopPropagation(),this.isUserDropdownOpen=!this.isUserDropdownOpen,this.isUserDropdownOpen&&(this.isLanguageDropdownOpen=!1)}toggleLanguageDropdown(t){t.preventDefault(),t.stopPropagation(),this.isLanguageDropdownOpen=!this.isLanguageDropdownOpen,this.isLanguageDropdownOpen&&(this.isUserDropdownOpen=!1)}closeAllDropdowns(){this.isUserDropdownOpen=!1,this.isLanguageDropdownOpen=!1}navigateTo(t){this.router.navigate([t]),this.closeAllDropdowns(),this.closeMobileMenu()}toggleMobileMenu(){this.isMobileMenuOpen=!this.isMobileMenuOpen,this.isMobileMenuOpen||this.closeAllDropdowns()}closeMobileMenu(){this.isMobileMenuOpen=!1,this.closeAllDropdowns()}initializeLanguage(){try{this.availableLanguages=this.lanService.getAvailableLanguages(),this.selectedLang=this.getStoredLanguage(),this.lanService.switchLanguage(this.selectedLang)}catch(t){console.error("Error initializing language:",t),this.setFallbackLanguages()}}setFallbackLanguages(){this.availableLanguages=[{code:"ar",label:"\u0627\u0644\u0639\u0631\u0628\u064A\u0629",flagUrl:"assets/flags/sa.png"},{code:"en",label:"English",flagUrl:"assets/flags/us.png"}],this.selectedLang="ar"}getStoredLanguage(){return localStorage.getItem(this.LANG_STORAGE_KEY)??"ar"}changeLang(t){try{this.selectedLang=t,this.lanService.switchLanguage(t),localStorage.setItem(this.LANG_STORAGE_KEY,t),this.isLanguageDropdownOpen=!1,this.closeMobileMenu()}catch(e){console.error("Error changing language:",e)}}getCurrentFlag(){try{let t=this.selectedLang||this.lanService.getCurrentLang();return this.availableLanguages.find(i=>i.code===t)?.flagUrl||"assets/flags/sa.png"}catch{return"assets/flags/sa.png"}}getCurrentLangLabel(){try{let t=this.selectedLang||this.lanService.getCurrentLang();return this.availableLanguages.find(i=>i.code===t)?.label||"\u0627\u0644\u0639\u0631\u0628\u064A\u0629"}catch{return"\u0627\u0644\u0639\u0631\u0628\u064A\u0629"}}onWindowScroll(){this.isScrolled=window.scrollY>50}onDocumentClick(t){t.target.closest(".dropdown")||this.closeAllDropdowns()}checkScrollPosition(){this.isScrolled=window.scrollY>50}static \u0275fac=function(e){return new(e||n)(A(Dd),A(Dt),A(Oi),A(He),A(Io))};static \u0275cmp=ce({type:n,selectors:[["app-navbar"]],hostBindings:function(e,i){e&1&&R("scroll",function(){return i.onWindowScroll()},Cu)("click",function(r){return i.onDocumentClick(r)},Ty)},decls:44,vars:38,consts:[[1,"navbar","navbar-expand-lg","custom-navbar"],[1,"container"],[1,"brand-container"],[1,"navbar-brand",3,"routerLink"],[1,"logo-container"],["src","assets/logo-removebg-preview.png","alt","ANKH",1,"navbar-logo"],["type","button",1,"navbar-toggler","custom-toggler","position-relative",3,"click"],[1,"toggler-line","line1"],[1,"toggler-line","line2"],[1,"toggler-line","line3"],[1,"position-absolute","top-0","start-100","translate-middle","badge","rounded-pill","bg-danger"],[1,"collapse","navbar-collapse"],[1,"navbar-nav","mx-auto"],[1,"nav-item"],["routerLinkActive","active",1,"nav-link",3,"click","routerLink","routerLinkActiveOptions"],[1,"nav-text"],[1,"nav-underline"],["routerLinkActive","active",1,"nav-link",3,"click","routerLink"],[1,"navbar-nav","navbar-actions"],[1,"nav-item","dropdown","user-dropdown"],[1,"nav-item","dropdown"],["role","button",1,"nav-link","dropdown-toggle","language-toggle","d-flex","align-items-center",3,"click"],[1,"flag-icon","mx-2",3,"src","alt"],[1,"d-lg-inline"],[1,"fas","fa-chevron-down","ms-1"],[1,"dropdown-menu","dropdown-menu-end","custom-dropdown","language-dropdown"],[1,"scroll-progress"],[1,"btn-login",3,"click","routerLink"],[1,"btn-register",3,"click","routerLink"],["role","button",1,"nav-link","dropdown-toggle","user-toggle","d-flex","align-items-center",3,"click"],[1,"user-avatar"],[1,"fas","fa-user"],[1,"user-info","d-none","d-lg-flex","flex-column","ms-2"],[1,"user-name"],[1,"user-role"],[1,"fas","fa-chevron-down","ms-2"],[1,"notification-badge"],[1,"dropdown-menu","dropdown-menu-end","custom-dropdown","user-dropdown-menu"],[1,"dropdown-item",3,"click"],[1,"fas","fa-tachometer-alt"],[1,"dropdown-item","logout-item",3,"click"],[1,"fas","fa-sign-out-alt"],[1,"fas","fa-user-circle"],[1,"fas","fa-credit-card"],[1,"dropdown-item","notification-item",3,"click"],[1,"fas","fa-bell"],[1,"badge-notification"],[1,"dropdown-divider"],[1,"dropdown-item","d-flex","align-items-center",3,"click"],[1,"lang-label"],[1,"fas","fa-check","ms-auto"]],template:function(e,i){e&1&&(d(0,"nav",0)(1,"div",1)(2,"div",2)(3,"a",3)(4,"div",4),b(5,"img",5),p()()(),d(6,"button",6),R("click",function(){return i.toggleMobileMenu()}),b(7,"span",7)(8,"span",8)(9,"span",9),T(10,cre,2,1,"span",10),p(),d(11,"div",11)(12,"ul",12)(13,"li",13)(14,"a",14),R("click",function(){return i.closeMobileMenu()}),d(15,"span",15),f(16),h(17,"translate"),p(),b(18,"div",16),p()(),d(19,"li",13)(20,"a",17),R("click",function(){return i.closeMobileMenu()}),d(21,"span",15),f(22),h(23,"translate"),p(),b(24,"div",16),p()(),d(25,"li",13)(26,"a",17),R("click",function(){return i.closeMobileMenu()}),d(27,"span",15),f(28),h(29,"translate"),p(),b(30,"div",16),p()()(),d(31,"div",18),T(32,lre,10,8),T(33,gre,26,14,"div",19),d(34,"div",20)(35,"a",21),R("click",function(r){return i.toggleLanguageDropdown(r)}),b(36,"img",22),d(37,"span",23),f(38),p(),b(39,"i",24),p(),d(40,"ul",25),Be(41,mre,6,4,"li",null,Ri),p()()()()(),b(43,"div",26),p()),e&2&&(V("navbar-scrolled",i.isScrolled),l(3),E("routerLink",i.ROUTES.HOME),l(3),pt("aria-expanded",i.isMobileMenuOpen)("aria-label","Toggle navigation"),l(),V("active",i.isMobileMenuOpen),l(),V("active",i.isMobileMenuOpen),l(),V("active",i.isMobileMenuOpen),l(),D(i.unreadNotificationsCount>0?10:-1),l(),V("show",i.isMobileMenuOpen),l(3),E("routerLink",i.ROUTES.HOME)("routerLinkActiveOptions",yi(37,are)),l(2),O(m(17,31,"navbar.home")),l(4),E("routerLink",i.ROUTES.COURSES),l(2),O(m(23,33,"navbar.courses")),l(4),E("routerLink",i.ROUTES.BOOKING),l(2),O(m(29,35,"navbar.booking")),l(4),D(i.isLoggedIn?-1:32),l(),D(i.isLoggedIn?33:-1),l(2),pt("aria-expanded",i.isLanguageDropdownOpen),l(),E("src",i.getCurrentFlag(),Je)("alt",i.getCurrentLangLabel()),l(2),O(i.getCurrentLangLabel()),l(2),V("show",i.isLanguageDropdownOpen),l(),je(i.availableLanguages),l(2),vi("width",i.isScrolled?100:0,"%"))},dependencies:[pe,Ne,Ue,ap,fe,_e],styles:[".custom-navbar[_ngcontent-%COMP%]{font-family:Cairo,sans-serif;background:#fff;box-shadow:0 2px 8px #0000000f;transition:all .3s ease;padding:16px 0}.custom-navbar.navbar-scrolled[_ngcontent-%COMP%]{background:#fffffffa;backdrop-filter:blur(12px);-webkit-backdrop-filter:blur(12px);box-shadow:0 4px 16px #00000014;padding:8px 0}.brand-container[_ngcontent-%COMP%]{flex:1;justify-content:flex-start}.navbar-brand[_ngcontent-%COMP%]{transition:all .3s ease;text-decoration:none;display:flex;align-items:center;gap:16px}.navbar-brand[_ngcontent-%COMP%]:hover{transform:scale(1.02)}.navbar-logo[_ngcontent-%COMP%]{height:60px;width:auto;transition:all .3s ease;border-radius:8px;object-fit:contain;filter:drop-shadow(0 2px 4px rgba(0,0,0,.1))}@media (max-width: 991.98px){.navbar-logo[_ngcontent-%COMP%]{height:50px}}@media (max-width: 575.98px){.navbar-logo[_ngcontent-%COMP%]{height:45px}}.brand-text[_ngcontent-%COMP%]   .brand-name[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;color:#0e3a5d;letter-spacing:-.5px;transition:all .3s ease}.navbar-scrolled[_ngcontent-%COMP%]   .brand-name[_ngcontent-%COMP%]{color:#0e3a5d}.navbar-nav[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]{position:relative;margin:0 4px}.navbar-nav[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{font-weight:500;font-size:.95rem;color:#0e3a5d!important;padding:8px 16px!important;transition:all .3s ease;position:relative;display:flex;align-items:center;background:transparent;border-radius:8px}.navbar-nav[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]   .nav-text[_ngcontent-%COMP%]{position:relative;font-weight:500}.navbar-nav[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]   .nav-underline[_ngcontent-%COMP%]{position:absolute;bottom:4px;left:50%;width:0;height:2px;background:#c9a24d;border-radius:1px;transition:all .3s ease;transform:translate(-50%)}.navbar-nav[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:hover{color:#c9a24d!important;background:#c9a24d0d;transform:translateY(-1px)}.navbar-nav[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:hover   .nav-underline[_ngcontent-%COMP%]{width:70%}.navbar-nav[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]{color:#c9a24d!important;background:#c9a24d14}.navbar-nav[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]   .nav-underline[_ngcontent-%COMP%]{width:80%;background:#c9a24d}.navbar-actions[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;margin-left:32px}.btn-login[_ngcontent-%COMP%], .btn-register[_ngcontent-%COMP%], .btn-dashboard[_ngcontent-%COMP%], .btn-logout[_ngcontent-%COMP%]{padding:8px 16px!important;border-radius:16px!important;font-weight:500!important;transition:all .3s ease!important;border:2px solid transparent!important;white-space:nowrap;text-decoration:none!important}.btn-login[_ngcontent-%COMP%]{color:#0e3a5d!important;background:transparent!important;border-color:#e0e0e0!important}.btn-login[_ngcontent-%COMP%]:hover{background:#f5f5f5!important;border-color:#d0d0d0!important;color:#c9a24d!important;transform:translateY(-1px);box-shadow:0 2px 8px #0000001a}.btn-register[_ngcontent-%COMP%]{color:#fff!important;background:#c9a24d!important;border-color:#c9a24d!important}.btn-register[_ngcontent-%COMP%]:hover{background:#a8832f!important;border-color:#a8832f!important;transform:translateY(-1px);box-shadow:0 4px 12px #c9a24d4d}.btn-dashboard[_ngcontent-%COMP%]{color:#fff!important;background:#0e3a5d!important;border-color:#0e3a5d!important;text-decoration:none}.btn-dashboard[_ngcontent-%COMP%]:hover{color:#c9a24d!important;background:#1e5c8a!important;border-color:#1e5c8a!important;transform:translateY(-2px);box-shadow:0 4px 8px #00000026}.btn-logout[_ngcontent-%COMP%]{color:#dc2626!important;background:transparent!important;border-color:#dc2626!important}.btn-logout[_ngcontent-%COMP%]:hover{background:#dc2626!important;color:#fff!important;transform:translateY(-2px);box-shadow:0 4px 8px #00000026}.user-dropdown[_ngcontent-%COMP%]{position:relative}.user-toggle[_ngcontent-%COMP%]{background:#f8f9fa!important;border:1px solid #e9ecef!important;border-radius:8px!important;padding:8px 16px!important;transition:all .3s ease!important;box-shadow:0 1px 3px #0000000d;position:relative;cursor:pointer}.user-toggle[_ngcontent-%COMP%]   .user-avatar[_ngcontent-%COMP%]{width:36px;height:36px;border-radius:50%;background:linear-gradient(135deg,#c9a24d,#0e3a5d);display:flex;align-items:center;justify-content:center;color:#fff;font-size:.9rem;flex-shrink:0;transition:all .3s ease}.user-toggle[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]{text-align:left;min-width:120px}.user-toggle[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .user-name[_ngcontent-%COMP%]{font-size:.9rem;font-weight:600;color:#0e3a5d;line-height:1.2;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.user-toggle[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .user-role[_ngcontent-%COMP%]{font-size:.75rem;color:#0e3a5d;text-transform:capitalize;line-height:1.2}.user-toggle[_ngcontent-%COMP%]   .fa-chevron-down[_ngcontent-%COMP%]{font-size:.7rem;transition:all .3s ease;color:#0e3a5d;margin-left:4px}.user-toggle[_ngcontent-%COMP%]   .notification-badge[_ngcontent-%COMP%]{position:absolute;top:-4px;right:-4px;background:#dc2626;color:#fff;border-radius:50%;width:20px;height:20px;display:flex;align-items:center;justify-content:center;font-size:.7rem;font-weight:700;border:2px solid #FFFFFF;box-shadow:0 1px 2px #0000001a}.user-toggle[_ngcontent-%COMP%]:hover{background:#e9ecef!important;border-color:#dee2e6!important;box-shadow:0 2px 8px #0000001a;transform:translateY(-1px)}.user-toggle[_ngcontent-%COMP%]:hover   .user-avatar[_ngcontent-%COMP%]{transform:scale(1.05)}.user-toggle[aria-expanded=true][_ngcontent-%COMP%]{background:#e9ecef!important;border-color:#dee2e6!important}.user-toggle[aria-expanded=true][_ngcontent-%COMP%]   .fa-chevron-down[_ngcontent-%COMP%]{transform:rotate(180deg)}.user-dropdown-menu[_ngcontent-%COMP%]{min-width:220px;border-radius:8px;background:#fff;border:1px solid #e9ecef;box-shadow:0 4px 16px #0000001a;padding:8px 0;margin-top:8px;z-index:9999;position:absolute;right:0;top:100%}.user-dropdown-menu[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]{padding:16px 32px;border-radius:0;transition:all .3s ease;display:flex;align-items:center;gap:16px;cursor:pointer;color:#2c3e50;font-weight:500;font-size:.9rem}.user-dropdown-menu[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{width:20px;text-align:center;color:#6c757d;font-size:.9rem;transition:all .3s ease}.user-dropdown-menu[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{flex:1;transition:all .3s ease}.user-dropdown-menu[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]   .badge-notification[_ngcontent-%COMP%]{background:#dc2626;color:#fff;border-radius:4px;padding:2px 4px;font-size:.75rem;font-weight:700;min-width:20px;text-align:center}.user-dropdown-menu[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]:hover{background:#f8f9fa;color:#c9a24d;transform:translate(2px)}.user-dropdown-menu[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]:hover   i[_ngcontent-%COMP%]{color:#c9a24d;transform:scale(1.05)}.user-dropdown-menu[_ngcontent-%COMP%]   .dropdown-item.notification-item[_ngcontent-%COMP%]{position:relative}.user-dropdown-menu[_ngcontent-%COMP%]   .dropdown-divider[_ngcontent-%COMP%]{margin:4px 0;border-color:#e9ecef;opacity:1}.user-dropdown-menu[_ngcontent-%COMP%]   .logout-item[_ngcontent-%COMP%], .user-dropdown-menu[_ngcontent-%COMP%]   .logout-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#dc2626!important}.user-dropdown-menu[_ngcontent-%COMP%]   .logout-item[_ngcontent-%COMP%]:hover{background:#dc26261a!important;color:#dc2626!important}.user-dropdown-menu[_ngcontent-%COMP%]   .logout-item[_ngcontent-%COMP%]:hover   i[_ngcontent-%COMP%]{color:#dc2626!important}.language-toggle[_ngcontent-%COMP%]{background:#f8f9fa!important;border:1px solid #e9ecef!important;border-radius:8px!important;padding:8px 16px!important;transition:all .3s ease!important;box-shadow:0 1px 3px #0000000d}.language-toggle[_ngcontent-%COMP%]   .flag-icon[_ngcontent-%COMP%]{width:20px;height:15px;border-radius:4px;object-fit:cover;box-shadow:0 1px 2px #0000001a;transition:all .3s ease}.language-toggle[_ngcontent-%COMP%]   .fa-chevron-down[_ngcontent-%COMP%]{font-size:.7rem;transition:all .3s ease;color:#6c757d;margin-left:4px}.language-toggle[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:500;color:#2c3e50;transition:all .3s ease}.language-toggle[_ngcontent-%COMP%]:hover{background:#e9ecef!important;border-color:#dee2e6!important;box-shadow:0 2px 8px #0000001a}.language-toggle[_ngcontent-%COMP%]:hover   .flag-icon[_ngcontent-%COMP%]{transform:scale(1.05)}.language-toggle[aria-expanded=true][_ngcontent-%COMP%]{background:#e9ecef!important;border-color:#dee2e6!important}.language-toggle[aria-expanded=true][_ngcontent-%COMP%]   .fa-chevron-down[_ngcontent-%COMP%]{transform:rotate(180deg)}.language-dropdown[_ngcontent-%COMP%]{min-width:200px;border-radius:8px;background:#fff;border:1px solid #e9ecef;box-shadow:0 4px 16px #0000001a;padding:8px 0;margin-top:8px;z-index:9999;position:absolute;right:0;top:100%}.language-dropdown[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]{padding:16px 32px;border-radius:4px;transition:all .3s ease;display:flex;align-items:center;cursor:pointer;color:#2c3e50}.language-dropdown[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]   .flag-icon[_ngcontent-%COMP%]{width:20px;height:15px;border-radius:4px;object-fit:cover;margin-right:16px;transition:all .3s ease}.language-dropdown[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]   .lang-label[_ngcontent-%COMP%]{font-weight:500;color:#2c3e50;font-size:.9rem;flex:1;transition:all .3s ease}.language-dropdown[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]   .fa-check[_ngcontent-%COMP%]{color:#c9a24d;font-size:.9rem}.language-dropdown[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]:hover{background:#f8f9fa;transform:translate(2px)}.language-dropdown[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]:hover   .lang-label[_ngcontent-%COMP%]{color:#c9a24d}.custom-toggler[_ngcontent-%COMP%]{border:none;background:#f8f9fa;padding:8px;outline:none;border-radius:8px;transition:all .3s ease;box-shadow:0 1px 3px #0000000d;border:1px solid #e9ecef}.custom-toggler[_ngcontent-%COMP%]:hover{background:#e9ecef;transform:scale(1.02)}.custom-toggler[_ngcontent-%COMP%]   .toggler-line[_ngcontent-%COMP%]{display:block;width:25px;height:3px;background:#2c3e50;border-radius:2px;transition:all .3s ease;margin:5px 0}.custom-toggler[_ngcontent-%COMP%]   .toggler-line.line1.active[_ngcontent-%COMP%]{transform:translateY(8px) rotate(45deg);background:#c9a24d}.custom-toggler[_ngcontent-%COMP%]   .toggler-line.line2.active[_ngcontent-%COMP%]{opacity:0;transform:scale(0)}.custom-toggler[_ngcontent-%COMP%]   .toggler-line.line3.active[_ngcontent-%COMP%]{transform:translateY(-8px) rotate(-45deg);background:#c9a24d}.custom-toggler[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 3px #c9a24d33}.scroll-progress[_ngcontent-%COMP%]{position:absolute;bottom:0;left:0;height:3px;background:linear-gradient(90deg,#c9a24d,#0e3a5d);transition:width .3s ease;z-index:1001}@media (max-width: 991.98px){.custom-navbar[_ngcontent-%COMP%]{padding:8px 0}.custom-navbar[_ngcontent-%COMP%]   .navbar-brand[_ngcontent-%COMP%]   .brand-name[_ngcontent-%COMP%]{font-size:1.3rem}.custom-navbar[_ngcontent-%COMP%]   .navbar-brand[_ngcontent-%COMP%]   .navbar-logo[_ngcontent-%COMP%]{height:45px}.custom-navbar[_ngcontent-%COMP%]   .navbar-collapse[_ngcontent-%COMP%]{background:#fff;border-radius:16px;margin-top:16px;padding:32px;box-shadow:0 4px 16px #0000001a;border:1px solid #e9ecef}.custom-navbar[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;margin:0}.custom-navbar[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]{width:100%;margin:4px 0}.custom-navbar[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{justify-content:flex-start;padding:16px!important;width:100%;border-radius:8px}.custom-navbar[_ngcontent-%COMP%]   .navbar-actions[_ngcontent-%COMP%]{margin-top:16px;padding-top:16px;border-top:1px solid #e9ecef;flex-direction:column;width:100%;margin-left:0;gap:8px}.custom-navbar[_ngcontent-%COMP%]   .navbar-actions[_ngcontent-%COMP%]   .btn-login[_ngcontent-%COMP%], .custom-navbar[_ngcontent-%COMP%]   .navbar-actions[_ngcontent-%COMP%]   .btn-register[_ngcontent-%COMP%], .custom-navbar[_ngcontent-%COMP%]   .navbar-actions[_ngcontent-%COMP%]   .btn-dashboard[_ngcontent-%COMP%], .custom-navbar[_ngcontent-%COMP%]   .navbar-actions[_ngcontent-%COMP%]   .btn-logout[_ngcontent-%COMP%]{width:100%;justify-content:center}.custom-navbar[_ngcontent-%COMP%]   .navbar-actions[_ngcontent-%COMP%]   .user-dropdown[_ngcontent-%COMP%]{width:100%}.custom-navbar[_ngcontent-%COMP%]   .navbar-actions[_ngcontent-%COMP%]   .user-dropdown[_ngcontent-%COMP%]   .user-toggle[_ngcontent-%COMP%]{width:100%;justify-content:flex-start}.custom-navbar[_ngcontent-%COMP%]   .navbar-actions[_ngcontent-%COMP%]   .user-dropdown[_ngcontent-%COMP%]   .user-dropdown-menu[_ngcontent-%COMP%], .custom-navbar[_ngcontent-%COMP%]   .language-dropdown[_ngcontent-%COMP%]{position:static!important;width:100%;margin-top:8px;right:auto}}@media (max-width: 575.98px){.custom-navbar[_ngcontent-%COMP%]   .navbar-brand[_ngcontent-%COMP%]   .brand-name[_ngcontent-%COMP%]{font-size:1.2rem}.custom-navbar[_ngcontent-%COMP%]   .navbar-brand[_ngcontent-%COMP%]   .navbar-logo[_ngcontent-%COMP%]{height:40px}.custom-navbar[_ngcontent-%COMP%]   .navbar-collapse[_ngcontent-%COMP%]{padding:16px}}"]})};var SC=class n{socials=[{icon:"fa-brands fa-instagram",url:"https://instagram.com/smartarget.sa",color:"#E4405F",name:"Instagram"},{icon:"fa-brands fa-facebook",url:"https://facebook.com/smartarget.sa",color:"#1877f2",name:"Facebook"},{icon:"fa-brands fa-tiktok",url:"https://tiktok.com/@smartarget.sa",color:"#fff",name:"Tiktok"},{icon:"fa-brands fa-snapchat",url:"https://snapchat.com/add/smartarget.sa",color:"#FFFC00",name:"Snapchat"},{icon:"fa-brands fa-x-twitter",url:"https://x.com/smartarget_sa",color:"#fff",name:"X"},{icon:"fa-brands fa-whatsapp",url:"https://wa.me/+966554748254",color:"#25D366",name:"WhatsApp"}];getSocials(){return this.socials}static \u0275fac=function(e){return new(e||n)};static \u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"})};var OL=(n,t)=>t.name;function Cre(n,t){if(n&1&&(d(0,"a",14),b(1,"i"),p()),n&2){let e=t.$implicit;E("href",e.url,Je),pt("aria-label",e.name),l(),si(e.icon)}}function vre(n,t){if(n&1&&(d(0,"a",14),b(1,"i"),p()),n&2){let e=t.$implicit;E("href",e.url,Je),pt("aria-label",e.name),l(),si(e.icon)}}var TC=class n{constructor(t){this.socials=t}currentYear=new Date().getFullYear();static \u0275fac=function(e){return new(e||n)(A(SC))};static \u0275cmp=ce({type:n,selectors:[["app-footer"]],decls:105,vars:64,consts:[[1,"ankh-footer"],[1,"footer-gold-bar"],[1,"footer-main"],[1,"container"],[1,"row","g-4","g-lg-5"],[1,"col-12","col-lg-4"],[1,"footer-brand"],[1,"brand-logo-row"],["src","assets/logo-removebg-preview.png","alt","ANKH",1,"brand-logo"],[1,"brand-name"],[1,"brand-description"],[1,"footer-socials","d-none","d-lg-block"],[1,"section-label"],[1,"socials-row"],["target","_blank","rel","noopener noreferrer",1,"social-icon",3,"href"],[1,"col-6","col-md-4","col-lg-2"],[1,"footer-links"],["routerLink","/home"],[1,"fas","fa-angle-left"],["routerLink","/courses"],["routerLink","/about"],["routerLink","/contact"],[1,"col-6","col-md-4","col-lg-3"],["routerLink","/subscribePlans"],["routerLink","/paymentMethods"],["routerLink","/booking"],[1,"col-12","col-md-4","col-lg-3"],["routerLink","/privacy"],["routerLink","/terms"],[1,"footer-socials","d-lg-none","mt-4"],[1,"footer-bottom"],[1,"bottom-inner"],[1,"copyright"],[1,"made-with"],[1,"fas","fa-heart","heart-icon"],["href","https://target-marketing.net/","target","_blank","rel","noopener noreferrer",1,"target-link"]],template:function(e,i){e&1&&(d(0,"footer",0),b(1,"div",1),d(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7),b(8,"img",8),d(9,"span",9),f(10),h(11,"translate"),p()(),d(12,"p",10),f(13),h(14,"translate"),p(),d(15,"div",11)(16,"h5",12),f(17),h(18,"translate"),p(),d(19,"div",13),Be(20,Cre,2,4,"a",14,OL),p()()()(),d(22,"div",15)(23,"h5",12),f(24),h(25,"translate"),p(),d(26,"ul",16)(27,"li")(28,"a",17),b(29,"i",18),f(30),h(31,"translate"),p()(),d(32,"li")(33,"a",19),b(34,"i",18),f(35),h(36,"translate"),p()(),d(37,"li")(38,"a",20),b(39,"i",18),f(40),h(41,"translate"),p()(),d(42,"li")(43,"a",21),b(44,"i",18),f(45),h(46,"translate"),p()()()(),d(47,"div",22)(48,"h5",12),f(49),h(50,"translate"),p(),d(51,"ul",16)(52,"li")(53,"a",23),b(54,"i",18),f(55),h(56,"translate"),p()(),d(57,"li")(58,"a",24),b(59,"i",18),f(60),h(61,"translate"),p()(),d(62,"li")(63,"a",25),b(64,"i",18),f(65),h(66,"translate"),p()()()(),d(67,"div",26)(68,"h5",12),f(69),h(70,"translate"),p(),d(71,"ul",16)(72,"li")(73,"a",27),b(74,"i",18),f(75),h(76,"translate"),p()(),d(77,"li")(78,"a",28),b(79,"i",18),f(80),h(81,"translate"),p()()(),d(82,"div",29)(83,"h5",12),f(84),h(85,"translate"),p(),d(86,"div",13),Be(87,vre,2,4,"a",14,OL),p()()()()()(),d(89,"div",30)(90,"div",3)(91,"div",31)(92,"span",32),f(93),h(94,"translate"),h(95,"translate"),p(),d(96,"span",33),f(97),h(98,"translate"),b(99,"i",34),f(100),h(101,"translate"),d(102,"a",35),f(103),h(104,"translate"),p()()()()()()),e&2&&(l(10),O(m(11,22,"navbar.brand")),l(3),O(m(14,24,"footer.description")),l(4),O(m(18,26,"footer.followUs")),l(3),je(i.socials.getSocials()),l(4),O(m(25,28,"footer.explore")),l(6),O(m(31,30,"navbar.home")),l(5),O(m(36,32,"navbar.courses")),l(5),O(m(41,34,"navbar.about")),l(5),O(m(46,36,"navbar.contact")),l(4),O(m(50,38,"footer.services")),l(6),O(m(56,40,"navbar.subscriptions")),l(5),O(m(61,42,"footer.paymentMethods")),l(5),O(m(66,44,"footer.booking")),l(4),O(m(70,46,"footer.legal")),l(6),O(m(76,48,"footer.privacyPolicy")),l(5),O(m(81,50,"footer.termsAndConditions")),l(4),O(m(85,52,"footer.followUs")),l(3),je(i.socials.getSocials()),l(6),vl(" \xA9 ",i.currentYear," ",m(94,54,"navbar.brand"),". ",m(95,56,"footer.allRightsReserved")," "),l(4),M(" ",m(98,58,"footer.madeWith")," "),l(3),M(" ",m(101,60,"footer.by")," "),l(3),M(" ",m(104,62,"footer.target")," "))},dependencies:[pe,Ne,Ue,fe,_e],styles:['.ankh-footer[_ngcontent-%COMP%]{font-family:Cairo,sans-serif;color:#ffffffe6;margin-top:auto;position:relative}.footer-gold-bar[_ngcontent-%COMP%]{height:3px;background:linear-gradient(90deg,transparent 0%,#C9A24D 20%,#A8832F 50%,#C9A24D 80%,transparent 100%)}.footer-main[_ngcontent-%COMP%]{background:linear-gradient(170deg,#071e2f,#0e3a5d);padding:3rem 0 2rem;position:relative;overflow:hidden}.footer-main[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:0;background:url(/assets/logo-removebg-preview.png) center 30%/220px no-repeat;opacity:.025;pointer-events:none}.footer-brand[_ngcontent-%COMP%]{position:relative;z-index:1}.footer-brand[_ngcontent-%COMP%]   .brand-logo-row[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;margin-bottom:1rem}.footer-brand[_ngcontent-%COMP%]   .brand-logo[_ngcontent-%COMP%]{width:44px;height:44px;object-fit:contain;filter:drop-shadow(0 2px 6px rgba(201,162,77,.4))}.footer-brand[_ngcontent-%COMP%]   .brand-name[_ngcontent-%COMP%]{font-size:1.6rem;font-weight:700;color:#c9a24d;letter-spacing:.08em;line-height:1}.footer-brand[_ngcontent-%COMP%]   .brand-description[_ngcontent-%COMP%]{font-size:.92rem;line-height:1.7;color:#ffffffbf;margin:0 0 1.5rem;max-width:320px}.section-label[_ngcontent-%COMP%]{font-size:1rem;font-weight:700;color:#c9a24d;margin:0 0 1rem;text-transform:uppercase;letter-spacing:.06em;position:relative;padding-bottom:.6rem}.section-label[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:0;right:0;width:32px;height:2px;background:#c9a24d;border-radius:2px}.footer-links[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0}.footer-links[_ngcontent-%COMP%]   li[_ngcontent-%COMP%] + li[_ngcontent-%COMP%]{margin-top:.45rem}.footer-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.4rem;color:#ffffffc7;text-decoration:none;font-size:.9rem;font-weight:500;padding:.2rem 0;transition:color .2s,gap .25s}.footer-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.7rem;color:#c9a24d;opacity:.6;transition:opacity .2s}.footer-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#fff;gap:.65rem}.footer-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover   i[_ngcontent-%COMP%]{opacity:1}.footer-socials[_ngcontent-%COMP%]   .socials-row[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:.5rem}.footer-socials[_ngcontent-%COMP%]   .social-icon[_ngcontent-%COMP%]{width:40px;height:40px;display:inline-flex;align-items:center;justify-content:center;border-radius:50%;background:#ffffff12;border:1px solid rgba(255,255,255,.1);color:#ffffffd9;text-decoration:none;font-size:1rem;transition:all .25s ease}.footer-socials[_ngcontent-%COMP%]   .social-icon[_ngcontent-%COMP%]:hover{background:#c9a24d33;border-color:#c9a24d80;color:#c9a24d;transform:translateY(-3px)}.footer-bottom[_ngcontent-%COMP%]{background:#051622;padding:.85rem 0;border-top:1px solid rgba(201,162,77,.15)}.footer-bottom[_ngcontent-%COMP%]   .copyright[_ngcontent-%COMP%], .footer-bottom[_ngcontent-%COMP%]   .powered[_ngcontent-%COMP%]{font-size:.82rem;color:#ffffff8c;margin:0}.footer-bottom[_ngcontent-%COMP%]   .powered[_ngcontent-%COMP%]{font-weight:600;color:#c9a24db3}@media (max-width: 991.98px){.footer-main[_ngcontent-%COMP%]{padding:2.5rem 0 1.5rem}.section-label[_ngcontent-%COMP%]:after{right:auto;left:0}}.footer-bottom[_ngcontent-%COMP%]{background:#051622;border-top:1px solid rgba(201,162,77,.15);padding:1rem 0;position:relative;z-index:2}.footer-bottom[_ngcontent-%COMP%]   .bottom-inner[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;flex-wrap:wrap;gap:.75rem}.footer-bottom[_ngcontent-%COMP%]   .copyright[_ngcontent-%COMP%]{font-size:.84rem;color:#ffffff8c}.footer-bottom[_ngcontent-%COMP%]   .made-with[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.35rem;font-size:.84rem;color:#ffffff8c}.footer-bottom[_ngcontent-%COMP%]   .made-with[_ngcontent-%COMP%]   .heart-icon[_ngcontent-%COMP%]{color:#e74c3c;font-size:.8rem;animation:_ngcontent-%COMP%_heartbeat 1.4s ease-in-out infinite;filter:drop-shadow(0 0 4px rgba(231,76,60,.35))}.footer-bottom[_ngcontent-%COMP%]   .made-with[_ngcontent-%COMP%]   .target-link[_ngcontent-%COMP%]{color:#c9a24d;text-decoration:none;font-weight:600;position:relative;transition:color .25s}.footer-bottom[_ngcontent-%COMP%]   .made-with[_ngcontent-%COMP%]   .target-link[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:-1px;left:0;width:0;height:1.5px;background:#c9a24d;transition:width .3s ease;border-radius:1px}.footer-bottom[_ngcontent-%COMP%]   .made-with[_ngcontent-%COMP%]   .target-link[_ngcontent-%COMP%]:hover{color:#d7bb7c}.footer-bottom[_ngcontent-%COMP%]   .made-with[_ngcontent-%COMP%]   .target-link[_ngcontent-%COMP%]:hover:after{width:100%}@media (max-width: 767.98px){.footer-bottom[_ngcontent-%COMP%]   .bottom-inner[_ngcontent-%COMP%]{flex-direction:column;text-align:center}}@keyframes _ngcontent-%COMP%_heartbeat{0%,to{transform:scale(1)}15%{transform:scale(1.15)}30%{transform:scale(1)}45%{transform:scale(1.15)}}@media (max-width: 767.98px){.footer-main[_ngcontent-%COMP%]{padding:2rem 0 1.25rem}.footer-brand[_ngcontent-%COMP%]{text-align:center}.footer-brand[_ngcontent-%COMP%]   .brand-logo-row[_ngcontent-%COMP%]{justify-content:center}.footer-brand[_ngcontent-%COMP%]   .brand-description[_ngcontent-%COMP%]{max-width:100%;margin-left:auto;margin-right:auto}.section-label[_ngcontent-%COMP%]{text-align:center}.section-label[_ngcontent-%COMP%]:after{right:50%;transform:translate(50%);left:auto}.footer-links[_ngcontent-%COMP%]{text-align:center}.footer-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{justify-content:center}.footer-socials[_ngcontent-%COMP%]{text-align:center}.footer-socials[_ngcontent-%COMP%]   .socials-row[_ngcontent-%COMP%]{justify-content:center}}']})};var bre=()=>[1,2,3,4,5,6],wL=()=>[1,2,3,4,5,6,7,8];function yre(n,t){if(n&1&&(Se(0,"div",38)(1,"span",39),f(2,"\u{13000}"),Re()()),n&2){let e=t.$index;vi("animation-delay",e*.3+"s")}}function Mre(n,t){if(n&1&&bn(0,"div",40),n&2){let e=t.$index;vi("animation-delay",e*.1+"s")}}function Pre(n,t){if(n&1&&(Se(0,"span",41),f(1,"\u25CA"),Re()),n&2){let e=t.$index;vi("animation-delay",e*.2+"s")}}function Ore(n,t){if(n&1&&(Se(0,"span",42),f(1),Re()),n&2){let e=t.$implicit,i=t.$index;vi("animation-delay",i*.15+"s"),l(),M(" ",e===" "?"\xA0":e," ")}}function wre(n,t){if(n&1&&(Se(0,"div",43),bn(1,"div",44),Re()),n&2){let e=t.$index,i=x();vi("animation-delay",e*.2+"s"),V("active",e===i.currentDot)}}var DC=class n{message="";showMessage=!0;size="medium";variant="primary";isVisible=!1;currentDot=0;loadingDots=[0,1,2];ngOnInit(){setTimeout(()=>{this.isVisible=!0},100),this.startDotsAnimation()}startDotsAnimation(){setInterval(()=>{this.currentDot=(this.currentDot+1)%this.loadingDots.length},500)}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=ce({type:n,selectors:[["app-loading"]],inputs:{message:"message",showMessage:"showMessage",size:"size",variant:"variant"},decls:45,vars:10,consts:[[1,"loading-overlay"],[1,"pharaonic-pattern"],[1,"hieroglyphic-elements"],[1,"hieroglyph",3,"animation-delay"],[1,"loading-container"],[1,"ankh-section"],[1,"ankh-ring"],[1,"ring-segment",3,"animation-delay"],[1,"ankh-container"],[1,"ankh-symbol"],[1,"ankh-cross"],[1,"ankh-loop"],[1,"ankh-stem"],[1,"ankh-base"],[1,"ankh-glow"],[1,"hieroglyphic-border"],[1,"border-glyph",3,"animation-delay"],[1,"progress-ring"],["viewBox","0 0 120 120",1,"progress-circle"],["cx","60","cy","60","r","54",1,"progress-background"],["cx","60","cy","60","r","54",1,"progress-bar"],[1,"brand-section"],[1,"brand-name"],[1,"brand-letter",3,"animation-delay"],[1,"brand-tagline"],[1,"loading-animation"],[1,"loading-dots"],[1,"dot",3,"active","animation-delay"],[1,"loading-bar"],[1,"bar-fill"],[1,"bar-glow"],[1,"bar-pattern"],[1,"background-effects"],[1,"gold-orb","orb-1"],[1,"gold-orb","orb-2"],[1,"gold-orb","orb-3"],[1,"blue-accent","accent-1"],[1,"blue-accent","accent-2"],[1,"hieroglyph"],[1,"hieroglyph-symbol"],[1,"ring-segment"],[1,"border-glyph"],[1,"brand-letter"],[1,"dot"],[1,"dot-core"]],template:function(e,i){e&1&&(Se(0,"div",0),bn(1,"div",1),Se(2,"div",2),Be(3,yre,3,2,"div",3,Ri),Re(),Se(5,"div",4)(6,"div",5)(7,"div",6),Be(8,Mre,1,2,"div",7,Ri),Re(),Se(10,"div",8)(11,"div",9)(12,"div",10),bn(13,"div",11)(14,"div",12)(15,"div",13),Re(),bn(16,"div",14),Re(),Se(17,"div",15),Be(18,Pre,2,2,"span",16,Ri),Re()(),Se(20,"div",17),Hg(),Se(21,"svg",18),bn(22,"circle",19)(23,"circle",20),Re()()(),Wg(),Se(24,"div",21)(25,"h2",22),Be(26,Ore,2,3,"span",23,Ri),Re(),Se(28,"div",24),f(29),h(30,"translate"),Re()(),Se(31,"div",25)(32,"div",26),Be(33,wre,2,4,"div",27,Ri),Re(),Se(35,"div",28),bn(36,"div",29)(37,"div",30)(38,"div",31),Re()()(),Se(39,"div",32),bn(40,"div",33)(41,"div",34)(42,"div",35)(43,"div",36)(44,"div",37),Re()()),e&2&&(V("visible",i.isVisible),pt("data-size",i.size)("data-variant",i.variant),l(3),je(yi(7,bre)),l(5),je(yi(8,wL)),l(10),je(yi(9,wL)),l(8),je("ANKH".split("")),l(3),O(i.message||m(30,5,"loading")),l(4),je(i.loadingDots))},dependencies:[pe,fe,_e],styles:['.loading-overlay[_ngcontent-%COMP%]{direction:ltr;position:fixed;top:0;left:0;width:100%;height:100%;background:linear-gradient(135deg,#0b2a3f,#071e2f,#0b2a3f);backdrop-filter:blur(20px);-webkit-backdrop-filter:blur(20px);display:flex;align-items:center;justify-content:center;z-index:9999;opacity:0;visibility:hidden;transition:all .6s cubic-bezier(.4,0,.2,1);overflow:hidden}.loading-overlay.visible[_ngcontent-%COMP%]{opacity:1;visibility:visible}.loading-overlay[data-size=small][_ngcontent-%COMP%]   .loading-container[_ngcontent-%COMP%]{transform:scale(.7)}.loading-overlay[data-size=large][_ngcontent-%COMP%]   .loading-container[_ngcontent-%COMP%]{transform:scale(1.3)}.loading-overlay[data-variant=secondary][_ngcontent-%COMP%]{background:linear-gradient(135deg,#0e3a5df2,#c9a24df2)}.loading-overlay[data-variant=white][_ngcontent-%COMP%]{background:#fffffff2}.loading-overlay[data-variant=white][_ngcontent-%COMP%]   .brand-name[_ngcontent-%COMP%]{background:linear-gradient(135deg,#c9a24d,#0e3a5d);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}.loading-overlay[data-variant=white][_ngcontent-%COMP%]   .brand-tagline[_ngcontent-%COMP%]{color:#0f172a}.pharaonic-pattern[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;background-image:repeating-linear-gradient(0deg,transparent,transparent 2px,rgba(201,162,77,.03) 2px,rgba(201,162,77,.03) 4px),repeating-linear-gradient(90deg,transparent,transparent 2px,rgba(201,162,77,.03) 2px,rgba(201,162,77,.03) 4px);opacity:.3;pointer-events:none}.hieroglyphic-elements[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;overflow:hidden;pointer-events:none;z-index:1}.hieroglyphic-elements[_ngcontent-%COMP%]   .hieroglyph[_ngcontent-%COMP%]{position:absolute;font-size:2rem;color:#c9a24d33;animation:_ngcontent-%COMP%_hieroglyphFloat 15s ease-in-out infinite}.hieroglyphic-elements[_ngcontent-%COMP%]   .hieroglyph[_ngcontent-%COMP%]:nth-child(1){left:25 %;top:22 %;animation-delay:2.5s;animation-duration:14s}.hieroglyphic-elements[_ngcontent-%COMP%]   .hieroglyph[_ngcontent-%COMP%]:nth-child(2){left:40 %;top:34 %;animation-delay:5s;animation-duration:16s}.hieroglyphic-elements[_ngcontent-%COMP%]   .hieroglyph[_ngcontent-%COMP%]:nth-child(3){left:55 %;top:46 %;animation-delay:7.5s;animation-duration:18s}.hieroglyphic-elements[_ngcontent-%COMP%]   .hieroglyph[_ngcontent-%COMP%]:nth-child(4){left:70 %;top:58 %;animation-delay:10s;animation-duration:20s}.hieroglyphic-elements[_ngcontent-%COMP%]   .hieroglyph[_ngcontent-%COMP%]:nth-child(5){left:85 %;top:70 %;animation-delay:12.5s;animation-duration:22s}.hieroglyphic-elements[_ngcontent-%COMP%]   .hieroglyph[_ngcontent-%COMP%]:nth-child(6){left:100 %;top:82 %;animation-delay:15s;animation-duration:24s}.hieroglyphic-elements[_ngcontent-%COMP%]   .hieroglyph[_ngcontent-%COMP%]   .hieroglyph-symbol[_ngcontent-%COMP%]{display:block;filter:drop-shadow(0 2px 4px rgba(201,162,77,.3))}.loading-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;text-align:center;position:relative;z-index:2;animation:_ngcontent-%COMP%_containerFadeIn 1s ease-out}.ankh-section[_ngcontent-%COMP%]{position:relative;width:200px;height:200px;margin-bottom:64px;display:flex;align-items:center;justify-content:center}.ankh-ring[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;border-radius:50%}.ankh-ring[_ngcontent-%COMP%]   .ring-segment[_ngcontent-%COMP%]{position:absolute;width:12px;height:12px;background:#c9a24d;border-radius:50%;box-shadow:0 0 10px #c9a24d99;animation:_ngcontent-%COMP%_ringRotate 4s infinite ease-in-out}.ankh-ring[_ngcontent-%COMP%]   .ring-segment[_ngcontent-%COMP%]:nth-child(1){left:50%;top:0;transform-origin:0 100px;transform:translate(-50%) rotate(0);animation-delay:0s}.ankh-ring[_ngcontent-%COMP%]   .ring-segment[_ngcontent-%COMP%]:nth-child(2){left:50%;top:0;transform-origin:0 100px;transform:translate(-50%) rotate(45deg);animation-delay:.1s}.ankh-ring[_ngcontent-%COMP%]   .ring-segment[_ngcontent-%COMP%]:nth-child(3){left:50%;top:0;transform-origin:0 100px;transform:translate(-50%) rotate(90deg);animation-delay:.2s}.ankh-ring[_ngcontent-%COMP%]   .ring-segment[_ngcontent-%COMP%]:nth-child(4){left:50%;top:0;transform-origin:0 100px;transform:translate(-50%) rotate(135deg);animation-delay:.3s}.ankh-ring[_ngcontent-%COMP%]   .ring-segment[_ngcontent-%COMP%]:nth-child(5){left:50%;top:0;transform-origin:0 100px;transform:translate(-50%) rotate(180deg);animation-delay:.4s}.ankh-ring[_ngcontent-%COMP%]   .ring-segment[_ngcontent-%COMP%]:nth-child(6){left:50%;top:0;transform-origin:0 100px;transform:translate(-50%) rotate(225deg);animation-delay:.5s}.ankh-ring[_ngcontent-%COMP%]   .ring-segment[_ngcontent-%COMP%]:nth-child(7){left:50%;top:0;transform-origin:0 100px;transform:translate(-50%) rotate(270deg);animation-delay:.6s}.ankh-ring[_ngcontent-%COMP%]   .ring-segment[_ngcontent-%COMP%]:nth-child(8){left:50%;top:0;transform-origin:0 100px;transform:translate(-50%) rotate(315deg);animation-delay:.7s}.ankh-container[_ngcontent-%COMP%]{position:relative;width:120px;height:120px;display:flex;align-items:center;justify-content:center;z-index:3}.ankh-symbol[_ngcontent-%COMP%]{position:relative;width:80px;height:100px;display:flex;align-items:center;justify-content:center;animation:_ngcontent-%COMP%_ankhFloat 3s ease-in-out infinite}.ankh-cross[_ngcontent-%COMP%]{position:relative;width:100%;height:100%;display:flex;flex-direction:column;align-items:center;justify-content:center}.ankh-loop[_ngcontent-%COMP%]{width:50px;height:50px;border:4px solid #C9A24D;border-radius:50% 50% 0;border-bottom:none;border-right:none;position:relative;top:-5px;box-shadow:0 0 20px #c9a24d99,inset 0 0 20px #c9a24d4d;animation:_ngcontent-%COMP%_ankhGlow 2s ease-in-out infinite}.ankh-stem[_ngcontent-%COMP%]{width:4px;height:50px;background:linear-gradient(to bottom,#c9a24d,#a8832f);box-shadow:0 0 15px #c9a24dcc;position:relative;top:-5px}.ankh-base[_ngcontent-%COMP%]{width:30px;height:4px;background:linear-gradient(to right,#a8832f,#c9a24d,#a8832f);box-shadow:0 0 15px #c9a24dcc;position:relative;top:40px}.ankh-glow[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:120px;height:120px;background:radial-gradient(circle,rgba(201,162,77,.4) 0%,transparent 70%);border-radius:50%;animation:_ngcontent-%COMP%_ankhPulse 2s ease-in-out infinite;z-index:-1}.hieroglyphic-border[_ngcontent-%COMP%]{position:absolute;width:140px;height:140px;border-radius:50%;display:flex;align-items:center;justify-content:center;animation:_ngcontent-%COMP%_borderRotate 8s linear infinite}.hieroglyphic-border[_ngcontent-%COMP%]   .border-glyph[_ngcontent-%COMP%]{position:absolute;font-size:1.2rem;color:#c9a24d;font-weight:700;text-shadow:0 0 10px rgba(201,162,77,.6);animation:_ngcontent-%COMP%_glyphGlow 2s ease-in-out infinite}.hieroglyphic-border[_ngcontent-%COMP%]   .border-glyph[_ngcontent-%COMP%]:nth-child(1){transform:rotate(0) translateY(-70px) rotate(0);animation-delay:0s}.hieroglyphic-border[_ngcontent-%COMP%]   .border-glyph[_ngcontent-%COMP%]:nth-child(2){transform:rotate(45deg) translateY(-70px) rotate(-45deg);animation-delay:.2s}.hieroglyphic-border[_ngcontent-%COMP%]   .border-glyph[_ngcontent-%COMP%]:nth-child(3){transform:rotate(90deg) translateY(-70px) rotate(-90deg);animation-delay:.4s}.hieroglyphic-border[_ngcontent-%COMP%]   .border-glyph[_ngcontent-%COMP%]:nth-child(4){transform:rotate(135deg) translateY(-70px) rotate(-135deg);animation-delay:.6s}.hieroglyphic-border[_ngcontent-%COMP%]   .border-glyph[_ngcontent-%COMP%]:nth-child(5){transform:rotate(180deg) translateY(-70px) rotate(-180deg);animation-delay:.8s}.hieroglyphic-border[_ngcontent-%COMP%]   .border-glyph[_ngcontent-%COMP%]:nth-child(6){transform:rotate(225deg) translateY(-70px) rotate(-225deg);animation-delay:1s}.hieroglyphic-border[_ngcontent-%COMP%]   .border-glyph[_ngcontent-%COMP%]:nth-child(7){transform:rotate(270deg) translateY(-70px) rotate(-270deg);animation-delay:1.2s}.hieroglyphic-border[_ngcontent-%COMP%]   .border-glyph[_ngcontent-%COMP%]:nth-child(8){transform:rotate(315deg) translateY(-70px) rotate(-315deg);animation-delay:1.4s}.progress-ring[_ngcontent-%COMP%]{position:absolute;width:180px;height:180px;top:50%;left:50%;transform:translate(-50%,-50%);z-index:1}.progress-circle[_ngcontent-%COMP%]{width:100%;height:100%;transform:rotate(-90deg)}.progress-background[_ngcontent-%COMP%]{fill:none;stroke:#c9a24d33;stroke-width:3}.progress-bar[_ngcontent-%COMP%]{fill:none;stroke:#c9a24d;stroke-width:3;stroke-linecap:round;stroke-dasharray:339.29;animation:_ngcontent-%COMP%_progressRotate 3s ease-in-out infinite;filter:drop-shadow(0 0 8px rgba(201,162,77,.8))}.brand-section[_ngcontent-%COMP%]{margin-bottom:64px}.brand-name[_ngcontent-%COMP%]{font:800 3rem Cairo,sans-serif;color:#c9a24d;margin-bottom:8px;text-shadow:0 0 20px rgba(201,162,77,.8),0 4px 20px rgba(7,30,47,.5);line-height:1.2;letter-spacing:4px}.brand-letter[_ngcontent-%COMP%]{display:inline-block;animation:_ngcontent-%COMP%_letterFloat 2s ease-in-out infinite;position:relative}.brand-letter[_ngcontent-%COMP%]:nth-child(odd){animation-direction:alternate}.brand-letter[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:-4px;left:0;width:100%;height:3px;background:linear-gradient(90deg,transparent,#C9A24D,transparent);opacity:0;animation:_ngcontent-%COMP%_letterUnderline 2s ease-in-out infinite}.brand-tagline[_ngcontent-%COMP%]{font:500 1.2rem Cairo,sans-serif;color:#c9a24de6;text-shadow:0 0 15px rgba(201,162,77,.6),0 2px 10px rgba(7,30,47,.3);animation:_ngcontent-%COMP%_taglineGlow 3s ease-in-out infinite;letter-spacing:2px}.loading-animation[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:32px;margin-bottom:64px}.loading-dots[_ngcontent-%COMP%]{display:flex;gap:16px;align-items:center}.dot[_ngcontent-%COMP%]{width:16px;height:16px;position:relative;animation:_ngcontent-%COMP%_dotBounce 1.5s ease-in-out infinite}.dot[_ngcontent-%COMP%]   .dot-core[_ngcontent-%COMP%]{width:100%;height:100%;background:radial-gradient(circle,#c9a24d,#a8832f);border-radius:50%;box-shadow:0 0 15px #c9a24dcc,inset 0 0 10px #ffffff4d;transition:all .3s ease}.dot.active[_ngcontent-%COMP%]   .dot-core[_ngcontent-%COMP%]{transform:scale(1.4);box-shadow:0 0 25px #c9a24d,inset 0 0 15px #ffffff80}.dot[_ngcontent-%COMP%]:after{content:"";position:absolute;top:50%;left:50%;width:200%;height:200%;border:2px solid rgba(201,162,77,.4);border-radius:50%;transform:translate(-50%,-50%);animation:_ngcontent-%COMP%_dotRipple 2s ease-out infinite}.loading-bar[_ngcontent-%COMP%]{width:250px;height:6px;background:#c9a24d33;border-radius:3px;position:relative;overflow:hidden;border:1px solid rgba(201,162,77,.3);box-shadow:inset 0 2px 4px #071e2f4d,0 0 10px #c9a24d33}.bar-fill[_ngcontent-%COMP%]{height:100%;background:linear-gradient(90deg,#a8832f,#c9a24d,#a8832f);border-radius:3px;animation:_ngcontent-%COMP%_barFill 2s ease-in-out infinite;box-shadow:0 0 15px #c9a24dcc}.bar-glow[_ngcontent-%COMP%]{position:absolute;top:-2px;left:0;width:60px;height:10px;background:linear-gradient(90deg,transparent 0%,rgba(201,162,77,.8) 50%,transparent 100%);border-radius:5px;animation:_ngcontent-%COMP%_barGlow 2s ease-in-out infinite;filter:blur(4px)}.bar-pattern[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;background-image:repeating-linear-gradient(90deg,transparent,transparent 4px,rgba(168,131,47,.1) 4px,rgba(168,131,47,.1) 8px);animation:_ngcontent-%COMP%_patternMove 1s linear infinite}.background-effects[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;overflow:hidden;pointer-events:none;z-index:1}.gold-orb[_ngcontent-%COMP%]{position:absolute;border-radius:50%;filter:blur(80px);opacity:.4;animation:_ngcontent-%COMP%_orbFloat 20s ease-in-out infinite;background:radial-gradient(circle,rgba(201,162,77,.6) 0%,transparent 70%)}.gold-orb.orb-1[_ngcontent-%COMP%]{width:300px;height:300px;top:10%;left:10%;animation-delay:0s}.gold-orb.orb-2[_ngcontent-%COMP%]{width:250px;height:250px;bottom:15%;right:15%;animation-delay:7s}.gold-orb.orb-3[_ngcontent-%COMP%]{width:200px;height:200px;top:50%;right:10%;animation-delay:14s}.blue-accent[_ngcontent-%COMP%]{position:absolute;border-radius:50%;filter:blur(60px);opacity:.3;animation:_ngcontent-%COMP%_accentFloat 15s ease-in-out infinite;background:radial-gradient(circle,rgba(14,58,93,.5) 0%,transparent 70%)}.blue-accent.accent-1[_ngcontent-%COMP%]{width:200px;height:200px;top:30%;right:20%;animation-delay:3s}.blue-accent.accent-2[_ngcontent-%COMP%]{width:180px;height:180px;bottom:30%;left:20%;animation-delay:10s}@keyframes _ngcontent-%COMP%_containerFadeIn{0%{opacity:0;transform:translateY(30px) scale(.9)}to{opacity:1;transform:translateY(0) scale(1)}}@keyframes _ngcontent-%COMP%_hieroglyphFloat{0%,to{transform:translate(0) rotate(0);opacity:.2}25%{transform:translate(30px,-30px) rotate(90deg);opacity:.3}50%{transform:translate(-20px,20px) rotate(180deg);opacity:.25}75%{transform:translate(-30px,-10px) rotate(270deg);opacity:.3}}@keyframes _ngcontent-%COMP%_ringRotate{0%{transform:translate(-50%) rotate(0) scale(1);opacity:.6}50%{transform:translate(-50%) rotate(180deg) scale(1.2);opacity:1}to{transform:translate(-50%) rotate(360deg) scale(1);opacity:.6}}@keyframes _ngcontent-%COMP%_ankhFloat{0%,to{transform:translateY(0) rotate(0)}25%{transform:translateY(-8px) rotate(2deg)}50%{transform:translateY(0) rotate(0)}75%{transform:translateY(-4px) rotate(-2deg)}}@keyframes _ngcontent-%COMP%_ankhGlow{0%,to{box-shadow:0 0 20px #c9a24d99,inset 0 0 20px #c9a24d4d}50%{box-shadow:0 0 30px #c9a24d,inset 0 0 30px #c9a24d80}}@keyframes _ngcontent-%COMP%_ankhPulse{0%,to{transform:translate(-50%,-50%) scale(.8);opacity:.3}50%{transform:translate(-50%,-50%) scale(1.2);opacity:.6}}@keyframes _ngcontent-%COMP%_borderRotate{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@keyframes _ngcontent-%COMP%_glyphGlow{0%,to{text-shadow:0 0 10px rgba(201,162,77,.6);opacity:.7}50%{text-shadow:0 0 20px #c9a24d;opacity:1}}@keyframes _ngcontent-%COMP%_progressRotate{0%{stroke-dashoffset:339.29}50%{stroke-dashoffset:84.82}to{stroke-dashoffset:339.29}}@keyframes _ngcontent-%COMP%_letterFloat{0%,to{transform:translateY(0)}50%{transform:translateY(-10px)}}@keyframes _ngcontent-%COMP%_letterUnderline{0%,to{opacity:0;transform:scaleX(0)}50%{opacity:1;transform:scaleX(1)}}@keyframes _ngcontent-%COMP%_taglineGlow{0%,to{text-shadow:0 0 15px rgba(201,162,77,.6),0 2px 10px rgba(7,30,47,.3)}50%{text-shadow:0 0 25px #c9a24d,0 2px 15px rgba(7,30,47,.5),0 0 30px rgba(201,162,77,.8)}}@keyframes _ngcontent-%COMP%_dotBounce{0%,to{transform:translateY(0) scale(1)}50%{transform:translateY(-12px) scale(1.1)}}@keyframes _ngcontent-%COMP%_dotRipple{0%{transform:translate(-50%,-50%) scale(.5);opacity:1}to{transform:translate(-50%,-50%) scale(2.5);opacity:0}}@keyframes _ngcontent-%COMP%_barFill{0%{width:0%;transform:translate(0)}50%{width:70%;transform:translate(0)}to{width:100%;transform:translate(0)}}@keyframes _ngcontent-%COMP%_barGlow{0%{transform:translate(-60px);opacity:0}50%{transform:translate(125px);opacity:1}to{transform:translate(310px);opacity:0}}@keyframes _ngcontent-%COMP%_patternMove{0%{transform:translate(0)}to{transform:translate(8px)}}@keyframes _ngcontent-%COMP%_orbFloat{0%,to{transform:translate(0) scale(1)}33%{transform:translate(40px,-30px) scale(1.1)}66%{transform:translate(-30px,40px) scale(.9)}}@keyframes _ngcontent-%COMP%_accentFloat{0%,to{transform:translate(0) scale(1)}33%{transform:translate(-25px,25px) scale(1.05)}66%{transform:translate(25px,-25px) scale(.95)}}@media (max-width: 768px){.loading-container[_ngcontent-%COMP%]{padding:32px 16px}.ankh-section[_ngcontent-%COMP%]{width:160px;height:160px;margin-bottom:32px}.ankh-container[_ngcontent-%COMP%]{width:100px;height:100px}.ankh-symbol[_ngcontent-%COMP%]{width:65px;height:80px}.ankh-loop[_ngcontent-%COMP%]{width:40px;height:40px}.progress-ring[_ngcontent-%COMP%]{width:140px;height:140px}.brand-name[_ngcontent-%COMP%]{font-size:2.2rem;letter-spacing:2px}.loading-bar[_ngcontent-%COMP%]{width:200px}.gold-orb.orb-1[_ngcontent-%COMP%]{width:200px;height:200px}.gold-orb.orb-2[_ngcontent-%COMP%]{width:180px;height:180px}.gold-orb.orb-3[_ngcontent-%COMP%]{width:150px;height:150px}}@media (max-width: 480px){.ankh-section[_ngcontent-%COMP%]{width:140px;height:140px}.ankh-container[_ngcontent-%COMP%]{width:90px;height:90px}.ankh-symbol[_ngcontent-%COMP%]{width:55px;height:70px}.brand-name[_ngcontent-%COMP%]{font-size:1.8rem;letter-spacing:1px}.loading-bar[_ngcontent-%COMP%]{width:180px}}@media (prefers-reduced-motion: reduce){.loading-overlay[_ngcontent-%COMP%], .loading-container[_ngcontent-%COMP%], .ankh-ring[_ngcontent-%COMP%]   .ring-segment[_ngcontent-%COMP%], .ankh-symbol[_ngcontent-%COMP%], .ankh-glow[_ngcontent-%COMP%], .hieroglyphic-border[_ngcontent-%COMP%], .progress-bar[_ngcontent-%COMP%], .brand-letter[_ngcontent-%COMP%], .brand-tagline[_ngcontent-%COMP%], .dot[_ngcontent-%COMP%], .bar-fill[_ngcontent-%COMP%], .bar-glow[_ngcontent-%COMP%], .hieroglyph[_ngcontent-%COMP%], .gold-orb[_ngcontent-%COMP%], .blue-accent[_ngcontent-%COMP%]{animation-duration:.01ms!important;animation-iteration-count:1!important;transition-duration:.01ms!important}}']})};function xre(n,t){n&1&&b(0,"app-loading")}function Ere(n,t){if(n&1&&b(0,"app-loading",2),n&2){let e=x();E("message",e.demoLoadingMessage)("size",e.demoLoadingSize)("variant",e.demoLoadingVariant)}}var kC=class n{constructor(t){this.lan=t;setTimeout(()=>this.loading=!1,3e3)}title=Ai("Ankh");loading=!0;lastScrollPosition=0;showToTop=!1;demoLoading=!1;demoLoadingMessage="";demoLoadingSize="medium";demoLoadingVariant="primary";showDemoLoading(t="\u062C\u0627\u0631\u064A \u0627\u0644\u062A\u062D\u0645\u064A\u0644...",e="medium",i="primary",o=3e3){this.demoLoadingMessage=t,this.demoLoadingSize=e,this.demoLoadingVariant=i,this.demoLoading=!0,setTimeout(()=>{this.demoLoading=!1},o)}ngOnInit(){try{typeof AOS<"u"&&AOS.init({duration:700,easing:"ease-out-cubic",offset:80,once:!0})}catch{}this.loopDirectionWatcher()}onActivate(){window.scroll({top:0,behavior:"instant"});try{AOS?.refresh?.()}catch{}}toTop(){window.scrollTo({top:0,behavior:"smooth"})}onWindowScroll(){this.handleToTopVisibility()}handleToTopVisibility(){let t=document.querySelector(".to-top-btn"),e=document.querySelector(".custom-navbar"),i=document.querySelector(".app-main");!t||!e||!i||(window.scrollY>=200?(t.classList.add("show"),e.classList.add("navbar-scrolled"),this.showToTop=!0):(t.classList.remove("show"),e.classList.remove("navbar-scrolled"),this.showToTop=!1))}loopDirectionWatcher(){let t=document.querySelector(".direction");this.lan.getCurrentLang()==="ar"?t?.classList.add("rtl"):t?.classList.remove("rtl"),setTimeout(()=>this.loopDirectionWatcher(),150)}static \u0275fac=function(e){return new(e||n)(A(Dd))};static \u0275cmp=ce({type:n,selectors:[["app-root"]],hostBindings:function(e,i){e&1&&R("scroll",function(){return i.onWindowScroll()},Cu)},decls:14,vars:7,consts:[[1,"direction","app-shell"],["aria-label","Main navigation"],[3,"message","size","variant"],["role","main",1,"app-main"],[3,"activate"],["aria-label","Footer"],[1,"to-top-btn",3,"click"],[1,"to-top-content"],[1,"fa-solid","fa-angles-up"],[1,"to-top-text"],[1,"to-top-ripple"]],template:function(e,i){e&1&&(d(0,"div",0),b(1,"app-navbar",1),T(2,xre,1,0,"app-loading"),T(3,Ere,1,3,"app-loading",2),d(4,"main",3)(5,"router-outlet",4),R("activate",function(){return i.onActivate()}),p()(),b(6,"app-footer",5),d(7,"div",6),R("click",function(){return i.toTop()}),d(8,"div",7),b(9,"i",8),d(10,"span",9),f(11),h(12,"translate"),p()(),b(13,"div",10),p()()),e&2&&(l(2),D(i.loading?2:-1),l(),D(i.demoLoading?3:-1),l(4),V("show",i.showToTop),l(4),M(" ",m(12,5,"to_top")," "))},dependencies:[ic,IC,TC,DC,pe,fe,_e],styles:[".app-shell[_ngcontent-%COMP%]{position:relative;overflow-x:hidden;background-color:#071e2f}.app-main[_ngcontent-%COMP%]{min-height:100vh;position:relative;z-index:1;font-family:Cairo,sans-serif;transition:padding-top .3s ease}.rtl[_ngcontent-%COMP%]{direction:rtl}@keyframes _ngcontent-%COMP%_subtleFloat{0%,to{transform:translateY(0) rotate(0)}50%{transform:translateY(-15px) rotate(180deg)}}.to-top-btn[_ngcontent-%COMP%]{position:fixed;bottom:2rem;right:-80px;z-index:1000;transition:all .4s cubic-bezier(.4,0,.2,1);cursor:pointer}.to-top-btn.show[_ngcontent-%COMP%]{right:2rem}.to-top-btn[_ngcontent-%COMP%]   .to-top-content[_ngcontent-%COMP%]{position:relative;display:flex;flex-direction:column;align-items:center;justify-content:center;width:55px;height:55px;background:#071e2f;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border-radius:50%;box-shadow:0 4px 15px #0000001a;transition:all .3s ease;border:1px solid rgba(7,30,47,.02)}.to-top-btn[_ngcontent-%COMP%]   .to-top-content[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#c9a24d;font-size:1.2rem;margin-bottom:1px;transition:all .3s ease}.to-top-btn[_ngcontent-%COMP%]   .to-top-content[_ngcontent-%COMP%]   .to-top-text[_ngcontent-%COMP%]{color:#c9a24d;font-size:.5rem;font-weight:300;font-family:Cairo,Inter,IBM Plex Sans Arabic,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,sans-serif;transition:all .3s ease}.to-top-btn[_ngcontent-%COMP%]   .to-top-ripple[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:100%;height:100%;border-radius:50%;background:#c9a24d80;animation:_ngcontent-%COMP%_gentleRipple 3s ease-in-out infinite;pointer-events:none}.to-top-btn[_ngcontent-%COMP%]:hover{transform:translateY(-2px)}.to-top-btn[_ngcontent-%COMP%]:hover   .to-top-content[_ngcontent-%COMP%]{box-shadow:0 8px 25px #c9a24d26;transform:scale(1.05);background:#071e2f}.to-top-btn[_ngcontent-%COMP%]:hover   .to-top-content[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], .to-top-btn[_ngcontent-%COMP%]:hover   .to-top-content[_ngcontent-%COMP%]   .to-top-text[_ngcontent-%COMP%]{transform:translateY(-1px)}.to-top-btn[_ngcontent-%COMP%]:active{transform:translateY(0) scale(.95)}@keyframes _ngcontent-%COMP%_gentleRipple{0%{transform:translate(-50%,-50%) scale(1);opacity:.3}to{transform:translate(-50%,-50%) scale(1.3);opacity:0}}@media (prefers-reduced-motion: reduce){*[_ngcontent-%COMP%]{animation-duration:.01ms!important;animation-iteration-count:1!important;transition-duration:.01ms!important}}.to-top-btn[_ngcontent-%COMP%]:focus{outline:2px solid #C9A24D;outline-offset:2px;border-radius:50%}html[_ngcontent-%COMP%]{scroll-behavior:smooth}.hidden-navbar[_ngcontent-%COMP%]{transform:translateY(-100%);transition:transform .3s cubic-bezier(.4,0,.2,1);box-shadow:none}[_ngcontent-%COMP%]::-webkit-scrollbar{width:8px}[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#c9a24d1a;border-radius:4px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:linear-gradient(135deg,#c9a24d,#071e2f);border-radius:4px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:linear-gradient(135deg,#071e2f,#c9a24d)}.to-top-btn[_ngcontent-%COMP%]{will-change:transform,box-shadow}"]})};R1(kC,ML).catch(n=>console.error(n));
