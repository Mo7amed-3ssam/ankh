var jF=Object.create;var L_=Object.defineProperty,VF=Object.defineProperties,UF=Object.getOwnPropertyDescriptor,zF=Object.getOwnPropertyDescriptors,$F=Object.getOwnPropertyNames,df=Object.getOwnPropertySymbols,z1=Object.getPrototypeOf,F_=Object.prototype.hasOwnProperty,$1=Object.prototype.propertyIsEnumerable,HF=Reflect.get;var U1=(n,e,t)=>e in n?L_(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,F=(n,e)=>{for(var t in e||={})F_.call(e,t)&&U1(n,t,e[t]);if(df)for(var t of df(e))$1.call(e,t)&&U1(n,t,e[t]);return n},ie=(n,e)=>VF(n,zF(e));var B_=(n,e)=>{var t={};for(var i in n)F_.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&df)for(var i of df(n))e.indexOf(i)<0&&$1.call(n,i)&&(t[i]=n[i]);return t};var WF=(n,e)=>()=>(e||n((e={exports:{}}).exports,e),e.exports);var GF=(n,e,t,i)=>{if(e&&typeof e=="object"||typeof e=="function")for(let r of $F(e))!F_.call(n,r)&&r!==t&&L_(n,r,{get:()=>e[r],enumerable:!(i=UF(e,r))||i.enumerable});return n};var ms=(n,e,t)=>(t=n!=null?jF(z1(n)):{},GF(e||!n||!n.__esModule?L_(t,"default",{value:n,enumerable:!0}):t,n));var _s=(n,e,t)=>HF(z1(n),t,e);var x=(n,e,t)=>new Promise((i,r)=>{var o=c=>{try{a(t.next(c))}catch(l){r(l)}},s=c=>{try{a(t.throw(c))}catch(l){r(l)}},a=c=>c.done?i(c.value):Promise.resolve(c.value).then(o,s);a((t=t.apply(n,e)).next())});var cs=WF((Sr,VM)=>{"use strict";(function(n,e){typeof Sr=="object"&&typeof VM<"u"?VM.exports=e():typeof define=="function"&&define.amd?define(e):(n=typeof globalThis<"u"?globalThis:n||self,n.Sweetalert2=e())})(Sr,function(){"use strict";function n(u,d,g){if(typeof u=="function"?u===d:u.has(d))return arguments.length<3?d:g;throw new TypeError("Private element is not present on this object")}function e(u,d){if(d.has(u))throw new TypeError("Cannot initialize the same private elements twice on an object")}function t(u,d){return u.get(n(u,d))}function i(u,d,g){e(u,d),d.set(u,g)}function r(u,d,g){return u.set(n(u,d),g),g}let o=100,s={},a=()=>{s.previousActiveElement instanceof HTMLElement?(s.previousActiveElement.focus(),s.previousActiveElement=null):document.body&&document.body.focus()},c=u=>new Promise(d=>{if(!u)return d();let g=window.scrollX,E=window.scrollY;s.restoreFocusTimeout=setTimeout(()=>{a(),d()},o),window.scrollTo(g,E)}),l="swal2-",f=["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error","draggable","dragging"].reduce((u,d)=>(u[d]=l+d,u),{}),w=["success","warning","info","question","error"].reduce((u,d)=>(u[d]=l+d,u),{}),I="SweetAlert2:",D=u=>u.charAt(0).toUpperCase()+u.slice(1),T=u=>{console.warn(`${I} ${typeof u=="object"?u.join(" "):u}`)},L=u=>{console.error(`${I} ${u}`)},Z=[],le=u=>{Z.includes(u)||(Z.push(u),T(u))},te=(u,d=null)=>{le(`"${u}" is deprecated and will be removed in the next major release.${d?` Use "${d}" instead.`:""}`)},rt=u=>typeof u=="function"?u():u,We=u=>u&&typeof u.toPromise=="function",tt=u=>We(u)?u.toPromise():Promise.resolve(u),ht=u=>u&&Promise.resolve(u)===u,ot=()=>document.body.querySelector(`.${f.container}`),En=u=>{let d=ot();return d?d.querySelector(u):null},sn=u=>En(`.${u}`),be=()=>sn(f.popup),Hi=()=>sn(f.icon),Qd=()=>sn(f["icon-content"]),vl=()=>sn(f.title),Q=()=>sn(f["html-container"]),ne=()=>sn(f.image),re=()=>sn(f["progress-steps"]),Ee=()=>sn(f["validation-message"]),Qe=()=>En(`.${f.actions} .${f.confirm}`),Kt=()=>En(`.${f.actions} .${f.cancel}`),Pt=()=>En(`.${f.actions} .${f.deny}`),Wi=()=>sn(f["input-label"]),Ge=()=>En(`.${f.loader}`),ao=()=>sn(f.actions),Zd=()=>sn(f.footer),Ot=()=>sn(f["timer-progress-bar"]),gi=()=>sn(f.close),Mn=`
  a[href],
  area[href],
  input:not([disabled]),
  select:not([disabled]),
  textarea:not([disabled]),
  button:not([disabled]),
  iframe,
  object,
  embed,
  [tabindex="0"],
  [contenteditable],
  audio[controls],
  video[controls],
  summary
`,co=()=>{let u=be();if(!u)return[];let d=u.querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])'),g=Array.from(d).sort((W,he)=>{let Le=parseInt(W.getAttribute("tabindex")||"0"),st=parseInt(he.getAttribute("tabindex")||"0");return Le>st?1:Le<st?-1:0}),E=u.querySelectorAll(Mn),S=Array.from(E).filter(W=>W.getAttribute("tabindex")!=="-1");return[...new Set(g.concat(S))].filter(W=>In(W))},fs=()=>Dr(document.body,f.shown)&&!Dr(document.body,f["toast-shown"])&&!Dr(document.body,f["no-backdrop"]),Xd=()=>{let u=be();return u?Dr(u,f.toast):!1},dN=()=>{let u=be();return u?u.hasAttribute("data-loading"):!1},Nn=(u,d)=>{if(u.textContent="",d){let E=new DOMParser().parseFromString(d,"text/html"),S=E.querySelector("head");S&&Array.from(S.childNodes).forEach(he=>{u.appendChild(he)});let W=E.querySelector("body");W&&Array.from(W.childNodes).forEach(he=>{he instanceof HTMLVideoElement||he instanceof HTMLAudioElement?u.appendChild(he.cloneNode(!0)):u.appendChild(he)})}},Dr=(u,d)=>{if(!d)return!1;let g=d.split(/\s+/);for(let E=0;E<g.length;E++)if(!u.classList.contains(g[E]))return!1;return!0},fN=(u,d)=>{Array.from(u.classList).forEach(g=>{!Object.values(f).includes(g)&&!Object.values(w).includes(g)&&!Object.values(d.showClass||{}).includes(g)&&u.classList.remove(g)})},Ln=(u,d,g)=>{if(fN(u,d),!d.customClass)return;let E=d.customClass[g];if(E){if(typeof E!="string"&&!E.forEach){T(`Invalid type of customClass.${g}! Expected string or iterable object, got "${typeof E}"`);return}Ve(u,E)}},Jd=(u,d)=>{if(!d)return null;switch(d){case"select":case"textarea":case"file":return u.querySelector(`.${f.popup} > .${f[d]}`);case"checkbox":return u.querySelector(`.${f.popup} > .${f.checkbox} input`);case"radio":return u.querySelector(`.${f.popup} > .${f.radio} input:checked`)||u.querySelector(`.${f.popup} > .${f.radio} input:first-child`);case"range":return u.querySelector(`.${f.popup} > .${f.range} input`);default:return u.querySelector(`.${f.popup} > .${f.input}`)}},WM=u=>{if(u.focus(),u.type!=="file"){let d=u.value;u.value="",u.value=d}},GM=(u,d,g)=>{!u||!d||(typeof d=="string"&&(d=d.split(/\s+/).filter(Boolean)),d.forEach(E=>{Array.isArray(u)?u.forEach(S=>{g?S.classList.add(E):S.classList.remove(E)}):g?u.classList.add(E):u.classList.remove(E)}))},Ve=(u,d)=>{GM(u,d,!0)},Yn=(u,d)=>{GM(u,d,!1)},lo=(u,d)=>{let g=Array.from(u.children);for(let E=0;E<g.length;E++){let S=g[E];if(S instanceof HTMLElement&&Dr(S,d))return S}},ps=(u,d,g)=>{g===`${parseInt(`${g}`)}`&&(g=parseInt(g)),g||parseInt(`${g}`)===0?u.style.setProperty(d,typeof g=="number"?`${g}px`:g):u.style.removeProperty(d)},$t=(u,d="flex")=>{u&&(u.style.display=d)},an=u=>{u&&(u.style.display="none")},w_=(u,d="block")=>{u&&new MutationObserver(()=>{yl(u,u.innerHTML,d)}).observe(u,{childList:!0,subtree:!0})},qM=(u,d,g,E)=>{let S=u.querySelector(d);S&&S.style.setProperty(g,E)},yl=(u,d,g="flex")=>{d?$t(u,g):an(u)},In=u=>!!(u&&(u.offsetWidth||u.offsetHeight||u.getClientRects().length)),pN=()=>!In(Qe())&&!In(Pt())&&!In(Kt()),E_=u=>u.scrollHeight>u.clientHeight,hN=(u,d)=>{let g=u;for(;g&&g!==d;){if(E_(g))return!0;g=g.parentElement}return!1},KM=u=>{let d=window.getComputedStyle(u),g=parseFloat(d.getPropertyValue("animation-duration")||"0"),E=parseFloat(d.getPropertyValue("transition-duration")||"0");return g>0||E>0},M_=(u,d=!1)=>{let g=Ot();g&&In(g)&&(d&&(g.style.transition="none",g.style.width="100%"),setTimeout(()=>{g.style.transition=`width ${u/1e3}s linear`,g.style.width="0%"},10))},gN=()=>{let u=Ot();if(!u)return;let d=parseInt(window.getComputedStyle(u).width);u.style.removeProperty("transition"),u.style.width="100%";let g=parseInt(window.getComputedStyle(u).width),E=d/g*100;u.style.width=`${E}%`},mN=()=>typeof window>"u"||typeof document>"u",_N=`
 <div aria-labelledby="${f.title}" aria-describedby="${f["html-container"]}" class="${f.popup}" tabindex="-1">
   <button type="button" class="${f.close}"></button>
   <ul class="${f["progress-steps"]}"></ul>
   <div class="${f.icon}"></div>
   <img class="${f.image}" />
   <h2 class="${f.title}" id="${f.title}"></h2>
   <div class="${f["html-container"]}" id="${f["html-container"]}"></div>
   <input class="${f.input}" id="${f.input}" />
   <input type="file" class="${f.file}" />
   <div class="${f.range}">
     <input type="range" />
     <output></output>
   </div>
   <select class="${f.select}" id="${f.select}"></select>
   <div class="${f.radio}"></div>
   <label class="${f.checkbox}">
     <input type="checkbox" id="${f.checkbox}" />
     <span class="${f.label}"></span>
   </label>
   <textarea class="${f.textarea}" id="${f.textarea}"></textarea>
   <div class="${f["validation-message"]}" id="${f["validation-message"]}"></div>
   <div class="${f.actions}">
     <div class="${f.loader}"></div>
     <button type="button" class="${f.confirm}"></button>
     <button type="button" class="${f.deny}"></button>
     <button type="button" class="${f.cancel}"></button>
   </div>
   <div class="${f.footer}"></div>
   <div class="${f["timer-progress-bar-container"]}">
     <div class="${f["timer-progress-bar"]}"></div>
   </div>
 </div>
`.replace(/(^|\n)\s*/g,""),vN=()=>{let u=ot();return u?(u.remove(),Yn([document.documentElement,document.body],[f["no-backdrop"],f["toast-shown"],f["has-column"]]),!0):!1},hs=()=>{s.currentInstance&&s.currentInstance.resetValidationMessage()},yN=()=>{let u=be();if(!u)return;let d=lo(u,f.input),g=lo(u,f.file),E=u.querySelector(`.${f.range} input`),S=u.querySelector(`.${f.range} output`),W=lo(u,f.select),he=u.querySelector(`.${f.checkbox} input`),Le=lo(u,f.textarea);d&&(d.oninput=hs),g&&(g.onchange=hs),W&&(W.onchange=hs),he&&(he.onchange=hs),Le&&(Le.oninput=hs),E&&S&&(E.oninput=()=>{hs(),S.value=E.value},E.onchange=()=>{hs(),S.value=E.value})},bN=u=>{if(typeof u=="string"){let d=document.querySelector(u);if(!d)throw new Error(`Target element "${u}" not found`);return d}return u},CN=u=>{let d=be();d&&(d.setAttribute("role",u.toast?"alert":"dialog"),d.setAttribute("aria-live",u.toast?"polite":"assertive"),u.toast||d.setAttribute("aria-modal","true"))},wN=u=>{window.getComputedStyle(u).direction==="rtl"&&(Ve(ot(),f.rtl),s.isRTL=!0)},EN=u=>{let d=vN();if(mN()){L("SweetAlert2 requires document to initialize");return}let g=document.createElement("div");g.className=f.container,d&&Ve(g,f["no-transition"]),Nn(g,_N),g.dataset.swal2Theme=u.theme;let E=bN(u.target||"body");E.appendChild(g),u.topLayer&&(g.setAttribute("popover",""),g.showPopover()),CN(u),wN(E),yN()},I_=(u,d)=>{u instanceof HTMLElement?d.appendChild(u):typeof u=="object"?MN(u,d):u&&Nn(d,u)},MN=(u,d)=>{"jquery"in u?IN(d,u):Nn(d,u.toString())},IN=(u,d)=>{if(u.textContent="",0 in d)for(let g=0;g in d;g++)u.appendChild(d[g].cloneNode(!0));else u.appendChild(d.cloneNode(!0))},PN=(u,d)=>{let g=ao(),E=Ge();!g||!E||(!d.showConfirmButton&&!d.showDenyButton&&!d.showCancelButton?an(g):$t(g),Ln(g,d,"actions"),ON(g,E,d),Nn(E,d.loaderHtml||""),Ln(E,d,"loader"))};function ON(u,d,g){let E=Qe(),S=Pt(),W=Kt();!E||!S||!W||(O_(E,"confirm",g),O_(S,"deny",g),O_(W,"cancel",g),xN(E,S,W,g),g.reverseButtons&&(g.toast?(u.insertBefore(W,E),u.insertBefore(S,E)):(u.insertBefore(W,d),u.insertBefore(S,d),u.insertBefore(E,d))))}function xN(u,d,g,E){if(!E.buttonsStyling){Yn([u,d,g],f.styled);return}Ve([u,d,g],f.styled),E.confirmButtonColor&&u.style.setProperty("--swal2-confirm-button-background-color",E.confirmButtonColor),E.denyButtonColor&&d.style.setProperty("--swal2-deny-button-background-color",E.denyButtonColor),E.cancelButtonColor&&g.style.setProperty("--swal2-cancel-button-background-color",E.cancelButtonColor),P_(u),P_(d),P_(g)}function P_(u){let d=window.getComputedStyle(u);if(d.getPropertyValue("--swal2-action-button-focus-box-shadow"))return;let g=d.backgroundColor.replace(/rgba?\((\d+), (\d+), (\d+).*/,"rgba($1, $2, $3, 0.5)");u.style.setProperty("--swal2-action-button-focus-box-shadow",d.getPropertyValue("--swal2-outline").replace(/ rgba\(.*/,` ${g}`))}function O_(u,d,g){let E=D(d);yl(u,g[`show${E}Button`],"inline-block"),Nn(u,g[`${d}ButtonText`]||""),u.setAttribute("aria-label",g[`${d}ButtonAriaLabel`]||""),u.className=f[d],Ln(u,g,`${d}Button`)}let SN=(u,d)=>{let g=gi();g&&(Nn(g,d.closeButtonHtml||""),Ln(g,d,"closeButton"),yl(g,d.showCloseButton),g.setAttribute("aria-label",d.closeButtonAriaLabel||""))},DN=(u,d)=>{let g=ot();g&&(TN(g,d.backdrop),AN(g,d.position),kN(g,d.grow),Ln(g,d,"container"))};function TN(u,d){typeof d=="string"?u.style.background=d:d||Ve([document.documentElement,document.body],f["no-backdrop"])}function AN(u,d){d&&(d in f?Ve(u,f[d]):(T('The "position" parameter is not valid, defaulting to "center"'),Ve(u,f.center)))}function kN(u,d){d&&Ve(u,f[`grow-${d}`])}var ct={innerParams:new WeakMap,domCache:new WeakMap};let RN=["input","file","range","select","radio","checkbox","textarea"],NN=(u,d)=>{let g=be();if(!g)return;let E=ct.innerParams.get(u),S=!E||d.input!==E.input;RN.forEach(W=>{let he=lo(g,f[W]);he&&(BN(W,d.inputAttributes),he.className=f[W],S&&an(he))}),d.input&&(S&&LN(d),jN(d))},LN=u=>{if(!u.input)return;if(!xt[u.input]){L(`Unexpected type of input! Expected ${Object.keys(xt).join(" | ")}, got "${u.input}"`);return}let d=YM(u.input);if(!d)return;let g=xt[u.input](d,u);$t(d),u.inputAutoFocus&&setTimeout(()=>{WM(g)})},FN=u=>{for(let d=0;d<u.attributes.length;d++){let g=u.attributes[d].name;["id","type","value","style"].includes(g)||u.removeAttribute(g)}},BN=(u,d)=>{let g=be();if(!g)return;let E=Jd(g,u);if(E){FN(E);for(let S in d)E.setAttribute(S,d[S])}},jN=u=>{if(!u.input)return;let d=YM(u.input);d&&Ln(d,u,"input")},x_=(u,d)=>{!u.placeholder&&d.inputPlaceholder&&(u.placeholder=d.inputPlaceholder)},bl=(u,d,g)=>{if(g.inputLabel){let E=document.createElement("label"),S=f["input-label"];E.setAttribute("for",u.id),E.className=S,typeof g.customClass=="object"&&Ve(E,g.customClass.inputLabel),E.innerText=g.inputLabel,d.insertAdjacentElement("beforebegin",E)}},YM=u=>{let d=be();if(d)return lo(d,f[u]||f.input)},ef=(u,d)=>{["string","number"].includes(typeof d)?u.value=`${d}`:ht(d)||T(`Unexpected type of inputValue! Expected "string", "number" or "Promise", got "${typeof d}"`)},xt={};xt.text=xt.email=xt.password=xt.number=xt.tel=xt.url=xt.search=xt.date=xt["datetime-local"]=xt.time=xt.week=xt.month=(u,d)=>{let g=u;return ef(g,d.inputValue),bl(g,g,d),x_(g,d),g.type=d.input,g},xt.file=(u,d)=>{let g=u;return bl(g,g,d),x_(g,d),g},xt.range=(u,d)=>{let g=u,E=g.querySelector("input"),S=g.querySelector("output");return E&&(ef(E,d.inputValue),E.type=d.input,bl(E,u,d)),S&&ef(S,d.inputValue),u},xt.select=(u,d)=>{let g=u;if(g.textContent="",d.inputPlaceholder){let E=document.createElement("option");Nn(E,d.inputPlaceholder),E.value="",E.disabled=!0,E.selected=!0,g.appendChild(E)}return bl(g,g,d),g},xt.radio=u=>{let d=u;return d.textContent="",u},xt.checkbox=(u,d)=>{let g=be();if(!g)throw new Error("Popup not found");let E=Jd(g,"checkbox");if(!E)throw new Error("Checkbox input not found");E.value="1",E.checked=!!d.inputValue;let W=u.querySelector("span");if(W){let he=d.inputPlaceholder||d.inputLabel;he&&Nn(W,he)}return E},xt.textarea=(u,d)=>{let g=u;ef(g,d.inputValue),x_(g,d),bl(g,g,d);let E=S=>parseInt(window.getComputedStyle(S).marginLeft)+parseInt(window.getComputedStyle(S).marginRight);return setTimeout(()=>{if("MutationObserver"in window){let S=be();if(!S)return;let W=parseInt(window.getComputedStyle(S).width),he=()=>{if(!document.body.contains(g))return;let Le=g.offsetWidth+E(g),st=be();st&&(Le>W?st.style.width=`${Le}px`:ps(st,"width",d.width))};new MutationObserver(he).observe(g,{attributes:!0,attributeFilter:["style"]})}}),g};let VN=(u,d)=>{let g=Q();g&&(w_(g),Ln(g,d,"htmlContainer"),d.html?(I_(d.html,g),$t(g,"block")):d.text?(g.textContent=d.text,$t(g,"block")):an(g),NN(u,d))},UN=(u,d)=>{let g=Zd();g&&(w_(g),yl(g,!!d.footer,"block"),d.footer&&I_(d.footer,g),Ln(g,d,"footer"))},zN=(u,d)=>{let g=ct.innerParams.get(u),E=Hi();if(!E)return;if(g&&d.icon===g.icon){XM(E,d),QM(E,d);return}if(!d.icon&&!d.iconHtml){an(E);return}if(d.icon&&Object.keys(w).indexOf(d.icon)===-1){L(`Unknown icon! Expected "success", "error", "warning", "info" or "question", got "${d.icon}"`),an(E);return}$t(E),XM(E,d),QM(E,d),Ve(E,d.showClass&&d.showClass.icon),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",ZM)},QM=(u,d)=>{for(let[g,E]of Object.entries(w))d.icon!==g&&Yn(u,E);Ve(u,d.icon&&w[d.icon]),WN(u,d),ZM(),Ln(u,d,"icon")},ZM=()=>{let u=be();if(!u)return;let d=window.getComputedStyle(u).getPropertyValue("background-color"),g=u.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let E=0;E<g.length;E++)g[E].style.backgroundColor=d},$N=u=>`
  ${u.animation?'<div class="swal2-success-circular-line-left"></div>':""}
  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>
  <div class="swal2-success-ring"></div>
  ${u.animation?'<div class="swal2-success-fix"></div>':""}
  ${u.animation?'<div class="swal2-success-circular-line-right"></div>':""}
`,HN=`
  <span class="swal2-x-mark">
    <span class="swal2-x-mark-line-left"></span>
    <span class="swal2-x-mark-line-right"></span>
  </span>
`,XM=(u,d)=>{if(!d.icon&&!d.iconHtml)return;let g=u.innerHTML,E="";d.iconHtml?E=JM(d.iconHtml):d.icon==="success"?(E=$N(d),g=g.replace(/ style=".*?"/g,"")):d.icon==="error"?E=HN:d.icon&&(E=JM({question:"?",warning:"!",info:"i"}[d.icon])),g.trim()!==E.trim()&&Nn(u,E)},WN=(u,d)=>{if(d.iconColor){u.style.color=d.iconColor,u.style.borderColor=d.iconColor;for(let g of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])qM(u,g,"background-color",d.iconColor);qM(u,".swal2-success-ring","border-color",d.iconColor)}},JM=u=>`<div class="${f["icon-content"]}">${u}</div>`,GN=(u,d)=>{let g=ne();if(g){if(!d.imageUrl){an(g);return}$t(g,""),g.setAttribute("src",d.imageUrl),g.setAttribute("alt",d.imageAlt||""),ps(g,"width",d.imageWidth),ps(g,"height",d.imageHeight),g.className=f.image,Ln(g,d,"image")}},S_=!1,e1=0,t1=0,n1=0,i1=0,qN=u=>{u.addEventListener("mousedown",tf),document.body.addEventListener("mousemove",nf),u.addEventListener("mouseup",rf),u.addEventListener("touchstart",tf),document.body.addEventListener("touchmove",nf),u.addEventListener("touchend",rf)},KN=u=>{u.removeEventListener("mousedown",tf),document.body.removeEventListener("mousemove",nf),u.removeEventListener("mouseup",rf),u.removeEventListener("touchstart",tf),document.body.removeEventListener("touchmove",nf),u.removeEventListener("touchend",rf)},tf=u=>{let d=be();if(!d)return;let g=Hi();if(u.target===d||g&&g.contains(u.target)){S_=!0;let E=r1(u);e1=E.clientX,t1=E.clientY,n1=parseInt(d.style.insetInlineStart)||0,i1=parseInt(d.style.insetBlockStart)||0,Ve(d,"swal2-dragging")}},nf=u=>{let d=be();if(d&&S_){let{clientX:g,clientY:E}=r1(u),S=g-e1;d.style.insetInlineStart=`${n1+(s.isRTL?-S:S)}px`,d.style.insetBlockStart=`${i1+(E-t1)}px`}},rf=()=>{let u=be();S_=!1,Yn(u,"swal2-dragging")},r1=u=>{let d=0,g=0;return u.type.startsWith("mouse")?(d=u.clientX,g=u.clientY):u.type.startsWith("touch")&&(d=u.touches[0].clientX,g=u.touches[0].clientY),{clientX:d,clientY:g}},YN=(u,d)=>{let g=ot(),E=be();if(!(!g||!E)){if(d.toast){ps(g,"width",d.width),E.style.width="100%";let S=Ge();S&&E.insertBefore(S,Hi())}else ps(E,"width",d.width);ps(E,"padding",d.padding),d.color&&(E.style.color=d.color),d.background&&(E.style.background=d.background),an(Ee()),QN(E,d),d.draggable&&!d.toast?(Ve(E,f.draggable),qN(E)):(Yn(E,f.draggable),KN(E))}},QN=(u,d)=>{let g=d.showClass||{};u.className=`${f.popup} ${In(u)?g.popup:""}`,d.toast?(Ve([document.documentElement,document.body],f["toast-shown"]),Ve(u,f.toast)):Ve(u,f.modal),Ln(u,d,"popup"),typeof d.customClass=="string"&&Ve(u,d.customClass),d.icon&&Ve(u,f[`icon-${d.icon}`])},ZN=(u,d)=>{let g=re();if(!g)return;let{progressSteps:E,currentProgressStep:S}=d;if(!E||E.length===0||S===void 0){an(g);return}$t(g),g.textContent="",S>=E.length&&T("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),E.forEach((W,he)=>{let Le=XN(W);if(g.appendChild(Le),he===S&&Ve(Le,f["active-progress-step"]),he!==E.length-1){let st=JN(d);g.appendChild(st)}})},XN=u=>{let d=document.createElement("li");return Ve(d,f["progress-step"]),Nn(d,u),d},JN=u=>{let d=document.createElement("li");return Ve(d,f["progress-step-line"]),u.progressStepsDistance&&ps(d,"width",u.progressStepsDistance),d},eL=(u,d)=>{let g=vl();g&&(w_(g),yl(g,!!(d.title||d.titleText),"block"),d.title&&I_(d.title,g),d.titleText&&(g.innerText=d.titleText),Ln(g,d,"title"))},o1=(u,d)=>{var g;YN(u,d),DN(u,d),ZN(u,d),zN(u,d),GN(u,d),eL(u,d),SN(u,d),VN(u,d),PN(u,d),UN(u,d);let E=be();typeof d.didRender=="function"&&E&&d.didRender(E),(g=s.eventEmitter)===null||g===void 0||g.emit("didRender",E)},tL=()=>In(be()),s1=()=>{var u;return(u=Qe())===null||u===void 0?void 0:u.click()},nL=()=>{var u;return(u=Pt())===null||u===void 0?void 0:u.click()},iL=()=>{var u;return(u=Kt())===null||u===void 0?void 0:u.click()},wa=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),a1=u=>{if(u.keydownTarget&&u.keydownHandlerAdded&&u.keydownHandler){let d=u.keydownHandler;u.keydownTarget.removeEventListener("keydown",d,{capture:u.keydownListenerCapture}),u.keydownHandlerAdded=!1}},rL=(u,d,g)=>{if(a1(u),!d.toast){let E=W=>sL(d,W,g);u.keydownHandler=E;let S=d.keydownListenerCapture?window:be();if(S){u.keydownTarget=S,u.keydownListenerCapture=d.keydownListenerCapture;let W=E;u.keydownTarget.addEventListener("keydown",W,{capture:u.keydownListenerCapture}),u.keydownHandlerAdded=!0}}},D_=(u,d)=>{var g;let E=co();if(E.length){u=u+d,u===-2&&(u=E.length-1),u===E.length?u=0:u===-1&&(u=E.length-1),E[u].focus();return}(g=be())===null||g===void 0||g.focus()},c1=["ArrowRight","ArrowDown"],oL=["ArrowLeft","ArrowUp"],sL=(u,d,g)=>{u&&(d.isComposing||d.keyCode===229||(u.stopKeydownPropagation&&d.stopPropagation(),d.key==="Enter"?aL(d,u):d.key==="Tab"?cL(d):[...c1,...oL].includes(d.key)?lL(d.key):d.key==="Escape"&&uL(d,u,g)))},aL=(u,d)=>{if(!rt(d.allowEnterKey))return;let g=be();if(!g||!d.input)return;let E=Jd(g,d.input);if(u.target&&E&&u.target instanceof HTMLElement&&u.target.outerHTML===E.outerHTML){if(["textarea","file"].includes(d.input))return;s1(),u.preventDefault()}},cL=u=>{let d=u.target,g=co(),E=-1;for(let S=0;S<g.length;S++)if(d===g[S]){E=S;break}u.shiftKey?D_(E,-1):D_(E,1),u.stopPropagation(),u.preventDefault()},lL=u=>{let d=ao(),g=Qe(),E=Pt(),S=Kt();if(!d||!g||!E||!S)return;let W=[g,E,S];if(document.activeElement instanceof HTMLElement&&!W.includes(document.activeElement))return;let he=c1.includes(u)?"nextElementSibling":"previousElementSibling",Le=document.activeElement;if(Le){for(let st=0;st<d.children.length;st++){if(Le=Le[he],!Le)return;if(Le instanceof HTMLButtonElement&&In(Le))break}Le instanceof HTMLButtonElement&&Le.focus()}},uL=(u,d,g)=>{u.preventDefault(),rt(d.allowEscapeKey)&&g(wa.esc)};var Ea={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};let dL=()=>{let u=ot();Array.from(document.body.children).forEach(g=>{g.contains(u)||(g.hasAttribute("aria-hidden")&&g.setAttribute("data-previous-aria-hidden",g.getAttribute("aria-hidden")||""),g.setAttribute("aria-hidden","true"))})},l1=()=>{Array.from(document.body.children).forEach(d=>{d.hasAttribute("data-previous-aria-hidden")?(d.setAttribute("aria-hidden",d.getAttribute("data-previous-aria-hidden")||""),d.removeAttribute("data-previous-aria-hidden")):d.removeAttribute("aria-hidden")})},u1=typeof window<"u"&&!!window.GestureEvent,fL=()=>{if(u1&&!Dr(document.body,f.iosfix)){let u=document.body.scrollTop;document.body.style.top=`${u*-1}px`,Ve(document.body,f.iosfix),pL()}},pL=()=>{let u=ot();if(!u)return;let d;u.ontouchstart=g=>{d=hL(g)},u.ontouchmove=g=>{d&&(g.preventDefault(),g.stopPropagation())}},hL=u=>{let d=u.target,g=ot(),E=Q();return!g||!E||gL(u)||mL(u)?!1:d===g||!E_(g)&&d instanceof HTMLElement&&!hN(d,E)&&d.tagName!=="INPUT"&&d.tagName!=="TEXTAREA"&&!(E_(E)&&E.contains(d))},gL=u=>!!(u.touches&&u.touches.length&&u.touches[0].touchType==="stylus"),mL=u=>u.touches&&u.touches.length>1,_L=()=>{if(Dr(document.body,f.iosfix)){let u=parseInt(document.body.style.top,10);Yn(document.body,f.iosfix),document.body.style.top="",document.body.scrollTop=u*-1}},vL=()=>{let u=document.createElement("div");u.className=f["scrollbar-measure"],document.body.appendChild(u);let d=u.getBoundingClientRect().width-u.clientWidth;return document.body.removeChild(u),d},Ma=null,yL=u=>{Ma===null&&(document.body.scrollHeight>window.innerHeight||u==="scroll")&&(Ma=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight=`${Ma+vL()}px`)},bL=()=>{Ma!==null&&(document.body.style.paddingRight=`${Ma}px`,Ma=null)};function d1(u,d,g,E){Xd()?p1(u,E):(c(g).then(()=>p1(u,E)),a1(s)),u1?(d.setAttribute("style","display:none !important"),d.removeAttribute("class"),d.innerHTML=""):d.remove(),fs()&&(bL(),_L(),l1()),CL()}function CL(){Yn([document.documentElement,document.body],[f.shown,f["height-auto"],f["no-backdrop"],f["toast-shown"]])}function uo(u){u=EL(u);let d=Ea.swalPromiseResolve.get(this),g=wL(this);this.isAwaitingPromise?u.isDismissed||(Cl(this),d(u)):g&&d(u)}let wL=u=>{let d=be();if(!d)return!1;let g=ct.innerParams.get(u);if(!g||Dr(d,g.hideClass.popup))return!1;Yn(d,g.showClass.popup),Ve(d,g.hideClass.popup);let E=ot();return Yn(E,g.showClass.backdrop),Ve(E,g.hideClass.backdrop),ML(u,d,g),!0};function f1(u){let d=Ea.swalPromiseReject.get(this);Cl(this),d&&d(u)}let Cl=u=>{u.isAwaitingPromise&&(delete u.isAwaitingPromise,ct.innerParams.get(u)||u._destroy())},EL=u=>typeof u>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},u),ML=(u,d,g)=>{var E;let S=ot(),W=KM(d);typeof g.willClose=="function"&&g.willClose(d),(E=s.eventEmitter)===null||E===void 0||E.emit("willClose",d),W&&S?IL(u,d,S,!!g.returnFocus,g.didClose):S&&d1(u,S,!!g.returnFocus,g.didClose)},IL=(u,d,g,E,S)=>{s.swalCloseEventFinishedCallback=d1.bind(null,u,g,E,S);let W=function(he){if(he.target===d){var Le;(Le=s.swalCloseEventFinishedCallback)===null||Le===void 0||Le.call(s),delete s.swalCloseEventFinishedCallback,d.removeEventListener("animationend",W),d.removeEventListener("transitionend",W)}};d.addEventListener("animationend",W),d.addEventListener("transitionend",W)},p1=(u,d)=>{setTimeout(()=>{var g;typeof d=="function"&&d.bind(u.params)(),(g=s.eventEmitter)===null||g===void 0||g.emit("didClose"),u._destroy&&u._destroy()})},Ia=u=>{let d=be();if(d||new uf,d=be(),!d)return;let g=Ge();Xd()?an(Hi()):PL(d,u),$t(g),d.setAttribute("data-loading","true"),d.setAttribute("aria-busy","true"),d.focus()},PL=(u,d)=>{let g=ao(),E=Ge();!g||!E||(!d&&In(Qe())&&(d=Qe()),$t(g),d&&(an(d),E.setAttribute("data-button-to-replace",d.className),g.insertBefore(E,d)),Ve([u,g],f.loading))},OL=(u,d)=>{d.input==="select"||d.input==="radio"?AL(u,d):["text","email","number","tel","textarea"].some(g=>g===d.input)&&(We(d.inputValue)||ht(d.inputValue))&&(Ia(Qe()),kL(u,d))},xL=(u,d)=>{let g=u.getInput();if(!g)return null;switch(d.input){case"checkbox":return SL(g);case"radio":return DL(g);case"file":return TL(g);default:return d.inputAutoTrim?g.value.trim():g.value}},SL=u=>u.checked?1:0,DL=u=>u.checked?u.value:null,TL=u=>u.files&&u.files.length?u.getAttribute("multiple")!==null?u.files:u.files[0]:null,AL=(u,d)=>{let g=be();if(!g)return;let E=S=>{d.input==="select"?RL(g,of(S),d):d.input==="radio"&&NL(g,of(S),d)};We(d.inputOptions)||ht(d.inputOptions)?(Ia(Qe()),tt(d.inputOptions).then(S=>{u.hideLoading(),E(S)})):typeof d.inputOptions=="object"?E(d.inputOptions):L(`Unexpected type of inputOptions! Expected object, Map or Promise, got ${typeof d.inputOptions}`)},kL=(u,d)=>{let g=u.getInput();g&&(an(g),tt(d.inputValue).then(E=>{g.value=d.input==="number"?`${parseFloat(E)||0}`:`${E}`,$t(g),g.focus(),u.hideLoading()}).catch(E=>{L(`Error in inputValue promise: ${E}`),g.value="",$t(g),g.focus(),u.hideLoading()}))};function RL(u,d,g){let E=lo(u,f.select);if(!E)return;let S=(W,he,Le)=>{let st=document.createElement("option");st.value=Le,Nn(st,he),st.selected=h1(Le,g.inputValue),W.appendChild(st)};d.forEach(W=>{let he=W[0],Le=W[1];if(Array.isArray(Le)){let st=document.createElement("optgroup");st.label=he,st.disabled=!1,E.appendChild(st),Le.forEach(Pa=>S(st,Pa[1],Pa[0]))}else S(E,Le,he)}),E.focus()}function NL(u,d,g){let E=lo(u,f.radio);if(!E)return;d.forEach(W=>{let he=W[0],Le=W[1],st=document.createElement("input"),Pa=document.createElement("label");st.type="radio",st.name=f.radio,st.value=he,h1(he,g.inputValue)&&(st.checked=!0);let N_=document.createElement("span");Nn(N_,Le),N_.className=f.label,Pa.appendChild(st),Pa.appendChild(N_),E.appendChild(Pa)});let S=E.querySelectorAll("input");S.length&&S[0].focus()}let of=u=>{let d=[];return u instanceof Map?u.forEach((g,E)=>{let S=g;typeof S=="object"&&(S=of(S)),d.push([E,S])}):Object.keys(u).forEach(g=>{let E=u[g];typeof E=="object"&&(E=of(E)),d.push([g,E])}),d},h1=(u,d)=>!!d&&d!==null&&d!==void 0&&d.toString()===u.toString(),LL=u=>{let d=ct.innerParams.get(u);u.disableButtons(),d.input?g1(u,"confirm"):A_(u,!0)},FL=u=>{let d=ct.innerParams.get(u);u.disableButtons(),d.returnInputValueOnDeny?g1(u,"deny"):T_(u,!1)},BL=(u,d)=>{u.disableButtons(),d(wa.cancel)},g1=(u,d)=>{let g=ct.innerParams.get(u);if(!g.input){L(`The "input" parameter is needed to be set when using returnInputValueOn${D(d)}`);return}let E=u.getInput(),S=xL(u,g);g.inputValidator?jL(u,S,d):E&&!E.checkValidity()?(u.enableButtons(),u.showValidationMessage(g.validationMessage||E.validationMessage)):d==="deny"?T_(u,S):A_(u,S)},jL=(u,d,g)=>{let E=ct.innerParams.get(u);u.disableInput(),Promise.resolve().then(()=>tt(E.inputValidator(d,E.validationMessage))).then(W=>{u.enableButtons(),u.enableInput(),W?u.showValidationMessage(W):g==="deny"?T_(u,d):A_(u,d)})},T_=(u,d)=>{let g=ct.innerParams.get(u);g.showLoaderOnDeny&&Ia(Pt()),g.preDeny?(u.isAwaitingPromise=!0,Promise.resolve().then(()=>tt(g.preDeny(d,g.validationMessage))).then(S=>{S===!1?(u.hideLoading(),Cl(u)):u.close({isDenied:!0,value:typeof S>"u"?d:S})}).catch(S=>_1(u,S))):u.close({isDenied:!0,value:d})},m1=(u,d)=>{u.close({isConfirmed:!0,value:d})},_1=(u,d)=>{u.rejectPromise(d)},A_=(u,d)=>{let g=ct.innerParams.get(u);g.showLoaderOnConfirm&&Ia(),g.preConfirm?(u.resetValidationMessage(),u.isAwaitingPromise=!0,Promise.resolve().then(()=>tt(g.preConfirm(d,g.validationMessage))).then(S=>{In(Ee())||S===!1?(u.hideLoading(),Cl(u)):m1(u,typeof S>"u"?d:S)}).catch(S=>_1(u,S))):m1(u,d)};function sf(){let u=ct.innerParams.get(this);if(!u)return;let d=ct.domCache.get(this);an(d.loader),Xd()?u.icon&&$t(Hi()):VL(d),Yn([d.popup,d.actions],f.loading),d.popup.removeAttribute("aria-busy"),d.popup.removeAttribute("data-loading"),d.confirmButton.disabled=!1,d.denyButton.disabled=!1,d.cancelButton.disabled=!1}let VL=u=>{let d=u.loader.getAttribute("data-button-to-replace"),g=d?u.popup.getElementsByClassName(d):[];g.length?$t(g[0],"inline-block"):pN()&&an(u.actions)};function v1(){let u=ct.innerParams.get(this),d=ct.domCache.get(this);return d?Jd(d.popup,u.input):null}function y1(u,d,g){let E=ct.domCache.get(u);d.forEach(S=>{E[S].disabled=g})}function b1(u,d){let g=be();if(!(!g||!u))if(u.type==="radio"){let E=g.querySelectorAll(`[name="${f.radio}"]`);for(let S=0;S<E.length;S++)E[S].disabled=d}else u.disabled=d}function C1(){y1(this,["confirmButton","denyButton","cancelButton"],!1)}function w1(){y1(this,["confirmButton","denyButton","cancelButton"],!0)}function E1(){b1(this.getInput(),!1)}function M1(){b1(this.getInput(),!0)}function I1(u){let d=ct.domCache.get(this),g=ct.innerParams.get(this);Nn(d.validationMessage,u),d.validationMessage.className=f["validation-message"],g.customClass&&g.customClass.validationMessage&&Ve(d.validationMessage,g.customClass.validationMessage),$t(d.validationMessage);let E=this.getInput();E&&(E.setAttribute("aria-invalid","true"),E.setAttribute("aria-describedby",f["validation-message"]),WM(E),Ve(E,f.inputerror))}function P1(){let u=ct.domCache.get(this);u.validationMessage&&an(u.validationMessage);let d=this.getInput();d&&(d.removeAttribute("aria-invalid"),d.removeAttribute("aria-describedby"),Yn(d,f.inputerror))}let fo={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,draggable:!1,animation:!0,theme:"light",showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0,topLayer:!1},UL=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","draggable","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","theme","willClose"],zL={allowEnterKey:void 0},$L=["allowOutsideClick","allowEnterKey","backdrop","draggable","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],O1=u=>Object.prototype.hasOwnProperty.call(fo,u),x1=u=>UL.indexOf(u)!==-1,S1=u=>zL[u],HL=u=>{O1(u)||T(`Unknown parameter "${u}"`)},WL=u=>{$L.includes(u)&&T(`The parameter "${u}" is incompatible with toasts`)},GL=u=>{let d=S1(u);d&&te(u,d)},D1=u=>{u.backdrop===!1&&u.allowOutsideClick&&T('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`'),u.theme&&!["light","dark","auto","minimal","borderless","bootstrap-4","bootstrap-4-light","bootstrap-4-dark","bootstrap-5","bootstrap-5-light","bootstrap-5-dark","material-ui","material-ui-light","material-ui-dark","embed-iframe","bulma","bulma-light","bulma-dark"].includes(u.theme)&&T(`Invalid theme "${u.theme}"`);for(let d in u)HL(d),u.toast&&WL(d),GL(d)};function T1(u){let d=ot(),g=be(),E=ct.innerParams.get(this);if(!g||Dr(g,E.hideClass.popup)){T("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");return}let S=qL(u),W=Object.assign({},E,S);D1(W),d&&(d.dataset.swal2Theme=W.theme),o1(this,W),ct.innerParams.set(this,W),Object.defineProperties(this,{params:{value:Object.assign({},this.params,u),writable:!1,enumerable:!0}})}let qL=u=>{let d={};return Object.keys(u).forEach(g=>{if(x1(g)){let E=u;d[g]=E[g]}else T(`Invalid parameter to update: ${g}`)}),d};function A1(){var u;let d=ct.domCache.get(this),g=ct.innerParams.get(this);if(!g){k1(this);return}d.popup&&s.swalCloseEventFinishedCallback&&(s.swalCloseEventFinishedCallback(),delete s.swalCloseEventFinishedCallback),typeof g.didDestroy=="function"&&g.didDestroy(),(u=s.eventEmitter)===null||u===void 0||u.emit("didDestroy"),KL(this)}let KL=u=>{k1(u),delete u.params,delete s.keydownHandler,delete s.keydownTarget,delete s.currentInstance},k1=u=>{u.isAwaitingPromise?(k_(ct,u),u.isAwaitingPromise=!0):(k_(Ea,u),k_(ct,u),delete u.isAwaitingPromise,delete u.disableButtons,delete u.enableButtons,delete u.getInput,delete u.disableInput,delete u.enableInput,delete u.hideLoading,delete u.disableLoading,delete u.showValidationMessage,delete u.resetValidationMessage,delete u.close,delete u.closePopup,delete u.closeModal,delete u.closeToast,delete u.rejectPromise,delete u.update,delete u._destroy)},k_=(u,d)=>{for(let g in u)u[g].delete(d)};var YL=Object.freeze({__proto__:null,_destroy:A1,close:uo,closeModal:uo,closePopup:uo,closeToast:uo,disableButtons:w1,disableInput:M1,disableLoading:sf,enableButtons:C1,enableInput:E1,getInput:v1,handleAwaitingPromise:Cl,hideLoading:sf,rejectPromise:f1,resetValidationMessage:P1,showValidationMessage:I1,update:T1});let QL=(u,d,g)=>{u.toast?ZL(u,d,g):(JL(d),eF(d),tF(u,d,g))},ZL=(u,d,g)=>{d.popup.onclick=()=>{u&&(XL(u)||u.timer||u.input)||g(wa.close)}},XL=u=>!!(u.showConfirmButton||u.showDenyButton||u.showCancelButton||u.showCloseButton),af=!1,JL=u=>{u.popup.onmousedown=()=>{u.container.onmouseup=function(d){u.container.onmouseup=()=>{},d.target===u.container&&(af=!0)}}},eF=u=>{u.container.onmousedown=d=>{d.target===u.container&&d.preventDefault(),u.popup.onmouseup=function(g){u.popup.onmouseup=()=>{},(g.target===u.popup||g.target instanceof HTMLElement&&u.popup.contains(g.target))&&(af=!0)}}},tF=(u,d,g)=>{d.container.onclick=E=>{if(af){af=!1;return}E.target===d.container&&rt(u.allowOutsideClick)&&g(wa.backdrop)}},nF=u=>typeof u=="object"&&u.jquery,R1=u=>u instanceof Element||nF(u),iF=u=>{let d={};return typeof u[0]=="object"&&!R1(u[0])?Object.assign(d,u[0]):["title","html","icon"].forEach((g,E)=>{let S=u[E];typeof S=="string"||R1(S)?d[g]=S:S!==void 0&&L(`Unexpected type of ${g}! Expected "string" or "Element", got ${typeof S}`)}),d};function rF(...u){return new this(...u)}function oF(u){class d extends this{_main(E,S){return super._main(E,Object.assign({},u,S))}}return d}let sF=()=>s.timeout&&s.timeout.getTimerLeft(),N1=()=>{if(s.timeout)return gN(),s.timeout.stop()},L1=()=>{if(s.timeout){let u=s.timeout.start();return M_(u),u}},aF=()=>{let u=s.timeout;return u&&(u.running?N1():L1())},cF=u=>{if(s.timeout){let d=s.timeout.increase(u);return M_(d,!0),d}},lF=()=>!!(s.timeout&&s.timeout.isRunning()),F1=!1,R_={};function uF(u="data-swal-template"){R_[u]=this,F1||(document.body.addEventListener("click",dF),F1=!0)}let dF=u=>{for(let d=u.target;d&&d!==document;d=d.parentNode)for(let g in R_){let E=d.getAttribute&&d.getAttribute(g);if(E){R_[g].fire({template:E});return}}};class fF{constructor(){this.events={}}_getHandlersByEventName(d){return typeof this.events[d]>"u"&&(this.events[d]=[]),this.events[d]}on(d,g){let E=this._getHandlersByEventName(d);E.includes(g)||E.push(g)}once(d,g){let E=(...S)=>{this.removeListener(d,E),g.apply(this,S)};this.on(d,E)}emit(d,...g){this._getHandlersByEventName(d).forEach(E=>{try{E.apply(this,g)}catch(S){console.error(S)}})}removeListener(d,g){let E=this._getHandlersByEventName(d),S=E.indexOf(g);S>-1&&E.splice(S,1)}removeAllListeners(d){this.events[d]!==void 0&&(this.events[d].length=0)}reset(){this.events={}}}s.eventEmitter=new fF;var pF=Object.freeze({__proto__:null,argsToParams:iF,bindClickHandler:uF,clickCancel:iL,clickConfirm:s1,clickDeny:nL,enableLoading:Ia,fire:rF,getActions:ao,getCancelButton:Kt,getCloseButton:gi,getConfirmButton:Qe,getContainer:ot,getDenyButton:Pt,getFocusableElements:co,getFooter:Zd,getHtmlContainer:Q,getIcon:Hi,getIconContent:Qd,getImage:ne,getInputLabel:Wi,getLoader:Ge,getPopup:be,getProgressSteps:re,getTimerLeft:sF,getTimerProgressBar:Ot,getTitle:vl,getValidationMessage:Ee,increaseTimer:cF,isDeprecatedParameter:S1,isLoading:dN,isTimerRunning:lF,isUpdatableParameter:x1,isValidParameter:O1,isVisible:tL,mixin:oF,off:(u,d)=>{if(s.eventEmitter){if(!u){s.eventEmitter.reset();return}d?s.eventEmitter.removeListener(u,d):s.eventEmitter.removeAllListeners(u)}},on:(u,d)=>{s.eventEmitter&&s.eventEmitter.on(u,d)},once:(u,d)=>{s.eventEmitter&&s.eventEmitter.once(u,d)},resumeTimer:L1,showLoading:Ia,stopTimer:N1,toggleTimer:aF});class hF{constructor(d,g){this.callback=d,this.remaining=g,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.started&&this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date().getTime()-this.started.getTime()),this.remaining}increase(d){let g=this.running;return g&&this.stop(),this.remaining+=d,g&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}let B1=["swal-title","swal-html","swal-footer"],gF=u=>{let d=typeof u.template=="string"?document.querySelector(u.template):u.template;if(!d)return{};let g=d.content;return EF(g),Object.assign(mF(g),_F(g),vF(g),yF(g),bF(g),CF(g),wF(g,B1))},mF=u=>{let d={};return Array.from(u.querySelectorAll("swal-param")).forEach(E=>{gs(E,["name","value"]);let S=E.getAttribute("name"),W=E.getAttribute("value");!S||!W||(S in fo&&typeof fo[S]=="boolean"?d[S]=W!=="false":S in fo&&typeof fo[S]=="object"?d[S]=JSON.parse(W):d[S]=W)}),d},_F=u=>{let d={};return Array.from(u.querySelectorAll("swal-function-param")).forEach(E=>{let S=E.getAttribute("name"),W=E.getAttribute("value");!S||!W||(d[S]=new Function(`return ${W}`)())}),d},vF=u=>{let d={};return Array.from(u.querySelectorAll("swal-button")).forEach(E=>{gs(E,["type","color","aria-label"]);let S=E.getAttribute("type");if(!(!S||!["confirm","cancel","deny"].includes(S))){if(d[`${S}ButtonText`]=E.innerHTML,d[`show${D(S)}Button`]=!0,E.hasAttribute("color")){let W=E.getAttribute("color");W!==null&&(d[`${S}ButtonColor`]=W)}if(E.hasAttribute("aria-label")){let W=E.getAttribute("aria-label");W!==null&&(d[`${S}ButtonAriaLabel`]=W)}}}),d},yF=u=>{let d={},g=u.querySelector("swal-image");return g&&(gs(g,["src","width","height","alt"]),g.hasAttribute("src")&&(d.imageUrl=g.getAttribute("src")||void 0),g.hasAttribute("width")&&(d.imageWidth=g.getAttribute("width")||void 0),g.hasAttribute("height")&&(d.imageHeight=g.getAttribute("height")||void 0),g.hasAttribute("alt")&&(d.imageAlt=g.getAttribute("alt")||void 0)),d},bF=u=>{let d={},g=u.querySelector("swal-icon");return g&&(gs(g,["type","color"]),g.hasAttribute("type")&&(d.icon=g.getAttribute("type")),g.hasAttribute("color")&&(d.iconColor=g.getAttribute("color")),d.iconHtml=g.innerHTML),d},CF=u=>{let d={},g=u.querySelector("swal-input");g&&(gs(g,["type","label","placeholder","value"]),d.input=g.getAttribute("type")||"text",g.hasAttribute("label")&&(d.inputLabel=g.getAttribute("label")),g.hasAttribute("placeholder")&&(d.inputPlaceholder=g.getAttribute("placeholder")),g.hasAttribute("value")&&(d.inputValue=g.getAttribute("value")));let E=Array.from(u.querySelectorAll("swal-input-option"));return E.length&&(d.inputOptions={},E.forEach(S=>{gs(S,["value"]);let W=S.getAttribute("value");if(!W)return;let he=S.innerHTML;d.inputOptions[W]=he})),d},wF=(u,d)=>{let g={};for(let E in d){let S=d[E],W=u.querySelector(S);W&&(gs(W,[]),g[S.replace(/^swal-/,"")]=W.innerHTML.trim())}return g},EF=u=>{let d=B1.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(u.children).forEach(g=>{let E=g.tagName.toLowerCase();d.includes(E)||T(`Unrecognized element <${E}>`)})},gs=(u,d)=>{Array.from(u.attributes).forEach(g=>{d.indexOf(g.name)===-1&&T([`Unrecognized attribute "${g.name}" on <${u.tagName.toLowerCase()}>.`,`${d.length?`Allowed attributes are: ${d.join(", ")}`:"To set the value, use HTML within the element."}`])})},j1=10,MF=u=>{var d,g;let E=ot(),S=be();if(!E||!S)return;typeof u.willOpen=="function"&&u.willOpen(S),(d=s.eventEmitter)===null||d===void 0||d.emit("willOpen",S);let he=window.getComputedStyle(document.body).overflowY;if(OF(E,S,u),setTimeout(()=>{IF(E,S)},j1),fs()&&(PF(E,u.scrollbarPadding!==void 0?u.scrollbarPadding:!1,he),dL()),!Xd()&&!s.previousActiveElement&&(s.previousActiveElement=document.activeElement),typeof u.didOpen=="function"){let Le=u.didOpen;setTimeout(()=>Le(S))}(g=s.eventEmitter)===null||g===void 0||g.emit("didOpen",S)},cf=u=>{let d=be();if(!d||u.target!==d)return;let g=ot();g&&(d.removeEventListener("animationend",cf),d.removeEventListener("transitionend",cf),g.style.overflowY="auto",Yn(g,f["no-transition"]))},IF=(u,d)=>{KM(d)?(u.style.overflowY="hidden",d.addEventListener("animationend",cf),d.addEventListener("transitionend",cf)):u.style.overflowY="auto"},PF=(u,d,g)=>{fL(),d&&g!=="hidden"&&yL(g),setTimeout(()=>{u.scrollTop=0})},OF=(u,d,g)=>{var E;(E=g.showClass)!==null&&E!==void 0&&E.backdrop&&Ve(u,g.showClass.backdrop),g.animation?(d.style.setProperty("opacity","0","important"),$t(d,"grid"),setTimeout(()=>{var S;(S=g.showClass)!==null&&S!==void 0&&S.popup&&Ve(d,g.showClass.popup),d.style.removeProperty("opacity")},j1)):$t(d,"grid"),Ve([document.documentElement,document.body],f.shown),g.heightAuto&&g.backdrop&&!g.toast&&Ve([document.documentElement,document.body],f["height-auto"])};var V1={email:(u,d)=>/^[a-zA-Z0-9.+_'-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]+$/.test(u)?Promise.resolve():Promise.resolve(d||"Invalid email address"),url:(u,d)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(u)?Promise.resolve():Promise.resolve(d||"Invalid URL")};function xF(u){u.inputValidator||(u.input==="email"&&(u.inputValidator=V1.email),u.input==="url"&&(u.inputValidator=V1.url))}function SF(u){(!u.target||typeof u.target=="string"&&!document.querySelector(u.target)||typeof u.target!="string"&&!u.target.appendChild)&&(T('Target parameter is not valid, defaulting to "body"'),u.target="body")}function DF(u){xF(u),u.showLoaderOnConfirm&&!u.preConfirm&&T(`showLoaderOnConfirm is set to true, but preConfirm is not defined.
showLoaderOnConfirm should be used together with preConfirm, see usage example:
https://sweetalert2.github.io/#ajax-request`),SF(u),typeof u.title=="string"&&(u.title=u.title.split(`
`).join("<br />")),EN(u)}let Gi;var lf=new WeakMap;class St{constructor(...d){if(i(this,lf,Promise.resolve({isConfirmed:!1,isDenied:!1,isDismissed:!0})),typeof window>"u")return;Gi=this;let g=Object.freeze(this.constructor.argsToParams(d));this.params=g,this.isAwaitingPromise=!1,r(lf,this,this._main(Gi.params))}_main(d,g={}){if(D1(Object.assign({},g,d)),s.currentInstance){let W=Ea.swalPromiseResolve.get(s.currentInstance),{isAwaitingPromise:he}=s.currentInstance;s.currentInstance._destroy(),he||W({isDismissed:!0}),fs()&&l1()}s.currentInstance=Gi;let E=AF(d,g);DF(E),Object.freeze(E),s.timeout&&(s.timeout.stop(),delete s.timeout),clearTimeout(s.restoreFocusTimeout);let S=kF(Gi);return o1(Gi,E),ct.innerParams.set(Gi,E),TF(Gi,S,E)}then(d){return t(lf,this).then(d)}finally(d){return t(lf,this).finally(d)}}let TF=(u,d,g)=>new Promise((E,S)=>{let W=he=>{u.close({isDismissed:!0,dismiss:he,isConfirmed:!1,isDenied:!1})};Ea.swalPromiseResolve.set(u,E),Ea.swalPromiseReject.set(u,S),d.confirmButton.onclick=()=>{LL(u)},d.denyButton.onclick=()=>{FL(u)},d.cancelButton.onclick=()=>{BL(u,W)},d.closeButton.onclick=()=>{W(wa.close)},QL(g,d,W),rL(s,g,W),OL(u,g),MF(g),RF(s,g,W),NF(d,g),setTimeout(()=>{d.container.scrollTop=0})}),AF=(u,d)=>{let g=gF(u),E=Object.assign({},fo,d,g,u);return E.showClass=Object.assign({},fo.showClass,E.showClass),E.hideClass=Object.assign({},fo.hideClass,E.hideClass),E.animation===!1&&(E.showClass={backdrop:"swal2-noanimation"},E.hideClass={}),E},kF=u=>{let d={popup:be(),container:ot(),actions:ao(),confirmButton:Qe(),denyButton:Pt(),cancelButton:Kt(),loader:Ge(),closeButton:gi(),validationMessage:Ee(),progressSteps:re()};return ct.domCache.set(u,d),d},RF=(u,d,g)=>{let E=Ot();an(E),d.timer&&(u.timeout=new hF(()=>{g("timer"),delete u.timeout},d.timer),d.timerProgressBar&&E&&($t(E),Ln(E,d,"timerProgressBar"),setTimeout(()=>{u.timeout&&u.timeout.running&&M_(d.timer)})))},NF=(u,d)=>{if(!d.toast){if(!rt(d.allowEnterKey)){te("allowEnterKey"),BF();return}LF(u)||FF(u,d)||D_(-1,1)}},LF=u=>{let d=Array.from(u.popup.querySelectorAll("[autofocus]"));for(let g of d)if(g instanceof HTMLElement&&In(g))return g.focus(),!0;return!1},FF=(u,d)=>d.focusDeny&&In(u.denyButton)?(u.denyButton.focus(),!0):d.focusCancel&&In(u.cancelButton)?(u.cancelButton.focus(),!0):d.focusConfirm&&In(u.confirmButton)?(u.confirmButton.focus(),!0):!1,BF=()=>{document.activeElement instanceof HTMLElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur()};St.prototype.disableButtons=w1,St.prototype.enableButtons=C1,St.prototype.getInput=v1,St.prototype.disableInput=M1,St.prototype.enableInput=E1,St.prototype.hideLoading=sf,St.prototype.disableLoading=sf,St.prototype.showValidationMessage=I1,St.prototype.resetValidationMessage=P1,St.prototype.close=uo,St.prototype.closePopup=uo,St.prototype.closeModal=uo,St.prototype.closeToast=uo,St.prototype.rejectPromise=f1,St.prototype.update=T1,St.prototype._destroy=A1,Object.assign(St,pF),Object.keys(YL).forEach(u=>{St[u]=function(...d){if(Gi&&Gi[u])return Gi[u](...d)}}),St.DismissReason=wa,St.version="11.26.17";let uf=St;return uf.default=uf,uf});typeof Sr<"u"&&Sr.Sweetalert2&&(Sr.swal=Sr.sweetAlert=Sr.Swal=Sr.SweetAlert=Sr.Sweetalert2);typeof document<"u"&&(function(n,e){var t=n.createElement("style");if(n.getElementsByTagName("head")[0].appendChild(t),t.styleSheet)t.styleSheet.disabled||(t.styleSheet.cssText=e);else try{t.innerHTML=e}catch{t.innerText=e}})(document,':root{--swal2-outline: 0 0 0 3px rgba(100, 150, 200, 0.5);--swal2-container-padding: 0.625em;--swal2-backdrop: rgba(0, 0, 0, 0.4);--swal2-backdrop-transition: background-color 0.15s;--swal2-width: 32em;--swal2-padding: 0 0 1.25em;--swal2-border: none;--swal2-border-radius: 0.3125rem;--swal2-background: white;--swal2-color: #545454;--swal2-show-animation: swal2-show 0.3s;--swal2-hide-animation: swal2-hide 0.15s forwards;--swal2-icon-zoom: 1;--swal2-icon-animations: true;--swal2-title-padding: 0.8em 1em 0;--swal2-html-container-padding: 1em 1.6em 0.3em;--swal2-input-border: 1px solid #d9d9d9;--swal2-input-border-radius: 0.1875em;--swal2-input-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px transparent;--swal2-input-background: transparent;--swal2-input-transition: border-color 0.2s, box-shadow 0.2s;--swal2-input-hover-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px transparent;--swal2-input-focus-border: 1px solid #b4dbed;--swal2-input-focus-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px rgba(100, 150, 200, 0.5);--swal2-progress-step-background: #add8e6;--swal2-validation-message-background: #f0f0f0;--swal2-validation-message-color: #666;--swal2-footer-border-color: #eee;--swal2-footer-background: transparent;--swal2-footer-color: inherit;--swal2-timer-progress-bar-background: rgba(0, 0, 0, 0.3);--swal2-close-button-position: initial;--swal2-close-button-inset: auto;--swal2-close-button-font-size: 2.5em;--swal2-close-button-color: #ccc;--swal2-close-button-transition: color 0.2s, box-shadow 0.2s;--swal2-close-button-outline: initial;--swal2-close-button-box-shadow: inset 0 0 0 3px transparent;--swal2-close-button-focus-box-shadow: inset var(--swal2-outline);--swal2-close-button-hover-transform: none;--swal2-actions-justify-content: center;--swal2-actions-width: auto;--swal2-actions-margin: 1.25em auto 0;--swal2-actions-padding: 0;--swal2-actions-border-radius: 0;--swal2-actions-background: transparent;--swal2-action-button-transition: background-color 0.2s, box-shadow 0.2s;--swal2-action-button-hover: black 10%;--swal2-action-button-active: black 10%;--swal2-confirm-button-box-shadow: none;--swal2-confirm-button-border-radius: 0.25em;--swal2-confirm-button-background-color: #7066e0;--swal2-confirm-button-color: #fff;--swal2-deny-button-box-shadow: none;--swal2-deny-button-border-radius: 0.25em;--swal2-deny-button-background-color: #dc3741;--swal2-deny-button-color: #fff;--swal2-cancel-button-box-shadow: none;--swal2-cancel-button-border-radius: 0.25em;--swal2-cancel-button-background-color: #6e7881;--swal2-cancel-button-color: #fff;--swal2-toast-show-animation: swal2-toast-show 0.5s;--swal2-toast-hide-animation: swal2-toast-hide 0.1s forwards;--swal2-toast-border: none;--swal2-toast-box-shadow: 0 0 1px hsl(0deg 0% 0% / 0.075), 0 1px 2px hsl(0deg 0% 0% / 0.075), 1px 2px 4px hsl(0deg 0% 0% / 0.075), 1px 3px 8px hsl(0deg 0% 0% / 0.075), 2px 4px 16px hsl(0deg 0% 0% / 0.075)}[data-swal2-theme=dark]{--swal2-dark-theme-black: #19191a;--swal2-dark-theme-white: #e1e1e1;--swal2-background: var(--swal2-dark-theme-black);--swal2-color: var(--swal2-dark-theme-white);--swal2-footer-border-color: #555;--swal2-input-background: color-mix(in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10%);--swal2-validation-message-background: color-mix( in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10% );--swal2-validation-message-color: var(--swal2-dark-theme-white);--swal2-timer-progress-bar-background: rgba(255, 255, 255, 0.7)}@media(prefers-color-scheme: dark){[data-swal2-theme=auto]{--swal2-dark-theme-black: #19191a;--swal2-dark-theme-white: #e1e1e1;--swal2-background: var(--swal2-dark-theme-black);--swal2-color: var(--swal2-dark-theme-white);--swal2-footer-border-color: #555;--swal2-input-background: color-mix(in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10%);--swal2-validation-message-background: color-mix( in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10% );--swal2-validation-message-color: var(--swal2-dark-theme-white);--swal2-timer-progress-bar-background: rgba(255, 255, 255, 0.7)}}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px var(--swal2-backdrop)}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}@media print{body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown) .swal2-container{position:static !important}}div:where(.swal2-container){display:grid;position:fixed;z-index:1060;inset:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:var(--swal2-container-padding);overflow-x:hidden;transition:var(--swal2-backdrop-transition);-webkit-overflow-scrolling:touch}div:where(.swal2-container).swal2-backdrop-show,div:where(.swal2-container).swal2-noanimation{background:var(--swal2-backdrop)}div:where(.swal2-container).swal2-backdrop-hide{background:rgba(0,0,0,0) !important}div:where(.swal2-container).swal2-top-start,div:where(.swal2-container).swal2-center-start,div:where(.swal2-container).swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}div:where(.swal2-container).swal2-top,div:where(.swal2-container).swal2-center,div:where(.swal2-container).swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}div:where(.swal2-container).swal2-top-end,div:where(.swal2-container).swal2-center-end,div:where(.swal2-container).swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}div:where(.swal2-container).swal2-top-start>.swal2-popup{align-self:start}div:where(.swal2-container).swal2-top>.swal2-popup{grid-column:2;place-self:start center}div:where(.swal2-container).swal2-top-end>.swal2-popup,div:where(.swal2-container).swal2-top-right>.swal2-popup{grid-column:3;place-self:start end}div:where(.swal2-container).swal2-center-start>.swal2-popup,div:where(.swal2-container).swal2-center-left>.swal2-popup{grid-row:2;align-self:center}div:where(.swal2-container).swal2-center>.swal2-popup{grid-column:2;grid-row:2;place-self:center center}div:where(.swal2-container).swal2-center-end>.swal2-popup,div:where(.swal2-container).swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;place-self:center end}div:where(.swal2-container).swal2-bottom-start>.swal2-popup,div:where(.swal2-container).swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}div:where(.swal2-container).swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;place-self:end center}div:where(.swal2-container).swal2-bottom-end>.swal2-popup,div:where(.swal2-container).swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;place-self:end end}div:where(.swal2-container).swal2-grow-row>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}div:where(.swal2-container).swal2-grow-column>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}div:where(.swal2-container).swal2-no-transition{transition:none !important}div:where(.swal2-container)[popover]{width:auto;border:0}div:where(.swal2-container) div:where(.swal2-popup){display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:var(--swal2-width);max-width:100%;padding:var(--swal2-padding);border:var(--swal2-border);border-radius:var(--swal2-border-radius);background:var(--swal2-background);color:var(--swal2-color);font-family:inherit;font-size:1rem;container-name:swal2-popup}div:where(.swal2-container) div:where(.swal2-popup):focus{outline:none}div:where(.swal2-container) div:where(.swal2-popup).swal2-loading{overflow-y:hidden}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable{cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable div:where(.swal2-icon){cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging{cursor:grabbing}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging div:where(.swal2-icon){cursor:grabbing}div:where(.swal2-container) h2:where(.swal2-title){position:relative;max-width:100%;margin:0;padding:var(--swal2-title-padding);color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;overflow-wrap:break-word;cursor:initial}div:where(.swal2-container) div:where(.swal2-actions){display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:var(--swal2-actions-justify-content);width:var(--swal2-actions-width);margin:var(--swal2-actions-margin);padding:var(--swal2-actions-padding);border-radius:var(--swal2-actions-border-radius);background:var(--swal2-actions-background)}div:where(.swal2-container) div:where(.swal2-loader){display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}div:where(.swal2-container) button:where(.swal2-styled){margin:.3125em;padding:.625em 1.1em;transition:var(--swal2-action-button-transition);border:none;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}div:where(.swal2-container) button:where(.swal2-styled):not([disabled]){cursor:pointer}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm){border-radius:var(--swal2-confirm-button-border-radius);background:initial;background-color:var(--swal2-confirm-button-background-color);box-shadow:var(--swal2-confirm-button-box-shadow);color:var(--swal2-confirm-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):hover{background-color:color-mix(in srgb, var(--swal2-confirm-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):active{background-color:color-mix(in srgb, var(--swal2-confirm-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny){border-radius:var(--swal2-deny-button-border-radius);background:initial;background-color:var(--swal2-deny-button-background-color);box-shadow:var(--swal2-deny-button-box-shadow);color:var(--swal2-deny-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):hover{background-color:color-mix(in srgb, var(--swal2-deny-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):active{background-color:color-mix(in srgb, var(--swal2-deny-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel){border-radius:var(--swal2-cancel-button-border-radius);background:initial;background-color:var(--swal2-cancel-button-background-color);box-shadow:var(--swal2-cancel-button-box-shadow);color:var(--swal2-cancel-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):hover{background-color:color-mix(in srgb, var(--swal2-cancel-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):active{background-color:color-mix(in srgb, var(--swal2-cancel-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):focus-visible{outline:none;box-shadow:var(--swal2-action-button-focus-box-shadow)}div:where(.swal2-container) button:where(.swal2-styled)[disabled]:not(.swal2-loading){opacity:.4}div:where(.swal2-container) button:where(.swal2-styled)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-footer){margin:1em 0 0;padding:1em 1em 0;border-top:1px solid var(--swal2-footer-border-color);background:var(--swal2-footer-background);color:var(--swal2-footer-color);font-size:1em;text-align:center;cursor:initial}div:where(.swal2-container) .swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:var(--swal2-border-radius);border-bottom-left-radius:var(--swal2-border-radius)}div:where(.swal2-container) div:where(.swal2-timer-progress-bar){width:100%;height:.25em;background:var(--swal2-timer-progress-bar-background)}div:where(.swal2-container) img:where(.swal2-image){max-width:100%;margin:2em auto 1em;cursor:initial}div:where(.swal2-container) button:where(.swal2-close){position:var(--swal2-close-button-position);inset:var(--swal2-close-button-inset);z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:var(--swal2-close-button-transition);border:none;border-radius:var(--swal2-border-radius);outline:var(--swal2-close-button-outline);background:rgba(0,0,0,0);color:var(--swal2-close-button-color);font-family:monospace;font-size:var(--swal2-close-button-font-size);cursor:pointer;justify-self:end}div:where(.swal2-container) button:where(.swal2-close):hover{transform:var(--swal2-close-button-hover-transform);background:rgba(0,0,0,0);color:#f27474}div:where(.swal2-container) button:where(.swal2-close):focus-visible{outline:none;box-shadow:var(--swal2-close-button-focus-box-shadow)}div:where(.swal2-container) button:where(.swal2-close)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-html-container){z-index:1;justify-content:center;margin:0;padding:var(--swal2-html-container-padding);overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;overflow-wrap:break-word;word-break:break-word;cursor:initial}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea),div:where(.swal2-container) select:where(.swal2-select),div:where(.swal2-container) div:where(.swal2-radio),div:where(.swal2-container) label:where(.swal2-checkbox){margin:1em 2em 3px}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea){box-sizing:border-box;width:auto;transition:var(--swal2-input-transition);border:var(--swal2-input-border);border-radius:var(--swal2-input-border-radius);background:var(--swal2-input-background);box-shadow:var(--swal2-input-box-shadow);color:inherit;font-size:1.125em}div:where(.swal2-container) input:where(.swal2-input).swal2-inputerror,div:where(.swal2-container) input:where(.swal2-file).swal2-inputerror,div:where(.swal2-container) textarea:where(.swal2-textarea).swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}div:where(.swal2-container) input:where(.swal2-input):hover,div:where(.swal2-container) input:where(.swal2-file):hover,div:where(.swal2-container) textarea:where(.swal2-textarea):hover{box-shadow:var(--swal2-input-hover-box-shadow)}div:where(.swal2-container) input:where(.swal2-input):focus,div:where(.swal2-container) input:where(.swal2-file):focus,div:where(.swal2-container) textarea:where(.swal2-textarea):focus{border:var(--swal2-input-focus-border);outline:none;box-shadow:var(--swal2-input-focus-box-shadow)}div:where(.swal2-container) input:where(.swal2-input)::placeholder,div:where(.swal2-container) input:where(.swal2-file)::placeholder,div:where(.swal2-container) textarea:where(.swal2-textarea)::placeholder{color:#ccc}div:where(.swal2-container) .swal2-range{margin:1em 2em 3px;background:var(--swal2-background)}div:where(.swal2-container) .swal2-range input{width:80%}div:where(.swal2-container) .swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}div:where(.swal2-container) .swal2-range input,div:where(.swal2-container) .swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}div:where(.swal2-container) .swal2-input{height:2.625em;padding:0 .75em}div:where(.swal2-container) .swal2-file{width:75%;margin-right:auto;margin-left:auto;background:var(--swal2-input-background);font-size:1.125em}div:where(.swal2-container) .swal2-textarea{height:6.75em;padding:.75em}div:where(.swal2-container) .swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:var(--swal2-input-background);color:inherit;font-size:1.125em}div:where(.swal2-container) .swal2-radio,div:where(.swal2-container) .swal2-checkbox{align-items:center;justify-content:center;background:var(--swal2-background);color:inherit}div:where(.swal2-container) .swal2-radio label,div:where(.swal2-container) .swal2-checkbox label{margin:0 .6em;font-size:1.125em}div:where(.swal2-container) .swal2-radio input,div:where(.swal2-container) .swal2-checkbox input{flex-shrink:0;margin:0 .4em}div:where(.swal2-container) label:where(.swal2-input-label){display:flex;justify-content:center;margin:1em auto 0}div:where(.swal2-container) div:where(.swal2-validation-message){align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:var(--swal2-validation-message-background);color:var(--swal2-validation-message-color);font-size:1em;font-weight:300}div:where(.swal2-container) div:where(.swal2-validation-message)::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}div:where(.swal2-container) .swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}div:where(.swal2-container) .swal2-progress-steps li{display:inline-block;position:relative}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:var(--swal2-progress-step-background);color:#fff}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:var(--swal2-progress-step-background)}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}div:where(.swal2-icon){position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;zoom:var(--swal2-icon-zoom);border:.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}div:where(.swal2-icon) .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}div:where(.swal2-icon).swal2-error{border-color:#f27474;color:#f27474}div:where(.swal2-icon).swal2-error .swal2-x-mark{position:relative;flex-grow:1}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}}div:where(.swal2-icon).swal2-warning{border-color:#f8bb86;color:#f8bb86}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}}div:where(.swal2-icon).swal2-info{border-color:#3fc3ee;color:#3fc3ee}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}}div:where(.swal2-icon).swal2-question{border-color:#87adbd;color:#87adbd}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}}div:where(.swal2-icon).swal2-success{border-color:#a5dc86;color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;border-radius:50%}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}div:where(.swal2-icon).swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}div:where(.swal2-icon).swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:var(--swal2-show-animation)}.swal2-hide{animation:var(--swal2-hide-animation)}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;border:var(--swal2-toast-border);background:var(--swal2-background);box-shadow:var(--swal2-toast-box-shadow);pointer-events:all}.swal2-toast>*{grid-column:2}.swal2-toast h2:where(.swal2-title){margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-toast .swal2-loading{justify-content:center}.swal2-toast input:where(.swal2-input){height:2em;margin:.5em;font-size:1em}.swal2-toast .swal2-validation-message{font-size:1em}.swal2-toast div:where(.swal2-footer){margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-toast button:where(.swal2-close){grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-toast div:where(.swal2-html-container){margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-toast div:where(.swal2-html-container):empty{padding:0}.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-toast div:where(.swal2-actions){justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-toast button:where(.swal2-styled){margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;border-radius:50%}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}@container swal2-popup style(--swal2-icon-animations:true){.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}}.swal2-toast.swal2-show{animation:var(--swal2-toast-show-animation)}.swal2-toast.swal2-hide{animation:var(--swal2-toast-hide-animation)}@keyframes swal2-show{0%{transform:translate3d(0, -50px, 0) scale(0.9);opacity:0}100%{transform:translate3d(0, 0, 0) scale(1);opacity:1}}@keyframes swal2-hide{0%{transform:translate3d(0, 0, 0) scale(1);opacity:1}100%{transform:translate3d(0, -50px, 0) scale(0.9);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}')});var j_;function ff(){return j_}function qi(n){let e=j_;return j_=n,e}var H1=Symbol("NotFound");function Oa(n){return n===H1||n?.name==="\u0275NotFound"}var cn=null,pf=!1,V_=1,qF=null,hn=Symbol("SIGNAL");function ue(n){let e=cn;return cn=n,e}function _f(){return cn}var xa={version:0,lastCleanEpoch:0,dirty:!1,producers:void 0,producersTail:void 0,consumers:void 0,consumersTail:void 0,recomputing:!1,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Sa(n){if(pf)throw new Error("");if(cn===null)return;cn.consumerOnSignalRead(n);let e=cn.producersTail;if(e!==void 0&&e.producer===n)return;let t,i=cn.recomputing;if(i&&(t=e!==void 0?e.nextProducer:cn.producers,t!==void 0&&t.producer===n)){cn.producersTail=t,t.lastReadVersion=n.version;return}let r=n.consumersTail;if(r!==void 0&&r.consumer===cn&&(!i||YF(r,cn)))return;let o=Ta(cn),s={producer:n,consumer:cn,nextProducer:t,prevConsumer:r,lastReadVersion:n.version,nextConsumer:void 0};cn.producersTail=s,e!==void 0?e.nextProducer=s:cn.producers=s,o&&K1(n,s)}function W1(){V_++}function vf(n){if(!(Ta(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===V_)){if(!n.producerMustRecompute(n)&&!Ml(n)){mf(n);return}n.producerRecomputeValue(n),mf(n)}}function U_(n){if(n.consumers===void 0)return;let e=pf;pf=!0;try{for(let t=n.consumers;t!==void 0;t=t.nextConsumer){let i=t.consumer;i.dirty||KF(i)}}finally{pf=e}}function z_(){return cn?.consumerAllowSignalWrites!==!1}function KF(n){n.dirty=!0,U_(n),n.consumerMarkedDirty?.(n)}function mf(n){n.dirty=!1,n.lastCleanEpoch=V_}function Da(n){return n&&G1(n),ue(n)}function G1(n){n.producersTail=void 0,n.recomputing=!0}function El(n,e){ue(e),n&&q1(n)}function q1(n){n.recomputing=!1;let e=n.producersTail,t=e!==void 0?e.nextProducer:n.producers;if(t!==void 0){if(Ta(n))do t=$_(t);while(t!==void 0);e!==void 0?e.nextProducer=void 0:n.producers=void 0}}function Ml(n){for(let e=n.producers;e!==void 0;e=e.nextProducer){let t=e.producer,i=e.lastReadVersion;if(i!==t.version||(vf(t),i!==t.version))return!0}return!1}function Il(n){if(Ta(n)){let e=n.producers;for(;e!==void 0;)e=$_(e)}n.producers=void 0,n.producersTail=void 0,n.consumers=void 0,n.consumersTail=void 0}function K1(n,e){let t=n.consumersTail,i=Ta(n);if(t!==void 0?(e.nextConsumer=t.nextConsumer,t.nextConsumer=e):(e.nextConsumer=void 0,n.consumers=e),e.prevConsumer=t,n.consumersTail=e,!i)for(let r=n.producers;r!==void 0;r=r.nextProducer)K1(r.producer,r)}function $_(n){let e=n.producer,t=n.nextProducer,i=n.nextConsumer,r=n.prevConsumer;if(n.nextConsumer=void 0,n.prevConsumer=void 0,i!==void 0?i.prevConsumer=r:e.consumersTail=r,r!==void 0)r.nextConsumer=i;else if(e.consumers=i,!Ta(e)){let o=e.producers;for(;o!==void 0;)o=$_(o)}return t}function Ta(n){return n.consumerIsAlwaysLive||n.consumers!==void 0}function yf(n){qF?.(n)}function YF(n,e){let t=e.producersTail;if(t!==void 0){let i=e.producers;do{if(i===n)return!0;if(i===t)break;i=i.nextProducer}while(i!==void 0)}return!1}function bf(n,e){return Object.is(n,e)}function Cf(n,e){let t=Object.create(QF);t.computation=n,e!==void 0&&(t.equal=e);let i=()=>{if(vf(t),Sa(t),t.value===wl)throw t.error;return t.value};return i[hn]=t,yf(t),i}var hf=Symbol("UNSET"),gf=Symbol("COMPUTING"),wl=Symbol("ERRORED"),QF=ie(F({},xa),{value:hf,dirty:!0,error:null,equal:bf,kind:"computed",producerMustRecompute(n){return n.value===hf||n.value===gf},producerRecomputeValue(n){if(n.value===gf)throw new Error("");let e=n.value;n.value=gf;let t=Da(n),i,r=!1;try{i=n.computation(),ue(null),r=e!==hf&&e!==wl&&i!==wl&&n.equal(e,i)}catch(o){i=wl,n.error=o}finally{El(n,t)}if(r){n.value=e;return}n.value=i,n.version++}});function ZF(){throw new Error}var Y1=ZF;function Q1(n){Y1(n)}function H_(n){Y1=n}var XF=null;function W_(n,e){let t=Object.create(wf);t.value=n,e!==void 0&&(t.equal=e);let i=()=>Z1(t);return i[hn]=t,yf(t),[i,s=>Aa(t,s),s=>G_(t,s)]}function Z1(n){return Sa(n),n.value}function Aa(n,e){z_()||Q1(n),n.equal(n.value,e)||(n.value=e,JF(n))}function G_(n,e){z_()||Q1(n),Aa(n,e(n.value))}var wf=ie(F({},xa),{equal:bf,value:void 0,kind:"signal"});function JF(n){n.version++,W1(),U_(n),XF?.(n)}function ge(n){return typeof n=="function"}function ka(n){let t=n(i=>{Error.call(i),i.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var Ef=ka(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((i,r)=>`${r+1}) ${i.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function vs(n,e){if(n){let t=n.indexOf(e);0<=t&&n.splice(t,1)}}var Ct=class n{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let o of t)o.remove(this);else t.remove(this);let{initialTeardown:i}=this;if(ge(i))try{i()}catch(o){e=o instanceof Ef?o.errors:[o]}let{_finalizers:r}=this;if(r){this._finalizers=null;for(let o of r)try{X1(o)}catch(s){e=e??[],s instanceof Ef?e=[...e,...s.errors]:e.push(s)}}if(e)throw new Ef(e)}}add(e){var t;if(e&&e!==this)if(this.closed)X1(e);else{if(e instanceof n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}}_hasParent(e){let{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){let{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&vs(t,e)}remove(e){let{_finalizers:t}=this;t&&vs(t,e),e instanceof n&&e._removeParent(this)}};Ct.EMPTY=(()=>{let n=new Ct;return n.closed=!0,n})();var q_=Ct.EMPTY;function Mf(n){return n instanceof Ct||n&&"closed"in n&&ge(n.remove)&&ge(n.add)&&ge(n.unsubscribe)}function X1(n){ge(n)?n():n.unsubscribe()}var mi={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Ra={setTimeout(n,e,...t){let{delegate:i}=Ra;return i?.setTimeout?i.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){let{delegate:e}=Ra;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function If(n){Ra.setTimeout(()=>{let{onUnhandledError:e}=mi;if(e)e(n);else throw n})}function Pl(){}var J1=K_("C",void 0,void 0);function eI(n){return K_("E",void 0,n)}function tI(n){return K_("N",n,void 0)}function K_(n,e,t){return{kind:n,value:e,error:t}}var ys=null;function Na(n){if(mi.useDeprecatedSynchronousErrorHandling){let e=!ys;if(e&&(ys={errorThrown:!1,error:null}),n(),e){let{errorThrown:t,error:i}=ys;if(ys=null,t)throw i}}else n()}function nI(n){mi.useDeprecatedSynchronousErrorHandling&&ys&&(ys.errorThrown=!0,ys.error=n)}var bs=class extends Ct{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Mf(e)&&e.add(this)):this.destination=n3}static create(e,t,i){return new _i(e,t,i)}next(e){this.isStopped?Q_(tI(e),this):this._next(e)}error(e){this.isStopped?Q_(eI(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Q_(J1,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},e3=Function.prototype.bind;function Y_(n,e){return e3.call(n,e)}var Z_=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(i){Pf(i)}}error(e){let{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(i){Pf(i)}else Pf(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){Pf(t)}}},_i=class extends bs{constructor(e,t,i){super();let r;if(ge(e)||!e)r={next:e??void 0,error:t??void 0,complete:i??void 0};else{let o;this&&mi.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),r={next:e.next&&Y_(e.next,o),error:e.error&&Y_(e.error,o),complete:e.complete&&Y_(e.complete,o)}):r=e}this.destination=new Z_(r)}};function Pf(n){mi.useDeprecatedSynchronousErrorHandling?nI(n):If(n)}function t3(n){throw n}function Q_(n,e){let{onStoppedNotification:t}=mi;t&&Ra.setTimeout(()=>t(n,e))}var n3={closed:!0,next:Pl,error:t3,complete:Pl};var La=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Fn(n){return n}function X_(...n){return J_(n)}function J_(n){return n.length===0?Fn:n.length===1?n[0]:function(t){return n.reduce((i,r)=>r(i),t)}}var ee=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){let i=new n;return i.source=this,i.operator=t,i}subscribe(t,i,r){let o=r3(t)?t:new _i(t,i,r);return Na(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(i){t.error(i)}}forEach(t,i){return i=iI(i),new i((r,o)=>{let s=new _i({next:a=>{try{t(a)}catch(c){o(c),s.unsubscribe()}},error:o,complete:r});this.subscribe(s)})}_subscribe(t){var i;return(i=this.source)===null||i===void 0?void 0:i.subscribe(t)}[La](){return this}pipe(...t){return J_(t)(this)}toPromise(t){return t=iI(t),new t((i,r)=>{let o;this.subscribe(s=>o=s,s=>r(s),()=>i(o))})}}return n.create=e=>new n(e),n})();function iI(n){var e;return(e=n??mi.Promise)!==null&&e!==void 0?e:Promise}function i3(n){return n&&ge(n.next)&&ge(n.error)&&ge(n.complete)}function r3(n){return n&&n instanceof bs||i3(n)&&Mf(n)}function ev(n){return ge(n?.lift)}function Te(n){return e=>{if(ev(e))return e.lift(function(t){try{return n(t,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function Ae(n,e,t,i,r){return new tv(n,e,t,i,r)}var tv=class extends bs{constructor(e,t,i,r,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(c){e.error(c)}}:super._next,this._error=r?function(a){try{r(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function Fa(){return Te((n,e)=>{let t=null;n._refCount++;let i=Ae(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount){t=null;return}let r=n._connection,o=t;t=null,r&&(!o||r===o)&&r.unsubscribe(),e.unsubscribe()});n.subscribe(i),i.closed||(t=n.connect())})}var Ba=class extends ee{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,ev(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Ct;let t=this.getSubject();e.add(this.source.subscribe(Ae(t,void 0,()=>{this._teardown(),t.complete()},i=>{this._teardown(),t.error(i)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Ct.EMPTY)}return e}refCount(){return Fa()(this)}};var rI=ka(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var de=(()=>{class n extends ee{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let i=new Of(this,this);return i.operator=t,i}_throwIfClosed(){if(this.closed)throw new rI}next(t){Na(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let i of this.currentObservers)i.next(t)}})}error(t){Na(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:i}=this;for(;i.length;)i.shift().error(t)}})}complete(){Na(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:i,isStopped:r,observers:o}=this;return i||r?q_:(this.currentObservers=null,o.push(t),new Ct(()=>{this.currentObservers=null,vs(o,t)}))}_checkFinalizedStatuses(t){let{hasError:i,thrownError:r,isStopped:o}=this;i?t.error(r):o&&t.complete()}asObservable(){let t=new ee;return t.source=this,t}}return n.create=(e,t)=>new Of(e,t),n})(),Of=class extends de{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,i;(i=(t=this.destination)===null||t===void 0?void 0:t.next)===null||i===void 0||i.call(t,e)}error(e){var t,i;(i=(t=this.destination)===null||t===void 0?void 0:t.error)===null||i===void 0||i.call(t,e)}complete(){var e,t;(t=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||t===void 0||t.call(e)}_subscribe(e){var t,i;return(i=(t=this.source)===null||t===void 0?void 0:t.subscribe(e))!==null&&i!==void 0?i:q_}};var Yt=class extends de{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){let{hasError:e,thrownError:t,_value:i}=this;if(e)throw t;return this._throwIfClosed(),i}next(e){super.next(this._value=e)}};var Ol={now(){return(Ol.delegate||Date).now()},delegate:void 0};var xl=class extends de{constructor(e=1/0,t=1/0,i=Ol){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){let{isStopped:t,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:o,_windowTime:s}=this;t||(i.push(e),!r&&i.push(o.now()+s)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();let t=this._innerSubscribe(e),{_infiniteTimeWindow:i,_buffer:r}=this,o=r.slice();for(let s=0;s<o.length&&!e.closed;s+=i?1:2)e.next(o[s]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){let{_bufferSize:e,_timestampProvider:t,_buffer:i,_infiniteTimeWindow:r}=this,o=(r?1:2)*e;if(e<1/0&&o<i.length&&i.splice(0,i.length-o),!r){let s=t.now(),a=0;for(let c=1;c<i.length&&i[c]<=s;c+=2)a=c;a&&i.splice(0,a+1)}}};var xf=class extends Ct{constructor(e,t){super()}schedule(e,t=0){return this}};var Sl={setInterval(n,e,...t){let{delegate:i}=Sl;return i?.setInterval?i.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){let{delegate:e}=Sl;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};var ja=class extends xf{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var i;if(this.closed)return this;this.state=e;let r=this.id,o=this.scheduler;return r!=null&&(this.id=this.recycleAsyncId(o,r,t)),this.pending=!0,this.delay=t,this.id=(i=this.id)!==null&&i!==void 0?i:this.requestAsyncId(o,this.id,t),this}requestAsyncId(e,t,i=0){return Sl.setInterval(e.flush.bind(e,this),i)}recycleAsyncId(e,t,i=0){if(i!=null&&this.delay===i&&this.pending===!1)return t;t!=null&&Sl.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let i=this._execute(e,t);if(i)return i;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let i=!1,r;try{this.work(e)}catch(o){i=!0,r=o||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){let{id:e,scheduler:t}=this,{actions:i}=t;this.work=this.state=this.scheduler=null,this.pending=!1,vs(i,this),e!=null&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}};var Va=class n{constructor(e,t=n.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,i){return new this.schedulerActionCtor(this,e).schedule(i,t)}};Va.now=Ol.now;var Ua=class extends Va{constructor(e,t=Va.now){super(e,t),this.actions=[],this._active=!1}flush(e){let{actions:t}=this;if(this._active){t.push(e);return}let i;this._active=!0;do if(i=e.execute(e.state,e.delay))break;while(e=t.shift());if(this._active=!1,i){for(;e=t.shift();)e.unsubscribe();throw i}}};var nv=new Ua(ja);var Sf=class extends ja{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,i=0){return i!=null&&i>0||i==null&&this.delay>0?super.requestAsyncId(e,t,i):(e.flush(this),0)}};var Df=class extends Ua{};var iv=new Df(Sf);var Pn=new ee(n=>n.complete());function oI(n){return n&&ge(n.schedule)}function sI(n){return n[n.length-1]}function Tf(n){return ge(sI(n))?n.pop():void 0}function po(n){return oI(sI(n))?n.pop():void 0}function Af(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t}function cI(n,e,t,i){function r(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(h){try{l(i.next(h))}catch(f){s(f)}}function c(h){try{l(i.throw(h))}catch(f){s(f)}}function l(h){h.done?o(h.value):r(h.value).then(a,c)}l((i=i.apply(n,e||[])).next())})}function aI(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],i=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&i>=n.length&&(n=void 0),{value:n&&n[i++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Cs(n){return this instanceof Cs?(this.v=n,this):new Cs(n)}function lI(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=t.apply(n,e||[]),r,o=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),r[Symbol.asyncIterator]=function(){return this},r;function s(w){return function(I){return Promise.resolve(I).then(w,f)}}function a(w,I){i[w]&&(r[w]=function(D){return new Promise(function(T,L){o.push([w,D,T,L])>1||c(w,D)})},I&&(r[w]=I(r[w])))}function c(w,I){try{l(i[w](I))}catch(D){y(o[0][3],D)}}function l(w){w.value instanceof Cs?Promise.resolve(w.value.v).then(h,f):y(o[0][2],w)}function h(w){c("next",w)}function f(w){c("throw",w)}function y(w,I){w(I),o.shift(),o.length&&c(o[0][0],o[0][1])}}function uI(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof aI=="function"?aI(n):n[Symbol.iterator](),t={},i("next"),i("throw"),i("return"),t[Symbol.asyncIterator]=function(){return this},t);function i(o){t[o]=n[o]&&function(s){return new Promise(function(a,c){s=n[o](s),r(a,c,s.done,s.value)})}}function r(o,s,a,c){Promise.resolve(c).then(function(l){o({value:l,done:a})},s)}}var kf=n=>n&&typeof n.length=="number"&&typeof n!="function";function Rf(n){return ge(n?.then)}function Nf(n){return ge(n[La])}function Lf(n){return Symbol.asyncIterator&&ge(n?.[Symbol.asyncIterator])}function Ff(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function o3(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Bf=o3();function jf(n){return ge(n?.[Bf])}function Vf(n){return lI(this,arguments,function*(){let t=n.getReader();try{for(;;){let{value:i,done:r}=yield Cs(t.read());if(r)return yield Cs(void 0);yield yield Cs(i)}}finally{t.releaseLock()}})}function Uf(n){return ge(n?.getReader)}function vt(n){if(n instanceof ee)return n;if(n!=null){if(Nf(n))return s3(n);if(kf(n))return a3(n);if(Rf(n))return c3(n);if(Lf(n))return dI(n);if(jf(n))return l3(n);if(Uf(n))return u3(n)}throw Ff(n)}function s3(n){return new ee(e=>{let t=n[La]();if(ge(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function a3(n){return new ee(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}function c3(n){return new ee(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,If)})}function l3(n){return new ee(e=>{for(let t of n)if(e.next(t),e.closed)return;e.complete()})}function dI(n){return new ee(e=>{d3(n,e).catch(t=>e.error(t))})}function u3(n){return dI(Vf(n))}function d3(n,e){var t,i,r,o;return cI(this,void 0,void 0,function*(){try{for(t=uI(n);i=yield t.next(),!i.done;){let s=i.value;if(e.next(s),e.closed)return}}catch(s){r={error:s}}finally{try{i&&!i.done&&(o=t.return)&&(yield o.call(t))}finally{if(r)throw r.error}}e.complete()})}function On(n,e,t,i=0,r=!1){let o=e.schedule(function(){t(),r?n.add(this.schedule(null,i)):this.unsubscribe()},i);if(n.add(o),!r)return o}function ho(n,e=0){return Te((t,i)=>{t.subscribe(Ae(i,r=>On(i,n,()=>i.next(r),e),()=>On(i,n,()=>i.complete(),e),r=>On(i,n,()=>i.error(r),e)))})}function go(n,e=0){return Te((t,i)=>{i.add(n.schedule(()=>t.subscribe(i),e))})}function fI(n,e){return vt(n).pipe(go(e),ho(e))}function pI(n,e){return vt(n).pipe(go(e),ho(e))}function hI(n,e){return new ee(t=>{let i=0;return e.schedule(function(){i===n.length?t.complete():(t.next(n[i++]),t.closed||this.schedule())})})}function gI(n,e){return new ee(t=>{let i;return On(t,e,()=>{i=n[Bf](),On(t,e,()=>{let r,o;try{({value:r,done:o}=i.next())}catch(s){t.error(s);return}o?t.complete():t.next(r)},0,!0)}),()=>ge(i?.return)&&i.return()})}function zf(n,e){if(!n)throw new Error("Iterable cannot be null");return new ee(t=>{On(t,e,()=>{let i=n[Symbol.asyncIterator]();On(t,e,()=>{i.next().then(r=>{r.done?t.complete():t.next(r.value)})},0,!0)})})}function mI(n,e){return zf(Vf(n),e)}function _I(n,e){if(n!=null){if(Nf(n))return fI(n,e);if(kf(n))return hI(n,e);if(Rf(n))return pI(n,e);if(Lf(n))return zf(n,e);if(jf(n))return gI(n,e);if(Uf(n))return mI(n,e)}throw Ff(n)}function se(n,e){return e?_I(n,e):vt(n)}function U(...n){let e=po(n);return se(n,e)}function za(n,e){let t=ge(n)?n:()=>n,i=r=>r.error(t());return new ee(e?r=>e.schedule(i,0,r):i)}function vi(n){return!!n&&(n instanceof ee||ge(n.lift)&&ge(n.subscribe))}var yi=ka(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function mo(n,e){let t=typeof e=="object";return new Promise((i,r)=>{let o=new _i({next:s=>{i(s),o.unsubscribe()},error:r,complete:()=>{t?i(e.defaultValue):r(new yi)}});n.subscribe(o)})}function K(n,e){return Te((t,i)=>{let r=0;t.subscribe(Ae(i,o=>{i.next(n.call(e,o,r++))}))})}var{isArray:f3}=Array;function p3(n,e){return f3(e)?n(...e):n(e)}function $f(n){return K(e=>p3(n,e))}var{isArray:h3}=Array,{getPrototypeOf:g3,prototype:m3,keys:_3}=Object;function Hf(n){if(n.length===1){let e=n[0];if(h3(e))return{args:e,keys:null};if(v3(e)){let t=_3(e);return{args:t.map(i=>e[i]),keys:t}}}return{args:n,keys:null}}function v3(n){return n&&typeof n=="object"&&g3(n)===m3}function Wf(n,e){return n.reduce((t,i,r)=>(t[i]=e[r],t),{})}function Dl(...n){let e=po(n),t=Tf(n),{args:i,keys:r}=Hf(n);if(i.length===0)return se([],e);let o=new ee(y3(i,e,r?s=>Wf(r,s):Fn));return t?o.pipe($f(t)):o}function y3(n,e,t=Fn){return i=>{vI(e,()=>{let{length:r}=n,o=new Array(r),s=r,a=r;for(let c=0;c<r;c++)vI(e,()=>{let l=se(n[c],e),h=!1;l.subscribe(Ae(i,f=>{o[c]=f,h||(h=!0,a--),a||i.next(t(o.slice()))},()=>{--s||i.complete()}))},i)},i)}}function vI(n,e,t){n?On(t,n,e):e()}function yI(n,e,t,i,r,o,s,a){let c=[],l=0,h=0,f=!1,y=()=>{f&&!c.length&&!l&&e.complete()},w=D=>l<i?I(D):c.push(D),I=D=>{o&&e.next(D),l++;let T=!1;vt(t(D,h++)).subscribe(Ae(e,L=>{r?.(L),o?w(L):e.next(L)},()=>{T=!0},void 0,()=>{if(T)try{for(l--;c.length&&l<i;){let L=c.shift();s?On(e,s,()=>I(L)):I(L)}y()}catch(L){e.error(L)}}))};return n.subscribe(Ae(e,w,()=>{f=!0,y()})),()=>{a?.()}}function Dt(n,e,t=1/0){return ge(e)?Dt((i,r)=>K((o,s)=>e(i,o,r,s))(vt(n(i,r))),t):(typeof e=="number"&&(t=e),Te((i,r)=>yI(i,r,n,t)))}function Ki(n=1/0){return Dt(Fn,n)}function bI(){return Ki(1)}function Tr(...n){return bI()(se(n,po(n)))}function Fe(n){return new ee(e=>{vt(n()).subscribe(e)})}function Ar(...n){let e=Tf(n),{args:t,keys:i}=Hf(n),r=new ee(o=>{let{length:s}=t;if(!s){o.complete();return}let a=new Array(s),c=s,l=s;for(let h=0;h<s;h++){let f=!1;vt(t[h]).subscribe(Ae(o,y=>{f||(f=!0,l--),a[h]=y},()=>c--,void 0,()=>{(!c||!f)&&(l||o.next(i?Wf(i,a):a),o.complete())}))}});return e?r.pipe($f(e)):r}function ln(n,e){return Te((t,i)=>{let r=0;t.subscribe(Ae(i,o=>n.call(e,o,r++)&&i.next(o)))})}function Ze(n){return Te((e,t)=>{let i=null,r=!1,o;i=e.subscribe(Ae(t,void 0,void 0,s=>{o=vt(n(s,Ze(n)(e))),i?(i.unsubscribe(),i=null,o.subscribe(t)):r=!0})),r&&(i.unsubscribe(),i=null,o.subscribe(t))})}function CI(n,e,t,i,r){return(o,s)=>{let a=t,c=e,l=0;o.subscribe(Ae(s,h=>{let f=l++;c=a?n(c,h,f):(a=!0,h),i&&s.next(c)},r&&(()=>{a&&s.next(c),s.complete()})))}}function Qn(n,e){return ge(e)?Dt(n,e,1):Dt(n,1)}function _o(n){return Te((e,t)=>{let i=!1;e.subscribe(Ae(t,r=>{i=!0,t.next(r)},()=>{i||t.next(n),t.complete()}))})}function ut(n){return n<=0?()=>Pn:Te((e,t)=>{let i=0;e.subscribe(Ae(t,r=>{++i<=n&&(t.next(r),n<=i&&t.complete())}))})}function Gf(n=b3){return Te((e,t)=>{let i=!1;e.subscribe(Ae(t,r=>{i=!0,t.next(r)},()=>i?t.complete():t.error(n())))})}function b3(){return new yi}function vo(n){return Te((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function kr(n,e){let t=arguments.length>=2;return i=>i.pipe(n?ln((r,o)=>n(r,o,i)):Fn,ut(1),t?_o(e):Gf(()=>new yi))}function $a(n){return n<=0?()=>Pn:Te((e,t)=>{let i=[];e.subscribe(Ae(t,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(let r of i)t.next(r);t.complete()},void 0,()=>{i=null}))})}function rv(n,e){let t=arguments.length>=2;return i=>i.pipe(n?ln((r,o)=>n(r,o,i)):Fn,$a(1),t?_o(e):Gf(()=>new yi))}function ov(n,e){return Te(CI(n,e,arguments.length>=2,!0))}function wI(n={}){let{connector:e=()=>new de,resetOnError:t=!0,resetOnComplete:i=!0,resetOnRefCountZero:r=!0}=n;return o=>{let s,a,c,l=0,h=!1,f=!1,y=()=>{a?.unsubscribe(),a=void 0},w=()=>{y(),s=c=void 0,h=f=!1},I=()=>{let D=s;w(),D?.unsubscribe()};return Te((D,T)=>{l++,!f&&!h&&y();let L=c=c??e();T.add(()=>{l--,l===0&&!f&&!h&&(a=sv(I,r))}),L.subscribe(T),!s&&l>0&&(s=new _i({next:Z=>L.next(Z),error:Z=>{f=!0,y(),a=sv(w,t,Z),L.error(Z)},complete:()=>{h=!0,y(),a=sv(w,i),L.complete()}}),vt(D).subscribe(s))})(o)}}function sv(n,e,...t){if(e===!0){n();return}if(e===!1)return;let i=new _i({next:()=>{i.unsubscribe(),n()}});return vt(e(...t)).subscribe(i)}function qf(n,e,t){let i,r=!1;return n&&typeof n=="object"?{bufferSize:i=1/0,windowTime:e=1/0,refCount:r=!1,scheduler:t}=n:i=n??1/0,wI({connector:()=>new xl(i,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}function av(...n){let e=po(n);return Te((t,i)=>{(e?Tr(n,t,e):Tr(n,t)).subscribe(i)})}function Me(n,e){return Te((t,i)=>{let r=null,o=0,s=!1,a=()=>s&&!r&&i.complete();t.subscribe(Ae(i,c=>{r?.unsubscribe();let l=0,h=o++;vt(n(c,h)).subscribe(r=Ae(i,f=>i.next(e?e(c,f,h,l++):f),()=>{r=null,a()}))},()=>{s=!0,a()}))})}function Xe(n){return Te((e,t)=>{vt(n).subscribe(Ae(t,()=>t.complete(),Pl)),!t.closed&&e.subscribe(t)})}function Ht(n,e,t){let i=ge(n)||e||t?{next:n,error:e,complete:t}:n;return i?Te((r,o)=>{var s;(s=i.subscribe)===null||s===void 0||s.call(i);let a=!0;r.subscribe(Ae(o,c=>{var l;(l=i.next)===null||l===void 0||l.call(i,c),o.next(c)},()=>{var c;a=!1,(c=i.complete)===null||c===void 0||c.call(i),o.complete()},c=>{var l;a=!1,(l=i.error)===null||l===void 0||l.call(i,c),o.error(c)},()=>{var c,l;a&&((c=i.unsubscribe)===null||c===void 0||c.call(i)),(l=i.finalize)===null||l===void 0||l.call(i)}))}):Fn}function EI(n){let e=ue(null);try{return n()}finally{ue(e)}}var yo=class{full;major;minor;patch;constructor(e){this.full=e;let t=e.split(".");this.major=t[0],this.minor=t[1],this.patch=t.slice(2).join(".")}},bv=new yo("20.3.15");var Zf="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",j=class extends Error{code;constructor(e,t){super(wo(e,t)),this.code=e}};function C3(n){return`NG0${Math.abs(n)}`}function wo(n,e){return`${C3(n)}${e?": "+e:""}`}var Rl=globalThis;function qe(n){for(let e in n)if(n[e]===qe)return e;throw Error("")}function PI(n,e){for(let t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function Nr(n){if(typeof n=="string")return n;if(Array.isArray(n))return`[${n.map(Nr).join(", ")}]`;if(n==null)return""+n;let e=n.overriddenName||n.name;if(e)return`${e}`;let t=n.toString();if(t==null)return""+t;let i=t.indexOf(`
`);return i>=0?t.slice(0,i):t}function Xf(n,e){return n?e?`${n} ${e}`:n:e||""}var w3=qe({__forward_ref__:qe});function Zn(n){return n.__forward_ref__=Zn,n.toString=function(){return Nr(this())},n}function Qt(n){return Cv(n)?n():n}function Cv(n){return typeof n=="function"&&n.hasOwnProperty(w3)&&n.__forward_ref__===Zn}function $(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function un(n){return{providers:n.providers||[],imports:n.imports||[]}}function Nl(n){return E3(n,Jf)}function wv(n){return Nl(n)!==null}function E3(n,e){return n.hasOwnProperty(e)&&n[e]||null}function M3(n){let e=n?.[Jf]??null;return e||null}function lv(n){return n&&n.hasOwnProperty(Yf)?n[Yf]:null}var Jf=qe({\u0275prov:qe}),Yf=qe({\u0275inj:qe}),G=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,t){this._desc=e,this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=$({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function Ev(n){return n&&!!n.\u0275providers}var Mv=qe({\u0275cmp:qe}),Iv=qe({\u0275dir:qe}),Pv=qe({\u0275pipe:qe}),Ov=qe({\u0275mod:qe}),Al=qe({\u0275fac:qe}),Ps=qe({__NG_ELEMENT_ID__:qe}),MI=qe({__NG_ENV_ID__:qe});function Eo(n){return typeof n=="string"?n:n==null?"":String(n)}function OI(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():Eo(n)}var xI=qe({ngErrorCode:qe}),I3=qe({ngErrorMessage:qe}),P3=qe({ngTokenPath:qe});function xv(n,e){return SI("",-200,e)}function ep(n,e){throw new j(-201,!1)}function SI(n,e,t){let i=new j(e,n);return i[xI]=e,i[I3]=n,t&&(i[P3]=t),i}function O3(n){return n[xI]}var uv;function DI(){return uv}function gn(n){let e=uv;return uv=n,e}function Sv(n,e,t){let i=Nl(n);if(i&&i.providedIn=="root")return i.value===void 0?i.value=i.factory():i.value;if(t&8)return null;if(e!==void 0)return e;ep(n,"Injector")}var x3={},ws=x3,dv="__NG_DI_FLAG__",fv=class{injector;constructor(e){this.injector=e}retrieve(e,t){let i=Es(t)||0;try{return this.injector.get(e,i&8?null:ws,i)}catch(r){if(Oa(r))return r;throw r}}};function S3(n,e=0){let t=ff();if(t===void 0)throw new j(-203,!1);if(t===null)return Sv(n,void 0,e);{let i=D3(e),r=t.retrieve(n,i);if(Oa(r)){if(i.optional)return null;throw r}return r}}function q(n,e=0){return(DI()||S3)(Qt(n),e)}function N(n,e){return q(n,Es(e))}function Es(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function D3(n){return{optional:!!(n&8),host:!!(n&1),self:!!(n&2),skipSelf:!!(n&4)}}function pv(n){let e=[];for(let t=0;t<n.length;t++){let i=Qt(n[t]);if(Array.isArray(i)){if(i.length===0)throw new j(900,!1);let r,o=0;for(let s=0;s<i.length;s++){let a=i[s],c=T3(a);typeof c=="number"?c===-1?r=a.token:o|=c:r=a}e.push(q(r,o))}else e.push(q(i))}return e}function TI(n,e){return n[dv]=e,n.prototype[dv]=e,n}function T3(n){return n[dv]}function bo(n,e){let t=n.hasOwnProperty(Al);return t?n[Al]:null}function AI(n,e,t){if(n.length!==e.length)return!1;for(let i=0;i<n.length;i++){let r=n[i],o=e[i];if(t&&(r=t(r),o=t(o)),o!==r)return!1}return!0}function kI(n){return n.flat(Number.POSITIVE_INFINITY)}function tp(n,e){n.forEach(t=>Array.isArray(t)?tp(t,e):e(t))}function Dv(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function Ll(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function RI(n,e,t,i){let r=n.length;if(r==e)n.push(t,i);else if(r===1)n.push(i,n[0]),n[0]=t;else{for(r--,n.push(n[r-1],n[r]);r>e;){let o=r-2;n[r]=n[o],r--}n[e]=t,n[e+1]=i}}function np(n,e,t){let i=Wa(n,e);return i>=0?n[i|1]=t:(i=~i,RI(n,i,e,t)),i}function ip(n,e){let t=Wa(n,e);if(t>=0)return n[t|1]}function Wa(n,e){return A3(n,e,1)}function A3(n,e,t){let i=0,r=n.length>>t;for(;r!==i;){let o=i+(r-i>>1),s=n[o<<t];if(e===s)return o<<t;s>e?r=o:i=o+1}return~(r<<t)}var Mo={},mn=[],Io=new G(""),Tv=new G("",-1),Av=new G(""),kl=class{get(e,t=ws){if(t===ws){let r=SI("",-201);throw r.name="\u0275NotFound",r}return t}};function kv(n){return n[Ov]||null}function Fr(n){return n[Mv]||null}function Rv(n){return n[Iv]||null}function NI(n){return n[Pv]||null}function dn(n){return{\u0275providers:n}}function rp(...n){return{\u0275providers:Nv(!0,n),\u0275fromNgModule:!0}}function Nv(n,...e){let t=[],i=new Set,r,o=s=>{t.push(s)};return tp(e,s=>{let a=s;Qf(a,o,[],i)&&(r||=[],r.push(a))}),r!==void 0&&LI(r,o),t}function LI(n,e){for(let t=0;t<n.length;t++){let{ngModule:i,providers:r}=n[t];Lv(r,o=>{e(o,i)})}}function Qf(n,e,t,i){if(n=Qt(n),!n)return!1;let r=null,o=lv(n),s=!o&&Fr(n);if(!o&&!s){let c=n.ngModule;if(o=lv(c),o)r=c;else return!1}else{if(s&&!s.standalone)return!1;r=n}let a=i.has(r);if(s){if(a)return!1;if(i.add(r),s.dependencies){let c=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of c)Qf(l,e,t,i)}}else if(o){if(o.imports!=null&&!a){i.add(r);let l;try{tp(o.imports,h=>{Qf(h,e,t,i)&&(l||=[],l.push(h))})}finally{}l!==void 0&&LI(l,e)}if(!a){let l=bo(r)||(()=>new r);e({provide:r,useFactory:l,deps:mn},r),e({provide:Av,useValue:r,multi:!0},r),e({provide:Io,useValue:()=>q(r),multi:!0},r)}let c=o.providers;if(c!=null&&!a){let l=n;Lv(c,h=>{e(h,l)})}}else return!1;return r!==n&&n.providers!==void 0}function Lv(n,e){for(let t of n)Ev(t)&&(t=t.\u0275providers),Array.isArray(t)?Lv(t,e):e(t)}var k3=qe({provide:String,useValue:qe});function FI(n){return n!==null&&typeof n=="object"&&k3 in n}function R3(n){return!!(n&&n.useExisting)}function N3(n){return!!(n&&n.useFactory)}function Ms(n){return typeof n=="function"}function BI(n){return!!n.useClass}var Fl=new G(""),Kf={},II={},cv;function Bl(){return cv===void 0&&(cv=new kl),cv}var yt=class{},Is=class extends yt{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,t,i,r){super(),this.parent=t,this.source=i,this.scopes=r,gv(e,s=>this.processProvider(s)),this.records.set(Tv,Ha(void 0,this)),r.has("environment")&&this.records.set(yt,Ha(void 0,this));let o=this.records.get(Fl);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(Av,mn,{self:!0}))}retrieve(e,t){let i=Es(t)||0;try{return this.get(e,ws,i)}catch(r){if(Oa(r))return r;throw r}}destroy(){Tl(this),this._destroyed=!0;let e=ue(null);try{for(let i of this._ngOnDestroyHooks)i.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let i of t)i()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),ue(e)}}onDestroy(e){return Tl(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){Tl(this);let t=qi(this),i=gn(void 0),r;try{return e()}finally{qi(t),gn(i)}}get(e,t=ws,i){if(Tl(this),e.hasOwnProperty(MI))return e[MI](this);let r=Es(i),o,s=qi(this),a=gn(void 0);try{if(!(r&4)){let l=this.records.get(e);if(l===void 0){let h=V3(e)&&Nl(e);h&&this.injectableDefInScope(h)?l=Ha(hv(e),Kf):l=null,this.records.set(e,l)}if(l!=null)return this.hydrate(e,l,r)}let c=r&2?Bl():this.parent;return t=r&8&&t===ws?null:t,c.get(e,t)}catch(c){let l=O3(c);throw l===-200||l===-201?new j(l,null):c}finally{gn(a),qi(s)}}resolveInjectorInitializers(){let e=ue(null),t=qi(this),i=gn(void 0),r;try{let o=this.get(Io,mn,{self:!0});for(let s of o)s()}finally{qi(t),gn(i),ue(e)}}toString(){let e=[],t=this.records;for(let i of t.keys())e.push(Nr(i));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=Qt(e);let t=Ms(e)?e:Qt(e&&e.provide),i=F3(e);if(!Ms(e)&&e.multi===!0){let r=this.records.get(t);r||(r=Ha(void 0,Kf,!0),r.factory=()=>pv(r.multi),this.records.set(t,r)),t=e,r.multi.push(e)}this.records.set(t,i)}hydrate(e,t,i){let r=ue(null);try{if(t.value===II)throw xv(Nr(e));return t.value===Kf&&(t.value=II,t.value=t.factory(void 0,i)),typeof t.value=="object"&&t.value&&j3(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{ue(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let t=Qt(e.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){let t=this._onDestroyHooks.indexOf(e);t!==-1&&this._onDestroyHooks.splice(t,1)}};function hv(n){let e=Nl(n),t=e!==null?e.factory:bo(n);if(t!==null)return t;if(n instanceof G)throw new j(204,!1);if(n instanceof Function)return L3(n);throw new j(204,!1)}function L3(n){if(n.length>0)throw new j(204,!1);let t=M3(n);return t!==null?()=>t.factory(n):()=>new n}function F3(n){if(FI(n))return Ha(void 0,n.useValue);{let e=Fv(n);return Ha(e,Kf)}}function Fv(n,e,t){let i;if(Ms(n)){let r=Qt(n);return bo(r)||hv(r)}else if(FI(n))i=()=>Qt(n.useValue);else if(N3(n))i=()=>n.useFactory(...pv(n.deps||[]));else if(R3(n))i=(r,o)=>q(Qt(n.useExisting),o!==void 0&&o&8?8:void 0);else{let r=Qt(n&&(n.useClass||n.provide));if(B3(n))i=()=>new r(...pv(n.deps));else return bo(r)||hv(r)}return i}function Tl(n){if(n.destroyed)throw new j(205,!1)}function Ha(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function B3(n){return!!n.deps}function j3(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function V3(n){return typeof n=="function"||typeof n=="object"&&n.ngMetadataName==="InjectionToken"}function gv(n,e){for(let t of n)Array.isArray(t)?gv(t,e):t&&Ev(t)?gv(t.\u0275providers,e):e(t)}function ae(n,e){let t;n instanceof Is?(Tl(n),t=n):t=new fv(n);let i,r=qi(t),o=gn(void 0);try{return e()}finally{qi(r),gn(o)}}function jI(){return DI()!==void 0||ff()!=null}var Ci=0,oe=1,fe=2,Ft=3,Xn=4,Jn=5,Ga=6,qa=7,Tt=8,Br=9,Yi=10,wt=11,Ka=12,Bv=13,Os=14,Bn=15,Po=16,xs=17,Qi=18,jl=19,jv=20,Rr=21,op=22,Vl=23,jn=24,Ss=25,Ds=26,Bt=27,VI=1,Vv=6,Oo=7,Ul=8,Ts=9,Et=10;function Zi(n){return Array.isArray(n)&&typeof n[VI]=="object"}function wi(n){return Array.isArray(n)&&n[VI]===!0}function Uv(n){return(n.flags&4)!==0}function xo(n){return n.componentOffset>-1}function sp(n){return(n.flags&1)===1}function Xi(n){return!!n.template}function Ya(n){return(n[fe]&512)!==0}function As(n){return(n[fe]&256)===256}var zv="svg",UI="math";function ei(n){for(;Array.isArray(n);)n=n[Ci];return n}function $v(n,e){return ei(e[n])}function Ei(n,e){return ei(e[n.index])}function zl(n,e){return n.data[e]}function zI(n,e){return n[e]}function Hv(n,e,t,i){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=i}function ti(n,e){let t=e[n];return Zi(t)?t:t[Ci]}function $I(n){return(n[fe]&4)===4}function ap(n){return(n[fe]&128)===128}function HI(n){return wi(n[Ft])}function Ji(n,e){return e==null?null:n[e]}function Wv(n){n[xs]=0}function Gv(n){n[fe]&1024||(n[fe]|=1024,ap(n)&&Qa(n))}function WI(n,e){for(;n>0;)e=e[Os],n--;return e}function $l(n){return!!(n[fe]&9216||n[jn]?.dirty)}function cp(n){n[Yi].changeDetectionScheduler?.notify(8),n[fe]&64&&(n[fe]|=1024),$l(n)&&Qa(n)}function Qa(n){n[Yi].changeDetectionScheduler?.notify(0);let e=Co(n);for(;e!==null&&!(e[fe]&8192||(e[fe]|=8192,!ap(e)));)e=Co(e)}function qv(n,e){if(As(n))throw new j(911,!1);n[Rr]===null&&(n[Rr]=[]),n[Rr].push(e)}function GI(n,e){if(n[Rr]===null)return;let t=n[Rr].indexOf(e);t!==-1&&n[Rr].splice(t,1)}function Co(n){let e=n[Ft];return wi(e)?e[Ft]:e}function Kv(n){return n[qa]??=[]}function Yv(n){return n.cleanup??=[]}function qI(n,e,t,i){let r=Kv(e);r.push(t),n.firstCreatePass&&Yv(n).push(i,r.length-1)}var ye={lFrame:aP(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var mv=!1;function KI(){return ye.lFrame.elementDepthCount}function YI(){ye.lFrame.elementDepthCount++}function Qv(){ye.lFrame.elementDepthCount--}function QI(){return ye.bindingsEnabled}function ZI(){return ye.skipHydrationRootTNode!==null}function Zv(n){return ye.skipHydrationRootTNode===n}function Xv(){ye.skipHydrationRootTNode=null}function _e(){return ye.lFrame.lView}function Zt(){return ye.lFrame.tView}function X(n){return ye.lFrame.contextLView=n,n[Tt]}function J(n){return ye.lFrame.contextLView=null,n}function Xt(){let n=Jv();for(;n!==null&&n.type===64;)n=n.parent;return n}function Jv(){return ye.lFrame.currentTNode}function XI(){let n=ye.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}function Za(n,e){let t=ye.lFrame;t.currentTNode=n,t.isParent=e}function e0(){return ye.lFrame.isParent}function JI(){ye.lFrame.isParent=!1}function t0(){return mv}function n0(n){let e=mv;return mv=n,e}function Hl(){let n=ye.lFrame,e=n.bindingRootIndex;return e===-1&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function eP(){return ye.lFrame.bindingIndex}function tP(n){return ye.lFrame.bindingIndex=n}function ks(){return ye.lFrame.bindingIndex++}function lp(n){let e=ye.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function nP(){return ye.lFrame.inI18n}function iP(n,e){let t=ye.lFrame;t.bindingIndex=t.bindingRootIndex=n,up(e)}function rP(){return ye.lFrame.currentDirectiveIndex}function up(n){ye.lFrame.currentDirectiveIndex=n}function oP(n){let e=ye.lFrame.currentDirectiveIndex;return e===-1?null:n[e]}function i0(){return ye.lFrame.currentQueryIndex}function dp(n){ye.lFrame.currentQueryIndex=n}function U3(n){let e=n[oe];return e.type===2?e.declTNode:e.type===1?n[Jn]:null}function r0(n,e,t){if(t&4){let r=e,o=n;for(;r=r.parent,r===null&&!(t&1);)if(r=U3(o),r===null||(o=o[Os],r.type&10))break;if(r===null)return!1;e=r,n=o}let i=ye.lFrame=sP();return i.currentTNode=e,i.lView=n,!0}function fp(n){let e=sP(),t=n[oe];ye.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function sP(){let n=ye.lFrame,e=n===null?null:n.child;return e===null?aP(n):e}function aP(n){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=e),e}function cP(){let n=ye.lFrame;return ye.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var o0=cP;function pp(){let n=cP();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function lP(n){return(ye.lFrame.contextLView=WI(n,ye.lFrame.contextLView))[Tt]}function er(){return ye.lFrame.selectedIndex}function So(n){ye.lFrame.selectedIndex=n}function s0(){let n=ye.lFrame;return zl(n.tView,n.selectedIndex)}function hp(){ye.lFrame.currentNamespace=zv}function gp(){z3()}function z3(){ye.lFrame.currentNamespace=null}function uP(){return ye.lFrame.currentNamespace}var dP=!0;function mp(){return dP}function _p(n){dP=n}function _v(n,e=null,t=null,i){let r=a0(n,e,t,i);return r.resolveInjectorInitializers(),r}function a0(n,e=null,t=null,i,r=new Set){let o=[t||mn,rp(n)];return i=i||(typeof n=="object"?void 0:Nr(n)),new Is(o,e||Bl(),i||null,r)}var Be=class n{static THROW_IF_NOT_FOUND=ws;static NULL=new kl;static create(e,t){if(Array.isArray(e))return _v({name:""},t,e,"");{let i=e.name??"";return _v({name:i},e.parent,e.providers,i)}}static \u0275prov=$({token:n,providedIn:"any",factory:()=>q(Tv)});static __NG_ELEMENT_ID__=-1},gt=new G(""),ni=(()=>{class n{static __NG_ELEMENT_ID__=$3;static __NG_ENV_ID__=t=>t}return n})(),vv=class extends ni{_lView;constructor(e){super(),this._lView=e}get destroyed(){return As(this._lView)}onDestroy(e){let t=this._lView;return qv(t,e),()=>GI(t,e)}};function $3(){return new vv(_e())}var bi=class{_console=console;handleError(e){this._console.error("ERROR",e)}},Vn=new G("",{providedIn:"root",factory:()=>{let n=N(yt),e;return t=>{n.destroyed&&!e?setTimeout(()=>{throw t}):(e??=n.get(bi),e.handleError(t))}}}),fP={provide:Io,useValue:()=>void N(bi),multi:!0};function xn(n,e){let[t,i,r]=W_(n,e?.equal),o=t,s=o[hn];return o.set=i,o.update=r,o.asReadonly=pP.bind(o),o}function pP(){let n=this[hn];if(n.readonlyFn===void 0){let e=()=>this();e[hn]=n,n.readonlyFn=e}return n.readonlyFn}var vp=(()=>{class n{view;node;constructor(t,i){this.view=t,this.node=i}static __NG_ELEMENT_ID__=H3}return n})();function H3(){return new vp(_e(),Xt())}var Lr=class{},Wl=new G("",{providedIn:"root",factory:()=>!1});var c0=new G(""),l0=new G(""),tr=(()=>{class n{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new Yt(!1);get hasPendingTasks(){return this.destroyed?!1:this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new ee(t=>{t.next(!1),t.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}has(t){return this.pendingTasks.has(t)}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=$({token:n,providedIn:"root",factory:()=>new n})}return n})(),jr=(()=>{class n{internalPendingTasks=N(tr);scheduler=N(Lr);errorHandler=N(Vn);add(){let t=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(t)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(t))}}run(t){let i=this.add();t().catch(this.errorHandler).finally(i)}static \u0275prov=$({token:n,providedIn:"root",factory:()=>new n})}return n})();function Gl(...n){}var u0=(()=>{class n{static \u0275prov=$({token:n,providedIn:"root",factory:()=>new yv})}return n})(),yv=class{dirtyEffectCount=0;queues=new Map;add(e){this.enqueue(e),this.schedule(e)}schedule(e){e.dirty&&this.dirtyEffectCount++}remove(e){let t=e.zone,i=this.queues.get(t);i.has(e)&&(i.delete(e),e.dirty&&this.dirtyEffectCount--)}enqueue(e){let t=e.zone;this.queues.has(t)||this.queues.set(t,new Set);let i=this.queues.get(t);i.has(e)||i.add(e)}flush(){for(;this.dirtyEffectCount>0;){let e=!1;for(let[t,i]of this.queues)t===null?e||=this.flushQueue(i):e||=t.run(()=>this.flushQueue(i));e||(this.dirtyEffectCount=0)}}flushQueue(e){let t=!1;for(let i of e)i.dirty&&(this.dirtyEffectCount--,t=!0,i.run());return t}};function oc(n){return{toString:n}.toString()}var yp="__parameters__";function Z3(n){return function(...t){if(n){let i=n(...t);for(let r in i)this[r]=i[r]}}}function X3(n,e,t){return oc(()=>{let i=Z3(e);function r(...o){if(this instanceof r)return i.apply(this,o),this;let s=new r(...o);return a.annotation=s,a;function a(c,l,h){let f=c.hasOwnProperty(yp)?c[yp]:Object.defineProperty(c,yp,{value:[]})[yp];for(;f.length<=h;)f.push(null);return(f[h]=f[h]||[]).push(s),c}}return r.prototype.ngMetadataName=n,r.annotationCls=r,r})}var Wt=TI(X3("Optional"),8);function J3(n){return typeof n=="function"}var Pp=class{previousValue;currentValue;firstChange;constructor(e,t,i){this.previousValue=e,this.currentValue=t,this.firstChange=i}isFirstChange(){return this.firstChange}};function $P(n,e,t,i){e!==null?e.applyValueToInputSignal(e,i):n[t]=i}var ir=(()=>{let n=()=>HP;return n.ngInherit=!0,n})();function HP(n){return n.type.prototype.ngOnChanges&&(n.setInput=t4),e4}function e4(){let n=GP(this),e=n?.current;if(e){let t=n.previous;if(t===Mo)n.previous=e;else for(let i in e)t[i]=e[i];n.current=null,this.ngOnChanges(e)}}function t4(n,e,t,i,r){let o=this.declaredInputs[i],s=GP(n)||n4(n,{previous:Mo,current:null}),a=s.current||(s.current={}),c=s.previous,l=c[o];a[o]=new Pp(l&&l.currentValue,t,c===Mo),$P(n,e,r,t)}var WP="__ngSimpleChanges__";function GP(n){return n[WP]||null}function n4(n,e){return n[WP]=e}var hP=[];var Je=function(n,e=null,t){for(let i=0;i<hP.length;i++){let r=hP[i];r(n,e,t)}};function i4(n,e,t){let{ngOnChanges:i,ngOnInit:r,ngDoCheck:o}=e.type.prototype;if(i){let s=HP(e);(t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s)}r&&(t.preOrderHooks??=[]).push(0-n,r),o&&((t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o))}function r4(n,e){for(let t=e.directiveStart,i=e.directiveEnd;t<i;t++){let o=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:h}=o;s&&(n.contentHooks??=[]).push(-t,s),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),c&&(n.viewHooks??=[]).push(-t,c),l&&((n.viewHooks??=[]).push(t,l),(n.viewCheckHooks??=[]).push(t,l)),h!=null&&(n.destroyHooks??=[]).push(t,h)}}function wp(n,e,t){qP(n,e,3,t)}function Ep(n,e,t,i){(n[fe]&3)===t&&qP(n,e,t,i)}function d0(n,e){let t=n[fe];(t&3)===e&&(t&=16383,t+=1,n[fe]=t)}function qP(n,e,t,i){let r=i!==void 0?n[xs]&65535:0,o=i??-1,s=e.length-1,a=0;for(let c=r;c<s;c++)if(typeof e[c+1]=="number"){if(a=e[c],i!=null&&a>=i)break}else e[c]<0&&(n[xs]+=65536),(a<o||o==-1)&&(o4(n,t,e,c),n[xs]=(n[xs]&4294901760)+c+2),c++}function gP(n,e){Je(4,n,e);let t=ue(null);try{e.call(n)}finally{ue(t),Je(5,n,e)}}function o4(n,e,t,i){let r=t[i]<0,o=t[i+1],s=r?-t[i]:t[i],a=n[s];r?n[fe]>>14<n[xs]>>16&&(n[fe]&3)===e&&(n[fe]+=16384,gP(a,o)):gP(a,o)}var Ja=-1,Ns=class{factory;name;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,t,i,r){this.factory=e,this.name=r,this.canSeeViewProviders=t,this.injectImpl=i}};function s4(n){return(n.flags&8)!==0}function a4(n){return(n.flags&16)!==0}function c4(n,e,t){let i=0;for(;i<t.length;){let r=t[i];if(typeof r=="number"){if(r!==0)break;i++;let o=t[i++],s=t[i++],a=t[i++];n.setAttribute(e,s,a,o)}else{let o=r,s=t[++i];l4(o)?n.setProperty(e,o,s):n.setAttribute(e,o,s),i++}}return i}function KP(n){return n===3||n===4||n===6}function l4(n){return n.charCodeAt(0)===64}function ec(n,e){if(!(e===null||e.length===0))if(n===null||n.length===0)n=e.slice();else{let t=-1;for(let i=0;i<e.length;i++){let r=e[i];typeof r=="number"?t=r:t===0||(t===-1||t===2?mP(n,t,r,null,e[++i]):mP(n,t,r,null,null))}}return n}function mP(n,e,t,i,r){let o=0,s=n.length;if(e===-1)s=-1;else for(;o<n.length;){let a=n[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<n.length;){let a=n[o];if(typeof a=="number")break;if(a===t){r!==null&&(n[o+1]=r);return}o++,r!==null&&o++}s!==-1&&(n.splice(s,0,e),o=s+1),n.splice(o++,0,t),r!==null&&n.splice(o++,0,r)}function YP(n){return n!==Ja}function Op(n){return n&32767}function u4(n){return n>>16}function xp(n,e){let t=u4(n),i=e;for(;t>0;)i=i[Os],t--;return i}var w0=!0;function Sp(n){let e=w0;return w0=n,e}var d4=256,QP=d4-1,ZP=5,f4=0,nr={};function p4(n,e,t){let i;typeof t=="string"?i=t.charCodeAt(0)||0:t.hasOwnProperty(Ps)&&(i=t[Ps]),i==null&&(i=t[Ps]=f4++);let r=i&QP,o=1<<r;e.data[n+(r>>ZP)]|=o}function Dp(n,e){let t=XP(n,e);if(t!==-1)return t;let i=e[oe];i.firstCreatePass&&(n.injectorIndex=e.length,f0(i.data,n),f0(e,null),f0(i.blueprint,null));let r=ey(n,e),o=n.injectorIndex;if(YP(r)){let s=Op(r),a=xp(r,e),c=a[oe].data;for(let l=0;l<8;l++)e[o+l]=a[s+l]|c[s+l]}return e[o+8]=r,o}function f0(n,e){n.push(0,0,0,0,0,0,0,0,e)}function XP(n,e){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||e[n.injectorIndex+8]===null?-1:n.injectorIndex}function ey(n,e){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let t=0,i=null,r=e;for(;r!==null;){if(i=iO(r),i===null)return Ja;if(t++,r=r[Os],i.injectorIndex!==-1)return i.injectorIndex|t<<16}return Ja}function E0(n,e,t){p4(n,e,t)}function h4(n,e){if(e==="class")return n.classes;if(e==="style")return n.styles;let t=n.attrs;if(t){let i=t.length,r=0;for(;r<i;){let o=t[r];if(KP(o))break;if(o===0)r=r+2;else if(typeof o=="number")for(r++;r<i&&typeof t[r]=="string";)r++;else{if(o===e)return t[r+1];r=r+2}}}return null}function JP(n,e,t){if(t&8||n!==void 0)return n;ep(e,"NodeInjector")}function eO(n,e,t,i){if(t&8&&i===void 0&&(i=null),(t&3)===0){let r=n[Br],o=gn(void 0);try{return r?r.get(e,i,t&8):Sv(e,i,t&8)}finally{gn(o)}}return JP(i,e,t)}function tO(n,e,t,i=0,r){if(n!==null){if(e[fe]&2048&&!(i&2)){let s=v4(n,e,t,i,nr);if(s!==nr)return s}let o=nO(n,e,t,i,nr);if(o!==nr)return o}return eO(e,t,i,r)}function nO(n,e,t,i,r){let o=m4(t);if(typeof o=="function"){if(!r0(e,n,i))return i&1?JP(r,t,i):eO(e,t,i,r);try{let s;if(s=o(i),s==null&&!(i&8))ep(t);else return s}finally{o0()}}else if(typeof o=="number"){let s=null,a=XP(n,e),c=Ja,l=i&1?e[Bn][Jn]:null;for((a===-1||i&4)&&(c=a===-1?ey(n,e):e[a+8],c===Ja||!vP(i,!1)?a=-1:(s=e[oe],a=Op(c),e=xp(c,e)));a!==-1;){let h=e[oe];if(_P(o,a,h.data)){let f=g4(a,e,t,s,i,l);if(f!==nr)return f}c=e[a+8],c!==Ja&&vP(i,e[oe].data[a+8]===l)&&_P(o,a,e)?(s=h,a=Op(c),e=xp(c,e)):a=-1}}return r}function g4(n,e,t,i,r,o){let s=e[oe],a=s.data[n+8],c=i==null?xo(a)&&w0:i!=s&&(a.type&3)!==0,l=r&1&&o===a,h=Mp(a,s,t,c,l);return h!==null?Yl(e,s,h,a,r):nr}function Mp(n,e,t,i,r){let o=n.providerIndexes,s=e.data,a=o&1048575,c=n.directiveStart,l=n.directiveEnd,h=o>>20,f=i?a:a+h,y=r?a+h:l;for(let w=f;w<y;w++){let I=s[w];if(w<c&&t===I||w>=c&&I.type===t)return w}if(r){let w=s[c];if(w&&Xi(w)&&w.type===t)return c}return null}function Yl(n,e,t,i,r){let o=n[t],s=e.data;if(o instanceof Ns){let a=o;if(a.resolving){let w=OI(s[t]);throw xv(w)}let c=Sp(a.canSeeViewProviders);a.resolving=!0;let l=s[t].type||s[t],h,f=a.injectImpl?gn(a.injectImpl):null,y=r0(n,i,0);try{o=n[t]=a.factory(void 0,r,s,n,i),e.firstCreatePass&&t>=i.directiveStart&&i4(t,s[t],e)}finally{f!==null&&gn(f),Sp(c),a.resolving=!1,o0()}}return o}function m4(n){if(typeof n=="string")return n.charCodeAt(0)||0;let e=n.hasOwnProperty(Ps)?n[Ps]:void 0;return typeof e=="number"?e>=0?e&QP:_4:e}function _P(n,e,t){let i=1<<n;return!!(t[e+(n>>ZP)]&i)}function vP(n,e){return!(n&2)&&!(n&1&&e)}var Rs=class{_tNode;_lView;constructor(e,t){this._tNode=e,this._lView=t}get(e,t,i){return tO(this._tNode,this._lView,e,Es(i),t)}};function _4(){return new Rs(Xt(),_e())}function Sn(n){return oc(()=>{let e=n.prototype.constructor,t=e[Al]||M0(e),i=Object.prototype,r=Object.getPrototypeOf(n.prototype).constructor;for(;r&&r!==i;){let o=r[Al]||M0(r);if(o&&o!==t)return o;r=Object.getPrototypeOf(r)}return o=>new o})}function M0(n){return Cv(n)?()=>{let e=M0(Qt(n));return e&&e()}:bo(n)}function v4(n,e,t,i,r){let o=n,s=e;for(;o!==null&&s!==null&&s[fe]&2048&&!Ya(s);){let a=nO(o,s,t,i|2,nr);if(a!==nr)return a;let c=o.parent;if(!c){let l=s[jv];if(l){let h=l.get(t,nr,i);if(h!==nr)return h}c=iO(s),s=s[Os]}o=c}return r}function iO(n){let e=n[oe],t=e.type;return t===2?e.declTNode:t===1?n[Jn]:null}function tu(n){return h4(Xt(),n)}function y4(){return sc(Xt(),_e())}function sc(n,e){return new Jt(Ei(n,e))}var Jt=(()=>{class n{nativeElement;constructor(t){this.nativeElement=t}static __NG_ELEMENT_ID__=y4}return n})();function b4(n){return n instanceof Jt?n.nativeElement:n}function C4(){return this._results[Symbol.iterator]()}var Tp=class{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new de}constructor(e=!1){this._emitDistinctChangesOnly=e}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){this.dirty=!1;let i=kI(e);(this._changesDetected=!AI(this._results,i,t))&&(this._results=i,this.length=i.length,this.last=i[this.length-1],this.first=i[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=C4};function rO(n){return(n.flags&128)===128}var ty=(function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n})(ty||{}),oO=new Map,w4=0;function E4(){return w4++}function M4(n){oO.set(n[jl],n)}function I0(n){oO.delete(n[jl])}var yP="__ngContext__";function tc(n,e){Zi(e)?(n[yP]=e[jl],M4(e)):n[yP]=e}function sO(n){return cO(n[Ka])}function aO(n){return cO(n[Xn])}function cO(n){for(;n!==null&&!wi(n);)n=n[Xn];return n}var P0;function ny(n){P0=n}function lO(){if(P0!==void 0)return P0;if(typeof document<"u")return document;throw new j(210,!1)}var qp=new G("",{providedIn:"root",factory:()=>I4}),I4="ng",Kp=new G(""),js=new G("",{providedIn:"platform",factory:()=>"unknown"});var Yp=new G(""),Qp=new G("",{providedIn:"root",factory:()=>lO().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var P4="h",O4="b";var uO="r";var dO="di";var fO=!1,pO=new G("",{providedIn:"root",factory:()=>fO});var iy=new G("");var x4=(n,e,t,i)=>{};function S4(n,e,t,i){x4(n,e,t,i)}function ry(n){return(n.flags&32)===32}var D4=()=>null;function hO(n,e,t=!1){return D4(n,e,t)}function gO(n,e){let t=n.contentQueries;if(t!==null){let i=ue(null);try{for(let r=0;r<t.length;r+=2){let o=t[r],s=t[r+1];if(s!==-1){let a=n.data[s];dp(o),a.contentQueries(2,e[s],s)}}}finally{ue(i)}}}function O0(n,e,t){dp(0);let i=ue(null);try{e(n,t)}finally{ue(i)}}function mO(n,e,t){if(Uv(e)){let i=ue(null);try{let r=e.directiveStart,o=e.directiveEnd;for(let s=r;s<o;s++){let a=n.data[s];if(a.contentQueries){let c=t[s];a.contentQueries(1,c,s)}}}finally{ue(i)}}}var Vr=(function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n})(Vr||{});var bp;function T4(){if(bp===void 0&&(bp=null,Rl.trustedTypes))try{bp=Rl.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return bp}function bP(n){return T4()?.createScriptURL(n)||n}var Ap=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Zf})`}};function ac(n){return n instanceof Ap?n.changingThisBreaksApplicationSecurity:n}function oy(n,e){let t=_O(n);if(t!=null&&t!==e){if(t==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${Zf})`)}return t===e}function _O(n){return n instanceof Ap&&n.getTypeName()||null}var A4=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function vO(n){return n=String(n),n.match(A4)?n:"unsafe:"+n}function k4(n,e){return n.createText(e)}function R4(n,e,t){n.setValue(e,t)}function yO(n,e,t){return n.createElement(e,t)}function kp(n,e,t,i,r){n.insertBefore(e,t,i,r)}function bO(n,e,t){n.appendChild(e,t)}function CP(n,e,t,i,r){i!==null?kp(n,e,t,i,r):bO(n,e,t)}function CO(n,e,t,i){n.removeChild(null,e,t,i)}function N4(n,e,t){n.setAttribute(e,"style",t)}function L4(n,e,t){t===""?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function wO(n,e,t){let{mergedAttrs:i,classes:r,styles:o}=t;i!==null&&c4(n,e,i),r!==null&&L4(n,e,r),o!==null&&N4(n,e,o)}var Zp=(function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n})(Zp||{});function At(n){let e=MO();return e?e.sanitize(Zp.URL,n)||"":oy(n,"URL")?ac(n):vO(Eo(n))}function EO(n){let e=MO();if(e)return bP(e.sanitize(Zp.RESOURCE_URL,n)||"");if(oy(n,"ResourceURL"))return bP(ac(n));throw new j(904,!1)}function F4(n,e){return e==="src"&&(n==="embed"||n==="frame"||n==="iframe"||n==="media"||n==="script")||e==="href"&&(n==="base"||n==="link")?EO:At}function sy(n,e,t){return F4(e,t)(n)}function MO(){let n=_e();return n&&n[Yi].sanitizer}function nu(n){return n.ownerDocument.defaultView}function ay(n){return n.ownerDocument}function IO(n){return n instanceof Function?n():n}function B4(n,e,t){let i=n.length;for(;;){let r=n.indexOf(e,t);if(r===-1)return r;if(r===0||n.charCodeAt(r-1)<=32){let o=e.length;if(r+o===i||n.charCodeAt(r+o)<=32)return r}t=r+1}}var PO="ng-template";function j4(n,e,t,i){let r=0;if(i){for(;r<e.length&&typeof e[r]=="string";r+=2)if(e[r]==="class"&&B4(e[r+1].toLowerCase(),t,0)!==-1)return!0}else if(cy(n))return!1;if(r=e.indexOf(1,r),r>-1){let o;for(;++r<e.length&&typeof(o=e[r])=="string";)if(o.toLowerCase()===t)return!0}return!1}function cy(n){return n.type===4&&n.value!==PO}function V4(n,e,t){let i=n.type===4&&!t?PO:n.value;return e===i}function U4(n,e,t){let i=4,r=n.attrs,o=r!==null?H4(r):0,s=!1;for(let a=0;a<e.length;a++){let c=e[a];if(typeof c=="number"){if(!s&&!Mi(i)&&!Mi(c))return!1;if(s&&Mi(c))continue;s=!1,i=c|i&1;continue}if(!s)if(i&4){if(i=2|i&1,c!==""&&!V4(n,c,t)||c===""&&e.length===1){if(Mi(i))return!1;s=!0}}else if(i&8){if(r===null||!j4(n,r,c,t)){if(Mi(i))return!1;s=!0}}else{let l=e[++a],h=z4(c,r,cy(n),t);if(h===-1){if(Mi(i))return!1;s=!0;continue}if(l!==""){let f;if(h>o?f="":f=r[h+1].toLowerCase(),i&2&&l!==f){if(Mi(i))return!1;s=!0}}}}return Mi(i)||s}function Mi(n){return(n&1)===0}function z4(n,e,t,i){if(e===null)return-1;let r=0;if(i||!t){let o=!1;for(;r<e.length;){let s=e[r];if(s===n)return r;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++r];for(;typeof a=="string";)a=e[++r];continue}else{if(s===4)break;if(s===0){r+=4;continue}}r+=o?1:2}return-1}else return W4(e,n)}function $4(n,e,t=!1){for(let i=0;i<e.length;i++)if(U4(n,e[i],t))return!0;return!1}function H4(n){for(let e=0;e<n.length;e++){let t=n[e];if(KP(t))return e}return n.length}function W4(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){let i=n[t];if(typeof i=="number")return-1;if(i===e)return t;t++}return-1}function wP(n,e){return n?":not("+e.trim()+")":e}function G4(n){let e=n[0],t=1,i=2,r="",o=!1;for(;t<n.length;){let s=n[t];if(typeof s=="string")if(i&2){let a=n[++t];r+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else i&8?r+="."+s:i&4&&(r+=" "+s);else r!==""&&!Mi(s)&&(e+=wP(o,r),r=""),i=s,o=o||!Mi(i);t++}return r!==""&&(e+=wP(o,r)),e}function q4(n){return n.map(G4).join(",")}function K4(n){let e=[],t=[],i=1,r=2;for(;i<n.length;){let o=n[i];if(typeof o=="string")r===2?o!==""&&e.push(o,n[++i]):r===8&&t.push(o);else{if(!Mi(r))break;r=o}i++}return t.length&&e.push(1,...t),e}var fn={};function ly(n,e,t,i,r,o,s,a,c,l,h){let f=Bt+i,y=f+r,w=Y4(f,y),I=typeof l=="function"?l():l;return w[oe]={type:n,blueprint:w,template:t,queries:null,viewQuery:a,declTNode:e,data:w.slice().fill(null,f),bindingStartIndex:f,expandoStartIndex:y,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:c,consts:I,incompleteFirstPass:!1,ssrId:h}}function Y4(n,e){let t=[];for(let i=0;i<e;i++)t.push(i<n?null:fn);return t}function Q4(n){let e=n.tView;return e===null||e.incompleteFirstPass?n.tView=ly(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function uy(n,e,t,i,r,o,s,a,c,l,h){let f=e.blueprint.slice();return f[Ci]=r,f[fe]=i|4|128|8|64|1024,(l!==null||n&&n[fe]&2048)&&(f[fe]|=2048),Wv(f),f[Ft]=f[Os]=n,f[Tt]=t,f[Yi]=s||n&&n[Yi],f[wt]=a||n&&n[wt],f[Br]=c||n&&n[Br]||null,f[Jn]=o,f[jl]=E4(),f[Ga]=h,f[jv]=l,f[Bn]=e.type==2?n[Bn]:f,f}function Z4(n,e,t){let i=Ei(e,n),r=Q4(t),o=n[Yi].rendererFactory,s=dy(n,uy(n,r,null,OO(t),i,e,null,o.createRenderer(i,t),null,null,null));return n[e.index]=s}function OO(n){let e=16;return n.signals?e=4096:n.onPush&&(e=64),e}function xO(n,e,t,i){if(t===0)return-1;let r=e.length;for(let o=0;o<t;o++)e.push(i),n.blueprint.push(i),n.data.push(null);return r}function dy(n,e){return n[Ka]?n[Bv][Xn]=e:n[Ka]=e,n[Bv]=e,e}function p(n=1){SO(Zt(),_e(),er()+n,!1)}function SO(n,e,t,i){if(!i)if((e[fe]&3)===3){let o=n.preOrderCheckHooks;o!==null&&wp(e,o,t)}else{let o=n.preOrderHooks;o!==null&&Ep(e,o,0,t)}So(t)}var Xp=(function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n})(Xp||{});function x0(n,e,t,i){let r=ue(null);try{let[o,s,a]=n.inputs[t],c=null;(s&Xp.SignalBased)!==0&&(c=e[o][hn]),c!==null&&c.transformFn!==void 0?i=c.transformFn(i):a!==null&&(i=a.call(e,i)),n.setInput!==null?n.setInput(e,c,i,t,o):$P(e,c,o,i)}finally{ue(r)}}var Ur=(function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n})(Ur||{}),X4;function fy(n,e){return X4(n,e)}var Ls=new Set,Jp=(function(n){return n[n.CHANGE_DETECTION=0]="CHANGE_DETECTION",n[n.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",n})(Jp||{}),Vs=new G(""),EP=new Set;function Un(n){EP.has(n)||(EP.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}var DO=!1,S0=class extends de{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,jI()&&(this.destroyRef=N(ni,{optional:!0})??void 0,this.pendingTasks=N(tr,{optional:!0})??void 0)}emit(e){let t=ue(null);try{super.next(e)}finally{ue(t)}}subscribe(e,t,i){let r=e,o=t||(()=>null),s=i;if(e&&typeof e=="object"){let c=e;r=c.next?.bind(c),o=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(o=this.wrapInTimeout(o),r&&(r=this.wrapInTimeout(r)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:r,error:o,complete:s});return e instanceof Ct&&e.add(a),a}wrapInTimeout(e){return t=>{let i=this.pendingTasks?.add();setTimeout(()=>{try{e(t)}finally{i!==void 0&&this.pendingTasks?.remove(i)}})}}},nt=S0;function TO(n){let e,t;function i(){n=Gl;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{n(),i()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{n(),i()})),()=>i()}function MP(n){return queueMicrotask(()=>n()),()=>{n=Gl}}var py="isAngularZone",Rp=py+"_ID",J4=0,ke=class n{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new nt(!1);onMicrotaskEmpty=new nt(!1);onStable=new nt(!1);onError=new nt(!1);constructor(e){let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:i=!1,shouldCoalesceRunChangeDetection:r=!1,scheduleInRootZone:o=DO}=e;if(typeof Zone>"u")throw new j(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!r&&i,s.shouldCoalesceRunChangeDetection=r,s.callbackScheduled=!1,s.scheduleInRootZone=o,nB(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(py)===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new j(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new j(909,!1)}run(e,t,i){return this._inner.run(e,t,i)}runTask(e,t,i,r){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+r,e,eB,Gl,Gl);try{return o.runTask(s,t,i)}finally{o.cancelTask(s)}}runGuarded(e,t,i){return this._inner.runGuarded(e,t,i)}runOutsideAngular(e){return this._outer.run(e)}},eB={};function hy(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function tB(n){if(n.isCheckStableRunning||n.callbackScheduled)return;n.callbackScheduled=!0;function e(){TO(()=>{n.callbackScheduled=!1,D0(n),n.isCheckStableRunning=!0,hy(n),n.isCheckStableRunning=!1})}n.scheduleInRootZone?Zone.root.run(()=>{e()}):n._outer.run(()=>{e()}),D0(n)}function nB(n){let e=()=>{tB(n)},t=J4++;n._inner=n._inner.fork({name:"angular",properties:{[py]:!0,[Rp]:t,[Rp+t]:!0},onInvokeTask:(i,r,o,s,a,c)=>{if(iB(c))return i.invokeTask(o,s,a,c);try{return IP(n),i.invokeTask(o,s,a,c)}finally{(n.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&e(),PP(n)}},onInvoke:(i,r,o,s,a,c,l)=>{try{return IP(n),i.invoke(o,s,a,c,l)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!rB(c)&&e(),PP(n)}},onHasTask:(i,r,o,s)=>{i.hasTask(o,s),r===o&&(s.change=="microTask"?(n._hasPendingMicrotasks=s.microTask,D0(n),hy(n)):s.change=="macroTask"&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(i,r,o,s)=>(i.handleError(o,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}function D0(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.callbackScheduled===!0?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function IP(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function PP(n){n._nesting--,hy(n)}var Np=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new nt;onMicrotaskEmpty=new nt;onStable=new nt;onError=new nt;run(e,t,i){return e.apply(t,i)}runGuarded(e,t,i){return e.apply(t,i)}runOutsideAngular(e){return e()}runTask(e,t,i,r){return e.apply(t,i)}};function iB(n){return AO(n,"__ignore_ng_zone__")}function rB(n){return AO(n,"__scheduler_tick__")}function AO(n,e){return!Array.isArray(n)||n.length!==1?!1:n[0]?.data?.[e]===!0}var gy=(()=>{class n{impl=null;execute(){this.impl?.execute()}static \u0275prov=$({token:n,providedIn:"root",factory:()=>new n})}return n})(),kO=[0,1,2,3],RO=(()=>{class n{ngZone=N(ke);scheduler=N(Lr);errorHandler=N(bi,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){N(Vs,{optional:!0})}execute(){let t=this.sequences.size>0;t&&Je(16),this.executing=!0;for(let i of kO)for(let r of this.sequences)if(!(r.erroredOrDestroyed||!r.hooks[i]))try{r.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>{let o=r.hooks[i];return o(r.pipelinedValue)},r.snapshot))}catch(o){r.erroredOrDestroyed=!0,this.errorHandler?.handleError(o)}this.executing=!1;for(let i of this.sequences)i.afterRun(),i.once&&(this.sequences.delete(i),i.destroy());for(let i of this.deferredRegistrations)this.sequences.add(i);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),t&&Je(17)}register(t){let{view:i}=t;i!==void 0?((i[Ss]??=[]).push(t),Qa(i),i[fe]|=8192):this.executing?this.deferredRegistrations.add(t):this.addSequence(t)}addSequence(t){this.sequences.add(t),this.scheduler.notify(7)}unregister(t){this.executing&&this.sequences.has(t)?(t.erroredOrDestroyed=!0,t.pipelinedValue=void 0,t.once=!0):(this.sequences.delete(t),this.deferredRegistrations.delete(t))}maybeTrace(t,i){return i?i.run(Jp.AFTER_NEXT_RENDER,t):t()}static \u0275prov=$({token:n,providedIn:"root",factory:()=>new n})}return n})(),Lp=class{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(e,t,i,r,o,s=null){this.impl=e,this.hooks=t,this.view=i,this.once=r,this.snapshot=s,this.unregisterOnDestroy=o?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();let e=this.view?.[Ss];e&&(this.view[Ss]=e.filter(t=>t!==this))}};function iu(n,e){let t=e?.injector??N(Be);return Un("NgAfterNextRender"),sB(n,t,e,!0)}function oB(n){return n instanceof Function?[void 0,void 0,n,void 0]:[n.earlyRead,n.write,n.mixedReadWrite,n.read]}function sB(n,e,t,i){let r=e.get(gy);r.impl??=e.get(RO);let o=e.get(Vs,null,{optional:!0}),s=t?.manualCleanup!==!0?e.get(ni):null,a=e.get(vp,null,{optional:!0}),c=new Lp(r.impl,oB(n),a?.view,i,s,o?.snapshot(null));return r.impl.register(c),c}var NO=new G("",{providedIn:"root",factory:()=>({queue:new Set,isScheduled:!1,scheduler:null})});function LO(n,e,t){let i=n.get(NO);if(Array.isArray(e))for(let r of e)i.queue.add(r),t?.detachedLeaveAnimationFns?.push(r);else i.queue.add(e),t?.detachedLeaveAnimationFns?.push(e);i.scheduler&&i.scheduler(n)}function aB(n,e){let t=n.get(NO);if(e.detachedLeaveAnimationFns){for(let i of e.detachedLeaveAnimationFns)t.queue.delete(i);e.detachedLeaveAnimationFns=void 0}}function cB(n,e){for(let[t,i]of e)LO(n,i.animateFns)}function OP(n,e,t,i){let r=n?.[Ds]?.enter;e!==null&&r&&r.has(t.index)&&cB(i,r)}function Xa(n,e,t,i,r,o,s,a){if(r!=null){let c,l=!1;wi(r)?c=r:Zi(r)&&(l=!0,r=r[Ci]);let h=ei(r);n===0&&i!==null?(OP(a,i,o,t),s==null?bO(e,i,h):kp(e,i,h,s||null,!0)):n===1&&i!==null?(OP(a,i,o,t),kp(e,i,h,s||null,!0)):n===2?xP(a,o,t,f=>{CO(e,h,l,f)}):n===3&&xP(a,o,t,()=>{e.destroyNode(h)}),c!=null&&CB(e,n,t,c,o,i,s)}}function lB(n,e){FO(n,e),e[Ci]=null,e[Jn]=null}function uB(n,e,t,i,r,o){i[Ci]=r,i[Jn]=e,th(n,i,t,1,r,o)}function FO(n,e){e[Yi].changeDetectionScheduler?.notify(9),th(n,e,e[wt],2,null,null)}function dB(n){let e=n[Ka];if(!e)return p0(n[oe],n);for(;e;){let t=null;if(Zi(e))t=e[Ka];else{let i=e[Et];i&&(t=i)}if(!t){for(;e&&!e[Xn]&&e!==n;)Zi(e)&&p0(e[oe],e),e=e[Ft];e===null&&(e=n),Zi(e)&&p0(e[oe],e),t=e&&e[Xn]}e=t}}function my(n,e){let t=n[Ts],i=t.indexOf(e);t.splice(i,1)}function eh(n,e){if(As(e))return;let t=e[wt];t.destroyNode&&th(n,e,t,3,null,null),dB(e)}function p0(n,e){if(As(e))return;let t=ue(null);try{e[fe]&=-129,e[fe]|=256,e[jn]&&Il(e[jn]),hB(n,e),pB(n,e),e[oe].type===1&&e[wt].destroy();let i=e[Po];if(i!==null&&wi(e[Ft])){i!==e[Ft]&&my(i,e);let r=e[Qi];r!==null&&r.detachView(n)}I0(e)}finally{ue(t)}}function xP(n,e,t,i){let r=n?.[Ds];if(r==null||r.leave==null||!r.leave.has(e.index))return i(!1);n&&Ls.add(n),LO(t,()=>{if(r.leave&&r.leave.has(e.index)){let s=r.leave.get(e.index),a=[];if(s){for(let c=0;c<s.animateFns.length;c++){let l=s.animateFns[c],{promise:h}=l();a.push(h)}r.detachedLeaveAnimationFns=void 0}r.running=Promise.allSettled(a),fB(n,i)}else n&&Ls.delete(n),i(!1)},r)}function fB(n,e){let t=n[Ds]?.running;if(t){t.then(()=>{n[Ds].running=void 0,Ls.delete(n),e(!0)});return}e(!1)}function pB(n,e){let t=n.cleanup,i=e[qa];if(t!==null)for(let s=0;s<t.length-1;s+=2)if(typeof t[s]=="string"){let a=t[s+3];a>=0?i[a]():i[-a].unsubscribe(),s+=2}else{let a=i[t[s+1]];t[s].call(a)}i!==null&&(e[qa]=null);let r=e[Rr];if(r!==null){e[Rr]=null;for(let s=0;s<r.length;s++){let a=r[s];a()}}let o=e[Vl];if(o!==null){e[Vl]=null;for(let s of o)s.destroy()}}function hB(n,e){let t;if(n!=null&&(t=n.destroyHooks)!=null)for(let i=0;i<t.length;i+=2){let r=e[t[i]];if(!(r instanceof Ns)){let o=t[i+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=r[o[s]],c=o[s+1];Je(4,a,c);try{c.call(a)}finally{Je(5,a,c)}}else{Je(4,r,o);try{o.call(r)}finally{Je(5,r,o)}}}}}function gB(n,e,t){return mB(n,e.parent,t)}function mB(n,e,t){let i=e;for(;i!==null&&i.type&168;)e=i,i=e.parent;if(i===null)return t[Ci];if(xo(i)){let{encapsulation:r}=n.data[i.directiveStart+i.componentOffset];if(r===Vr.None||r===Vr.Emulated)return null}return Ei(i,t)}function _B(n,e,t){return yB(n,e,t)}function vB(n,e,t){return n.type&40?Ei(n,t):null}var yB=vB,SP;function _y(n,e,t,i){let r=gB(n,i,e),o=e[wt],s=i.parent||e[Jn],a=_B(s,i,e);if(r!=null)if(Array.isArray(t))for(let c=0;c<t.length;c++)CP(o,r,t[c],a,!1);else CP(o,r,t,a,!1);SP!==void 0&&SP(o,i,e,t,r)}function ql(n,e){if(e!==null){let t=e.type;if(t&3)return Ei(e,n);if(t&4)return T0(-1,n[e.index]);if(t&8){let i=e.child;if(i!==null)return ql(n,i);{let r=n[e.index];return wi(r)?T0(-1,r):ei(r)}}else{if(t&128)return ql(n,e.next);if(t&32)return fy(e,n)()||ei(n[e.index]);{let i=BO(n,e);if(i!==null){if(Array.isArray(i))return i[0];let r=Co(n[Bn]);return ql(r,i)}else return ql(n,e.next)}}}return null}function BO(n,e){if(e!==null){let i=n[Bn][Jn],r=e.projection;return i.projection[r]}return null}function T0(n,e){let t=Et+n+1;if(t<e.length){let i=e[t],r=i[oe].firstChild;if(r!==null)return ql(i,r)}return e[Oo]}function vy(n,e,t,i,r,o,s){for(;t!=null;){let a=i[Br];if(t.type===128){t=t.next;continue}let c=i[t.index],l=t.type;if(s&&e===0&&(c&&tc(ei(c),i),t.flags|=2),!ry(t))if(l&8)vy(n,e,t.child,i,r,o,!1),Xa(e,n,a,r,c,t,o,i);else if(l&32){let h=fy(t,i),f;for(;f=h();)Xa(e,n,a,r,f,t,o,i);Xa(e,n,a,r,c,t,o,i)}else l&16?bB(n,e,i,t,r,o):Xa(e,n,a,r,c,t,o,i);t=s?t.projectionNext:t.next}}function th(n,e,t,i,r,o){vy(t,i,n.firstChild,e,r,o,!1)}function bB(n,e,t,i,r,o){let s=t[Bn],c=s[Jn].projection[i.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++){let h=c[l];Xa(e,n,t[Br],r,h,i,o,t)}else{let l=c,h=s[Ft];rO(i)&&(l.flags|=128),vy(n,e,l,h,r,o,!0)}}function CB(n,e,t,i,r,o,s){let a=i[Oo],c=ei(i);a!==c&&Xa(e,n,t,o,a,r,s);for(let l=Et;l<i.length;l++){let h=i[l];th(h[oe],h,n,e,o,a)}}function wB(n,e,t,i,r){if(e)r?n.addClass(t,i):n.removeClass(t,i);else{let o=i.indexOf("-")===-1?void 0:Ur.DashCase;r==null?n.removeStyle(t,i,o):(typeof r=="string"&&r.endsWith("!important")&&(r=r.slice(0,-10),o|=Ur.Important),n.setStyle(t,i,r,o))}}function jO(n,e,t,i,r){let o=er(),s=i&2;try{So(-1),s&&e.length>Bt&&SO(n,e,Bt,!1),Je(s?2:0,r,t),t(i,r)}finally{So(o),Je(s?3:1,r,t)}}function VO(n,e,t){DB(n,e,t),(t.flags&64)===64&&TB(n,e,t)}function yy(n,e,t=Ei){let i=e.localNames;if(i!==null){let r=e.index+1;for(let o=0;o<i.length;o+=2){let s=i[o+1],a=s===-1?t(e,n):n[s];n[r++]=a}}}function EB(n,e,t,i){let o=i.get(pO,fO)||t===Vr.ShadowDom,s=n.selectRootElement(e,o);return MB(s),s}function MB(n){IB(n)}var IB=()=>null;function PB(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function OB(n,e,t,i,r,o){let s=e[oe];if(by(n,s,e,t,i)){xo(n)&&SB(e,n.index);return}n.type&3&&(t=PB(t)),xB(n,e,t,i,r,o)}function xB(n,e,t,i,r,o){if(n.type&3){let s=Ei(n,e);i=o!=null?o(i,n.value||"",t):i,r.setProperty(s,t,i)}else n.type&12}function SB(n,e){let t=ti(e,n);t[fe]&16||(t[fe]|=64)}function DB(n,e,t){let i=t.directiveStart,r=t.directiveEnd;xo(t)&&Z4(e,t,n.data[i+t.componentOffset]),n.firstCreatePass||Dp(t,e);let o=t.initialInputs;for(let s=i;s<r;s++){let a=n.data[s],c=Yl(e,n,s,t);if(tc(c,e),o!==null&&LB(e,s-i,c,a,t,o),Xi(a)){let l=ti(t.index,e);l[Tt]=Yl(e,n,s,t)}}}function TB(n,e,t){let i=t.directiveStart,r=t.directiveEnd,o=t.index,s=rP();try{So(o);for(let a=i;a<r;a++){let c=n.data[a],l=e[a];up(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&AB(c,l)}}finally{So(-1),up(s)}}function AB(n,e){n.hostBindings!==null&&n.hostBindings(1,e)}function kB(n,e){let t=n.directiveRegistry,i=null;if(t)for(let r=0;r<t.length;r++){let o=t[r];$4(e,o.selectors,!1)&&(i??=[],Xi(o)?i.unshift(o):i.push(o))}return i}function RB(n,e,t,i,r,o){let s=Ei(n,e);NB(e[wt],s,o,n.value,t,i,r)}function NB(n,e,t,i,r,o,s){if(o==null)n.removeAttribute(e,r,t);else{let a=s==null?Eo(o):s(o,i||"",r);n.setAttribute(e,r,a,t)}}function LB(n,e,t,i,r,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;a+=2){let c=s[a],l=s[a+1];x0(i,t,c,l)}}function UO(n,e,t,i,r){let o=Bt+t,s=e[oe],a=r(s,e,n,i,t);e[o]=a,Za(n,!0);let c=n.type===2;return c?(wO(e[wt],a,n),(KI()===0||sp(n))&&tc(a,e),YI()):tc(a,e),mp()&&(!c||!ry(n))&&_y(s,e,a,n),n}function zO(n){let e=n;return e0()?JI():(e=e.parent,Za(e,!1)),e}function FB(n,e){let t=n[Br];if(!t)return;let i;try{i=t.get(Vn,null)}catch{i=null}i?.(e)}function by(n,e,t,i,r){let o=n.inputs?.[i],s=n.hostDirectiveInputs?.[i],a=!1;if(s)for(let c=0;c<s.length;c+=2){let l=s[c],h=s[c+1],f=e.data[l];x0(f,t[l],h,r),a=!0}if(o)for(let c of o){let l=t[c],h=e.data[c];x0(h,l,i,r),a=!0}return a}function BB(n,e){let t=ti(e,n),i=t[oe];jB(i,t);let r=t[Ci];r!==null&&t[Ga]===null&&(t[Ga]=hO(r,t[Br])),Je(18),Cy(i,t,t[Tt]),Je(19,t[Tt])}function jB(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}function Cy(n,e,t){fp(e);try{let i=n.viewQuery;i!==null&&O0(1,i,t);let r=n.template;r!==null&&jO(n,e,r,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[Qi]?.finishViewCreation(n),n.staticContentQueries&&gO(n,e),n.staticViewQueries&&O0(2,n.viewQuery,t);let o=n.components;o!==null&&VB(e,o)}catch(i){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),i}finally{e[fe]&=-5,pp()}}function VB(n,e){for(let t=0;t<e.length;t++)BB(n,e[t])}function nh(n,e,t,i){let r=ue(null);try{let o=e.tView,a=n[fe]&4096?4096:16,c=uy(n,o,t,a,null,e,null,null,i?.injector??null,i?.embeddedViewInjector??null,i?.dehydratedView??null),l=n[e.index];c[Po]=l;let h=n[Qi];return h!==null&&(c[Qi]=h.createEmbeddedView(o)),Cy(o,c,t),c}finally{ue(r)}}function Ql(n,e){return!e||e.firstChild===null||rO(n)}function Zl(n,e,t,i,r=!1){for(;t!==null;){if(t.type===128){t=r?t.projectionNext:t.next;continue}let o=e[t.index];o!==null&&i.push(ei(o)),wi(o)&&$O(o,i);let s=t.type;if(s&8)Zl(n,e,t.child,i);else if(s&32){let a=fy(t,e),c;for(;c=a();)i.push(c)}else if(s&16){let a=BO(e,t);if(Array.isArray(a))i.push(...a);else{let c=Co(e[Bn]);Zl(c[oe],c,a,i,!0)}}t=r?t.projectionNext:t.next}return i}function $O(n,e){for(let t=Et;t<n.length;t++){let i=n[t],r=i[oe].firstChild;r!==null&&Zl(i[oe],i,r,e)}n[Oo]!==n[Ci]&&e.push(n[Oo])}function HO(n){if(n[Ss]!==null){for(let e of n[Ss])e.impl.addSequence(e);n[Ss].length=0}}var WO=[];function UB(n){return n[jn]??zB(n)}function zB(n){let e=WO.pop()??Object.create(HB);return e.lView=n,e}function $B(n){n.lView[jn]!==n&&(n.lView=null,WO.push(n))}var HB=ie(F({},xa),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{Qa(n.lView)},consumerOnSignalRead(){this.lView[jn]=this}});function WB(n){let e=n[jn]??Object.create(GB);return e.lView=n,e}var GB=ie(F({},xa),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{let e=Co(n.lView);for(;e&&!GO(e[oe]);)e=Co(e);e&&Gv(e)},consumerOnSignalRead(){this.lView[jn]=this}});function GO(n){return n.type!==2}function qO(n){if(n[Vl]===null)return;let e=!0;for(;e;){let t=!1;for(let i of n[Vl])i.dirty&&(t=!0,i.zone===null||Zone.current===i.zone?i.run():i.zone.run(()=>i.run()));e=t&&!!(n[fe]&8192)}}var qB=100;function KO(n,e=0){let i=n[Yi].rendererFactory,r=!1;r||i.begin?.();try{KB(n,e)}finally{r||i.end?.()}}function KB(n,e){let t=t0();try{n0(!0),A0(n,e);let i=0;for(;$l(n);){if(i===qB)throw new j(103,!1);i++,A0(n,1)}}finally{n0(t)}}function YB(n,e,t,i){if(As(e))return;let r=e[fe],o=!1,s=!1;fp(e);let a=!0,c=null,l=null;o||(GO(n)?(l=UB(e),c=Da(l)):_f()===null?(a=!1,l=WB(e),c=Da(l)):e[jn]&&(Il(e[jn]),e[jn]=null));try{Wv(e),tP(n.bindingStartIndex),t!==null&&jO(n,e,t,2,i);let h=(r&3)===3;if(!o)if(h){let w=n.preOrderCheckHooks;w!==null&&wp(e,w,null)}else{let w=n.preOrderHooks;w!==null&&Ep(e,w,0,null),d0(e,0)}if(s||QB(e),qO(e),YO(e,0),n.contentQueries!==null&&gO(n,e),!o)if(h){let w=n.contentCheckHooks;w!==null&&wp(e,w)}else{let w=n.contentHooks;w!==null&&Ep(e,w,1),d0(e,1)}XB(n,e);let f=n.components;f!==null&&ZO(e,f,0);let y=n.viewQuery;if(y!==null&&O0(2,y,i),!o)if(h){let w=n.viewCheckHooks;w!==null&&wp(e,w)}else{let w=n.viewHooks;w!==null&&Ep(e,w,2),d0(e,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),e[op]){for(let w of e[op])w();e[op]=null}o||(HO(e),e[fe]&=-73)}catch(h){throw o||Qa(e),h}finally{l!==null&&(El(l,c),a&&$B(l)),pp()}}function YO(n,e){for(let t=sO(n);t!==null;t=aO(t))for(let i=Et;i<t.length;i++){let r=t[i];QO(r,e)}}function QB(n){for(let e=sO(n);e!==null;e=aO(e)){if(!(e[fe]&2))continue;let t=e[Ts];for(let i=0;i<t.length;i++){let r=t[i];Gv(r)}}}function ZB(n,e,t){Je(18);let i=ti(e,n);QO(i,t),Je(19,i[Tt])}function QO(n,e){ap(n)&&A0(n,e)}function A0(n,e){let i=n[oe],r=n[fe],o=n[jn],s=!!(e===0&&r&16);if(s||=!!(r&64&&e===0),s||=!!(r&1024),s||=!!(o?.dirty&&Ml(o)),s||=!1,o&&(o.dirty=!1),n[fe]&=-9217,s)YB(i,n,i.template,n[Tt]);else if(r&8192){let a=ue(null);try{qO(n),YO(n,1);let c=i.components;c!==null&&ZO(n,c,1),HO(n)}finally{ue(a)}}}function ZO(n,e,t){for(let i=0;i<e.length;i++)ZB(n,e[i],t)}function XB(n,e){let t=n.hostBindingOpCodes;if(t!==null)try{for(let i=0;i<t.length;i++){let r=t[i];if(r<0)So(~r);else{let o=r,s=t[++i],a=t[++i];iP(s,o);let c=e[o];Je(24,c),a(2,c),Je(25,c)}}}finally{So(-1)}}function wy(n,e){let t=t0()?64:1088;for(n[Yi].changeDetectionScheduler?.notify(e);n;){n[fe]|=t;let i=Co(n);if(Ya(n)&&!i)return n;n=i}return null}function XO(n,e,t,i){return[n,!0,0,e,null,i,null,t,null,null]}function JO(n,e){let t=Et+e;if(t<n.length)return n[t]}function ih(n,e,t,i=!0){let r=e[oe];if(JB(r,e,n,t),i){let s=T0(t,n),a=e[wt],c=a.parentNode(n[Oo]);c!==null&&uB(r,n[Jn],a,e,c,s)}let o=e[Ga];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function ex(n,e){let t=Xl(n,e);return t!==void 0&&eh(t[oe],t),t}function Xl(n,e){if(n.length<=Et)return;let t=Et+e,i=n[t];if(i){let r=i[Po];r!==null&&r!==n&&my(r,i),e>0&&(n[t-1][Xn]=i[Xn]);let o=Ll(n,Et+e);lB(i[oe],i);let s=o[Qi];s!==null&&s.detachView(o[oe]),i[Ft]=null,i[Xn]=null,i[fe]&=-129}return i}function JB(n,e,t,i){let r=Et+i,o=t.length;i>0&&(t[r-1][Xn]=e),i<o-Et?(e[Xn]=t[r],Dv(t,Et+i,e)):(t.push(e),e[Xn]=null),e[Ft]=t;let s=e[Po];s!==null&&t!==s&&tx(s,e);let a=e[Qi];a!==null&&a.insertView(n),cp(e),e[fe]|=128}function tx(n,e){let t=n[Ts],i=e[Ft];if(Zi(i))n[fe]|=2;else{let r=i[Ft][Bn];e[Bn]!==r&&(n[fe]|=2)}t===null?n[Ts]=[e]:t.push(e)}var Do=class{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){let e=this._lView,t=e[oe];return Zl(t,e,t.firstChild,[])}constructor(e,t){this._lView=e,this._cdRefInjectingView=t}get context(){return this._lView[Tt]}set context(e){this._lView[Tt]=e}get destroyed(){return As(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Ft];if(wi(e)){let t=e[Ul],i=t?t.indexOf(this):-1;i>-1&&(Xl(e,i),Ll(t,i))}this._attachedToViewContainer=!1}eh(this._lView[oe],this._lView)}onDestroy(e){qv(this._lView,e)}markForCheck(){wy(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[fe]&=-129}reattach(){cp(this._lView),this._lView[fe]|=128}detectChanges(){this._lView[fe]|=1024,KO(this._lView)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new j(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=Ya(this._lView),t=this._lView[Po];t!==null&&!e&&my(t,this._lView),FO(this._lView[oe],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new j(902,!1);this._appRef=e;let t=Ya(this._lView),i=this._lView[Po];i!==null&&!t&&tx(i,this._lView),cp(this._lView)}};var nc=(()=>{class n{_declarationLView;_declarationTContainer;elementRef;static __NG_ELEMENT_ID__=ej;constructor(t,i,r){this._declarationLView=t,this._declarationTContainer=i,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,i){return this.createEmbeddedViewImpl(t,i)}createEmbeddedViewImpl(t,i,r){let o=nh(this._declarationLView,this._declarationTContainer,t,{embeddedViewInjector:i,dehydratedView:r});return new Do(o)}}return n})();function ej(){return Ey(Xt(),_e())}function Ey(n,e){return n.type&4?new nc(e,n,sc(n,e)):null}function rh(n,e,t,i,r){let o=n.data[e];if(o===null)o=tj(n,e,t,i,r),nP()&&(o.flags|=32);else if(o.type&64){o.type=t,o.value=i,o.attrs=r;let s=XI();o.injectorIndex=s===null?-1:s.injectorIndex}return Za(o,!0),o}function tj(n,e,t,i,r){let o=Jv(),s=e0(),a=s?o:o&&o.parent,c=n.data[e]=ij(n,a,t,e,i,r);return nj(n,c,o,s),c}function nj(n,e,t,i){n.firstChild===null&&(n.firstChild=e),t!==null&&(i?t.child==null&&e.parent!==null&&(t.child=e):t.next===null&&(t.next=e,e.prev=t))}function ij(n,e,t,i,r,o){let s=e?e.injectorIndex:-1,a=0;return ZI()&&(a|=128),{type:t,index:i,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:r,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var Woe=new RegExp(`^(\\d+)*(${O4}|${P4})*(.*)`);function rj(n){let e=n[Vv]??[],i=n[Ft][wt],r=[];for(let o of e)o.data[dO]!==void 0?r.push(o):oj(o,i);n[Vv]=r}function oj(n,e){let t=0,i=n.firstChild;if(i){let r=n.data[uO];for(;t<r;){let o=i.nextSibling;CO(e,i,!1),i=o,t++}}}var sj=()=>null,aj=()=>null;function k0(n,e){return sj(n,e)}function nx(n,e,t){return aj(n,e,t)}var ix=class{},oh=class{},R0=class{resolveComponentFactory(e){throw new j(917,!1)}},ru=class{static NULL=new R0},zr=class{},ii=(()=>{class n{destroyNode=null;static __NG_ELEMENT_ID__=()=>cj()}return n})();function cj(){let n=_e(),e=Xt(),t=ti(e.index,n);return(Zi(t)?t:n)[wt]}var rx=(()=>{class n{static \u0275prov=$({token:n,providedIn:"root",factory:()=>null})}return n})();var Ip={},N0=class{injector;parentInjector;constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,i){let r=this.injector.get(e,Ip,i);return r!==Ip||t===Ip?r:this.parentInjector.get(e,t,i)}};function Fp(n,e,t){let i=t?n.styles:null,r=t?n.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)r=Xf(r,a);else if(o==2){let c=a,l=e[++s];i=Xf(i,c+": "+l+";")}}t?n.styles=i:n.stylesWithoutHost=i,t?n.classes=r:n.classesWithoutHost=r}function B(n,e=0){let t=_e();if(t===null)return q(n,e);let i=Xt();return tO(i,t,Qt(n),e)}function My(){let n="invalid";throw new Error(n)}function lj(n,e,t,i,r){let o=i===null?null:{"":-1},s=r(n,t);if(s!==null){let a=s,c=null,l=null;for(let h of s)if(h.resolveHostDirectives!==null){[a,c,l]=h.resolveHostDirectives(s);break}fj(n,e,t,a,o,c,l)}o!==null&&i!==null&&uj(t,i,o)}function uj(n,e,t){let i=n.localNames=[];for(let r=0;r<e.length;r+=2){let o=t[e[r+1]];if(o==null)throw new j(-301,!1);i.push(e[r],o)}}function dj(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function fj(n,e,t,i,r,o,s){let a=i.length,c=!1;for(let y=0;y<a;y++){let w=i[y];!c&&Xi(w)&&(c=!0,dj(n,t,y)),E0(Dp(t,e),n,w.type)}vj(t,n.data.length,a);for(let y=0;y<a;y++){let w=i[y];w.providersResolver&&w.providersResolver(w)}let l=!1,h=!1,f=xO(n,e,a,null);a>0&&(t.directiveToIndex=new Map);for(let y=0;y<a;y++){let w=i[y];if(t.mergedAttrs=ec(t.mergedAttrs,w.hostAttrs),hj(n,t,e,f,w),_j(f,w,r),s!==null&&s.has(w)){let[D,T]=s.get(w);t.directiveToIndex.set(w.type,[f,D+t.directiveStart,T+t.directiveStart])}else(o===null||!o.has(w))&&t.directiveToIndex.set(w.type,f);w.contentQueries!==null&&(t.flags|=4),(w.hostBindings!==null||w.hostAttrs!==null||w.hostVars!==0)&&(t.flags|=64);let I=w.type.prototype;!l&&(I.ngOnChanges||I.ngOnInit||I.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),l=!0),!h&&(I.ngOnChanges||I.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),h=!0),f++}pj(n,t,o)}function pj(n,e,t){for(let i=e.directiveStart;i<e.directiveEnd;i++){let r=n.data[i];if(t===null||!t.has(r))DP(0,e,r,i),DP(1,e,r,i),AP(e,i,!1);else{let o=t.get(r);TP(0,e,o,i),TP(1,e,o,i),AP(e,i,!0)}}}function DP(n,e,t,i){let r=n===0?t.inputs:t.outputs;for(let o in r)if(r.hasOwnProperty(o)){let s;n===0?s=e.inputs??={}:s=e.outputs??={},s[o]??=[],s[o].push(i),ox(e,o)}}function TP(n,e,t,i){let r=n===0?t.inputs:t.outputs;for(let o in r)if(r.hasOwnProperty(o)){let s=r[o],a;n===0?a=e.hostDirectiveInputs??={}:a=e.hostDirectiveOutputs??={},a[s]??=[],a[s].push(i,o),ox(e,s)}}function ox(n,e){e==="class"?n.flags|=8:e==="style"&&(n.flags|=16)}function AP(n,e,t){let{attrs:i,inputs:r,hostDirectiveInputs:o}=n;if(i===null||!t&&r===null||t&&o===null||cy(n)){n.initialInputs??=[],n.initialInputs.push(null);return}let s=null,a=0;for(;a<i.length;){let c=i[a];if(c===0){a+=4;continue}else if(c===5){a+=2;continue}else if(typeof c=="number")break;if(!t&&r.hasOwnProperty(c)){let l=r[c];for(let h of l)if(h===e){s??=[],s.push(c,i[a+1]);break}}else if(t&&o.hasOwnProperty(c)){let l=o[c];for(let h=0;h<l.length;h+=2)if(l[h]===e){s??=[],s.push(l[h+1],i[a+1]);break}}a+=2}n.initialInputs??=[],n.initialInputs.push(s)}function hj(n,e,t,i,r){n.data[i]=r;let o=r.factory||(r.factory=bo(r.type,!0)),s=new Ns(o,Xi(r),B,null);n.blueprint[i]=s,t[i]=s,gj(n,e,i,xO(n,t,r.hostVars,fn),r)}function gj(n,e,t,i,r){let o=r.hostBindings;if(o){let s=n.hostBindingOpCodes;s===null&&(s=n.hostBindingOpCodes=[]);let a=~e.index;mj(s)!=a&&s.push(a),s.push(t,i,o)}}function mj(n){let e=n.length;for(;e>0;){let t=n[--e];if(typeof t=="number"&&t<0)return t}return 0}function _j(n,e,t){if(t){if(e.exportAs)for(let i=0;i<e.exportAs.length;i++)t[e.exportAs[i]]=n;Xi(e)&&(t[""]=n)}}function vj(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function sx(n,e,t,i,r,o,s,a){let c=e[oe],l=c.consts,h=Ji(l,s),f=rh(c,n,t,i,h);return o&&lj(c,e,f,Ji(l,a),r),f.mergedAttrs=ec(f.mergedAttrs,f.attrs),f.attrs!==null&&Fp(f,f.attrs,!1),f.mergedAttrs!==null&&Fp(f,f.mergedAttrs,!0),c.queries!==null&&c.queries.elementStart(c,f),f}function ax(n,e){r4(n,e),Uv(e)&&n.queries.elementEnd(e)}function yj(n,e,t,i,r,o){let s=e.consts,a=Ji(s,r),c=rh(e,n,t,i,a);if(c.mergedAttrs=ec(c.mergedAttrs,c.attrs),o!=null){let l=Ji(s,o);c.localNames=[];for(let h=0;h<l.length;h+=2)c.localNames.push(l[h],-1)}return c.attrs!==null&&Fp(c,c.attrs,!1),c.mergedAttrs!==null&&Fp(c,c.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,c),c}function Iy(n,e,t){return n[e]=t}function bj(n,e){return n[e]}function Pi(n,e,t){if(t===fn)return!1;let i=n[e];return Object.is(i,t)?!1:(n[e]=t,!0)}function cx(n,e,t,i){let r=Pi(n,e,t);return Pi(n,e+1,i)||r}function h0(n,e,t){return function i(r){let o=xo(n)?ti(n.index,e):e;wy(o,5);let s=e[Tt],a=kP(e,s,t,r),c=i.__ngNextListenerFn__;for(;c;)a=kP(e,s,c,r)&&a,c=c.__ngNextListenerFn__;return a}}function kP(n,e,t,i){let r=ue(null);try{return Je(6,e,t),t(i)!==!1}catch(o){return FB(n,o),!1}finally{Je(7,e,t),ue(r)}}function Cj(n,e,t,i,r,o,s,a){let c=sp(n),l=!1,h=null;if(!i&&c&&(h=Ej(e,t,o,n.index)),h!==null){let f=h.__ngLastListenerFn__||h;f.__ngNextListenerFn__=s,h.__ngLastListenerFn__=s,l=!0}else{let f=Ei(n,t),y=i?i(f):f;S4(t,y,o,a);let w=r.listen(y,o,a);if(!wj(o)){let I=i?D=>i(ei(D[n.index])):n.index;lx(I,e,t,o,a,w,!1)}}return l}function wj(n){return n.startsWith("animation")||n.startsWith("transition")}function Ej(n,e,t,i){let r=n.cleanup;if(r!=null)for(let o=0;o<r.length-1;o+=2){let s=r[o];if(s===t&&r[o+1]===i){let a=e[qa],c=r[o+2];return a&&a.length>c?a[c]:null}typeof s=="string"&&(o+=2)}return null}function lx(n,e,t,i,r,o,s){let a=e.firstCreatePass?Yv(e):null,c=Kv(t),l=c.length;c.push(r,o),a&&a.push(i,n,l,(l+1)*(s?-1:1))}function RP(n,e,t,i,r,o){let s=e[t],a=e[oe],l=a.data[t].outputs[i],f=s[l].subscribe(o);lx(n.index,a,e,r,o,f,!0)}var L0=Symbol("BINDING");var Bp=class extends ru{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let t=Fr(e);return new Fs(t,this.ngModule)}};function Mj(n){return Object.keys(n).map(e=>{let[t,i,r]=n[e],o={propName:t,templateName:e,isSignal:(i&Xp.SignalBased)!==0};return r&&(o.transform=r),o})}function Ij(n){return Object.keys(n).map(e=>({propName:n[e],templateName:e}))}function Pj(n,e,t){let i=e instanceof yt?e:e?.injector;return i&&n.getStandaloneInjector!==null&&(i=n.getStandaloneInjector(i)||i),i?new N0(t,i):t}function Oj(n){let e=n.get(zr,null);if(e===null)throw new j(407,!1);let t=n.get(rx,null),i=n.get(Lr,null);return{rendererFactory:e,sanitizer:t,changeDetectionScheduler:i,ngReflect:!1}}function xj(n,e){let t=ux(n);return yO(e,t,t==="svg"?zv:t==="math"?UI:null)}function ux(n){return(n.selectors[0][0]||"div").toLowerCase()}var Fs=class extends oh{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=Mj(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=Ij(this.componentDef.outputs),this.cachedOutputs}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=q4(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!t}create(e,t,i,r,o,s){Je(22);let a=ue(null);try{let c=this.componentDef,l=Sj(i,c,s,o),h=Pj(c,r||this.ngModule,e),f=Oj(h),y=f.rendererFactory.createRenderer(null,c),w=i?EB(y,i,c.encapsulation,h):xj(c,y),I=s?.some(NP)||o?.some(L=>typeof L!="function"&&L.bindings.some(NP)),D=uy(null,l,null,512|OO(c),null,null,f,y,h,null,hO(w,h,!0));D[Bt]=w,fp(D);let T=null;try{let L=sx(Bt,D,2,"#host",()=>l.directiveRegistry,!0,0);wO(y,w,L),tc(w,D),VO(l,D,L),mO(l,L,D),ax(l,L),t!==void 0&&Tj(L,this.ngContentSelectors,t),T=ti(L.index,D),D[Tt]=T[Tt],Cy(l,D,null)}catch(L){throw T!==null&&I0(T),I0(D),L}finally{Je(23),pp()}return new jp(this.componentType,D,!!I)}finally{ue(a)}}};function Sj(n,e,t,i){let r=n?["ng-version","20.3.15"]:K4(e.selectors[0]),o=null,s=null,a=0;if(t)for(let h of t)a+=h[L0].requiredVars,h.create&&(h.targetIdx=0,(o??=[]).push(h)),h.update&&(h.targetIdx=0,(s??=[]).push(h));if(i)for(let h=0;h<i.length;h++){let f=i[h];if(typeof f!="function")for(let y of f.bindings){a+=y[L0].requiredVars;let w=h+1;y.create&&(y.targetIdx=w,(o??=[]).push(y)),y.update&&(y.targetIdx=w,(s??=[]).push(y))}}let c=[e];if(i)for(let h of i){let f=typeof h=="function"?h:h.type,y=Rv(f);c.push(y)}return ly(0,null,Dj(o,s),1,a,c,null,null,null,[r],null)}function Dj(n,e){return!n&&!e?null:t=>{if(t&1&&n)for(let i of n)i.create();if(t&2&&e)for(let i of e)i.update()}}function NP(n){let e=n[L0].kind;return e==="input"||e==="twoWay"}var jp=class extends ix{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,t,i){super(),this._rootLView=t,this._hasInputBindings=i,this._tNode=zl(t[oe],Bt),this.location=sc(this._tNode,t),this.instance=ti(this._tNode.index,t)[Tt],this.hostView=this.changeDetectorRef=new Do(t,void 0),this.componentType=e}setInput(e,t){this._hasInputBindings;let i=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;let r=this._rootLView,o=by(i,r[oe],r,e,t);this.previousInputValues.set(e,t);let s=ti(i.index,r);wy(s,1)}get injector(){return new Rs(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function Tj(n,e,t){let i=n.projection=[];for(let r=0;r<e.length;r++){let o=t[r];i.push(o!=null&&o.length?Array.from(o):null)}}var Us=(()=>{class n{static __NG_ELEMENT_ID__=Aj}return n})();function Aj(){let n=Xt();return fx(n,_e())}var kj=Us,dx=class extends kj{_lContainer;_hostTNode;_hostLView;constructor(e,t,i){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=i}get element(){return sc(this._hostTNode,this._hostLView)}get injector(){return new Rs(this._hostTNode,this._hostLView)}get parentInjector(){let e=ey(this._hostTNode,this._hostLView);if(YP(e)){let t=xp(e,this._hostLView),i=Op(e),r=t[oe].data[i+8];return new Rs(r,t)}else return new Rs(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let t=LP(this._lContainer);return t!==null&&t[e]||null}get length(){return this._lContainer.length-Et}createEmbeddedView(e,t,i){let r,o;typeof i=="number"?r=i:i!=null&&(r=i.index,o=i.injector);let s=k0(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(t||{},o,s);return this.insertImpl(a,r,Ql(this._hostTNode,s)),a}createComponent(e,t,i,r,o,s,a){let c=e&&!J3(e),l;if(c)l=t;else{let T=t||{};l=T.index,i=T.injector,r=T.projectableNodes,o=T.environmentInjector||T.ngModuleRef,s=T.directives,a=T.bindings}let h=c?e:new Fs(Fr(e)),f=i||this.parentInjector;if(!o&&h.ngModule==null){let L=(c?f:this.parentInjector).get(yt,null);L&&(o=L)}let y=Fr(h.componentType??{}),w=k0(this._lContainer,y?.id??null),I=w?.firstChild??null,D=h.create(f,r,I,o,s,a);return this.insertImpl(D.hostView,l,Ql(this._hostTNode,w)),D}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,i){let r=e._lView;if(HI(r)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let c=r[Ft],l=new dx(c,c[Jn],c[Ft]);l.detach(l.indexOf(e))}}let o=this._adjustIndex(t),s=this._lContainer;return ih(s,r,o,i),e.attachToViewContainerRef(),Dv(g0(s),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){let t=LP(this._lContainer);return t!==null?t.indexOf(e):-1}remove(e){let t=this._adjustIndex(e,-1),i=Xl(this._lContainer,t);i&&(Ll(g0(this._lContainer),t),eh(i[oe],i))}detach(e){let t=this._adjustIndex(e,-1),i=Xl(this._lContainer,t);return i&&Ll(g0(this._lContainer),t)!=null?new Do(i):null}_adjustIndex(e,t=0){return e??this.length+t}};function LP(n){return n[Ul]}function g0(n){return n[Ul]||(n[Ul]=[])}function fx(n,e){let t,i=e[n.index];return wi(i)?t=i:(t=XO(i,e,null,n),e[n.index]=t,dy(e,t)),Nj(t,e,n,i),new dx(t,n,e)}function Rj(n,e){let t=n[wt],i=t.createComment(""),r=Ei(e,n),o=t.parentNode(r);return kp(t,o,i,t.nextSibling(r),!1),i}var Nj=Bj,Lj=()=>!1;function Fj(n,e,t){return Lj(n,e,t)}function Bj(n,e,t,i){if(n[Oo])return;let r;t.type&8?r=ei(i):r=Rj(e,t),n[Oo]=r}var F0=class n{queryList;matches=null;constructor(e){this.queryList=e}clone(){return new n(this.queryList)}setDirty(){this.queryList.setDirty()}},B0=class n{queries;constructor(e=[]){this.queries=e}createEmbeddedView(e){let t=e.queries;if(t!==null){let i=e.contentQueries!==null?e.contentQueries[0]:t.length,r=[];for(let o=0;o<i;o++){let s=t.getByIndex(o),a=this.queries[s.indexInDeclarationView];r.push(a.clone())}return new n(r)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)Py(e,t).matches!==null&&this.queries[t].setDirty()}},j0=class{flags;read;predicate;constructor(e,t,i=null){this.flags=t,this.read=i,typeof e=="string"?this.predicate=Gj(e):this.predicate=e}},V0=class n{queries;constructor(e=[]){this.queries=e}elementStart(e,t){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let i=0;i<this.length;i++){let r=t!==null?t.length:0,o=this.getByIndex(i).embeddedTView(e,r);o&&(o.indexInDeclarationView=i,t!==null?t.push(o):t=[o])}return t!==null?new n(t):null}template(e,t){for(let i=0;i<this.queries.length;i++)this.queries[i].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},U0=class n{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(e,t=-1){this.metadata=e,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new n(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let t=this._declarationNodeIndex,i=e.parent;for(;i!==null&&i.type&8&&i.index!==t;)i=i.parent;return t===(i!==null?i.index:-1)}return this._appliesToNextNode}matchTNode(e,t){let i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){let o=i[r];this.matchTNodeWithReadOption(e,t,jj(t,o)),this.matchTNodeWithReadOption(e,t,Mp(t,e,o,!1,!1))}else i===nc?t.type&4&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,Mp(t,e,i,!1,!1))}matchTNodeWithReadOption(e,t,i){if(i!==null){let r=this.metadata.read;if(r!==null)if(r===Jt||r===Us||r===nc&&t.type&4)this.addMatch(t.index,-2);else{let o=Mp(t,e,r,!1,!1);o!==null&&this.addMatch(t.index,o)}else this.addMatch(t.index,i)}}addMatch(e,t){this.matches===null?this.matches=[e,t]:this.matches.push(e,t)}};function jj(n,e){let t=n.localNames;if(t!==null){for(let i=0;i<t.length;i+=2)if(t[i]===e)return t[i+1]}return null}function Vj(n,e){return n.type&11?sc(n,e):n.type&4?Ey(n,e):null}function Uj(n,e,t,i){return t===-1?Vj(e,n):t===-2?zj(n,e,i):Yl(n,n[oe],t,e)}function zj(n,e,t){if(t===Jt)return sc(e,n);if(t===nc)return Ey(e,n);if(t===Us)return fx(e,n)}function px(n,e,t,i){let r=e[Qi].queries[i];if(r.matches===null){let o=n.data,s=t.matches,a=[];for(let c=0;s!==null&&c<s.length;c+=2){let l=s[c];if(l<0)a.push(null);else{let h=o[l];a.push(Uj(e,h,s[c+1],t.metadata.read))}}r.matches=a}return r.matches}function z0(n,e,t,i){let r=n.queries.getByIndex(t),o=r.matches;if(o!==null){let s=px(n,e,r,t);for(let a=0;a<o.length;a+=2){let c=o[a];if(c>0)i.push(s[a/2]);else{let l=o[a+1],h=e[-c];for(let f=Et;f<h.length;f++){let y=h[f];y[Po]===y[Ft]&&z0(y[oe],y,l,i)}if(h[Ts]!==null){let f=h[Ts];for(let y=0;y<f.length;y++){let w=f[y];z0(w[oe],w,l,i)}}}}}return i}function $j(n,e){return n[Qi].queries[e].queryList}function Hj(n,e,t){let i=new Tp((t&4)===4);return qI(n,e,i,i.destroy),(e[Qi]??=new B0).queries.push(new F0(i))-1}function Wj(n,e,t,i){let r=Zt();if(r.firstCreatePass){let o=Xt();qj(r,new j0(e,t,i),o.index),Kj(r,n),(t&2)===2&&(r.staticContentQueries=!0)}return Hj(r,_e(),t)}function Gj(n){return n.split(",").map(e=>e.trim())}function qj(n,e,t){n.queries===null&&(n.queries=new V0),n.queries.track(new U0(e,t))}function Kj(n,e){let t=n.contentQueries||(n.contentQueries=[]),i=t.length?t[t.length-1]:-1;e!==i&&t.push(n.queries.length-1,e)}function Py(n,e){return n.queries.getByIndex(e)}function Yj(n,e){let t=n[oe],i=Py(t,e);return i.crossesNgTemplate?z0(t,n,e,[]):px(t,n,i,e)}var ic=class{},sh=class{};var Vp=class extends ic{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new Bp(this);constructor(e,t,i,r=!0){super(),this.ngModuleType=e,this._parent=t;let o=kv(e);this._bootstrapComponents=IO(o.bootstrap),this._r3Injector=a0(e,t,[{provide:ic,useValue:this},{provide:ru,useValue:this.componentFactoryResolver},...i],Nr(e),new Set(["environment"])),r&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Up=class extends sh{moduleType;constructor(e){super(),this.moduleType=e}create(e){return new Vp(this.moduleType,e,[])}};var Jl=class extends ic{injector;componentFactoryResolver=new Bp(this);instance=null;constructor(e){super();let t=new Is([...e.providers,{provide:ic,useValue:this},{provide:ru,useValue:this.componentFactoryResolver}],e.parent||Bl(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function cc(n,e,t=null){return new Jl({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}var Qj=(()=>{class n{_injector;cachedInjectors=new Map;constructor(t){this._injector=t}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let i=Nv(!1,t.type),r=i.length>0?cc([i],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,r)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=$({token:n,providedIn:"environment",factory:()=>new n(q(yt))})}return n})();function me(n){return oc(()=>{let e=hx(n),t=ie(F({},e),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===ty.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:e.standalone?r=>r.get(Qj).getOrCreateStandaloneInjector(t):null,getExternalStyles:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||Vr.Emulated,styles:n.styles||mn,_:null,schemas:n.schemas||null,tView:null,id:""});e.standalone&&Un("NgStandalone"),gx(t);let i=n.dependencies;return t.directiveDefs=FP(i,Zj),t.pipeDefs=FP(i,NI),t.id=eV(t),t})}function Zj(n){return Fr(n)||Rv(n)}function _n(n){return oc(()=>({type:n.type,bootstrap:n.bootstrap||mn,declarations:n.declarations||mn,imports:n.imports||mn,exports:n.exports||mn,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function Xj(n,e){if(n==null)return Mo;let t={};for(let i in n)if(n.hasOwnProperty(i)){let r=n[i],o,s,a,c;Array.isArray(r)?(a=r[0],o=r[1],s=r[2]??o,c=r[3]||null):(o=r,s=r,a=Xp.None,c=null),t[o]=[i,a,c],e[o]=s}return t}function Jj(n){if(n==null)return Mo;let e={};for(let t in n)n.hasOwnProperty(t)&&(e[n[t]]=t);return e}function mt(n){return oc(()=>{let e=hx(n);return gx(e),e})}function ah(n){return{type:n.type,name:n.name,factory:null,pure:n.pure!==!1,standalone:n.standalone??!0,onDestroy:n.type.prototype.ngOnDestroy||null}}function hx(n){let e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputConfig:n.inputs||Mo,exportAs:n.exportAs||null,standalone:n.standalone??!0,signals:n.signals===!0,selectors:n.selectors||mn,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:Xj(n.inputs,e),outputs:Jj(n.outputs),debugInfo:null}}function gx(n){n.features?.forEach(e=>e(n))}function FP(n,e){return n?()=>{let t=typeof n=="function"?n():n,i=[];for(let r of t){let o=e(r);o!==null&&i.push(o)}return i}:null}function eV(n){let e=0,t=typeof n.consts=="function"?"":n.consts,i=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,t,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery];for(let o of i.join("|"))e=Math.imul(31,e)+o.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function tV(n){return Object.getPrototypeOf(n.prototype).constructor}function zn(n){let e=tV(n.type),t=!0,i=[n];for(;e;){let r;if(Xi(n))r=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new j(903,!1);r=e.\u0275dir}if(r){if(t){i.push(r);let s=n;s.inputs=m0(n.inputs),s.declaredInputs=m0(n.declaredInputs),s.outputs=m0(n.outputs);let a=r.hostBindings;a&&sV(n,a);let c=r.viewQuery,l=r.contentQueries;if(c&&rV(n,c),l&&oV(n,l),nV(n,r),PI(n.outputs,r.outputs),Xi(r)&&r.data.animation){let h=n.data;h.animation=(h.animation||[]).concat(r.data.animation)}}let o=r.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(n),a===zn&&(t=!1)}}e=Object.getPrototypeOf(e)}iV(i)}function nV(n,e){for(let t in e.inputs){if(!e.inputs.hasOwnProperty(t)||n.inputs.hasOwnProperty(t))continue;let i=e.inputs[t];i!==void 0&&(n.inputs[t]=i,n.declaredInputs[t]=e.declaredInputs[t])}}function iV(n){let e=0,t=null;for(let i=n.length-1;i>=0;i--){let r=n[i];r.hostVars=e+=r.hostVars,r.hostAttrs=ec(r.hostAttrs,t=ec(t,r.hostAttrs))}}function m0(n){return n===Mo?{}:n===mn?[]:n}function rV(n,e){let t=n.viewQuery;t?n.viewQuery=(i,r)=>{e(i,r),t(i,r)}:n.viewQuery=e}function oV(n,e){let t=n.contentQueries;t?n.contentQueries=(i,r,o)=>{e(i,r,o),t(i,r,o)}:n.contentQueries=e}function sV(n,e){let t=n.hostBindings;t?n.hostBindings=(i,r)=>{e(i,r),t(i,r)}:n.hostBindings=e}function aV(n,e,t,i,r,o,s,a){if(t.firstCreatePass){n.mergedAttrs=ec(n.mergedAttrs,n.attrs);let h=n.tView=ly(2,n,r,o,s,t.directiveRegistry,t.pipeRegistry,null,t.schemas,t.consts,null);t.queries!==null&&(t.queries.template(t,n),h.queries=t.queries.embeddedTView(n))}a&&(n.flags|=a),Za(n,!1);let c=cV(t,e,n,i);mp()&&_y(t,e,c,n),tc(c,e);let l=XO(c,e,c,n);e[i+Bt]=l,dy(e,l),Fj(l,n,e)}function zp(n,e,t,i,r,o,s,a,c,l,h){let f=t+Bt,y;if(e.firstCreatePass){if(y=rh(e,f,4,s||null,a||null),l!=null){let w=Ji(e.consts,l);y.localNames=[];for(let I=0;I<w.length;I+=2)y.localNames.push(w[I],-1)}}else y=e.data[f];return aV(y,n,e,t,i,r,o,c),l!=null&&yy(n,y,h),y}var cV=lV;function lV(n,e,t,i){return _p(!0),e[wt].createComment("")}var Oy=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();var xy=new G("");function zs(n){return!!n&&typeof n.then=="function"}function mx(n){return!!n&&typeof n.subscribe=="function"}var Sy=new G("");function ch(n){return dn([{provide:Sy,multi:!0,useValue:n}])}var Dy=(()=>{class n{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((t,i)=>{this.resolve=t,this.reject=i});appInits=N(Sy,{optional:!0})??[];injector=N(Be);constructor(){}runInitializers(){if(this.initialized)return;let t=[];for(let r of this.appInits){let o=ae(this.injector,r);if(zs(o))t.push(o);else if(mx(o)){let s=new Promise((a,c)=>{o.subscribe({complete:a,error:c})});t.push(s)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{i()}).catch(r=>{this.reject(r)}),t.length===0&&i(),this.initialized=!0}static \u0275fac=function(i){return new(i||n)};static \u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),ou=new G("");function _x(){H_(()=>{let n="";throw new j(600,n)})}function vx(n){return n.isBoundToModule}var uV=10;var $r=(()=>{class n{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=N(Vn);afterRenderManager=N(gy);zonelessEnabled=N(Wl);rootEffectScheduler=N(u0);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new de;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=N(tr);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe(K(t=>!t))}constructor(){N(Vs,{optional:!0})}whenStable(){let t;return new Promise(i=>{t=this.isStable.subscribe({next:r=>{r&&i()}})}).finally(()=>{t.unsubscribe()})}_injector=N(yt);_rendererFactory=null;get injector(){return this._injector}bootstrap(t,i){return this.bootstrapImpl(t,i)}bootstrapImpl(t,i,r=Be.NULL){return this._injector.get(ke).run(()=>{Je(10);let s=t instanceof oh;if(!this._injector.get(Dy).done){let I="";throw new j(405,I)}let c;s?c=t:c=this._injector.get(ru).resolveComponentFactory(t),this.componentTypes.push(c.componentType);let l=vx(c)?void 0:this._injector.get(ic),h=i||c.selector,f=c.create(r,[],h,l),y=f.location.nativeElement,w=f.injector.get(xy,null);return w?.registerApplication(y),f.onDestroy(()=>{this.detachView(f.hostView),Kl(this.components,f),w?.unregisterApplication(y)}),this._loadComponent(f),Je(11,f),f})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){Je(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(Jp.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new j(101,!1);let t=ue(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,ue(t),this.afterTick.next(),Je(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(zr,null,{optional:!0}));let t=0;for(;this.dirtyFlags!==0&&t++<uV;)Je(14),this.synchronizeOnce(),Je(15)}synchronizeOnce(){this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let t=!1;if(this.dirtyFlags&7){let i=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:r}of this.allViews){if(!i&&!$l(r))continue;let o=i&&!this.zonelessEnabled?0:1;KO(r,o),t=!0}if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}t||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:t})=>$l(t))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(t){let i=t;this._views.push(i),i.attachToAppRef(this)}detachView(t){let i=t;Kl(this._views,i),i.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView);try{this.tick()}catch(r){this.internalErrorHandler(r)}this.components.push(t),this._injector.get(ou,[]).forEach(r=>r(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>Kl(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new j(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(i){return new(i||n)};static \u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Kl(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function Gt(n,e,t,i){let r=_e(),o=ks();if(Pi(r,o,e)){let s=Zt(),a=s0();RB(a,r,n,e,t,i)}return Gt}var Xoe=typeof document<"u"&&typeof document?.documentElement?.getAnimations=="function";var $0=class{destroy(e){}updateValue(e,t){}swap(e,t){let i=Math.min(e,t),r=Math.max(e,t),o=this.detach(r);if(r-i>1){let s=this.detach(i);this.attach(i,o),this.attach(r,s)}else this.attach(i,o)}move(e,t){this.attach(t,this.detach(e))}};function _0(n,e,t,i,r){return n===t&&Object.is(e,i)?1:Object.is(r(n,e),r(t,i))?-1:0}function dV(n,e,t){let i,r,o=0,s=n.length-1,a=void 0;if(Array.isArray(e)){let c=e.length-1;for(;o<=s&&o<=c;){let l=n.at(o),h=e[o],f=_0(o,l,o,h,t);if(f!==0){f<0&&n.updateValue(o,h),o++;continue}let y=n.at(s),w=e[c],I=_0(s,y,c,w,t);if(I!==0){I<0&&n.updateValue(s,w),s--,c--;continue}let D=t(o,l),T=t(s,y),L=t(o,h);if(Object.is(L,T)){let Z=t(c,w);Object.is(Z,D)?(n.swap(o,s),n.updateValue(s,w),c--,s--):n.move(s,o),n.updateValue(o,h),o++;continue}if(i??=new $p,r??=jP(n,o,s,t),H0(n,i,o,L))n.updateValue(o,h),o++,s++;else if(r.has(L))i.set(D,n.detach(o)),s--;else{let Z=n.create(o,e[o]);n.attach(o,Z),o++,s++}}for(;o<=c;)BP(n,i,t,o,e[o]),o++}else if(e!=null){let c=e[Symbol.iterator](),l=c.next();for(;!l.done&&o<=s;){let h=n.at(o),f=l.value,y=_0(o,h,o,f,t);if(y!==0)y<0&&n.updateValue(o,f),o++,l=c.next();else{i??=new $p,r??=jP(n,o,s,t);let w=t(o,f);if(H0(n,i,o,w))n.updateValue(o,f),o++,s++,l=c.next();else if(!r.has(w))n.attach(o,n.create(o,f)),o++,s++,l=c.next();else{let I=t(o,h);i.set(I,n.detach(o)),s--}}}for(;!l.done;)BP(n,i,t,n.length,l.value),l=c.next()}for(;o<=s;)n.destroy(n.detach(s--));i?.forEach(c=>{n.destroy(c)})}function H0(n,e,t,i){return e!==void 0&&e.has(i)?(n.attach(t,e.get(i)),e.delete(i),!0):!1}function BP(n,e,t,i,r){if(H0(n,e,i,t(i,r)))n.updateValue(i,r);else{let o=n.create(i,r);n.attach(i,o)}}function jP(n,e,t,i){let r=new Set;for(let o=e;o<=t;o++)r.add(i(o,n.at(o)));return r}var $p=class{kvMap=new Map;_vMap=void 0;has(e){return this.kvMap.has(e)}delete(e){if(!this.has(e))return!1;let t=this.kvMap.get(e);return this._vMap!==void 0&&this._vMap.has(t)?(this.kvMap.set(e,this._vMap.get(t)),this._vMap.delete(t)):this.kvMap.delete(e),!0}get(e){return this.kvMap.get(e)}set(e,t){if(this.kvMap.has(e)){let i=this.kvMap.get(e);this._vMap===void 0&&(this._vMap=new Map);let r=this._vMap;for(;r.has(i);)i=r.get(i);r.set(i,t)}else this.kvMap.set(e,t)}forEach(e){for(let[t,i]of this.kvMap)if(e(i,t),this._vMap!==void 0){let r=this._vMap;for(;r.has(i);)i=r.get(i),e(i,t)}}};function A(n,e,t,i,r,o,s,a){Un("NgControlFlow");let c=_e(),l=Zt(),h=Ji(l.consts,o);return zp(c,l,n,e,t,i,r,h,256,s,a),Ty}function Ty(n,e,t,i,r,o,s,a){Un("NgControlFlow");let c=_e(),l=Zt(),h=Ji(l.consts,o);return zp(c,l,n,e,t,i,r,h,512,s,a),Ty}function k(n,e){Un("NgControlFlow");let t=_e(),i=ks(),r=t[i]!==fn?t[i]:-1,o=r!==-1?Hp(t,Bt+r):void 0,s=0;if(Pi(t,i,n)){let a=ue(null);try{if(o!==void 0&&ex(o,s),n!==-1){let c=Bt+n,l=Hp(t,c),h=K0(t[oe],c),f=nx(l,h,t),y=nh(t,h,e,{dehydratedView:f});ih(l,y,s,Ql(h,f))}}finally{ue(a)}}else if(o!==void 0){let a=JO(o,s);a!==void 0&&(a[Tt]=e)}}var W0=class{lContainer;$implicit;$index;constructor(e,t,i){this.lContainer=e,this.$implicit=t,this.$index=i}get $count(){return this.lContainer.length-Et}};function $n(n){return n}var G0=class{hasEmptyBlock;trackByFn;liveCollection;constructor(e,t,i){this.hasEmptyBlock=e,this.trackByFn=t,this.liveCollection=i}};function dt(n,e,t,i,r,o,s,a,c,l,h,f,y){Un("NgControlFlow");let w=_e(),I=Zt(),D=c!==void 0,T=_e(),L=a?s.bind(T[Bn][Tt]):s,Z=new G0(D,L);T[Bt+n]=Z,zp(w,I,n+1,e,t,i,r,Ji(I.consts,o),256),D&&zp(w,I,n+2,c,l,h,f,Ji(I.consts,y),512)}var q0=class extends $0{lContainer;hostLView;templateTNode;operationsCounter=void 0;needsIndexUpdate=!1;constructor(e,t,i){super(),this.lContainer=e,this.hostLView=t,this.templateTNode=i}get length(){return this.lContainer.length-Et}at(e){return this.getLView(e)[Tt].$implicit}attach(e,t){let i=t[Ga];this.needsIndexUpdate||=e!==this.length,ih(this.lContainer,t,e,Ql(this.templateTNode,i)),fV(this.lContainer,e)}detach(e){return this.needsIndexUpdate||=e!==this.length-1,pV(this.lContainer,e),hV(this.lContainer,e)}create(e,t){let i=k0(this.lContainer,this.templateTNode.tView.ssrId),r=nh(this.hostLView,this.templateTNode,new W0(this.lContainer,t,e),{dehydratedView:i});return this.operationsCounter?.recordCreate(),r}destroy(e){eh(e[oe],e),this.operationsCounter?.recordDestroy()}updateValue(e,t){this.getLView(e)[Tt].$implicit=t}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let e=0;e<this.length;e++)this.getLView(e)[Tt].$index=e}getLView(e){return gV(this.lContainer,e)}};function ft(n){let e=ue(null),t=er();try{let i=_e(),r=i[oe],o=i[t],s=t+1,a=Hp(i,s);if(o.liveCollection===void 0){let l=K0(r,s);o.liveCollection=new q0(a,i,l)}else o.liveCollection.reset();let c=o.liveCollection;if(dV(c,n,o.trackByFn),c.updateIndexes(),o.hasEmptyBlock){let l=ks(),h=c.length===0;if(Pi(i,l,h)){let f=t+2,y=Hp(i,f);if(h){let w=K0(r,f),I=nx(y,w,i),D=nh(i,w,void 0,{dehydratedView:I});ih(y,D,0,Ql(w,I))}else r.firstUpdatePass&&rj(y),ex(y,0)}}}finally{ue(e)}}function Hp(n,e){return n[e]}function fV(n,e){if(n.length<=Et)return;let t=Et+e,i=n[t],r=i?i[Ds]:void 0;if(i&&r&&r.detachedLeaveAnimationFns&&r.detachedLeaveAnimationFns.length>0){let o=i[Br];aB(o,r),Ls.delete(i),r.detachedLeaveAnimationFns=void 0}}function pV(n,e){if(n.length<=Et)return;let t=Et+e,i=n[t],r=i?i[Ds]:void 0;r&&r.leave&&r.leave.size>0&&(r.detachedLeaveAnimationFns=[])}function hV(n,e){return Xl(n,e)}function gV(n,e){return JO(n,e)}function K0(n,e){return zl(n,e)}function V(n,e,t){let i=_e(),r=ks();if(Pi(i,r,e)){let o=Zt(),s=s0();OB(s,i,n,e,i[wt],t)}return V}function Y0(n,e,t,i,r){by(e,n,t,r?"class":"style",i)}function m(n,e,t,i){let r=_e(),o=r[oe],s=n+Bt,a=o.firstCreatePass?sx(s,r,2,e,kB,QI(),t,i):o.data[s];if(UO(a,r,n,e,yx),sp(a)){let c=r[oe];VO(c,r,a),mO(c,a,r)}return i!=null&&yy(r,a),m}function _(){let n=Zt(),e=Xt(),t=zO(e);return n.firstCreatePass&&ax(n,t),Zv(t)&&Xv(),Qv(),t.classesWithoutHost!=null&&s4(t)&&Y0(n,t,_e(),t.classesWithoutHost,!0),t.stylesWithoutHost!=null&&a4(t)&&Y0(n,t,_e(),t.stylesWithoutHost,!1),_}function M(n,e,t,i){return m(n,e,t,i),_(),M}function Ke(n,e,t,i){let r=_e(),o=r[oe],s=n+Bt,a=o.firstCreatePass?yj(s,o,2,e,t,i):o.data[s];return UO(a,r,n,e,yx),i!=null&&yy(r,a),Ke}function it(){let n=Xt(),e=zO(n);return Zv(e)&&Xv(),Qv(),it}function Dn(n,e,t,i){return Ke(n,e,t,i),it(),Dn}var yx=(n,e,t,i,r)=>(_p(!0),yO(e[wt],i,uP()));function Re(){return _e()}var su="en-US";var mV=su;function bx(n){typeof n=="string"&&(mV=n.toLowerCase().replace(/_/g,"-"))}function H(n,e,t){let i=_e(),r=Zt(),o=Xt();return _V(r,i,i[wt],o,n,e,t),H}function _V(n,e,t,i,r,o,s){let a=!0,c=null;if((i.type&3||s)&&(c??=h0(i,e,o),Cj(i,n,e,s,t,r,o,c)&&(a=!1)),a){let l=i.outputs?.[r],h=i.hostDirectiveOutputs?.[r];if(h&&h.length)for(let f=0;f<h.length;f+=2){let y=h[f],w=h[f+1];c??=h0(i,e,o),RP(i,e,y,w,r,c)}if(l&&l.length)for(let f of l)c??=h0(i,e,o),RP(i,e,f,r,r,c)}}function R(n=1){return lP(n)}function Ay(n,e,t,i){Wj(n,e,t,i)}function ky(n){let e=_e(),t=Zt(),i=i0();dp(i+1);let r=Py(t,i);if(n.dirty&&$I(e)===((r.metadata.flags&2)===2)){if(r.matches===null)n.reset([]);else{let o=Yj(e,i);n.reset(o,b4),n.notifyOnChanges()}return!0}return!1}function Ry(){return $j(_e(),i0())}function Cp(n,e){return n<<17|e<<2}function Bs(n){return n>>17&32767}function vV(n){return(n&2)==2}function yV(n,e){return n&131071|e<<17}function Q0(n){return n|2}function rc(n){return(n&131068)>>2}function v0(n,e){return n&-131069|e<<2}function bV(n){return(n&1)===1}function Z0(n){return n|1}function CV(n,e,t,i,r,o){let s=o?e.classBindings:e.styleBindings,a=Bs(s),c=rc(s);n[i]=t;let l=!1,h;if(Array.isArray(t)){let f=t;h=f[1],(h===null||Wa(f,h)>0)&&(l=!0)}else h=t;if(r)if(c!==0){let y=Bs(n[a+1]);n[i+1]=Cp(y,a),y!==0&&(n[y+1]=v0(n[y+1],i)),n[a+1]=yV(n[a+1],i)}else n[i+1]=Cp(a,0),a!==0&&(n[a+1]=v0(n[a+1],i)),a=i;else n[i+1]=Cp(c,0),a===0?a=i:n[c+1]=v0(n[c+1],i),c=i;l&&(n[i+1]=Q0(n[i+1])),VP(n,h,i,!0),VP(n,h,i,!1),wV(e,h,n,i,o),s=Cp(a,c),o?e.classBindings=s:e.styleBindings=s}function wV(n,e,t,i,r){let o=r?n.residualClasses:n.residualStyles;o!=null&&typeof e=="string"&&Wa(o,e)>=0&&(t[i+1]=Z0(t[i+1]))}function VP(n,e,t,i){let r=n[t+1],o=e===null,s=i?Bs(r):rc(r),a=!1;for(;s!==0&&(a===!1||o);){let c=n[s],l=n[s+1];EV(c,e)&&(a=!0,n[s+1]=i?Z0(l):Q0(l)),s=i?Bs(l):rc(l)}a&&(n[t+1]=i?Q0(r):Z0(r))}function EV(n,e){return n===null||e==null||(Array.isArray(n)?n[1]:n)===e?!0:Array.isArray(n)&&typeof e=="string"?Wa(n,e)>=0:!1}var Ii={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function MV(n){return n.substring(Ii.key,Ii.keyEnd)}function IV(n){return PV(n),Cx(n,wx(n,0,Ii.textEnd))}function Cx(n,e){let t=Ii.textEnd;return t===e?-1:(e=Ii.keyEnd=OV(n,Ii.key=e,t),wx(n,e,t))}function PV(n){Ii.key=0,Ii.keyEnd=0,Ii.value=0,Ii.valueEnd=0,Ii.textEnd=n.length}function wx(n,e,t){for(;e<t&&n.charCodeAt(e)<=32;)e++;return e}function OV(n,e,t){for(;e<t&&n.charCodeAt(e)>32;)e++;return e}function ri(n,e,t){return Ex(n,e,t,!1),ri}function Y(n,e){return Ex(n,e,null,!0),Y}function To(n){SV(NV,xV,n,!0)}function xV(n,e){for(let t=IV(e);t>=0;t=Cx(e,t))np(n,MV(e),!0)}function Ex(n,e,t,i){let r=_e(),o=Zt(),s=lp(2);if(o.firstUpdatePass&&Ix(o,n,s,i),e!==fn&&Pi(r,s,e)){let a=o.data[er()];Px(o,a,r,r[wt],n,r[s+1]=FV(e,t),i,s)}}function SV(n,e,t,i){let r=Zt(),o=lp(2);r.firstUpdatePass&&Ix(r,null,o,i);let s=_e();if(t!==fn&&Pi(s,o,t)){let a=r.data[er()];if(Ox(a,i)&&!Mx(r,o)){let c=i?a.classesWithoutHost:a.stylesWithoutHost;c!==null&&(t=Xf(c,t||"")),Y0(r,a,s,t,i)}else LV(r,a,s,s[wt],s[o+1],s[o+1]=RV(n,e,t),i,o)}}function Mx(n,e){return e>=n.expandoStartIndex}function Ix(n,e,t,i){let r=n.data;if(r[t+1]===null){let o=r[er()],s=Mx(n,t);Ox(o,i)&&e===null&&!s&&(e=!1),e=DV(r,o,e,i),CV(r,o,e,t,s,i)}}function DV(n,e,t,i){let r=oP(n),o=i?e.residualClasses:e.residualStyles;if(r===null)(i?e.classBindings:e.styleBindings)===0&&(t=y0(null,n,e,t,i),t=eu(t,e.attrs,i),o=null);else{let s=e.directiveStylingLast;if(s===-1||n[s]!==r)if(t=y0(r,n,e,t,i),o===null){let c=TV(n,e,i);c!==void 0&&Array.isArray(c)&&(c=y0(null,n,e,c[1],i),c=eu(c,e.attrs,i),AV(n,e,i,c))}else o=kV(n,e,i)}return o!==void 0&&(i?e.residualClasses=o:e.residualStyles=o),t}function TV(n,e,t){let i=t?e.classBindings:e.styleBindings;if(rc(i)!==0)return n[Bs(i)]}function AV(n,e,t,i){let r=t?e.classBindings:e.styleBindings;n[Bs(r)]=i}function kV(n,e,t){let i,r=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<r;o++){let s=n[o].hostAttrs;i=eu(i,s,t)}return eu(i,e.attrs,t)}function y0(n,e,t,i,r){let o=null,s=t.directiveEnd,a=t.directiveStylingLast;for(a===-1?a=t.directiveStart:a++;a<s&&(o=e[a],i=eu(i,o.hostAttrs,r),o!==n);)a++;return n!==null&&(t.directiveStylingLast=a),i}function eu(n,e,t){let i=t?1:2,r=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?r=s:r===i&&(Array.isArray(n)||(n=n===void 0?[]:["",n]),np(n,s,t?!0:e[++o]))}return n===void 0?null:n}function RV(n,e,t){if(t==null||t==="")return mn;let i=[],r=ac(t);if(Array.isArray(r))for(let o=0;o<r.length;o++)n(i,r[o],!0);else if(typeof r=="object")for(let o in r)r.hasOwnProperty(o)&&n(i,o,r[o]);else typeof r=="string"&&e(i,r);return i}function NV(n,e,t){let i=String(e);i!==""&&!i.includes(" ")&&np(n,i,t)}function LV(n,e,t,i,r,o,s,a){r===fn&&(r=mn);let c=0,l=0,h=0<r.length?r[0]:null,f=0<o.length?o[0]:null;for(;h!==null||f!==null;){let y=c<r.length?r[c+1]:void 0,w=l<o.length?o[l+1]:void 0,I=null,D;h===f?(c+=2,l+=2,y!==w&&(I=f,D=w)):f===null||h!==null&&h<f?(c+=2,I=h):(l+=2,I=f,D=w),I!==null&&Px(n,e,t,i,I,D,s,a),h=c<r.length?r[c]:null,f=l<o.length?o[l]:null}}function Px(n,e,t,i,r,o,s,a){if(!(e.type&3))return;let c=n.data,l=c[a+1],h=bV(l)?UP(c,e,t,r,rc(l),s):void 0;if(!Wp(h)){Wp(o)||vV(l)&&(o=UP(c,null,t,r,a,s));let f=$v(er(),t);wB(i,s,f,r,o)}}function UP(n,e,t,i,r,o){let s=e===null,a;for(;r>0;){let c=n[r],l=Array.isArray(c),h=l?c[1]:c,f=h===null,y=t[r+1];y===fn&&(y=f?mn:void 0);let w=f?ip(y,i):h===i?y:void 0;if(l&&!Wp(w)&&(w=ip(c,i)),Wp(w)&&(a=w,s))return a;let I=n[r+1];r=s?Bs(I):rc(I)}if(e!==null){let c=o?e.residualClasses:e.residualStyles;c!=null&&(a=ip(c,i))}return a}function Wp(n){return n!==void 0}function FV(n,e){return n==null||n===""||(typeof e=="string"?n=n+e:typeof n=="object"&&(n=Nr(ac(n)))),n}function Ox(n,e){return(n.flags&(e?8:16))!==0}function v(n,e=""){let t=_e(),i=Zt(),r=n+Bt,o=i.firstCreatePass?rh(i,r,1,e,null):i.data[r],s=BV(i,t,o,e,n);t[r]=s,mp()&&_y(i,t,s,o),Za(o,!1)}var BV=(n,e,t,i,r)=>(_p(!0),k4(e[wt],i));function jV(n,e,t,i=""){return Pi(n,ks(),t)?e+Eo(t)+i:fn}function VV(n,e,t,i,r,o=""){let s=eP(),a=cx(n,s,t,r);return lp(2),a?e+Eo(t)+i+Eo(r)+o:fn}function O(n){return P("",n),O}function P(n,e,t){let i=_e(),r=jV(i,n,e,t);return r!==fn&&xx(i,er(),r),P}function Oi(n,e,t,i,r){let o=_e(),s=VV(o,n,e,t,i,r);return s!==fn&&xx(o,er(),s),Oi}function xx(n,e,t){let i=$v(e,n);R4(n[wt],i,t)}function Tn(n){return Pi(_e(),ks(),n)?Eo(n):fn}function UV(n,e,t){let i=Zt();if(i.firstCreatePass){let r=Xi(n);X0(t,i.data,i.blueprint,r,!0),X0(e,i.data,i.blueprint,r,!1)}}function X0(n,e,t,i,r){if(n=Qt(n),Array.isArray(n))for(let o=0;o<n.length;o++)X0(n[o],e,t,i,r);else{let o=Zt(),s=_e(),a=Xt(),c=Ms(n)?n:Qt(n.provide),l=Fv(n),h=a.providerIndexes&1048575,f=a.directiveStart,y=a.providerIndexes>>20;if(Ms(n)||!n.multi){let w=new Ns(l,r,B,null),I=C0(c,e,r?h:h+y,f);I===-1?(E0(Dp(a,s),o,c),b0(o,n,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),t.push(w),s.push(w)):(t[I]=w,s[I]=w)}else{let w=C0(c,e,h+y,f),I=C0(c,e,h,h+y),D=w>=0&&t[w],T=I>=0&&t[I];if(r&&!T||!r&&!D){E0(Dp(a,s),o,c);let L=HV(r?$V:zV,t.length,r,i,l,n);!r&&T&&(t[I].providerFactory=L),b0(o,n,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),t.push(L),s.push(L)}else{let L=Sx(t[r?I:w],l,!r&&i);b0(o,n,w>-1?w:I,L)}!r&&i&&T&&t[I].componentProviders++}}}function b0(n,e,t,i){let r=Ms(e),o=BI(e);if(r||o){let c=(o?Qt(e.useClass):e).prototype.ngOnDestroy;if(c){let l=n.destroyHooks||(n.destroyHooks=[]);if(!r&&e.multi){let h=l.indexOf(t);h===-1?l.push(t,[i,c]):l[h+1].push(i,c)}else l.push(t,c)}}}function Sx(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function C0(n,e,t,i){for(let r=t;r<i;r++)if(e[r]===n)return r;return-1}function zV(n,e,t,i,r){return J0(this.multi,[])}function $V(n,e,t,i,r){let o=this.multi,s;if(this.providerFactory){let a=this.providerFactory.componentProviders,c=Yl(i,i[oe],this.providerFactory.index,r);s=c.slice(0,a),J0(o,s);for(let l=a;l<c.length;l++)s.push(c[l])}else s=[],J0(o,s);return s}function J0(n,e){for(let t=0;t<n.length;t++){let i=n[t];e.push(i())}return e}function HV(n,e,t,i,r,o){let s=new Ns(n,t,B,null);return s.multi=[],s.index=e,s.componentProviders=0,Sx(s,r,i&&!t),s}function Hr(n,e=[]){return t=>{t.providersResolver=(i,r)=>UV(i,r?r(n):n,e)}}function Wr(n,e,t){let i=Hl()+n,r=_e();return r[i]===fn?Iy(r,i,t?e.call(t):e()):bj(r,i)}function $s(n,e,t,i){return Tx(_e(),Hl(),n,e,t,i)}function Ny(n,e,t,i,r){return WV(_e(),Hl(),n,e,t,i,r)}function Dx(n,e){let t=n[e];return t===fn?void 0:t}function Tx(n,e,t,i,r,o){let s=e+t;return Pi(n,s,r)?Iy(n,s+1,o?i.call(o,r):i(r)):Dx(n,s+1)}function WV(n,e,t,i,r,o,s){let a=e+t;return cx(n,a,r,o)?Iy(n,a+2,s?i.call(s,r,o):i(r,o)):Dx(n,a+2)}function b(n,e){let t=Zt(),i,r=n+Bt;t.firstCreatePass?(i=GV(e,t.pipeRegistry),t.data[r]=i,i.onDestroy&&(t.destroyHooks??=[]).push(r,i.onDestroy)):i=t.data[r];let o=i.factory||(i.factory=bo(i.type,!0)),s,a=gn(B);try{let c=Sp(!1),l=o();return Sp(c),Hv(t,_e(),r,l),l}finally{gn(a)}}function GV(n,e){if(e)for(let t=e.length-1;t>=0;t--){let i=e[t];if(n===i.name)return i}}function C(n,e,t){let i=n+Bt,r=_e(),o=zI(r,i);return qV(r,i)?Tx(r,Hl(),e,o.transform,t,o):o.transform(t)}function qV(n,e){return n[oe].data[e].pure}var Gp=class{ngModuleFactory;componentFactories;constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}},Ly=(()=>{class n{compileModuleSync(t){return new Up(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let i=this.compileModuleSync(t),r=kv(t),o=IO(r.declarations).reduce((s,a)=>{let c=Fr(a);return c&&s.push(new Fs(c)),s},[]);return new Gp(i,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static \u0275fac=function(i){return new(i||n)};static \u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var KV=(()=>{class n{zone=N(ke);changeDetectionScheduler=N(Lr);applicationRef=N($r);applicationErrorHandler=N(Vn);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{try{this.applicationRef.dirtyFlags|=1,this.applicationRef._tick()}catch(t){this.applicationErrorHandler(t)}})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(i){return new(i||n)};static \u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Ax=new G("",{factory:()=>!1});function Fy({ngZoneFactory:n,ignoreChangesOutsideZone:e,scheduleInRootZone:t}){return n??=()=>new ke(ie(F({},jy()),{scheduleInRootZone:t})),[{provide:ke,useFactory:n},{provide:Io,multi:!0,useFactory:()=>{let i=N(KV,{optional:!0});return()=>i.initialize()}},{provide:Io,multi:!0,useFactory:()=>{let i=N(YV);return()=>{i.initialize()}}},e===!0?{provide:c0,useValue:!0}:[],{provide:l0,useValue:t??DO},{provide:Vn,useFactory:()=>{let i=N(ke),r=N(yt),o;return s=>{i.runOutsideAngular(()=>{r.destroyed&&!o?setTimeout(()=>{throw s}):(o??=r.get(bi),o.handleError(s))})}}}]}function By(n){let e=n?.ignoreChangesOutsideZone,t=n?.scheduleInRootZone,i=Fy({ngZoneFactory:()=>{let r=jy(n);return r.scheduleInRootZone=t,r.shouldCoalesceEventChangeDetection&&Un("NgZone_CoalesceEvent"),new ke(r)},ignoreChangesOutsideZone:e,scheduleInRootZone:t});return dn([{provide:Ax,useValue:!0},{provide:Wl,useValue:!1},i])}function jy(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}var YV=(()=>{class n{subscription=new Ct;initialized=!1;zone=N(ke);pendingTasks=N(tr);initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{ke.assertNotInAngularZone(),queueMicrotask(()=>{t!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{ke.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(i){return new(i||n)};static \u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var kx=(()=>{class n{applicationErrorHandler=N(Vn);appRef=N($r);taskService=N(tr);ngZone=N(ke);zonelessEnabled=N(Wl);tracing=N(Vs,{optional:!0});disableScheduling=N(c0,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new Ct;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Rp):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(N(l0,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Np||!this.zoneIsDefined)}notify(t){if(!this.zonelessEnabled&&t===5)return;let i=!1;switch(t){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,i=!0;break}case 12:{this.appRef.dirtyFlags|=16,i=!0;break}case 13:{this.appRef.dirtyFlags|=2,i=!0;break}case 11:{i=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(i))return;let r=this.useMicrotaskScheduler?MP:TO;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>r(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>r(()=>this.tick()))}shouldScheduleTick(t){return!(this.disableScheduling&&!t||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Rp+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(i){this.taskService.remove(t),this.applicationErrorHandler(i)}finally{this.cleanup()}this.useMicrotaskScheduler=!0,MP(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static \u0275fac=function(i){return new(i||n)};static \u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function QV(){return typeof $localize<"u"&&$localize.locale||su}var Vy=new G("",{providedIn:"root",factory:()=>N(Vy,{optional:!0,skipSelf:!0})||QV()});function en(n){return EI(n)}function lc(n,e){return Cf(n,e?.equal)}var Rx=class{[hn];constructor(e){this[hn]=e}destroy(){this[hn].destroy()}};var Fx=Symbol("InputSignalNode#UNSET"),r6=ie(F({},wf),{transformFn:void 0,applyValueToInputSignal(n,e){Aa(n,e)}});function Bx(n,e){let t=Object.create(r6);t.value=n,t.transformFn=e?.transform;function i(){if(Sa(t),t.value===Fx){let r=null;throw new j(-950,r)}return t.value}return i[hn]=t,i}var uh=class{attributeName;constructor(e){this.attributeName=e}__NG_ELEMENT_ID__=()=>tu(this.attributeName);toString(){return`HostAttributeToken ${this.attributeName}`}},o6=new G("");o6.__NG_ELEMENT_ID__=n=>{let e=Xt();if(e===null)throw new j(204,!1);if(e.type&2)return e.value;if(n&8)return null;throw new j(204,!1)};function Nx(n,e){return Bx(n,e)}function s6(n){return Bx(Fx,n)}var jx=(Nx.required=s6,Nx);var Uy=new G(""),a6=new G("");function au(n){return!n.moduleRef}function c6(n){let e=au(n)?n.r3Injector:n.moduleRef.injector,t=e.get(ke);return t.run(()=>{au(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();let i=e.get(Vn),r;if(t.runOutsideAngular(()=>{r=t.onError.subscribe({next:i})}),au(n)){let o=()=>e.destroy(),s=n.platformInjector.get(Uy);s.add(o),e.onDestroy(()=>{r.unsubscribe(),s.delete(o)})}else{let o=()=>n.moduleRef.destroy(),s=n.platformInjector.get(Uy);s.add(o),n.moduleRef.onDestroy(()=>{Kl(n.allPlatformModules,n.moduleRef),r.unsubscribe(),s.delete(o)})}return u6(i,t,()=>{let o=e.get(tr),s=o.add(),a=e.get(Dy);return a.runInitializers(),a.donePromise.then(()=>{let c=e.get(Vy,su);if(bx(c||su),!e.get(a6,!0))return au(n)?e.get($r):(n.allPlatformModules.push(n.moduleRef),n.moduleRef);if(au(n)){let h=e.get($r);return n.rootComponent!==void 0&&h.bootstrap(n.rootComponent),h}else return l6?.(n.moduleRef,n.allPlatformModules),n.moduleRef}).finally(()=>void o.remove(s))})})}var l6;function u6(n,e,t){try{let i=t();return zs(i)?i.catch(r=>{throw e.runOutsideAngular(()=>n(r)),r}):i}catch(i){throw e.runOutsideAngular(()=>n(i)),i}}var lh=null;function d6(n=[],e){return Be.create({name:e,providers:[{provide:Fl,useValue:"platform"},{provide:Uy,useValue:new Set([()=>lh=null])},...n]})}function f6(n=[]){if(lh)return lh;let e=d6(n);return lh=e,_x(),p6(e),e}function p6(n){let e=n.get(Kp,null);ae(n,()=>{e?.forEach(t=>t())})}function zy(){return!1}var rr=(()=>{class n{static __NG_ELEMENT_ID__=h6}return n})();function h6(n){return g6(Xt(),_e(),(n&16)===16)}function g6(n,e,t){if(xo(n)&&!t){let i=ti(n.index,e);return new Do(i,i)}else if(n.type&175){let i=e[Bn];return new Do(i,e)}return null}function Vx(n){let{rootComponent:e,appProviders:t,platformProviders:i,platformRef:r}=n;Je(8);try{let o=r?.injector??f6(i),s=[Fy({}),{provide:Lr,useExisting:kx},fP,...t||[]],a=new Jl({providers:s,parent:o,debugName:"",runEnvironmentInitializers:!1});return c6({r3Injector:a.injector,platformInjector:o,rootComponent:e})}catch(o){return Promise.reject(o)}finally{Je(9)}}function uc(n){return typeof n=="boolean"?n:n!=null&&n!=="false"}function Ux(n){let e=Fr(n);if(!e)return null;let t=new Fs(e);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var Hx=null;function oi(){return Hx}function $y(n){Hx??=n}var cu=class{},lu=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(i){return new(i||n)};static \u0275prov=$({token:n,factory:()=>N(Wx),providedIn:"platform"})}return n})(),Hy=new G(""),Wx=(()=>{class n extends lu{_location;_history;_doc=N(gt);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return oi().getBaseHref(this._doc)}onPopState(t){let i=oi().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",t,!1),()=>i.removeEventListener("popstate",t)}onHashChange(t){let i=oi().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",t,!1),()=>i.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,i,r){this._history.pushState(t,i,r)}replaceState(t,i,r){this._history.replaceState(t,i,r)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static \u0275fac=function(i){return new(i||n)};static \u0275prov=$({token:n,factory:()=>new n,providedIn:"platform"})}return n})();function dh(n,e){return n?e?n.endsWith("/")?e.startsWith("/")?n+e.slice(1):n+e:e.startsWith("/")?n+e:`${n}/${e}`:n:e}function zx(n){let e=n.search(/#|\?|$/);return n[e-1]==="/"?n.slice(0,e-1)+n.slice(e):n}function xi(n){return n&&n[0]!=="?"?`?${n}`:n}var si=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(i){return new(i||n)};static \u0275prov=$({token:n,factory:()=>N(ph),providedIn:"root"})}return n})(),fh=new G(""),ph=(()=>{class n extends si{_platformLocation;_baseHref;_removeListenerFns=[];constructor(t,i){super(),this._platformLocation=t,this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??N(gt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return dh(this._baseHref,t)}path(t=!1){let i=this._platformLocation.pathname+xi(this._platformLocation.search),r=this._platformLocation.hash;return r&&t?`${i}${r}`:i}pushState(t,i,r,o){let s=this.prepareExternalUrl(r+xi(o));this._platformLocation.pushState(t,i,s)}replaceState(t,i,r,o){let s=this.prepareExternalUrl(r+xi(o));this._platformLocation.replaceState(t,i,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(i){return new(i||n)(q(lu),q(fh,8))};static \u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Ao=(()=>{class n{_subject=new de;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(t){this._locationStrategy=t;let i=this._locationStrategy.getBaseHref();this._basePath=v6(zx($x(i))),this._locationStrategy.onPopState(r=>{this._subject.next({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,i=""){return this.path()==this.normalize(t+xi(i))}normalize(t){return n.stripTrailingSlash(_6(this._basePath,$x(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,i="",r=null){this._locationStrategy.pushState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+xi(i)),r)}replaceState(t,i="",r=null){this._locationStrategy.replaceState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+xi(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{let i=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",i){this._urlChangeListeners.forEach(r=>r(t,i))}subscribe(t,i,r){return this._subject.subscribe({next:t,error:i??void 0,complete:r??void 0})}static normalizeQueryParams=xi;static joinWithSlash=dh;static stripTrailingSlash=zx;static \u0275fac=function(i){return new(i||n)(q(si))};static \u0275prov=$({token:n,factory:()=>m6(),providedIn:"root"})}return n})();function m6(){return new Ao(q(si))}function _6(n,e){if(!n||!e.startsWith(n))return e;let t=e.substring(n.length);return t===""||["/",";","?","#"].includes(t[0])?t:e}function $x(n){return n.replace(/\/index.html$/,"")}function v6(n){if(new RegExp("^(https?:)?//").test(n)){let[,t]=n.split(/\/\/[^\/]+/);return t}return n}var hh=(()=>{class n extends si{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(t,i){super(),this._platformLocation=t,i!=null&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let i=this._platformLocation.hash??"#";return i.length>0?i.substring(1):i}prepareExternalUrl(t){let i=dh(this._baseHref,t);return i.length>0?"#"+i:i}pushState(t,i,r,o){let s=this.prepareExternalUrl(r+xi(o))||this._platformLocation.pathname;this._platformLocation.pushState(t,i,s)}replaceState(t,i,r,o){let s=this.prepareExternalUrl(r+xi(o))||this._platformLocation.pathname;this._platformLocation.replaceState(t,i,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(i){return new(i||n)(q(lu),q(fh,8))};static \u0275prov=$({token:n,factory:n.\u0275fac})}return n})();var Wy=/\s+/,Gx=[],jt=(()=>{class n{_ngEl;_renderer;initialClasses=Gx;rawClass;stateMap=new Map;constructor(t,i){this._ngEl=t,this._renderer=i}set klass(t){this.initialClasses=t!=null?t.trim().split(Wy):Gx}set ngClass(t){this.rawClass=typeof t=="string"?t.trim().split(Wy):t}ngDoCheck(){for(let i of this.initialClasses)this._updateState(i,!0);let t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(let i of t)this._updateState(i,!0);else if(t!=null)for(let i of Object.keys(t))this._updateState(i,!!t[i]);this._applyStateDiff()}_updateState(t,i){let r=this.stateMap.get(t);r!==void 0?(r.enabled!==i&&(r.changed=!0,r.enabled=i),r.touched=!0):this.stateMap.set(t,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(let t of this.stateMap){let i=t[0],r=t[1];r.changed?(this._toggleClass(i,r.enabled),r.changed=!1):r.touched||(r.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),r.touched=!1}}_toggleClass(t,i){t=t.trim(),t.length>0&&t.split(Wy).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}static \u0275fac=function(i){return new(i||n)(B(Jt),B(ii))};static \u0275dir=mt({type:n,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return n})();var Ie=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=_n({type:n});static \u0275inj=un({})}return n})();function uu(n,e){e=encodeURIComponent(e);for(let t of n.split(";")){let i=t.indexOf("="),[r,o]=i==-1?[t,""]:[t.slice(0,i),t.slice(i+1)];if(r.trim()===e)return decodeURIComponent(o)}return null}var Hs=class{};var qx="browser";var Kx=(()=>{class n{static \u0275prov=$({token:n,providedIn:"root",factory:()=>new Gy(N(gt),window)})}return n})(),Gy=class{document;window;offset=()=>[0,0];constructor(e,t){this.document=e,this.window=t}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e,t){this.window.scrollTo(ie(F({},t),{left:e[0],top:e[1]}))}scrollToAnchor(e,t){let i=b6(this.document,e);i&&(this.scrollToElement(i,t),i.focus())}setHistoryScrollRestoration(e){try{this.window.history.scrollRestoration=e}catch{console.warn(wo(2400,!1))}}scrollToElement(e,t){let i=e.getBoundingClientRect(),r=i.left+this.window.pageXOffset,o=i.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(ie(F({},t),{left:r-s[0],top:o-s[1]}))}};function b6(n,e){let t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if(typeof n.createTreeWalker=="function"&&n.body&&typeof n.body.attachShadow=="function"){let i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT),r=i.currentNode;for(;r;){let o=r.shadowRoot;if(o){let s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}r=i.nextNode()}}return null}var du=class{_doc;constructor(e){this._doc=e}manager},gh=(()=>{class n extends du{constructor(t){super(t)}supports(t){return!0}addEventListener(t,i,r,o){return t.addEventListener(i,r,o),()=>this.removeEventListener(t,i,r,o)}removeEventListener(t,i,r,o){return t.removeEventListener(i,r,o)}static \u0275fac=function(i){return new(i||n)(q(gt))};static \u0275prov=$({token:n,factory:n.\u0275fac})}return n})(),_h=new G(""),Zy=(()=>{class n{_zone;_plugins;_eventNameToPlugin=new Map;constructor(t,i){this._zone=i,t.forEach(s=>{s.manager=this});let r=t.filter(s=>!(s instanceof gh));this._plugins=r.slice().reverse();let o=t.find(s=>s instanceof gh);o&&this._plugins.push(o)}addEventListener(t,i,r,o){return this._findPluginFor(i).addEventListener(t,i,r,o)}getZone(){return this._zone}_findPluginFor(t){let i=this._eventNameToPlugin.get(t);if(i)return i;if(i=this._plugins.find(o=>o.supports(t)),!i)throw new j(5101,!1);return this._eventNameToPlugin.set(t,i),i}static \u0275fac=function(i){return new(i||n)(q(_h),q(ke))};static \u0275prov=$({token:n,factory:n.\u0275fac})}return n})(),qy="ng-app-id";function Yx(n){for(let e of n)e.remove()}function Qx(n,e){let t=e.createElement("style");return t.textContent=n,t}function C6(n,e,t,i){let r=n.head?.querySelectorAll(`style[${qy}="${e}"],link[${qy}="${e}"]`);if(r)for(let o of r)o.removeAttribute(qy),o instanceof HTMLLinkElement?i.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&t.set(o.textContent,{usage:0,elements:[o]})}function Yy(n,e){let t=e.createElement("link");return t.setAttribute("rel","stylesheet"),t.setAttribute("href",n),t}var Xy=(()=>{class n{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;constructor(t,i,r,o={}){this.doc=t,this.appId=i,this.nonce=r,C6(t,i,this.inline,this.external),this.hosts.add(t.head)}addStyles(t,i){for(let r of t)this.addUsage(r,this.inline,Qx);i?.forEach(r=>this.addUsage(r,this.external,Yy))}removeStyles(t,i){for(let r of t)this.removeUsage(r,this.inline);i?.forEach(r=>this.removeUsage(r,this.external))}addUsage(t,i,r){let o=i.get(t);o?o.usage++:i.set(t,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,r(t,this.doc)))})}removeUsage(t,i){let r=i.get(t);r&&(r.usage--,r.usage<=0&&(Yx(r.elements),i.delete(t)))}ngOnDestroy(){for(let[,{elements:t}]of[...this.inline,...this.external])Yx(t);this.hosts.clear()}addHost(t){this.hosts.add(t);for(let[i,{elements:r}]of this.inline)r.push(this.addElement(t,Qx(i,this.doc)));for(let[i,{elements:r}]of this.external)r.push(this.addElement(t,Yy(i,this.doc)))}removeHost(t){this.hosts.delete(t)}addElement(t,i){return this.nonce&&i.setAttribute("nonce",this.nonce),t.appendChild(i)}static \u0275fac=function(i){return new(i||n)(q(gt),q(qp),q(Qp,8),q(js))};static \u0275prov=$({token:n,factory:n.\u0275fac})}return n})(),Ky={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Jy=/%COMP%/g;var Xx="%COMP%",w6=`_nghost-${Xx}`,E6=`_ngcontent-${Xx}`,M6=!0,I6=new G("",{providedIn:"root",factory:()=>M6});function P6(n){return E6.replace(Jy,n)}function O6(n){return w6.replace(Jy,n)}function Jx(n,e){return e.map(t=>t.replace(Jy,n))}var hu=(()=>{class n{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(t,i,r,o,s,a,c=null,l=null){this.eventManager=t,this.sharedStylesHost=i,this.appId=r,this.removeStylesOnCompDestroy=o,this.doc=s,this.ngZone=a,this.nonce=c,this.tracingService=l,this.platformIsServer=!1,this.defaultRenderer=new fu(t,s,a,this.platformIsServer,this.tracingService)}createRenderer(t,i){if(!t||!i)return this.defaultRenderer;let r=this.getOrCreateRenderer(t,i);return r instanceof mh?r.applyToHost(t):r instanceof pu&&r.applyStyles(),r}getOrCreateRenderer(t,i){let r=this.rendererByCompId,o=r.get(i.id);if(!o){let s=this.doc,a=this.ngZone,c=this.eventManager,l=this.sharedStylesHost,h=this.removeStylesOnCompDestroy,f=this.platformIsServer,y=this.tracingService;switch(i.encapsulation){case Vr.Emulated:o=new mh(c,l,i,this.appId,h,s,a,f,y);break;case Vr.ShadowDom:return new Qy(c,l,t,i,s,a,this.nonce,f,y);default:o=new pu(c,l,i,h,s,a,f,y);break}r.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(t){this.rendererByCompId.delete(t)}static \u0275fac=function(i){return new(i||n)(q(Zy),q(Xy),q(qp),q(I6),q(gt),q(ke),q(Qp),q(Vs,8))};static \u0275prov=$({token:n,factory:n.\u0275fac})}return n})(),fu=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,t,i,r,o){this.eventManager=e,this.doc=t,this.ngZone=i,this.platformIsServer=r,this.tracingService=o}destroy(){}destroyNode=null;createElement(e,t){return t?this.doc.createElementNS(Ky[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(Zx(e)?e.content:e).appendChild(t)}insertBefore(e,t,i){e&&(Zx(e)?e.content:e).insertBefore(t,i)}removeChild(e,t){t.remove()}selectRootElement(e,t){let i=typeof e=="string"?this.doc.querySelector(e):e;if(!i)throw new j(-5104,!1);return t||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,i,r){if(r){t=r+":"+t;let o=Ky[r];o?e.setAttributeNS(o,t,i):e.setAttribute(t,i)}else e.setAttribute(t,i)}removeAttribute(e,t,i){if(i){let r=Ky[i];r?e.removeAttributeNS(r,t):e.removeAttribute(`${i}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,i,r){r&(Ur.DashCase|Ur.Important)?e.style.setProperty(t,i,r&Ur.Important?"important":""):e.style[t]=i}removeStyle(e,t,i){i&Ur.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,i){e!=null&&(e[t]=i)}setValue(e,t){e.nodeValue=t}listen(e,t,i,r){if(typeof e=="string"&&(e=oi().getGlobalEventTarget(this.doc,e),!e))throw new j(5102,!1);let o=this.decoratePreventDefault(i);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(e,t,o)),this.eventManager.addEventListener(e,t,o,r)}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;e(t)===!1&&t.preventDefault()}}};function Zx(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var Qy=class extends fu{sharedStylesHost;hostEl;shadowRoot;constructor(e,t,i,r,o,s,a,c,l){super(e,o,s,c,l),this.sharedStylesHost=t,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let h=r.styles;h=Jx(r.id,h);for(let y of h){let w=document.createElement("style");a&&w.setAttribute("nonce",a),w.textContent=y,this.shadowRoot.appendChild(w)}let f=r.getExternalStyles?.();if(f)for(let y of f){let w=Yy(y,o);a&&w.setAttribute("nonce",a),this.shadowRoot.appendChild(w)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,i){return super.insertBefore(this.nodeOrShadowRoot(e),t,i)}removeChild(e,t){return super.removeChild(null,t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},pu=class extends fu{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,t,i,r,o,s,a,c,l){super(e,o,s,a,c),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=r;let h=i.styles;this.styles=l?Jx(l,h):h,this.styleUrls=i.getExternalStyles?.(l)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&Ls.size===0&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},mh=class extends pu{contentAttr;hostAttr;constructor(e,t,i,r,o,s,a,c,l){let h=r+"-"+i.id;super(e,t,i,o,s,a,c,l,h),this.contentAttr=P6(h),this.hostAttr=O6(h)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let i=super.createElement(e,t);return super.setAttribute(i,this.contentAttr,""),i}};var vh=class n extends cu{supportsDOMEvents=!0;static makeCurrent(){$y(new n)}onAndCancel(e,t,i,r){return e.addEventListener(t,i,r),()=>{e.removeEventListener(t,i,r)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.remove()}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=x6();return t==null?null:S6(t)}resetBaseElement(){gu=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return uu(document.cookie,e)}},gu=null;function x6(){return gu=gu||document.head.querySelector("base"),gu?gu.getAttribute("href"):null}function S6(n){return new URL(n,document.baseURI).pathname}var D6=(()=>{class n{build(){return new XMLHttpRequest}static \u0275fac=function(i){return new(i||n)};static \u0275prov=$({token:n,factory:n.\u0275fac})}return n})(),eS=["alt","control","meta","shift"],T6={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},A6={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},tS=(()=>{class n extends du{constructor(t){super(t)}supports(t){return n.parseEventName(t)!=null}addEventListener(t,i,r,o){let s=n.parseEventName(i),a=n.eventCallback(s.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>oi().onAndCancel(t,s.domEventName,a,o))}static parseEventName(t){let i=t.toLowerCase().split("."),r=i.shift();if(i.length===0||!(r==="keydown"||r==="keyup"))return null;let o=n._normalizeKey(i.pop()),s="",a=i.indexOf("code");if(a>-1&&(i.splice(a,1),s="code."),eS.forEach(l=>{let h=i.indexOf(l);h>-1&&(i.splice(h,1),s+=l+".")}),s+=o,i.length!=0||o.length===0)return null;let c={};return c.domEventName=r,c.fullKey=s,c}static matchEventFullKeyCode(t,i){let r=T6[t.key]||t.key,o="";return i.indexOf("code.")>-1&&(r=t.code,o="code."),r==null||!r?!1:(r=r.toLowerCase(),r===" "?r="space":r==="."&&(r="dot"),eS.forEach(s=>{if(s!==r){let a=A6[s];a(t)&&(o+=s+".")}}),o+=r,o===i)}static eventCallback(t,i,r){return o=>{n.matchEventFullKeyCode(o,t)&&r.runGuarded(()=>i(o))}}static _normalizeKey(t){return t==="esc"?"escape":t}static \u0275fac=function(i){return new(i||n)(q(gt))};static \u0275prov=$({token:n,factory:n.\u0275fac})}return n})();function eb(n,e,t){let i=F({rootComponent:n,platformRef:t?.platformRef},k6(e));return Vx(i)}function k6(n){return{appProviders:[...B6,...n?.providers??[]],platformProviders:F6}}function R6(){vh.makeCurrent()}function N6(){return new bi}function L6(){return ny(document),document}var F6=[{provide:js,useValue:qx},{provide:Kp,useValue:R6,multi:!0},{provide:gt,useFactory:L6}];var B6=[{provide:Fl,useValue:"root"},{provide:bi,useFactory:N6},{provide:_h,useClass:gh,multi:!0,deps:[gt]},{provide:_h,useClass:tS,multi:!0,deps:[gt]},hu,Xy,Zy,{provide:zr,useExisting:hu},{provide:Hs,useClass:D6},[]];var pc=class{},mu=class{},ko=class n{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(e){e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(t=>{let i=t.indexOf(":");if(i>0){let r=t.slice(0,i),o=t.slice(i+1).trim();this.addHeaderEntry(r,o)}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((t,i)=>{this.addHeaderEntry(i,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([t,i])=>{this.setHeaderEntries(t,i)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof n?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){let t=new n;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof n?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){let t=e.name.toLowerCase();switch(e.op){case"a":case"s":let i=e.value;if(typeof i=="string"&&(i=[i]),i.length===0)return;this.maybeSetNormalizedName(e.name,t);let r=(e.op==="a"?this.headers.get(t):void 0)||[];r.push(...i),this.headers.set(t,r);break;case"d":let o=e.value;if(!o)this.headers.delete(t),this.normalizedNames.delete(t);else{let s=this.headers.get(t);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,s)}break}}addHeaderEntry(e,t){let i=e.toLowerCase();this.maybeSetNormalizedName(e,i),this.headers.has(i)?this.headers.get(i).push(t):this.headers.set(i,[t])}setHeaderEntries(e,t){let i=(Array.isArray(t)?t:[t]).map(o=>o.toString()),r=e.toLowerCase();this.headers.set(r,i),this.maybeSetNormalizedName(e,r)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}};var bh=class{encodeKey(e){return nS(e)}encodeValue(e){return nS(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function j6(n,e){let t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{let o=r.indexOf("="),[s,a]=o==-1?[e.decodeKey(r),""]:[e.decodeKey(r.slice(0,o)),e.decodeValue(r.slice(o+1))],c=t.get(s)||[];c.push(a),t.set(s,c)}),t}var V6=/%(\d[a-f0-9])/gi,U6={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function nS(n){return encodeURIComponent(n).replace(V6,(e,t)=>U6[t]??e)}function yh(n){return`${n}`}var Gr=class n{map;encoder;updates=null;cloneFrom=null;constructor(e={}){if(this.encoder=e.encoder||new bh,e.fromString){if(e.fromObject)throw new j(2805,!1);this.map=j6(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{let i=e.fromObject[t],r=Array.isArray(i)?i.map(yh):[yh(i)];this.map.set(t,r)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){let t=[];return Object.keys(e).forEach(i=>{let r=e[i];Array.isArray(r)?r.forEach(o=>{t.push({param:i,value:o,op:"a"})}):t.push({param:i,value:r,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let t=this.encoder.encodeKey(e);return this.map.get(e).map(i=>t+"="+this.encoder.encodeValue(i)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let t=new n({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let t=(e.op==="a"?this.map.get(e.param):void 0)||[];t.push(yh(e.value)),this.map.set(e.param,t);break;case"d":if(e.value!==void 0){let i=this.map.get(e.param)||[],r=i.indexOf(yh(e.value));r!==-1&&i.splice(r,1),i.length>0?this.map.set(e.param,i):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var Ch=class{map=new Map;set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function z6(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function iS(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function rS(n){return typeof Blob<"u"&&n instanceof Blob}function oS(n){return typeof FormData<"u"&&n instanceof FormData}function $6(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}var sS="Content-Type",aS="Accept",lS="X-Request-URL",uS="text/plain",dS="application/json",H6=`${dS}, ${uS}, */*`,dc=class n{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;credentials;keepalive=!1;cache;priority;mode;redirect;referrer;integrity;responseType="json";method;params;urlWithParams;transferCache;timeout;constructor(e,t,i,r){this.url=t,this.method=e.toUpperCase();let o;if(z6(this.method)||r?(this.body=i!==void 0?i:null,o=r):o=i,o){if(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,this.keepalive=!!o.keepalive,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),o.priority&&(this.priority=o.priority),o.cache&&(this.cache=o.cache),o.credentials&&(this.credentials=o.credentials),typeof o.timeout=="number"){if(o.timeout<1||!Number.isInteger(o.timeout))throw new j(2822,"");this.timeout=o.timeout}o.mode&&(this.mode=o.mode),o.redirect&&(this.redirect=o.redirect),o.integrity&&(this.integrity=o.integrity),o.referrer&&(this.referrer=o.referrer),this.transferCache=o.transferCache}if(this.headers??=new ko,this.context??=new Ch,!this.params)this.params=new Gr,this.urlWithParams=t;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=t;else{let a=t.indexOf("?"),c=a===-1?"?":a<t.length-1?"&":"";this.urlWithParams=t+c+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||iS(this.body)||rS(this.body)||oS(this.body)||$6(this.body)?this.body:this.body instanceof Gr?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||oS(this.body)?null:rS(this.body)?this.body.type||null:iS(this.body)?null:typeof this.body=="string"?uS:this.body instanceof Gr?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?dS:null}clone(e={}){let t=e.method||this.method,i=e.url||this.url,r=e.responseType||this.responseType,o=e.keepalive??this.keepalive,s=e.priority||this.priority,a=e.cache||this.cache,c=e.mode||this.mode,l=e.redirect||this.redirect,h=e.credentials||this.credentials,f=e.referrer||this.referrer,y=e.integrity||this.integrity,w=e.transferCache??this.transferCache,I=e.timeout??this.timeout,D=e.body!==void 0?e.body:this.body,T=e.withCredentials??this.withCredentials,L=e.reportProgress??this.reportProgress,Z=e.headers||this.headers,le=e.params||this.params,te=e.context??this.context;return e.setHeaders!==void 0&&(Z=Object.keys(e.setHeaders).reduce((rt,We)=>rt.set(We,e.setHeaders[We]),Z)),e.setParams&&(le=Object.keys(e.setParams).reduce((rt,We)=>rt.set(We,e.setParams[We]),le)),new n(t,i,D,{params:le,headers:Z,context:te,reportProgress:L,responseType:r,withCredentials:T,transferCache:w,keepalive:o,cache:a,priority:s,timeout:I,mode:c,redirect:l,credentials:h,referrer:f,integrity:y})}},Ws=(function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n})(Ws||{}),hc=class{headers;status;statusText;url;ok;type;redirected;constructor(e,t=200,i="OK"){this.headers=e.headers||new ko,this.status=e.status!==void 0?e.status:t,this.statusText=e.statusText||i,this.url=e.url||null,this.redirected=e.redirected,this.ok=this.status>=200&&this.status<300}},wh=class n extends hc{constructor(e={}){super(e)}type=Ws.ResponseHeader;clone(e={}){return new n({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},_u=class n extends hc{body;constructor(e={}){super(e),this.body=e.body!==void 0?e.body:null}type=Ws.Response;clone(e={}){return new n({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0,redirected:e.redirected??this.redirected})}},fc=class extends hc{name="HttpErrorResponse";message;error;ok=!1;constructor(e){super(e,0,"Unknown Error"),this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},W6=200,G6=204;function tb(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials,credentials:n.credentials,transferCache:n.transferCache,timeout:n.timeout,keepalive:n.keepalive,priority:n.priority,cache:n.cache,mode:n.mode,redirect:n.redirect,integrity:n.integrity,referrer:n.referrer}}var Mh=(()=>{class n{handler;constructor(t){this.handler=t}request(t,i,r={}){let o;if(t instanceof dc)o=t;else{let c;r.headers instanceof ko?c=r.headers:c=new ko(r.headers);let l;r.params&&(r.params instanceof Gr?l=r.params:l=new Gr({fromObject:r.params})),o=new dc(t,i,r.body!==void 0?r.body:null,{headers:c,context:r.context,params:l,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials,transferCache:r.transferCache,keepalive:r.keepalive,priority:r.priority,cache:r.cache,mode:r.mode,redirect:r.redirect,credentials:r.credentials,referrer:r.referrer,integrity:r.integrity,timeout:r.timeout})}let s=U(o).pipe(Qn(c=>this.handler.handle(c)));if(t instanceof dc||r.observe==="events")return s;let a=s.pipe(ln(c=>c instanceof _u));switch(r.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(K(c=>{if(c.body!==null&&!(c.body instanceof ArrayBuffer))throw new j(2806,!1);return c.body}));case"blob":return a.pipe(K(c=>{if(c.body!==null&&!(c.body instanceof Blob))throw new j(2807,!1);return c.body}));case"text":return a.pipe(K(c=>{if(c.body!==null&&typeof c.body!="string")throw new j(2808,!1);return c.body}));case"json":default:return a.pipe(K(c=>c.body))}case"response":return a;default:throw new j(2809,!1)}}delete(t,i={}){return this.request("DELETE",t,i)}get(t,i={}){return this.request("GET",t,i)}head(t,i={}){return this.request("HEAD",t,i)}jsonp(t,i){return this.request("JSONP",t,{params:new Gr().append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,i={}){return this.request("OPTIONS",t,i)}patch(t,i,r={}){return this.request("PATCH",t,tb(r,i))}post(t,i,r={}){return this.request("POST",t,tb(r,i))}put(t,i,r={}){return this.request("PUT",t,tb(r,i))}static \u0275fac=function(i){return new(i||n)(q(pc))};static \u0275prov=$({token:n,factory:n.\u0275fac})}return n})();var q6=new G("");function fS(n,e){return e(n)}function K6(n,e){return(t,i)=>e.intercept(t,{handle:r=>n(r,i)})}function Y6(n,e,t){return(i,r)=>ae(t,()=>e(i,o=>n(o,r)))}var pS=new G(""),ib=new G(""),hS=new G(""),rb=new G("",{providedIn:"root",factory:()=>!0});function Q6(){let n=null;return(e,t)=>{n===null&&(n=(N(pS,{optional:!0})??[]).reduceRight(K6,fS));let i=N(jr);if(N(rb)){let o=i.add();return n(e,t).pipe(vo(o))}else return n(e,t)}}var Eh=(()=>{class n extends pc{backend;injector;chain=null;pendingTasks=N(jr);contributeToStability=N(rb);constructor(t,i){super(),this.backend=t,this.injector=i}handle(t){if(this.chain===null){let i=Array.from(new Set([...this.injector.get(ib),...this.injector.get(hS,[])]));this.chain=i.reduceRight((r,o)=>Y6(r,o,this.injector),fS)}if(this.contributeToStability){let i=this.pendingTasks.add();return this.chain(t,r=>this.backend.handle(r)).pipe(vo(i))}else return this.chain(t,i=>this.backend.handle(i))}static \u0275fac=function(i){return new(i||n)(q(mu),q(yt))};static \u0275prov=$({token:n,factory:n.\u0275fac})}return n})();var Z6=/^\)\]\}',?\n/,X6=RegExp(`^${lS}:`,"m");function J6(n){return"responseURL"in n&&n.responseURL?n.responseURL:X6.test(n.getAllResponseHeaders())?n.getResponseHeader(lS):null}var nb=(()=>{class n{xhrFactory;constructor(t){this.xhrFactory=t}handle(t){if(t.method==="JSONP")throw new j(-2800,!1);let i=this.xhrFactory;return U(null).pipe(Me(()=>new ee(o=>{let s=i.build();if(s.open(t.method,t.urlWithParams),t.withCredentials&&(s.withCredentials=!0),t.headers.forEach((T,L)=>s.setRequestHeader(T,L.join(","))),t.headers.has(aS)||s.setRequestHeader(aS,H6),!t.headers.has(sS)){let T=t.detectContentTypeHeader();T!==null&&s.setRequestHeader(sS,T)}if(t.timeout&&(s.timeout=t.timeout),t.responseType){let T=t.responseType.toLowerCase();s.responseType=T!=="json"?T:"text"}let a=t.serializeBody(),c=null,l=()=>{if(c!==null)return c;let T=s.statusText||"OK",L=new ko(s.getAllResponseHeaders()),Z=J6(s)||t.url;return c=new wh({headers:L,status:s.status,statusText:T,url:Z}),c},h=()=>{let{headers:T,status:L,statusText:Z,url:le}=l(),te=null;L!==G6&&(te=typeof s.response>"u"?s.responseText:s.response),L===0&&(L=te?W6:0);let rt=L>=200&&L<300;if(t.responseType==="json"&&typeof te=="string"){let We=te;te=te.replace(Z6,"");try{te=te!==""?JSON.parse(te):null}catch(tt){te=We,rt&&(rt=!1,te={error:tt,text:te})}}rt?(o.next(new _u({body:te,headers:T,status:L,statusText:Z,url:le||void 0})),o.complete()):o.error(new fc({error:te,headers:T,status:L,statusText:Z,url:le||void 0}))},f=T=>{let{url:L}=l(),Z=new fc({error:T,status:s.status||0,statusText:s.statusText||"Unknown Error",url:L||void 0});o.error(Z)},y=f;t.timeout&&(y=T=>{let{url:L}=l(),Z=new fc({error:new DOMException("Request timed out","TimeoutError"),status:s.status||0,statusText:s.statusText||"Request timeout",url:L||void 0});o.error(Z)});let w=!1,I=T=>{w||(o.next(l()),w=!0);let L={type:Ws.DownloadProgress,loaded:T.loaded};T.lengthComputable&&(L.total=T.total),t.responseType==="text"&&s.responseText&&(L.partialText=s.responseText),o.next(L)},D=T=>{let L={type:Ws.UploadProgress,loaded:T.loaded};T.lengthComputable&&(L.total=T.total),o.next(L)};return s.addEventListener("load",h),s.addEventListener("error",f),s.addEventListener("timeout",y),s.addEventListener("abort",f),t.reportProgress&&(s.addEventListener("progress",I),a!==null&&s.upload&&s.upload.addEventListener("progress",D)),s.send(a),o.next({type:Ws.Sent}),()=>{s.removeEventListener("error",f),s.removeEventListener("abort",f),s.removeEventListener("load",h),s.removeEventListener("timeout",y),t.reportProgress&&(s.removeEventListener("progress",I),a!==null&&s.upload&&s.upload.removeEventListener("progress",D)),s.readyState!==s.DONE&&s.abort()}})))}static \u0275fac=function(i){return new(i||n)(q(Hs))};static \u0275prov=$({token:n,factory:n.\u0275fac})}return n})(),gS=new G(""),e5="XSRF-TOKEN",t5=new G("",{providedIn:"root",factory:()=>e5}),n5="X-XSRF-TOKEN",i5=new G("",{providedIn:"root",factory:()=>n5}),vu=class{},r5=(()=>{class n{doc;cookieName;lastCookieString="";lastToken=null;parseCount=0;constructor(t,i){this.doc=t,this.cookieName=i}getToken(){let t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=uu(t,this.cookieName),this.lastCookieString=t),this.lastToken}static \u0275fac=function(i){return new(i||n)(q(gt),q(t5))};static \u0275prov=$({token:n,factory:n.\u0275fac})}return n})(),o5=/^(?:https?:)?\/\//i;function s5(n,e){if(!N(gS)||n.method==="GET"||n.method==="HEAD"||o5.test(n.url))return e(n);let t=N(vu).getToken(),i=N(i5);return t!=null&&!n.headers.has(i)&&(n=n.clone({headers:n.headers.set(i,t)})),e(n)}var ob=(function(n){return n[n.Interceptors=0]="Interceptors",n[n.LegacyInterceptors=1]="LegacyInterceptors",n[n.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",n[n.NoXsrfProtection=3]="NoXsrfProtection",n[n.JsonpSupport=4]="JsonpSupport",n[n.RequestsMadeViaParent=5]="RequestsMadeViaParent",n[n.Fetch=6]="Fetch",n})(ob||{});function a5(n,e){return{\u0275kind:n,\u0275providers:e}}function mS(...n){let e=[Mh,nb,Eh,{provide:pc,useExisting:Eh},{provide:mu,useFactory:()=>N(q6,{optional:!0})??N(nb)},{provide:ib,useValue:s5,multi:!0},{provide:gS,useValue:!0},{provide:vu,useClass:r5}];for(let t of n)e.push(...t.\u0275providers);return dn(e)}var cS=new G("");function _S(){return a5(ob.LegacyInterceptors,[{provide:cS,useFactory:Q6},{provide:ib,useExisting:cS,multi:!0}])}var sb=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=_n({type:n});static \u0275inj=un({providers:[mS(_S())]})}return n})();var vS=(()=>{class n{_doc;constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static \u0275fac=function(i){return new(i||n)(q(gt))};static \u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var pe="primary",Tu=Symbol("RouteTitle"),db=class{params;constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function Ks(n){return new db(n)}function PS(n,e,t){let i=t.path.split("/");if(i.length>n.length||t.pathMatch==="full"&&(e.hasChildren()||i.length<n.length))return null;let r={};for(let o=0;o<i.length;o++){let s=i[o],a=n[o];if(s[0]===":")r[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function l5(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!sr(n[t],e[t]))return!1;return!0}function sr(n,e){let t=n?fb(n):void 0,i=e?fb(e):void 0;if(!t||!i||t.length!=i.length)return!1;let r;for(let o=0;o<t.length;o++)if(r=t[o],!OS(n[r],e[r]))return!1;return!0}function fb(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function OS(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;let t=[...n].sort(),i=[...e].sort();return t.every((r,o)=>i[o]===r)}else return n===e}function xS(n){return n.length>0?n[n.length-1]:null}function qr(n){return vi(n)?n:zs(n)?se(Promise.resolve(n)):U(n)}var u5={exact:DS,subset:TS},SS={exact:d5,subset:f5,ignored:()=>!0};function yS(n,e,t){return u5[t.paths](n.root,e.root,t.matrixParams)&&SS[t.queryParams](n.queryParams,e.queryParams)&&!(t.fragment==="exact"&&n.fragment!==e.fragment)}function d5(n,e){return sr(n,e)}function DS(n,e,t){if(!Gs(n.segments,e.segments)||!Oh(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(let i in e.children)if(!n.children[i]||!DS(n.children[i],e.children[i],t))return!1;return!0}function f5(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>OS(n[t],e[t]))}function TS(n,e,t){return AS(n,e,e.segments,t)}function AS(n,e,t,i){if(n.segments.length>t.length){let r=n.segments.slice(0,t.length);return!(!Gs(r,t)||e.hasChildren()||!Oh(r,t,i))}else if(n.segments.length===t.length){if(!Gs(n.segments,t)||!Oh(n.segments,t,i))return!1;for(let r in e.children)if(!n.children[r]||!TS(n.children[r],e.children[r],i))return!1;return!0}else{let r=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!Gs(n.segments,r)||!Oh(n.segments,r,i)||!n.children[pe]?!1:AS(n.children[pe],e,o,i)}}function Oh(n,e,t){return e.every((i,r)=>SS[t](n[r].parameters,i.parameters))}var cr=class{root;queryParams;fragment;_queryParamMap;constructor(e=new Ue([],{}),t={},i=null){this.root=e,this.queryParams=t,this.fragment=i}get queryParamMap(){return this._queryParamMap??=Ks(this.queryParams),this._queryParamMap}toString(){return g5.serialize(this)}},Ue=class{segments;children;parent=null;constructor(e,t){this.segments=e,this.children=t,Object.values(t).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return xh(this)}},Ro=class{path;parameters;_parameterMap;constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=Ks(this.parameters),this._parameterMap}toString(){return RS(this)}};function p5(n,e){return Gs(n,e)&&n.every((t,i)=>sr(t.parameters,e[i].parameters))}function Gs(n,e){return n.length!==e.length?!1:n.every((t,i)=>t.path===e[i].path)}function h5(n,e){let t=[];return Object.entries(n.children).forEach(([i,r])=>{i===pe&&(t=t.concat(e(r,i)))}),Object.entries(n.children).forEach(([i,r])=>{i!==pe&&(t=t.concat(e(r,i)))}),t}var Ys=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275prov=$({token:n,factory:()=>new No,providedIn:"root"})}return n})(),No=class{parse(e){let t=new hb(e);return new cr(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${yu(e.root,!0)}`,i=v5(e.queryParams),r=typeof e.fragment=="string"?`#${m5(e.fragment)}`:"";return`${t}${i}${r}`}},g5=new No;function xh(n){return n.segments.map(e=>RS(e)).join("/")}function yu(n,e){if(!n.hasChildren())return xh(n);if(e){let t=n.children[pe]?yu(n.children[pe],!1):"",i=[];return Object.entries(n.children).forEach(([r,o])=>{r!==pe&&i.push(`${r}:${yu(o,!1)}`)}),i.length>0?`${t}(${i.join("//")})`:t}else{let t=h5(n,(i,r)=>r===pe?[yu(n.children[pe],!1)]:[`${r}:${yu(i,!1)}`]);return Object.keys(n.children).length===1&&n.children[pe]!=null?`${xh(n)}/${t[0]}`:`${xh(n)}/(${t.join("//")})`}}function kS(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Ih(n){return kS(n).replace(/%3B/gi,";")}function m5(n){return encodeURI(n)}function pb(n){return kS(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Sh(n){return decodeURIComponent(n)}function bS(n){return Sh(n.replace(/\+/g,"%20"))}function RS(n){return`${pb(n.path)}${_5(n.parameters)}`}function _5(n){return Object.entries(n).map(([e,t])=>`;${pb(e)}=${pb(t)}`).join("")}function v5(n){let e=Object.entries(n).map(([t,i])=>Array.isArray(i)?i.map(r=>`${Ih(t)}=${Ih(r)}`).join("&"):`${Ih(t)}=${Ih(i)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}var y5=/^[^\/()?;#]+/;function ab(n){let e=n.match(y5);return e?e[0]:""}var b5=/^[^\/()?;=#]+/;function C5(n){let e=n.match(b5);return e?e[0]:""}var w5=/^[^=?&#]+/;function E5(n){let e=n.match(w5);return e?e[0]:""}var M5=/^[^&#]+/;function I5(n){let e=n.match(M5);return e?e[0]:""}var hb=class{url;remaining;constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ue([],{}):new Ue([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(i[pe]=new Ue(e,t)),i}parseSegment(){let e=ab(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new j(4009,!1);return this.capture(e),new Ro(Sh(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=C5(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){let r=ab(this.remaining);r&&(i=r,this.capture(i))}e[Sh(t)]=Sh(i)}parseQueryParam(e){let t=E5(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){let s=I5(this.remaining);s&&(i=s,this.capture(i))}let r=bS(t),o=bS(i);if(e.hasOwnProperty(r)){let s=e[r];Array.isArray(s)||(s=[s],e[r]=s),s.push(o)}else e[r]=o}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let i=ab(this.remaining),r=this.remaining[i.length];if(r!=="/"&&r!==")"&&r!==";")throw new j(4010,!1);let o;i.indexOf(":")>-1?(o=i.slice(0,i.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=pe);let s=this.parseChildren();t[o??pe]=Object.keys(s).length===1&&s[pe]?s[pe]:new Ue([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new j(4011,!1)}};function NS(n){return n.segments.length>0?new Ue([],{[pe]:n}):n}function LS(n){let e={};for(let[i,r]of Object.entries(n.children)){let o=LS(r);if(i===pe&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[i]=o)}let t=new Ue(n.segments,e);return P5(t)}function P5(n){if(n.numberOfChildren===1&&n.children[pe]){let e=n.children[pe];return new Ue(n.segments.concat(e.segments),e.children)}return n}function Lo(n){return n instanceof cr}function FS(n,e,t=null,i=null){let r=BS(n);return jS(r,e,t,i)}function BS(n){let e;function t(o){let s={};for(let c of o.children){let l=t(c);s[c.outlet]=l}let a=new Ue(o.url,s);return o===n&&(e=a),a}let i=t(n.root),r=NS(i);return e??r}function jS(n,e,t,i){let r=n;for(;r.parent;)r=r.parent;if(e.length===0)return cb(r,r,r,t,i);let o=O5(e);if(o.toRoot())return cb(r,r,new Ue([],{}),t,i);let s=x5(o,r,n),a=s.processChildren?Cu(s.segmentGroup,s.index,o.commands):US(s.segmentGroup,s.index,o.commands);return cb(r,s.segmentGroup,a,t,i)}function Dh(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function Eu(n){return typeof n=="object"&&n!=null&&n.outlets}function cb(n,e,t,i,r){let o={};i&&Object.entries(i).forEach(([c,l])=>{o[c]=Array.isArray(l)?l.map(h=>`${h}`):`${l}`});let s;n===e?s=t:s=VS(n,e,t);let a=NS(LS(s));return new cr(a,o,r)}function VS(n,e,t){let i={};return Object.entries(n.children).forEach(([r,o])=>{o===e?i[r]=t:i[r]=VS(o,e,t)}),new Ue(n.segments,i)}var Th=class{isAbsolute;numberOfDoubleDots;commands;constructor(e,t,i){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=i,e&&i.length>0&&Dh(i[0]))throw new j(4003,!1);let r=i.find(Eu);if(r&&r!==xS(i))throw new j(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function O5(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new Th(!0,0,n);let e=0,t=!1,i=n.reduce((r,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([c,l])=>{a[c]=typeof l=="string"?l.split("/"):l}),[...r,{outlets:a}]}if(o.segmentPath)return[...r,o.segmentPath]}return typeof o!="string"?[...r,o]:s===0?(o.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?t=!0:a===".."?e++:a!=""&&r.push(a))}),r):[...r,o]},[]);return new Th(t,e,i)}var _c=class{segmentGroup;processChildren;index;constructor(e,t,i){this.segmentGroup=e,this.processChildren=t,this.index=i}};function x5(n,e,t){if(n.isAbsolute)return new _c(e,!0,0);if(!t)return new _c(e,!1,NaN);if(t.parent===null)return new _c(t,!0,0);let i=Dh(n.commands[0])?0:1,r=t.segments.length-1+i;return S5(t,r,n.numberOfDoubleDots)}function S5(n,e,t){let i=n,r=e,o=t;for(;o>r;){if(o-=r,i=i.parent,!i)throw new j(4005,!1);r=i.segments.length}return new _c(i,!1,r-o)}function D5(n){return Eu(n[0])?n[0].outlets:{[pe]:n}}function US(n,e,t){if(n??=new Ue([],{}),n.segments.length===0&&n.hasChildren())return Cu(n,e,t);let i=T5(n,e,t),r=t.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){let o=new Ue(n.segments.slice(0,i.pathIndex),{});return o.children[pe]=new Ue(n.segments.slice(i.pathIndex),n.children),Cu(o,0,r)}else return i.match&&r.length===0?new Ue(n.segments,{}):i.match&&!n.hasChildren()?gb(n,e,t):i.match?Cu(n,0,r):gb(n,e,t)}function Cu(n,e,t){if(t.length===0)return new Ue(n.segments,{});{let i=D5(t),r={};if(Object.keys(i).some(o=>o!==pe)&&n.children[pe]&&n.numberOfChildren===1&&n.children[pe].segments.length===0){let o=Cu(n.children[pe],e,t);return new Ue(n.segments,o.children)}return Object.entries(i).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(r[o]=US(n.children[o],e,s))}),Object.entries(n.children).forEach(([o,s])=>{i[o]===void 0&&(r[o]=s)}),new Ue(n.segments,r)}}function T5(n,e,t){let i=0,r=e,o={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=t.length)return o;let s=n.segments[r],a=t[i];if(Eu(a))break;let c=`${a}`,l=i<t.length-1?t[i+1]:null;if(r>0&&c===void 0)break;if(c&&l&&typeof l=="object"&&l.outlets===void 0){if(!wS(c,l,s))return o;i+=2}else{if(!wS(c,{},s))return o;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}function gb(n,e,t){let i=n.segments.slice(0,e),r=0;for(;r<t.length;){let o=t[r];if(Eu(o)){let c=A5(o.outlets);return new Ue(i,c)}if(r===0&&Dh(t[0])){let c=n.segments[e];i.push(new Ro(c.path,CS(t[0]))),r++;continue}let s=Eu(o)?o.outlets[pe]:`${o}`,a=r<t.length-1?t[r+1]:null;s&&a&&Dh(a)?(i.push(new Ro(s,CS(a))),r+=2):(i.push(new Ro(s,{})),r++)}return new Ue(i,{})}function A5(n){let e={};return Object.entries(n).forEach(([t,i])=>{typeof i=="string"&&(i=[i]),i!==null&&(e[t]=gb(new Ue([],{}),0,i))}),e}function CS(n){let e={};return Object.entries(n).forEach(([t,i])=>e[t]=`${i}`),e}function wS(n,e,t){return n==t.path&&sr(e,t.parameters)}var vc="imperative",Vt=(function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n})(Vt||{}),Wn=class{id;url;constructor(e,t){this.id=e,this.url=t}},Fo=class extends Wn{type=Vt.NavigationStart;navigationTrigger;restoredState;constructor(e,t,i="imperative",r=null){super(e,t),this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Gn=class extends Wn{urlAfterRedirects;type=Vt.NavigationEnd;constructor(e,t,i){super(e,t),this.urlAfterRedirects=i}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},vn=(function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n[n.Aborted=4]="Aborted",n})(vn||{}),bc=(function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n})(bc||{}),ar=class extends Wn{reason;code;type=Vt.NavigationCancel;constructor(e,t,i,r){super(e,t),this.reason=i,this.code=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},lr=class extends Wn{reason;code;type=Vt.NavigationSkipped;constructor(e,t,i,r){super(e,t),this.reason=i,this.code=r}},Cc=class extends Wn{error;target;type=Vt.NavigationError;constructor(e,t,i,r){super(e,t),this.error=i,this.target=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Mu=class extends Wn{urlAfterRedirects;state;type=Vt.RoutesRecognized;constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Ah=class extends Wn{urlAfterRedirects;state;type=Vt.GuardsCheckStart;constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},kh=class extends Wn{urlAfterRedirects;state;shouldActivate;type=Vt.GuardsCheckEnd;constructor(e,t,i,r,o){super(e,t),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Rh=class extends Wn{urlAfterRedirects;state;type=Vt.ResolveStart;constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Nh=class extends Wn{urlAfterRedirects;state;type=Vt.ResolveEnd;constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Lh=class{route;type=Vt.RouteConfigLoadStart;constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Fh=class{route;type=Vt.RouteConfigLoadEnd;constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Bh=class{snapshot;type=Vt.ChildActivationStart;constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},jh=class{snapshot;type=Vt.ChildActivationEnd;constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Vh=class{snapshot;type=Vt.ActivationStart;constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Uh=class{snapshot;type=Vt.ActivationEnd;constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},wc=class{routerEvent;position;anchor;type=Vt.Scroll;constructor(e,t,i){this.routerEvent=e,this.position=t,this.anchor=i}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},Iu=class{},Ec=class{url;navigationBehaviorOptions;constructor(e,t){this.url=e,this.navigationBehaviorOptions=t}};function k5(n){return!(n instanceof Iu)&&!(n instanceof Ec)}function R5(n,e){return n.providers&&!n._injector&&(n._injector=cc(n.providers,e,`Route: ${n.path}`)),n._injector??e}function Si(n){return n.outlet||pe}function N5(n,e){let t=n.filter(i=>Si(i)===e);return t.push(...n.filter(i=>Si(i)!==e)),t}function Pc(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){let t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var zh=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return Pc(this.route?.snapshot)??this.rootInjector}constructor(e){this.rootInjector=e,this.children=new Qs(this.rootInjector)}},Qs=(()=>{class n{rootInjector;contexts=new Map;constructor(t){this.rootInjector=t}onChildOutletCreated(t,i){let r=this.getOrCreateContext(t);r.outlet=i,this.contexts.set(t,r)}onChildOutletDestroyed(t){let i=this.getContext(t);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let i=this.getContext(t);return i||(i=new zh(this.rootInjector),this.contexts.set(t,i)),i}getContext(t){return this.contexts.get(t)||null}static \u0275fac=function(i){return new(i||n)(q(yt))};static \u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),$h=class{_root;constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=mb(e,this._root);return t?t.children.map(i=>i.value):[]}firstChild(e){let t=mb(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=_b(e,this._root);return t.length<2?[]:t[t.length-2].children.map(r=>r.value).filter(r=>r!==e)}pathFromRoot(e){return _b(e,this._root).map(t=>t.value)}};function mb(n,e){if(n===e.value)return e;for(let t of e.children){let i=mb(n,t);if(i)return i}return null}function _b(n,e){if(n===e.value)return[e];for(let t of e.children){let i=_b(n,t);if(i.length)return i.unshift(e),i}return[]}var Hn=class{value;children;constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};function mc(n){let e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}var Pu=class extends $h{snapshot;constructor(e,t){super(e),this.snapshot=t,Ib(this,e)}toString(){return this.snapshot.toString()}};function zS(n){let e=L5(n),t=new Yt([new Ro("",{})]),i=new Yt({}),r=new Yt({}),o=new Yt({}),s=new Yt(""),a=new qt(t,i,o,s,r,pe,n,e.root);return a.snapshot=e.root,new Pu(new Hn(a,[]),e)}function L5(n){let e={},t={},i={},o=new qs([],e,i,"",t,pe,n,null,{});return new Ou("",new Hn(o,[]))}var qt=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(e,t,i,r,o,s,a,c){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=i,this.fragmentSubject=r,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(K(l=>l[Tu]))??U(void 0),this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(K(e=>Ks(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(K(e=>Ks(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Hh(n,e,t="emptyOnly"){let i,{routeConfig:r}=n;return e!==null&&(t==="always"||r?.path===""||!e.component&&!e.routeConfig?.loadComponent)?i={params:F(F({},e.params),n.params),data:F(F({},e.data),n.data),resolve:F(F(F(F({},n.data),e.data),r?.data),n._resolvedData)}:i={params:F({},n.params),data:F({},n.data),resolve:F(F({},n.data),n._resolvedData??{})},r&&HS(r)&&(i.resolve[Tu]=r.title),i}var qs=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[Tu]}constructor(e,t,i,r,o,s,a,c,l){this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Ks(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Ks(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(i=>i.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},Ou=class extends $h{url;constructor(e,t){super(t),this.url=e,Ib(this,t)}toString(){return $S(this._root)}};function Ib(n,e){e.value._routerState=n,e.children.forEach(t=>Ib(n,t))}function $S(n){let e=n.children.length>0?` { ${n.children.map($S).join(", ")} } `:"";return`${n.value}${e}`}function lb(n){if(n.snapshot){let e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,sr(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),sr(e.params,t.params)||n.paramsSubject.next(t.params),l5(e.url,t.url)||n.urlSubject.next(t.url),sr(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function vb(n,e){let t=sr(n.params,e.params)&&p5(n.url,e.url),i=!n.parent!=!e.parent;return t&&!i&&(!n.parent||vb(n.parent,e.parent))}function HS(n){return typeof n.title=="string"||n.title===null}var WS=new G(""),Zs=(()=>{class n{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=pe;activateEvents=new nt;deactivateEvents=new nt;attachEvents=new nt;detachEvents=new nt;routerOutletData=jx();parentContexts=N(Qs);location=N(Us);changeDetector=N(rr);inputBinder=N(Au,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(t){if(t.name){let{firstChange:i,previousValue:r}=t.name;if(i)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new j(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new j(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new j(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,i){this.activated=t,this._activatedRoute=i,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,i){if(this.isActivated)throw new j(4013,!1);this._activatedRoute=t;let r=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new yb(t,a,r.injector,this.routerOutletData);this.activated=r.createComponent(s,{index:r.length,injector:c,environmentInjector:i}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(i){return new(i||n)};static \u0275dir=mt({type:n,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[ir]})}return n})(),yb=class{route;childContexts;parent;outletData;constructor(e,t,i,r){this.route=e,this.childContexts=t,this.parent=i,this.outletData=r}get(e,t){return e===qt?this.route:e===Qs?this.childContexts:e===WS?this.outletData:this.parent.get(e,t)}},Au=new G(""),Pb=(()=>{class n{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){let{activatedRoute:i}=t,r=Dl([i.queryParams,i.params,i.data]).pipe(Me(([o,s,a],c)=>(a=F(F(F({},o),s),a),c===0?U(a):Promise.resolve(a)))).subscribe(o=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==i||i.component===null){this.unsubscribeFromRouteData(t);return}let s=Ux(i.component);if(!s){this.unsubscribeFromRouteData(t);return}for(let{templateName:a}of s.inputs)t.activatedComponentRef.setInput(a,o[a])});this.outletDataSubscriptions.set(t,r)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=$({token:n,factory:n.\u0275fac})}return n})(),Ob=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275cmp=me({type:n,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(i,r){i&1&&M(0,"router-outlet")},dependencies:[Zs],encapsulation:2})}return n})();function xb(n){let e=n.children&&n.children.map(xb),t=e?ie(F({},n),{children:e}):F({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==pe&&(t.component=Ob),t}function F5(n,e,t){let i=xu(n,e._root,t?t._root:void 0);return new Pu(i,e)}function xu(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){let i=t.value;i._futureSnapshot=e.value;let r=B5(n,e,t);return new Hn(i,r)}else{if(n.shouldAttach(e.value)){let o=n.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>xu(n,a)),s}}let i=j5(e.value),r=e.children.map(o=>xu(n,o));return new Hn(i,r)}}function B5(n,e,t){return e.children.map(i=>{for(let r of t.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return xu(n,i,r);return xu(n,i)})}function j5(n){return new qt(new Yt(n.url),new Yt(n.params),new Yt(n.queryParams),new Yt(n.fragment),new Yt(n.data),n.outlet,n.component,n)}var Mc=class{redirectTo;navigationBehaviorOptions;constructor(e,t){this.redirectTo=e,this.navigationBehaviorOptions=t}},GS="ngNavigationCancelingError";function Wh(n,e){let{redirectTo:t,navigationBehaviorOptions:i}=Lo(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,r=qS(!1,vn.Redirect);return r.url=t,r.navigationBehaviorOptions=i,r}function qS(n,e){let t=new Error(`NavigationCancelingError: ${n||""}`);return t[GS]=!0,t.cancellationCode=e,t}function V5(n){return KS(n)&&Lo(n.url)}function KS(n){return!!n&&n[GS]}var U5=(n,e,t,i)=>K(r=>(new bb(e,r.targetRouterState,r.currentRouterState,t,i).activate(n),r)),bb=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(e,t,i,r,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=i,this.forwardEvent=r,this.inputBindingEnabled=o}activate(e){let t=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,i,e),lb(this.futureState.root),this.activateChildRoutes(t,i,e)}deactivateChildRoutes(e,t,i){let r=mc(t);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,r[s],i),delete r[s]}),Object.values(r).forEach(o=>{this.deactivateRouteAndItsChildren(o,i)})}deactivateRoutes(e,t,i){let r=e.value,o=t?t.value:null;if(r===o)if(r.component){let s=i.getContext(r.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,i);else o&&this.deactivateRouteAndItsChildren(t,i)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,o=mc(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,r);if(i&&i.outlet){let s=i.outlet.detach(),a=i.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){let i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,o=mc(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(e,t,i){let r=mc(t);e.children.forEach(o=>{this.activateRoutes(o,r[o.value.outlet],i),this.forwardEvent(new Uh(o.value.snapshot))}),e.children.length&&this.forwardEvent(new jh(e.value.snapshot))}activateRoutes(e,t,i){let r=e.value,o=t?t.value:null;if(lb(r),r===o)if(r.component){let s=i.getOrCreateContext(r.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,i);else if(r.component){let s=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){let a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),lb(a.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=r,s.outlet&&s.outlet.activateWith(r,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,i)}},Gh=class{path;route;constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},yc=class{component;route;constructor(e,t){this.component=e,this.route=t}};function z5(n,e,t){let i=n._root,r=e?e._root:null;return bu(i,r,t,[i.value])}function $5(n){let e=n.routeConfig?n.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:n,guards:e}}function Oc(n,e){let t=Symbol(),i=e.get(n,t);return i===t?typeof n=="function"&&!wv(n)?n:e.get(n):i}function bu(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let o=mc(e);return n.children.forEach(s=>{H5(s,o[s.value.outlet],t,i.concat([s.value]),r),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>wu(a,t.getContext(s),r)),r}function H5(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let o=n.value,s=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let c=W5(s,o,o.routeConfig.runGuardsAndResolvers);c?r.canActivateChecks.push(new Gh(i)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?bu(n,e,a?a.children:null,i,r):bu(n,e,t,i,r),c&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new yc(a.outlet.component,s))}else s&&wu(e,a,r),r.canActivateChecks.push(new Gh(i)),o.component?bu(n,null,a?a.children:null,i,r):bu(n,null,t,i,r);return r}function W5(n,e,t){if(typeof t=="function")return t(n,e);switch(t){case"pathParamsChange":return!Gs(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Gs(n.url,e.url)||!sr(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!vb(n,e)||!sr(n.queryParams,e.queryParams);case"paramsChange":default:return!vb(n,e)}}function wu(n,e,t){let i=mc(n),r=n.value;Object.entries(i).forEach(([o,s])=>{r.component?e?wu(s,e.children.getContext(o),t):wu(s,null,t):wu(s,e,t)}),r.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new yc(e.outlet.component,r)):t.canDeactivateChecks.push(new yc(null,r)):t.canDeactivateChecks.push(new yc(null,r))}function ku(n){return typeof n=="function"}function G5(n){return typeof n=="boolean"}function q5(n){return n&&ku(n.canLoad)}function K5(n){return n&&ku(n.canActivate)}function Y5(n){return n&&ku(n.canActivateChild)}function Q5(n){return n&&ku(n.canDeactivate)}function Z5(n){return n&&ku(n.canMatch)}function YS(n){return n instanceof yi||n?.name==="EmptyError"}var Ph=Symbol("INITIAL_VALUE");function Ic(){return Me(n=>Dl(n.map(e=>e.pipe(ut(1),av(Ph)))).pipe(K(e=>{for(let t of e)if(t!==!0){if(t===Ph)return Ph;if(t===!1||X5(t))return t}return!0}),ln(e=>e!==Ph),ut(1)))}function X5(n){return Lo(n)||n instanceof Mc}function J5(n,e){return Dt(t=>{let{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return s.length===0&&o.length===0?U(ie(F({},t),{guardsResult:!0})):eU(s,i,r,n).pipe(Dt(a=>a&&G5(a)?tU(i,o,n,e):U(a)),K(a=>ie(F({},t),{guardsResult:a})))})}function eU(n,e,t,i){return se(n).pipe(Dt(r=>sU(r.component,r.route,t,e,i)),kr(r=>r!==!0,!0))}function tU(n,e,t,i){return se(e).pipe(Qn(r=>Tr(iU(r.route.parent,i),nU(r.route,i),oU(n,r.path,t),rU(n,r.route,t))),kr(r=>r!==!0,!0))}function nU(n,e){return n!==null&&e&&e(new Vh(n)),U(!0)}function iU(n,e){return n!==null&&e&&e(new Bh(n)),U(!0)}function rU(n,e,t){let i=e.routeConfig?e.routeConfig.canActivate:null;if(!i||i.length===0)return U(!0);let r=i.map(o=>Fe(()=>{let s=Pc(e)??t,a=Oc(o,s),c=K5(a)?a.canActivate(e,n):ae(s,()=>a(e,n));return qr(c).pipe(kr())}));return U(r).pipe(Ic())}function oU(n,e,t){let i=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>$5(s)).filter(s=>s!==null).map(s=>Fe(()=>{let a=s.guards.map(c=>{let l=Pc(s.node)??t,h=Oc(c,l),f=Y5(h)?h.canActivateChild(i,n):ae(l,()=>h(i,n));return qr(f).pipe(kr())});return U(a).pipe(Ic())}));return U(o).pipe(Ic())}function sU(n,e,t,i,r){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return U(!0);let s=o.map(a=>{let c=Pc(e)??r,l=Oc(a,c),h=Q5(l)?l.canDeactivate(n,e,t,i):ae(c,()=>l(n,e,t,i));return qr(h).pipe(kr())});return U(s).pipe(Ic())}function aU(n,e,t,i){let r=e.canLoad;if(r===void 0||r.length===0)return U(!0);let o=r.map(s=>{let a=Oc(s,n),c=q5(a)?a.canLoad(e,t):ae(n,()=>a(e,t));return qr(c)});return U(o).pipe(Ic(),QS(i))}function QS(n){return X_(Ht(e=>{if(typeof e!="boolean")throw Wh(n,e)}),K(e=>e===!0))}function cU(n,e,t,i){let r=e.canMatch;if(!r||r.length===0)return U(!0);let o=r.map(s=>{let a=Oc(s,n),c=Z5(a)?a.canMatch(e,t):ae(n,()=>a(e,t));return qr(c)});return U(o).pipe(Ic(),QS(i))}var Su=class{segmentGroup;constructor(e){this.segmentGroup=e||null}},Du=class extends Error{urlTree;constructor(e){super(),this.urlTree=e}};function gc(n){return za(new Su(n))}function lU(n){return za(new j(4e3,!1))}function uU(n){return za(qS(!1,vn.GuardRejected))}var Cb=class{urlSerializer;urlTree;constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let i=[],r=t.root;for(;;){if(i=i.concat(r.segments),r.numberOfChildren===0)return U(i);if(r.numberOfChildren>1||!r.children[pe])return lU(`${e.redirectTo}`);r=r.children[pe]}}applyRedirectCommands(e,t,i,r,o){return dU(t,r,o).pipe(K(s=>{if(s instanceof cr)throw new Du(s);let a=this.applyRedirectCreateUrlTree(s,this.urlSerializer.parse(s),e,i);if(s[0]==="/")throw new Du(a);return a}))}applyRedirectCreateUrlTree(e,t,i,r){let o=this.createSegmentGroup(e,t.root,i,r);return new cr(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let i={};return Object.entries(e).forEach(([r,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);i[r]=t[a]}else i[r]=o}),i}createSegmentGroup(e,t,i,r){let o=this.createSegments(e,t.segments,i,r),s={};return Object.entries(t.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(e,c,i,r)}),new Ue(o,s)}createSegments(e,t,i,r){return t.map(o=>o.path[0]===":"?this.findPosParam(e,o,r):this.findOrReturn(o,i))}findPosParam(e,t,i){let r=i[t.path.substring(1)];if(!r)throw new j(4001,!1);return r}findOrReturn(e,t){let i=0;for(let r of t){if(r.path===e.path)return t.splice(i),r;i++}return e}};function dU(n,e,t){if(typeof n=="string")return U(n);let i=n,{queryParams:r,fragment:o,routeConfig:s,url:a,outlet:c,params:l,data:h,title:f}=e;return qr(ae(t,()=>i({params:l,data:h,queryParams:r,fragment:o,routeConfig:s,url:a,outlet:c,title:f})))}var wb={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function fU(n,e,t,i,r){let o=ZS(n,e,t);return o.matched?(i=R5(e,i),cU(i,e,t,r).pipe(K(s=>s===!0?o:F({},wb)))):U(o)}function ZS(n,e,t){if(e.path==="**")return pU(t);if(e.path==="")return e.pathMatch==="full"&&(n.hasChildren()||t.length>0)?F({},wb):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let r=(e.matcher||PS)(t,n,e);if(!r)return F({},wb);let o={};Object.entries(r.posParams??{}).forEach(([a,c])=>{o[a]=c.path});let s=r.consumed.length>0?F(F({},o),r.consumed[r.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:r.consumed,remainingSegments:t.slice(r.consumed.length),parameters:s,positionalParamSegments:r.posParams??{}}}function pU(n){return{matched:!0,parameters:n.length>0?xS(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function ES(n,e,t,i){return t.length>0&&mU(n,t,i)?{segmentGroup:new Ue(e,gU(i,new Ue(t,n.children))),slicedSegments:[]}:t.length===0&&_U(n,t,i)?{segmentGroup:new Ue(n.segments,hU(n,t,i,n.children)),slicedSegments:t}:{segmentGroup:new Ue(n.segments,n.children),slicedSegments:t}}function hU(n,e,t,i){let r={};for(let o of t)if(Kh(n,e,o)&&!i[Si(o)]){let s=new Ue([],{});r[Si(o)]=s}return F(F({},i),r)}function gU(n,e){let t={};t[pe]=e;for(let i of n)if(i.path===""&&Si(i)!==pe){let r=new Ue([],{});t[Si(i)]=r}return t}function mU(n,e,t){return t.some(i=>Kh(n,e,i)&&Si(i)!==pe)}function _U(n,e,t){return t.some(i=>Kh(n,e,i))}function Kh(n,e,t){return(n.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function vU(n,e,t){return e.length===0&&!n.children[t]}var Eb=class{};function yU(n,e,t,i,r,o,s="emptyOnly"){return new Mb(n,e,t,i,r,s,o).recognize()}var bU=31,Mb=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(e,t,i,r,o,s,a){this.injector=e,this.configLoader=t,this.rootComponentType=i,this.config=r,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new Cb(this.urlSerializer,this.urlTree)}noMatchError(e){return new j(4002,`'${e.segmentGroup}'`)}recognize(){let e=ES(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(K(({children:t,rootSnapshot:i})=>{let r=new Hn(i,t),o=new Ou("",r),s=FS(i,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let t=new qs([],Object.freeze({}),Object.freeze(F({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),pe,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,pe,t).pipe(K(i=>({children:i,rootSnapshot:t})),Ze(i=>{if(i instanceof Du)return this.urlTree=i.urlTree,this.match(i.urlTree.root);throw i instanceof Su?this.noMatchError(i):i}))}processSegmentGroup(e,t,i,r,o){return i.segments.length===0&&i.hasChildren()?this.processChildren(e,t,i,o):this.processSegment(e,t,i,i.segments,r,!0,o).pipe(K(s=>s instanceof Hn?[s]:[]))}processChildren(e,t,i,r){let o=[];for(let s of Object.keys(i.children))s==="primary"?o.unshift(s):o.push(s);return se(o).pipe(Qn(s=>{let a=i.children[s],c=N5(t,s);return this.processSegmentGroup(e,c,a,s,r)}),ov((s,a)=>(s.push(...a),s)),_o(null),rv(),Dt(s=>{if(s===null)return gc(i);let a=XS(s);return CU(a),U(a)}))}processSegment(e,t,i,r,o,s,a){return se(t).pipe(Qn(c=>this.processSegmentAgainstRoute(c._injector??e,t,c,i,r,o,s,a).pipe(Ze(l=>{if(l instanceof Su)return U(null);throw l}))),kr(c=>!!c),Ze(c=>{if(YS(c))return vU(i,r,o)?U(new Eb):gc(i);throw c}))}processSegmentAgainstRoute(e,t,i,r,o,s,a,c){return Si(i)!==s&&(s===pe||!Kh(r,o,i))?gc(r):i.redirectTo===void 0?this.matchSegmentAgainstRoute(e,r,i,o,s,c):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,r,t,i,o,s,c):gc(r)}expandSegmentAgainstRouteUsingRedirect(e,t,i,r,o,s,a){let{matched:c,parameters:l,consumedSegments:h,positionalParamSegments:f,remainingSegments:y}=ZS(t,r,o);if(!c)return gc(t);typeof r.redirectTo=="string"&&r.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>bU&&(this.allowRedirects=!1));let w=new qs(o,l,Object.freeze(F({},this.urlTree.queryParams)),this.urlTree.fragment,MS(r),Si(r),r.component??r._loadedComponent??null,r,IS(r)),I=Hh(w,a,this.paramsInheritanceStrategy);return w.params=Object.freeze(I.params),w.data=Object.freeze(I.data),this.applyRedirects.applyRedirectCommands(h,r.redirectTo,f,w,e).pipe(Me(T=>this.applyRedirects.lineralizeSegments(r,T)),Dt(T=>this.processSegment(e,i,t,T.concat(y),s,!1,a)))}matchSegmentAgainstRoute(e,t,i,r,o,s){let a=fU(t,i,r,e,this.urlSerializer);return i.path==="**"&&(t.children={}),a.pipe(Me(c=>c.matched?(e=i._injector??e,this.getChildConfig(e,i,r).pipe(Me(({routes:l})=>{let h=i._loadedInjector??e,{parameters:f,consumedSegments:y,remainingSegments:w}=c,I=new qs(y,f,Object.freeze(F({},this.urlTree.queryParams)),this.urlTree.fragment,MS(i),Si(i),i.component??i._loadedComponent??null,i,IS(i)),D=Hh(I,s,this.paramsInheritanceStrategy);I.params=Object.freeze(D.params),I.data=Object.freeze(D.data);let{segmentGroup:T,slicedSegments:L}=ES(t,y,w,l);if(L.length===0&&T.hasChildren())return this.processChildren(h,l,T,I).pipe(K(le=>new Hn(I,le)));if(l.length===0&&L.length===0)return U(new Hn(I,[]));let Z=Si(i)===o;return this.processSegment(h,l,T,L,Z?pe:o,!0,I).pipe(K(le=>new Hn(I,le instanceof Hn?[le]:[])))}))):gc(t)))}getChildConfig(e,t,i){return t.children?U({routes:t.children,injector:e}):t.loadChildren?t._loadedRoutes!==void 0?U({routes:t._loadedRoutes,injector:t._loadedInjector}):aU(e,t,i,this.urlSerializer).pipe(Dt(r=>r?this.configLoader.loadChildren(e,t).pipe(Ht(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):uU(t))):U({routes:[],injector:e})}};function CU(n){n.sort((e,t)=>e.value.outlet===pe?-1:t.value.outlet===pe?1:e.value.outlet.localeCompare(t.value.outlet))}function wU(n){let e=n.value.routeConfig;return e&&e.path===""}function XS(n){let e=[],t=new Set;for(let i of n){if(!wU(i)){e.push(i);continue}let r=e.find(o=>i.value.routeConfig===o.value.routeConfig);r!==void 0?(r.children.push(...i.children),t.add(r)):e.push(i)}for(let i of t){let r=XS(i.children);e.push(new Hn(i.value,r))}return e.filter(i=>!t.has(i))}function MS(n){return n.data||{}}function IS(n){return n.resolve||{}}function EU(n,e,t,i,r,o){return Dt(s=>yU(n,e,t,i,s.extractedUrl,r,o).pipe(K(({state:a,tree:c})=>ie(F({},s),{targetSnapshot:a,urlAfterRedirects:c}))))}function MU(n,e){return Dt(t=>{let{targetSnapshot:i,guards:{canActivateChecks:r}}=t;if(!r.length)return U(t);let o=new Set(r.map(c=>c.route)),s=new Set;for(let c of o)if(!s.has(c))for(let l of JS(c))s.add(l);let a=0;return se(s).pipe(Qn(c=>o.has(c)?IU(c,i,n,e):(c.data=Hh(c,c.parent,n).resolve,U(void 0))),Ht(()=>a++),$a(1),Dt(c=>a===s.size?U(t):Pn))})}function JS(n){let e=n.children.map(t=>JS(t)).flat();return[n,...e]}function IU(n,e,t,i){let r=n.routeConfig,o=n._resolve;return r?.title!==void 0&&!HS(r)&&(o[Tu]=r.title),Fe(()=>(n.data=Hh(n,n.parent,t).resolve,PU(o,n,e,i).pipe(K(s=>(n._resolvedData=s,n.data=F(F({},n.data),s),null)))))}function PU(n,e,t,i){let r=fb(n);if(r.length===0)return U({});let o={};return se(r).pipe(Dt(s=>OU(n[s],e,t,i).pipe(kr(),Ht(a=>{if(a instanceof Mc)throw Wh(new No,a);o[s]=a}))),$a(1),K(()=>o),Ze(s=>YS(s)?Pn:za(s)))}function OU(n,e,t,i){let r=Pc(e)??i,o=Oc(n,r),s=o.resolve?o.resolve(e,t):ae(r,()=>o(e,t));return qr(s)}function ub(n){return Me(e=>{let t=n(e);return t?se(t).pipe(K(()=>e)):U(e)})}var Sb=(()=>{class n{buildTitle(t){let i,r=t.root;for(;r!==void 0;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(o=>o.outlet===pe);return i}getResolvedTitleForRoute(t){return t.data[Tu]}static \u0275fac=function(i){return new(i||n)};static \u0275prov=$({token:n,factory:()=>N(eD),providedIn:"root"})}return n})(),eD=(()=>{class n extends Sb{title;constructor(t){super(),this.title=t}updateTitle(t){let i=this.buildTitle(t);i!==void 0&&this.title.setTitle(i)}static \u0275fac=function(i){return new(i||n)(q(vS))};static \u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Bo=new G("",{providedIn:"root",factory:()=>({})}),Xs=new G(""),Yh=(()=>{class n{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=N(Ly);loadComponent(t,i){if(this.componentLoaders.get(i))return this.componentLoaders.get(i);if(i._loadedComponent)return U(i._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(i);let r=qr(ae(t,()=>i.loadComponent())).pipe(K(nD),Me(iD),Ht(s=>{this.onLoadEndListener&&this.onLoadEndListener(i),i._loadedComponent=s}),vo(()=>{this.componentLoaders.delete(i)})),o=new Ba(r,()=>new de).pipe(Fa());return this.componentLoaders.set(i,o),o}loadChildren(t,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return U({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let o=tD(i,this.compiler,t,this.onLoadEndListener).pipe(vo(()=>{this.childrenLoaders.delete(i)})),s=new Ba(o,()=>new de).pipe(Fa());return this.childrenLoaders.set(i,s),s}static \u0275fac=function(i){return new(i||n)};static \u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function tD(n,e,t,i){return qr(ae(t,()=>n.loadChildren())).pipe(K(nD),Me(iD),Dt(r=>r instanceof sh||Array.isArray(r)?U(r):se(e.compileModuleAsync(r))),K(r=>{i&&i(n);let o,s,a=!1;return Array.isArray(r)?(s=r,a=!0):(o=r.create(t).injector,s=o.get(Xs,[],{optional:!0,self:!0}).flat()),{routes:s.map(xb),injector:o}}))}function xU(n){return n&&typeof n=="object"&&"default"in n}function nD(n){return xU(n)?n.default:n}function iD(n){return U(n)}var Qh=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275prov=$({token:n,factory:()=>N(SU),providedIn:"root"})}return n})(),SU=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,i){return t}static \u0275fac=function(i){return new(i||n)};static \u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Db=new G(""),Tb=new G("");function rD(n,e,t){let i=n.get(Tb),r=n.get(gt);if(!r.startViewTransition||i.skipNextTransition)return i.skipNextTransition=!1,new Promise(l=>setTimeout(l));let o,s=new Promise(l=>{o=l}),a=r.startViewTransition(()=>(o(),DU(n)));a.ready.catch(l=>{});let{onViewTransitionCreated:c}=i;return c&&ae(n,()=>c({transition:a,from:e,to:t})),s}function DU(n){return new Promise(e=>{iu({read:()=>setTimeout(e)},{injector:n})})}var Ab=new G(""),Zh=(()=>{class n{currentNavigation=xn(null,{equal:()=>!1});currentTransition=null;lastSuccessfulNavigation=null;events=new de;transitionAbortWithErrorSubject=new de;configLoader=N(Yh);environmentInjector=N(yt);destroyRef=N(ni);urlSerializer=N(Ys);rootContexts=N(Qs);location=N(Ao);inputBindingEnabled=N(Au,{optional:!0})!==null;titleStrategy=N(Sb);options=N(Bo,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=N(Qh);createViewTransition=N(Db,{optional:!0});navigationErrorHandler=N(Ab,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>U(void 0);rootComponentType=null;destroyed=!1;constructor(){let t=r=>this.events.next(new Lh(r)),i=r=>this.events.next(new Fh(r));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=t,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(t){let i=++this.navigationId;en(()=>{this.transitions?.next(ie(F({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,abortController:new AbortController,id:i}))})}setupNavigations(t){return this.transitions=new Yt(null),this.transitions.pipe(ln(i=>i!==null),Me(i=>{let r=!1;return U(i).pipe(Me(o=>{if(this.navigationId>i.id)return this.cancelNavigationTransition(i,"",vn.SupersededByNewNavigation),Pn;this.currentTransition=i,this.currentNavigation.set({id:o.id,initialUrl:o.rawUrl,extractedUrl:o.extractedUrl,targetBrowserUrl:typeof o.extras.browserUrl=="string"?this.urlSerializer.parse(o.extras.browserUrl):o.extras.browserUrl,trigger:o.source,extras:o.extras,previousNavigation:this.lastSuccessfulNavigation?ie(F({},this.lastSuccessfulNavigation),{previousNavigation:null}):null,abort:()=>o.abortController.abort()});let s=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),a=o.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!s&&a!=="reload")return this.events.next(new lr(o.id,this.urlSerializer.serialize(o.rawUrl),"",bc.IgnoredSameUrlNavigation)),o.resolve(!1),Pn;if(this.urlHandlingStrategy.shouldProcessUrl(o.rawUrl))return U(o).pipe(Me(c=>(this.events.next(new Fo(c.id,this.urlSerializer.serialize(c.extractedUrl),c.source,c.restoredState)),c.id!==this.navigationId?Pn:Promise.resolve(c))),EU(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),Ht(c=>{i.targetSnapshot=c.targetSnapshot,i.urlAfterRedirects=c.urlAfterRedirects,this.currentNavigation.update(h=>(h.finalUrl=c.urlAfterRedirects,h));let l=new Mu(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(l)}));if(s&&this.urlHandlingStrategy.shouldProcessUrl(o.currentRawUrl)){let{id:c,extractedUrl:l,source:h,restoredState:f,extras:y}=o,w=new Fo(c,this.urlSerializer.serialize(l),h,f);this.events.next(w);let I=zS(this.rootComponentType).snapshot;return this.currentTransition=i=ie(F({},o),{targetSnapshot:I,urlAfterRedirects:l,extras:ie(F({},y),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.update(D=>(D.finalUrl=l,D)),U(i)}else return this.events.next(new lr(o.id,this.urlSerializer.serialize(o.extractedUrl),"",bc.IgnoredByUrlHandlingStrategy)),o.resolve(!1),Pn}),Ht(o=>{let s=new Ah(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot);this.events.next(s)}),K(o=>(this.currentTransition=i=ie(F({},o),{guards:z5(o.targetSnapshot,o.currentSnapshot,this.rootContexts)}),i)),J5(this.environmentInjector,o=>this.events.next(o)),Ht(o=>{if(i.guardsResult=o.guardsResult,o.guardsResult&&typeof o.guardsResult!="boolean")throw Wh(this.urlSerializer,o.guardsResult);let s=new kh(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot,!!o.guardsResult);this.events.next(s)}),ln(o=>o.guardsResult?!0:(this.cancelNavigationTransition(o,"",vn.GuardRejected),!1)),ub(o=>{if(o.guards.canActivateChecks.length!==0)return U(o).pipe(Ht(s=>{let a=new Rh(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),Me(s=>{let a=!1;return U(s).pipe(MU(this.paramsInheritanceStrategy,this.environmentInjector),Ht({next:()=>a=!0,complete:()=>{a||this.cancelNavigationTransition(s,"",vn.NoDataFromResolver)}}))}),Ht(s=>{let a=new Nh(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}))}),ub(o=>{let s=a=>{let c=[];if(a.routeConfig?.loadComponent){let l=Pc(a)??this.environmentInjector;c.push(this.configLoader.loadComponent(l,a.routeConfig).pipe(Ht(h=>{a.component=h}),K(()=>{})))}for(let l of a.children)c.push(...s(l));return c};return Dl(s(o.targetSnapshot.root)).pipe(_o(null),ut(1))}),ub(()=>this.afterPreactivation()),Me(()=>{let{currentSnapshot:o,targetSnapshot:s}=i,a=this.createViewTransition?.(this.environmentInjector,o.root,s.root);return a?se(a).pipe(K(()=>i)):U(i)}),K(o=>{let s=F5(t.routeReuseStrategy,o.targetSnapshot,o.currentRouterState);return this.currentTransition=i=ie(F({},o),{targetRouterState:s}),this.currentNavigation.update(a=>(a.targetRouterState=s,a)),i}),Ht(()=>{this.events.next(new Iu)}),U5(this.rootContexts,t.routeReuseStrategy,o=>this.events.next(o),this.inputBindingEnabled),ut(1),Xe(new ee(o=>{let s=i.abortController.signal,a=()=>o.next();return s.addEventListener("abort",a),()=>s.removeEventListener("abort",a)}).pipe(ln(()=>!r&&!i.targetRouterState),Ht(()=>{this.cancelNavigationTransition(i,i.abortController.signal.reason+"",vn.Aborted)}))),Ht({next:o=>{r=!0,this.lastSuccessfulNavigation=en(this.currentNavigation),this.events.next(new Gn(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects))),this.titleStrategy?.updateTitle(o.targetRouterState.snapshot),o.resolve(!0)},complete:()=>{r=!0}}),Xe(this.transitionAbortWithErrorSubject.pipe(Ht(o=>{throw o}))),vo(()=>{r||this.cancelNavigationTransition(i,"",vn.SupersededByNewNavigation),this.currentTransition?.id===i.id&&(this.currentNavigation.set(null),this.currentTransition=null)}),Ze(o=>{if(this.destroyed)return i.resolve(!1),Pn;if(r=!0,KS(o))this.events.next(new ar(i.id,this.urlSerializer.serialize(i.extractedUrl),o.message,o.cancellationCode)),V5(o)?this.events.next(new Ec(o.url,o.navigationBehaviorOptions)):i.resolve(!1);else{let s=new Cc(i.id,this.urlSerializer.serialize(i.extractedUrl),o,i.targetSnapshot??void 0);try{let a=ae(this.environmentInjector,()=>this.navigationErrorHandler?.(s));if(a instanceof Mc){let{message:c,cancellationCode:l}=Wh(this.urlSerializer,a);this.events.next(new ar(i.id,this.urlSerializer.serialize(i.extractedUrl),c,l)),this.events.next(new Ec(a.redirectTo,a.navigationBehaviorOptions))}else throw this.events.next(s),o}catch(a){this.options.resolveNavigationPromiseOnError?i.resolve(!1):i.reject(a)}}return Pn}))}))}cancelNavigationTransition(t,i,r){let o=new ar(t.id,this.urlSerializer.serialize(t.extractedUrl),i,r);this.events.next(o),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),i=en(this.currentNavigation),r=i?.targetBrowserUrl??i?.extractedUrl;return t.toString()!==r?.toString()&&!i?.extras.skipLocationChange}static \u0275fac=function(i){return new(i||n)};static \u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function TU(n){return n!==vc}var oD=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275prov=$({token:n,factory:()=>N(AU),providedIn:"root"})}return n})(),qh=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}},AU=(()=>{class n extends qh{static \u0275fac=(()=>{let t;return function(r){return(t||(t=Sn(n)))(r||n)}})();static \u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),sD=(()=>{class n{urlSerializer=N(Ys);options=N(Bo,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=N(Ao);urlHandlingStrategy=N(Qh);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new cr;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:t,initialUrl:i,targetBrowserUrl:r}){let o=t!==void 0?this.urlHandlingStrategy.merge(t,i):i,s=r??o;return s instanceof cr?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:t,finalUrl:i,initialUrl:r}){i&&t?(this.currentUrlTree=i,this.rawUrlTree=this.urlHandlingStrategy.merge(i,r),this.routerState=t):this.rawUrlTree=r}routerState=zS(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:t}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t??this.rawUrlTree)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=$({token:n,factory:()=>N(kU),providedIn:"root"})}return n})(),kU=(()=>{class n extends sD{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(i=>{i.type==="popstate"&&setTimeout(()=>{t(i.url,i.state,"popstate")})})}handleRouterEvent(t,i){t instanceof Fo?this.updateStateMemento():t instanceof lr?this.commitTransition(i):t instanceof Mu?this.urlUpdateStrategy==="eager"&&(i.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(i),i)):t instanceof Iu?(this.commitTransition(i),this.urlUpdateStrategy==="deferred"&&!i.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(i),i)):t instanceof ar&&t.code!==vn.SupersededByNewNavigation&&t.code!==vn.Redirect?this.restoreHistory(i):t instanceof Cc?this.restoreHistory(i,!0):t instanceof Gn&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,{extras:i,id:r}){let{replaceUrl:o,state:s}=i;if(this.location.isCurrentPathEqualTo(t)||o){let a=this.browserPageId,c=F(F({},s),this.generateNgRouterState(r,a));this.location.replaceState(t,"",c)}else{let a=F(F({},s),this.generateNgRouterState(r,this.browserPageId+1));this.location.go(t,"",a)}}restoreHistory(t,i=!1){if(this.canceledNavigationResolution==="computed"){let r=this.browserPageId,o=this.currentPageId-r;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===t.finalUrl&&o===0&&(this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,i){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:i}:{navigationId:t}}static \u0275fac=(()=>{let t;return function(r){return(t||(t=Sn(n)))(r||n)}})();static \u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Xh(n,e){n.events.pipe(ln(t=>t instanceof Gn||t instanceof ar||t instanceof Cc||t instanceof lr),K(t=>t instanceof Gn||t instanceof lr?0:(t instanceof ar?t.code===vn.Redirect||t.code===vn.SupersededByNewNavigation:!1)?2:1),ln(t=>t!==2),ut(1)).subscribe(()=>{e()})}var RU={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},NU={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},ze=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=N(Oy);stateManager=N(sD);options=N(Bo,{optional:!0})||{};pendingTasks=N(tr);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=N(Zh);urlSerializer=N(Ys);location=N(Ao);urlHandlingStrategy=N(Qh);injector=N(yt);_events=new de;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=N(oD);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=N(Xs,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!N(Au,{optional:!0});currentNavigation=this.navigationTransitions.currentNavigation.asReadonly();constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}eventsSubscription=new Ct;subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(i=>{try{let r=this.navigationTransitions.currentTransition,o=en(this.navigationTransitions.currentNavigation);if(r!==null&&o!==null){if(this.stateManager.handleRouterEvent(i,o),i instanceof ar&&i.code!==vn.Redirect&&i.code!==vn.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof Gn)this.navigated=!0;else if(i instanceof Ec){let s=i.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(i.url,r.currentRawUrl),c=F({browserUrl:r.extras.browserUrl,info:r.extras.info,skipLocationChange:r.extras.skipLocationChange,replaceUrl:r.extras.replaceUrl||this.urlUpdateStrategy==="eager"||TU(r.source)},s);this.scheduleNavigation(a,vc,null,c,{resolve:r.resolve,reject:r.reject,promise:r.promise})}}k5(i)&&this._events.next(i)}catch(r){this.navigationTransitions.transitionAbortWithErrorSubject.next(r)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),vc,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,i,r)=>{this.navigateToSyncWithBrowser(t,r,i)})}navigateToSyncWithBrowser(t,i,r){let o={replaceUrl:!0},s=r?.navigationId?r:null;if(r){let c=F({},r);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(o.state=c)}let a=this.parseUrl(t);this.scheduleNavigation(a,i,s,o).catch(c=>{this.disposed||this.injector.get(Vn)(c)})}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return en(this.navigationTransitions.currentNavigation)}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(xb),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,i={}){let{relativeTo:r,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:c}=i,l=c?this.currentUrlTree.fragment:s,h=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":h=F(F({},this.currentUrlTree.queryParams),o);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=o||null}h!==null&&(h=this.removeEmptyProps(h));let f;try{let y=r?r.snapshot:this.routerState.snapshot.root;f=BS(y)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),f=this.currentUrlTree.root}return jS(f,t,h,l??null)}navigateByUrl(t,i={skipLocationChange:!1}){let r=Lo(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(o,vc,null,i)}navigate(t,i={skipLocationChange:!1}){return LU(t),this.navigateByUrl(this.createUrlTree(t,i),i)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.console.warn(wo(4018,!1)),this.urlSerializer.parse("/")}}isActive(t,i){let r;if(i===!0?r=F({},RU):i===!1?r=F({},NU):r=i,Lo(t))return yS(this.currentUrlTree,t,r);let o=this.parseUrl(t);return yS(this.currentUrlTree,o,r)}removeEmptyProps(t){return Object.entries(t).reduce((i,[r,o])=>(o!=null&&(i[r]=o),i),{})}scheduleNavigation(t,i,r,o,s){if(this.disposed)return Promise.resolve(!1);let a,c,l;s?(a=s.resolve,c=s.reject,l=s.promise):l=new Promise((f,y)=>{a=f,c=y});let h=this.pendingTasks.add();return Xh(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(h))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:a,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(f=>Promise.reject(f))}static \u0275fac=function(i){return new(i||n)};static \u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function LU(n){for(let e=0;e<n.length;e++)if(n[e]==null)throw new j(4008,!1)}var Ye=(()=>{class n{router;route;tabIndexAttribute;renderer;el;locationStrategy;reactiveHref=xn(null);get href(){return en(this.reactiveHref)}set href(t){this.reactiveHref.set(t)}target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new de;applicationErrorHandler=N(Vn);options=N(Bo,{optional:!0});constructor(t,i,r,o,s,a){this.router=t,this.route=i,this.tabIndexAttribute=r,this.renderer=o,this.el=s,this.locationStrategy=a,this.reactiveHref.set(N(new uh("href"),{optional:!0}));let c=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=c==="a"||c==="area"||!!(typeof customElements=="object"&&customElements.get(c)?.observedAttributes?.includes?.("href")),this.isAnchorElement?this.setTabIndexIfNotOnNativeEl("0"):this.subscribeToNavigationEventsIfNecessary()}subscribeToNavigationEventsIfNecessary(){if(this.subscription!==void 0||!this.isAnchorElement)return;let t=this.preserveFragment,i=r=>r==="merge"||r==="preserve";t||=i(this.queryParamsHandling),t||=!this.queryParamsHandling&&!i(this.options?.defaultQueryParamsHandling),t&&(this.subscription=this.router.events.subscribe(r=>{r instanceof Gn&&this.updateHref()}))}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(t){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&(this.updateHref(),this.subscribeToNavigationEventsIfNecessary()),this.onChanges.next(this)}routerLinkInput=null;set routerLink(t){t==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(Lo(t)?this.routerLinkInput=t:this.routerLinkInput=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0"))}onClick(t,i,r,o,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(t!==0||i||r||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let c={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,c)?.catch(l=>{this.applicationErrorHandler(l)}),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let t=this.urlTree;this.reactiveHref.set(t!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(t))??"":null)}applyAttributeValue(t,i){let r=this.renderer,o=this.el.nativeElement;i!==null?r.setAttribute(o,t,i):r.removeAttribute(o,t)}get urlTree(){return this.routerLinkInput===null?null:Lo(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(i){return new(i||n)(B(ze),B(qt),tu("tabindex"),B(ii),B(Jt),B(si))};static \u0275dir=mt({type:n,selectors:[["","routerLink",""]],hostVars:2,hostBindings:function(i,r){i&1&&H("click",function(s){return r.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),i&2&&Gt("href",r.reactiveHref(),sy)("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",uc],skipLocationChange:[2,"skipLocationChange","skipLocationChange",uc],replaceUrl:[2,"replaceUrl","replaceUrl",uc],routerLink:"routerLink"},features:[ir]})}return n})(),Nu=(()=>{class n{router;element;renderer;cdr;link;links;classes=[];routerEventsSubscription;linkInputChangesSubscription;_isActive=!1;get isActive(){return this._isActive}routerLinkActiveOptions={exact:!1};ariaCurrentWhenActive;isActiveChange=new nt;constructor(t,i,r,o,s){this.router=t,this.element=i,this.renderer=r,this.cdr=o,this.link=s,this.routerEventsSubscription=t.events.subscribe(a=>{a instanceof Gn&&this.update()})}ngAfterContentInit(){U(this.links.changes,U(null)).pipe(Ki()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let t=[...this.links.toArray(),this.link].filter(i=>!!i).map(i=>i.onChanges);this.linkInputChangesSubscription=se(t).pipe(Ki()).subscribe(i=>{this._isActive!==this.isLinkActive(this.router)(i)&&this.update()})}set routerLinkActive(t){let i=Array.isArray(t)?t:t.split(" ");this.classes=i.filter(r=>!!r)}ngOnChanges(t){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let t=this.hasActiveLinks();this.classes.forEach(i=>{t?this.renderer.addClass(this.element.nativeElement,i):this.renderer.removeClass(this.element.nativeElement,i)}),t&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==t&&(this._isActive=t,this.cdr.markForCheck(),this.isActiveChange.emit(t))})}isLinkActive(t){let i=FU(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return r=>{let o=r.urlTree;return o?t.isActive(o,i):!1}}hasActiveLinks(){let t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.links.some(t)}static \u0275fac=function(i){return new(i||n)(B(ze),B(Jt),B(ii),B(rr),B(Ye,8))};static \u0275dir=mt({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(i,r,o){if(i&1&&Ay(o,Ye,5),i&2){let s;ky(s=Ry())&&(r.links=s)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[ir]})}return n})();function FU(n){return!!n.paths}var Ru=class{};var aD=(()=>{class n{router;injector;preloadingStrategy;loader;subscription;constructor(t,i,r,o){this.router=t,this.injector=i,this.preloadingStrategy=r,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(ln(t=>t instanceof Gn),Qn(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,i){let r=[];for(let o of i){o.providers&&!o._injector&&(o._injector=cc(o.providers,t,`Route: ${o.path}`));let s=o._injector??t,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&r.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&r.push(this.processRoutes(a,o.children??o._loadedRoutes))}return se(r).pipe(Ki())}preloadConfig(t,i){return this.preloadingStrategy.preload(i,()=>{let r;i.loadChildren&&i.canLoad===void 0?r=this.loader.loadChildren(t,i):r=U(null);let o=r.pipe(Dt(s=>s===null?U(void 0):(i._loadedRoutes=s.routes,i._loadedInjector=s.injector,this.processRoutes(s.injector??t,s.routes))));if(i.loadComponent&&!i._loadedComponent){let s=this.loader.loadComponent(t,i);return se([o,s]).pipe(Ki())}else return o})}static \u0275fac=function(i){return new(i||n)(q(ze),q(yt),q(Ru),q(Yh))};static \u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),cD=new G(""),BU=(()=>{class n{urlSerializer;transitions;viewportScroller;zone;options;routerEventsSubscription;scrollEventsSubscription;lastId=0;lastSource=vc;restoredId=0;store={};constructor(t,i,r,o,s={}){this.urlSerializer=t,this.transitions=i,this.viewportScroller=r,this.zone=o,this.options=s,s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Fo?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Gn?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof lr&&t.code===bc.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{if(!(t instanceof wc))return;let i={behavior:"instant"};t.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0],i):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(t.position,i):t.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(t.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0])})}scheduleScrollEvent(t,i){this.zone.runOutsideAngular(()=>x(this,null,function*(){yield new Promise(r=>{setTimeout(r),typeof requestAnimationFrame<"u"&&requestAnimationFrame(r)}),this.zone.run(()=>{this.transitions.events.next(new wc(t,this.lastSource==="popstate"?this.store[this.restoredId]:null,i))})}))}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static \u0275fac=function(i){My()};static \u0275prov=$({token:n,factory:n.\u0275fac})}return n})();function Rb(n,...e){return dn([{provide:Xs,multi:!0,useValue:n},[],{provide:qt,useFactory:lD,deps:[ze]},{provide:ou,multi:!0,useFactory:uD},e.map(t=>t.\u0275providers)])}function lD(n){return n.routerState.root}function xc(n,e){return{\u0275kind:n,\u0275providers:e}}function uD(){let n=N(Be);return e=>{let t=n.get($r);if(e!==t.components[0])return;let i=n.get(ze),r=n.get(dD);n.get(Nb)===1&&i.initialNavigation(),n.get(hD,null,{optional:!0})?.setUpPreloading(),n.get(cD,null,{optional:!0})?.init(),i.resetRootComponentType(t.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}var dD=new G("",{factory:()=>new de}),Nb=new G("",{providedIn:"root",factory:()=>1});function fD(){let n=[{provide:iy,useValue:!0},{provide:Nb,useValue:0},ch(()=>{let e=N(Be);return e.get(Hy,Promise.resolve()).then(()=>new Promise(i=>{let r=e.get(ze),o=e.get(dD);Xh(r,()=>{i(!0)}),e.get(Zh).afterPreactivation=()=>(i(!0),o.closed?U(void 0):o),r.initialNavigation()}))})];return xc(2,n)}function pD(){let n=[ch(()=>{N(ze).setUpLocationChangeListener()}),{provide:Nb,useValue:2}];return xc(3,n)}var hD=new G("");function gD(n){return xc(0,[{provide:hD,useExisting:aD},{provide:Ru,useExisting:n}])}function Lb(){return xc(6,[{provide:si,useClass:hh}])}function mD(){return xc(8,[Pb,{provide:Au,useExisting:Pb}])}function _D(n){Un("NgRouterViewTransitions");let e=[{provide:Db,useValue:rD},{provide:Tb,useValue:F({skipNextTransition:!!n?.skipInitialTransition},n)}];return xc(9,e)}var vD=[Ao,{provide:Ys,useClass:No},ze,Qs,{provide:qt,useFactory:lD,deps:[ze]},Yh,[]],$e=(()=>{class n{constructor(){}static forRoot(t,i){return{ngModule:n,providers:[vD,[],{provide:Xs,multi:!0,useValue:t},[],i?.errorHandler?{provide:Ab,useValue:i.errorHandler}:[],{provide:Bo,useValue:i||{}},i?.useHash?VU():UU(),jU(),i?.preloadingStrategy?gD(i.preloadingStrategy).\u0275providers:[],i?.initialNavigation?zU(i):[],i?.bindToComponentInputs?mD().\u0275providers:[],i?.enableViewTransitions?_D().\u0275providers:[],$U()]}}static forChild(t){return{ngModule:n,providers:[{provide:Xs,multi:!0,useValue:t}]}}static \u0275fac=function(i){return new(i||n)};static \u0275mod=_n({type:n});static \u0275inj=un({})}return n})();function jU(){return{provide:cD,useFactory:()=>{let n=N(Kx),e=N(ke),t=N(Bo),i=N(Zh),r=N(Ys);return t.scrollOffset&&n.setOffset(t.scrollOffset),new BU(r,i,n,e,t)}}}function VU(){return{provide:si,useClass:hh}}function UU(){return{provide:si,useClass:ph}}function zU(n){return[n.initialNavigation==="disabled"?pD().\u0275providers:[],n.initialNavigation==="enabledBlocking"?fD().\u0275providers:[]]}var kb=new G("");function $U(){return[{provide:kb,useFactory:uD},{provide:ou,multi:!0,useExisting:kb}]}var we=(function(n){return n[n.State=0]="State",n[n.Transition=1]="Transition",n[n.Sequence=2]="Sequence",n[n.Group=3]="Group",n[n.Animate=4]="Animate",n[n.Keyframes=5]="Keyframes",n[n.Style=6]="Style",n[n.Trigger=7]="Trigger",n[n.Reference=8]="Reference",n[n.AnimateChild=9]="AnimateChild",n[n.AnimateRef=10]="AnimateRef",n[n.Query=11]="Query",n[n.Stagger=12]="Stagger",n})(we||{}),Di="*";function yD(n,e=null){return{type:we.Sequence,steps:n,options:e}}function Fb(n){return{type:we.Style,styles:n,offset:null}}var Kr=class{_onDoneFns=[];_onStartFns=[];_onDestroyFns=[];_originalOnDoneFns=[];_originalOnStartFns=[];_started=!1;_destroyed=!1;_finished=!1;_position=0;parentPlayer=null;totalTime;constructor(e=0,t=0){this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){let t=e=="start"?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}},Sc=class{_onDoneFns=[];_onStartFns=[];_finished=!1;_started=!1;_destroyed=!1;_onDestroyFns=[];parentPlayer=null;totalTime=0;players;constructor(e){this.players=e;let t=0,i=0,r=0,o=this.players.length;o==0?queueMicrotask(()=>this._onFinish()):this.players.forEach(s=>{s.onDone(()=>{++t==o&&this._onFinish()}),s.onDestroy(()=>{++i==o&&this._onDestroy()}),s.onStart(()=>{++r==o&&this._onStart()})}),this.totalTime=this.players.reduce((s,a)=>Math.max(s,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){let t=e*this.totalTime;this.players.forEach(i=>{let r=i.totalTime?Math.min(1,t/i.totalTime):1;i.setPosition(r)})}getPosition(){let e=this.players.reduce((t,i)=>t===null||i.totalTime>t.totalTime?i:t,null);return e!=null?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){let t=e=="start"?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}},Lu="!";function bD(n){return new j(3e3,!1)}function HU(){return new j(3100,!1)}function WU(){return new j(3101,!1)}function GU(n){return new j(3001,!1)}function qU(n){return new j(3003,!1)}function KU(n){return new j(3004,!1)}function wD(n,e){return new j(3005,!1)}function ED(){return new j(3006,!1)}function MD(){return new j(3007,!1)}function ID(n,e){return new j(3008,!1)}function PD(n){return new j(3002,!1)}function OD(n,e,t,i,r){return new j(3010,!1)}function xD(){return new j(3011,!1)}function SD(){return new j(3012,!1)}function DD(){return new j(3200,!1)}function TD(){return new j(3202,!1)}function AD(){return new j(3013,!1)}function kD(n){return new j(3014,!1)}function RD(n){return new j(3015,!1)}function ND(n){return new j(3016,!1)}function LD(n,e){return new j(3404,!1)}function YU(n){return new j(3502,!1)}function FD(n){return new j(3503,!1)}function BD(){return new j(3300,!1)}function jD(n){return new j(3504,!1)}function VD(n){return new j(3301,!1)}function UD(n,e){return new j(3302,!1)}function zD(n){return new j(3303,!1)}function $D(n,e){return new j(3400,!1)}function HD(n){return new j(3401,!1)}function WD(n){return new j(3402,!1)}function GD(n,e){return new j(3505,!1)}function Yr(n){switch(n.length){case 0:return new Kr;case 1:return n[0];default:return new Sc(n)}}function Ub(n,e,t=new Map,i=new Map){let r=[],o=[],s=-1,a=null;if(e.forEach(c=>{let l=c.get("offset"),h=l==s,f=h&&a||new Map;c.forEach((y,w)=>{let I=w,D=y;if(w!=="offset")switch(I=n.normalizePropertyName(I,r),D){case Lu:D=t.get(w);break;case Di:D=i.get(w);break;default:D=n.normalizeStyleValue(w,I,D,r);break}f.set(I,D)}),h||o.push(f),a=f,s=l}),r.length)throw YU(r);return o}function Jh(n,e,t,i){switch(e){case"start":n.onStart(()=>i(t&&Bb(t,"start",n)));break;case"done":n.onDone(()=>i(t&&Bb(t,"done",n)));break;case"destroy":n.onDestroy(()=>i(t&&Bb(t,"destroy",n)));break}}function Bb(n,e,t){let i=t.totalTime,r=!!t.disabled,o=eg(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,i??n.totalTime,r),s=n._data;return s!=null&&(o._data=s),o}function eg(n,e,t,i,r="",o=0,s){return{element:n,triggerName:e,fromState:t,toState:i,phaseName:r,totalTime:o,disabled:!!s}}function kn(n,e,t){let i=n.get(e);return i||n.set(e,i=t),i}function zb(n){let e=n.indexOf(":"),t=n.substring(1,e),i=n.slice(e+1);return[t,i]}var QU=typeof document>"u"?null:document.documentElement;function tg(n){let e=n.parentNode||n.host||null;return e===QU?null:e}function ZU(n){return n.substring(1,6)=="ebkit"}var Js=null,CD=!1;function qD(n){Js||(Js=XU()||{},CD=Js.style?"WebkitAppearance"in Js.style:!1);let e=!0;return Js.style&&!ZU(n)&&(e=n in Js.style,!e&&CD&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in Js.style)),e}function XU(){return typeof document<"u"?document.body:null}function $b(n,e){for(;e;){if(e===n)return!0;e=tg(e)}return!1}function Hb(n,e,t){if(t)return Array.from(n.querySelectorAll(e));let i=n.querySelector(e);return i?[i]:[]}var JU=1e3,Wb="{{",ez="}}",Gb="ng-enter",ng="ng-leave",Fu="ng-trigger",Bu=".ng-trigger",qb="ng-animating",ig=".ng-animating";function ur(n){if(typeof n=="number")return n;let e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:jb(parseFloat(e[1]),e[2])}function jb(n,e){switch(e){case"s":return n*JU;default:return n}}function ju(n,e,t){return n.hasOwnProperty("duration")?n:nz(n,e,t)}var tz=/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i;function nz(n,e,t){let i,r=0,o="";if(typeof n=="string"){let s=n.match(tz);if(s===null)return e.push(bD(n)),{duration:0,delay:0,easing:""};i=jb(parseFloat(s[1]),s[2]);let a=s[3];a!=null&&(r=jb(parseFloat(a),s[4]));let c=s[5];c&&(o=c)}else i=n;if(!t){let s=!1,a=e.length;i<0&&(e.push(HU()),s=!0),r<0&&(e.push(WU()),s=!0),s&&e.splice(a,0,bD(n))}return{duration:i,delay:r,easing:o}}function KD(n){return n.length?n[0]instanceof Map?n:n.map(e=>new Map(Object.entries(e))):[]}function Ti(n,e,t){e.forEach((i,r)=>{let o=rg(r);t&&!t.has(r)&&t.set(r,n.style[o]),n.style[o]=i})}function jo(n,e){e.forEach((t,i)=>{let r=rg(i);n.style[r]=""})}function Dc(n){return Array.isArray(n)?n.length==1?n[0]:yD(n):n}function YD(n,e,t){let i=e.params||{},r=Kb(n);r.length&&r.forEach(o=>{i.hasOwnProperty(o)||t.push(GU(o))})}var Vb=new RegExp(`${Wb}\\s*(.+?)\\s*${ez}`,"g");function Kb(n){let e=[];if(typeof n=="string"){let t;for(;t=Vb.exec(n);)e.push(t[1]);Vb.lastIndex=0}return e}function Tc(n,e,t){let i=`${n}`,r=i.replace(Vb,(o,s)=>{let a=e[s];return a==null&&(t.push(qU(s)),a=""),a.toString()});return r==i?n:r}var iz=/-+([a-z0-9])/g;function rg(n){return n.replace(iz,(...e)=>e[1].toUpperCase())}function QD(n,e){return n===0||e===0}function ZD(n,e,t){if(t.size&&e.length){let i=e[0],r=[];if(t.forEach((o,s)=>{i.has(s)||r.push(s),i.set(s,o)}),r.length)for(let o=1;o<e.length;o++){let s=e[o];r.forEach(a=>s.set(a,og(n,a)))}}return e}function Rn(n,e,t){switch(e.type){case we.Trigger:return n.visitTrigger(e,t);case we.State:return n.visitState(e,t);case we.Transition:return n.visitTransition(e,t);case we.Sequence:return n.visitSequence(e,t);case we.Group:return n.visitGroup(e,t);case we.Animate:return n.visitAnimate(e,t);case we.Keyframes:return n.visitKeyframes(e,t);case we.Style:return n.visitStyle(e,t);case we.Reference:return n.visitReference(e,t);case we.AnimateChild:return n.visitAnimateChild(e,t);case we.AnimateRef:return n.visitAnimateRef(e,t);case we.Query:return n.visitQuery(e,t);case we.Stagger:return n.visitStagger(e,t);default:throw KU(e.type)}}function og(n,e){return window.getComputedStyle(n)[e]}var dC=(()=>{class n{validateStyleProperty(t){return qD(t)}containsElement(t,i){return $b(t,i)}getParentElement(t){return tg(t)}query(t,i,r){return Hb(t,i,r)}computeStyle(t,i,r){return r||""}animate(t,i,r,o,s,a=[],c){return new Kr(r,o)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=$({token:n,factory:n.\u0275fac})}return n})(),ta=class{static NOOP=new dC},na=class{};var rz=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]),ug=class extends na{normalizePropertyName(e,t){return rg(e)}normalizeStyleValue(e,t,i,r){let o="",s=i.toString().trim();if(rz.has(t)&&i!==0&&i!=="0")if(typeof i=="number")o="px";else{let a=i.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&a[1].length==0&&r.push(wD(e,i))}return s+o}};var dg="*";function oz(n,e){let t=[];return typeof n=="string"?n.split(/\s*,\s*/).forEach(i=>sz(i,t,e)):t.push(n),t}function sz(n,e,t){if(n[0]==":"){let c=az(n,t);if(typeof c=="function"){e.push(c);return}n=c}let i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(i==null||i.length<4)return t.push(RD(n)),e;let r=i[1],o=i[2],s=i[3];e.push(XD(r,s));let a=r==dg&&s==dg;o[0]=="<"&&!a&&e.push(XD(s,r))}function az(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,i)=>parseFloat(i)>parseFloat(t);case":decrement":return(t,i)=>parseFloat(i)<parseFloat(t);default:return e.push(ND(n)),"* => *"}}var sg=new Set(["true","1"]),ag=new Set(["false","0"]);function XD(n,e){let t=sg.has(n)||ag.has(n),i=sg.has(e)||ag.has(e);return(r,o)=>{let s=n==dg||n==r,a=e==dg||e==o;return!s&&t&&typeof r=="boolean"&&(s=r?sg.has(n):ag.has(n)),!a&&i&&typeof o=="boolean"&&(a=o?sg.has(e):ag.has(e)),s&&a}}var cT=":self",cz=new RegExp(`s*${cT}s*,?`,"g");function lT(n,e,t,i){return new eC(n).build(e,t,i)}var JD="",eC=class{_driver;constructor(e){this._driver=e}build(e,t,i){let r=new tC(t);return this._resetContextStyleTimingState(r),Rn(this,Dc(e),r)}_resetContextStyleTimingState(e){e.currentQuerySelector=JD,e.collectedStyles=new Map,e.collectedStyles.set(JD,new Map),e.currentTime=0}visitTrigger(e,t){let i=t.queryCount=0,r=t.depCount=0,o=[],s=[];return e.name.charAt(0)=="@"&&t.errors.push(ED()),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(t),a.type==we.State){let c=a,l=c.name;l.toString().split(/\s*,\s*/).forEach(h=>{c.name=h,o.push(this.visitState(c,t))}),c.name=l}else if(a.type==we.Transition){let c=this.visitTransition(a,t);i+=c.queryCount,r+=c.depCount,s.push(c)}else t.errors.push(MD())}),{type:we.Trigger,name:e.name,states:o,transitions:s,queryCount:i,depCount:r,options:null}}visitState(e,t){let i=this.visitStyle(e.styles,t),r=e.options&&e.options.params||null;if(i.containsDynamicStyles){let o=new Set,s=r||{};i.styles.forEach(a=>{a instanceof Map&&a.forEach(c=>{Kb(c).forEach(l=>{s.hasOwnProperty(l)||o.add(l)})})}),o.size&&t.errors.push(ID(e.name,[...o.values()]))}return{type:we.State,name:e.name,style:i,options:r?{params:r}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;let i=Rn(this,Dc(e.animation),t),r=oz(e.expr,t.errors);return{type:we.Transition,matchers:r,animation:i,queryCount:t.queryCount,depCount:t.depCount,options:ea(e.options)}}visitSequence(e,t){return{type:we.Sequence,steps:e.steps.map(i=>Rn(this,i,t)),options:ea(e.options)}}visitGroup(e,t){let i=t.currentTime,r=0,o=e.steps.map(s=>{t.currentTime=i;let a=Rn(this,s,t);return r=Math.max(r,t.currentTime),a});return t.currentTime=r,{type:we.Group,steps:o,options:ea(e.options)}}visitAnimate(e,t){let i=fz(e.timings,t.errors);t.currentAnimateTimings=i;let r,o=e.styles?e.styles:Fb({});if(o.type==we.Keyframes)r=this.visitKeyframes(o,t);else{let s=e.styles,a=!1;if(!s){a=!0;let l={};i.easing&&(l.easing=i.easing),s=Fb(l)}t.currentTime+=i.duration+i.delay;let c=this.visitStyle(s,t);c.isEmptyStep=a,r=c}return t.currentAnimateTimings=null,{type:we.Animate,timings:i,style:r,options:null}}visitStyle(e,t){let i=this._makeStyleAst(e,t);return this._validateStyleAst(i,t),i}_makeStyleAst(e,t){let i=[],r=Array.isArray(e.styles)?e.styles:[e.styles];for(let a of r)typeof a=="string"?a===Di?i.push(a):t.errors.push(PD(a)):i.push(new Map(Object.entries(a)));let o=!1,s=null;return i.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(s=a.get("easing"),a.delete("easing")),!o)){for(let c of a.values())if(c.toString().indexOf(Wb)>=0){o=!0;break}}}),{type:we.Style,styles:i,easing:s,offset:e.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(e,t){let i=t.currentAnimateTimings,r=t.currentTime,o=t.currentTime;i&&o>0&&(o-=i.duration+i.delay),e.styles.forEach(s=>{typeof s!="string"&&s.forEach((a,c)=>{let l=t.collectedStyles.get(t.currentQuerySelector),h=l.get(c),f=!0;h&&(o!=r&&o>=h.startTime&&r<=h.endTime&&(t.errors.push(OD(c,h.startTime,h.endTime,o,r)),f=!1),o=h.startTime),f&&l.set(c,{startTime:o,endTime:r}),t.options&&YD(a,t.options,t.errors)})})}visitKeyframes(e,t){let i={type:we.Keyframes,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(xD()),i;let r=1,o=0,s=[],a=!1,c=!1,l=0,h=e.steps.map(L=>{let Z=this._makeStyleAst(L,t),le=Z.offset!=null?Z.offset:dz(Z.styles),te=0;return le!=null&&(o++,te=Z.offset=le),c=c||te<0||te>1,a=a||te<l,l=te,s.push(te),Z});c&&t.errors.push(SD()),a&&t.errors.push(DD());let f=e.steps.length,y=0;o>0&&o<f?t.errors.push(TD()):o==0&&(y=r/(f-1));let w=f-1,I=t.currentTime,D=t.currentAnimateTimings,T=D.duration;return h.forEach((L,Z)=>{let le=y>0?Z==w?1:y*Z:s[Z],te=le*T;t.currentTime=I+D.delay+te,D.duration=te,this._validateStyleAst(L,t),L.offset=le,i.styles.push(L)}),i}visitReference(e,t){return{type:we.Reference,animation:Rn(this,Dc(e.animation),t),options:ea(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:we.AnimateChild,options:ea(e.options)}}visitAnimateRef(e,t){return{type:we.AnimateRef,animation:this.visitReference(e.animation,t),options:ea(e.options)}}visitQuery(e,t){let i=t.currentQuerySelector,r=e.options||{};t.queryCount++,t.currentQuery=e;let[o,s]=lz(e.selector);t.currentQuerySelector=i.length?i+" "+o:o,kn(t.collectedStyles,t.currentQuerySelector,new Map);let a=Rn(this,Dc(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=i,{type:we.Query,selector:o,limit:r.limit||0,optional:!!r.optional,includeSelf:s,animation:a,originalSelector:e.selector,options:ea(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(AD());let i=e.timings==="full"?{duration:0,delay:0,easing:"full"}:ju(e.timings,t.errors,!0);return{type:we.Stagger,animation:Rn(this,Dc(e.animation),t),timings:i,options:null}}};function lz(n){let e=!!n.split(/\s*,\s*/).find(t=>t==cT);return e&&(n=n.replace(cz,"")),n=n.replace(/@\*/g,Bu).replace(/@\w+/g,t=>Bu+"-"+t.slice(1)).replace(/:animating/g,ig),[n,e]}function uz(n){return n?F({},n):null}var tC=class{errors;queryCount=0;depCount=0;currentTransition=null;currentQuery=null;currentQuerySelector=null;currentAnimateTimings=null;currentTime=0;collectedStyles=new Map;options=null;unsupportedCSSPropertiesFound=new Set;constructor(e){this.errors=e}};function dz(n){if(typeof n=="string")return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){let i=t;e=parseFloat(i.get("offset")),i.delete("offset")}});else if(n instanceof Map&&n.has("offset")){let t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}function fz(n,e){if(n.hasOwnProperty("duration"))return n;if(typeof n=="number"){let o=ju(n,e).duration;return Yb(o,0,"")}let t=n;if(t.split(/\s+/).some(o=>o.charAt(0)=="{"&&o.charAt(1)=="{")){let o=Yb(0,0,"");return o.dynamic=!0,o.strValue=t,o}let r=ju(t,e);return Yb(r.duration,r.delay,r.easing)}function ea(n){return n?(n=F({},n),n.params&&(n.params=uz(n.params))):n={},n}function Yb(n,e,t){return{duration:n,delay:e,easing:t}}function fC(n,e,t,i,r,o,s=null,a=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:i,duration:r,delay:o,totalTime:r+o,easing:s,subTimeline:a}}var Uu=class{_map=new Map;get(e){return this._map.get(e)||[]}append(e,t){let i=this._map.get(e);i||this._map.set(e,i=[]),i.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}},pz=1,hz=":enter",gz=new RegExp(hz,"g"),mz=":leave",_z=new RegExp(mz,"g");function uT(n,e,t,i,r,o=new Map,s=new Map,a,c,l=[]){return new nC().buildKeyframes(n,e,t,i,r,o,s,a,c,l)}var nC=class{buildKeyframes(e,t,i,r,o,s,a,c,l,h=[]){l=l||new Uu;let f=new iC(e,t,l,r,o,h,[]);f.options=c;let y=c.delay?ur(c.delay):0;f.currentTimeline.delayNextStep(y),f.currentTimeline.setStyles([s],null,f.errors,c),Rn(this,i,f);let w=f.timelines.filter(I=>I.containsAnimation());if(w.length&&a.size){let I;for(let D=w.length-1;D>=0;D--){let T=w[D];if(T.element===t){I=T;break}}I&&!I.allowOnlyTimelineStyles()&&I.setStyles([a],null,f.errors,c)}return w.length?w.map(I=>I.buildKeyframes()):[fC(t,[],[],[],0,y,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){let i=t.subInstructions.get(t.element);if(i){let r=t.createSubContext(e.options),o=t.currentTimeline.currentTime,s=this._visitSubInstructions(i,r,r.options);o!=s&&t.transformIntoNewTimeline(s)}t.previousNode=e}visitAnimateRef(e,t){let i=t.createSubContext(e.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,i),this.visitReference(e.animation,i),t.transformIntoNewTimeline(i.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,i){for(let r of e){let o=r?.delay;if(o){let s=typeof o=="number"?o:ur(Tc(o,r?.params??{},t.errors));i.delayNextStep(s)}}}_visitSubInstructions(e,t,i){let o=t.currentTimeline.currentTime,s=i.duration!=null?ur(i.duration):null,a=i.delay!=null?ur(i.delay):null;return s!==0&&e.forEach(c=>{let l=t.appendInstructionToTimeline(c,s,a);o=Math.max(o,l.duration+l.delay)}),o}visitReference(e,t){t.updateOptions(e.options,!0),Rn(this,e.animation,t),t.previousNode=e}visitSequence(e,t){let i=t.subContextCount,r=t,o=e.options;if(o&&(o.params||o.delay)&&(r=t.createSubContext(o),r.transformIntoNewTimeline(),o.delay!=null)){r.previousNode.type==we.Style&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=fg);let s=ur(o.delay);r.delayNextStep(s)}e.steps.length&&(e.steps.forEach(s=>Rn(this,s,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){let i=[],r=t.currentTimeline.currentTime,o=e.options&&e.options.delay?ur(e.options.delay):0;e.steps.forEach(s=>{let a=t.createSubContext(e.options);o&&a.delayNextStep(o),Rn(this,s,a),r=Math.max(r,a.currentTimeline.currentTime),i.push(a.currentTimeline)}),i.forEach(s=>t.currentTimeline.mergeTimelineCollectedStyles(s)),t.transformIntoNewTimeline(r),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){let i=e.strValue,r=t.params?Tc(i,t.params,t.errors):i;return ju(r,t.errors)}else return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){let i=t.currentAnimateTimings=this._visitTiming(e.timings,t),r=t.currentTimeline;i.delay&&(t.incrementTime(i.delay),r.snapshotCurrentStyles());let o=e.style;o.type==we.Keyframes?this.visitKeyframes(o,t):(t.incrementTime(i.duration),this.visitStyle(o,t),r.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){let i=t.currentTimeline,r=t.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();let o=r&&r.easing||e.easing;e.isEmptyStep?i.applyEmptyStep(o):i.setStyles(e.styles,o,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){let i=t.currentAnimateTimings,r=t.currentTimeline.duration,o=i.duration,a=t.createSubContext().currentTimeline;a.easing=i.easing,e.styles.forEach(c=>{let l=c.offset||0;a.forwardTime(l*o),a.setStyles(c.styles,c.easing,t.errors,t.options),a.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(a),t.transformIntoNewTimeline(r+o),t.previousNode=e}visitQuery(e,t){let i=t.currentTimeline.currentTime,r=e.options||{},o=r.delay?ur(r.delay):0;o&&(t.previousNode.type===we.Style||i==0&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=fg);let s=i,a=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!r.optional,t.errors);t.currentQueryTotal=a.length;let c=null;a.forEach((l,h)=>{t.currentQueryIndex=h;let f=t.createSubContext(e.options,l);o&&f.delayNextStep(o),l===t.element&&(c=f.currentTimeline),Rn(this,e.animation,f),f.currentTimeline.applyStylesToKeyframe();let y=f.currentTimeline.currentTime;s=Math.max(s,y)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(s),c&&(t.currentTimeline.mergeTimelineCollectedStyles(c),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){let i=t.parentContext,r=t.currentTimeline,o=e.timings,s=Math.abs(o.duration),a=s*(t.currentQueryTotal-1),c=s*t.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":c=a-c;break;case"full":c=i.currentStaggerTime;break}let h=t.currentTimeline;c&&h.delayNextStep(c);let f=h.currentTime;Rn(this,e.animation,t),t.previousNode=e,i.currentStaggerTime=r.currentTime-f+(r.startTime-i.currentTimeline.startTime)}},fg={},iC=class n{_driver;element;subInstructions;_enterClassName;_leaveClassName;errors;timelines;parentContext=null;currentTimeline;currentAnimateTimings=null;previousNode=fg;subContextCount=0;options={};currentQueryIndex=0;currentQueryTotal=0;currentStaggerTime=0;constructor(e,t,i,r,o,s,a,c){this._driver=e,this.element=t,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=o,this.errors=s,this.timelines=a,this.currentTimeline=c||new pg(this._driver,t,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;let i=e,r=this.options;i.duration!=null&&(r.duration=ur(i.duration)),i.delay!=null&&(r.delay=ur(i.delay));let o=i.params;if(o){let s=r.params;s||(s=this.options.params={}),Object.keys(o).forEach(a=>{(!t||!s.hasOwnProperty(a))&&(s[a]=Tc(o[a],s,this.errors))})}}_copyOptions(){let e={};if(this.options){let t=this.options.params;if(t){let i=e.params={};Object.keys(t).forEach(r=>{i[r]=t[r]})}}return e}createSubContext(e=null,t,i){let r=t||this.element,o=new n(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(e),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(e){return this.previousNode=fg,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,i){let r={duration:t??e.duration,delay:this.currentTimeline.currentTime+(i??0)+e.delay,easing:""},o=new rC(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,r,e.stretchStartingKeyframe);return this.timelines.push(o),r}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,i,r,o,s){let a=[];if(r&&a.push(this.element),e.length>0){e=e.replace(gz,"."+this._enterClassName),e=e.replace(_z,"."+this._leaveClassName);let c=i!=1,l=this._driver.query(this.element,e,c);i!==0&&(l=i<0?l.slice(l.length+i,l.length):l.slice(0,i)),a.push(...l)}return!o&&a.length==0&&s.push(kD(t)),a}},pg=class n{_driver;element;startTime;_elementTimelineStylesLookup;duration=0;easing=null;_previousKeyframe=new Map;_currentKeyframe=new Map;_keyframes=new Map;_styleSummary=new Map;_localTimelineStyles=new Map;_globalTimelineStyles;_pendingStyles=new Map;_backFill=new Map;_currentEmptyStepKeyframe=null;constructor(e,t,i,r){this._driver=e,this.element=t,this.startTime=i,this._elementTimelineStylesLookup=r,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){let t=this._keyframes.size===1&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new n(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=pz,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,i]of this._globalTimelineStyles)this._backFill.set(t,i||Di),this._currentKeyframe.set(t,Di);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,i,r){t&&this._previousKeyframe.set("easing",t);let o=r&&r.params||{},s=vz(e,this._globalTimelineStyles);for(let[a,c]of s){let l=Tc(c,o,i);this._pendingStyles.set(a,l),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??Di),this._updateStyle(a,l)}}applyStylesToKeyframe(){this._pendingStyles.size!=0&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){let e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,i)=>{let r=this._styleSummary.get(i);(!r||t.time>r.time)&&this._updateStyle(i,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();let e=new Set,t=new Set,i=this._keyframes.size===1&&this.duration===0,r=[];this._keyframes.forEach((a,c)=>{let l=new Map([...this._backFill,...a]);l.forEach((h,f)=>{h===Lu?e.add(f):h===Di&&t.add(f)}),i||l.set("offset",c/this.duration),r.push(l)});let o=[...e.values()],s=[...t.values()];if(i){let a=r[0],c=new Map(a);a.set("offset",0),c.set("offset",1),r=[a,c]}return fC(this.element,r,o,s,this.duration,this.startTime,this.easing,!1)}},rC=class extends pg{keyframes;preStyleProps;postStyleProps;_stretchStartingKeyframe;timings;constructor(e,t,i,r,o,s,a=!1){super(e,t,s.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=o,this._stretchStartingKeyframe=a,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&t){let o=[],s=i+t,a=t/s,c=new Map(e[0]);c.set("offset",0),o.push(c);let l=new Map(e[0]);l.set("offset",eT(a)),o.push(l);let h=e.length-1;for(let f=1;f<=h;f++){let y=new Map(e[f]),w=y.get("offset"),I=t+w*i;y.set("offset",eT(I/s)),o.push(y)}i=s,t=0,r="",e=o}return fC(this.element,e,this.preStyleProps,this.postStyleProps,i,t,r,!0)}};function eT(n,e=3){let t=Math.pow(10,e-1);return Math.round(n*t)/t}function vz(n,e){let t=new Map,i;return n.forEach(r=>{if(r==="*"){i??=e.keys();for(let o of i)t.set(o,Di)}else for(let[o,s]of r)t.set(o,s)}),t}function tT(n,e,t,i,r,o,s,a,c,l,h,f,y){return{type:0,element:n,triggerName:e,isRemovalTransition:r,fromState:t,fromStyles:o,toState:i,toStyles:s,timelines:a,queriedElements:c,preStyleProps:l,postStyleProps:h,totalTime:f,errors:y}}var Qb={},hg=class{_triggerName;ast;_stateStyles;constructor(e,t,i){this._triggerName=e,this.ast=t,this._stateStyles=i}match(e,t,i,r){return yz(this.ast.matchers,e,t,i,r)}buildStyles(e,t,i){let r=this._stateStyles.get("*");return e!==void 0&&(r=this._stateStyles.get(e?.toString())||r),r?r.buildStyles(t,i):new Map}build(e,t,i,r,o,s,a,c,l,h){let f=[],y=this.ast.options&&this.ast.options.params||Qb,w=a&&a.params||Qb,I=this.buildStyles(i,w,f),D=c&&c.params||Qb,T=this.buildStyles(r,D,f),L=new Set,Z=new Map,le=new Map,te=r==="void",rt={params:dT(D,y),delay:this.ast.options?.delay},We=h?[]:uT(e,t,this.ast.animation,o,s,I,T,rt,l,f),tt=0;return We.forEach(ht=>{tt=Math.max(ht.duration+ht.delay,tt)}),f.length?tT(t,this._triggerName,i,r,te,I,T,[],[],Z,le,tt,f):(We.forEach(ht=>{let ot=ht.element,En=kn(Z,ot,new Set);ht.preStyleProps.forEach(be=>En.add(be));let sn=kn(le,ot,new Set);ht.postStyleProps.forEach(be=>sn.add(be)),ot!==t&&L.add(ot)}),tT(t,this._triggerName,i,r,te,I,T,We,[...L.values()],Z,le,tt))}};function yz(n,e,t,i,r){return n.some(o=>o(e,t,i,r))}function dT(n,e){let t=F({},e);return Object.entries(n).forEach(([i,r])=>{r!=null&&(t[i]=r)}),t}var oC=class{styles;defaultParams;normalizer;constructor(e,t,i){this.styles=e,this.defaultParams=t,this.normalizer=i}buildStyles(e,t){let i=new Map,r=dT(e,this.defaultParams);return this.styles.styles.forEach(o=>{typeof o!="string"&&o.forEach((s,a)=>{s&&(s=Tc(s,r,t));let c=this.normalizer.normalizePropertyName(a,t);s=this.normalizer.normalizeStyleValue(a,c,s,t),i.set(a,s)})}),i}};function bz(n,e,t){return new sC(n,e,t)}var sC=class{name;ast;_normalizer;transitionFactories=[];fallbackTransition;states=new Map;constructor(e,t,i){this.name=e,this.ast=t,this._normalizer=i,t.states.forEach(r=>{let o=r.options&&r.options.params||{};this.states.set(r.name,new oC(r.style,o,i))}),nT(this.states,"true","1"),nT(this.states,"false","0"),t.transitions.forEach(r=>{this.transitionFactories.push(new hg(e,r,this.states))}),this.fallbackTransition=Cz(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,i,r){return this.transitionFactories.find(s=>s.match(e,t,i,r))||null}matchStyles(e,t,i){return this.fallbackTransition.buildStyles(e,t,i)}};function Cz(n,e,t){let i=[(s,a)=>!0],r={type:we.Sequence,steps:[],options:null},o={type:we.Transition,animation:r,matchers:i,options:null,queryCount:0,depCount:0};return new hg(n,o,e)}function nT(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}var wz=new Uu,aC=class{bodyNode;_driver;_normalizer;_animations=new Map;_playersById=new Map;players=[];constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i}register(e,t){let i=[],r=[],o=lT(this._driver,t,i,r);if(i.length)throw FD(i);this._animations.set(e,o)}_buildPlayer(e,t,i){let r=e.element,o=Ub(this._normalizer,e.keyframes,t,i);return this._driver.animate(r,o,e.duration,e.delay,e.easing,[],!0)}create(e,t,i={}){let r=[],o=this._animations.get(e),s,a=new Map;if(o?(s=uT(this._driver,t,o,Gb,ng,new Map,new Map,i,wz,r),s.forEach(h=>{let f=kn(a,h.element,new Map);h.postStyleProps.forEach(y=>f.set(y,null))})):(r.push(BD()),s=[]),r.length)throw jD(r);a.forEach((h,f)=>{h.forEach((y,w)=>{h.set(w,this._driver.computeStyle(f,w,Di))})});let c=s.map(h=>{let f=a.get(h.element);return this._buildPlayer(h,new Map,f)}),l=Yr(c);return this._playersById.set(e,l),l.onDestroy(()=>this.destroy(e)),this.players.push(l),l}destroy(e){let t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);let i=this.players.indexOf(t);i>=0&&this.players.splice(i,1)}_getPlayer(e){let t=this._playersById.get(e);if(!t)throw VD(e);return t}listen(e,t,i,r){let o=eg(t,"","","");return Jh(this._getPlayer(e),i,o,r),()=>{}}command(e,t,i,r){if(i=="register"){this.register(e,r[0]);return}if(i=="create"){let s=r[0]||{};this.create(e,t,s);return}let o=this._getPlayer(e);switch(i){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(e);break}}},iT="ng-animate-queued",Ez=".ng-animate-queued",Zb="ng-animate-disabled",Mz=".ng-animate-disabled",Iz="ng-star-inserted",Pz=".ng-star-inserted",Oz=[],fT={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},xz={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Ai="__ng_removed",zu=class{namespaceId;value;options;get params(){return this.options.params}constructor(e,t=""){this.namespaceId=t;let i=e&&e.hasOwnProperty("value"),r=i?e.value:e;if(this.value=Dz(r),i){let o=e,{value:s}=o,a=B_(o,["value"]);this.options=a}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){let t=e.params;if(t){let i=this.options.params;Object.keys(t).forEach(r=>{i[r]==null&&(i[r]=t[r])})}}},Vu="void",Xb=new zu(Vu),cC=class{id;hostElement;_engine;players=[];_triggers=new Map;_queue=[];_elementListeners=new Map;_hostClassName;constructor(e,t,i){this.id=e,this.hostElement=t,this._engine=i,this._hostClassName="ng-tns-"+e,ai(t,this._hostClassName)}listen(e,t,i,r){if(!this._triggers.has(t))throw UD(i,t);if(i==null||i.length==0)throw zD(t);if(!Tz(i))throw $D(i,t);let o=kn(this._elementListeners,e,[]),s={name:t,phase:i,callback:r};o.push(s);let a=kn(this._engine.statesByElement,e,new Map);return a.has(t)||(ai(e,Fu),ai(e,Fu+"-"+t),a.set(t,Xb)),()=>{this._engine.afterFlush(()=>{let c=o.indexOf(s);c>=0&&o.splice(c,1),this._triggers.has(t)||a.delete(t)})}}register(e,t){return this._triggers.has(e)?!1:(this._triggers.set(e,t),!0)}_getTrigger(e){let t=this._triggers.get(e);if(!t)throw HD(e);return t}trigger(e,t,i,r=!0){let o=this._getTrigger(t),s=new $u(this.id,t,e),a=this._engine.statesByElement.get(e);a||(ai(e,Fu),ai(e,Fu+"-"+t),this._engine.statesByElement.set(e,a=new Map));let c=a.get(t),l=new zu(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&c&&l.absorbOptions(c.options),a.set(t,l),c||(c=Xb),!(l.value===Vu)&&c.value===l.value){if(!Rz(c.params,l.params)){let D=[],T=o.matchStyles(c.value,c.params,D),L=o.matchStyles(l.value,l.params,D);D.length?this._engine.reportError(D):this._engine.afterFlush(()=>{jo(e,T),Ti(e,L)})}return}let y=kn(this._engine.playersByElement,e,[]);y.forEach(D=>{D.namespaceId==this.id&&D.triggerName==t&&D.queued&&D.destroy()});let w=o.matchTransition(c.value,l.value,e,l.params),I=!1;if(!w){if(!r)return;w=o.fallbackTransition,I=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:w,fromState:c,toState:l,player:s,isFallbackTransition:I}),I||(ai(e,iT),s.onStart(()=>{Ac(e,iT)})),s.onDone(()=>{let D=this.players.indexOf(s);D>=0&&this.players.splice(D,1);let T=this._engine.playersByElement.get(e);if(T){let L=T.indexOf(s);L>=0&&T.splice(L,1)}}),this.players.push(s),y.push(s),s}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,i)=>{this._elementListeners.set(i,t.filter(r=>r.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);let t=this._engine.playersByElement.get(e);t&&(t.forEach(i=>i.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){let i=this._engine.driver.query(e,Bu,!0);i.forEach(r=>{if(r[Ai])return;let o=this._engine.fetchNamespacesByElement(r);o.size?o.forEach(s=>s.triggerLeaveAnimation(r,t,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(e,t,i,r){let o=this._engine.statesByElement.get(e),s=new Map;if(o){let a=[];if(o.forEach((c,l)=>{if(s.set(l,c.value),this._triggers.has(l)){let h=this.trigger(e,l,Vu,r);h&&a.push(h)}}),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,s),i&&Yr(a).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){let t=this._elementListeners.get(e),i=this._engine.statesByElement.get(e);if(t&&i){let r=new Set;t.forEach(o=>{let s=o.name;if(r.has(s))return;r.add(s);let c=this._triggers.get(s).fallbackTransition,l=i.get(s)||Xb,h=new zu(Vu),f=new $u(this.id,s,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:s,transition:c,fromState:l,toState:h,player:f,isFallbackTransition:!0})})}}removeNode(e,t){let i=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let r=!1;if(i.totalAnimations){let o=i.players.length?i.playersByQueriedElement.get(e):[];if(o&&o.length)r=!0;else{let s=e;for(;s=s.parentNode;)if(i.statesByElement.get(s)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(e),r)i.markElementAsRemoved(this.id,e,!1,t);else{let o=e[Ai];(!o||o===fT)&&(i.afterFlush(()=>this.clearElementCache(e)),i.destroyInnerAnimations(e),i._onRemovalComplete(e,t))}}insertNode(e,t){ai(e,this._hostClassName)}drainQueuedTransitions(e){let t=[];return this._queue.forEach(i=>{let r=i.player;if(r.destroyed)return;let o=i.element,s=this._elementListeners.get(o);s&&s.forEach(a=>{if(a.name==i.triggerName){let c=eg(o,i.triggerName,i.fromState.value,i.toState.value);c._data=e,Jh(i.player,a.phase,c,a.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):t.push(i)}),this._queue=[],t.sort((i,r)=>{let o=i.transition.ast.depCount,s=r.transition.ast.depCount;return o==0||s==0?o-s:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}},lC=class{bodyNode;driver;_normalizer;players=[];newHostElements=new Map;playersByElement=new Map;playersByQueriedElement=new Map;statesByElement=new Map;disabledNodes=new Set;totalAnimations=0;totalQueuedPlayers=0;_namespaceLookup={};_namespaceList=[];_flushFns=[];_whenQuietFns=[];namespacesByHostElement=new Map;collectedEnterElements=[];collectedLeaveElements=[];onRemovalComplete=(e,t)=>{};_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}constructor(e,t,i){this.bodyNode=e,this.driver=t,this._normalizer=i}get queuedPlayers(){let e=[];return this._namespaceList.forEach(t=>{t.players.forEach(i=>{i.queued&&e.push(i)})}),e}createNamespace(e,t){let i=new cC(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(i,t):(this.newHostElements.set(t,i),this.collectEnterElement(t)),this._namespaceLookup[e]=i}_balanceNamespaceList(e,t){let i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let s=!1,a=this.driver.getParentElement(t);for(;a;){let c=r.get(a);if(c){let l=i.indexOf(c);i.splice(l+1,0,e),s=!0;break}a=this.driver.getParentElement(a)}s||i.unshift(e)}else i.push(e);return r.set(t,e),e}register(e,t){let i=this._namespaceLookup[e];return i||(i=this.createNamespace(e,t)),i}registerTrigger(e,t,i){let r=this._namespaceLookup[e];r&&r.register(t,i)&&this.totalAnimations++}destroy(e,t){e&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{let i=this._fetchNamespace(e);this.namespacesByHostElement.delete(i.hostElement);let r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1),i.destroy(t),delete this._namespaceLookup[e]}))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){let t=new Set,i=this.statesByElement.get(e);if(i){for(let r of i.values())if(r.namespaceId){let o=this._fetchNamespace(r.namespaceId);o&&t.add(o)}}return t}trigger(e,t,i,r){if(cg(t)){let o=this._fetchNamespace(e);if(o)return o.trigger(t,i,r),!0}return!1}insertNode(e,t,i,r){if(!cg(t))return;let o=t[Ai];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;let s=this.collectedLeaveElements.indexOf(t);s>=0&&this.collectedLeaveElements.splice(s,1)}if(e){let s=this._fetchNamespace(e);s&&s.insertNode(t,i)}r&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),ai(e,Zb)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Ac(e,Zb))}removeNode(e,t,i){if(cg(t)){let r=e?this._fetchNamespace(e):null;r?r.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i);let o=this.namespacesByHostElement.get(t);o&&o.id!==e&&o.removeNode(t,i)}else this._onRemovalComplete(t,i)}markElementAsRemoved(e,t,i,r,o){this.collectedLeaveElements.push(t),t[Ai]={namespaceId:e,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:o}}listen(e,t,i,r,o){return cg(t)?this._fetchNamespace(e).listen(t,i,r,o):()=>{}}_buildInstruction(e,t,i,r,o){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,i,r,e.fromState.options,e.toState.options,t,o)}destroyInnerAnimations(e){let t=this.driver.query(e,Bu,!0);t.forEach(i=>this.destroyActiveAnimationsForElement(i)),this.playersByQueriedElement.size!=0&&(t=this.driver.query(e,ig,!0),t.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(e){let t=this.playersByElement.get(e);t&&t.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(e){let t=this.playersByQueriedElement.get(e);t&&t.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Yr(this.players).onDone(()=>e());e()})}processLeaveNode(e){let t=e[Ai];if(t&&t.setForRemoval){if(e[Ai]=fT,t.namespaceId){this.destroyInnerAnimations(e);let i=this._fetchNamespace(t.namespaceId);i&&i.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(Zb)&&this.markElementAsDisabled(e,!1),this.driver.query(e,Mz,!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++){let r=this.collectedEnterElements[i];ai(r,Iz)}if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){let i=[];try{t=this._flushAnimations(i,e)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++){let r=this.collectedLeaveElements[i];this.processLeaveNode(r)}if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){let i=this._whenQuietFns;this._whenQuietFns=[],t.length?Yr(t).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(e){throw WD(e)}_flushAnimations(e,t){let i=new Uu,r=[],o=new Map,s=[],a=new Map,c=new Map,l=new Map,h=new Set;this.disabledNodes.forEach(Q=>{h.add(Q);let ne=this.driver.query(Q,Ez,!0);for(let re=0;re<ne.length;re++)h.add(ne[re])});let f=this.bodyNode,y=Array.from(this.statesByElement.keys()),w=sT(y,this.collectedEnterElements),I=new Map,D=0;w.forEach((Q,ne)=>{let re=Gb+D++;I.set(ne,re),Q.forEach(Ee=>ai(Ee,re))});let T=[],L=new Set,Z=new Set;for(let Q=0;Q<this.collectedLeaveElements.length;Q++){let ne=this.collectedLeaveElements[Q],re=ne[Ai];re&&re.setForRemoval&&(T.push(ne),L.add(ne),re.hasAnimation?this.driver.query(ne,Pz,!0).forEach(Ee=>L.add(Ee)):Z.add(ne))}let le=new Map,te=sT(y,Array.from(L));te.forEach((Q,ne)=>{let re=ng+D++;le.set(ne,re),Q.forEach(Ee=>ai(Ee,re))}),e.push(()=>{w.forEach((Q,ne)=>{let re=I.get(ne);Q.forEach(Ee=>Ac(Ee,re))}),te.forEach((Q,ne)=>{let re=le.get(ne);Q.forEach(Ee=>Ac(Ee,re))}),T.forEach(Q=>{this.processLeaveNode(Q)})});let rt=[],We=[];for(let Q=this._namespaceList.length-1;Q>=0;Q--)this._namespaceList[Q].drainQueuedTransitions(t).forEach(re=>{let Ee=re.player,Qe=re.element;if(rt.push(Ee),this.collectedEnterElements.length){let Ot=Qe[Ai];if(Ot&&Ot.setForMove){if(Ot.previousTriggersValues&&Ot.previousTriggersValues.has(re.triggerName)){let gi=Ot.previousTriggersValues.get(re.triggerName),Mn=this.statesByElement.get(re.element);if(Mn&&Mn.has(re.triggerName)){let co=Mn.get(re.triggerName);co.value=gi,Mn.set(re.triggerName,co)}}Ee.destroy();return}}let Kt=!f||!this.driver.containsElement(f,Qe),Pt=le.get(Qe),Wi=I.get(Qe),Ge=this._buildInstruction(re,i,Wi,Pt,Kt);if(Ge.errors&&Ge.errors.length){We.push(Ge);return}if(Kt){Ee.onStart(()=>jo(Qe,Ge.fromStyles)),Ee.onDestroy(()=>Ti(Qe,Ge.toStyles)),r.push(Ee);return}if(re.isFallbackTransition){Ee.onStart(()=>jo(Qe,Ge.fromStyles)),Ee.onDestroy(()=>Ti(Qe,Ge.toStyles)),r.push(Ee);return}let ao=[];Ge.timelines.forEach(Ot=>{Ot.stretchStartingKeyframe=!0,this.disabledNodes.has(Ot.element)||ao.push(Ot)}),Ge.timelines=ao,i.append(Qe,Ge.timelines);let Zd={instruction:Ge,player:Ee,element:Qe};s.push(Zd),Ge.queriedElements.forEach(Ot=>kn(a,Ot,[]).push(Ee)),Ge.preStyleProps.forEach((Ot,gi)=>{if(Ot.size){let Mn=c.get(gi);Mn||c.set(gi,Mn=new Set),Ot.forEach((co,fs)=>Mn.add(fs))}}),Ge.postStyleProps.forEach((Ot,gi)=>{let Mn=l.get(gi);Mn||l.set(gi,Mn=new Set),Ot.forEach((co,fs)=>Mn.add(fs))})});if(We.length){let Q=[];We.forEach(ne=>{Q.push(GD(ne.triggerName,ne.errors))}),rt.forEach(ne=>ne.destroy()),this.reportError(Q)}let tt=new Map,ht=new Map;s.forEach(Q=>{let ne=Q.element;i.has(ne)&&(ht.set(ne,ne),this._beforeAnimationBuild(Q.player.namespaceId,Q.instruction,tt))}),r.forEach(Q=>{let ne=Q.element;this._getPreviousPlayers(ne,!1,Q.namespaceId,Q.triggerName,null).forEach(Ee=>{kn(tt,ne,[]).push(Ee),Ee.destroy()})});let ot=T.filter(Q=>aT(Q,c,l)),En=new Map;oT(En,this.driver,Z,l,Di).forEach(Q=>{aT(Q,c,l)&&ot.push(Q)});let be=new Map;w.forEach((Q,ne)=>{oT(be,this.driver,new Set(Q),c,Lu)}),ot.forEach(Q=>{let ne=En.get(Q),re=be.get(Q);En.set(Q,new Map([...ne?.entries()??[],...re?.entries()??[]]))});let Hi=[],Qd=[],vl={};s.forEach(Q=>{let{element:ne,player:re,instruction:Ee}=Q;if(i.has(ne)){if(h.has(ne)){re.onDestroy(()=>Ti(ne,Ee.toStyles)),re.disabled=!0,re.overrideTotalTime(Ee.totalTime),r.push(re);return}let Qe=vl;if(ht.size>1){let Pt=ne,Wi=[];for(;Pt=Pt.parentNode;){let Ge=ht.get(Pt);if(Ge){Qe=Ge;break}Wi.push(Pt)}Wi.forEach(Ge=>ht.set(Ge,Qe))}let Kt=this._buildAnimation(re.namespaceId,Ee,tt,o,be,En);if(re.setRealPlayer(Kt),Qe===vl)Hi.push(re);else{let Pt=this.playersByElement.get(Qe);Pt&&Pt.length&&(re.parentPlayer=Yr(Pt)),r.push(re)}}else jo(ne,Ee.fromStyles),re.onDestroy(()=>Ti(ne,Ee.toStyles)),Qd.push(re),h.has(ne)&&r.push(re)}),Qd.forEach(Q=>{let ne=o.get(Q.element);if(ne&&ne.length){let re=Yr(ne);Q.setRealPlayer(re)}}),r.forEach(Q=>{Q.parentPlayer?Q.syncPlayerEvents(Q.parentPlayer):Q.destroy()});for(let Q=0;Q<T.length;Q++){let ne=T[Q],re=ne[Ai];if(Ac(ne,ng),re&&re.hasAnimation)continue;let Ee=[];if(a.size){let Kt=a.get(ne);Kt&&Kt.length&&Ee.push(...Kt);let Pt=this.driver.query(ne,ig,!0);for(let Wi=0;Wi<Pt.length;Wi++){let Ge=a.get(Pt[Wi]);Ge&&Ge.length&&Ee.push(...Ge)}}let Qe=Ee.filter(Kt=>!Kt.destroyed);Qe.length?Az(this,ne,Qe):this.processLeaveNode(ne)}return T.length=0,Hi.forEach(Q=>{this.players.push(Q),Q.onDone(()=>{Q.destroy();let ne=this.players.indexOf(Q);this.players.splice(ne,1)}),Q.play()}),Hi}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,i,r,o){let s=[];if(t){let a=this.playersByQueriedElement.get(e);a&&(s=a)}else{let a=this.playersByElement.get(e);if(a){let c=!o||o==Vu;a.forEach(l=>{l.queued||!c&&l.triggerName!=r||s.push(l)})}}return(i||r)&&(s=s.filter(a=>!(i&&i!=a.namespaceId||r&&r!=a.triggerName))),s}_beforeAnimationBuild(e,t,i){let r=t.triggerName,o=t.element,s=t.isRemovalTransition?void 0:e,a=t.isRemovalTransition?void 0:r;for(let c of t.timelines){let l=c.element,h=l!==o,f=kn(i,l,[]);this._getPreviousPlayers(l,h,s,a,t.toState).forEach(w=>{let I=w.getRealPlayer();I.beforeDestroy&&I.beforeDestroy(),w.destroy(),f.push(w)})}jo(o,t.fromStyles)}_buildAnimation(e,t,i,r,o,s){let a=t.triggerName,c=t.element,l=[],h=new Set,f=new Set,y=t.timelines.map(I=>{let D=I.element;h.add(D);let T=D[Ai];if(T&&T.removedBeforeQueried)return new Kr(I.duration,I.delay);let L=D!==c,Z=kz((i.get(D)||Oz).map(tt=>tt.getRealPlayer())).filter(tt=>{let ht=tt;return ht.element?ht.element===D:!1}),le=o.get(D),te=s.get(D),rt=Ub(this._normalizer,I.keyframes,le,te),We=this._buildPlayer(I,rt,Z);if(I.subTimeline&&r&&f.add(D),L){let tt=new $u(e,a,D);tt.setRealPlayer(We),l.push(tt)}return We});l.forEach(I=>{kn(this.playersByQueriedElement,I.element,[]).push(I),I.onDone(()=>Sz(this.playersByQueriedElement,I.element,I))}),h.forEach(I=>ai(I,qb));let w=Yr(y);return w.onDestroy(()=>{h.forEach(I=>Ac(I,qb)),Ti(c,t.toStyles)}),f.forEach(I=>{kn(r,I,[]).push(w)}),w}_buildPlayer(e,t,i){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,i):new Kr(e.duration,e.delay)}},$u=class{namespaceId;triggerName;element;_player=new Kr;_containsRealPlayer=!1;_queuedCallbacks=new Map;destroyed=!1;parentPlayer=null;markedForDestroy=!1;disabled=!1;queued=!0;totalTime=0;constructor(e,t,i){this.namespaceId=e,this.triggerName=t,this.element=i}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,i)=>{t.forEach(r=>Jh(e,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){let t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){kn(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return this.queued?!1:this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){let t=this._player;t.triggerCallback&&t.triggerCallback(e)}};function Sz(n,e,t){let i=n.get(e);if(i){if(i.length){let r=i.indexOf(t);i.splice(r,1)}i.length==0&&n.delete(e)}return i}function Dz(n){return n??null}function cg(n){return n&&n.nodeType===1}function Tz(n){return n=="start"||n=="done"}function rT(n,e){let t=n.style.display;return n.style.display=e??"none",t}function oT(n,e,t,i,r){let o=[];t.forEach(c=>o.push(rT(c)));let s=[];i.forEach((c,l)=>{let h=new Map;c.forEach(f=>{let y=e.computeStyle(l,f,r);h.set(f,y),(!y||y.length==0)&&(l[Ai]=xz,s.push(l))}),n.set(l,h)});let a=0;return t.forEach(c=>rT(c,o[a++])),s}function sT(n,e){let t=new Map;if(n.forEach(a=>t.set(a,[])),e.length==0)return t;let i=1,r=new Set(e),o=new Map;function s(a){if(!a)return i;let c=o.get(a);if(c)return c;let l=a.parentNode;return t.has(l)?c=l:r.has(l)?c=i:c=s(l),o.set(a,c),c}return e.forEach(a=>{let c=s(a);c!==i&&t.get(c).push(a)}),t}function ai(n,e){n.classList?.add(e)}function Ac(n,e){n.classList?.remove(e)}function Az(n,e,t){Yr(t).onDone(()=>n.processLeaveNode(e))}function kz(n){let e=[];return pT(n,e),e}function pT(n,e){for(let t=0;t<n.length;t++){let i=n[t];i instanceof Sc?pT(i.players,e):e.push(i)}}function Rz(n,e){let t=Object.keys(n),i=Object.keys(e);if(t.length!=i.length)return!1;for(let r=0;r<t.length;r++){let o=t[r];if(!e.hasOwnProperty(o)||n[o]!==e[o])return!1}return!0}function aT(n,e,t){let i=t.get(n);if(!i)return!1;let r=e.get(n);return r?i.forEach(o=>r.add(o)):e.set(n,i),t.delete(n),!0}var kc=class{_driver;_normalizer;_transitionEngine;_timelineEngine;_triggerCache={};onRemovalComplete=(e,t)=>{};constructor(e,t,i){this._driver=t,this._normalizer=i,this._transitionEngine=new lC(e.body,t,i),this._timelineEngine=new aC(e.body,t,i),this._transitionEngine.onRemovalComplete=(r,o)=>this.onRemovalComplete(r,o)}registerTrigger(e,t,i,r,o){let s=e+"-"+r,a=this._triggerCache[s];if(!a){let c=[],l=[],h=lT(this._driver,o,c,l);if(c.length)throw LD(r,c);a=bz(r,h,this._normalizer),this._triggerCache[s]=a}this._transitionEngine.registerTrigger(t,r,a)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,i,r){this._transitionEngine.insertNode(e,t,i,r)}onRemove(e,t,i){this._transitionEngine.removeNode(e,t,i)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,i,r){if(i.charAt(0)=="@"){let[o,s]=zb(i),a=r;this._timelineEngine.command(o,t,s,a)}else this._transitionEngine.trigger(e,t,i,r)}listen(e,t,i,r,o){if(i.charAt(0)=="@"){let[s,a]=zb(i);return this._timelineEngine.listen(s,t,a,o)}return this._transitionEngine.listen(e,t,i,r,o)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e)}};function Nz(n,e){let t=null,i=null;return Array.isArray(e)&&e.length?(t=Jb(e[0]),e.length>1&&(i=Jb(e[e.length-1]))):e instanceof Map&&(t=Jb(e)),t||i?new Lz(n,t,i):null}var Lz=(()=>{class n{_element;_startStyles;_endStyles;static initialStylesByElement=new WeakMap;_state=0;_initialStyles;constructor(t,i,r){this._element=t,this._startStyles=i,this._endStyles=r;let o=n.initialStylesByElement.get(t);o||n.initialStylesByElement.set(t,o=new Map),this._initialStyles=o}start(){this._state<1&&(this._startStyles&&Ti(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Ti(this._element,this._initialStyles),this._endStyles&&(Ti(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(jo(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(jo(this._element,this._endStyles),this._endStyles=null),Ti(this._element,this._initialStyles),this._state=3)}}return n})();function Jb(n){let e=null;return n.forEach((t,i)=>{Fz(i)&&(e=e||new Map,e.set(i,t))}),e}function Fz(n){return n==="display"||n==="position"}var gg=class{element;keyframes;options;_specialStyles;_onDoneFns=[];_onStartFns=[];_onDestroyFns=[];_duration;_delay;_initialized=!1;_finished=!1;_started=!1;_destroyed=!1;_finalKeyframe;_originalOnDoneFns=[];_originalOnStartFns=[];domPlayer=null;time=0;parentPlayer=null;currentSnapshot=new Map;constructor(e,t,i,r){this.element=e,this.keyframes=t,this.options=i,this._specialStyles=r,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer()&&this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return this.domPlayer;this._initialized=!0;let e=this.keyframes,t=this._triggerWebAnimation(this.element,e,this.options);if(!t)return this._onFinish(),null;this.domPlayer=t,this._finalKeyframe=e.length?e[e.length-1]:new Map;let i=()=>this._onFinish();return t.addEventListener("finish",i),this.onDestroy(()=>{t.removeEventListener("finish",i)}),t}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer?.pause()}_convertKeyframesToObject(e){let t=[];return e.forEach(i=>{t.push(Object.fromEntries(i))}),t}_triggerWebAnimation(e,t,i){let r=this._convertKeyframesToObject(t);try{return e.animate(r,i)}catch{return null}}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){let e=this._buildPlayer();e&&(this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),e.play())}pause(){this.init(),this.domPlayer?.pause()}finish(){this.init(),this.domPlayer&&(this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish())}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer?.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){this.domPlayer||this.init(),this.domPlayer&&(this.domPlayer.currentTime=e*this.time)}getPosition(){return this.domPlayer?+(this.domPlayer.currentTime??0)/this.time:this._initialized?1:0}get totalTime(){return this._delay+this._duration}beforeDestroy(){let e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{r!=="offset"&&e.set(r,this._finished?i:og(this.element,r))}),this.currentSnapshot=e}triggerCallback(e){let t=e==="start"?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}},mg=class{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}containsElement(e,t){return $b(e,t)}getParentElement(e){return tg(e)}query(e,t,i){return Hb(e,t,i)}computeStyle(e,t,i){return og(e,t)}animate(e,t,i,r,o,s=[]){let a=r==0?"both":"forwards",c={duration:i,delay:r,fill:a};o&&(c.easing=o);let l=new Map,h=s.filter(w=>w instanceof gg);QD(i,r)&&h.forEach(w=>{w.currentSnapshot.forEach((I,D)=>l.set(D,I))});let f=KD(t).map(w=>new Map(w));f=ZD(e,f,l);let y=Nz(e,f);return new gg(e,f,c,y)}};var lg="@",hT="@.disabled",_g=class{namespaceId;delegate;engine;_onDestroy;\u0275type=0;constructor(e,t,i,r){this.namespaceId=e,this.delegate=t,this.engine=i,this._onDestroy=r}get data(){return this.delegate.data}destroyNode(e){this.delegate.destroyNode?.(e)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,i,r=!0){this.delegate.insertBefore(e,t,i),this.engine.onInsert(this.namespaceId,t,e,r)}removeChild(e,t,i,r){if(r){this.delegate.removeChild(e,t,i,r);return}this.parentNode(t)&&this.engine.onRemove(this.namespaceId,t,this.delegate)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,i,r){this.delegate.setAttribute(e,t,i,r)}removeAttribute(e,t,i){this.delegate.removeAttribute(e,t,i)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,i,r){this.delegate.setStyle(e,t,i,r)}removeStyle(e,t,i){this.delegate.removeStyle(e,t,i)}setProperty(e,t,i){t.charAt(0)==lg&&t==hT?this.disableAnimations(e,!!i):this.delegate.setProperty(e,t,i)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,i,r){return this.delegate.listen(e,t,i,r)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}},uC=class extends _g{factory;constructor(e,t,i,r,o){super(t,i,r,o),this.factory=e,this.namespaceId=t}setProperty(e,t,i){t.charAt(0)==lg?t.charAt(1)=="."&&t==hT?(i=i===void 0?!0:!!i,this.disableAnimations(e,i)):this.engine.process(this.namespaceId,e,t.slice(1),i):this.delegate.setProperty(e,t,i)}listen(e,t,i,r){if(t.charAt(0)==lg){let o=Bz(e),s=t.slice(1),a="";return s.charAt(0)!=lg&&([s,a]=jz(s)),this.engine.listen(this.namespaceId,o,s,a,c=>{let l=c._data||-1;this.factory.scheduleListenerCallback(l,i,c)})}return this.delegate.listen(e,t,i,r)}};function Bz(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}function jz(n){let e=n.indexOf("."),t=n.substring(0,e),i=n.slice(e+1);return[t,i]}var vg=class{delegate;engine;_zone;_currentId=0;_microtaskId=1;_animationCallbacksBuffer=[];_rendererCache=new Map;_cdRecurDepth=0;constructor(e,t,i){this.delegate=e,this.engine=t,this._zone=i,t.onRemovalComplete=(r,o)=>{o?.removeChild(null,r)}}createRenderer(e,t){let r=this.delegate.createRenderer(e,t);if(!e||!t?.data?.animation){let l=this._rendererCache,h=l.get(r);if(!h){let f=()=>l.delete(r);h=new _g("",r,this.engine,f),l.set(r,h)}return h}let o=t.id,s=t.id+"-"+this._currentId;this._currentId++,this.engine.register(s,e);let a=l=>{Array.isArray(l)?l.forEach(a):this.engine.registerTrigger(o,s,e,l.name,l)};return t.data.animation.forEach(a),new uC(this,s,r,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(e,t,i){if(e>=0&&e<this._microtaskId){this._zone.run(()=>t(i));return}let r=this._animationCallbacksBuffer;r.length==0&&queueMicrotask(()=>{this._zone.run(()=>{r.forEach(o=>{let[s,a]=o;s(a)}),this._animationCallbacksBuffer=[]})}),r.push([t,i])}end(){this._cdRecurDepth--,this._cdRecurDepth==0&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}componentReplaced(e){this.engine.flush(),this.delegate.componentReplaced?.(e)}};var Uz=(()=>{class n extends kc{constructor(t,i,r){super(t,i,r)}ngOnDestroy(){this.flush()}static \u0275fac=function(i){return new(i||n)(q(gt),q(ta),q(na))};static \u0275prov=$({token:n,factory:n.\u0275fac})}return n})();function zz(){return new ug}function $z(n,e,t){return new vg(n,e,t)}var gT=[{provide:na,useFactory:zz},{provide:kc,useClass:Uz},{provide:zr,useFactory:$z,deps:[hu,kc,ke]}],ime=[{provide:ta,useClass:dC},{provide:Yp,useValue:"NoopAnimations"},...gT],Hz=[{provide:ta,useFactory:()=>new mg},{provide:Yp,useFactory:()=>"BrowserAnimations"},...gT];function mT(){return Un("NgEagerAnimations"),[...Hz]}var Uo=class{},_T=(()=>{class n extends Uo{getTranslation(t){return U({})}static \u0275fac=(()=>{let t;return function(r){return(t||(t=Sn(n)))(r||n)}})();static \u0275prov=$({token:n,factory:n.\u0275fac})}return n})(),Hu=class{},vT=(()=>{class n{handle(t){return t.key}static \u0275fac=function(i){return new(i||n)};static \u0275prov=$({token:n,factory:n.\u0275fac})}return n})();function yg(n,e){if(n===e)return!0;if(n===null||e===null)return!1;if(n!==n&&e!==e)return!0;let t=typeof n,i=typeof e,r,o,s;if(t==i&&t=="object")if(Array.isArray(n)){if(!Array.isArray(e))return!1;if((r=n.length)==e.length){for(o=0;o<r;o++)if(!yg(n[o],e[o]))return!1;return!0}}else{if(Array.isArray(e))return!1;s=Object.create(null);for(o in n){if(!yg(n[o],e[o]))return!1;s[o]=!0}for(o in e)if(!(o in s)&&typeof e[o]<"u")return!1;return!0}return!1}function Vo(n){return typeof n<"u"&&n!==null}function pC(n){return n&&typeof n=="object"&&!Array.isArray(n)}function CT(n,e){let t=Object.assign({},n);return pC(n)&&pC(e)&&Object.keys(e).forEach(i=>{pC(e[i])?i in n?t[i]=CT(n[i],e[i]):Object.assign(t,{[i]:e[i]}):Object.assign(t,{[i]:e[i]})}),t}var Rc=class{},yT=(()=>{class n extends Rc{templateMatcher=/{{\s?([^{}\s]*)\s?}}/g;interpolate(t,i){let r;return typeof t=="string"?r=this.interpolateString(t,i):typeof t=="function"?r=this.interpolateFunction(t,i):r=t,r}getValue(t,i){let r=typeof i=="string"?i.split("."):[i];i="";do i+=r.shift(),Vo(t)&&Vo(t[i])&&(typeof t[i]=="object"||!r.length)?(t=t[i],i=""):r.length?i+=".":t=void 0;while(r.length);return t}interpolateFunction(t,i){return t(i)}interpolateString(t,i){return i?t.replace(this.templateMatcher,(r,o)=>{let s=this.getValue(i,o);return Vo(s)?s:r}):t}static \u0275fac=(()=>{let t;return function(r){return(t||(t=Sn(n)))(r||n)}})();static \u0275prov=$({token:n,factory:n.\u0275fac})}return n})(),Nc=class{},bT=(()=>{class n extends Nc{compile(t,i){return t}compileTranslations(t,i){return t}static \u0275fac=(()=>{let t;return function(r){return(t||(t=Sn(n)))(r||n)}})();static \u0275prov=$({token:n,factory:n.\u0275fac})}return n})(),bg=class{defaultLang;currentLang=this.defaultLang;translations={};langs=[];onTranslationChange=new nt;onLangChange=new nt;onDefaultLangChange=new nt},hC=new G("USE_STORE"),gC=new G("USE_DEFAULT_LANG"),mC=new G("DEFAULT_LANGUAGE"),_C=new G("USE_EXTEND"),Wu=(()=>{class n{store;currentLoader;compiler;parser;missingTranslationHandler;useDefaultLang;isolate;extend;loadingTranslations;pending=!1;_onTranslationChange=new nt;_onLangChange=new nt;_onDefaultLangChange=new nt;_defaultLang;_currentLang;_langs=[];_translations={};_translationRequests={};get onTranslationChange(){return this.isolate?this._onTranslationChange:this.store.onTranslationChange}get onLangChange(){return this.isolate?this._onLangChange:this.store.onLangChange}get onDefaultLangChange(){return this.isolate?this._onDefaultLangChange:this.store.onDefaultLangChange}get defaultLang(){return this.isolate?this._defaultLang:this.store.defaultLang}set defaultLang(t){this.isolate?this._defaultLang=t:this.store.defaultLang=t}get currentLang(){return this.isolate?this._currentLang:this.store.currentLang}set currentLang(t){this.isolate?this._currentLang=t:this.store.currentLang=t}get langs(){return this.isolate?this._langs:this.store.langs}set langs(t){this.isolate?this._langs=t:this.store.langs=t}get translations(){return this.isolate?this._translations:this.store.translations}set translations(t){this.isolate?this._translations=t:this.store.translations=t}constructor(t,i,r,o,s,a=!0,c=!1,l=!1,h){this.store=t,this.currentLoader=i,this.compiler=r,this.parser=o,this.missingTranslationHandler=s,this.useDefaultLang=a,this.isolate=c,this.extend=l,h&&this.setDefaultLang(h)}setDefaultLang(t){if(t===this.defaultLang)return;let i=this.retrieveTranslations(t);typeof i<"u"?(this.defaultLang==null&&(this.defaultLang=t),i.pipe(ut(1)).subscribe(r=>{this.changeDefaultLang(t)})):this.changeDefaultLang(t)}getDefaultLang(){return this.defaultLang}use(t){if(t===this.currentLang)return U(this.translations[t]);let i=this.retrieveTranslations(t);return typeof i<"u"?(this.currentLang||(this.currentLang=t),i.pipe(ut(1)).subscribe(r=>{this.changeLang(t)}),i):(this.changeLang(t),U(this.translations[t]))}retrieveTranslations(t){let i;return(typeof this.translations[t]>"u"||this.extend)&&(this._translationRequests[t]=this._translationRequests[t]||this.getTranslation(t),i=this._translationRequests[t]),i}getTranslation(t){this.pending=!0;let i=this.currentLoader.getTranslation(t).pipe(qf(1),ut(1));return this.loadingTranslations=i.pipe(K(r=>this.compiler.compileTranslations(r,t)),qf(1),ut(1)),this.loadingTranslations.subscribe({next:r=>{this.translations[t]=this.extend&&this.translations[t]?F(F({},r),this.translations[t]):r,this.updateLangs(),this.pending=!1},error:r=>{this.pending=!1}}),i}setTranslation(t,i,r=!1){i=this.compiler.compileTranslations(i,t),(r||this.extend)&&this.translations[t]?this.translations[t]=CT(this.translations[t],i):this.translations[t]=i,this.updateLangs(),this.onTranslationChange.emit({lang:t,translations:this.translations[t]})}getLangs(){return this.langs}addLangs(t){t.forEach(i=>{this.langs.indexOf(i)===-1&&this.langs.push(i)})}updateLangs(){this.addLangs(Object.keys(this.translations))}getParsedResult(t,i,r){let o;if(i instanceof Array){let s={},a=!1;for(let c of i)s[c]=this.getParsedResult(t,c,r),vi(s[c])&&(a=!0);if(a){let c=i.map(l=>vi(s[l])?s[l]:U(s[l]));return Ar(c).pipe(K(l=>{let h={};return l.forEach((f,y)=>{h[i[y]]=f}),h}))}return s}if(t&&(o=this.parser.interpolate(this.parser.getValue(t,i),r)),typeof o>"u"&&this.defaultLang!=null&&this.defaultLang!==this.currentLang&&this.useDefaultLang&&(o=this.parser.interpolate(this.parser.getValue(this.translations[this.defaultLang],i),r)),typeof o>"u"){let s={key:i,translateService:this};typeof r<"u"&&(s.interpolateParams=r),o=this.missingTranslationHandler.handle(s)}return typeof o<"u"?o:i}get(t,i){if(!Vo(t)||!t.length)throw new Error('Parameter "key" required');if(this.pending)return this.loadingTranslations.pipe(Qn(r=>(r=this.getParsedResult(r,t,i),vi(r)?r:U(r))));{let r=this.getParsedResult(this.translations[this.currentLang],t,i);return vi(r)?r:U(r)}}getStreamOnTranslationChange(t,i){if(!Vo(t)||!t.length)throw new Error('Parameter "key" required');return Tr(Fe(()=>this.get(t,i)),this.onTranslationChange.pipe(Me(r=>{let o=this.getParsedResult(r.translations,t,i);return typeof o.subscribe=="function"?o:U(o)})))}stream(t,i){if(!Vo(t)||!t.length)throw new Error('Parameter "key" required');return Tr(Fe(()=>this.get(t,i)),this.onLangChange.pipe(Me(r=>{let o=this.getParsedResult(r.translations,t,i);return vi(o)?o:U(o)})))}instant(t,i){if(!Vo(t)||!t.length)throw new Error('Parameter "key" required');let r=this.getParsedResult(this.translations[this.currentLang],t,i);if(vi(r)){if(t instanceof Array){let o={};return t.forEach((s,a)=>{o[t[a]]=t[a]}),o}return t}else return r}set(t,i,r=this.currentLang){this.translations[r][t]=this.compiler.compile(i,r),this.updateLangs(),this.onTranslationChange.emit({lang:r,translations:this.translations[r]})}changeLang(t){this.currentLang=t,this.onLangChange.emit({lang:t,translations:this.translations[t]}),this.defaultLang==null&&this.changeDefaultLang(t)}changeDefaultLang(t){this.defaultLang=t,this.onDefaultLangChange.emit({lang:t,translations:this.translations[t]})}reloadLang(t){return this.resetLang(t),this.getTranslation(t)}resetLang(t){this._translationRequests[t]=void 0,this.translations[t]=void 0}getBrowserLang(){if(typeof window>"u"||typeof window.navigator>"u")return;let t=window.navigator.languages?window.navigator.languages[0]:null;if(t=t||window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage,!(typeof t>"u"))return t.indexOf("-")!==-1&&(t=t.split("-")[0]),t.indexOf("_")!==-1&&(t=t.split("_")[0]),t}getBrowserCultureLang(){if(typeof window>"u"||typeof window.navigator>"u")return;let t=window.navigator.languages?window.navigator.languages[0]:null;return t=t||window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage,t}static \u0275fac=function(i){return new(i||n)(q(bg),q(Uo),q(Nc),q(Rc),q(Hu),q(gC),q(hC),q(_C),q(mC))};static \u0275prov=$({token:n,factory:n.\u0275fac})}return n})();var Ne=(()=>{class n{translate;_ref;value="";lastKey=null;lastParams=[];onTranslationChange;onLangChange;onDefaultLangChange;constructor(t,i){this.translate=t,this._ref=i}updateValue(t,i,r){let o=s=>{this.value=s!==void 0?s:t,this.lastKey=t,this._ref.markForCheck()};if(r){let s=this.translate.getParsedResult(r,t,i);vi(s.subscribe)?s.subscribe(o):o(s)}this.translate.get(t,i).subscribe(o)}transform(t,...i){if(!t||!t.length)return t;if(yg(t,this.lastKey)&&yg(i,this.lastParams))return this.value;let r;if(Vo(i[0])&&i.length)if(typeof i[0]=="string"&&i[0].length){let o=i[0].replace(/(\')?([a-zA-Z0-9_]+)(\')?(\s)?:/g,'"$2":').replace(/:(\s)?(\')(.*?)(\')/g,':"$3"');try{r=JSON.parse(o)}catch{throw new SyntaxError(`Wrong parameter in TranslatePipe. Expected a valid Object, received: ${i[0]}`)}}else typeof i[0]=="object"&&!Array.isArray(i[0])&&(r=i[0]);return this.lastKey=t,this.lastParams=i,this.updateValue(t,r),this._dispose(),this.onTranslationChange||(this.onTranslationChange=this.translate.onTranslationChange.subscribe(o=>{this.lastKey&&o.lang===this.translate.currentLang&&(this.lastKey=null,this.updateValue(t,r,o.translations))})),this.onLangChange||(this.onLangChange=this.translate.onLangChange.subscribe(o=>{this.lastKey&&(this.lastKey=null,this.updateValue(t,r,o.translations))})),this.onDefaultLangChange||(this.onDefaultLangChange=this.translate.onDefaultLangChange.subscribe(()=>{this.lastKey&&(this.lastKey=null,this.updateValue(t,r))})),this.value}_dispose(){typeof this.onTranslationChange<"u"&&(this.onTranslationChange.unsubscribe(),this.onTranslationChange=void 0),typeof this.onLangChange<"u"&&(this.onLangChange.unsubscribe(),this.onLangChange=void 0),typeof this.onDefaultLangChange<"u"&&(this.onDefaultLangChange.unsubscribe(),this.onDefaultLangChange=void 0)}ngOnDestroy(){this._dispose()}static \u0275fac=function(i){return new(i||n)(B(Wu,16),B(rr,16))};static \u0275pipe=ah({name:"translate",type:n,pure:!1,standalone:!1});static \u0275prov=$({token:n,factory:n.\u0275fac})}return n})(),Pe=(()=>{class n{static forRoot(t={}){return{ngModule:n,providers:[t.loader||{provide:Uo,useClass:_T},t.compiler||{provide:Nc,useClass:bT},t.parser||{provide:Rc,useClass:yT},t.missingTranslationHandler||{provide:Hu,useClass:vT},bg,{provide:hC,useValue:t.isolate},{provide:gC,useValue:t.useDefaultLang},{provide:_C,useValue:t.extend},{provide:mC,useValue:t.defaultLanguage},Wu]}}static forChild(t={}){return{ngModule:n,providers:[t.loader||{provide:Uo,useClass:_T},t.compiler||{provide:Nc,useClass:bT},t.parser||{provide:Rc,useClass:yT},t.missingTranslationHandler||{provide:Hu,useClass:vT},{provide:hC,useValue:t.isolate},{provide:gC,useValue:t.useDefaultLang},{provide:_C,useValue:t.extend},{provide:mC,useValue:t.defaultLanguage},Wu]}}static \u0275fac=function(i){return new(i||n)};static \u0275mod=_n({type:n});static \u0275inj=un({})}return n})();var Cg=class{http;prefix;suffix;constructor(e,t="/assets/i18n/",i=".json"){this.http=e,this.prefix=t,this.suffix=i}getTranslation(e){return this.http.get(`${this.prefix}${e}${this.suffix}`)}};function wT(n){return new Cg(n,"assets/i18n/",".json")}var ET=()=>{};var yC={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};var z=function(n,e){if(!n)throw ia(e)},ia=function(n){return new Error("Firebase Database ("+yC.SDK_VERSION+") INTERNAL ASSERT FAILED: "+n)};var PT=function(n){let e=[],t=0;for(let i=0;i<n.length;i++){let r=n.charCodeAt(i);r<128?e[t++]=r:r<2048?(e[t++]=r>>6|192,e[t++]=r&63|128):(r&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=r>>18|240,e[t++]=r>>12&63|128,e[t++]=r>>6&63|128,e[t++]=r&63|128):(e[t++]=r>>12|224,e[t++]=r>>6&63|128,e[t++]=r&63|128)}return e},Wz=function(n){let e=[],t=0,i=0;for(;t<n.length;){let r=n[t++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){let o=n[t++];e[i++]=String.fromCharCode((r&31)<<6|o&63)}else if(r>239&&r<365){let o=n[t++],s=n[t++],a=n[t++],c=((r&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[i++]=String.fromCharCode(55296+(c>>10)),e[i++]=String.fromCharCode(56320+(c&1023))}else{let o=n[t++],s=n[t++];e[i++]=String.fromCharCode((r&15)<<12|(o&63)<<6|s&63)}}return e.join("")},Bc={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();let t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<n.length;r+=3){let o=n[r],s=r+1<n.length,a=s?n[r+1]:0,c=r+2<n.length,l=c?n[r+2]:0,h=o>>2,f=(o&3)<<4|a>>4,y=(a&15)<<2|l>>6,w=l&63;c||(w=64,s||(y=64)),i.push(t[h],t[f],t[y],t[w])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(PT(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):Wz(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();let t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<n.length;){let o=t[n.charAt(r++)],a=r<n.length?t[n.charAt(r)]:0;++r;let l=r<n.length?t[n.charAt(r)]:64;++r;let f=r<n.length?t[n.charAt(r)]:64;if(++r,o==null||a==null||l==null||f==null)throw new bC;let y=o<<2|a>>4;if(i.push(y),l!==64){let w=a<<4&240|l>>2;if(i.push(w),f!==64){let I=l<<6&192|f;i.push(I)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},bC=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},wC=function(n){let e=PT(n);return Bc.encodeByteArray(e,!0)},qu=function(n){return wC(n).replace(/\./g,"")},Lc=function(n){try{return Bc.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function OT(n){return xT(void 0,n)}function xT(n,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:let t=e;return new Date(t.getTime());case Object:n===void 0&&(n={});break;case Array:n=[];break;default:return e}for(let t in e)!e.hasOwnProperty(t)||!Gz(t)||(n[t]=xT(n[t],e[t]));return n}function Gz(n){return n!=="__proto__"}function ST(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var qz=()=>ST().__FIREBASE_DEFAULTS__,Kz=()=>{if(typeof process>"u"||typeof process.env>"u")return;let n=process.env.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},Yz=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=n&&Lc(n[1]);return e&&JSON.parse(e)},EC=()=>{try{return ET()||qz()||Kz()||Yz()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},MC=n=>{var e,t;return(t=(e=EC())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},Eg=n=>{let e=MC(n);if(!e)return;let t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},IC=()=>{var n;return(n=EC())===null||n===void 0?void 0:n.config},PC=n=>{var e;return(e=EC())===null||e===void 0?void 0:e[`_${n}`]};var ci=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}};function dr(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}function jc(n){return x(this,null,function*(){return(yield fetch(n,{credentials:"include"})).ok})}function Mg(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let t={alg:"none",type:"JWT"},i=e||"demo-project",r=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[qu(JSON.stringify(t)),qu(JSON.stringify(s)),""].join(".")}var Gu={};function Qz(){let n={prod:[],emulator:[]};for(let e of Object.keys(Gu))Gu[e]?n.emulator.push(e):n.prod.push(e);return n}function Zz(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}var MT=!1;function Vc(n,e){if(typeof window>"u"||typeof document>"u"||!dr(window.location.host)||Gu[n]===e||Gu[n]||MT)return;Gu[n]=e;function t(y){return`__firebase__banner__${y}`}let i="__firebase__banner",o=Qz().prod.length>0;function s(){let y=document.getElementById(i);y&&y.remove()}function a(y){y.style.display="flex",y.style.background="#7faaf0",y.style.position="fixed",y.style.bottom="5px",y.style.left="5px",y.style.padding=".5em",y.style.borderRadius="5px",y.style.alignItems="center"}function c(y,w){y.setAttribute("width","24"),y.setAttribute("id",w),y.setAttribute("height","24"),y.setAttribute("viewBox","0 0 24 24"),y.setAttribute("fill","none"),y.style.marginLeft="-6px"}function l(){let y=document.createElement("span");return y.style.cursor="pointer",y.style.marginLeft="16px",y.style.fontSize="24px",y.innerHTML=" &times;",y.onclick=()=>{MT=!0,s()},y}function h(y,w){y.setAttribute("id",w),y.innerText="Learn more",y.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",y.setAttribute("target","__blank"),y.style.paddingLeft="5px",y.style.textDecoration="underline"}function f(){let y=Zz(i),w=t("text"),I=document.getElementById(w)||document.createElement("span"),D=t("learnmore"),T=document.getElementById(D)||document.createElement("a"),L=t("preprendIcon"),Z=document.getElementById(L)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(y.created){let le=y.element;a(le),h(T,D);let te=l();c(Z,L),le.append(Z,I,T,te),document.body.appendChild(le)}o?(I.innerText="Preview backend disconnected.",Z.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Z.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,I.innerText="Preview backend running in this workspace."),I.setAttribute("id",w)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}function pn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Ku(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(pn())}function DT(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function TT(){let n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function Ig(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function AT(){let n=pn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function fr(){return yC.NODE_CLIENT===!0||yC.NODE_ADMIN===!0}function Pg(){try{return typeof indexedDB=="object"}catch{return!1}}function kT(){return new Promise((n,e)=>{try{let t=!0,i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},r.onupgradeneeded=()=>{t=!1},r.onerror=()=>{var o;e(((o=r.error)===null||o===void 0?void 0:o.message)||"")}}catch(t){e(t)}})}var Xz="FirebaseError",qn=class n extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=Xz,Object.setPrototypeOf(this,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ki.prototype.create)}},ki=class{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){let i=t[0]||{},r=`${this.service}/${e}`,o=this.errors[e],s=o?Jz(o,i):"Error",a=`${this.serviceName}: ${s} (${r}).`;return new qn(r,a,i)}};function Jz(n,e){return n.replace(e8,(t,i)=>{let r=e[i];return r!=null?String(r):`<${i}?>`})}var e8=/\{\$([^}]+)}/g;function Fc(n){return JSON.parse(n)}function Rt(n){return JSON.stringify(n)}var RT=function(n){let e={},t={},i={},r="";try{let o=n.split(".");e=Fc(Lc(o[0])||""),t=Fc(Lc(o[1])||""),r=o[2],i=t.d||{},delete t.d}catch{}return{header:e,claims:t,data:i,signature:r}};var NT=function(n){let e=RT(n),t=e.claims;return!!t&&typeof t=="object"&&t.hasOwnProperty("iat")},LT=function(n){let e=RT(n).claims;return typeof e=="object"&&e.admin===!0};function Ri(n,e){return Object.prototype.hasOwnProperty.call(n,e)}function ra(n,e){if(Object.prototype.hasOwnProperty.call(n,e))return n[e]}function Yu(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Qu(n,e,t){let i={};for(let r in n)Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=e.call(t,n[r],r,n));return i}function pr(n,e){if(n===e)return!0;let t=Object.keys(n),i=Object.keys(e);for(let r of t){if(!i.includes(r))return!1;let o=n[r],s=e[r];if(IT(o)&&IT(s)){if(!pr(o,s))return!1}else if(o!==s)return!1}for(let r of i)if(!t.includes(r))return!1;return!0}function IT(n){return n!==null&&typeof n=="object"}function zo(n){let e=[];for(let[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(r=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function Uc(n){let e={};return n.replace(/^\?/,"").split("&").forEach(i=>{if(i){let[r,o]=i.split("=");e[decodeURIComponent(r)]=decodeURIComponent(o)}}),e}function zc(n){let e=n.indexOf("?");if(!e)return"";let t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}var wg=class{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,t){t||(t=0);let i=this.W_;if(typeof e=="string")for(let f=0;f<16;f++)i[f]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(let f=0;f<16;f++)i[f]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(let f=16;f<80;f++){let y=i[f-3]^i[f-8]^i[f-14]^i[f-16];i[f]=(y<<1|y>>>31)&4294967295}let r=this.chain_[0],o=this.chain_[1],s=this.chain_[2],a=this.chain_[3],c=this.chain_[4],l,h;for(let f=0;f<80;f++){f<40?f<20?(l=a^o&(s^a),h=1518500249):(l=o^s^a,h=1859775393):f<60?(l=o&s|a&(o|s),h=2400959708):(l=o^s^a,h=3395469782);let y=(r<<5|r>>>27)+l+c+h+i[f]&4294967295;c=a,a=s,s=(o<<30|o>>>2)&4294967295,o=r,r=y}this.chain_[0]=this.chain_[0]+r&4294967295,this.chain_[1]=this.chain_[1]+o&4294967295,this.chain_[2]=this.chain_[2]+s&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+c&4294967295}update(e,t){if(e==null)return;t===void 0&&(t=e.length);let i=t-this.blockSize,r=0,o=this.buf_,s=this.inbuf_;for(;r<t;){if(s===0)for(;r<=i;)this.compress_(e,r),r+=this.blockSize;if(typeof e=="string"){for(;r<t;)if(o[s]=e.charCodeAt(r),++s,++r,s===this.blockSize){this.compress_(o),s=0;break}}else for(;r<t;)if(o[s]=e[r],++s,++r,s===this.blockSize){this.compress_(o),s=0;break}}this.inbuf_=s,this.total_+=t}digest(){let e=[],t=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let r=this.blockSize-1;r>=56;r--)this.buf_[r]=t&255,t/=256;this.compress_(this.buf_);let i=0;for(let r=0;r<5;r++)for(let o=24;o>=0;o-=8)e[i]=this.chain_[r]>>o&255,++i;return e}};function FT(n,e){let t=new CC(n,e);return t.subscribe.bind(t)}var CC=class{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let r;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");t8(e,["next","error","complete"])?r=e:r={next:e,error:t,complete:i},r.next===void 0&&(r.next=vC),r.error===void 0&&(r.error=vC),r.complete===void 0&&(r.complete=vC);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function t8(n,e){if(typeof n!="object"||n===null)return!1;for(let t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function vC(){}function $c(n,e){return`${n} failed: ${e} argument `}var BT=function(n){let e=[],t=0;for(let i=0;i<n.length;i++){let r=n.charCodeAt(i);if(r>=55296&&r<=56319){let o=r-55296;i++,z(i<n.length,"Surrogate pair missing trail surrogate.");let s=n.charCodeAt(i)-56320;r=65536+(o<<10)+s}r<128?e[t++]=r:r<2048?(e[t++]=r>>6|192,e[t++]=r&63|128):r<65536?(e[t++]=r>>12|224,e[t++]=r>>6&63|128,e[t++]=r&63|128):(e[t++]=r>>18|240,e[t++]=r>>12&63|128,e[t++]=r>>6&63|128,e[t++]=r&63|128)}return e},Zu=function(n){let e=0;for(let t=0;t<n.length;t++){let i=n.charCodeAt(t);i<128?e++:i<2048?e+=2:i>=55296&&i<=56319?(e+=4,t++):e+=3}return e};var bme=14400*1e3;function Mt(n){return n&&n._delegate?n._delegate:n}var tn=class{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var oa="[DEFAULT]";var Og=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let i=new ci;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{let r=this.getOrInitializeService({instanceIdentifier:t});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;let i=this.normalizeInstanceIdentifier(e?.identifier),r=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(i8(e))try{this.getOrInitializeService({instanceIdentifier:oa})}catch{}for(let[t,i]of this.instancesDeferred.entries()){let r=this.normalizeInstanceIdentifier(t);try{let o=this.getOrInitializeService({instanceIdentifier:r});i.resolve(o)}catch{}}}}clearInstance(e=oa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return x(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=oa){return this.instances.has(e)}getOptions(e=oa){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let r=this.getOrInitializeService({instanceIdentifier:i,options:t});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);i===a&&s.resolve(r)}return r}onInit(e,t){var i;let r=this.normalizeInstanceIdentifier(t),o=(i=this.onInitCallbacks.get(r))!==null&&i!==void 0?i:new Set;o.add(e),this.onInitCallbacks.set(r,o);let s=this.instances.get(r);return s&&e(s,r),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){let i=this.onInitCallbacks.get(t);if(i)for(let r of i)try{r(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:n8(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=oa){return this.component?this.component.multipleInstances?e:oa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function n8(n){return n===oa?void 0:n}function i8(n){return n.instantiationMode==="EAGER"}var Xu=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new Og(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}};var r8=[],et=(function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n})(et||{}),o8={debug:et.DEBUG,verbose:et.VERBOSE,info:et.INFO,warn:et.WARN,error:et.ERROR,silent:et.SILENT},s8=et.INFO,a8={[et.DEBUG]:"log",[et.VERBOSE]:"log",[et.INFO]:"info",[et.WARN]:"warn",[et.ERROR]:"error"},c8=(n,e,...t)=>{if(e<n.logLevel)return;let i=new Date().toISOString(),r=a8[e];if(r)console[r](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},hr=class{constructor(e){this.name=e,this._logLevel=s8,this._logHandler=c8,this._userLogHandler=null,r8.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in et))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?o8[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,et.DEBUG,...e),this._logHandler(this,et.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,et.VERBOSE,...e),this._logHandler(this,et.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,et.INFO,...e),this._logHandler(this,et.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,et.WARN,...e),this._logHandler(this,et.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,et.ERROR,...e),this._logHandler(this,et.ERROR,...e)}};var l8=(n,e)=>e.some(t=>n instanceof t),jT,VT;function u8(){return jT||(jT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function d8(){return VT||(VT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var UT=new WeakMap,xC=new WeakMap,zT=new WeakMap,OC=new WeakMap,DC=new WeakMap;function f8(n){let e=new Promise((t,i)=>{let r=()=>{n.removeEventListener("success",o),n.removeEventListener("error",s)},o=()=>{t(gr(n.result)),r()},s=()=>{i(n.error),r()};n.addEventListener("success",o),n.addEventListener("error",s)});return e.then(t=>{t instanceof IDBCursor&&UT.set(t,n)}).catch(()=>{}),DC.set(e,n),e}function p8(n){if(xC.has(n))return;let e=new Promise((t,i)=>{let r=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",s),n.removeEventListener("abort",s)},o=()=>{t(),r()},s=()=>{i(n.error||new DOMException("AbortError","AbortError")),r()};n.addEventListener("complete",o),n.addEventListener("error",s),n.addEventListener("abort",s)});xC.set(n,e)}var SC={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return xC.get(n);if(e==="objectStoreNames")return n.objectStoreNames||zT.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return gr(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function $T(n){SC=n(SC)}function h8(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){let i=n.call(xg(this),e,...t);return zT.set(i,e.sort?e.sort():[e]),gr(i)}:d8().includes(n)?function(...e){return n.apply(xg(this),e),gr(UT.get(this))}:function(...e){return gr(n.apply(xg(this),e))}}function g8(n){return typeof n=="function"?h8(n):(n instanceof IDBTransaction&&p8(n),l8(n,u8())?new Proxy(n,SC):n)}function gr(n){if(n instanceof IDBRequest)return f8(n);if(OC.has(n))return OC.get(n);let e=g8(n);return e!==n&&(OC.set(n,e),DC.set(e,n)),e}var xg=n=>DC.get(n);function WT(n,e,{blocked:t,upgrade:i,blocking:r,terminated:o}={}){let s=indexedDB.open(n,e),a=gr(s);return i&&s.addEventListener("upgradeneeded",c=>{i(gr(s.result),c.oldVersion,c.newVersion,gr(s.transaction),c)}),t&&s.addEventListener("blocked",c=>t(c.oldVersion,c.newVersion,c)),a.then(c=>{o&&c.addEventListener("close",()=>o()),r&&c.addEventListener("versionchange",l=>r(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}var m8=["get","getKey","getAll","getAllKeys","count"],_8=["put","add","delete","clear"],TC=new Map;function HT(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(TC.get(e))return TC.get(e);let t=e.replace(/FromIndex$/,""),i=e!==t,r=_8.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(r||m8.includes(t)))return;let o=function(s,...a){return x(this,null,function*(){let c=this.transaction(s,r?"readwrite":"readonly"),l=c.store;return i&&(l=l.index(a.shift())),(yield Promise.all([l[t](...a),r&&c.done]))[0]})};return TC.set(e,o),o}$T(n=>ie(F({},n),{get:(e,t,i)=>HT(e,t)||n.get(e,t,i),has:(e,t)=>!!HT(e,t)||n.has(e,t)}));var kC=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(v8(t)){let i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}};function v8(n){let e=n.getComponent();return e?.type==="VERSION"}var RC="@firebase/app",GT="0.13.2";var Qr=new hr("@firebase/app"),y8="@firebase/app-compat",b8="@firebase/analytics-compat",C8="@firebase/analytics",w8="@firebase/app-check-compat",E8="@firebase/app-check",M8="@firebase/auth",I8="@firebase/auth-compat",P8="@firebase/database",O8="@firebase/data-connect",x8="@firebase/database-compat",S8="@firebase/functions",D8="@firebase/functions-compat",T8="@firebase/installations",A8="@firebase/installations-compat",k8="@firebase/messaging",R8="@firebase/messaging-compat",N8="@firebase/performance",L8="@firebase/performance-compat",F8="@firebase/remote-config",B8="@firebase/remote-config-compat",j8="@firebase/storage",V8="@firebase/storage-compat",U8="@firebase/firestore",z8="@firebase/ai",$8="@firebase/firestore-compat",H8="firebase",W8="11.10.0";var NC="[DEFAULT]",G8={[RC]:"fire-core",[y8]:"fire-core-compat",[C8]:"fire-analytics",[b8]:"fire-analytics-compat",[E8]:"fire-app-check",[w8]:"fire-app-check-compat",[M8]:"fire-auth",[I8]:"fire-auth-compat",[P8]:"fire-rtdb",[O8]:"fire-data-connect",[x8]:"fire-rtdb-compat",[S8]:"fire-fn",[D8]:"fire-fn-compat",[T8]:"fire-iid",[A8]:"fire-iid-compat",[k8]:"fire-fcm",[R8]:"fire-fcm-compat",[N8]:"fire-perf",[L8]:"fire-perf-compat",[F8]:"fire-rc",[B8]:"fire-rc-compat",[j8]:"fire-gcs",[V8]:"fire-gcs-compat",[U8]:"fire-fst",[$8]:"fire-fst-compat",[z8]:"fire-vertex","fire-js":"fire-js",[H8]:"fire-js-all"};var Ju=new Map,q8=new Map,LC=new Map;function qT(n,e){try{n.container.addComponent(e)}catch(t){Qr.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Kn(n){let e=n.name;if(LC.has(e))return Qr.debug(`There were multiple attempts to register component ${e}.`),!1;LC.set(e,n);for(let t of Ju.values())qT(t,n);for(let t of q8.values())qT(t,n);return!0}function Ho(n,e){let t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function nn(n){return n==null?!1:n.settings!==void 0}var K8={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},$o=new ki("app","Firebase",K8);var FC=class{constructor(e,t,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new tn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw $o.create("app-deleted",{appName:this._name})}};var mr=W8;function VC(n,e={}){let t=n;typeof e!="object"&&(e={name:e});let i=Object.assign({name:NC,automaticDataCollectionEnabled:!0},e),r=i.name;if(typeof r!="string"||!r)throw $o.create("bad-app-name",{appName:String(r)});if(t||(t=IC()),!t)throw $o.create("no-options");let o=Ju.get(r);if(o){if(pr(t,o.options)&&pr(i,o.config))return o;throw $o.create("duplicate-app",{appName:r})}let s=new Xu(r);for(let c of LC.values())s.addComponent(c);let a=new FC(t,i,s);return Ju.set(r,a),a}function Zr(n=NC){let e=Ju.get(n);if(!e&&n===NC&&IC())return VC();if(!e)throw $o.create("no-app",{appName:n});return e}function Sg(){return Array.from(Ju.values())}function at(n,e,t){var i;let r=(i=G8[n])!==null&&i!==void 0?i:n;t&&(r+=`-${t}`);let o=r.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let a=[`Unable to register library "${r}" with version "${e}":`];o&&a.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Qr.warn(a.join(" "));return}Kn(new tn(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}var Y8="firebase-heartbeat-database",Q8=1,ed="firebase-heartbeat-store",AC=null;function ZT(){return AC||(AC=WT(Y8,Q8,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(ed)}catch(t){console.warn(t)}}}}).catch(n=>{throw $o.create("idb-open",{originalErrorMessage:n.message})})),AC}function Z8(n){return x(this,null,function*(){try{let t=(yield ZT()).transaction(ed),i=yield t.objectStore(ed).get(XT(n));return yield t.done,i}catch(e){if(e instanceof qn)Qr.warn(e.message);else{let t=$o.create("idb-get",{originalErrorMessage:e?.message});Qr.warn(t.message)}}})}function KT(n,e){return x(this,null,function*(){try{let i=(yield ZT()).transaction(ed,"readwrite");yield i.objectStore(ed).put(e,XT(n)),yield i.done}catch(t){if(t instanceof qn)Qr.warn(t.message);else{let i=$o.create("idb-set",{originalErrorMessage:t?.message});Qr.warn(i.message)}}})}function XT(n){return`${n.name}!${n.options.appId}`}var X8=1024,J8=30,BC=class{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new jC(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}triggerHeartbeat(){return x(this,null,function*(){var e,t;try{let r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=YT();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:r}),this._heartbeatsCache.heartbeats.length>J8){let s=t$(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){Qr.warn(i)}})}getHeartbeatsHeader(){return x(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let t=YT(),{heartbeatsToSend:i,unsentEntries:r}=e$(this._heartbeatsCache.heartbeats),o=qu(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return Qr.warn(t),""}})}};function YT(){return new Date().toISOString().substring(0,10)}function e$(n,e=X8){let t=[],i=n.slice();for(let r of n){let o=t.find(s=>s.agent===r.agent);if(o){if(o.dates.push(r.date),QT(t)>e){o.dates.pop();break}}else if(t.push({agent:r.agent,dates:[r.date]}),QT(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}var jC=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return x(this,null,function*(){return Pg()?kT().then(()=>!0).catch(()=>!1):!1})}read(){return x(this,null,function*(){if(yield this._canUseIndexedDBPromise){let t=yield Z8(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return x(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let r=yield this.read();return KT(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return x(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let r=yield this.read();return KT(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return})}};function QT(n){return qu(JSON.stringify({version:2,heartbeats:n})).length}function t$(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let i=1;i<n.length;i++)n[i].date<t&&(t=n[i].date,e=i);return e}function n$(n){Kn(new tn("platform-logger",e=>new kC(e),"PRIVATE")),Kn(new tn("heartbeat",e=>new BC(e),"PRIVATE")),at(RC,GT,n),at(RC,GT,"esm2017"),at("fire-js","")}n$("");var i$="firebase",r$="11.10.0";at(i$,r$,"app");function JT(n){n===void 0&&(n=N(Be));let e=n.get(jr);return t=>new ee(i=>{let r=e.add(),o=!1;function s(){o||(r(),o=!0)}let a=t.subscribe({next:c=>{i.next(c),s()},complete:()=>{i.complete(),s()},error:c=>{i.error(c),s()}});return a.add(()=>{i.unsubscribe(),s()}),a})}var _r=new yo("ANGULARFIRE2_VERSION");function aa(n,e,t){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===t);if(o.length===1)return o[0]}return t.container.getProvider(n).getImmediate({optional:!0})}var Wo=(n,e)=>{let t=e?[e]:Sg(),i=[];return t.forEach(r=>{r.container.getProvider(n).instances.forEach(s=>{i.includes(s)||i.push(s)})}),i},Hc=(function(n){return n[n.SILENT=0]="SILENT",n[n.WARN=1]="WARN",n[n.VERBOSE=2]="VERBOSE",n})(Hc||{}),eA=zy()&&typeof Zone<"u"?Hc.WARN:Hc.SILENT;var Dg=class{zone;delegate;constructor(e,t=iv){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,i){let r=this.zone,o=function(s){r?r.runGuarded(()=>{e.apply(this,[s])}):e.apply(this,[s])};return this.delegate.schedule(o,t,i)}},vr=(()=>{class n{outsideAngular;insideAngular;constructor(){let t=N(ke);this.outsideAngular=t.runOutsideAngular(()=>new Dg(typeof Zone>"u"?void 0:Zone.current)),this.insideAngular=t.run(()=>new Dg(typeof Zone>"u"?void 0:Zone.current,nv))}static \u0275fac=function(i){return new(i||n)};static \u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),tA=!1;function o$(n,e){!tA&&(eA>Hc.SILENT||zy())&&(tA=!0,console.warn("Calling Firebase APIs outside of an Injection context may destabilize your application leading to subtle change-detection and hydration bugs. Find more at https://github.com/angular/angularfire/blob/main/docs/zones.md")),eA>=e&&console.warn(`Firebase API called outside injection context: ${n.name}`)}function s$(n){let e=N(ke,{optional:!0});return e?e.runOutsideAngular(()=>n()):n()}function sa(n){let e=N(ke,{optional:!0});return e?e.run(()=>n()):n()}var a$=(n,e,t)=>(...i)=>(e&&setTimeout(e,0),ae(t,()=>sa(()=>n.apply(void 0,i)))),_t=(n,e,t)=>(t||=e?Hc.WARN:Hc.VERBOSE,function(){let i,r=arguments,o,s,a;try{o=N(vr),s=N(jr),a=N(yt)}catch{return o$(n,t),n.apply(this,r)}for(let l=0;l<arguments.length;l++)typeof r[l]=="function"&&(e&&(i||=sa(()=>s.add())),r[l]=a$(r[l],i,a));let c=s$(()=>n.apply(this,r));return e?c instanceof ee?c.pipe(go(o.outsideAngular),ho(o.insideAngular),JT(a)):c instanceof Promise?sa(()=>{let l=s.add();return new Promise((h,f)=>{c.then(y=>ae(a,()=>sa(()=>h(y))),y=>ae(a,()=>sa(()=>f(y)))).finally(l)})}):typeof c=="function"&&i?function(){return setTimeout(i,0),c.apply(this,arguments)}:sa(()=>c):c instanceof ee?c.pipe(go(o.outsideAngular),ho(o.insideAngular)):sa(()=>c)});var Ni=class{constructor(e){return e}},Xr=class{constructor(){return Sg()}};function c$(n){return n&&n.length===1?n[0]:new Ni(Zr())}var UC=new G("angularfire2._apps"),l$={provide:Ni,useFactory:c$,deps:[[new Wt,UC]]},u$={provide:Xr,deps:[[new Wt,UC]]};function d$(n){return(e,t)=>{let i=t.get(js);at("angularfire",_r.full,"core"),at("angularfire",_r.full,"app"),at("angular",bv.full,i.toString());let r=e.runOutsideAngular(()=>n(t));return new Ni(r)}}function nA(n,...e){return dn([l$,u$,{provide:UC,useFactory:d$(n),multi:!0,deps:[ke,Be,vr,...e]}])}var iA=_t(VC,!0);var f$=new Map,p$={activated:!1,tokenObservers:[]},h$={initialized:!1,enabled:!1};function Li(n){return f$.get(n)||Object.assign({},p$)}function aA(){return h$}var g$="https://content-firebaseappcheck.googleapis.com/v1";var m$="exchangeDebugToken",rA={OFFSET_DURATION:300*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:960*1e3},w_e=1440*60*1e3;var HC=class{constructor(e,t,i,r,o){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=i,this.lowerBound=r,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=r,r>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){return x(this,null,function*(){this.stop();try{this.pending=new ci,this.pending.promise.catch(t=>{}),yield _$(this.getNextRun(e)),this.pending.resolve(),yield this.pending.promise,this.pending=new ci,this.pending.promise.catch(t=>{}),yield this.operation(),this.pending.resolve(),yield this.pending.promise,this.process(!0).catch(()=>{})}catch(t){this.retryPolicy(t)?this.process(!1).catch(()=>{}):this.stop()}})}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}};function _$(n){return new Promise(e=>{setTimeout(e,n)})}var v$={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.","initial-throttle":"{$httpStatus} error. Attempts allowed again after {$time}",throttled:"Requests throttled due to previous {$httpStatus} error. Attempts allowed again after {$time}"},Go=new ki("appCheck","AppCheck",v$);function cA(n){if(!Li(n).activated)throw Go.create("use-before-activation",{appName:n.name})}function lA(i,r){return x(this,arguments,function*({url:n,body:e},t){let o={"Content-Type":"application/json"},s=t.getImmediate({optional:!0});if(s){let w=yield s.getHeartbeatsHeader();w&&(o["X-Firebase-Client"]=w)}let a={method:"POST",body:JSON.stringify(e),headers:o},c;try{c=yield fetch(n,a)}catch(w){throw Go.create("fetch-network-error",{originalErrorMessage:w?.message})}if(c.status!==200)throw Go.create("fetch-status-error",{httpStatus:c.status});let l;try{l=yield c.json()}catch(w){throw Go.create("fetch-parse-error",{originalErrorMessage:w?.message})}let h=l.ttl.match(/^([\d.]+)(s)$/);if(!h||!h[2]||isNaN(Number(h[1])))throw Go.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${l.ttl}`});let f=Number(h[1])*1e3,y=Date.now();return{token:l.token,expireTimeMillis:y+f,issuedAtTimeMillis:y}})}function uA(n,e){let{projectId:t,appId:i,apiKey:r}=n.options;return{url:`${g$}/projects/${t}/apps/${i}:${m$}?key=${r}`,body:{debug_token:e}}}var y$="firebase-app-check-database",b$=1,WC="firebase-app-check-store";var Tg=null;function C$(){return Tg||(Tg=new Promise((n,e)=>{try{let t=indexedDB.open(y$,b$);t.onsuccess=i=>{n(i.target.result)},t.onerror=i=>{var r;e(Go.create("storage-open",{originalErrorMessage:(r=i.target.error)===null||r===void 0?void 0:r.message}))},t.onupgradeneeded=i=>{let r=i.target.result;switch(i.oldVersion){case 0:r.createObjectStore(WC,{keyPath:"compositeKey"})}}}catch(t){e(Go.create("storage-open",{originalErrorMessage:t?.message}))}}),Tg)}function w$(n,e){return E$(M$(n),e)}function E$(n,e){return x(this,null,function*(){let i=(yield C$()).transaction(WC,"readwrite"),o=i.objectStore(WC).put({compositeKey:n,value:e});return new Promise((s,a)=>{o.onsuccess=c=>{s()},i.onerror=c=>{var l;a(Go.create("storage-set",{originalErrorMessage:(l=c.target.error)===null||l===void 0?void 0:l.message}))}})})}function M$(n){return`${n.options.appId}-${n.name}`}var td=new hr("@firebase/app-check");function zC(n,e){return Pg()?w$(n,e).catch(t=>{td.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function dA(){return aA().enabled}function fA(){return x(this,null,function*(){let n=aA();if(n.enabled&&n.token)return n.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)})}var I$={error:"UNKNOWN_ERROR"};function P$(n){return Bc.encodeString(JSON.stringify(n),!1)}function GC(n,e=!1,t=!1){return x(this,null,function*(){let i=n.app;cA(i);let r=Li(i),o=r.token,s;if(o&&!nd(o)&&(r.token=void 0,o=void 0),!o){let l=yield r.cachedTokenPromise;l&&(nd(l)?o=l:yield zC(i,void 0))}if(!e&&o&&nd(o))return{token:o.token};let a=!1;if(dA())try{r.exchangeTokenPromise||(r.exchangeTokenPromise=lA(uA(i,yield fA()),n.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),a=!0);let l=yield r.exchangeTokenPromise;return yield zC(i,l),r.token=l,{token:l.token}}catch(l){return l.code==="appCheck/throttled"||l.code==="appCheck/initial-throttle"?td.warn(l.message):t&&td.error(l),$C(l)}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),a=!0),o=yield Li(i).exchangeTokenPromise}catch(l){l.code==="appCheck/throttled"||l.code==="appCheck/initial-throttle"?td.warn(l.message):t&&td.error(l),s=l}let c;return o?s?nd(o)?c={token:o.token,internalError:s}:c=$C(s):(c={token:o.token},r.token=o,yield zC(i,o)):c=$C(s),a&&D$(i,c),c})}function O$(n){return x(this,null,function*(){let e=n.app;cA(e);let{provider:t}=Li(e);if(dA()){let i=yield fA(),{token:r}=yield lA(uA(e,i),n.heartbeatServiceProvider);return{token:r}}else{let{token:i}=yield t.getToken();return{token:i}}})}function x$(n,e,t,i){let{app:r}=n,o=Li(r),s={next:t,error:i,type:e};if(o.tokenObservers=[...o.tokenObservers,s],o.token&&nd(o.token)){let a=o.token;Promise.resolve().then(()=>{t({token:a.token}),oA(n)}).catch(()=>{})}o.cachedTokenPromise.then(()=>oA(n))}function pA(n,e){let t=Li(n),i=t.tokenObservers.filter(r=>r.next!==e);i.length===0&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=i}function oA(n){let{app:e}=n,t=Li(e),i=t.tokenRefresher;i||(i=S$(n),t.tokenRefresher=i),!i.isRunning()&&t.isTokenAutoRefreshEnabled&&i.start()}function S$(n){let{app:e}=n;return new HC(()=>x(null,null,function*(){let t=Li(e),i;if(t.token?i=yield GC(n,!0):i=yield GC(n),i.error)throw i.error;if(i.internalError)throw i.internalError}),()=>!0,()=>{let t=Li(e);if(t.token){let i=t.token.issuedAtTimeMillis+(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)*.5+3e5,r=t.token.expireTimeMillis-300*1e3;return i=Math.min(i,r),Math.max(0,i-Date.now())}else return 0},rA.RETRIAL_MIN_WAIT,rA.RETRIAL_MAX_WAIT)}function D$(n,e){let t=Li(n).tokenObservers;for(let i of t)try{i.type==="EXTERNAL"&&e.error!=null?i.error(e.error):i.next(e)}catch{}}function nd(n){return n.expireTimeMillis-Date.now()>0}function $C(n){return{token:P$(I$),error:n}}var qC=class{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){let{tokenObservers:e}=Li(this.app);for(let t of e)pA(this.app,t.next);return Promise.resolve()}};function T$(n,e){return new qC(n,e)}function A$(n){return{getToken:e=>GC(n,e),getLimitedUseToken:()=>O$(n),addTokenListener:e=>x$(n,"INTERNAL",e),removeTokenListener:e=>pA(n.app,e)}}var k$="@firebase/app-check",R$="0.10.1";var N$="app-check",sA="app-check-internal";function L$(){Kn(new tn(N$,n=>{let e=n.getProvider("app").getImmediate(),t=n.getProvider("heartbeat");return T$(e,t)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(sA).initialize()})),Kn(new tn(sA,n=>{let e=n.getProvider("app-check").getImmediate();return A$(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),at(k$,R$)}L$();var F$="app-check";var qo=class{constructor(){return Wo(F$)}};var B$=["localhost","0.0.0.0","127.0.0.1"],N_e=typeof window<"u"&&B$.includes(window.location.hostname);function SA(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var DA=SA,TA=new ki("auth","Firebase",SA());var Fg=new hr("@firebase/auth");function j$(n,...e){Fg.logLevel<=et.WARN&&Fg.warn(`Auth (${mr}): ${n}`,...e)}function kg(n,...e){Fg.logLevel<=et.ERROR&&Fg.error(`Auth (${mr}): ${n}`,...e)}function li(n,...e){throw mw(n,...e)}function Fi(n,...e){return mw(n,...e)}function gw(n,e,t){let i=Object.assign(Object.assign({},DA()),{[e]:t});return new ki("auth","Firebase",i).create(e,{appName:n.name})}function to(n){return gw(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function V$(n,e,t){let i=t;if(!(e instanceof i))throw i.name!==e.constructor.name&&li(n,"argument-error"),gw(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function mw(n,...e){if(typeof n!="string"){let t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return TA.create(n,...e)}function ce(n,e,...t){if(!n)throw mw(e,...t)}function Jr(n){let e="INTERNAL ASSERTION FAILED: "+n;throw kg(e),new Error(e)}function no(n,e){n||Jr(e)}function QC(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function U$(){return hA()==="http:"||hA()==="https:"}function hA(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}function z$(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(U$()||TT()||"connection"in navigator)?navigator.onLine:!0}function $$(){if(typeof navigator>"u")return null;let n=navigator;return n.languages&&n.languages[0]||n.language||null}var ca=class{constructor(e,t){this.shortDelay=e,this.longDelay=t,no(t>e,"Short delay should be less than long delay!"),this.isMobile=Ku()||Ig()}get(){return z$()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function _w(n,e){no(n.emulator,"Emulator should always be set here");let{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}var Bg=class{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Jr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Jr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Jr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var H$={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var W$=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],G$=new ca(3e4,6e4);function Qo(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function Zo(o,s,a,c){return x(this,arguments,function*(n,e,t,i,r={}){return AA(n,r,()=>x(null,null,function*(){let l={},h={};i&&(e==="GET"?h=i:l={body:JSON.stringify(i)});let f=zo(Object.assign({key:n.config.apiKey},h)).slice(1),y=yield n._getAdditionalHeaders();y["Content-Type"]="application/json",n.languageCode&&(y["X-Firebase-Locale"]=n.languageCode);let w=Object.assign({method:e,headers:y},l);return DT()||(w.referrerPolicy="no-referrer"),n.emulatorConfig&&dr(n.emulatorConfig.host)&&(w.credentials="include"),Bg.fetch()(yield kA(n,n.config.apiHost,t,f),w)}))})}function AA(n,e,t){return x(this,null,function*(){n._canInitEmulator=!1;let i=Object.assign(Object.assign({},H$),e);try{let r=new ZC(n),o=yield Promise.race([t(),r.promise]);r.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw Ag(n,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let a=o.ok?s.errorMessage:s.error.message,[c,l]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ag(n,"credential-already-in-use",s);if(c==="EMAIL_EXISTS")throw Ag(n,"email-already-in-use",s);if(c==="USER_DISABLED")throw Ag(n,"user-disabled",s);let h=i[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw gw(n,h,l);li(n,h)}}catch(r){if(r instanceof qn)throw r;li(n,"network-request-failed",{message:String(r)})}})}function dd(o,s,a,c){return x(this,arguments,function*(n,e,t,i,r={}){let l=yield Zo(n,e,t,i,r);return"mfaPendingCredential"in l&&li(n,"multi-factor-auth-required",{_serverResponse:l}),l})}function kA(n,e,t,i){return x(this,null,function*(){let r=`${e}${t}?${i}`,o=n,s=o.config.emulator?_w(n.config,r):`${n.config.apiScheme}://${r}`;return W$.includes(t)&&(yield o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(s).toString():s})}function q$(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var ZC=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(Fi(this.auth,"network-request-failed")),G$.get())})}};function Ag(n,e,t){let i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);let r=Fi(n,e,i);return r.customData._tokenResponse=t,r}function gA(n){return n!==void 0&&n.enterprise!==void 0}var XC=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return q$(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}};function K$(n,e){return x(this,null,function*(){return Zo(n,"GET","/v2/recaptchaConfig",Qo(n,e))})}function Y$(n,e){return x(this,null,function*(){return Zo(n,"POST","/v1/accounts:delete",e)})}function jg(n,e){return x(this,null,function*(){return Zo(n,"POST","/v1/accounts:lookup",e)})}function rd(n){if(n)try{let e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function vw(n,e=!1){return x(this,null,function*(){let t=Mt(n),i=yield t.getIdToken(e),r=yw(i);ce(r&&r.exp&&r.auth_time&&r.iat,t.auth,"internal-error");let o=typeof r.firebase=="object"?r.firebase:void 0,s=o?.sign_in_provider;return{claims:r,token:i,authTime:rd(KC(r.auth_time)),issuedAtTime:rd(KC(r.iat)),expirationTime:rd(KC(r.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function KC(n){return Number(n)*1e3}function yw(n){let[e,t,i]=n.split(".");if(e===void 0||t===void 0||i===void 0)return kg("JWT malformed, contained fewer than 3 sections"),null;try{let r=Lc(t);return r?JSON.parse(r):(kg("Failed to decode base64 JWT payload"),null)}catch(r){return kg("Caught error parsing JWT payload as JSON",r?.toString()),null}}function mA(n){let e=yw(n);return ce(e,"internal-error"),ce(typeof e.exp<"u","internal-error"),ce(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function sd(n,e,t=!1){return x(this,null,function*(){if(t)return e;try{return yield e}catch(i){throw i instanceof qn&&Q$(i)&&n.auth.currentUser===n&&(yield n.auth.signOut()),i}})}function Q$({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}var JC=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){let i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;let r=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;let t=this.getInterval(e);this.timerId=setTimeout(()=>x(this,null,function*(){yield this.iteration()}),t)}iteration(){return x(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var ad=class{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=rd(this.lastLoginAt),this.creationTime=rd(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function Vg(n){return x(this,null,function*(){var e;let t=n.auth,i=yield n.getIdToken(),r=yield sd(n,jg(t,{idToken:i}));ce(r?.users.length,t,"internal-error");let o=r.users[0];n._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?RA(o.providerUserInfo):[],a=Z$(n.providerData,s),c=n.isAnonymous,l=!(n.email&&o.passwordHash)&&!a?.length,h=c?l:!1,f={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new ad(o.createdAt,o.lastLoginAt),isAnonymous:h};Object.assign(n,f)})}function bw(n){return x(this,null,function*(){let e=Mt(n);yield Vg(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function Z$(n,e){return[...n.filter(i=>!e.some(r=>r.providerId===i.providerId)),...e]}function RA(n){return n.map(e=>{var{providerId:t}=e,i=Af(e,["providerId"]);return{providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}function X$(n,e){return x(this,null,function*(){let t=yield AA(n,{},()=>x(null,null,function*(){let i=zo({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:o}=n.config,s=yield kA(n,r,"/v1/token",`key=${o}`),a=yield n._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";let c={method:"POST",headers:a,body:i};return n.emulatorConfig&&dr(n.emulatorConfig.host)&&(c.credentials="include"),Bg.fetch()(s,c)}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})}function J$(n,e){return x(this,null,function*(){return Zo(n,"POST","/v2/accounts:revokeToken",Qo(n,e))})}var od=class n{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ce(e.idToken,"internal-error"),ce(typeof e.idToken<"u","internal-error"),ce(typeof e.refreshToken<"u","internal-error");let t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):mA(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){ce(e.length!==0,"internal-error");let t=mA(e);this.updateTokensAndExpiration(e,null,t)}getToken(e,t=!1){return x(this,null,function*(){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(ce(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,t){return x(this,null,function*(){let{accessToken:i,refreshToken:r,expiresIn:o}=yield X$(e,t);this.updateTokensAndExpiration(i,r,Number(o))})}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){let{refreshToken:i,accessToken:r,expirationTime:o}=t,s=new n;return i&&(ce(typeof i=="string","internal-error",{appName:e}),s.refreshToken=i),r&&(ce(typeof r=="string","internal-error",{appName:e}),s.accessToken=r),o&&(ce(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new n,this.toJSON())}_performRefresh(){return Jr("not implemented")}};function Ko(n,e){ce(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}var Yo=class n{constructor(e){var{uid:t,auth:i,stsTokenManager:r}=e,o=Af(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new JC(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new ad(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){return x(this,null,function*(){let t=yield sd(this,this.stsTokenManager.getToken(this.auth,e));return ce(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t})}getIdTokenResult(e){return vw(this,e)}reload(){return bw(this)}_assign(e){this!==e&&(ce(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let t=new n(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){ce(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){return x(this,null,function*(){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&(yield Vg(this)),yield this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)})}delete(){return x(this,null,function*(){if(nn(this.auth.app))return Promise.reject(to(this.auth));let e=yield this.getIdToken();return yield sd(this,Y$(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var i,r,o,s,a,c,l,h;let f=(i=t.displayName)!==null&&i!==void 0?i:void 0,y=(r=t.email)!==null&&r!==void 0?r:void 0,w=(o=t.phoneNumber)!==null&&o!==void 0?o:void 0,I=(s=t.photoURL)!==null&&s!==void 0?s:void 0,D=(a=t.tenantId)!==null&&a!==void 0?a:void 0,T=(c=t._redirectEventId)!==null&&c!==void 0?c:void 0,L=(l=t.createdAt)!==null&&l!==void 0?l:void 0,Z=(h=t.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:le,emailVerified:te,isAnonymous:rt,providerData:We,stsTokenManager:tt}=t;ce(le&&tt,e,"internal-error");let ht=od.fromJSON(this.name,tt);ce(typeof le=="string",e,"internal-error"),Ko(f,e.name),Ko(y,e.name),ce(typeof te=="boolean",e,"internal-error"),ce(typeof rt=="boolean",e,"internal-error"),Ko(w,e.name),Ko(I,e.name),Ko(D,e.name),Ko(T,e.name),Ko(L,e.name),Ko(Z,e.name);let ot=new n({uid:le,auth:e,email:y,emailVerified:te,displayName:f,isAnonymous:rt,photoURL:I,phoneNumber:w,tenantId:D,stsTokenManager:ht,createdAt:L,lastLoginAt:Z});return We&&Array.isArray(We)&&(ot.providerData=We.map(En=>Object.assign({},En))),T&&(ot._redirectEventId=T),ot}static _fromIdTokenResponse(e,t,i=!1){return x(this,null,function*(){let r=new od;r.updateFromServerResponse(t);let o=new n({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:i});return yield Vg(o),o})}static _fromGetAccountInfoResponse(e,t,i){return x(this,null,function*(){let r=t.users[0];ce(r.localId!==void 0,"internal-error");let o=r.providerUserInfo!==void 0?RA(r.providerUserInfo):[],s=!(r.email&&r.passwordHash)&&!o?.length,a=new od;a.updateFromIdToken(i);let c=new n({uid:r.localId,auth:e,stsTokenManager:a,isAnonymous:s}),l={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:o,metadata:new ad(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!o?.length};return Object.assign(c,l),c})}};var _A=new Map;function eo(n){no(n instanceof Function,"Expected a class definition");let e=_A.get(n);return e?(no(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,_A.set(n,e),e)}var eH=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return x(this,null,function*(){return!0})}_set(t,i){return x(this,null,function*(){this.storage[t]=i})}_get(t){return x(this,null,function*(){let i=this.storage[t];return i===void 0?null:i})}_remove(t){return x(this,null,function*(){delete this.storage[t]})}_addListener(t,i){}_removeListener(t,i){}}return n.type="NONE",n})(),ew=eH;function Rg(n,e,t){return`firebase:${n}:${e}:${t}`}var Ug=class n{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;let{config:r,name:o}=this.auth;this.fullUserKey=Rg(this.userKey,r.apiKey,o),this.fullPersistenceKey=Rg("persistence",r.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return x(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){let t=yield jg(this.auth,{idToken:e}).catch(()=>{});return t?Yo._fromGetAccountInfoResponse(this.auth,t,e):null}return Yo._fromJSON(this.auth,e)})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return x(this,null,function*(){if(this.persistence===e)return;let t=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,i="authUser"){return x(this,null,function*(){if(!t.length)return new n(eo(ew),e,i);let r=(yield Promise.all(t.map(l=>x(null,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),o=r[0]||eo(ew),s=Rg(i,e.config.apiKey,e.name),a=null;for(let l of t)try{let h=yield l._get(s);if(h){let f;if(typeof h=="string"){let y=yield jg(e,{idToken:h}).catch(()=>{});if(!y)break;f=yield Yo._fromGetAccountInfoResponse(e,y,h)}else f=Yo._fromJSON(e,h);l!==o&&(a=f),o=l;break}}catch{}let c=r.filter(l=>l._shouldAllowMigration);return!o._shouldAllowMigration||!c.length?new n(o,e,i):(o=c[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(t.map(l=>x(null,null,function*(){if(l!==o)try{yield l._remove(s)}catch{}}))),new n(o,e,i))})}};function vA(n){let e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(BA(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(NA(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(VA(e))return"Blackberry";if(UA(e))return"Webos";if(LA(e))return"Safari";if((e.includes("chrome/")||FA(e))&&!e.includes("edge/"))return"Chrome";if(jA(e))return"Android";{let t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(t);if(i?.length===2)return i[1]}return"Other"}function NA(n=pn()){return/firefox\//i.test(n)}function LA(n=pn()){let e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function FA(n=pn()){return/crios\//i.test(n)}function BA(n=pn()){return/iemobile/i.test(n)}function jA(n=pn()){return/android/i.test(n)}function VA(n=pn()){return/blackberry/i.test(n)}function UA(n=pn()){return/webos/i.test(n)}function Cw(n=pn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function tH(n=pn()){var e;return Cw(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function nH(){return AT()&&document.documentMode===10}function zA(n=pn()){return Cw(n)||jA(n)||UA(n)||VA(n)||/windows phone/i.test(n)||BA(n)}function $A(n,e=[]){let t;switch(n){case"Browser":t=vA(pn());break;case"Worker":t=`${vA(pn())}-${n}`;break;default:t=n}let i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${mr}/${i}`}var tw=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){let i=o=>new Promise((s,a)=>{try{let c=e(o);s(c)}catch(c){a(c)}});i.onAbort=t,this.queue.push(i);let r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}runMiddleware(e){return x(this,null,function*(){if(this.auth.currentUser===e)return;let t=[];try{for(let i of this.queue)yield i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(let r of t)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})}};function iH(t){return x(this,arguments,function*(n,e={}){return Zo(n,"GET","/v2/passwordPolicy",Qo(n,e))})}var rH=6,nw=class{constructor(e){var t,i,r,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=s.minPasswordLength)!==null&&t!==void 0?t:rH,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(r=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&r!==void 0?r:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,i,r,o,s,a;let c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(t=c.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),c.isValid&&(c.isValid=(i=c.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(r=c.containsLowercaseLetter)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(o=c.containsUppercaseLetter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(s=c.containsNumericCharacter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(a=c.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),c}validatePasswordLengthOptions(e,t){let i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let r=0;r<e.length;r++)i=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,r,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var iw=class{constructor(e,t,i,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new zg(this),this.idTokenSubscription=new zg(this),this.beforeStateQueue=new tw(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=TA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=eo(t)),this._initializationPromise=this.queue(()=>x(this,null,function*(){var i,r,o;if(!this._deleted&&(this.persistenceManager=yield Ug.create(this,e),(i=this._resolvePersistenceManagerAvailable)===null||i===void 0||i.call(this),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return x(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return x(this,null,function*(){try{let t=yield jg(this,{idToken:e}),i=yield Yo._fromGetAccountInfoResponse(this,t,e);yield this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return x(this,null,function*(){var t;if(nn(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}let i=yield this.assertedPersistence.getCurrentUser(),r=i,o=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,a=r?._redirectEventId,c=yield this.tryRedirectSignIn(e);(!s||s===a)&&c?.user&&(r=c.user,o=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(r)}catch(s){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return ce(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)})}tryRedirectSignIn(e){return x(this,null,function*(){let t=null;try{t=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return t})}reloadAndSetCurrentUserOrClear(e){return x(this,null,function*(){try{yield Vg(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=$$()}_delete(){return x(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return x(this,null,function*(){if(nn(this.app))return Promise.reject(to(this));let t=e?Mt(e):null;return t&&ce(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))})}_updateCurrentUser(e,t=!1){return x(this,null,function*(){if(!this._deleted)return e&&ce(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>x(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return x(this,null,function*(){return nn(this.app)?Promise.reject(to(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return nn(this.app)?Promise.reject(to(this)):this.queue(()=>x(this,null,function*(){yield this.assertedPersistence.setPersistence(eo(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return x(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return x(this,null,function*(){let e=yield iH(this),t=new nw(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t})}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new ki("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{let i=this.onAuthStateChanged(()=>{i(),e()},t)}})}revokeAccessToken(e){return x(this,null,function*(){if(this.currentUser){let t=yield this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),yield J$(this,i)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,t){return x(this,null,function*(){let i=yield this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return x(this,null,function*(){if(!this.redirectPersistenceManager){let t=e&&eo(e)||this._popupRedirectResolver;ce(t,this,"argument-error"),this.redirectPersistenceManager=yield Ug.create(this,[eo(t._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return x(this,null,function*(){var t,i;return this._isInitialized&&(yield this.queue(()=>x(this,null,function*(){}))),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return x(this,null,function*(){if(e===this.currentUser)return this.queue(()=>x(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let i=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,r){if(this._deleted)return()=>{};let o=typeof t=="function"?t:t.next.bind(t),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(ce(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof t=="function"){let c=e.addObserver(t,i,r);return()=>{s=!0,c()}}else{let c=e.addObserver(t);return()=>{s=!0,c()}}}directlySetCurrentUser(e){return x(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ce(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=$A(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return x(this,null,function*(){var e;let t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);let i=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);let r=yield this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t})}_getAppCheckToken(){return x(this,null,function*(){var e;if(nn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let t=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return t?.error&&j$(`Error while retrieving App Check token: ${t.error}`),t?.token})}};function Xo(n){return Mt(n)}var zg=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=FT(t=>this.observer=t)}get next(){return ce(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var Zg={loadJS(){return x(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function oH(n){Zg=n}function HA(n){return Zg.loadJS(n)}function sH(){return Zg.recaptchaEnterpriseScript}function aH(){return Zg.gapiScript}function WA(n){return`__${n}${Math.floor(Math.random()*1e6)}`}var rw=class{constructor(){this.enterprise=new ow}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}},ow=class{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}};var cH="recaptcha-enterprise",GA="NO_RECAPTCHA",sw=class{constructor(e){this.type=cH,this.auth=Xo(e)}verify(e="verify",t=!1){return x(this,null,function*(){function i(o){return x(this,null,function*(){if(!t){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise((s,a)=>x(null,null,function*(){K$(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{let l=new XC(c);return o.tenantId==null?o._agentRecaptchaConfig=l:o._tenantRecaptchaConfigs[o.tenantId]=l,s(l.siteKey)}}).catch(c=>{a(c)})}))})}function r(o,s,a){let c=window.grecaptcha;gA(c)?c.enterprise.ready(()=>{c.enterprise.execute(o,{action:e}).then(l=>{s(l)}).catch(()=>{s(GA)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new rw().execute("siteKey",{action:"verify"}):new Promise((o,s)=>{i(this.auth).then(a=>{if(!t&&gA(window.grecaptcha))r(a,o,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let c=sH();c.length!==0&&(c+=a),HA(c).then(()=>{r(a,o,s)}).catch(l=>{s(l)})}}).catch(a=>{s(a)})})})}};function id(n,e,t,i=!1,r=!1){return x(this,null,function*(){let o=new sw(n),s;if(r)s=GA;else try{s=yield o.verify(t)}catch{s=yield o.verify(t,!0)}let a=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){let c=a.phoneEnrollmentInfo.phoneNumber,l=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:c,recaptchaToken:l,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){let c=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:c,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return i?Object.assign(a,{captchaResp:s}):Object.assign(a,{captchaResponse:s}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a})}function aw(n,e,t,i,r){return x(this,null,function*(){var o,s;if(r==="EMAIL_PASSWORD_PROVIDER")if(!((o=n._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let a=yield id(n,e,t,t==="getOobCode");return i(n,a)}else return i(n,e).catch(a=>x(null,null,function*(){if(a.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let c=yield id(n,e,t,t==="getOobCode");return i(n,c)}else return Promise.reject(a)}));else if(r==="PHONE_PROVIDER")if(!((s=n._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("PHONE_PROVIDER")){let a=yield id(n,e,t);return i(n,a).catch(c=>x(null,null,function*(){var l;if(((l=n._getRecaptchaConfig())===null||l===void 0?void 0:l.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"&&(c.code==="auth/missing-recaptcha-token"||c.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${t} flow.`);let h=yield id(n,e,t,!1,!0);return i(n,h)}return Promise.reject(c)}))}else{let a=yield id(n,e,t,!1,!0);return i(n,a)}else return Promise.reject(r+" provider is not supported.")})}function ww(n,e){let t=Ho(n,"auth");if(t.isInitialized()){let r=t.getImmediate(),o=t.getOptions();if(pr(o,e??{}))return r;li(r,"already-initialized")}return t.initialize({options:e})}function lH(n,e){let t=e?.persistence||[],i=(Array.isArray(t)?t:[t]).map(eo);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e?.popupRedirectResolver)}function Ew(n,e,t){let i=Xo(n);ce(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");let r=!!t?.disableWarnings,o=qA(e),{host:s,port:a}=uH(e),c=a===null?"":`:${a}`,l={url:`${o}//${s}${c}/`},h=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:r})});if(!i._canInitEmulator){ce(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),ce(pr(l,i.config.emulator)&&pr(h,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=l,i.emulatorConfig=h,i.settings.appVerificationDisabledForTesting=!0,dr(s)?(jc(`${o}//${s}${c}`),Vc("Auth",!0)):r||dH()}function qA(n){let e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function uH(n){let e=qA(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};let i=t[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){let o=r[1];return{host:o,port:yA(i.substr(o.length+1))}}else{let[o,s]=i.split(":");return{host:o,port:yA(s)}}}function yA(n){if(!n)return null;let e=Number(n);return isNaN(e)?null:e}function dH(){function n(){let e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}var Gc=class{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Jr("not implemented")}_getIdTokenResponse(e){return Jr("not implemented")}_linkToIdToken(e,t){return Jr("not implemented")}_getReauthenticationResolver(e){return Jr("not implemented")}};function fH(n,e){return x(this,null,function*(){return Zo(n,"POST","/v1/accounts:signUp",e)})}function pH(n,e){return x(this,null,function*(){return dd(n,"POST","/v1/accounts:signInWithPassword",Qo(n,e))})}function hH(n,e){return x(this,null,function*(){return dd(n,"POST","/v1/accounts:signInWithEmailLink",Qo(n,e))})}function gH(n,e){return x(this,null,function*(){return dd(n,"POST","/v1/accounts:signInWithEmailLink",Qo(n,e))})}var cd=class n extends Gc{constructor(e,t,i,r=null){super("password",i),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new n(e,t,"password")}static _fromEmailAndCode(e,t,i=null){return new n(e,t,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}_getIdTokenResponse(e){return x(this,null,function*(){switch(this.signInMethod){case"password":let t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return aw(e,t,"signInWithPassword",pH,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return hH(e,{email:this._email,oobCode:this._password});default:li(e,"internal-error")}})}_linkToIdToken(e,t){return x(this,null,function*(){switch(this.signInMethod){case"password":let i={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return aw(e,i,"signUpPassword",fH,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return gH(e,{idToken:t,email:this._email,oobCode:this._password});default:li(e,"internal-error")}})}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};function Wc(n,e){return x(this,null,function*(){return dd(n,"POST","/v1/accounts:signInWithIdp",Qo(n,e))})}var mH="http://localhost",$g=class n extends Gc{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){let t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):li("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){let t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:r}=t,o=Af(t,["providerId","signInMethod"]);if(!i||!r)return null;let s=new n(i,r);return s.idToken=o.idToken||void 0,s.accessToken=o.accessToken||void 0,s.secret=o.secret,s.nonce=o.nonce,s.pendingToken=o.pendingToken||null,s}_getIdTokenResponse(e){let t=this.buildRequest();return Wc(e,t)}_linkToIdToken(e,t){let i=this.buildRequest();return i.idToken=t,Wc(e,i)}_getReauthenticationResolver(e){let t=this.buildRequest();return t.autoCreate=!1,Wc(e,t)}buildRequest(){let e={requestUri:mH,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{let t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=zo(t)}return e}};function _H(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function vH(n){let e=Uc(zc(n)).link,t=e?Uc(zc(e)).deep_link_id:null,i=Uc(zc(n)).deep_link_id;return(i?Uc(zc(i)).link:null)||i||t||e||n}var Hg=class n{constructor(e){var t,i,r,o,s,a;let c=Uc(zc(e)),l=(t=c.apiKey)!==null&&t!==void 0?t:null,h=(i=c.oobCode)!==null&&i!==void 0?i:null,f=_H((r=c.mode)!==null&&r!==void 0?r:null);ce(l&&h&&f,"argument-error"),this.apiKey=l,this.operation=f,this.code=h,this.continueUrl=(o=c.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(s=c.lang)!==null&&s!==void 0?s:null,this.tenantId=(a=c.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){let t=vH(e);try{return new n(t)}catch{return null}}};var KA=(()=>{class n{constructor(){this.providerId=n.PROVIDER_ID}static credential(t,i){return cd._fromEmailAndPassword(t,i)}static credentialWithLink(t,i){let r=Hg.parseLink(i);return ce(r,"argument-error"),cd._fromEmailAndCode(t,r.code,r.tenantId)}}n.PROVIDER_ID="password",n.EMAIL_PASSWORD_SIGN_IN_METHOD="password",n.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return n})(),ld=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var Wg=class extends ld{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};var Mw=(()=>{class n extends Wg{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return $g._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return n.credentialFromTaggedObject(t)}static credentialFromError(t){return n.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;let{oauthIdToken:i,oauthAccessToken:r}=t;if(!i&&!r)return null;try{return n.credential(i,r)}catch{return null}}}n.GOOGLE_SIGN_IN_METHOD="google.com",n.PROVIDER_ID="google.com";return n})();function yH(n,e){return x(this,null,function*(){return dd(n,"POST","/v1/accounts:signUp",Qo(n,e))})}var qc=class n{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,i,r=!1){return x(this,null,function*(){let o=yield Yo._fromIdTokenResponse(e,i,r),s=bA(i);return new n({user:o,providerId:s,_tokenResponse:i,operationType:t})})}static _forOperation(e,t,i){return x(this,null,function*(){yield e._updateTokensIfNecessary(i,!0);let r=bA(i);return new n({user:e,providerId:r,_tokenResponse:i,operationType:t})})}};function bA(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}var cw=class n extends qn{constructor(e,t,i,r){var o;super(t.code,t.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,n.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,r){return new n(e,t,i,r)}};function YA(n,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?cw._fromErrorAndOperation(n,o,e,i):o})}function bH(n,e,t=!1){return x(this,null,function*(){let i=yield sd(n,e._linkToIdToken(n.auth,yield n.getIdToken()),t);return qc._forOperation(n,"link",i)})}function CH(n,e,t=!1){return x(this,null,function*(){let{auth:i}=n;if(nn(i.app))return Promise.reject(to(i));let r="reauthenticate";try{let o=yield sd(n,YA(i,r,e,n),t);ce(o.idToken,i,"internal-error");let s=yw(o.idToken);ce(s,i,"internal-error");let{sub:a}=s;return ce(n.uid===a,i,"user-mismatch"),qc._forOperation(n,r,o)}catch(o){throw o?.code==="auth/user-not-found"&&li(i,"user-mismatch"),o}})}function QA(n,e,t=!1){return x(this,null,function*(){if(nn(n.app))return Promise.reject(to(n));let i="signIn",r=yield YA(n,i,e),o=yield qc._fromIdTokenResponse(n,i,r);return t||(yield n._updateCurrentUser(o.user)),o})}function Iw(n,e){return x(this,null,function*(){return QA(Xo(n),e)})}function ZA(n){return x(this,null,function*(){let e=Xo(n);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function Pw(n,e,t){return x(this,null,function*(){if(nn(n.app))return Promise.reject(to(n));let i=Xo(n),s=yield aw(i,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",yH,"EMAIL_PASSWORD_PROVIDER").catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&ZA(n),c}),a=yield qc._fromIdTokenResponse(i,"signIn",s);return yield i._updateCurrentUser(a.user),a})}function Ow(n,e,t){return nn(n.app)?Promise.reject(to(n)):Iw(Mt(n),KA.credential(e,t)).catch(i=>x(null,null,function*(){throw i.code==="auth/password-does-not-meet-requirements"&&ZA(n),i}))}function Xg(n,e,t,i){return Mt(n).onIdTokenChanged(e,t,i)}function xw(n,e,t){return Mt(n).beforeAuthStateChanged(e,t)}function Jg(n,e,t,i){return Mt(n).onAuthStateChanged(e,t,i)}function Sw(n){return Mt(n).signOut()}var Gg="__sak";var qg=class{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Gg,"1"),this.storage.removeItem(Gg),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){let t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var wH=1e3,EH=10,MH=(()=>{class n extends qg{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=zA(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(let i of Object.keys(this.listeners)){let r=this.storage.getItem(i),o=this.localCache[i];r!==o&&t(i,o,r)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((a,c,l)=>{this.notifyListeners(a,l)});return}let r=t.key;i?this.detachListener():this.stopPolling();let o=()=>{let a=this.storage.getItem(r);!i&&this.localCache[r]===a||this.notifyListeners(r,a)},s=this.storage.getItem(r);nH()&&s!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,EH):o()}notifyListeners(t,i){this.localCache[t]=i;let r=this.listeners[t];if(r)for(let o of Array.from(r))o(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:r}),!0)})},wH)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(t,i){return x(this,null,function*(){yield _s(n.prototype,this,"_set").call(this,t,i),this.localCache[t]=JSON.stringify(i)})}_get(t){return x(this,null,function*(){let i=yield _s(n.prototype,this,"_get").call(this,t);return this.localCache[t]=JSON.stringify(i),i})}_remove(t){return x(this,null,function*(){yield _s(n.prototype,this,"_remove").call(this,t),delete this.localCache[t]})}}return n.type="LOCAL",n})(),XA=MH;var IH=(()=>{class n extends qg{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}return n.type="SESSION",n})(),Dw=IH;function PH(n){return Promise.all(n.map(e=>x(null,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(t){return{fulfilled:!1,reason:t}}})))}var OH=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){let i=this.receivers.find(o=>o.isListeningto(t));if(i)return i;let r=new n(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}handleEvent(t){return x(this,null,function*(){let i=t,{eventId:r,eventType:o,data:s}=i.data,a=this.handlersMap[o];if(!a?.size)return;i.ports[0].postMessage({status:"ack",eventId:r,eventType:o});let c=Array.from(a).map(h=>x(this,null,function*(){return h(i.origin,s)})),l=yield PH(c);i.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:l})})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}n.receivers=[];return n})();function Tw(n="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return n+t}var lw=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,t,i=50){return x(this,null,function*(){let r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let o,s;return new Promise((a,c)=>{let l=Tw("",20);r.port1.start();let h=setTimeout(()=>{c(new Error("unsupported_event"))},i);s={messageChannel:r,onMessage(f){let y=f;if(y.data.eventId===l)switch(y.data.status){case"ack":clearTimeout(h),o=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(y.data.response);break;default:clearTimeout(h),clearTimeout(o),c(new Error("invalid_response"));break}}},this.handlers.add(s),r.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})})}};function yr(){return window}function xH(n){yr().location.href=n}function JA(){return typeof yr().WorkerGlobalScope<"u"&&typeof yr().importScripts=="function"}function SH(){return x(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function DH(){var n;return((n=navigator?.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function TH(){return JA()?self:null}var ek="firebaseLocalStorageDb",AH=1,Kg="firebaseLocalStorage",tk="fbase_key",la=class{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}};function em(n,e){return n.transaction([Kg],e?"readwrite":"readonly").objectStore(Kg)}function kH(){let n=indexedDB.deleteDatabase(ek);return new la(n).toPromise()}function uw(){let n=indexedDB.open(ek,AH);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{let i=n.result;try{i.createObjectStore(Kg,{keyPath:tk})}catch(r){t(r)}}),n.addEventListener("success",()=>x(null,null,function*(){let i=n.result;i.objectStoreNames.contains(Kg)?e(i):(i.close(),yield kH(),e(yield uw()))}))})}function CA(n,e,t){return x(this,null,function*(){let i=em(n,!0).put({[tk]:e,value:t});return new la(i).toPromise()})}function RH(n,e){return x(this,null,function*(){let t=em(n,!1).get(e),i=yield new la(t).toPromise();return i===void 0?null:i.value})}function wA(n,e){let t=em(n,!0).delete(e);return new la(t).toPromise()}var NH=800,LH=3,FH=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return x(this,null,function*(){return this.db?this.db:(this.db=yield uw(),this.db)})}_withRetries(t){return x(this,null,function*(){let i=0;for(;;)try{let r=yield this._openDb();return yield t(r)}catch(r){if(i++>LH)throw r;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return x(this,null,function*(){return JA()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return x(this,null,function*(){this.receiver=OH._getInstance(TH()),this.receiver._subscribe("keyChanged",(t,i)=>x(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(i.key)}})),this.receiver._subscribe("ping",(t,i)=>x(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return x(this,null,function*(){var t,i;if(this.activeServiceWorker=yield SH(),!this.activeServiceWorker)return;this.sender=new lw(this.activeServiceWorker);let r=yield this.sender._send("ping",{},800);r&&!((t=r[0])===null||t===void 0)&&t.fulfilled&&!((i=r[0])===null||i===void 0)&&i.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(t){return x(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||DH()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return x(this,null,function*(){try{if(!indexedDB)return!1;let t=yield uw();return yield CA(t,Gg,"1"),yield wA(t,Gg),!0}catch{}return!1})}_withPendingWrite(t){return x(this,null,function*(){this.pendingWrites++;try{yield t()}finally{this.pendingWrites--}})}_set(t,i){return x(this,null,function*(){return this._withPendingWrite(()=>x(this,null,function*(){return yield this._withRetries(r=>CA(r,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)}))})}_get(t){return x(this,null,function*(){let i=yield this._withRetries(r=>RH(r,t));return this.localCache[t]=i,i})}_remove(t){return x(this,null,function*(){return this._withPendingWrite(()=>x(this,null,function*(){return yield this._withRetries(i=>wA(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)}))})}_poll(){return x(this,null,function*(){let t=yield this._withRetries(o=>{let s=em(o,!1).getAll();return new la(s).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];let i=[],r=new Set;if(t.length!==0)for(let{fbase_key:o,value:s}of t)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(s)&&(this.notifyListeners(o,s),i.push(o));for(let o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),i.push(o));return i})}notifyListeners(t,i){this.localCache[t]=i;let r=this.listeners[t];if(r)for(let o of Array.from(r))o(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>x(this,null,function*(){return this._poll()}),NH)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return n.type="LOCAL",n})(),nk=FH;var $_e=WA("rcb"),H_e=new ca(3e4,6e4);function ik(n,e){return e?eo(e):(ce(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}var ud=class extends Gc{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Wc(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Wc(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Wc(e,this._buildIdpRequest())}_buildIdpRequest(e){let t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}};function BH(n){return QA(n.auth,new ud(n),n.bypassAuthState)}function jH(n){let{auth:e,user:t}=n;return ce(t,e,"internal-error"),CH(t,new ud(n),n.bypassAuthState)}function VH(n){return x(this,null,function*(){let{auth:e,user:t}=n;return ce(t,e,"internal-error"),bH(t,new ud(n),n.bypassAuthState)})}var Yg=class{constructor(e,t,i,r,o=!1){this.auth=e,this.resolver=i,this.user=r,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((e,t)=>x(this,null,function*(){this.pendingPromise={resolve:e,reject:t};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}}))}onAuthEvent(e){return x(this,null,function*(){let{urlResponse:t,sessionId:i,postBody:r,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}let c={auth:this.auth,requestUri:t,sessionId:i,tenantId:o||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(c))}catch(l){this.reject(l)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return BH;case"linkViaPopup":case"linkViaRedirect":return VH;case"reauthViaPopup":case"reauthViaRedirect":return jH;default:li(this.auth,"internal-error")}}resolve(e){no(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){no(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var UH=new ca(2e3,1e4);function Aw(n,e,t){return x(this,null,function*(){if(nn(n.app))return Promise.reject(Fi(n,"operation-not-supported-in-this-environment"));let i=Xo(n);V$(n,e,ld);let r=ik(i,t);return new zH(i,"signInViaPopup",e,r).executeNotNull()})}var zH=(()=>{class n extends Yg{constructor(t,i,r,o,s){super(t,i,o,s),this.provider=r,this.authWindow=null,this.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=this}executeNotNull(){return x(this,null,function*(){let t=yield this.execute();return ce(t,this.auth,"internal-error"),t})}onExecution(){return x(this,null,function*(){no(this.filter.length===1,"Popup operations only handle one event");let t=Tw();this.authWindow=yield this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(Fi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()})}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(Fi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}pollUserCancellation(){let t=()=>{var i,r;if(!((r=(i=this.authWindow)===null||i===void 0?void 0:i.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Fi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,UH.get())};t()}}n.currentPopupAction=null;return n})(),$H="pendingRedirect",Ng=new Map,dw=class n extends Yg{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}execute(){return x(this,null,function*(){let e=Ng.get(this.auth._key());if(!e){try{let i=(yield HH(this.resolver,this.auth))?yield _s(n.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}Ng.set(this.auth._key(),e)}return this.bypassAuthState||Ng.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return x(this,null,function*(){if(e.type==="signInViaRedirect")return _s(n.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let t=yield this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,_s(n.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return x(this,null,function*(){})}cleanUp(){}};function HH(n,e){return x(this,null,function*(){let t=qH(e),i=GH(n);if(!(yield i._isAvailable()))return!1;let r=(yield i._get(t))==="true";return yield i._remove(t),r})}function WH(n,e){Ng.set(n._key(),e)}function GH(n){return eo(n._redirectPersistence)}function qH(n){return Rg($H,n.config.apiKey,n.name)}function KH(n,e,t=!1){return x(this,null,function*(){if(nn(n.app))return Promise.reject(to(n));let i=Xo(n),r=ik(i,e),s=yield new dw(i,r,t).execute();return s&&!t&&(delete s.user._redirectEventId,yield i._persistUserIfCurrent(s.user),yield i._setRedirectUser(null,e)),s})}var YH=600*1e3,fw=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!QH(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var i;if(e.error&&!rk(e)){let r=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";t.onError(Fi(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){let i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=YH&&this.cachedEventUids.clear(),this.cachedEventUids.has(EA(e))}saveEventToCache(e){this.cachedEventUids.add(EA(e)),this.lastProcessedEventTime=Date.now()}};function EA(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function rk({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function QH(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return rk(n);default:return!1}}function ZH(t){return x(this,arguments,function*(n,e={}){return Zo(n,"GET","/v1/projects",e)})}var XH=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,JH=/^https?/;function e7(n){return x(this,null,function*(){if(n.config.emulator)return;let{authorizedDomains:e}=yield ZH(n);for(let t of e)try{if(t7(t))return}catch{}li(n,"unauthorized-domain")})}function t7(n){let e=QC(),{protocol:t,hostname:i}=new URL(e);if(n.startsWith("chrome-extension://")){let s=new URL(n);return s.hostname===""&&i===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&s.hostname===i}if(!JH.test(t))return!1;if(XH.test(n))return i===n;let r=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}var n7=new ca(3e4,6e4);function MA(){let n=yr().___jsl;if(n?.H){for(let e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function i7(n){return new Promise((e,t)=>{var i,r,o;function s(){MA(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{MA(),t(Fi(n,"network-request-failed"))},timeout:n7.get()})}if(!((r=(i=yr().gapi)===null||i===void 0?void 0:i.iframes)===null||r===void 0)&&r.Iframe)e(gapi.iframes.getContext());else if(!((o=yr().gapi)===null||o===void 0)&&o.load)s();else{let a=WA("iframefcb");return yr()[a]=()=>{gapi.load?s():t(Fi(n,"network-request-failed"))},HA(`${aH()}?onload=${a}`).catch(c=>t(c))}}).catch(e=>{throw Lg=null,e})}var Lg=null;function r7(n){return Lg=Lg||i7(n),Lg}var o7=new ca(5e3,15e3),s7="__/auth/iframe",a7="emulator/auth/iframe",c7={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},l7=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function u7(n){let e=n.config;ce(e.authDomain,n,"auth-domain-config-required");let t=e.emulator?_w(e,a7):`https://${n.config.authDomain}/${s7}`,i={apiKey:e.apiKey,appName:n.name,v:mr},r=l7.get(n.config.apiHost);r&&(i.eid=r);let o=n._getFrameworks();return o.length&&(i.fw=o.join(",")),`${t}?${zo(i).slice(1)}`}function d7(n){return x(this,null,function*(){let e=yield r7(n),t=yr().gapi;return ce(t,n,"internal-error"),e.open({where:document.body,url:u7(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:c7,dontclear:!0},i=>new Promise((r,o)=>x(null,null,function*(){yield i.restyle({setHideOnLeave:!1});let s=Fi(n,"network-request-failed"),a=yr().setTimeout(()=>{o(s)},o7.get());function c(){yr().clearTimeout(a),r(i)}i.ping(c).then(c,()=>{o(s)})})))})}var f7={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},p7=500,h7=600,g7="_blank",m7="http://localhost",Qg=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function _7(n,e,t,i=p7,r=h7){let o=Math.max((window.screen.availHeight-r)/2,0).toString(),s=Math.max((window.screen.availWidth-i)/2,0).toString(),a="",c=Object.assign(Object.assign({},f7),{width:i.toString(),height:r.toString(),top:o,left:s}),l=pn().toLowerCase();t&&(a=FA(l)?g7:t),NA(l)&&(e=e||m7,c.scrollbars="yes");let h=Object.entries(c).reduce((y,[w,I])=>`${y}${w}=${I},`,"");if(tH(l)&&a!=="_self")return v7(e||"",a),new Qg(null);let f=window.open(e||"",a,h);ce(f,n,"popup-blocked");try{f.focus()}catch{}return new Qg(f)}function v7(n,e){let t=document.createElement("a");t.href=n,t.target=e;let i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}var y7="__/auth/handler",b7="emulator/auth/handler",C7=encodeURIComponent("fac");function IA(n,e,t,i,r,o){return x(this,null,function*(){ce(n.config.authDomain,n,"auth-domain-config-required"),ce(n.config.apiKey,n,"invalid-api-key");let s={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:i,v:mr,eventId:r};if(e instanceof ld){e.setDefaultLanguage(n.languageCode),s.providerId=e.providerId||"",Yu(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(let[h,f]of Object.entries(o||{}))s[h]=f}if(e instanceof Wg){let h=e.getScopes().filter(f=>f!=="");h.length>0&&(s.scopes=h.join(","))}n.tenantId&&(s.tid=n.tenantId);let a=s;for(let h of Object.keys(a))a[h]===void 0&&delete a[h];let c=yield n._getAppCheckToken(),l=c?`#${C7}=${encodeURIComponent(c)}`:"";return`${w7(n)}?${zo(a).slice(1)}${l}`})}function w7({config:n}){return n.emulator?_w(n,b7):`https://${n.authDomain}/${y7}`}var YC="webStorageSupport",pw=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Dw,this._completeRedirectFn=KH,this._overrideRedirectResult=WH}_openPopup(e,t,i,r){return x(this,null,function*(){var o;no((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");let s=yield IA(e,t,i,QC(),r);return _7(e,s,Tw())})}_openRedirect(e,t,i,r){return x(this,null,function*(){yield this._originValidation(e);let o=yield IA(e,t,i,QC(),r);return xH(o),new Promise(()=>{})})}_initialize(e){let t=e._key();if(this.eventManagers[t]){let{manager:r,promise:o}=this.eventManagers[t];return r?Promise.resolve(r):(no(o,"If manager is not set, promise should be"),o)}let i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}initAndGetManager(e){return x(this,null,function*(){let t=yield d7(e),i=new fw(e);return t.register("authEvent",r=>(ce(r?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i})}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(YC,{type:YC},r=>{var o;let s=(o=r?.[0])===null||o===void 0?void 0:o[YC];s!==void 0&&t(!!s),li(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=e7(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return zA()||LA()||Cw()}},ok=pw;var PA="@firebase/auth",OA="1.10.8";var hw=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return x(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let t=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){ce(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function E7(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function M7(n){Kn(new tn("auth",(e,{options:t})=>{let i=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=i.options;ce(s&&!s.includes(":"),"invalid-api-key",{appName:i.name});let c={apiKey:s,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:$A(n)},l=new iw(i,r,o,c);return lH(l,t),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),Kn(new tn("auth-internal",e=>{let t=Xo(e.getProvider("auth").getImmediate());return(i=>new hw(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),at(PA,OA,E7(n)),at(PA,OA,"esm2017")}var I7=300,P7=PC("authIdTokenMaxAge")||I7,xA=null,O7=n=>e=>x(null,null,function*(){let t=e&&(yield e.getIdTokenResult()),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>P7)return;let r=t?.token;xA!==r&&(xA=r,yield fetch(n,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))});function kw(n=Zr()){let e=Ho(n,"auth");if(e.isInitialized())return e.getImmediate();let t=ww(n,{popupRedirectResolver:ok,persistence:[nk,XA,Dw]}),i=PC("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){let o=new URL(i,location.origin);if(location.origin===o.origin){let s=O7(o.toString());xw(t,s,()=>s(t.currentUser)),Xg(t,a=>s(a))}}let r=MC("auth");return r&&Ew(t,`http://${r}`),t}function x7(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}oH({loadJS(n){return new Promise((e,t)=>{let i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=r=>{let o=Fi("internal-error");o.customData=r,t(o)},i.type="text/javascript",i.charset="UTF-8",x7().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});M7("Browser");function ak(n){return new ee(function(e){var t=Jg(n,e.next.bind(e),e.error.bind(e),e.complete.bind(e));return{unsubscribe:t}})}var ck="auth",yn=class{constructor(e){return e}},ua=class{constructor(){return Wo(ck)}};var Rw=new G("angularfire2.auth-instances");function h9(n,e){let t=aa(ck,n,e);return t&&new yn(t)}function g9(n){return(e,t)=>{let i=e.runOutsideAngular(()=>n(t));return new yn(i)}}var m9={provide:ua,deps:[[new Wt,Rw]]},_9={provide:yn,useFactory:h9,deps:[[new Wt,Rw],Ni]};function lk(n,...e){return at("angularfire",_r.full,"auth"),dn([_9,m9,{provide:Rw,useFactory:g9(n),multi:!0,deps:[ke,Be,vr,Xr,[new Wt,qo],...e]}])}var Jo=_t(ak,!0);var uk=_t(Pw,!0,2);var dk=_t(kw,!0);var fk=_t(Ow,!0,2);var pk=_t(Aw,!0,2);var Nw=_t(Sw,!0,2);var gk="@firebase/database",mk="1.0.20";var UE="";function v9(n){UE=n}var $w=class{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){t==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Rt(t))}get(e){let t=this.domStorage_.getItem(this.prefixedName_(e));return t==null?null:Fc(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}};var Hw=class{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){t==null?delete this.cache_[e]:this.cache_[e]=t}get(e){return Ri(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}};var Kk=function(n){try{if(typeof window<"u"&&typeof window[n]<"u"){let e=window[n];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new $w(e)}}catch{}return new Hw},fa=Kk("localStorage"),Ww=Kk("sessionStorage");var Qc=new hr("@firebase/database"),y9=(function(){let n=1;return function(){return n++}})(),Yk=function(n){let e=BT(n),t=new wg;t.update(e);let i=t.digest();return Bc.encodeByteArray(i)},Ad=function(...n){let e="";for(let t=0;t<n.length;t++){let i=n[t];Array.isArray(i)||i&&typeof i=="object"&&typeof i.length=="number"?e+=Ad.apply(null,i):typeof i=="object"?e+=Rt(i):e+=i,e+=" "}return e},pa=null,_k=!0,b9=function(n,e){z(!e||n===!0||n===!1,"Can't turn on custom loggers persistently."),n===!0?(Qc.logLevel=et.VERBOSE,pa=Qc.log.bind(Qc),e&&Ww.set("logging_enabled",!0)):typeof n=="function"?pa=n:(pa=null,Ww.remove("logging_enabled"))},rn=function(...n){if(_k===!0&&(_k=!1,pa===null&&Ww.get("logging_enabled")===!0&&b9(!0)),pa){let e=Ad.apply(null,n);pa(e)}},kd=function(n){return function(...e){rn(n,...e)}},Gw=function(...n){let e="FIREBASE INTERNAL ERROR: "+Ad(...n);Qc.error(e)},io=function(...n){let e=`FIREBASE FATAL ERROR: ${Ad(...n)}`;throw Qc.error(e),new Error(e)},Cn=function(...n){let e="FIREBASE WARNING: "+Ad(...n);Qc.warn(e)},C9=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Cn("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},zE=function(n){return typeof n=="number"&&(n!==n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},w9=function(n){if(fr()||document.readyState==="complete")n();else{let e=!1,t=function(){if(!document.body){setTimeout(t,Math.floor(10));return}e||(e=!0,n())};document.addEventListener?(document.addEventListener("DOMContentLoaded",t,!1),window.addEventListener("load",t,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&t()}),window.attachEvent("onload",t))}},ga="[MIN_NAME]",is="[MAX_NAME]",va=function(n,e){if(n===e)return 0;if(n===ga||e===is)return-1;if(e===ga||n===is)return 1;{let t=vk(n),i=vk(e);return t!==null?i!==null?t-i===0?n.length-e.length:t-i:-1:i!==null?1:n<e?-1:1}},E9=function(n,e){return n===e?0:n<e?-1:1},fd=function(n,e){if(e&&n in e)return e[n];throw new Error("Missing required key ("+n+") in object: "+Rt(e))},$E=function(n){if(typeof n!="object"||n===null)return Rt(n);let e=[];for(let i in n)e.push(i);e.sort();let t="{";for(let i=0;i<e.length;i++)i!==0&&(t+=","),t+=Rt(e[i]),t+=":",t+=$E(n[e[i]]);return t+="}",t},Qk=function(n,e){let t=n.length;if(t<=e)return[n];let i=[];for(let r=0;r<t;r+=e)r+e>t?i.push(n.substring(r,t)):i.push(n.substring(r,r+e));return i};function on(n,e){for(let t in n)n.hasOwnProperty(t)&&e(t,n[t])}var Zk=function(n){z(!zE(n),"Invalid JSON number");let e=11,t=52,i=(1<<e-1)-1,r,o,s,a,c;n===0?(o=0,s=0,r=1/n===-1/0?1:0):(r=n<0,n=Math.abs(n),n>=Math.pow(2,1-i)?(a=Math.min(Math.floor(Math.log(n)/Math.LN2),i),o=a+i,s=Math.round(n*Math.pow(2,t-a)-Math.pow(2,t))):(o=0,s=Math.round(n/Math.pow(2,1-i-t))));let l=[];for(c=t;c;c-=1)l.push(s%2?1:0),s=Math.floor(s/2);for(c=e;c;c-=1)l.push(o%2?1:0),o=Math.floor(o/2);l.push(r?1:0),l.reverse();let h=l.join(""),f="";for(c=0;c<64;c+=8){let y=parseInt(h.substr(c,8),2).toString(16);y.length===1&&(y="0"+y),f=f+y}return f.toLowerCase()},M9=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},I9=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function P9(n,e){let t="Unknown Error";n==="too_big"?t="The data requested exceeds the maximum size that can be accessed with a single request.":n==="permission_denied"?t="Client doesn't have permission to access the desired data.":n==="unavailable"&&(t="The service is unavailable");let i=new Error(n+" at "+e._path.toString()+": "+t);return i.code=n.toUpperCase(),i}var O9=new RegExp("^-?(0*)\\d{1,10}$"),x9=-2147483648,S9=2147483647,vk=function(n){if(O9.test(n)){let e=Number(n);if(e>=x9&&e<=S9)return e}return null},sl=function(n){try{n()}catch(e){setTimeout(()=>{let t=e.stack||"";throw Cn("Exception was thrown by user callback.",t),e},Math.floor(0))}},D9=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},_d=function(n,e){let t=setTimeout(n,e);return typeof t=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(t):typeof t=="object"&&t.unref&&t.unref(),t};var qw=class{constructor(e,t){this.appCheckProvider=t,this.appName=e.name,nn(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=t?.getImmediate({optional:!0}),this.appCheck||t?.get().then(i=>this.appCheck=i)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((t,i)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(t,i):t(null)},0)})}addTokenChangeListener(e){var t;(t=this.appCheckProvider)===null||t===void 0||t.get().then(i=>i.addTokenListener(e))}notifyForInvalidToken(){Cn(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}};var Kw=class{constructor(e,t,i){this.appName_=e,this.firebaseOptions_=t,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(r=>this.auth_=r)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(t=>t&&t.code==="auth/token-not-initialized"?(rn("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)):new Promise((t,i)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(t,i):t(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(t=>t.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(t=>t.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Cn(e)}},vd=(()=>{class n{constructor(t){this.accessToken=t}getToken(t){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(t){t(this.accessToken)}removeTokenChangeListener(t){}notifyForInvalidToken(){}}n.OWNER="owner";return n})(),nm="5",Xk="v",Jk="s",eR="r",tR="f",nR=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,iR="ls",rR="p",Yw="ac",oR="websocket",sR="long_polling";var im=class{constructor(e,t,i,r,o=!1,s="",a=!1,c=!1,l=null){this.secure=t,this.namespace=i,this.webSocketOnly=r,this.nodeAdmin=o,this.persistenceKey=s,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=c,this.emulatorOptions=l,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=fa.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&fa.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){let e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${t}`}};function T9(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams}function aR(n,e,t){z(typeof e=="string","typeof type must == string"),z(typeof t=="object","typeof params must == object");let i;if(e===oR)i=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else if(e===sR)i=(n.secure?"https://":"http://")+n.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);T9(n)&&(t.ns=n.namespace);let r=[];return on(t,(o,s)=>{r.push(o+"="+s)}),i+r.join("&")}var Qw=class{constructor(){this.counters_={}}incrementCounter(e,t=1){Ri(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return OT(this.counters_)}};var Lw={},Fw={};function HE(n){let e=n.toString();return Lw[e]||(Lw[e]=new Qw),Lw[e]}function A9(n,e){let t=n.toString();return Fw[t]||(Fw[t]=e()),Fw[t]}var Zw=class{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){let i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let r=0;r<i.length;++r)i[r]&&sl(()=>{this.onMessage_(i[r])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}};var yk="start",k9="close",R9="pLPCommand",N9="pRTLPCB",cR="id",lR="pw",uR="ser",L9="cb",F9="seg",B9="ts",j9="d",V9="dframe",dR=1870,fR=30,U9=dR-fR,z9=25e3,$9=3e4,Xw=class n{constructor(e,t,i,r,o,s,a){this.connId=e,this.repoInfo=t,this.applicationId=i,this.appCheckToken=r,this.authToken=o,this.transportSessionId=s,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=kd(e),this.stats_=HE(t),this.urlFn=c=>(this.appCheckToken&&(c[Yw]=this.appCheckToken),aR(t,sR,c))}open(e,t){this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new Zw(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor($9)),w9(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Jw((...o)=>{let[s,a,c,l,h]=o;if(this.incrementIncomingBytes_(o),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,s===yk)this.id=a,this.password=c;else if(s===k9)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+s)},(...o)=>{let[s,a]=o;this.incrementIncomingBytes_(o),this.myPacketOrderer.handleResponse(s,a)},()=>{this.onClosed_()},this.urlFn);let i={};i[yk]="t",i[uR]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(i[L9]=this.scriptTagHolder.uniqueCallbackIdentifier),i[Xk]=nm,this.transportSessionId&&(i[Jk]=this.transportSessionId),this.lastSessionId&&(i[iR]=this.lastSessionId),this.applicationId&&(i[rR]=this.applicationId),this.appCheckToken&&(i[Yw]=this.appCheckToken),typeof location<"u"&&location.hostname&&nR.test(location.hostname)&&(i[eR]=tR);let r=this.urlFn(i);this.log_("Connecting via long-poll to "+r),this.scriptTagHolder.addTag(r,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){n.forceAllow_=!0}static forceDisallow(){n.forceDisallow_=!0}static isAvailable(){return fr()?!1:n.forceAllow_?!0:!n.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!M9()&&!I9()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){let t=Rt(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);let i=wC(t),r=Qk(i,U9);for(let o=0;o<r.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[o]),this.curSegmentNum++}addDisconnectPingFrame(e,t){if(fr())return;this.myDisconnFrame=document.createElement("iframe");let i={};i[V9]="t",i[cR]=e,i[lR]=t,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){let t=Rt(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}},Jw=class n{constructor(e,t,i,r){if(this.onDisconnect=i,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0,fr())this.commandCB=e,this.onMessageCB=t;else{this.uniqueCallbackIdentifier=y9(),window[R9+this.uniqueCallbackIdentifier]=e,window[N9+this.uniqueCallbackIdentifier]=t,this.myIFrame=n.createIFrame_();let o="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(o='<script>document.domain="'+document.domain+'";<\/script>');let s="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(s),this.myIFrame.doc.close()}catch(a){rn("frame writing exception"),a.stack&&rn(a.stack),rn(a)}}}static createIFrame_(){let e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||rn("No IE domain setting required")}catch{let i=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));let e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;let e={};e[cR]=this.myID,e[lR]=this.myPW,e[uR]=this.currentSerial;let t=this.urlFn(e),i="",r=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+fR+i.length<=dR;){let s=this.pendingSegs.shift();i=i+"&"+F9+r+"="+s.seg+"&"+B9+r+"="+s.ts+"&"+j9+r+"="+s.d,r++}return t=t+i,this.addLongPollTag_(t,this.currentSerial),!0}else return!1}enqueueSegment(e,t,i){this.pendingSegs.push({seg:e,ts:t,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);let i=()=>{this.outstandingRequests.delete(t),this.newRequest_()},r=setTimeout(i,Math.floor(z9)),o=()=>{clearTimeout(r),i()};this.addTag(e,o)}addTag(e,t){fr()?this.doNodeLongPoll(e,t):setTimeout(()=>{try{if(!this.sendNewPolls)return;let i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=e,i.onload=i.onreadystatechange=function(){let r=i.readyState;(!r||r==="loaded"||r==="complete")&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),t())},i.onerror=()=>{rn("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))}};var H9=16384,W9=45e3,rm=null;typeof MozWebSocket<"u"?rm=MozWebSocket:typeof WebSocket<"u"&&(rm=WebSocket);var pd=(()=>{class n{constructor(t,i,r,o,s,a,c){this.connId=t,this.applicationId=r,this.appCheckToken=o,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=kd(this.connId),this.stats_=HE(i),this.connURL=n.connectionURL_(i,a,c,o,r),this.nodeAdmin=i.nodeAdmin}static connectionURL_(t,i,r,o,s){let a={};return a[Xk]=nm,!fr()&&typeof location<"u"&&location.hostname&&nR.test(location.hostname)&&(a[eR]=tR),i&&(a[Jk]=i),r&&(a[iR]=r),o&&(a[Yw]=o),s&&(a[rR]=s),aR(t,oR,a)}open(t,i){this.onDisconnect=i,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,fa.set("previous_websocket_failure",!0);try{let r;if(fr()){let o=this.nodeAdmin?"AdminNode":"Node";r={headers:{"User-Agent":`Firebase/${nm}/${UE}/${process.platform}/${o}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(r.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(r.headers["X-Firebase-AppCheck"]=this.appCheckToken);let s=process.env,a=this.connURL.indexOf("wss://")===0?s.HTTPS_PROXY||s.https_proxy:s.HTTP_PROXY||s.http_proxy;a&&(r.proxy={origin:a})}this.mySock=new rm(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");let o=r.message||r.data;o&&this.log_(o),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");let o=r.message||r.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){n.forceDisallow_=!0}static isAvailable(){let t=!1;if(typeof navigator<"u"&&navigator.userAgent){let i=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(i);r&&r.length>1&&parseFloat(r[1])<4.4&&(t=!0)}return!t&&rm!==null&&!n.forceDisallow_}static previouslyFailed(){return fa.isInMemoryStorage||fa.get("previous_websocket_failure")===!0}markConnectionHealthy(){fa.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){let i=this.frames.join("");this.frames=null;let r=Fc(i);this.onMessage(r)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if(z(this.frames===null,"We already have a frame buffer"),t.length<=6){let i=Number(t);if(!isNaN(i))return this.handleNewFrameCount_(i),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(this.mySock===null)return;let i=t.data;if(this.bytesReceived+=i.length,this.stats_.incrementCounter("bytes_received",i.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(i);else{let r=this.extractFrameCount_(i);r!==null&&this.appendFrame_(r)}}send(t){this.resetKeepAlive();let i=Rt(t);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);let r=Qk(i,H9);r.length>1&&this.sendString_(String(r.length));for(let o=0;o<r.length;o++)this.sendString_(r[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(W9))}sendString_(t){try{this.mySock.send(t)}catch(i){this.log_("Exception thrown from WebSocket.send():",i.message||i.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}n.responsesRequiredToBeHealthy=2,n.healthyTimeout=3e4;return n})(),G9=(()=>{class n{static get ALL_TRANSPORTS(){return[Xw,pd]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(t){this.initTransports_(t)}initTransports_(t){let i=pd&&pd.isAvailable(),r=i&&!pd.previouslyFailed();if(t.webSocketOnly&&(i||Cn("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[pd];else{let o=this.transports_=[];for(let s of n.ALL_TRANSPORTS)s&&s.isAvailable()&&o.push(s);n.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}n.globalTransportInitialized_=!1;return n})(),q9=6e4,K9=5e3,Y9=10*1024,Q9=100*1024,Bw="t",bk="d",Z9="s",Ck="r",X9="e",wk="o",Ek="a",Mk="n",Ik="p",J9="h",eE=class{constructor(e,t,i,r,o,s,a,c,l,h){this.id=e,this.repoInfo_=t,this.applicationId_=i,this.appCheckToken_=r,this.authToken_=o,this.onMessage_=s,this.onReady_=a,this.onDisconnect_=c,this.onKill_=l,this.lastSessionId=h,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=kd("c:"+this.id+":"),this.transportManager_=new G9(t),this.log_("Connection created"),this.start_()}start_(){let e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;let t=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(t,i)},Math.floor(0));let r=e.healthyTimeout||0;r>0&&(this.healthyTimeout_=_d(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>Q9?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>Y9?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){let t={t:"d",d:e};this.sendData_(t)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(Bw in e){let t=e[Bw];t===Ek?this.upgradeIfSecondaryHealthy_():t===Ck?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):t===wk&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){let t=fd("t",e),i=fd("d",e);if(t==="c")this.onSecondaryControl_(i);else if(t==="d")this.pendingDataMessages.push(i);else throw new Error("Unknown protocol layer: "+t)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:Ik,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:Ek,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:Mk,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){let t=fd("t",e),i=fd("d",e);t==="c"?this.onControl_(i):t==="d"&&this.onDataMessage_(i)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){let t=fd(Bw,e);if(bk in e){let i=e[bk];if(t===J9){let r=Object.assign({},i);this.repoInfo_.isUsingEmulator&&(r.h=this.repoInfo_.host),this.onHandshake_(r)}else if(t===Mk){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else t===Z9?this.onConnectionShutdown_(i):t===Ck?this.onReset_(i):t===X9?Gw("Server Error: "+i):t===wk?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Gw("Unknown control packet command: "+t)}}onHandshake_(e){let t=e.ts,i=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),nm!==i&&Cn("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){let e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;let t=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,i),_d(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(q9))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):_d(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(K9))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:Ik,d:{}}}))}onSecondaryConnectionLost_(){let e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(fa.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}};var om=class{put(e,t,i,r){}merge(e,t,i,r){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,i){}onDisconnectMerge(e,t,i){}onDisconnectCancel(e,t){}reportStats(e){}};var sm=class{constructor(e){this.allowedEvents_=e,this.listeners_={},z(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...t){if(Array.isArray(this.listeners_[e])){let i=[...this.listeners_[e]];for(let r=0;r<i.length;r++)i[r].callback.apply(i[r].context,t)}}on(e,t,i){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:i});let r=this.getInitialEvent(e);r&&t.apply(i,r)}off(e,t,i){this.validateEventType_(e);let r=this.listeners_[e]||[];for(let o=0;o<r.length;o++)if(r[o].callback===t&&(!i||i===r[o].context)){r.splice(o,1);return}}validateEventType_(e){z(this.allowedEvents_.find(t=>t===e),"Unknown event: "+e)}};var am=class n extends sm{static getInstance(){return new n}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Ku()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return z(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}};var Pk=32,Ok=768,He=class{constructor(e,t){if(t===void 0){this.pieces_=e.split("/");let i=0;for(let r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[i]=this.pieces_[r],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)this.pieces_[t]!==""&&(e+="/"+this.pieces_[t]);return e||"/"}};function je(){return new He("")}function Oe(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function rs(n){return n.pieces_.length-n.pieceNum_}function lt(n){let e=n.pieceNum_;return e<n.pieces_.length&&e++,new He(n.pieces_,e)}function WE(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function eW(n){let e="";for(let t=n.pieceNum_;t<n.pieces_.length;t++)n.pieces_[t]!==""&&(e+="/"+encodeURIComponent(String(n.pieces_[t])));return e||"/"}function wd(n,e=0){return n.pieces_.slice(n.pieceNum_+e)}function pR(n){if(n.pieceNum_>=n.pieces_.length)return null;let e=[];for(let t=n.pieceNum_;t<n.pieces_.length-1;t++)e.push(n.pieces_[t]);return new He(e,0)}function It(n,e){let t=[];for(let i=n.pieceNum_;i<n.pieces_.length;i++)t.push(n.pieces_[i]);if(e instanceof He)for(let i=e.pieceNum_;i<e.pieces_.length;i++)t.push(e.pieces_[i]);else{let i=e.split("/");for(let r=0;r<i.length;r++)i[r].length>0&&t.push(i[r])}return new He(t,0)}function xe(n){return n.pieceNum_>=n.pieces_.length}function bn(n,e){let t=Oe(n),i=Oe(e);if(t===null)return e;if(t===i)return bn(lt(n),lt(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+n+")")}function tW(n,e){let t=wd(n,0),i=wd(e,0);for(let r=0;r<t.length&&r<i.length;r++){let o=va(t[r],i[r]);if(o!==0)return o}return t.length===i.length?0:t.length<i.length?-1:1}function GE(n,e){if(rs(n)!==rs(e))return!1;for(let t=n.pieceNum_,i=e.pieceNum_;t<=n.pieces_.length;t++,i++)if(n.pieces_[t]!==e.pieces_[i])return!1;return!0}function ui(n,e){let t=n.pieceNum_,i=e.pieceNum_;if(rs(n)>rs(e))return!1;for(;t<n.pieces_.length;){if(n.pieces_[t]!==e.pieces_[i])return!1;++t,++i}return!0}var tE=class{constructor(e,t){this.errorPrefix_=t,this.parts_=wd(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=Zu(this.parts_[i]);hR(this)}};function nW(n,e){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(e),n.byteLength_+=Zu(e),hR(n)}function iW(n){let e=n.parts_.pop();n.byteLength_-=Zu(e),n.parts_.length>0&&(n.byteLength_-=1)}function hR(n){if(n.byteLength_>Ok)throw new Error(n.errorPrefix_+"has a key path longer than "+Ok+" bytes ("+n.byteLength_+").");if(n.parts_.length>Pk)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+Pk+") or object contains a cycle "+da(n))}function da(n){return n.parts_.length===0?"":"in property '"+n.parts_.join(".")+"'"}var nE=class n extends sm{static getInstance(){return new n}constructor(){super(["visible"]);let e,t;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(t="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(t="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(t="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,()=>{let i=!document[e];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}getInitialEvent(e){return z(e==="visible","Unknown event type: "+e),[this.visible_]}};var hd=1e3,rW=300*1e3,xk=30*1e3,oW=1.3,sW=3e4,aW="server_kill",Sk=3,qE=(()=>{class n extends om{constructor(t,i,r,o,s,a,c,l){if(super(),this.repoInfo_=t,this.applicationId_=i,this.onDataUpdate_=r,this.onConnectStatus_=o,this.onServerInfoUpdate_=s,this.authTokenProvider_=a,this.appCheckTokenProvider_=c,this.authOverride_=l,this.id=n.nextPersistentConnectionId_++,this.log_=kd("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=hd,this.maxReconnectDelay_=rW,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l&&!fr())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");nE.getInstance().on("visible",this.onVisible_,this),t.host.indexOf("fblocal")===-1&&am.getInstance().on("online",this.onOnline_,this)}sendRequest(t,i,r){let o=++this.requestNumber_,s={r:o,a:t,b:i};this.log_(Rt(s)),z(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),r&&(this.requestCBHash_[o]=r)}get(t){this.initConnection_();let i=new ci,o={action:"g",request:{p:t._path.toString(),q:t._queryObject},onComplete:a=>{let c=a.d;a.s==="ok"?i.resolve(c):i.reject(c)}};this.outstandingGets_.push(o),this.outstandingGetCount_++;let s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),i.promise}listen(t,i,r,o){this.initConnection_();let s=t._queryIdentifier,a=t._path.toString();this.log_("Listen called for "+a+" "+s),this.listens.has(a)||this.listens.set(a,new Map),z(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),z(!this.listens.get(a).has(s),"listen() called twice for same path/queryId.");let c={onComplete:o,hashFn:i,query:t,tag:r};this.listens.get(a).set(s,c),this.connected_&&this.sendListen_(c)}sendGet_(t){let i=this.outstandingGets_[t];this.sendRequest("g",i.request,r=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),i.onComplete&&i.onComplete(r)})}sendListen_(t){let i=t.query,r=i._path.toString(),o=i._queryIdentifier;this.log_("Listen on "+r+" for "+o);let s={p:r},a="q";t.tag&&(s.q=i._queryObject,s.t=t.tag),s.h=t.hashFn(),this.sendRequest(a,s,c=>{let l=c.d,h=c.s;n.warnOnListenWarnings_(l,i),(this.listens.get(r)&&this.listens.get(r).get(o))===t&&(this.log_("listen response",c),h!=="ok"&&this.removeListen_(r,o),t.onComplete&&t.onComplete(h,l))})}static warnOnListenWarnings_(t,i){if(t&&typeof t=="object"&&Ri(t,"w")){let r=ra(t,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){let o='".indexOn": "'+i._queryParams.getIndex().toString()+'"',s=i._path.toString();Cn(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&t.length===40||LT(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=xk)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){let t=this.authToken_,i=NT(t)?"auth":"gauth",r={cred:t};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(i,r,o=>{let s=o.s,a=o.d||"error";this.authToken_===t&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,a))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{let i=t.s,r=t.d||"error";i==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(i,r)})}unlisten(t,i){let r=t._path.toString(),o=t._queryIdentifier;this.log_("Unlisten called for "+r+" "+o),z(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,o)&&this.connected_&&this.sendUnlisten_(r,o,t._queryObject,i)}sendUnlisten_(t,i,r,o){this.log_("Unlisten on "+t+" for "+i);let s={p:t},a="n";o&&(s.q=r,s.t=o),this.sendRequest(a,s)}onDisconnectPut(t,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,i,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:i,onComplete:r})}onDisconnectMerge(t,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,i,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:i,onComplete:r})}onDisconnectCancel(t,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,i):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:i})}sendOnDisconnect_(t,i,r,o){let s={p:i,d:r};this.log_("onDisconnect "+t,s),this.sendRequest(t,s,a=>{o&&setTimeout(()=>{o(a.s,a.d)},Math.floor(0))})}put(t,i,r,o){this.putInternal("p",t,i,r,o)}merge(t,i,r,o){this.putInternal("m",t,i,r,o)}putInternal(t,i,r,o,s){this.initConnection_();let a={p:i,d:r};s!==void 0&&(a.h=s),this.outstandingPuts_.push({action:t,request:a,onComplete:o}),this.outstandingPutCount_++;let c=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(c):this.log_("Buffering put: "+i)}sendPut_(t){let i=this.outstandingPuts_[t].action,r=this.outstandingPuts_[t].request,o=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(i,r,s=>{this.log_(i+" response",s),delete this.outstandingPuts_[t],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),o&&o(s.s,s.d)})}reportStats(t){if(this.connected_){let i={c:t};this.log_("reportStats",i),this.sendRequest("s",i,r=>{if(r.s!=="ok"){let s=r.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+Rt(t));let i=t.r,r=this.requestCBHash_[i];r&&(delete this.requestCBHash_[i],r(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,i){this.log_("handleServerMessage",t,i),t==="d"?this.onDataUpdate_(i.p,i.d,!1,i.t):t==="m"?this.onDataUpdate_(i.p,i.d,!0,i.t):t==="c"?this.onListenRevoked_(i.p,i.q):t==="ac"?this.onAuthRevoked_(i.s,i.d):t==="apc"?this.onAppCheckRevoked_(i.s,i.d):t==="sd"?this.onSecurityDebugPacket_(i):Gw("Unrecognized action received from server: "+Rt(t)+`
Are you using the latest client?`)}onReady_(t,i){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(t),this.lastSessionId=i,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){z(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=hd,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=hd,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>sW&&(this.reconnectDelay_=hd),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());let t=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_),i=Math.max(0,this.reconnectDelay_-t);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*oW)}this.onConnectStatus_(!1)}establishConnection_(){return x(this,null,function*(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;let t=this.onDataMessage_.bind(this),i=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),o=this.id+":"+n.nextConnectionId_++,s=this.lastSessionId,a=!1,c=null,l=function(){c?c.close():(a=!0,r())},h=function(y){z(c,"sendRequest call when we're not connected not allowed."),c.sendRequest(y)};this.realtime_={close:l,sendRequest:h};let f=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{let[y,w]=yield Promise.all([this.authTokenProvider_.getToken(f),this.appCheckTokenProvider_.getToken(f)]);a?rn("getToken() completed but was canceled"):(rn("getToken() completed. Creating connection."),this.authToken_=y&&y.accessToken,this.appCheckToken_=w&&w.token,c=new eE(o,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,t,i,r,I=>{Cn(I+" ("+this.repoInfo_.toString()+")"),this.interrupt(aW)},s))}catch(y){this.log_("Failed to get token: "+y),a||(this.repoInfo_.nodeAdmin&&Cn(y),l())}}})}interrupt(t){rn("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){rn("Resuming connection for reason: "+t),delete this.interruptReasons_[t],Yu(this.interruptReasons_)&&(this.reconnectDelay_=hd,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){let i=t-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:i})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){let i=this.outstandingPuts_[t];i&&"h"in i.request&&i.queued&&(i.onComplete&&i.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(t,i){let r;i?r=i.map(s=>$E(s)).join("$"):r="default";let o=this.removeListen_(t,r);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(t,i){let r=new He(t).toString(),o;if(this.listens.has(r)){let s=this.listens.get(r);o=s.get(i),s.delete(i),s.size===0&&this.listens.delete(r)}else o=void 0;return o}onAuthRevoked_(t,i){rn("Auth token revoked: "+t+"/"+i),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(t==="invalid_token"||t==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=Sk&&(this.reconnectDelay_=xk,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,i){rn("App check token revoked: "+t+"/"+i),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(t==="invalid_token"||t==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=Sk&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(let t of this.listens.values())for(let i of t.values())this.sendListen_(i);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){let t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){let t={},i="js";fr()&&(this.repoInfo_.nodeAdmin?i="admin_node":i="node"),t["sdk."+i+"."+UE.replace(/\./g,"-")]=1,Ku()?t["framework.cordova"]=1:Ig()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){let t=am.getInstance().currentlyOnline();return Yu(this.interruptReasons_)&&t}}n.nextPersistentConnectionId_=0,n.nextConnectionId_=0;return n})(),Se=class n{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new n(e,t)}};var Zc=class{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){let i=new Se(ga,e),r=new Se(ga,t);return this.compare(i,r)!==0}minPost(){return Se.MIN}};var tm,cm=class extends Zc{static get __EMPTY_NODE(){return tm}static set __EMPTY_NODE(e){tm=e}compare(e,t){return va(e.name,t.name)}isDefinedOn(e){throw ia("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return Se.MIN}maxPost(){return new Se(is,tm)}makePost(e,t){return z(typeof e=="string","KeyIndex indexValue must always be a string."),new Se(e,tm)}toString(){return".key"}},ha=new cm;var Yc=class{constructor(e,t,i,r,o=null){this.isReverse_=r,this.resultGenerator_=o,this.nodeStack_=[];let s=1;for(;!e.isEmpty();)if(e=e,s=t?i(e.key,t):1,r&&(s*=-1),s<0)this.isReverse_?e=e.left:e=e.right;else if(s===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),t;if(this.resultGenerator_?t=this.resultGenerator_(e.key,e.value):t={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}},Bi=(()=>{class n{constructor(t,i,r,o,s){this.key=t,this.value=i,this.color=r??n.RED,this.left=o??di.EMPTY_NODE,this.right=s??di.EMPTY_NODE}copy(t,i,r,o,s){return new n(t??this.key,i??this.value,r??this.color,o??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,r){let o=this,s=r(t,o.key);return s<0?o=o.copy(null,null,null,o.left.insert(t,i,r),null):s===0?o=o.copy(null,i,null,null,null):o=o.copy(null,null,null,null,o.right.insert(t,i,r)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return di.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,i){let r,o;if(r=this,i(t,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(t,i),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),i(t,r.key)===0){if(r.right.isEmpty())return di.EMPTY_NODE;o=r.right.min_(),r=r.copy(o.key,o.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(t,i))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){let t=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){let t=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){let t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth_(){let t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");let t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}return n.RED=!0,n.BLACK=!1,n})(),iE=class{copy(e,t,i,r,o){return this}insert(e,t,i){return new Bi(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}},di=class n{constructor(e,t=n.EMPTY_NODE){this.comparator_=e,this.root_=t}insert(e,t){return new n(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,Bi.BLACK,null,null))}remove(e){return new n(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Bi.BLACK,null,null))}get(e){let t,i=this.root_;for(;!i.isEmpty();){if(t=this.comparator_(e,i.key),t===0)return i.value;t<0?i=i.left:t>0&&(i=i.right)}return null}getPredecessorKey(e){let t,i=this.root_,r=null;for(;!i.isEmpty();)if(t=this.comparator_(e,i.key),t===0){if(i.left.isEmpty())return r?r.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}else t<0?i=i.left:t>0&&(r=i,i=i.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Yc(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new Yc(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new Yc(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new Yc(this.root_,null,this.comparator_,!0,e)}};di.EMPTY_NODE=new iE;function cW(n,e){return va(n.name,e.name)}function KE(n,e){return va(n,e)}var rE;function lW(n){rE=n}var gR=function(n){return typeof n=="number"?"number:"+Zk(n):"string:"+n},mR=function(n){if(n.isLeafNode()){let e=n.val();z(typeof e=="string"||typeof e=="number"||typeof e=="object"&&Ri(e,".sv"),"Priority must be a string or number.")}else z(n===rE||n.isEmpty(),"priority of unexpected type.");z(n===rE||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};var Dk,Xc=(()=>{class n{static set __childrenNodeConstructor(t){Dk=t}static get __childrenNodeConstructor(){return Dk}constructor(t,i=n.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=i,this.lazyHash_=null,z(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),mR(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new n(this.value_,t)}getImmediateChild(t){return t===".priority"?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return xe(t)?this:Oe(t)===".priority"?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,i){return null}updateImmediateChild(t,i){return t===".priority"?this.updatePriority(i):i.isEmpty()&&t!==".priority"?this:n.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,i).updatePriority(this.priorityNode_)}updateChild(t,i){let r=Oe(t);return r===null?i:i.isEmpty()&&r!==".priority"?this:(z(r!==".priority"||rs(t)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,n.__childrenNodeConstructor.EMPTY_NODE.updateChild(lt(t),i)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,i){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+gR(this.priorityNode_.val())+":");let i=typeof this.value_;t+=i+":",i==="number"?t+=Zk(this.value_):t+=this.value_,this.lazyHash_=Yk(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===n.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof n.__childrenNodeConstructor?-1:(z(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){let i=typeof t.value_,r=typeof this.value_,o=n.VALUE_TYPE_ORDER.indexOf(i),s=n.VALUE_TYPE_ORDER.indexOf(r);return z(o>=0,"Unknown leaf type: "+i),z(s>=0,"Unknown leaf type: "+r),o===s?r==="object"?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:s-o}withIndex(){return this}isIndexed(){return!0}equals(t){if(t===this)return!0;if(t.isLeafNode()){let i=t;return this.value_===i.value_&&this.priorityNode_.equals(i.priorityNode_)}else return!1}}n.VALUE_TYPE_ORDER=["object","boolean","number","string"];return n})(),_R,vR;function uW(n){_R=n}function dW(n){vR=n}var oE=class extends Zc{compare(e,t){let i=e.node.getPriority(),r=t.node.getPriority(),o=i.compareTo(r);return o===0?va(e.name,t.name):o}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return Se.MIN}maxPost(){return new Se(is,new Xc("[PRIORITY-POST]",vR))}makePost(e,t){let i=_R(e);return new Se(t,new Xc("[PRIORITY-POST]",i))}toString(){return".priority"}},bt=new oE;var fW=Math.log(2),sE=class{constructor(e){let t=o=>parseInt(Math.log(o)/fW,10),i=o=>parseInt(Array(o+1).join("1"),2);this.count=t(e+1),this.current_=this.count-1;let r=i(this.count);this.bits_=e+1&r}nextBitIsOne(){let e=!(this.bits_&1<<this.current_);return this.current_--,e}},lm=function(n,e,t,i){n.sort(e);let r=function(c,l){let h=l-c,f,y;if(h===0)return null;if(h===1)return f=n[c],y=t?t(f):f,new Bi(y,f.node,Bi.BLACK,null,null);{let w=parseInt(h/2,10)+c,I=r(c,w),D=r(w+1,l);return f=n[w],y=t?t(f):f,new Bi(y,f.node,Bi.BLACK,I,D)}},o=function(c){let l=null,h=null,f=n.length,y=function(I,D){let T=f-I,L=f;f-=I;let Z=r(T+1,L),le=n[T],te=t?t(le):le;w(new Bi(te,le.node,D,null,Z))},w=function(I){l?(l.left=I,l=I):(h=I,l=I)};for(let I=0;I<c.count;++I){let D=c.nextBitIsOne(),T=Math.pow(2,c.count-(I+1));D?y(T,Bi.BLACK):(y(T,Bi.BLACK),y(T,Bi.RED))}return h},s=new sE(n.length),a=o(s);return new di(i||e,a)};var jw,Kc={},Jc=class n{static get Default(){return z(Kc&&bt,"ChildrenNode.ts has not been loaded"),jw=jw||new n({".priority":Kc},{".priority":bt}),jw}constructor(e,t){this.indexes_=e,this.indexSet_=t}get(e){let t=ra(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof di?t:null}hasIndex(e){return Ri(this.indexSet_,e.toString())}addIndex(e,t){z(e!==ha,"KeyIndex always exists and isn't meant to be added to the IndexMap.");let i=[],r=!1,o=t.getIterator(Se.Wrap),s=o.getNext();for(;s;)r=r||e.isDefinedOn(s.node),i.push(s),s=o.getNext();let a;r?a=lm(i,e.getCompare()):a=Kc;let c=e.toString(),l=Object.assign({},this.indexSet_);l[c]=e;let h=Object.assign({},this.indexes_);return h[c]=a,new n(h,l)}addToIndexes(e,t){let i=Qu(this.indexes_,(r,o)=>{let s=ra(this.indexSet_,o);if(z(s,"Missing index implementation for "+o),r===Kc)if(s.isDefinedOn(e.node)){let a=[],c=t.getIterator(Se.Wrap),l=c.getNext();for(;l;)l.name!==e.name&&a.push(l),l=c.getNext();return a.push(e),lm(a,s.getCompare())}else return Kc;else{let a=t.get(e.name),c=r;return a&&(c=c.remove(new Se(e.name,a))),c.insert(e,e.node)}});return new n(i,this.indexSet_)}removeFromIndexes(e,t){let i=Qu(this.indexes_,r=>{if(r===Kc)return r;{let o=t.get(e.name);return o?r.remove(new Se(e.name,o)):r}});return new n(i,this.indexSet_)}};var gd,ve=(()=>{class n{static get EMPTY_NODE(){return gd||(gd=new n(new di(KE),null,Jc.Default))}constructor(t,i,r){this.children_=t,this.priorityNode_=i,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&mR(this.priorityNode_),this.children_.isEmpty()&&z(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||gd}updatePriority(t){return this.children_.isEmpty()?this:new n(this.children_,t,this.indexMap_)}getImmediateChild(t){if(t===".priority")return this.getPriority();{let i=this.children_.get(t);return i===null?gd:i}}getChild(t){let i=Oe(t);return i===null?this:this.getImmediateChild(i).getChild(lt(t))}hasChild(t){return this.children_.get(t)!==null}updateImmediateChild(t,i){if(z(i,"We should always be passing snapshot nodes"),t===".priority")return this.updatePriority(i);{let r=new Se(t,i),o,s;i.isEmpty()?(o=this.children_.remove(t),s=this.indexMap_.removeFromIndexes(r,this.children_)):(o=this.children_.insert(t,i),s=this.indexMap_.addToIndexes(r,this.children_));let a=o.isEmpty()?gd:this.priorityNode_;return new n(o,a,s)}}updateChild(t,i){let r=Oe(t);if(r===null)return i;{z(Oe(t)!==".priority"||rs(t)===1,".priority must be the last token in a path");let o=this.getImmediateChild(r).updateChild(lt(t),i);return this.updateImmediateChild(r,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;let i={},r=0,o=0,s=!0;if(this.forEachChild(bt,(a,c)=>{i[a]=c.val(t),r++,s&&n.INTEGER_REGEXP_.test(a)?o=Math.max(o,Number(a)):s=!1}),!t&&s&&o<2*r){let a=[];for(let c in i)a[c]=i[c];return a}else return t&&!this.getPriority().isEmpty()&&(i[".priority"]=this.getPriority().val()),i}hash(){if(this.lazyHash_===null){let t="";this.getPriority().isEmpty()||(t+="priority:"+gR(this.getPriority().val())+":"),this.forEachChild(bt,(i,r)=>{let o=r.hash();o!==""&&(t+=":"+i+":"+o)}),this.lazyHash_=t===""?"":Yk(t)}return this.lazyHash_}getPredecessorChildName(t,i,r){let o=this.resolveIndex_(r);if(o){let s=o.getPredecessorKey(new Se(t,i));return s?s.name:null}else return this.children_.getPredecessorKey(t)}getFirstChildName(t){let i=this.resolveIndex_(t);if(i){let r=i.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(t){let i=this.getFirstChildName(t);return i?new Se(i,this.children_.get(i)):null}getLastChildName(t){let i=this.resolveIndex_(t);if(i){let r=i.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(t){let i=this.getLastChildName(t);return i?new Se(i,this.children_.get(i)):null}forEachChild(t,i){let r=this.resolveIndex_(t);return r?r.inorderTraversal(o=>i(o.name,o.node)):this.children_.inorderTraversal(i)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,i){let r=this.resolveIndex_(i);if(r)return r.getIteratorFrom(t,o=>o);{let o=this.children_.getIteratorFrom(t.name,Se.Wrap),s=o.peek();for(;s!=null&&i.compare(s,t)<0;)o.getNext(),s=o.peek();return o}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,i){let r=this.resolveIndex_(i);if(r)return r.getReverseIteratorFrom(t,o=>o);{let o=this.children_.getReverseIteratorFrom(t.name,Se.Wrap),s=o.peek();for(;s!=null&&i.compare(s,t)>0;)o.getNext(),s=o.peek();return o}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===Rd?-1:0}withIndex(t){if(t===ha||this.indexMap_.hasIndex(t))return this;{let i=this.indexMap_.addIndex(t,this.children_);return new n(this.children_,this.priorityNode_,i)}}isIndexed(t){return t===ha||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{let i=t;if(this.getPriority().equals(i.getPriority()))if(this.children_.count()===i.children_.count()){let r=this.getIterator(bt),o=i.getIterator(bt),s=r.getNext(),a=o.getNext();for(;s&&a;){if(s.name!==a.name||!s.node.equals(a.node))return!1;s=r.getNext(),a=o.getNext()}return s===null&&a===null}else return!1;else return!1}}resolveIndex_(t){return t===ha?null:this.indexMap_.get(t.toString())}}return n.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,n})(),aE=class extends ve{constructor(){super(new di(KE),ve.EMPTY_NODE,Jc.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return ve.EMPTY_NODE}isEmpty(){return!1}},Rd=new aE;Object.defineProperties(Se,{MIN:{value:new Se(ga,ve.EMPTY_NODE)},MAX:{value:new Se(is,Rd)}});cm.__EMPTY_NODE=ve.EMPTY_NODE;Xc.__childrenNodeConstructor=ve;lW(Rd);dW(Rd);var pW=!0;function zt(n,e=null){if(n===null)return ve.EMPTY_NODE;if(typeof n=="object"&&".priority"in n&&(e=n[".priority"]),z(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof n=="object"&&".value"in n&&n[".value"]!==null&&(n=n[".value"]),typeof n!="object"||".sv"in n){let t=n;return new Xc(t,zt(e))}if(!(n instanceof Array)&&pW){let t=[],i=!1;if(on(n,(s,a)=>{if(s.substring(0,1)!=="."){let c=zt(a);c.isEmpty()||(i=i||!c.getPriority().isEmpty(),t.push(new Se(s,c)))}}),t.length===0)return ve.EMPTY_NODE;let o=lm(t,cW,s=>s.name,KE);if(i){let s=lm(t,bt.getCompare());return new ve(o,zt(e),new Jc({".priority":s},{".priority":bt}))}else return new ve(o,zt(e),Jc.Default)}else{let t=ve.EMPTY_NODE;return on(n,(i,r)=>{if(Ri(n,i)&&i.substring(0,1)!=="."){let o=zt(r);(o.isLeafNode()||!o.isEmpty())&&(t=t.updateImmediateChild(i,o))}}),t.updatePriority(zt(e))}}uW(zt);var Ed=class extends Zc{constructor(e){super(),this.indexPath_=e,z(!xe(e)&&Oe(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,t){let i=this.extractChild(e.node),r=this.extractChild(t.node),o=i.compareTo(r);return o===0?va(e.name,t.name):o}makePost(e,t){let i=zt(e),r=ve.EMPTY_NODE.updateChild(this.indexPath_,i);return new Se(t,r)}maxPost(){let e=ve.EMPTY_NODE.updateChild(this.indexPath_,Rd);return new Se(is,e)}toString(){return wd(this.indexPath_,0).join("/")}};var cE=class extends Zc{compare(e,t){let i=e.node.compareTo(t.node);return i===0?va(e.name,t.name):i}isDefinedOn(e){return!0}indexedValueChanged(e,t){return!e.equals(t)}minPost(){return Se.MIN}maxPost(){return Se.MAX}makePost(e,t){let i=zt(e);return new Se(t,i)}toString(){return".value"}},yR=new cE;function bR(n){return{type:"value",snapshotNode:n}}function el(n,e){return{type:"child_added",snapshotNode:e,childName:n}}function Md(n,e){return{type:"child_removed",snapshotNode:e,childName:n}}function Id(n,e,t){return{type:"child_changed",snapshotNode:e,childName:n,oldSnap:t}}function hW(n,e){return{type:"child_moved",snapshotNode:e,childName:n}}var Pd=class{constructor(e){this.index_=e}updateChild(e,t,i,r,o,s){z(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");let a=e.getImmediateChild(t);return a.getChild(r).equals(i.getChild(r))&&a.isEmpty()===i.isEmpty()||(s!=null&&(i.isEmpty()?e.hasChild(t)?s.trackChildChange(Md(t,a)):z(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?s.trackChildChange(el(t,i)):s.trackChildChange(Id(t,i,a))),e.isLeafNode()&&i.isEmpty())?e:e.updateImmediateChild(t,i).withIndex(this.index_)}updateFullNode(e,t,i){return i!=null&&(e.isLeafNode()||e.forEachChild(bt,(r,o)=>{t.hasChild(r)||i.trackChildChange(Md(r,o))}),t.isLeafNode()||t.forEachChild(bt,(r,o)=>{if(e.hasChild(r)){let s=e.getImmediateChild(r);s.equals(o)||i.trackChildChange(Id(r,o,s))}else i.trackChildChange(el(r,o))})),t.withIndex(this.index_)}updatePriority(e,t){return e.isEmpty()?ve.EMPTY_NODE:e.updatePriority(t)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}};var um=class n{constructor(e){this.indexedFilter_=new Pd(e.getIndex()),this.index_=e.getIndex(),this.startPost_=n.getStartPost_(e),this.endPost_=n.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){let t=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,i=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return t&&i}updateChild(e,t,i,r,o,s){return this.matches(new Se(t,i))||(i=ve.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,i,r,o,s)}updateFullNode(e,t,i){t.isLeafNode()&&(t=ve.EMPTY_NODE);let r=t.withIndex(this.index_);r=r.updatePriority(ve.EMPTY_NODE);let o=this;return t.forEachChild(bt,(s,a)=>{o.matches(new Se(s,a))||(r=r.updateImmediateChild(s,ve.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,r,i)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){let t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){let t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}else return e.getIndex().maxPost()}};var lE=class{constructor(e){this.withinDirectionalStart=t=>this.reverse_?this.withinEndPost(t):this.withinStartPost(t),this.withinDirectionalEnd=t=>this.reverse_?this.withinStartPost(t):this.withinEndPost(t),this.withinStartPost=t=>{let i=this.index_.compare(this.rangedFilter_.getStartPost(),t);return this.startIsInclusive_?i<=0:i<0},this.withinEndPost=t=>{let i=this.index_.compare(t,this.rangedFilter_.getEndPost());return this.endIsInclusive_?i<=0:i<0},this.rangedFilter_=new um(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,t,i,r,o,s){return this.rangedFilter_.matches(new Se(t,i))||(i=ve.EMPTY_NODE),e.getImmediateChild(t).equals(i)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,i,r,o,s):this.fullLimitUpdateChild_(e,t,i,o,s)}updateFullNode(e,t,i){let r;if(t.isLeafNode()||t.isEmpty())r=ve.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<t.numChildren()&&t.isIndexed(this.index_)){r=ve.EMPTY_NODE.withIndex(this.index_);let o;this.reverse_?o=t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):o=t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let s=0;for(;o.hasNext()&&s<this.limit_;){let a=o.getNext();if(this.withinDirectionalStart(a))if(this.withinDirectionalEnd(a))r=r.updateImmediateChild(a.name,a.node),s++;else break;else continue}}else{r=t.withIndex(this.index_),r=r.updatePriority(ve.EMPTY_NODE);let o;this.reverse_?o=r.getReverseIterator(this.index_):o=r.getIterator(this.index_);let s=0;for(;o.hasNext();){let a=o.getNext();s<this.limit_&&this.withinDirectionalStart(a)&&this.withinDirectionalEnd(a)?s++:r=r.updateImmediateChild(a.name,ve.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,i)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,t,i,r,o){let s;if(this.reverse_){let f=this.index_.getCompare();s=(y,w)=>f(w,y)}else s=this.index_.getCompare();let a=e;z(a.numChildren()===this.limit_,"");let c=new Se(t,i),l=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),h=this.rangedFilter_.matches(c);if(a.hasChild(t)){let f=a.getImmediateChild(t),y=r.getChildAfterChild(this.index_,l,this.reverse_);for(;y!=null&&(y.name===t||a.hasChild(y.name));)y=r.getChildAfterChild(this.index_,y,this.reverse_);let w=y==null?1:s(y,c);if(h&&!i.isEmpty()&&w>=0)return o?.trackChildChange(Id(t,i,f)),a.updateImmediateChild(t,i);{o?.trackChildChange(Md(t,f));let D=a.updateImmediateChild(t,ve.EMPTY_NODE);return y!=null&&this.rangedFilter_.matches(y)?(o?.trackChildChange(el(y.name,y.node)),D.updateImmediateChild(y.name,y.node)):D}}else return i.isEmpty()?e:h&&s(l,c)>=0?(o!=null&&(o.trackChildChange(Md(l.name,l.node)),o.trackChildChange(el(t,i))),a.updateImmediateChild(t,i).updateImmediateChild(l.name,ve.EMPTY_NODE)):e}};var uE=class n{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=bt}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return z(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return z(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:ga}hasEnd(){return this.endSet_}getIndexEndValue(){return z(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return z(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:is}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return z(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===bt}copy(){let e=new n;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}};function gW(n){return n.loadsAllData()?new Pd(n.getIndex()):n.hasLimit()?new lE(n):new um(n)}function mW(n,e,t){let i=n.copy();return i.startSet_=!0,e===void 0&&(e=null),i.indexStartValue_=e,t!=null?(i.startNameSet_=!0,i.indexStartName_=t):(i.startNameSet_=!1,i.indexStartName_=""),i}function _W(n,e,t){let i=n.copy();return i.endSet_=!0,e===void 0&&(e=null),i.indexEndValue_=e,t!==void 0?(i.endNameSet_=!0,i.indexEndName_=t):(i.endNameSet_=!1,i.indexEndName_=""),i}function vW(n,e){let t=n.copy();return t.index_=e,t}function Tk(n){let e={};if(n.isDefault())return e;let t;if(n.index_===bt?t="$priority":n.index_===yR?t="$value":n.index_===ha?t="$key":(z(n.index_ instanceof Ed,"Unrecognized index type!"),t=n.index_.toString()),e.orderBy=Rt(t),n.startSet_){let i=n.startAfterSet_?"startAfter":"startAt";e[i]=Rt(n.indexStartValue_),n.startNameSet_&&(e[i]+=","+Rt(n.indexStartName_))}if(n.endSet_){let i=n.endBeforeSet_?"endBefore":"endAt";e[i]=Rt(n.indexEndValue_),n.endNameSet_&&(e[i]+=","+Rt(n.indexEndName_))}return n.limitSet_&&(n.isViewFromLeft()?e.limitToFirst=n.limit_:e.limitToLast=n.limit_),e}function Ak(n){let e={};if(n.startSet_&&(e.sp=n.indexStartValue_,n.startNameSet_&&(e.sn=n.indexStartName_),e.sin=!n.startAfterSet_),n.endSet_&&(e.ep=n.indexEndValue_,n.endNameSet_&&(e.en=n.indexEndName_),e.ein=!n.endBeforeSet_),n.limitSet_){e.l=n.limit_;let t=n.viewFrom_;t===""&&(n.isViewFromLeft()?t="l":t="r"),e.vf=t}return n.index_!==bt&&(e.i=n.index_.toString()),e}var dE=class n extends om{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,t){return t!==void 0?"tag$"+t:(z(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,t,i,r){super(),this.repoInfo_=e,this.onDataUpdate_=t,this.authTokenProvider_=i,this.appCheckTokenProvider_=r,this.log_=kd("p:rest:"),this.listens_={}}listen(e,t,i,r){let o=e._path.toString();this.log_("Listen called for "+o+" "+e._queryIdentifier);let s=n.getListenId_(e,i),a={};this.listens_[s]=a;let c=Tk(e._queryParams);this.restRequest_(o+".json",c,(l,h)=>{let f=h;if(l===404&&(f=null,l=null),l===null&&this.onDataUpdate_(o,f,!1,i),ra(this.listens_,s)===a){let y;l?l===401?y="permission_denied":y="rest_error:"+l:y="ok",r(y,null)}})}unlisten(e,t){let i=n.getListenId_(e,t);delete this.listens_[i]}get(e){let t=Tk(e._queryParams),i=e._path.toString(),r=new ci;return this.restRequest_(i+".json",t,(o,s)=>{let a=s;o===404&&(a=null,o=null),o===null?(this.onDataUpdate_(i,a,!1,null),r.resolve(a)):r.reject(new Error(a))}),r.promise}refreshAuthToken(e){}restRequest_(e,t={},i){return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([r,o])=>{r&&r.accessToken&&(t.auth=r.accessToken),o&&o.token&&(t.ac=o.token);let s=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+zo(t);this.log_("Sending REST request for "+s);let a=new XMLHttpRequest;a.onreadystatechange=()=>{if(i&&a.readyState===4){this.log_("REST Response for "+s+" received. status:",a.status,"response:",a.responseText);let c=null;if(a.status>=200&&a.status<300){try{c=Fc(a.responseText)}catch{Cn("Failed to parse JSON response for "+s+": "+a.responseText)}i(null,c)}else a.status!==401&&a.status!==404&&Cn("Got unsuccessful REST response for "+s+" Status: "+a.status),i(a.status);i=null}},a.open("GET",s,!0),a.send()})}};var fE=class{constructor(){this.rootNode_=ve.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}};function dm(){return{value:null,children:new Map}}function CR(n,e,t){if(xe(e))n.value=t,n.children.clear();else if(n.value!==null)n.value=n.value.updateChild(e,t);else{let i=Oe(e);n.children.has(i)||n.children.set(i,dm());let r=n.children.get(i);e=lt(e),CR(r,e,t)}}function pE(n,e,t){n.value!==null?t(e,n.value):yW(n,(i,r)=>{let o=new He(e.toString()+"/"+i);pE(r,o,t)})}function yW(n,e){n.children.forEach((t,i)=>{e(i,t)})}var hE=class{constructor(e){this.collection_=e,this.last_=null}get(){let e=this.collection_.get(),t=Object.assign({},e);return this.last_&&on(this.last_,(i,r)=>{t[i]=t[i]-r}),this.last_=e,t}};var kk=10*1e3,bW=30*1e3,CW=300*1e3,gE=class{constructor(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new hE(e);let i=kk+(bW-kk)*Math.random();_d(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){let e=this.statsListener_.get(),t={},i=!1;on(e,(r,o)=>{o>0&&Ri(this.statsToReport_,r)&&(t[r]=o,i=!0)}),i&&this.server_.reportStats(t),_d(this.reportStats_.bind(this),Math.floor(Math.random()*2*CW))}};var br=(function(n){return n[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",n})(br||{});function YE(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function QE(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function ZE(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}var mE=class n{constructor(e,t,i){this.path=e,this.affectedTree=t,this.revert=i,this.type=br.ACK_USER_WRITE,this.source=YE()}operationForChild(e){if(xe(this.path)){if(this.affectedTree.value!=null)return z(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{let t=this.affectedTree.subtree(new He(e));return new n(je(),t,this.revert)}}else return z(Oe(this.path)===e,"operationForChild called for unrelated child."),new n(lt(this.path),this.affectedTree,this.revert)}};var fm=class n{constructor(e,t){this.source=e,this.path=t,this.type=br.LISTEN_COMPLETE}operationForChild(e){return xe(this.path)?new n(this.source,je()):new n(this.source,lt(this.path))}};var tl=class n{constructor(e,t,i){this.source=e,this.path=t,this.snap=i,this.type=br.OVERWRITE}operationForChild(e){return xe(this.path)?new n(this.source,je(),this.snap.getImmediateChild(e)):new n(this.source,lt(this.path),this.snap)}};var Od=class n{constructor(e,t,i){this.source=e,this.path=t,this.children=i,this.type=br.MERGE}operationForChild(e){if(xe(this.path)){let t=this.children.subtree(new He(e));return t.isEmpty()?null:t.value?new tl(this.source,je(),t.value):new n(this.source,je(),t)}else return z(Oe(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new n(this.source,lt(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}};var Cr=class{constructor(e,t,i){this.node_=e,this.fullyInitialized_=t,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(xe(e))return this.isFullyInitialized()&&!this.filtered_;let t=Oe(e);return this.isCompleteForChild(t)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}};var _E=class{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}};function wW(n,e,t,i){let r=[],o=[];return e.forEach(s=>{s.type==="child_changed"&&n.index_.indexedValueChanged(s.oldSnap,s.snapshotNode)&&o.push(hW(s.childName,s.snapshotNode))}),md(n,r,"child_removed",e,i,t),md(n,r,"child_added",e,i,t),md(n,r,"child_moved",o,i,t),md(n,r,"child_changed",e,i,t),md(n,r,"value",e,i,t),r}function md(n,e,t,i,r,o){let s=i.filter(a=>a.type===t);s.sort((a,c)=>MW(n,a,c)),s.forEach(a=>{let c=EW(n,a,o);r.forEach(l=>{l.respondsTo(a.type)&&e.push(l.createEvent(c,n.query_))})})}function EW(n,e,t){return e.type==="value"||e.type==="child_removed"||(e.prevName=t.getPredecessorChildName(e.childName,e.snapshotNode,n.index_)),e}function MW(n,e,t){if(e.childName==null||t.childName==null)throw ia("Should only compare child_ events.");let i=new Se(e.childName,e.snapshotNode),r=new Se(t.childName,t.snapshotNode);return n.index_.compare(i,r)}function Pm(n,e){return{eventCache:n,serverCache:e}}function yd(n,e,t,i){return Pm(new Cr(e,t,i),n.serverCache)}function wR(n,e,t,i){return Pm(n.eventCache,new Cr(e,t,i))}function pm(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function ma(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}var Vw,IW=()=>(Vw||(Vw=new di(E9)),Vw),wn=class n{static fromObject(e){let t=new n(null);return on(e,(i,r)=>{t=t.set(new He(i),r)}),t}constructor(e,t=IW()){this.value=e,this.children=t}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,t){if(this.value!=null&&t(this.value))return{path:je(),value:this.value};if(xe(e))return null;{let i=Oe(e),r=this.children.get(i);if(r!==null){let o=r.findRootMostMatchingPathAndValue(lt(e),t);return o!=null?{path:It(new He(i),o.path),value:o.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(xe(e))return this;{let t=Oe(e),i=this.children.get(t);return i!==null?i.subtree(lt(e)):new n(null)}}set(e,t){if(xe(e))return new n(t,this.children);{let i=Oe(e),o=(this.children.get(i)||new n(null)).set(lt(e),t),s=this.children.insert(i,o);return new n(this.value,s)}}remove(e){if(xe(e))return this.children.isEmpty()?new n(null):new n(null,this.children);{let t=Oe(e),i=this.children.get(t);if(i){let r=i.remove(lt(e)),o;return r.isEmpty()?o=this.children.remove(t):o=this.children.insert(t,r),this.value===null&&o.isEmpty()?new n(null):new n(this.value,o)}else return this}}get(e){if(xe(e))return this.value;{let t=Oe(e),i=this.children.get(t);return i?i.get(lt(e)):null}}setTree(e,t){if(xe(e))return t;{let i=Oe(e),o=(this.children.get(i)||new n(null)).setTree(lt(e),t),s;return o.isEmpty()?s=this.children.remove(i):s=this.children.insert(i,o),new n(this.value,s)}}fold(e){return this.fold_(je(),e)}fold_(e,t){let i={};return this.children.inorderTraversal((r,o)=>{i[r]=o.fold_(It(e,r),t)}),t(e,this.value,i)}findOnPath(e,t){return this.findOnPath_(e,je(),t)}findOnPath_(e,t,i){let r=this.value?i(t,this.value):!1;if(r)return r;if(xe(e))return null;{let o=Oe(e),s=this.children.get(o);return s?s.findOnPath_(lt(e),It(t,o),i):null}}foreachOnPath(e,t){return this.foreachOnPath_(e,je(),t)}foreachOnPath_(e,t,i){if(xe(e))return this;{this.value&&i(t,this.value);let r=Oe(e),o=this.children.get(r);return o?o.foreachOnPath_(lt(e),It(t,r),i):new n(null)}}foreach(e){this.foreach_(je(),e)}foreach_(e,t){this.children.inorderTraversal((i,r)=>{r.foreach_(It(e,i),t)}),this.value&&t(e,this.value)}foreachChild(e){this.children.inorderTraversal((t,i)=>{i.value&&e(t,i.value)})}};var ji=class n{constructor(e){this.writeTree_=e}static empty(){return new n(new wn(null))}};function bd(n,e,t){if(xe(e))return new ji(new wn(t));{let i=n.writeTree_.findRootMostValueAndPath(e);if(i!=null){let r=i.path,o=i.value,s=bn(r,e);return o=o.updateChild(s,t),new ji(n.writeTree_.set(r,o))}else{let r=new wn(t),o=n.writeTree_.setTree(e,r);return new ji(o)}}}function vE(n,e,t){let i=n;return on(t,(r,o)=>{i=bd(i,It(e,r),o)}),i}function Rk(n,e){if(xe(e))return ji.empty();{let t=n.writeTree_.setTree(e,new wn(null));return new ji(t)}}function yE(n,e){return ya(n,e)!=null}function ya(n,e){let t=n.writeTree_.findRootMostValueAndPath(e);return t!=null?n.writeTree_.get(t.path).getChild(bn(t.path,e)):null}function Nk(n){let e=[],t=n.writeTree_.value;return t!=null?t.isLeafNode()||t.forEachChild(bt,(i,r)=>{e.push(new Se(i,r))}):n.writeTree_.children.inorderTraversal((i,r)=>{r.value!=null&&e.push(new Se(i,r.value))}),e}function ts(n,e){if(xe(e))return n;{let t=ya(n,e);return t!=null?new ji(new wn(t)):new ji(n.writeTree_.subtree(e))}}function bE(n){return n.writeTree_.isEmpty()}function nl(n,e){return ER(je(),n.writeTree_,e)}function ER(n,e,t){if(e.value!=null)return t.updateChild(n,e.value);{let i=null;return e.children.inorderTraversal((r,o)=>{r===".priority"?(z(o.value!==null,"Priority writes must always be leaf nodes"),i=o.value):t=ER(It(n,r),o,t)}),!t.getChild(n).isEmpty()&&i!==null&&(t=t.updateChild(It(n,".priority"),i)),t}}function Om(n,e){return OR(e,n)}function PW(n,e,t,i,r){z(i>n.lastWriteId,"Stacking an older write on top of newer ones"),r===void 0&&(r=!0),n.allWrites.push({path:e,snap:t,writeId:i,visible:r}),r&&(n.visibleWrites=bd(n.visibleWrites,e,t)),n.lastWriteId=i}function OW(n,e,t,i){z(i>n.lastWriteId,"Stacking an older merge on top of newer ones"),n.allWrites.push({path:e,children:t,writeId:i,visible:!0}),n.visibleWrites=vE(n.visibleWrites,e,t),n.lastWriteId=i}function xW(n,e){for(let t=0;t<n.allWrites.length;t++){let i=n.allWrites[t];if(i.writeId===e)return i}return null}function SW(n,e){let t=n.allWrites.findIndex(a=>a.writeId===e);z(t>=0,"removeWrite called with nonexistent writeId.");let i=n.allWrites[t];n.allWrites.splice(t,1);let r=i.visible,o=!1,s=n.allWrites.length-1;for(;r&&s>=0;){let a=n.allWrites[s];a.visible&&(s>=t&&DW(a,i.path)?r=!1:ui(i.path,a.path)&&(o=!0)),s--}if(r){if(o)return TW(n),!0;if(i.snap)n.visibleWrites=Rk(n.visibleWrites,i.path);else{let a=i.children;on(a,c=>{n.visibleWrites=Rk(n.visibleWrites,It(i.path,c))})}return!0}else return!1}function DW(n,e){if(n.snap)return ui(n.path,e);for(let t in n.children)if(n.children.hasOwnProperty(t)&&ui(It(n.path,t),e))return!0;return!1}function TW(n){n.visibleWrites=MR(n.allWrites,AW,je()),n.allWrites.length>0?n.lastWriteId=n.allWrites[n.allWrites.length-1].writeId:n.lastWriteId=-1}function AW(n){return n.visible}function MR(n,e,t){let i=ji.empty();for(let r=0;r<n.length;++r){let o=n[r];if(e(o)){let s=o.path,a;if(o.snap)ui(t,s)?(a=bn(t,s),i=bd(i,a,o.snap)):ui(s,t)&&(a=bn(s,t),i=bd(i,je(),o.snap.getChild(a)));else if(o.children){if(ui(t,s))a=bn(t,s),i=vE(i,a,o.children);else if(ui(s,t))if(a=bn(s,t),xe(a))i=vE(i,je(),o.children);else{let c=ra(o.children,Oe(a));if(c){let l=c.getChild(lt(a));i=bd(i,je(),l)}}}else throw ia("WriteRecord should have .snap or .children")}}return i}function IR(n,e,t,i,r){if(!i&&!r){let o=ya(n.visibleWrites,e);if(o!=null)return o;{let s=ts(n.visibleWrites,e);if(bE(s))return t;if(t==null&&!yE(s,je()))return null;{let a=t||ve.EMPTY_NODE;return nl(s,a)}}}else{let o=ts(n.visibleWrites,e);if(!r&&bE(o))return t;if(!r&&t==null&&!yE(o,je()))return null;{let s=function(l){return(l.visible||r)&&(!i||!~i.indexOf(l.writeId))&&(ui(l.path,e)||ui(e,l.path))},a=MR(n.allWrites,s,e),c=t||ve.EMPTY_NODE;return nl(a,c)}}}function kW(n,e,t){let i=ve.EMPTY_NODE,r=ya(n.visibleWrites,e);if(r)return r.isLeafNode()||r.forEachChild(bt,(o,s)=>{i=i.updateImmediateChild(o,s)}),i;if(t){let o=ts(n.visibleWrites,e);return t.forEachChild(bt,(s,a)=>{let c=nl(ts(o,new He(s)),a);i=i.updateImmediateChild(s,c)}),Nk(o).forEach(s=>{i=i.updateImmediateChild(s.name,s.node)}),i}else{let o=ts(n.visibleWrites,e);return Nk(o).forEach(s=>{i=i.updateImmediateChild(s.name,s.node)}),i}}function RW(n,e,t,i,r){z(i||r,"Either existingEventSnap or existingServerSnap must exist");let o=It(e,t);if(yE(n.visibleWrites,o))return null;{let s=ts(n.visibleWrites,o);return bE(s)?r.getChild(t):nl(s,r.getChild(t))}}function NW(n,e,t,i){let r=It(e,t),o=ya(n.visibleWrites,r);if(o!=null)return o;if(i.isCompleteForChild(t)){let s=ts(n.visibleWrites,r);return nl(s,i.getNode().getImmediateChild(t))}else return null}function LW(n,e){return ya(n.visibleWrites,e)}function FW(n,e,t,i,r,o,s){let a,c=ts(n.visibleWrites,e),l=ya(c,je());if(l!=null)a=l;else if(t!=null)a=nl(c,t);else return[];if(a=a.withIndex(s),!a.isEmpty()&&!a.isLeafNode()){let h=[],f=s.getCompare(),y=o?a.getReverseIteratorFrom(i,s):a.getIteratorFrom(i,s),w=y.getNext();for(;w&&h.length<r;)f(w,i)!==0&&h.push(w),w=y.getNext();return h}else return[]}function BW(){return{visibleWrites:ji.empty(),allWrites:[],lastWriteId:-1}}function hm(n,e,t,i){return IR(n.writeTree,n.treePath,e,t,i)}function XE(n,e){return kW(n.writeTree,n.treePath,e)}function Lk(n,e,t,i){return RW(n.writeTree,n.treePath,e,t,i)}function gm(n,e){return LW(n.writeTree,It(n.treePath,e))}function jW(n,e,t,i,r,o){return FW(n.writeTree,n.treePath,e,t,i,r,o)}function JE(n,e,t){return NW(n.writeTree,n.treePath,e,t)}function PR(n,e){return OR(It(n.treePath,e),n.writeTree)}function OR(n,e){return{treePath:n,writeTree:e}}var CE=class{constructor(){this.changeMap=new Map}trackChildChange(e){let t=e.type,i=e.childName;z(t==="child_added"||t==="child_changed"||t==="child_removed","Only child changes supported for tracking"),z(i!==".priority","Only non-priority child changes can be tracked.");let r=this.changeMap.get(i);if(r){let o=r.type;if(t==="child_added"&&o==="child_removed")this.changeMap.set(i,Id(i,e.snapshotNode,r.snapshotNode));else if(t==="child_removed"&&o==="child_added")this.changeMap.delete(i);else if(t==="child_removed"&&o==="child_changed")this.changeMap.set(i,Md(i,r.oldSnap));else if(t==="child_changed"&&o==="child_added")this.changeMap.set(i,el(i,e.snapshotNode));else if(t==="child_changed"&&o==="child_changed")this.changeMap.set(i,Id(i,e.snapshotNode,r.oldSnap));else throw ia("Illegal combination of changes: "+e+" occurred after "+r)}else this.changeMap.set(i,e)}getChanges(){return Array.from(this.changeMap.values())}};var wE=class{getCompleteChild(e){return null}getChildAfterChild(e,t,i){return null}},xR=new wE,xd=class{constructor(e,t,i=null){this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=i}getCompleteChild(e){let t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);{let i=this.optCompleteServerCache_!=null?new Cr(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return JE(this.writes_,e,i)}}getChildAfterChild(e,t,i){let r=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:ma(this.viewCache_),o=jW(this.writes_,r,t,1,i,e);return o.length===0?null:o[0]}};function VW(n){return{filter:n}}function UW(n,e){z(e.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),z(e.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}function zW(n,e,t,i,r){let o=new CE,s,a;if(t.type===br.OVERWRITE){let l=t;l.source.fromUser?s=EE(n,e,l.path,l.snap,i,r,o):(z(l.source.fromServer,"Unknown source."),a=l.source.tagged||e.serverCache.isFiltered()&&!xe(l.path),s=mm(n,e,l.path,l.snap,i,r,a,o))}else if(t.type===br.MERGE){let l=t;l.source.fromUser?s=HW(n,e,l.path,l.children,i,r,o):(z(l.source.fromServer,"Unknown source."),a=l.source.tagged||e.serverCache.isFiltered(),s=ME(n,e,l.path,l.children,i,r,a,o))}else if(t.type===br.ACK_USER_WRITE){let l=t;l.revert?s=qW(n,e,l.path,i,r,o):s=WW(n,e,l.path,l.affectedTree,i,r,o)}else if(t.type===br.LISTEN_COMPLETE)s=GW(n,e,t.path,i,o);else throw ia("Unknown operation type: "+t.type);let c=o.getChanges();return $W(e,s,c),{viewCache:s,changes:c}}function $W(n,e,t){let i=e.eventCache;if(i.isFullyInitialized()){let r=i.getNode().isLeafNode()||i.getNode().isEmpty(),o=pm(n);(t.length>0||!n.eventCache.isFullyInitialized()||r&&!i.getNode().equals(o)||!i.getNode().getPriority().equals(o.getPriority()))&&t.push(bR(pm(e)))}}function SR(n,e,t,i,r,o){let s=e.eventCache;if(gm(i,t)!=null)return e;{let a,c;if(xe(t))if(z(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){let l=ma(e),h=l instanceof ve?l:ve.EMPTY_NODE,f=XE(i,h);a=n.filter.updateFullNode(e.eventCache.getNode(),f,o)}else{let l=hm(i,ma(e));a=n.filter.updateFullNode(e.eventCache.getNode(),l,o)}else{let l=Oe(t);if(l===".priority"){z(rs(t)===1,"Can't have a priority with additional path components");let h=s.getNode();c=e.serverCache.getNode();let f=Lk(i,t,h,c);f!=null?a=n.filter.updatePriority(h,f):a=s.getNode()}else{let h=lt(t),f;if(s.isCompleteForChild(l)){c=e.serverCache.getNode();let y=Lk(i,t,s.getNode(),c);y!=null?f=s.getNode().getImmediateChild(l).updateChild(h,y):f=s.getNode().getImmediateChild(l)}else f=JE(i,l,e.serverCache);f!=null?a=n.filter.updateChild(s.getNode(),l,f,h,r,o):a=s.getNode()}}return yd(e,a,s.isFullyInitialized()||xe(t),n.filter.filtersNodes())}}function mm(n,e,t,i,r,o,s,a){let c=e.serverCache,l,h=s?n.filter:n.filter.getIndexedFilter();if(xe(t))l=h.updateFullNode(c.getNode(),i,null);else if(h.filtersNodes()&&!c.isFiltered()){let w=c.getNode().updateChild(t,i);l=h.updateFullNode(c.getNode(),w,null)}else{let w=Oe(t);if(!c.isCompleteForPath(t)&&rs(t)>1)return e;let I=lt(t),T=c.getNode().getImmediateChild(w).updateChild(I,i);w===".priority"?l=h.updatePriority(c.getNode(),T):l=h.updateChild(c.getNode(),w,T,I,xR,null)}let f=wR(e,l,c.isFullyInitialized()||xe(t),h.filtersNodes()),y=new xd(r,f,o);return SR(n,f,t,r,y,a)}function EE(n,e,t,i,r,o,s){let a=e.eventCache,c,l,h=new xd(r,e,o);if(xe(t))l=n.filter.updateFullNode(e.eventCache.getNode(),i,s),c=yd(e,l,!0,n.filter.filtersNodes());else{let f=Oe(t);if(f===".priority")l=n.filter.updatePriority(e.eventCache.getNode(),i),c=yd(e,l,a.isFullyInitialized(),a.isFiltered());else{let y=lt(t),w=a.getNode().getImmediateChild(f),I;if(xe(y))I=i;else{let D=h.getCompleteChild(f);D!=null?WE(y)===".priority"&&D.getChild(pR(y)).isEmpty()?I=D:I=D.updateChild(y,i):I=ve.EMPTY_NODE}if(w.equals(I))c=e;else{let D=n.filter.updateChild(a.getNode(),f,I,y,h,s);c=yd(e,D,a.isFullyInitialized(),n.filter.filtersNodes())}}}return c}function Fk(n,e){return n.eventCache.isCompleteForChild(e)}function HW(n,e,t,i,r,o,s){let a=e;return i.foreach((c,l)=>{let h=It(t,c);Fk(e,Oe(h))&&(a=EE(n,a,h,l,r,o,s))}),i.foreach((c,l)=>{let h=It(t,c);Fk(e,Oe(h))||(a=EE(n,a,h,l,r,o,s))}),a}function Bk(n,e,t){return t.foreach((i,r)=>{e=e.updateChild(i,r)}),e}function ME(n,e,t,i,r,o,s,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let c=e,l;xe(t)?l=i:l=new wn(null).setTree(t,i);let h=e.serverCache.getNode();return l.children.inorderTraversal((f,y)=>{if(h.hasChild(f)){let w=e.serverCache.getNode().getImmediateChild(f),I=Bk(n,w,y);c=mm(n,c,new He(f),I,r,o,s,a)}}),l.children.inorderTraversal((f,y)=>{let w=!e.serverCache.isCompleteForChild(f)&&y.value===null;if(!h.hasChild(f)&&!w){let I=e.serverCache.getNode().getImmediateChild(f),D=Bk(n,I,y);c=mm(n,c,new He(f),D,r,o,s,a)}}),c}function WW(n,e,t,i,r,o,s){if(gm(r,t)!=null)return e;let a=e.serverCache.isFiltered(),c=e.serverCache;if(i.value!=null){if(xe(t)&&c.isFullyInitialized()||c.isCompleteForPath(t))return mm(n,e,t,c.getNode().getChild(t),r,o,a,s);if(xe(t)){let l=new wn(null);return c.getNode().forEachChild(ha,(h,f)=>{l=l.set(new He(h),f)}),ME(n,e,t,l,r,o,a,s)}else return e}else{let l=new wn(null);return i.foreach((h,f)=>{let y=It(t,h);c.isCompleteForPath(y)&&(l=l.set(h,c.getNode().getChild(y)))}),ME(n,e,t,l,r,o,a,s)}}function GW(n,e,t,i,r){let o=e.serverCache,s=wR(e,o.getNode(),o.isFullyInitialized()||xe(t),o.isFiltered());return SR(n,s,t,i,xR,r)}function qW(n,e,t,i,r,o){let s;if(gm(i,t)!=null)return e;{let a=new xd(i,e,r),c=e.eventCache.getNode(),l;if(xe(t)||Oe(t)===".priority"){let h;if(e.serverCache.isFullyInitialized())h=hm(i,ma(e));else{let f=e.serverCache.getNode();z(f instanceof ve,"serverChildren would be complete if leaf node"),h=XE(i,f)}h=h,l=n.filter.updateFullNode(c,h,o)}else{let h=Oe(t),f=JE(i,h,e.serverCache);f==null&&e.serverCache.isCompleteForChild(h)&&(f=c.getImmediateChild(h)),f!=null?l=n.filter.updateChild(c,h,f,lt(t),a,o):e.eventCache.getNode().hasChild(h)?l=n.filter.updateChild(c,h,ve.EMPTY_NODE,lt(t),a,o):l=c,l.isEmpty()&&e.serverCache.isFullyInitialized()&&(s=hm(i,ma(e)),s.isLeafNode()&&(l=n.filter.updateFullNode(l,s,o)))}return s=e.serverCache.isFullyInitialized()||gm(i,je())!=null,yd(e,l,s,n.filter.filtersNodes())}}var IE=class{constructor(e,t){this.query_=e,this.eventRegistrations_=[];let i=this.query_._queryParams,r=new Pd(i.getIndex()),o=gW(i);this.processor_=VW(o);let s=t.serverCache,a=t.eventCache,c=r.updateFullNode(ve.EMPTY_NODE,s.getNode(),null),l=o.updateFullNode(ve.EMPTY_NODE,a.getNode(),null),h=new Cr(c,s.isFullyInitialized(),r.filtersNodes()),f=new Cr(l,a.isFullyInitialized(),o.filtersNodes());this.viewCache_=Pm(f,h),this.eventGenerator_=new _E(this.query_)}get query(){return this.query_}};function KW(n){return n.viewCache_.serverCache.getNode()}function YW(n){return pm(n.viewCache_)}function QW(n,e){let t=ma(n.viewCache_);return t&&(n.query._queryParams.loadsAllData()||!xe(e)&&!t.getImmediateChild(Oe(e)).isEmpty())?t.getChild(e):null}function jk(n){return n.eventRegistrations_.length===0}function ZW(n,e){n.eventRegistrations_.push(e)}function Vk(n,e,t){let i=[];if(t){z(e==null,"A cancel should cancel all event registrations.");let r=n.query._path;n.eventRegistrations_.forEach(o=>{let s=o.createCancelEvent(t,r);s&&i.push(s)})}if(e){let r=[];for(let o=0;o<n.eventRegistrations_.length;++o){let s=n.eventRegistrations_[o];if(!s.matches(e))r.push(s);else if(e.hasAnyCallback()){r=r.concat(n.eventRegistrations_.slice(o+1));break}}n.eventRegistrations_=r}else n.eventRegistrations_=[];return i}function Uk(n,e,t,i){e.type===br.MERGE&&e.source.queryId!==null&&(z(ma(n.viewCache_),"We should always have a full cache before handling merges"),z(pm(n.viewCache_),"Missing event cache, even though we have a server cache"));let r=n.viewCache_,o=zW(n.processor_,r,e,t,i);return UW(n.processor_,o.viewCache),z(o.viewCache.serverCache.isFullyInitialized()||!r.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=o.viewCache,DR(n,o.changes,o.viewCache.eventCache.getNode(),null)}function XW(n,e){let t=n.viewCache_.eventCache,i=[];return t.getNode().isLeafNode()||t.getNode().forEachChild(bt,(o,s)=>{i.push(el(o,s))}),t.isFullyInitialized()&&i.push(bR(t.getNode())),DR(n,i,t.getNode(),e)}function DR(n,e,t,i){let r=i?[i]:n.eventRegistrations_;return wW(n.eventGenerator_,e,t,r)}var _m,vm=class{constructor(){this.views=new Map}};function JW(n){z(!_m,"__referenceConstructor has already been defined"),_m=n}function eG(){return z(_m,"Reference.ts has not been loaded"),_m}function tG(n){return n.views.size===0}function eM(n,e,t,i){let r=e.source.queryId;if(r!==null){let o=n.views.get(r);return z(o!=null,"SyncTree gave us an op for an invalid query."),Uk(o,e,t,i)}else{let o=[];for(let s of n.views.values())o=o.concat(Uk(s,e,t,i));return o}}function TR(n,e,t,i,r){let o=e._queryIdentifier,s=n.views.get(o);if(!s){let a=hm(t,r?i:null),c=!1;a?c=!0:i instanceof ve?(a=XE(t,i),c=!1):(a=ve.EMPTY_NODE,c=!1);let l=Pm(new Cr(a,c,!1),new Cr(i,r,!1));return new IE(e,l)}return s}function nG(n,e,t,i,r,o){let s=TR(n,e,i,r,o);return n.views.has(e._queryIdentifier)||n.views.set(e._queryIdentifier,s),ZW(s,t),XW(s,t)}function iG(n,e,t,i){let r=e._queryIdentifier,o=[],s=[],a=os(n);if(r==="default")for(let[c,l]of n.views.entries())s=s.concat(Vk(l,t,i)),jk(l)&&(n.views.delete(c),l.query._queryParams.loadsAllData()||o.push(l.query));else{let c=n.views.get(r);c&&(s=s.concat(Vk(c,t,i)),jk(c)&&(n.views.delete(r),c.query._queryParams.loadsAllData()||o.push(c.query)))}return a&&!os(n)&&o.push(new(eG())(e._repo,e._path)),{removed:o,events:s}}function AR(n){let e=[];for(let t of n.views.values())t.query._queryParams.loadsAllData()||e.push(t);return e}function ns(n,e){let t=null;for(let i of n.views.values())t=t||QW(i,e);return t}function kR(n,e){if(e._queryParams.loadsAllData())return xm(n);{let i=e._queryIdentifier;return n.views.get(i)}}function RR(n,e){return kR(n,e)!=null}function os(n){return xm(n)!=null}function xm(n){for(let e of n.views.values())if(e.query._queryParams.loadsAllData())return e;return null}var ym;function rG(n){z(!ym,"__referenceConstructor has already been defined"),ym=n}function oG(){return z(ym,"Reference.ts has not been loaded"),ym}var sG=1,bm=class{constructor(e){this.listenProvider_=e,this.syncPointTree_=new wn(null),this.pendingWriteTree_=BW(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}};function NR(n,e,t,i,r){return PW(n.pendingWriteTree_,e,t,i,r),r?al(n,new tl(YE(),e,t)):[]}function aG(n,e,t,i){OW(n.pendingWriteTree_,e,t,i);let r=wn.fromObject(t);return al(n,new Od(YE(),e,r))}function es(n,e,t=!1){let i=xW(n.pendingWriteTree_,e);if(SW(n.pendingWriteTree_,e)){let o=new wn(null);return i.snap!=null?o=o.set(je(),!0):on(i.children,s=>{o=o.set(new He(s),!0)}),al(n,new mE(i.path,o,t))}else return[]}function Nd(n,e,t){return al(n,new tl(QE(),e,t))}function cG(n,e,t){let i=wn.fromObject(t);return al(n,new Od(QE(),e,i))}function lG(n,e){return al(n,new fm(QE(),e))}function uG(n,e,t){let i=nM(n,t);if(i){let r=iM(i),o=r.path,s=r.queryId,a=bn(o,e),c=new fm(ZE(s),a);return rM(n,o,c)}else return[]}function Cm(n,e,t,i,r=!1){let o=e._path,s=n.syncPointTree_.get(o),a=[];if(s&&(e._queryIdentifier==="default"||RR(s,e))){let c=iG(s,e,t,i);tG(s)&&(n.syncPointTree_=n.syncPointTree_.remove(o));let l=c.removed;if(a=c.events,!r){let h=l.findIndex(y=>y._queryParams.loadsAllData())!==-1,f=n.syncPointTree_.findOnPath(o,(y,w)=>os(w));if(h&&!f){let y=n.syncPointTree_.subtree(o);if(!y.isEmpty()){let w=pG(y);for(let I=0;I<w.length;++I){let D=w[I],T=D.query,L=jR(n,D);n.listenProvider_.startListening(Cd(T),Sd(n,T),L.hashFn,L.onComplete)}}}!f&&l.length>0&&!i&&(h?n.listenProvider_.stopListening(Cd(e),null):l.forEach(y=>{let w=n.queryToTagMap.get(Sm(y));n.listenProvider_.stopListening(Cd(y),w)}))}hG(n,l)}return a}function LR(n,e,t,i){let r=nM(n,i);if(r!=null){let o=iM(r),s=o.path,a=o.queryId,c=bn(s,e),l=new tl(ZE(a),c,t);return rM(n,s,l)}else return[]}function dG(n,e,t,i){let r=nM(n,i);if(r){let o=iM(r),s=o.path,a=o.queryId,c=bn(s,e),l=wn.fromObject(t),h=new Od(ZE(a),c,l);return rM(n,s,h)}else return[]}function PE(n,e,t,i=!1){let r=e._path,o=null,s=!1;n.syncPointTree_.foreachOnPath(r,(y,w)=>{let I=bn(y,r);o=o||ns(w,I),s=s||os(w)});let a=n.syncPointTree_.get(r);a?(s=s||os(a),o=o||ns(a,je())):(a=new vm,n.syncPointTree_=n.syncPointTree_.set(r,a));let c;o!=null?c=!0:(c=!1,o=ve.EMPTY_NODE,n.syncPointTree_.subtree(r).foreachChild((w,I)=>{let D=ns(I,je());D&&(o=o.updateImmediateChild(w,D))}));let l=RR(a,e);if(!l&&!e._queryParams.loadsAllData()){let y=Sm(e);z(!n.queryToTagMap.has(y),"View does not exist, but we have a tag");let w=gG();n.queryToTagMap.set(y,w),n.tagToQueryMap.set(w,y)}let h=Om(n.pendingWriteTree_,r),f=nG(a,e,t,h,o,c);if(!l&&!s&&!i){let y=kR(a,e);f=f.concat(mG(n,e,y))}return f}function tM(n,e,t){let r=n.pendingWriteTree_,o=n.syncPointTree_.findOnPath(e,(s,a)=>{let c=bn(s,e),l=ns(a,c);if(l)return l});return IR(r,e,o,t,!0)}function fG(n,e){let t=e._path,i=null;n.syncPointTree_.foreachOnPath(t,(l,h)=>{let f=bn(l,t);i=i||ns(h,f)});let r=n.syncPointTree_.get(t);r?i=i||ns(r,je()):(r=new vm,n.syncPointTree_=n.syncPointTree_.set(t,r));let o=i!=null,s=o?new Cr(i,!0,!1):null,a=Om(n.pendingWriteTree_,e._path),c=TR(r,e,a,o?s.getNode():ve.EMPTY_NODE,o);return YW(c)}function al(n,e){return FR(e,n.syncPointTree_,null,Om(n.pendingWriteTree_,je()))}function FR(n,e,t,i){if(xe(n.path))return BR(n,e,t,i);{let r=e.get(je());t==null&&r!=null&&(t=ns(r,je()));let o=[],s=Oe(n.path),a=n.operationForChild(s),c=e.children.get(s);if(c&&a){let l=t?t.getImmediateChild(s):null,h=PR(i,s);o=o.concat(FR(a,c,l,h))}return r&&(o=o.concat(eM(r,n,i,t))),o}}function BR(n,e,t,i){let r=e.get(je());t==null&&r!=null&&(t=ns(r,je()));let o=[];return e.children.inorderTraversal((s,a)=>{let c=t?t.getImmediateChild(s):null,l=PR(i,s),h=n.operationForChild(s);h&&(o=o.concat(BR(h,a,c,l)))}),r&&(o=o.concat(eM(r,n,i,t))),o}function jR(n,e){let t=e.query,i=Sd(n,t);return{hashFn:()=>(KW(e)||ve.EMPTY_NODE).hash(),onComplete:r=>{if(r==="ok")return i?uG(n,t._path,i):lG(n,t._path);{let o=P9(r,t);return Cm(n,t,null,o)}}}}function Sd(n,e){let t=Sm(e);return n.queryToTagMap.get(t)}function Sm(n){return n._path.toString()+"$"+n._queryIdentifier}function nM(n,e){return n.tagToQueryMap.get(e)}function iM(n){let e=n.indexOf("$");return z(e!==-1&&e<n.length-1,"Bad queryKey."),{queryId:n.substr(e+1),path:new He(n.substr(0,e))}}function rM(n,e,t){let i=n.syncPointTree_.get(e);z(i,"Missing sync point for query tag that we're tracking");let r=Om(n.pendingWriteTree_,e);return eM(i,t,r,null)}function pG(n){return n.fold((e,t,i)=>{if(t&&os(t))return[xm(t)];{let r=[];return t&&(r=AR(t)),on(i,(o,s)=>{r=r.concat(s)}),r}})}function Cd(n){return n._queryParams.loadsAllData()&&!n._queryParams.isDefault()?new(oG())(n._repo,n._path):n}function hG(n,e){for(let t=0;t<e.length;++t){let i=e[t];if(!i._queryParams.loadsAllData()){let r=Sm(i),o=n.queryToTagMap.get(r);n.queryToTagMap.delete(r),n.tagToQueryMap.delete(o)}}}function gG(){return sG++}function mG(n,e,t){let i=e._path,r=Sd(n,e),o=jR(n,t),s=n.listenProvider_.startListening(Cd(e),r,o.hashFn,o.onComplete),a=n.syncPointTree_.subtree(i);if(r)z(!os(a.value),"If we're adding a query, it shouldn't be shadowed");else{let c=a.fold((l,h,f)=>{if(!xe(l)&&h&&os(h))return[xm(h).query];{let y=[];return h&&(y=y.concat(AR(h).map(w=>w.query))),on(f,(w,I)=>{y=y.concat(I)}),y}});for(let l=0;l<c.length;++l){let h=c[l];n.listenProvider_.stopListening(Cd(h),Sd(n,h))}}return s}var OE=class n{constructor(e){this.node_=e}getImmediateChild(e){let t=this.node_.getImmediateChild(e);return new n(t)}node(){return this.node_}},xE=class n{constructor(e,t){this.syncTree_=e,this.path_=t}getImmediateChild(e){let t=It(this.path_,e);return new n(this.syncTree_,t)}node(){return tM(this.syncTree_,this.path_)}},_G=function(n){return n=n||{},n.timestamp=n.timestamp||new Date().getTime(),n},zk=function(n,e,t){if(!n||typeof n!="object")return n;if(z(".sv"in n,"Unexpected leaf node or priority contents"),typeof n[".sv"]=="string")return vG(n[".sv"],e,t);if(typeof n[".sv"]=="object")return yG(n[".sv"],e);z(!1,"Unexpected server value: "+JSON.stringify(n,null,2))},vG=function(n,e,t){switch(n){case"timestamp":return t.timestamp;default:z(!1,"Unexpected server value: "+n)}},yG=function(n,e,t){n.hasOwnProperty("increment")||z(!1,"Unexpected server value: "+JSON.stringify(n,null,2));let i=n.increment;typeof i!="number"&&z(!1,"Unexpected increment value: "+i);let r=e.node();if(z(r!==null&&typeof r<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!r.isLeafNode())return i;let s=r.getValue();return typeof s!="number"?i:s+i},VR=function(n,e,t,i){return oM(e,new xE(t,n),i)},UR=function(n,e,t){return oM(n,new OE(e),t)};function oM(n,e,t){let i=n.getPriority().val(),r=zk(i,e.getImmediateChild(".priority"),t),o;if(n.isLeafNode()){let s=n,a=zk(s.getValue(),e,t);return a!==s.getValue()||r!==s.getPriority().val()?new Xc(a,zt(r)):n}else{let s=n;return o=s,r!==s.getPriority().val()&&(o=o.updatePriority(new Xc(r))),s.forEachChild(bt,(a,c)=>{let l=oM(c,e.getImmediateChild(a),t);l!==c&&(o=o.updateImmediateChild(a,l))}),o}}var Dd=class{constructor(e="",t=null,i={children:{},childCount:0}){this.name=e,this.parent=t,this.node=i}};function sM(n,e){let t=e instanceof He?e:new He(e),i=n,r=Oe(t);for(;r!==null;){let o=ra(i.node.children,r)||{children:{},childCount:0};i=new Dd(r,i,o),t=lt(t),r=Oe(t)}return i}function cl(n){return n.node.value}function zR(n,e){n.node.value=e,SE(n)}function $R(n){return n.node.childCount>0}function bG(n){return cl(n)===void 0&&!$R(n)}function Dm(n,e){on(n.node.children,(t,i)=>{e(new Dd(t,n,i))})}function HR(n,e,t,i){t&&!i&&e(n),Dm(n,r=>{HR(r,e,!0,i)}),t&&i&&e(n)}function CG(n,e,t){let i=t?n:n.parent;for(;i!==null;){if(e(i))return!0;i=i.parent}return!1}function Ld(n){return new He(n.parent===null?n.name:Ld(n.parent)+"/"+n.name)}function SE(n){n.parent!==null&&wG(n.parent,n.name,n)}function wG(n,e,t){let i=bG(t),r=Ri(n.node.children,e);i&&r?(delete n.node.children[e],n.node.childCount--,SE(n)):!i&&!r&&(n.node.children[e]=t.node,n.node.childCount++,SE(n))}var EG=/[\[\].#$\/\u0000-\u001F\u007F]/,MG=/[\[\].#$\u0000-\u001F\u007F]/,Uw=10*1024*1024,Tm=function(n){return typeof n=="string"&&n.length!==0&&!EG.test(n)},WR=function(n){return typeof n=="string"&&n.length!==0&&!MG.test(n)},IG=function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),WR(n)},DE=function(n){return n===null||typeof n=="string"||typeof n=="number"&&!zE(n)||n&&typeof n=="object"&&Ri(n,".sv")},Fd=function(n,e,t,i){i&&e===void 0||Am($c(n,"value"),e,t)},Am=function(n,e,t){let i=t instanceof He?new tE(t,n):t;if(e===void 0)throw new Error(n+"contains undefined "+da(i));if(typeof e=="function")throw new Error(n+"contains a function "+da(i)+" with contents = "+e.toString());if(zE(e))throw new Error(n+"contains "+e.toString()+" "+da(i));if(typeof e=="string"&&e.length>Uw/3&&Zu(e)>Uw)throw new Error(n+"contains a string greater than "+Uw+" utf8 bytes "+da(i)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let r=!1,o=!1;if(on(e,(s,a)=>{if(s===".value")r=!0;else if(s!==".priority"&&s!==".sv"&&(o=!0,!Tm(s)))throw new Error(n+" contains an invalid key ("+s+") "+da(i)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);nW(i,s),Am(n,a,i),iW(i)}),r&&o)throw new Error(n+' contains ".value" child '+da(i)+" in addition to actual children.")}},PG=function(n,e){let t,i;for(t=0;t<e.length;t++){i=e[t];let o=wd(i);for(let s=0;s<o.length;s++)if(!(o[s]===".priority"&&s===o.length-1)){if(!Tm(o[s]))throw new Error(n+"contains an invalid key ("+o[s]+") in path "+i.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}e.sort(tW);let r=null;for(t=0;t<e.length;t++){if(i=e[t],r!==null&&ui(r,i))throw new Error(n+"contains a path "+r.toString()+" that is ancestor of another path "+i.toString());r=i}},OG=function(n,e,t,i){if(i&&e===void 0)return;let r=$c(n,"values");if(!(e&&typeof e=="object")||Array.isArray(e))throw new Error(r+" must be an object containing the children to replace.");let o=[];on(e,(s,a)=>{let c=new He(s);if(Am(r,a,It(t,c)),WE(c)===".priority"&&!DE(a))throw new Error(r+"contains an invalid value for '"+c.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");o.push(c)}),PG(r,o)};var xG=function(n,e,t,i){if(!(i&&t===void 0)&&!Tm(t))throw new Error($c(n,e)+'was an invalid key = "'+t+`".  Firebase keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]").`)},aM=function(n,e,t,i){if(!(i&&t===void 0)&&!WR(t))throw new Error($c(n,e)+'was an invalid path = "'+t+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},SG=function(n,e,t,i){t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),aM(n,e,t,i)},cM=function(n,e){if(Oe(e)===".info")throw new Error(n+" failed = Can't modify data under /.info/")},DG=function(n,e){let t=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!Tm(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||t.length!==0&&!IG(t))throw new Error($c(n,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};var TE=class{constructor(){this.eventLists_=[],this.recursionDepth_=0}};function km(n,e){let t=null;for(let i=0;i<e.length;i++){let r=e[i],o=r.getPath();t!==null&&!GE(o,t.path)&&(n.eventLists_.push(t),t=null),t===null&&(t={events:[],path:o}),t.events.push(r)}t&&n.eventLists_.push(t)}function GR(n,e,t){km(n,t),qR(n,i=>GE(i,e))}function fi(n,e,t){km(n,t),qR(n,i=>ui(i,e)||ui(e,i))}function qR(n,e){n.recursionDepth_++;let t=!0;for(let i=0;i<n.eventLists_.length;i++){let r=n.eventLists_[i];if(r){let o=r.path;e(o)?(TG(n.eventLists_[i]),n.eventLists_[i]=null):t=!1}}t&&(n.eventLists_=[]),n.recursionDepth_--}function TG(n){for(let e=0;e<n.events.length;e++){let t=n.events[e];if(t!==null){n.events[e]=null;let i=t.getEventRunner();pa&&rn("event: "+t.toString()),sl(i)}}}var AG="repo_interrupt",kG=25,AE=class{constructor(e,t,i,r){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=i,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new TE,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=dm(),this.transactionQueueTree_=new Dd,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}};function RG(n,e,t){if(n.stats_=HE(n.repoInfo_),n.forceRestClient_||D9())n.server_=new dE(n.repoInfo_,(i,r,o,s)=>{$k(n,i,r,o,s)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>Hk(n,!0),0);else{if(typeof t<"u"&&t!==null){if(typeof t!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Rt(t)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}n.persistentConnection_=new qE(n.repoInfo_,e,(i,r,o,s)=>{$k(n,i,r,o,s)},i=>{Hk(n,i)},i=>{NG(n,i)},n.authTokenProvider_,n.appCheckProvider_,t),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(i=>{n.server_.refreshAuthToken(i)}),n.appCheckProvider_.addTokenChangeListener(i=>{n.server_.refreshAppCheckToken(i.token)}),n.statsReporter_=A9(n.repoInfo_,()=>new gE(n.stats_,n.server_)),n.infoData_=new fE,n.infoSyncTree_=new bm({startListening:(i,r,o,s)=>{let a=[],c=n.infoData_.getNode(i._path);return c.isEmpty()||(a=Nd(n.infoSyncTree_,i._path,c),setTimeout(()=>{s("ok")},0)),a},stopListening:()=>{}}),lM(n,"connected",!1),n.serverSyncTree_=new bm({startListening:(i,r,o,s)=>(n.server_.listen(i,o,r,(a,c)=>{let l=s(a,c);fi(n.eventQueue_,i._path,l)}),[]),stopListening:(i,r)=>{n.server_.unlisten(i,r)}})}function KR(n){let t=n.infoData_.getNode(new He(".info/serverTimeOffset")).val()||0;return new Date().getTime()+t}function Rm(n){return _G({timestamp:KR(n)})}function $k(n,e,t,i,r){n.dataUpdateCount++;let o=new He(e);t=n.interceptServerDataCallback_?n.interceptServerDataCallback_(e,t):t;let s=[];if(r)if(i){let c=Qu(t,l=>zt(l));s=dG(n.serverSyncTree_,o,c,r)}else{let c=zt(t);s=LR(n.serverSyncTree_,o,c,r)}else if(i){let c=Qu(t,l=>zt(l));s=cG(n.serverSyncTree_,o,c)}else{let c=zt(t);s=Nd(n.serverSyncTree_,o,c)}let a=o;s.length>0&&(a=il(n,o)),fi(n.eventQueue_,a,s)}function Hk(n,e){lM(n,"connected",e),e===!1&&jG(n)}function NG(n,e){on(e,(t,i)=>{lM(n,t,i)})}function lM(n,e,t){let i=new He("/.info/"+e),r=zt(t);n.infoData_.updateSnapshot(i,r);let o=Nd(n.infoSyncTree_,i,r);fi(n.eventQueue_,i,o)}function uM(n){return n.nextWriteId_++}function LG(n,e,t){let i=fG(n.serverSyncTree_,e);return i!=null?Promise.resolve(i):n.server_.get(e).then(r=>{let o=zt(r).withIndex(e._queryParams.getIndex());PE(n.serverSyncTree_,e,t,!0);let s;if(e._queryParams.loadsAllData())s=Nd(n.serverSyncTree_,e._path,o);else{let a=Sd(n.serverSyncTree_,e);s=LR(n.serverSyncTree_,e._path,o,a)}return fi(n.eventQueue_,e._path,s),Cm(n.serverSyncTree_,e,t,null,!0),o},r=>(Bd(n,"get for query "+Rt(e)+" failed: "+r),Promise.reject(new Error(r))))}function FG(n,e,t,i,r){Bd(n,"set",{path:e.toString(),value:t,priority:i});let o=Rm(n),s=zt(t,i),a=tM(n.serverSyncTree_,e),c=UR(s,a,o),l=uM(n),h=NR(n.serverSyncTree_,e,c,l,!0);km(n.eventQueue_,h),n.server_.put(e.toString(),s.val(!0),(y,w)=>{let I=y==="ok";I||Cn("set at "+e+" failed: "+y);let D=es(n.serverSyncTree_,l,!I);fi(n.eventQueue_,e,D),kE(n,r,y,w)});let f=fM(n,e);il(n,f),fi(n.eventQueue_,f,[])}function BG(n,e,t,i){Bd(n,"update",{path:e.toString(),value:t});let r=!0,o=Rm(n),s={};if(on(t,(a,c)=>{r=!1,s[a]=VR(It(e,a),zt(c),n.serverSyncTree_,o)}),r)rn("update() called with empty data.  Don't do anything."),kE(n,i,"ok",void 0);else{let a=uM(n),c=aG(n.serverSyncTree_,e,s,a);km(n.eventQueue_,c),n.server_.merge(e.toString(),t,(l,h)=>{let f=l==="ok";f||Cn("update at "+e+" failed: "+l);let y=es(n.serverSyncTree_,a,!f),w=y.length>0?il(n,e):e;fi(n.eventQueue_,w,y),kE(n,i,l,h)}),on(t,l=>{let h=fM(n,It(e,l));il(n,h)}),fi(n.eventQueue_,e,[])}}function jG(n){Bd(n,"onDisconnectEvents");let e=Rm(n),t=dm();pE(n.onDisconnect_,je(),(r,o)=>{let s=VR(r,o,n.serverSyncTree_,e);CR(t,r,s)});let i=[];pE(t,je(),(r,o)=>{i=i.concat(Nd(n.serverSyncTree_,r,o));let s=fM(n,r);il(n,s)}),n.onDisconnect_=dm(),fi(n.eventQueue_,je(),i)}function VG(n,e,t){let i;Oe(e._path)===".info"?i=PE(n.infoSyncTree_,e,t):i=PE(n.serverSyncTree_,e,t),GR(n.eventQueue_,e._path,i)}function Wk(n,e,t){let i;Oe(e._path)===".info"?i=Cm(n.infoSyncTree_,e,t):i=Cm(n.serverSyncTree_,e,t),GR(n.eventQueue_,e._path,i)}function UG(n){n.persistentConnection_&&n.persistentConnection_.interrupt(AG)}function Bd(n,...e){let t="";n.persistentConnection_&&(t=n.persistentConnection_.id+":"),rn(t,...e)}function kE(n,e,t,i){e&&sl(()=>{if(t==="ok")e(null);else{let r=(t||"error").toUpperCase(),o=r;i&&(o+=": "+i);let s=new Error(o);s.code=r,e(s)}})}function YR(n,e,t){return tM(n.serverSyncTree_,e,t)||ve.EMPTY_NODE}function dM(n,e=n.transactionQueueTree_){if(e||Nm(n,e),cl(e)){let t=ZR(n,e);z(t.length>0,"Sending zero length transaction queue"),t.every(r=>r.status===0)&&zG(n,Ld(e),t)}else $R(e)&&Dm(e,t=>{dM(n,t)})}function zG(n,e,t){let i=t.map(l=>l.currentWriteId),r=YR(n,e,i),o=r,s=r.hash();for(let l=0;l<t.length;l++){let h=t[l];z(h.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),h.status=1,h.retryCount++;let f=bn(e,h.path);o=o.updateChild(f,h.currentOutputSnapshotRaw)}let a=o.val(!0),c=e;n.server_.put(c.toString(),a,l=>{Bd(n,"transaction put response",{path:c.toString(),status:l});let h=[];if(l==="ok"){let f=[];for(let y=0;y<t.length;y++)t[y].status=2,h=h.concat(es(n.serverSyncTree_,t[y].currentWriteId)),t[y].onComplete&&f.push(()=>t[y].onComplete(null,!0,t[y].currentOutputSnapshotResolved)),t[y].unwatcher();Nm(n,sM(n.transactionQueueTree_,e)),dM(n,n.transactionQueueTree_),fi(n.eventQueue_,e,h);for(let y=0;y<f.length;y++)sl(f[y])}else{if(l==="datastale")for(let f=0;f<t.length;f++)t[f].status===3?t[f].status=4:t[f].status=0;else{Cn("transaction at "+c.toString()+" failed: "+l);for(let f=0;f<t.length;f++)t[f].status=4,t[f].abortReason=l}il(n,e)}},s)}function il(n,e){let t=QR(n,e),i=Ld(t),r=ZR(n,t);return $G(n,r,i),i}function $G(n,e,t){if(e.length===0)return;let i=[],r=[],s=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){let c=e[a],l=bn(t,c.path),h=!1,f;if(z(l!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),c.status===4)h=!0,f=c.abortReason,r=r.concat(es(n.serverSyncTree_,c.currentWriteId,!0));else if(c.status===0)if(c.retryCount>=kG)h=!0,f="maxretry",r=r.concat(es(n.serverSyncTree_,c.currentWriteId,!0));else{let y=YR(n,c.path,s);c.currentInputSnapshot=y;let w=e[a].update(y.val());if(w!==void 0){Am("transaction failed: Data returned ",w,c.path);let I=zt(w);typeof w=="object"&&w!=null&&Ri(w,".priority")||(I=I.updatePriority(y.getPriority()));let T=c.currentWriteId,L=Rm(n),Z=UR(I,y,L);c.currentOutputSnapshotRaw=I,c.currentOutputSnapshotResolved=Z,c.currentWriteId=uM(n),s.splice(s.indexOf(T),1),r=r.concat(NR(n.serverSyncTree_,c.path,Z,c.currentWriteId,c.applyLocally)),r=r.concat(es(n.serverSyncTree_,T,!0))}else h=!0,f="nodata",r=r.concat(es(n.serverSyncTree_,c.currentWriteId,!0))}fi(n.eventQueue_,t,r),r=[],h&&(e[a].status=2,(function(y){setTimeout(y,Math.floor(0))})(e[a].unwatcher),e[a].onComplete&&(f==="nodata"?i.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):i.push(()=>e[a].onComplete(new Error(f),!1,null))))}Nm(n,n.transactionQueueTree_);for(let a=0;a<i.length;a++)sl(i[a]);dM(n,n.transactionQueueTree_)}function QR(n,e){let t,i=n.transactionQueueTree_;for(t=Oe(e);t!==null&&cl(i)===void 0;)i=sM(i,t),e=lt(e),t=Oe(e);return i}function ZR(n,e){let t=[];return XR(n,e,t),t.sort((i,r)=>i.order-r.order),t}function XR(n,e,t){let i=cl(e);if(i)for(let r=0;r<i.length;r++)t.push(i[r]);Dm(e,r=>{XR(n,r,t)})}function Nm(n,e){let t=cl(e);if(t){let i=0;for(let r=0;r<t.length;r++)t[r].status!==2&&(t[i]=t[r],i++);t.length=i,zR(e,t.length>0?t:void 0)}Dm(e,i=>{Nm(n,i)})}function fM(n,e){let t=Ld(QR(n,e)),i=sM(n.transactionQueueTree_,e);return CG(i,r=>{zw(n,r)}),zw(n,i),HR(i,r=>{zw(n,r)}),t}function zw(n,e){let t=cl(e);if(t){let i=[],r=[],o=-1;for(let s=0;s<t.length;s++)t[s].status===3||(t[s].status===1?(z(o===s-1,"All SENT items should be at beginning of queue."),o=s,t[s].status=3,t[s].abortReason="set"):(z(t[s].status===0,"Unexpected transaction status in abort"),t[s].unwatcher(),r=r.concat(es(n.serverSyncTree_,t[s].currentWriteId,!0)),t[s].onComplete&&i.push(t[s].onComplete.bind(null,new Error("set"),!1,null))));o===-1?zR(e,void 0):t.length=o+1,fi(n.eventQueue_,Ld(e),r);for(let s=0;s<i.length;s++)sl(i[s])}}function HG(n){let e="",t=n.split("/");for(let i=0;i<t.length;i++)if(t[i].length>0){let r=t[i];try{r=decodeURIComponent(r.replace(/\+/g," "))}catch{}e+="/"+r}return e}function WG(n){let e={};n.charAt(0)==="?"&&(n=n.substring(1));for(let t of n.split("&")){if(t.length===0)continue;let i=t.split("=");i.length===2?e[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):Cn(`Invalid query segment '${t}' in query '${n}'`)}return e}var Gk=function(n,e){let t=GG(n),i=t.namespace;t.domain==="firebase.com"&&io(t.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||i==="undefined")&&t.domain!=="localhost"&&io("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),t.secure||C9();let r=t.scheme==="ws"||t.scheme==="wss";return{repoInfo:new im(t.host,t.secure,i,r,e,"",i!==t.subdomain),path:new He(t.pathString)}},GG=function(n){let e="",t="",i="",r="",o="",s=!0,a="https",c=443;if(typeof n=="string"){let l=n.indexOf("//");l>=0&&(a=n.substring(0,l-1),n=n.substring(l+2));let h=n.indexOf("/");h===-1&&(h=n.length);let f=n.indexOf("?");f===-1&&(f=n.length),e=n.substring(0,Math.min(h,f)),h<f&&(r=HG(n.substring(h,f)));let y=WG(n.substring(Math.min(n.length,f)));l=e.indexOf(":"),l>=0?(s=a==="https"||a==="wss",c=parseInt(e.substring(l+1),10)):l=e.length;let w=e.slice(0,l);if(w.toLowerCase()==="localhost")t="localhost";else if(w.split(".").length<=2)t=w;else{let I=e.indexOf(".");i=e.substring(0,I).toLowerCase(),t=e.substring(I+1),o=i}"ns"in y&&(o=y.ns)}return{host:e,port:c,domain:t,subdomain:i,secure:s,scheme:a,pathString:r,namespace:o}};var qk="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",qG=(function(){let n=0,e=[];return function(t){let i=t===n;n=t;let r,o=new Array(8);for(r=7;r>=0;r--)o[r]=qk.charAt(t%64),t=Math.floor(t/64);z(t===0,"Cannot push at time == 0");let s=o.join("");if(i){for(r=11;r>=0&&e[r]===63;r--)e[r]=0;e[r]++}else for(r=0;r<12;r++)e[r]=Math.floor(Math.random()*64);for(r=0;r<12;r++)s+=qk.charAt(e[r]);return z(s.length===20,"nextPushId: Length should be 20."),s}})();var wm=class{constructor(e,t,i,r){this.eventType=e,this.eventRegistration=t,this.snapshot=i,this.prevName=r}getPath(){let e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Rt(this.snapshot.exportVal())}},Em=class{constructor(e,t,i){this.eventRegistration=e,this.error=t,this.path=i}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}};var Mm=class{constructor(e,t){this.snapshotCallback=e,this.cancelCallback=t}onValue(e,t){this.snapshotCallback.call(null,e,t)}onCancel(e){return z(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}};var rl=class n{constructor(e,t,i,r){this._repo=e,this._path=t,this._queryParams=i,this._orderByCalled=r}get key(){return xe(this._path)?null:WE(this._path)}get ref(){return new wr(this._repo,this._path)}get _queryIdentifier(){let e=Ak(this._queryParams),t=$E(e);return t==="{}"?"default":t}get _queryObject(){return Ak(this._queryParams)}isEqual(e){if(e=Mt(e),!(e instanceof n))return!1;let t=this._repo===e._repo,i=GE(this._path,e._path),r=this._queryIdentifier===e._queryIdentifier;return t&&i&&r}toJSON(){return this.toString()}toString(){return this._repo.toString()+eW(this._path)}};function KG(n,e){if(n._orderByCalled===!0)throw new Error(e+": You can't combine multiple orderBy calls.")}function pM(n){let e=null,t=null;if(n.hasStart()&&(e=n.getIndexStartValue()),n.hasEnd()&&(t=n.getIndexEndValue()),n.getIndex()===ha){let i="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",r="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(n.hasStart()){if(n.getIndexStartName()!==ga)throw new Error(i);if(typeof e!="string")throw new Error(r)}if(n.hasEnd()){if(n.getIndexEndName()!==is)throw new Error(i);if(typeof t!="string")throw new Error(r)}}else if(n.getIndex()===bt){if(e!=null&&!DE(e)||t!=null&&!DE(t))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(z(n.getIndex()instanceof Ed||n.getIndex()===yR,"unknown index type."),e!=null&&typeof e=="object"||t!=null&&typeof t=="object")throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function JR(n){if(n.hasStart()&&n.hasEnd()&&n.hasLimit()&&!n.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}var wr=class n extends rl{constructor(e,t){super(e,t,new uE,!1)}get parent(){let e=pR(this._path);return e===null?null:new n(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}},Td=class n{constructor(e,t,i){this._node=e,this.ref=t,this._index=i}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){let t=new He(e),i=_a(this.ref,e);return new n(this._node.getChild(t),i,bt)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(i,r)=>e(new n(r,_a(this.ref,i),bt)))}hasChild(e){let t=new He(e);return!this._node.getChild(t).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}};function e2(n,e){return n=Mt(n),n._checkNotDeleted("ref"),e!==void 0?_a(n._root,e):n._root}function _a(n,e){return n=Mt(n),Oe(n._path)===null?SG("child","path",e,!1):aM("child","path",e,!1),new wr(n._repo,It(n._path,e))}function t2(n,e){n=Mt(n),cM("push",n._path),Fd("push",e,n._path,!0);let t=KR(n._repo),i=qG(t),r=_a(n,i),o=_a(n,i),s;return e!=null?s=Lm(o,e).then(()=>o):s=Promise.resolve(o),r.then=s.then.bind(s),r.catch=s.then.bind(s,void 0),r}function n2(n){return cM("remove",n._path),Lm(n,null)}function Lm(n,e){n=Mt(n),cM("set",n._path),Fd("set",e,n._path,!1);let t=new ci;return FG(n._repo,n._path,e,null,t.wrapCallback(()=>{})),t.promise}function i2(n,e){OG("update",e,n._path,!1);let t=new ci;return BG(n._repo,n._path,e,t.wrapCallback(()=>{})),t.promise}function r2(n){n=Mt(n);let e=new Mm(()=>{}),t=new Im(e);return LG(n._repo,n,t).then(i=>new Td(i,new wr(n._repo,n._path),n._queryParams.getIndex()))}var Im=class n{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,t){let i=t._queryParams.getIndex();return new wm("value",this,new Td(e.snapshotNode,new wr(t._repo,t._path),i))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new Em(this,e,t):null}matches(e){return e instanceof n?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}},RE=class n{constructor(e,t){this.eventType=e,this.callbackContext=t}respondsTo(e){let t=e==="children_added"?"child_added":e;return t=t==="children_removed"?"child_removed":t,this.eventType===t}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new Em(this,e,t):null}createEvent(e,t){z(e.childName!=null,"Child events should have a childName.");let i=_a(new wr(t._repo,t._path),e.childName),r=t._queryParams.getIndex();return new wm(e.type,this,new Td(e.snapshotNode,i,r),e.prevName)}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof n?this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext)):!1}hasAnyCallback(){return!!this.callbackContext}};function YG(n,e,t,i,r){let o;if(typeof i=="object"&&(o=void 0,r=i),typeof i=="function"&&(o=i),r&&r.onlyOnce){let c=t,l=(h,f)=>{Wk(n._repo,n,a),c(h,f)};l.userCallback=t.userCallback,l.context=t.context,t=l}let s=new Mm(t,o||void 0),a=e==="value"?new Im(s):new RE(e,s);return VG(n._repo,n,a),()=>Wk(n._repo,n,a)}function o2(n,e,t,i){return YG(n,"value",e,t,i)}var ol=class{},NE=class extends ol{constructor(e,t){super(),this._value=e,this._key=t,this.type="endAt"}_apply(e){Fd("endAt",this._value,e._path,!0);let t=_W(e._queryParams,this._value,this._key);if(JR(t),pM(t),e._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new rl(e._repo,e._path,t,e._orderByCalled)}};var LE=class extends ol{constructor(e,t){super(),this._value=e,this._key=t,this.type="startAt"}_apply(e){Fd("startAt",this._value,e._path,!0);let t=mW(e._queryParams,this._value,this._key);if(JR(t),pM(t),e._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new rl(e._repo,e._path,t,e._orderByCalled)}};var FE=class extends ol{constructor(e){super(),this._path=e,this.type="orderByChild"}_apply(e){KG(e,"orderByChild");let t=new He(this._path);if(xe(t))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");let i=new Ed(t),r=vW(e._queryParams,i);return pM(r),new rl(e._repo,e._path,r,!0)}};function s2(n){if(n==="$key")throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if(n==="$priority")throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if(n==="$value")throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return aM("orderByChild","path",n,!1),new FE(n)}var BE=class extends ol{constructor(e,t){super(),this._value=e,this._key=t,this.type="equalTo"}_apply(e){if(Fd("equalTo",this._value,e._path,!1),e._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(e._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new NE(this._value,this._key)._apply(new LE(this._value,this._key)._apply(e))}};function a2(n,e){return xG("equalTo","key",e,!0),new BE(n,e)}function c2(n,...e){let t=Mt(n);for(let i of e)t=i._apply(t);return t}JW(wr);rG(wr);var QG="FIREBASE_DATABASE_EMULATOR_HOST",jE={},ZG=!1;function XG(n,e,t,i){let r=e.lastIndexOf(":"),o=e.substring(0,r),s=dr(o);n.repoInfo_=new im(e,s,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams,!0,t),i&&(n.authTokenProvider_=i)}function JG(n,e,t,i,r){let o=i||n.options.databaseURL;o===void 0&&(n.options.projectId||io("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),rn("Using default host for project ",n.options.projectId),o=`${n.options.projectId}-default-rtdb.firebaseio.com`);let s=Gk(o,r),a=s.repoInfo,c,l;typeof process<"u"&&process.env&&(l=process.env[QG]),l?(c=!0,o=`http://${l}?ns=${a.namespace}`,s=Gk(o,r),a=s.repoInfo):c=!s.repoInfo.secure;let h=r&&c?new vd(vd.OWNER):new Kw(n.name,n.options,e);DG("Invalid Firebase Database URL",s),xe(s.path)||io("Database URL must point to the root of a Firebase Database (not including a child path).");let f=tq(a,n,h,new qw(n,t));return new VE(f,n)}function eq(n,e){let t=jE[e];(!t||t[n.key]!==n)&&io(`Database ${e}(${n.repoInfo_}) has already been deleted.`),UG(n),delete t[n.key]}function tq(n,e,t,i){let r=jE[e.name];r||(r={},jE[e.name]=r);let o=r[n.toURLString()];return o&&io("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new AE(n,ZG,t,i),r[n.toURLString()]=o,o}var VE=class{constructor(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(RG(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new wr(this._repo,je())),this._rootInternal}_delete(){return this._rootInternal!==null&&(eq(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&io("Cannot call "+e+" on a deleted database.")}};function l2(n=Zr(),e){let t=Ho(n,"database").getImmediate({identifier:e});if(!t._instanceStarted){let i=Eg("database");i&&u2(t,...i)}return t}function u2(n,e,t,i={}){n=Mt(n),n._checkNotDeleted("useEmulator");let r=`${e}:${t}`,o=n._repoInternal;if(n._instanceStarted){if(r===n._repoInternal.repoInfo_.host&&pr(i,o.repoInfo_.emulatorOptions))return;io("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let s;if(o.repoInfo_.nodeAdmin)i.mockUserToken&&io('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new vd(vd.OWNER);else if(i.mockUserToken){let a=typeof i.mockUserToken=="string"?i.mockUserToken:Mg(i.mockUserToken,n.app.options.projectId);s=new vd(a)}dr(e)&&(jc(e),Vc("Database",!0)),XG(o,r,i,s)}function nq(n){v9(mr),Kn(new tn("database",(e,{instanceIdentifier:t})=>{let i=e.getProvider("app").getImmediate(),r=e.getProvider("auth-internal"),o=e.getProvider("app-check-internal");return JG(i,r,o,t)},"PUBLIC").setMultipleInstances(!0)),at(gk,mk,n),at(gk,mk,"esm2017")}qE.prototype.simpleListen=function(n,e){this.sendRequest("q",{p:n},e)};qE.prototype.echo=function(n,e){this.sendRequest("echo",{d:n},e)};nq();var Vi=class{constructor(e){return e}},d2="database",hM=class{constructor(){return Wo(d2)}};var gM=new G("angularfire2.database-instances");function iq(n,e){let t=aa(d2,n,e);return t&&new Vi(t)}function rq(n){return(e,t)=>{let i=e.runOutsideAngular(()=>n(t));return new Vi(i)}}var oq={provide:hM,deps:[[new Wt,gM]]},sq={provide:Vi,useFactory:iq,deps:[[new Wt,gM],Ni]};function f2(n,...e){return at("angularfire",_r.full,"rtdb"),dn([sq,oq,{provide:gM,useFactory:rq(n),multi:!0,deps:[ke,Be,vr,Xr,[new Wt,ua],[new Wt,qo],...e]}])}var p2=_t(a2,!0,2);var Fm=_t(r2,!0),h2=_t(l2,!0);var Ui=_t(o2,!0),mM=_t(s2,!0,2);var Bm=_t(t2,!0,2),_M=_t(c2,!0,2),pt=_t(e2,!0,2);var ba=_t(n2,!0,2);var jm=_t(Lm,!0,2);var ll=_t(i2,!0,2);var b2="firebasestorage.googleapis.com",aq="storageBucket",cq=120*1e3,lq=600*1e3;var Er=class n extends qn{constructor(e,t,i=0){super(yM(e),`Firebase Storage: ${t} (${yM(e)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,n.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return yM(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}},oo=(function(n){return n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment",n})(oo||{});function yM(n){return"storage/"+n}function uq(){let n="An unknown error occurred, please check the error payload for server response.";return new Er(oo.UNKNOWN,n)}function dq(){return new Er(oo.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function fq(){return new Er(oo.CANCELED,"User canceled the upload/download.")}function pq(n){return new Er(oo.INVALID_URL,"Invalid URL '"+n+"'.")}function hq(n){return new Er(oo.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function g2(n){return new Er(oo.INVALID_ARGUMENT,n)}function C2(){return new Er(oo.APP_DELETED,"The Firebase app was deleted.")}function gq(n){return new Er(oo.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}var ro=class n{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){let e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let i;try{i=n.makeFromUrl(e,t)}catch{return new n(e,"")}if(i.path==="")return i;throw hq(e)}static makeFromUrl(e,t){let i=null,r="([A-Za-z0-9.\\-_]+)";function o(te){te.path.charAt(te.path.length-1)==="/"&&(te.path_=te.path_.slice(0,-1))}let s="(/(.*))?$",a=new RegExp("^gs://"+r+s,"i"),c={bucket:1,path:3};function l(te){te.path_=decodeURIComponent(te.path)}let h="v[A-Za-z0-9_]+",f=t.replace(/[.]/g,"\\."),y="(/([^?#]*).*)?$",w=new RegExp(`^https?://${f}/${h}/b/${r}/o${y}`,"i"),I={bucket:1,path:3},D=t===b2?"(?:storage.googleapis.com|storage.cloud.google.com)":t,T="([^?#]*)",L=new RegExp(`^https?://${D}/${r}/${T}`,"i"),le=[{regex:a,indices:c,postModify:o},{regex:w,indices:I,postModify:l},{regex:L,indices:{bucket:1,path:2},postModify:l}];for(let te=0;te<le.length;te++){let rt=le[te],We=rt.regex.exec(e);if(We){let tt=We[rt.indices.bucket],ht=We[rt.indices.path];ht||(ht=""),i=new n(tt,ht),rt.postModify(i);break}}if(i==null)throw pq(e);return i}},bM=class{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}};function mq(n,e,t){let i=1,r=null,o=null,s=!1,a=0;function c(){return a===2}let l=!1;function h(...T){l||(l=!0,e.apply(null,T))}function f(T){r=setTimeout(()=>{r=null,n(w,c())},T)}function y(){o&&clearTimeout(o)}function w(T,...L){if(l){y();return}if(T){y(),h.call(null,T,...L);return}if(c()||s){y(),h.call(null,T,...L);return}i<64&&(i*=2);let le;a===1?(a=2,le=0):le=(i+Math.random())*1e3,f(le)}let I=!1;function D(T){I||(I=!0,y(),!l&&(r!==null?(T||(a=2),clearTimeout(r),f(0)):T||(a=1)))}return f(0),o=setTimeout(()=>{s=!0,D(!0)},t),D}function _q(n){n(!1)}function vq(n){return n!==void 0}function m2(n,e,t,i){if(i<e)throw g2(`Invalid value for '${n}'. Expected ${e} or greater.`);if(i>t)throw g2(`Invalid value for '${n}'. Expected ${t} or less.`)}function yq(n){let e=encodeURIComponent,t="?";for(let i in n)if(n.hasOwnProperty(i)){let r=e(i)+"="+e(n[i]);t=t+r+"&"}return t=t.slice(0,-1),t}var CM=(function(n){return n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT",n})(CM||{});function bq(n,e){let t=n>=500&&n<600,r=[408,429].indexOf(n)!==-1,o=e.indexOf(n)!==-1;return t||r||o}var wM=class{constructor(e,t,i,r,o,s,a,c,l,h,f,y=!0,w=!1){this.url_=e,this.method_=t,this.headers_=i,this.body_=r,this.successCodes_=o,this.additionalRetryCodes_=s,this.callback_=a,this.errorCallback_=c,this.timeout_=l,this.progressCallback_=h,this.connectionFactory_=f,this.retry=y,this.isUsingEmulator=w,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((I,D)=>{this.resolve_=I,this.reject_=D,this.start_()})}start_(){let e=(i,r)=>{if(r){i(!1,new ul(!1,null,!0));return}let o=this.connectionFactory_();this.pendingConnection_=o;let s=a=>{let c=a.loaded,l=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(c,l)};this.progressCallback_!==null&&o.addUploadProgressListener(s),o.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(s),this.pendingConnection_=null;let a=o.getErrorCode()===CM.NO_ERROR,c=o.getStatus();if(!a||bq(c,this.additionalRetryCodes_)&&this.retry){let h=o.getErrorCode()===CM.ABORT;i(!1,new ul(!1,null,h));return}let l=this.successCodes_.indexOf(c)!==-1;i(!0,new ul(l,o))})},t=(i,r)=>{let o=this.resolve_,s=this.reject_,a=r.connection;if(r.wasSuccessCode)try{let c=this.callback_(a,a.getResponse());vq(c)?o(c):o()}catch(c){s(c)}else if(a!==null){let c=uq();c.serverResponse=a.getErrorText(),this.errorCallback_?s(this.errorCallback_(a,c)):s(c)}else if(r.canceled){let c=this.appDelete_?C2():fq();s(c)}else{let c=dq();s(c)}};this.canceled_?t(!1,new ul(!1,null,!0)):this.backoffId_=mq(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&_q(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}},ul=class{constructor(e,t,i){this.wasSuccessCode=e,this.connection=t,this.canceled=!!i}};function Cq(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function wq(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function Eq(n,e){e&&(n["X-Firebase-GMPID"]=e)}function Mq(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function Iq(n,e,t,i,r,o,s=!0,a=!1){let c=yq(n.urlParams),l=n.url+c,h=Object.assign({},n.headers);return Eq(h,e),Cq(h,t),wq(h,o),Mq(h,i),new wM(l,n.method,h,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,r,s,a)}function Pq(n){if(n.length===0)return null;let e=n.lastIndexOf("/");return e===-1?"":n.slice(0,e)}function Oq(n){let e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}var P0e=256*1024;var EM=class n{constructor(e,t){this._service=e,t instanceof ro?this._location=t:this._location=ro.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new n(e,t)}get root(){let e=new ro(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Oq(this._location.path)}get storage(){return this._service}get parent(){let e=Pq(this._location.path);if(e===null)return null;let t=new ro(this._location.bucket,e);return new n(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw gq(e)}};function _2(n,e){let t=e?.[aq];return t==null?null:ro.makeFromBucketSpec(t,n)}function xq(n,e,t,i={}){n.host=`${e}:${t}`;let r=dr(e);r&&(jc(`https://${n.host}/b`),Vc("Storage",!0)),n._isUsingEmulator=!0,n._protocol=r?"https":"http";let{mockUserToken:o}=i;o&&(n._overrideAuthToken=typeof o=="string"?o:Mg(o,n.app.options.projectId))}var MM=class{constructor(e,t,i,r,o,s=!1){this.app=e,this._authProvider=t,this._appCheckProvider=i,this._url=r,this._firebaseVersion=o,this._isUsingEmulator=s,this._bucket=null,this._host=b2,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=cq,this._maxUploadRetryTime=lq,this._requests=new Set,r!=null?this._bucket=ro.makeFromBucketSpec(r,this._host):this._bucket=_2(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=ro.makeFromBucketSpec(this._url,e):this._bucket=_2(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){m2("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){m2("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){return x(this,null,function*(){if(this._overrideAuthToken)return this._overrideAuthToken;let e=this._authProvider.getImmediate({optional:!0});if(e){let t=yield e.getToken();if(t!==null)return t.accessToken}return null})}_getAppCheckToken(){return x(this,null,function*(){if(nn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let e=this._appCheckProvider.getImmediate({optional:!0});return e?(yield e.getToken()).token:null})}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new EM(this,e)}_makeRequest(e,t,i,r,o=!0){if(this._deleted)return new bM(C2());{let s=Iq(e,this._appId,i,r,t,this._firebaseVersion,o,this._isUsingEmulator);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}makeRequestWithTokens(e,t){return x(this,null,function*(){let[i,r]=yield Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,i,r).getPromise()})}},v2="@firebase/storage",y2="0.13.14";var w2="storage";function E2(n=Zr(),e){n=Mt(n);let i=Ho(n,w2).getImmediate({identifier:e}),r=Eg("storage");return r&&M2(i,...r),i}function M2(n,e,t,i={}){xq(n,e,t,i)}function Sq(n,{instanceIdentifier:e}){let t=n.getProvider("app").getImmediate(),i=n.getProvider("auth-internal"),r=n.getProvider("app-check-internal");return new MM(t,i,r,e,mr)}function Dq(){Kn(new tn(w2,Sq,"PUBLIC").setMultipleInstances(!0)),at(v2,y2,""),at(v2,y2,"esm2017")}Dq();var jd=class{constructor(e){return e}},I2="storage",IM=class{constructor(){return Wo(I2)}};var PM=new G("angularfire2.storage-instances");function Tq(n,e){let t=aa(I2,n,e);return t&&new jd(t)}function Aq(n){return(e,t)=>{let i=e.runOutsideAngular(()=>n(t));return new jd(i)}}var kq={provide:IM,deps:[[new Wt,PM]]},Rq={provide:jd,useFactory:Tq,deps:[[new Wt,PM],Ni]};function P2(n,...e){return at("angularfire",_r.full,"gcs"),dn([Rq,kq,{provide:PM,useFactory:Aq(n),multi:!0,deps:[ke,Be,vr,Xr,[new Wt,ua],[new Wt,qo],...e]}])}var O2=_t(E2,!0);var OM={production:!1,firebase:{apiKey:"AIzaSyBIydVrbzKJ9YvIYQ8kQHn4upKo0jDfQ6M",authDomain:"ankh-a4380.firebaseapp.com",databaseURL:"https://ankh-a4380-default-rtdb.europe-west1.firebasedatabase.app",projectId:"ankh-a4380",storageBucket:"ankh-a4380.firebasestorage.app",messagingSenderId:"505804085488",appId:"1:505804085488:web:6dd9649409abc5ecc5ca35",measurementId:"G-F6VMMVJ0C3"},emailJs:{serviceId:"YOUR_EMAILJS_SERVICE_ID",templateId:"YOUR_EMAILJS_TEMPLATE_ID",publicKey:"YOUR_EMAILJS_PUBLIC_KEY",recipientEmail:"info@ankh.com"}};function Nq(n,e){if(n&1&&(m(0,"div",23)(1,"div",38)(2,"div",39),M(3,"i",40),_(),m(4,"h3",41),v(5),b(6,"translate"),_(),m(7,"p",42),v(8),b(9,"translate"),_()()()),n&2){let t=e.$implicit;p(3),V("ngClass",t.icon),p(2),O(C(6,3,t.title)),p(3),O(C(9,5,t.description))}}function Lq(n,e){if(n&1&&(m(0,"div",25)(1,"div",43)(2,"div",44),v(3),_(),m(4,"div",45),M(5,"i",40),_(),m(6,"h3",46),v(7),b(8,"translate"),_(),m(9,"p",47),v(10),b(11,"translate"),_()()()),n&2){let t=e.$implicit;p(3),O(t.number),p(2),V("ngClass",t.icon),p(2),O(C(8,4,t.title)),p(3),O(C(11,6,t.description))}}function Fq(n,e){if(n&1&&(m(0,"div",27)(1,"div",48)(2,"div",49),M(3,"i",40),_(),m(4,"h3",50),v(5),b(6,"translate"),_(),m(7,"p",51),v(8),b(9,"translate"),_()()()),n&2){let t=e.$implicit;p(3),V("ngClass",t.icon),p(2),O(C(6,3,t.title)),p(3),O(C(9,5,t.description))}}var Vm=class n{features=[{icon:"fa-shield-alt",title:"home.features.secure.title",description:"home.features.secure.description"},{icon:"fa-video",title:"home.features.video.title",description:"home.features.video.description"},{icon:"fa-file-pdf",title:"home.features.pdfs.title",description:"home.features.pdfs.description"},{icon:"fa-tasks",title:"home.features.quizzes.title",description:"home.features.quizzes.description"},{icon:"fa-users",title:"home.features.organizations.title",description:"home.features.organizations.description"},{icon:"fa-cog",title:"home.features.management.title",description:"home.features.management.description"}];steps=[{number:"01",title:"home.howItWorks.register.title",description:"home.howItWorks.register.description",icon:"fa-user-plus"},{number:"02",title:"home.howItWorks.approval.title",description:"home.howItWorks.approval.description",icon:"fa-check-circle"},{number:"03",title:"home.howItWorks.access.title",description:"home.howItWorks.access.description",icon:"fa-unlock"},{number:"04",title:"home.howItWorks.learn.title",description:"home.howItWorks.learn.description",icon:"fa-graduation-cap"}];benefits=[{icon:"fa-certificate",title:"home.benefits.certified.title",description:"home.benefits.certified.description"},{icon:"fa-clock",title:"home.benefits.flexible.title",description:"home.benefits.flexible.description"},{icon:"fa-headset",title:"home.benefits.support.title",description:"home.benefits.support.description"}];static \u0275fac=function(t){return new(t||n)};static \u0275cmp=me({type:n,selectors:[["app-home"]],decls:87,vars:49,consts:[[1,"hero-section"],[1,"container"],[1,"row","align-items-center","min-vh-100"],[1,"col-lg-6"],[1,"hero-content"],[1,"hero-title"],[1,"hero-subtitle"],[1,"hero-description"],[1,"hero-actions"],[1,"btn","btn-primary","btn-hero",3,"routerLink"],[1,"fas","fa-rocket","me-2"],[1,"btn","btn-outline-primary","btn-hero",3,"routerLink"],[1,"fas","fa-info-circle","me-2"],[1,"hero-image"],[1,"hero-image-wrapper"],[1,"fas","fa-graduation-cap"],[1,"hero-shape"],[1,"features-section"],[1,"row"],[1,"col-12","text-center","mb-5"],[1,"section-title"],[1,"section-subtitle"],[1,"row","g-4"],[1,"col-md-6","col-lg-4"],[1,"how-it-works-section"],[1,"col-md-6","col-lg-3"],[1,"benefits-section"],[1,"col-md-4"],[1,"cta-section"],[1,"col-lg-8","mx-auto","text-center"],[1,"cta-content"],[1,"cta-title"],[1,"cta-description"],[1,"cta-actions"],[1,"btn","btn-primary","btn-cta",3,"routerLink"],[1,"fas","fa-user-plus","me-2"],[1,"btn","btn-outline-light","btn-cta",3,"routerLink"],[1,"fas","fa-sign-in-alt","me-2"],[1,"feature-card"],[1,"feature-icon"],[1,"fas",3,"ngClass"],[1,"feature-title"],[1,"feature-description"],[1,"step-card"],[1,"step-number"],[1,"step-icon"],[1,"step-title"],[1,"step-description"],[1,"benefit-card"],[1,"benefit-icon"],[1,"benefit-title"],[1,"benefit-description"]],template:function(t,i){t&1&&(m(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h1",5),v(6),b(7,"translate"),_(),m(8,"p",6),v(9),b(10,"translate"),_(),m(11,"p",7),v(12),b(13,"translate"),_(),m(14,"div",8)(15,"a",9),M(16,"i",10),v(17),b(18,"translate"),_(),m(19,"a",11),M(20,"i",12),v(21),b(22,"translate"),_()()()(),m(23,"div",3)(24,"div",13)(25,"div",14),M(26,"i",15),_()()()()(),M(27,"div",16),_(),m(28,"section",17)(29,"div",1)(30,"div",18)(31,"div",19)(32,"h2",20),v(33),b(34,"translate"),_(),m(35,"p",21),v(36),b(37,"translate"),_()()(),m(38,"div",22),dt(39,Nq,10,7,"div",23,$n),_()()(),m(41,"section",24)(42,"div",1)(43,"div",18)(44,"div",19)(45,"h2",20),v(46),b(47,"translate"),_(),m(48,"p",21),v(49),b(50,"translate"),_()()(),m(51,"div",22),dt(52,Lq,12,8,"div",25,$n),_()()(),m(54,"section",26)(55,"div",1)(56,"div",18)(57,"div",19)(58,"h2",20),v(59),b(60,"translate"),_(),m(61,"p",21),v(62),b(63,"translate"),_()()(),m(64,"div",22),dt(65,Fq,10,7,"div",27,$n),_()()(),m(67,"section",28)(68,"div",1)(69,"div",18)(70,"div",29)(71,"div",30)(72,"h2",31),v(73),b(74,"translate"),_(),m(75,"p",32),v(76),b(77,"translate"),_(),m(78,"div",33)(79,"a",34),M(80,"i",35),v(81),b(82,"translate"),_(),m(83,"a",36),M(84,"i",37),v(85),b(86,"translate"),_()()()()()()()),t&2&&(p(6),P(" ",C(7,19,"home.hero.title")," "),p(3),P(" ",C(10,21,"home.hero.subtitle")," "),p(3),P(" ",C(13,23,"home.hero.description")," "),p(3),V("routerLink","/register"),p(2),P(" ",C(18,25,"home.hero.registerBtn")," "),p(2),V("routerLink","/about"),p(2),P(" ",C(22,27,"home.hero.learnMoreBtn")," "),p(12),O(C(34,29,"home.features.title")),p(3),O(C(37,31,"home.features.subtitle")),p(3),ft(i.features),p(7),O(C(47,33,"home.howItWorks.title")),p(3),O(C(50,35,"home.howItWorks.subtitle")),p(3),ft(i.steps),p(7),O(C(60,37,"home.benefits.title")),p(3),O(C(63,39,"home.benefits.subtitle")),p(3),ft(i.benefits),p(8),O(C(74,41,"home.cta.title")),p(3),O(C(77,43,"home.cta.description")),p(3),V("routerLink","/register"),p(2),P(" ",C(82,45,"home.cta.registerBtn")," "),p(2),V("routerLink","/login"),p(2),P(" ",C(86,47,"home.cta.loginBtn")," "))},dependencies:[Ie,jt,$e,Ye,Pe,Ne],styles:[`.hero-section[_ngcontent-%COMP%]{position:relative;min-height:100vh;display:flex;align-items:center;background:linear-gradient(135deg,#0b2a3f,#0e3a5d);padding:64px 0;overflow:hidden}.hero-section[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:0;background:url('data:image/svg+xml,<svg width="100" height="100" xmlns="http://www.w3.org/2000/svg"><defs><pattern id="grid" width="100" height="100" patternUnits="userSpaceOnUse"><path d="M 100 0 L 0 0 0 100" fill="none" stroke="rgba(201,162,77,0.1)" stroke-width="1"/></pattern></defs><rect width="100" height="100" fill="url(%23grid)"/></svg>');opacity:.3}.hero-section[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{position:relative;z-index:2}.hero-section[_ngcontent-%COMP%]   .hero-content[_ngcontent-%COMP%]{color:#fff;animation:_ngcontent-%COMP%_fadeInUp .8s ease-out}.hero-section[_ngcontent-%COMP%]   .hero-content[_ngcontent-%COMP%]   .hero-title[_ngcontent-%COMP%]{font-size:3.5rem;font-weight:700;margin-bottom:32px;line-height:1.2;font-family:Cairo,sans-serif;background:linear-gradient(135deg,#fff,#c9a24d);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}@media (max-width: 991.98px){.hero-section[_ngcontent-%COMP%]   .hero-content[_ngcontent-%COMP%]   .hero-title[_ngcontent-%COMP%]{font-size:2.5rem}}@media (max-width: 575.98px){.hero-section[_ngcontent-%COMP%]   .hero-content[_ngcontent-%COMP%]   .hero-title[_ngcontent-%COMP%]{font-size:2rem}}.hero-section[_ngcontent-%COMP%]   .hero-content[_ngcontent-%COMP%]   .hero-subtitle[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:600;margin-bottom:16px;color:#ffffffe6;font-family:Cairo,sans-serif}@media (max-width: 991.98px){.hero-section[_ngcontent-%COMP%]   .hero-content[_ngcontent-%COMP%]   .hero-subtitle[_ngcontent-%COMP%]{font-size:1.3rem}}.hero-section[_ngcontent-%COMP%]   .hero-content[_ngcontent-%COMP%]   .hero-description[_ngcontent-%COMP%]{font-size:1.1rem;line-height:1.8;margin-bottom:64px;color:#fffc;font-family:Cairo,sans-serif}@media (max-width: 991.98px){.hero-section[_ngcontent-%COMP%]   .hero-content[_ngcontent-%COMP%]   .hero-description[_ngcontent-%COMP%]{font-size:1rem}}.hero-section[_ngcontent-%COMP%]   .hero-content[_ngcontent-%COMP%]   .hero-actions[_ngcontent-%COMP%]{display:flex;gap:16px;flex-wrap:wrap}.hero-section[_ngcontent-%COMP%]   .hero-content[_ngcontent-%COMP%]   .hero-actions[_ngcontent-%COMP%]   .btn-hero[_ngcontent-%COMP%]{padding:16px 32px;font-size:1.1rem;font-weight:600;border-radius:8px;transition:all .3s ease;font-family:Cairo,sans-serif;text-decoration:none;display:inline-flex;align-items:center}.hero-section[_ngcontent-%COMP%]   .hero-content[_ngcontent-%COMP%]   .hero-actions[_ngcontent-%COMP%]   .btn-hero[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1rem}.hero-section[_ngcontent-%COMP%]   .hero-content[_ngcontent-%COMP%]   .hero-actions[_ngcontent-%COMP%]   .btn-hero[_ngcontent-%COMP%]:hover{transform:translateY(-3px);box-shadow:0 8px 16px #0003}.hero-section[_ngcontent-%COMP%]   .hero-content[_ngcontent-%COMP%]   .hero-actions[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]{background:#c9a24d;border-color:#c9a24d;color:#fff}.hero-section[_ngcontent-%COMP%]   .hero-content[_ngcontent-%COMP%]   .hero-actions[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]:hover{background:#a8832f;border-color:#a8832f}.hero-section[_ngcontent-%COMP%]   .hero-content[_ngcontent-%COMP%]   .hero-actions[_ngcontent-%COMP%]   .btn-outline-primary[_ngcontent-%COMP%]{border-color:#fff;color:#fff}.hero-section[_ngcontent-%COMP%]   .hero-content[_ngcontent-%COMP%]   .hero-actions[_ngcontent-%COMP%]   .btn-outline-primary[_ngcontent-%COMP%]:hover{background:#fff;color:#0e3a5d}.hero-section[_ngcontent-%COMP%]   .hero-image[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;animation:_ngcontent-%COMP%_fadeInRight .8s ease-out}.hero-section[_ngcontent-%COMP%]   .hero-image[_ngcontent-%COMP%]   .hero-image-wrapper[_ngcontent-%COMP%]{width:400px;height:400px;border-radius:50%;background:linear-gradient(135deg,#c9a24d33,#0e3a5d33);display:flex;align-items:center;justify-content:center;position:relative;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border:2px solid rgba(201,162,77,.3)}.hero-section[_ngcontent-%COMP%]   .hero-image[_ngcontent-%COMP%]   .hero-image-wrapper[_ngcontent-%COMP%]:before{content:"";position:absolute;width:350px;height:350px;border-radius:50%;background:linear-gradient(135deg,#c9a24d1a,#0e3a5d1a);animation:_ngcontent-%COMP%_pulse 3s ease-in-out infinite}.hero-section[_ngcontent-%COMP%]   .hero-image[_ngcontent-%COMP%]   .hero-image-wrapper[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:8rem;color:#c9a24d;position:relative;z-index:2;animation:_ngcontent-%COMP%_float 3s ease-in-out infinite}@media (max-width: 991.98px){.hero-section[_ngcontent-%COMP%]   .hero-image[_ngcontent-%COMP%]   .hero-image-wrapper[_ngcontent-%COMP%]{width:300px;height:300px}.hero-section[_ngcontent-%COMP%]   .hero-image[_ngcontent-%COMP%]   .hero-image-wrapper[_ngcontent-%COMP%]:before{width:250px;height:250px}.hero-section[_ngcontent-%COMP%]   .hero-image[_ngcontent-%COMP%]   .hero-image-wrapper[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:6rem}}@media (max-width: 575.98px){.hero-section[_ngcontent-%COMP%]   .hero-image[_ngcontent-%COMP%]   .hero-image-wrapper[_ngcontent-%COMP%]{width:250px;height:250px}.hero-section[_ngcontent-%COMP%]   .hero-image[_ngcontent-%COMP%]   .hero-image-wrapper[_ngcontent-%COMP%]:before{width:200px;height:200px}.hero-section[_ngcontent-%COMP%]   .hero-image[_ngcontent-%COMP%]   .hero-image-wrapper[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:4rem}}.hero-section[_ngcontent-%COMP%]   .hero-shape[_ngcontent-%COMP%]{position:absolute;bottom:0;left:0;right:0;height:100px;background:#f3f1ec;clip-path:polygon(0 50%,100% 0,100% 100%,0 100%)}.features-section[_ngcontent-%COMP%]{padding:64px 0;background:#f3f1ec}.features-section[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{font-size:2.5rem;font-weight:700;color:#0e3a5d;margin-bottom:16px;font-family:Cairo,sans-serif}@media (max-width: 991.98px){.features-section[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{font-size:2rem}}.features-section[_ngcontent-%COMP%]   .section-subtitle[_ngcontent-%COMP%]{font-size:1.1rem;color:#0f172ab3;font-family:Cairo,sans-serif}.features-section[_ngcontent-%COMP%]   .feature-card[_ngcontent-%COMP%]{background:#fff;border-radius:16px;padding:64px;height:100%;transition:all .3s ease;box-shadow:0 1px 2px #0000001a;border:1px solid rgba(14,58,93,.1)}.features-section[_ngcontent-%COMP%]   .feature-card[_ngcontent-%COMP%]:hover{transform:translateY(-8px);box-shadow:0 8px 16px #0003;border-color:#c9a24d}.features-section[_ngcontent-%COMP%]   .feature-card[_ngcontent-%COMP%]:hover   .feature-icon[_ngcontent-%COMP%]{transform:scale(1.1) rotate(5deg);background:linear-gradient(135deg,#c9a24d,#0e3a5d);color:#fff}.features-section[_ngcontent-%COMP%]   .feature-card[_ngcontent-%COMP%]   .feature-icon[_ngcontent-%COMP%]{width:70px;height:70px;border-radius:8px;background:#c9a24d1a;display:flex;align-items:center;justify-content:center;margin-bottom:32px;transition:all .3s ease}.features-section[_ngcontent-%COMP%]   .feature-card[_ngcontent-%COMP%]   .feature-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:2rem;color:#c9a24d;transition:all .3s ease}.features-section[_ngcontent-%COMP%]   .feature-card[_ngcontent-%COMP%]   .feature-title[_ngcontent-%COMP%]{font-size:1.3rem;font-weight:700;color:#0e3a5d;margin-bottom:16px;font-family:Cairo,sans-serif}.features-section[_ngcontent-%COMP%]   .feature-card[_ngcontent-%COMP%]   .feature-description[_ngcontent-%COMP%]{font-size:.95rem;color:#0f172ab3;line-height:1.7;font-family:Cairo,sans-serif}.how-it-works-section[_ngcontent-%COMP%]{padding:64px 0;background:#fff}.how-it-works-section[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{font-size:2.5rem;font-weight:700;color:#0e3a5d;margin-bottom:16px;font-family:Cairo,sans-serif}@media (max-width: 991.98px){.how-it-works-section[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{font-size:2rem}}.how-it-works-section[_ngcontent-%COMP%]   .section-subtitle[_ngcontent-%COMP%]{font-size:1.1rem;color:#0f172ab3;font-family:Cairo,sans-serif}.how-it-works-section[_ngcontent-%COMP%]   .step-card[_ngcontent-%COMP%]{background:#f3f1ec;border-radius:16px;padding:64px;text-align:center;position:relative;transition:all .3s ease;border:2px solid transparent}.how-it-works-section[_ngcontent-%COMP%]   .step-card[_ngcontent-%COMP%]:hover{transform:translateY(-8px);border-color:#c9a24d;box-shadow:0 8px 16px #0003}.how-it-works-section[_ngcontent-%COMP%]   .step-card[_ngcontent-%COMP%]:hover   .step-icon[_ngcontent-%COMP%]{transform:scale(1.1);background:linear-gradient(135deg,#c9a24d,#0e3a5d);color:#fff}.how-it-works-section[_ngcontent-%COMP%]   .step-card[_ngcontent-%COMP%]   .step-number[_ngcontent-%COMP%]{position:absolute;top:-15px;right:20px;font-size:4rem;font-weight:700;color:#c9a24d1a;font-family:Cairo,sans-serif;line-height:1}.how-it-works-section[_ngcontent-%COMP%]   .step-card[_ngcontent-%COMP%]   .step-icon[_ngcontent-%COMP%]{width:80px;height:80px;border-radius:50%;background:#c9a24d1a;display:flex;align-items:center;justify-content:center;margin:0 auto 32px;transition:all .3s ease}.how-it-works-section[_ngcontent-%COMP%]   .step-card[_ngcontent-%COMP%]   .step-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:2.5rem;color:#c9a24d;transition:all .3s ease}.how-it-works-section[_ngcontent-%COMP%]   .step-card[_ngcontent-%COMP%]   .step-title[_ngcontent-%COMP%]{font-size:1.3rem;font-weight:700;color:#0e3a5d;margin-bottom:16px;font-family:Cairo,sans-serif}.how-it-works-section[_ngcontent-%COMP%]   .step-card[_ngcontent-%COMP%]   .step-description[_ngcontent-%COMP%]{font-size:.95rem;color:#0f172ab3;line-height:1.7;font-family:Cairo,sans-serif}.benefits-section[_ngcontent-%COMP%]{padding:64px 0;background:linear-gradient(135deg,#f3f1ec,#c9a24d0d)}.benefits-section[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{font-size:2.5rem;font-weight:700;color:#0e3a5d;margin-bottom:16px;font-family:Cairo,sans-serif}@media (max-width: 991.98px){.benefits-section[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{font-size:2rem}}.benefits-section[_ngcontent-%COMP%]   .section-subtitle[_ngcontent-%COMP%]{font-size:1.1rem;color:#0f172ab3;font-family:Cairo,sans-serif}.benefits-section[_ngcontent-%COMP%]   .benefit-card[_ngcontent-%COMP%]{background:#fff;border-radius:16px;padding:64px;text-align:center;transition:all .3s ease;box-shadow:0 1px 2px #0000001a;border:1px solid rgba(14,58,93,.1);height:100%}.benefits-section[_ngcontent-%COMP%]   .benefit-card[_ngcontent-%COMP%]:hover{transform:translateY(-8px);box-shadow:0 8px 16px #0003;border-color:#c9a24d}.benefits-section[_ngcontent-%COMP%]   .benefit-card[_ngcontent-%COMP%]:hover   .benefit-icon[_ngcontent-%COMP%]{transform:scale(1.1) rotate(-5deg);background:linear-gradient(135deg,#c9a24d,#0e3a5d);color:#fff}.benefits-section[_ngcontent-%COMP%]   .benefit-card[_ngcontent-%COMP%]   .benefit-icon[_ngcontent-%COMP%]{width:80px;height:80px;border-radius:50%;background:#c9a24d1a;display:flex;align-items:center;justify-content:center;margin:0 auto 32px;transition:all .3s ease}.benefits-section[_ngcontent-%COMP%]   .benefit-card[_ngcontent-%COMP%]   .benefit-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:2.5rem;color:#c9a24d;transition:all .3s ease}.benefits-section[_ngcontent-%COMP%]   .benefit-card[_ngcontent-%COMP%]   .benefit-title[_ngcontent-%COMP%]{font-size:1.3rem;font-weight:700;color:#0e3a5d;margin-bottom:16px;font-family:Cairo,sans-serif}.benefits-section[_ngcontent-%COMP%]   .benefit-card[_ngcontent-%COMP%]   .benefit-description[_ngcontent-%COMP%]{font-size:.95rem;color:#0f172ab3;line-height:1.7;font-family:Cairo,sans-serif}.cta-section[_ngcontent-%COMP%]{padding:64px 0;background:linear-gradient(135deg,#0e3a5d,#0b2a3f);position:relative;overflow:hidden}.cta-section[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:0;background:url('data:image/svg+xml,<svg width="100" height="100" xmlns="http://www.w3.org/2000/svg"><defs><pattern id="grid2" width="100" height="100" patternUnits="userSpaceOnUse"><path d="M 100 0 L 0 0 0 100" fill="none" stroke="rgba(201,162,77,0.1)" stroke-width="1"/></pattern></defs><rect width="100" height="100" fill="url(%23grid2)"/></svg>');opacity:.3}.cta-section[_ngcontent-%COMP%]   .cta-content[_ngcontent-%COMP%]{position:relative;z-index:2;color:#fff}.cta-section[_ngcontent-%COMP%]   .cta-content[_ngcontent-%COMP%]   .cta-title[_ngcontent-%COMP%]{font-size:2.5rem;font-weight:700;margin-bottom:16px;font-family:Cairo,sans-serif}@media (max-width: 991.98px){.cta-section[_ngcontent-%COMP%]   .cta-content[_ngcontent-%COMP%]   .cta-title[_ngcontent-%COMP%]{font-size:2rem}}.cta-section[_ngcontent-%COMP%]   .cta-content[_ngcontent-%COMP%]   .cta-description[_ngcontent-%COMP%]{font-size:1.2rem;margin-bottom:64px;color:#ffffffe6;font-family:Cairo,sans-serif}@media (max-width: 991.98px){.cta-section[_ngcontent-%COMP%]   .cta-content[_ngcontent-%COMP%]   .cta-description[_ngcontent-%COMP%]{font-size:1rem}}.cta-section[_ngcontent-%COMP%]   .cta-content[_ngcontent-%COMP%]   .cta-actions[_ngcontent-%COMP%]{display:flex;gap:16px;justify-content:center;flex-wrap:wrap}.cta-section[_ngcontent-%COMP%]   .cta-content[_ngcontent-%COMP%]   .cta-actions[_ngcontent-%COMP%]   .btn-cta[_ngcontent-%COMP%]{padding:16px 64px;font-size:1.1rem;font-weight:600;border-radius:8px;transition:all .3s ease;font-family:Cairo,sans-serif;text-decoration:none;display:inline-flex;align-items:center}.cta-section[_ngcontent-%COMP%]   .cta-content[_ngcontent-%COMP%]   .cta-actions[_ngcontent-%COMP%]   .btn-cta[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1rem}.cta-section[_ngcontent-%COMP%]   .cta-content[_ngcontent-%COMP%]   .cta-actions[_ngcontent-%COMP%]   .btn-cta[_ngcontent-%COMP%]:hover{transform:translateY(-3px);box-shadow:0 8px 16px #0003}.cta-section[_ngcontent-%COMP%]   .cta-content[_ngcontent-%COMP%]   .cta-actions[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]{background:#c9a24d;border-color:#c9a24d;color:#fff}.cta-section[_ngcontent-%COMP%]   .cta-content[_ngcontent-%COMP%]   .cta-actions[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]:hover{background:#a8832f;border-color:#a8832f}.cta-section[_ngcontent-%COMP%]   .cta-content[_ngcontent-%COMP%]   .cta-actions[_ngcontent-%COMP%]   .btn-outline-light[_ngcontent-%COMP%]{border-color:#fff;color:#fff}.cta-section[_ngcontent-%COMP%]   .cta-content[_ngcontent-%COMP%]   .cta-actions[_ngcontent-%COMP%]   .btn-outline-light[_ngcontent-%COMP%]:hover{background:#fff;color:#0e3a5d}@keyframes _ngcontent-%COMP%_fadeInUp{0%{opacity:0;transform:translateY(30px)}to{opacity:1;transform:translateY(0)}}@keyframes _ngcontent-%COMP%_fadeInRight{0%{opacity:0;transform:translate(30px)}to{opacity:1;transform:translate(0)}}@keyframes _ngcontent-%COMP%_pulse{0%,to{transform:scale(1);opacity:1}50%{transform:scale(1.1);opacity:.8}}@keyframes _ngcontent-%COMP%_float{0%,to{transform:translateY(0)}50%{transform:translateY(-20px)}}@media (max-width: 991.98px){.hero-section[_ngcontent-%COMP%]{min-height:auto;padding:64px 0}.hero-section[_ngcontent-%COMP%]   .hero-content[_ngcontent-%COMP%]{text-align:center;margin-bottom:64px}.features-section[_ngcontent-%COMP%], .how-it-works-section[_ngcontent-%COMP%], .benefits-section[_ngcontent-%COMP%], .cta-section[_ngcontent-%COMP%]{padding:32px 0}}@media (max-width: 575.98px){.hero-section[_ngcontent-%COMP%]   .hero-actions[_ngcontent-%COMP%]{flex-direction:column}.hero-section[_ngcontent-%COMP%]   .hero-actions[_ngcontent-%COMP%]   .btn-hero[_ngcontent-%COMP%]{width:100%;justify-content:center}.cta-section[_ngcontent-%COMP%]   .cta-actions[_ngcontent-%COMP%]{flex-direction:column}.cta-section[_ngcontent-%COMP%]   .cta-actions[_ngcontent-%COMP%]   .btn-cta[_ngcontent-%COMP%]{width:100%;justify-content:center}}`]})};var Um=class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=me({type:n,selectors:[["app-about"]],decls:2,vars:0,template:function(t,i){t&1&&(Ke(0,"p"),v(1,"about works!"),it())},encapsulation:2})};var zm=class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=me({type:n,selectors:[["app-contact"]],decls:2,vars:0,template:function(t,i){t&1&&(Ke(0,"p"),v(1,"contact works!"),it())},encapsulation:2})};var F2=(()=>{class n{_renderer;_elementRef;onChange=t=>{};onTouched=()=>{};constructor(t,i){this._renderer=t,this._elementRef=i}setProperty(t,i){this._renderer.setProperty(this._elementRef.nativeElement,t,i)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static \u0275fac=function(i){return new(i||n)(B(ii),B(Jt))};static \u0275dir=mt({type:n})}return n})(),Gd=(()=>{class n extends F2{static \u0275fac=(()=>{let t;return function(r){return(t||(t=Sn(n)))(r||n)}})();static \u0275dir=mt({type:n,features:[zn]})}return n})(),gl=new G(""),Bq={provide:gl,useExisting:Zn(()=>AM),multi:!0},AM=(()=>{class n extends Gd{writeValue(t){this.setProperty("checked",t)}static \u0275fac=(()=>{let t;return function(r){return(t||(t=Sn(n)))(r||n)}})();static \u0275dir=mt({type:n,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(i,r){i&1&&H("change",function(s){return r.onChange(s.target.checked)})("blur",function(){return r.onTouched()})},standalone:!1,features:[Hr([Bq]),zn]})}return n})(),jq={provide:gl,useExisting:Zn(()=>pi),multi:!0};function Vq(){let n=oi()?oi().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var Uq=new G(""),pi=(()=>{class n extends F2{_compositionMode;_composing=!1;constructor(t,i,r){super(t,i),this._compositionMode=r,this._compositionMode==null&&(this._compositionMode=!Vq())}writeValue(t){let i=t??"";this.setProperty("value",i)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static \u0275fac=function(i){return new(i||n)(B(ii),B(Jt),B(Uq,8))};static \u0275dir=mt({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,r){i&1&&H("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},standalone:!1,features:[Hr([jq]),zn]})}return n})();function kM(n){return n==null||RM(n)===0}function RM(n){return n==null?null:Array.isArray(n)||typeof n=="string"?n.length:n instanceof Set?n.size:null}var B2=new G(""),j2=new G(""),zq=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,De=class{static min(e){return $q(e)}static max(e){return Hq(e)}static required(e){return Wq(e)}static requiredTrue(e){return Gq(e)}static email(e){return qq(e)}static minLength(e){return Kq(e)}static maxLength(e){return Yq(e)}static pattern(e){return Qq(e)}static nullValidator(e){return V2()}static compose(e){return G2(e)}static composeAsync(e){return K2(e)}};function $q(n){return e=>{if(e.value==null||n==null)return null;let t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}function Hq(n){return e=>{if(e.value==null||n==null)return null;let t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}function Wq(n){return kM(n.value)?{required:!0}:null}function Gq(n){return n.value===!0?null:{required:!0}}function qq(n){return kM(n.value)||zq.test(n.value)?null:{email:!0}}function Kq(n){return e=>{let t=e.value?.length??RM(e.value);return t===null||t===0?null:t<n?{minlength:{requiredLength:n,actualLength:t}}:null}}function Yq(n){return e=>{let t=e.value?.length??RM(e.value);return t!==null&&t>n?{maxlength:{requiredLength:n,actualLength:t}}:null}}function Qq(n){if(!n)return V2;let e,t;return typeof n=="string"?(t="",n.charAt(0)!=="^"&&(t+="^"),t+=n,n.charAt(n.length-1)!=="$"&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),i=>{if(kM(i.value))return null;let r=i.value;return e.test(r)?null:{pattern:{requiredPattern:t,actualValue:r}}}}function V2(n){return null}function U2(n){return n!=null}function z2(n){return zs(n)?se(n):n}function $2(n){let e={};return n.forEach(t=>{e=t!=null?F(F({},e),t):e}),Object.keys(e).length===0?null:e}function H2(n,e){return e.map(t=>t(n))}function Zq(n){return!n.validate}function W2(n){return n.map(e=>Zq(e)?e:t=>e.validate(t))}function G2(n){if(!n)return null;let e=n.filter(U2);return e.length==0?null:function(t){return $2(H2(t,e))}}function q2(n){return n!=null?G2(W2(n)):null}function K2(n){if(!n)return null;let e=n.filter(U2);return e.length==0?null:function(t){let i=H2(t,e).map(z2);return Ar(i).pipe(K($2))}}function Y2(n){return n!=null?K2(W2(n)):null}function x2(n,e){return n===null?[e]:Array.isArray(n)?[...n,e]:[n,e]}function Q2(n){return n._rawValidators}function Z2(n){return n._rawAsyncValidators}function xM(n){return n?Array.isArray(n)?n:[n]:[]}function Wm(n,e){return Array.isArray(n)?n.includes(e):n===e}function S2(n,e){let t=xM(e);return xM(n).forEach(r=>{Wm(t,r)||t.push(r)}),t}function D2(n,e){return xM(e).filter(t=>!Wm(n,t))}var Gm=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=q2(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Y2(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return this.control?this.control.hasError(e,t):!1}getError(e,t){return this.control?this.control.getError(e,t):null}},pl=class extends Gm{name;get formDirective(){return null}get path(){return null}},Hd=class extends Gm{_parent=null;name=null;valueAccessor=null},qm=class{_cd;constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},Xq={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},wye=ie(F({},Xq),{"[class.ng-submitted]":"isSubmitted"}),Mr=(()=>{class n extends qm{constructor(t){super(t)}static \u0275fac=function(i){return new(i||n)(B(Hd,2))};static \u0275dir=mt({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,r){i&2&&Y("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},standalone:!1,features:[zn]})}return n})(),Ir=(()=>{class n extends qm{constructor(t){super(t)}static \u0275fac=function(i){return new(i||n)(B(pl,10))};static \u0275dir=mt({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,r){i&2&&Y("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},standalone:!1,features:[zn]})}return n})();var Vd="VALID",$m="INVALID",dl="PENDING",Ud="DISABLED",ss=class{},Km=class extends ss{value;source;constructor(e,t){super(),this.value=e,this.source=t}},zd=class extends ss{pristine;source;constructor(e,t){super(),this.pristine=e,this.source=t}},$d=class extends ss{touched;source;constructor(e,t){super(),this.touched=e,this.source=t}},fl=class extends ss{status;source;constructor(e,t){super(),this.status=e,this.source=t}},SM=class extends ss{source;constructor(e){super(),this.source=e}},Wd=class extends ss{source;constructor(e){super(),this.source=e}};function NM(n){return(Xm(n)?n.validators:n)||null}function Jq(n){return Array.isArray(n)?q2(n):n||null}function LM(n,e){return(Xm(e)?e.asyncValidators:n)||null}function eK(n){return Array.isArray(n)?Y2(n):n||null}function Xm(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function X2(n,e,t){let i=n.controls;if(!(e?Object.keys(i):i).length)throw new j(1e3,"");if(!i[t])throw new j(1001,"")}function J2(n,e,t){n._forEachChild((i,r)=>{if(t[r]===void 0)throw new j(1002,"")})}var hl=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(e,t){this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return en(this.statusReactive)}set status(e){en(()=>this.statusReactive.set(e))}_status=lc(()=>this.statusReactive());statusReactive=xn(void 0);get valid(){return this.status===Vd}get invalid(){return this.status===$m}get pending(){return this.status==dl}get disabled(){return this.status===Ud}get enabled(){return this.status!==Ud}errors;get pristine(){return en(this.pristineReactive)}set pristine(e){en(()=>this.pristineReactive.set(e))}_pristine=lc(()=>this.pristineReactive());pristineReactive=xn(!0);get dirty(){return!this.pristine}get touched(){return en(this.touchedReactive)}set touched(e){en(()=>this.touchedReactive.set(e))}_touched=lc(()=>this.touchedReactive());touchedReactive=xn(!1);get untouched(){return!this.touched}_events=new de;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(S2(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(S2(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(D2(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(D2(e,this._rawAsyncValidators))}hasValidator(e){return Wm(this._rawValidators,e)}hasAsyncValidator(e){return Wm(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let t=this.touched===!1;this.touched=!0;let i=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(ie(F({},e),{sourceControl:i})),t&&e.emitEvent!==!1&&this._events.next(new $d(!0,i))}markAllAsDirty(e={}){this.markAsDirty({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsDirty(e))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(e))}markAsUntouched(e={}){let t=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let i=e.sourceControl??this;this._forEachChild(r=>{r.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:i})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,i),t&&e.emitEvent!==!1&&this._events.next(new $d(!1,i))}markAsDirty(e={}){let t=this.pristine===!0;this.pristine=!1;let i=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(ie(F({},e),{sourceControl:i})),t&&e.emitEvent!==!1&&this._events.next(new zd(!1,i))}markAsPristine(e={}){let t=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let i=e.sourceControl??this;this._forEachChild(r=>{r.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,i),t&&e.emitEvent!==!1&&this._events.next(new zd(!0,i))}markAsPending(e={}){this.status=dl;let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new fl(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(ie(F({},e),{sourceControl:t}))}disable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=Ud,this.errors=null,this._forEachChild(r=>{r.disable(ie(F({},e),{onlySelf:!0}))}),this._updateValue();let i=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Km(this.value,i)),this._events.next(new fl(this.status,i)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(ie(F({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=Vd,this._forEachChild(i=>{i.enable(ie(F({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(ie(F({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(e,t){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let i=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Vd||this.status===dl)&&this._runAsyncValidator(i,e.emitEvent)}let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Km(this.value,t)),this._events.next(new fl(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(ie(F({},e),{sourceControl:t}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Ud:Vd}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,t){if(this.asyncValidator){this.status=dl,this._hasOwnPendingAsyncValidator={emitEvent:t!==!1,shouldHaveEmitted:e!==!1};let i=z2(this.asyncValidator(this));this._asyncValidationSubscription=i.subscribe(r=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(r,{emitEvent:t,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=(this._hasOwnPendingAsyncValidator?.emitEvent||this._hasOwnPendingAsyncValidator?.shouldHaveEmitted)??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(t.emitEvent!==!1,this,t.shouldHaveEmitted)}get(e){let t=e;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((i,r)=>i&&i._find(r),this)}getError(e,t){let i=t?this.get(t):this;return i&&i.errors?i.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,t,i){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||i)&&this._events.next(new fl(this.status,t)),this._parent&&this._parent._updateControlsErrors(e,t,i)}_initObservables(){this.valueChanges=new nt,this.statusChanges=new nt}_calculateStatus(){return this._allControlsDisabled()?Ud:this.errors?$m:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(dl)?dl:this._anyControlsHaveStatus($m)?$m:Vd}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,t){let i=!this._anyControlsDirty(),r=this.pristine!==i;this.pristine=i,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,t),r&&this._events.next(new zd(this.pristine,t))}_updateTouched(e={},t){this.touched=this._anyControlsTouched(),this._events.next(new $d(this.touched,t)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,t)}_onDisabledChange=[];_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Xm(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let t=this._parent&&this._parent.dirty;return!e&&!!t&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=Jq(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=eK(this._rawAsyncValidators)}},Ym=class extends hl{constructor(e,t,i){super(NM(t),LM(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,i={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){J2(this,!0,e),Object.keys(e).forEach(i=>{X2(this,!0,i),this.controls[i].setValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(Object.keys(e).forEach(i=>{let r=this.controls[i];r&&r.patchValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((i,r)=>{i.reset(e?e[r]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t),t?.emitEvent!==!1&&this._events.next(new Wd(this))}getRawValue(){return this._reduceChildren({},(e,t,i)=>(e[i]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,i)=>i._syncPendingControls()?!0:t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{let i=this.controls[t];i&&e(i,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[t,i]of Object.entries(this.controls))if(this.contains(t)&&e(i))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(t,i,r)=>((i.enabled||this.disabled)&&(t[r]=i.value),t))}_reduceChildren(e,t){let i=e;return this._forEachChild((r,o)=>{i=t(i,r,o)}),i}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var DM=class extends Ym{};var eN=new G("",{providedIn:"root",factory:()=>FM}),FM="always";function tK(n,e){return[...e.path,n]}function T2(n,e,t=FM){BM(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||t==="always")&&e.valueAccessor.setDisabledState?.(n.disabled),iK(n,e),oK(n,e),rK(n,e),nK(n,e)}function A2(n,e,t=!0){let i=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(i),e.valueAccessor.registerOnTouched(i)),Zm(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function Qm(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function nK(n,e){if(e.valueAccessor.setDisabledState){let t=i=>{e.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}function BM(n,e){let t=Q2(n);e.validator!==null?n.setValidators(x2(t,e.validator)):typeof t=="function"&&n.setValidators([t]);let i=Z2(n);e.asyncValidator!==null?n.setAsyncValidators(x2(i,e.asyncValidator)):typeof i=="function"&&n.setAsyncValidators([i]);let r=()=>n.updateValueAndValidity();Qm(e._rawValidators,r),Qm(e._rawAsyncValidators,r)}function Zm(n,e){let t=!1;if(n!==null){if(e.validator!==null){let r=Q2(n);if(Array.isArray(r)&&r.length>0){let o=r.filter(s=>s!==e.validator);o.length!==r.length&&(t=!0,n.setValidators(o))}}if(e.asyncValidator!==null){let r=Z2(n);if(Array.isArray(r)&&r.length>0){let o=r.filter(s=>s!==e.asyncValidator);o.length!==r.length&&(t=!0,n.setAsyncValidators(o))}}}let i=()=>{};return Qm(e._rawValidators,i),Qm(e._rawAsyncValidators,i),t}function iK(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&tN(n,e)})}function rK(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&tN(n,e),n.updateOn!=="submit"&&n.markAsTouched()})}function tN(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function oK(n,e){let t=(i,r)=>{e.valueAccessor.writeValue(i),r&&e.viewToModelUpdate(i)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}function sK(n,e){n==null,BM(n,e)}function aK(n,e){return Zm(n,e)}function cK(n,e){if(!n.hasOwnProperty("model"))return!1;let t=n.model;return t.isFirstChange()?!0:!Object.is(e,t.currentValue)}function lK(n){return Object.getPrototypeOf(n.constructor)===Gd}function uK(n,e){n._syncPendingControls(),e.forEach(t=>{let i=t.control;i.updateOn==="submit"&&i._pendingChange&&(t.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function dK(n,e){if(!e)return null;Array.isArray(e);let t,i,r;return e.forEach(o=>{o.constructor===pi?t=o:lK(o)?i=o:r=o}),r||i||t||null}function fK(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function k2(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function R2(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var Hm=class extends hl{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(e=null,t,i){super(NM(t),LM(i,t)),this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Xm(t)&&(t.nonNullable||t.initialValueIsDefault)&&(R2(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(i=>i(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1,t?.emitEvent!==!1&&this._events.next(new Wd(this))}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){k2(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){k2(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){R2(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var pK=n=>n instanceof Hm;var Pr=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275dir=mt({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return n})(),hK={provide:gl,useExisting:Zn(()=>jM),multi:!0},jM=(()=>{class n extends Gd{writeValue(t){let i=t??"";this.setProperty("value",i)}registerOnChange(t){this.onChange=i=>{t(i==""?null:parseFloat(i))}}static \u0275fac=(()=>{let t;return function(r){return(t||(t=Sn(n)))(r||n)}})();static \u0275dir=mt({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(i,r){i&1&&H("input",function(s){return r.onChange(s.target.value)})("blur",function(){return r.onTouched()})},standalone:!1,features:[Hr([hK]),zn]})}return n})();var nN=new G("");var gK={provide:pl,useExisting:Zn(()=>zi)},zi=(()=>{class n extends pl{callSetDisabledState;get submitted(){return en(this._submittedReactive)}set submitted(t){this._submittedReactive.set(t)}_submitted=lc(()=>this._submittedReactive());_submittedReactive=xn(!1);_oldForm;_onCollectionChange=()=>this._updateDomValue();directives=[];form=null;ngSubmit=new nt;constructor(t,i,r){super(),this.callSetDisabledState=r,this._setValidators(t),this._setAsyncValidators(i)}ngOnChanges(t){t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Zm(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){let i=this.form.get(t.path);return T2(i,t,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),i}getControl(t){return this.form.get(t.path)}removeControl(t){A2(t.control||null,t,!1),fK(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,i){this.form.get(t.path).setValue(i)}onSubmit(t){return this._submittedReactive.set(!0),uK(this.form,this.directives),this.ngSubmit.emit(t),this.form._events.next(new SM(this.control)),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0,i={}){this.form.reset(t,i),this._submittedReactive.set(!1)}_updateDomValue(){this.directives.forEach(t=>{let i=t.control,r=this.form.get(t.path);i!==r&&(A2(i||null,t),pK(r)&&(T2(r,t,this.callSetDisabledState),t.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){let i=this.form.get(t.path);sK(i,t),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){let i=this.form.get(t.path);i&&aK(i,t)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){BM(this.form,this),this._oldForm&&Zm(this._oldForm,this)}static \u0275fac=function(i){return new(i||n)(B(B2,10),B(j2,10),B(eN,8))};static \u0275dir=mt({type:n,selectors:[["","formGroup",""]],hostBindings:function(i,r){i&1&&H("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[Hr([gK]),zn,ir]})}return n})();var mK={provide:Hd,useExisting:Zn(()=>$i)},$i=(()=>{class n extends Hd{_ngModelWarningConfig;_added=!1;viewModel;control;name=null;set isDisabled(t){}model;update=new nt;static _ngModelWarningSentOnce=!1;_ngModelWarningSent=!1;constructor(t,i,r,o,s){super(),this._ngModelWarningConfig=s,this._parent=t,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=dK(this,o)}ngOnChanges(t){this._added||this._setUpControl(),cK(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return tK(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_setUpControl(){this.control=this.formDirective.addControl(this),this._added=!0}static \u0275fac=function(i){return new(i||n)(B(pl,13),B(B2,10),B(j2,10),B(gl,10),B(nN,8))};static \u0275dir=mt({type:n,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},standalone:!1,features:[Hr([mK]),zn,ir]})}return n})();var _K={provide:gl,useExisting:Zn(()=>ml),multi:!0};function iN(n,e){return n==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${n}: ${e}`.slice(0,50))}function vK(n){return n.split(":")[0]}var ml=(()=>{class n extends Gd{value;_optionMap=new Map;_idCounter=0;set compareWith(t){this._compareWith=t}_compareWith=Object.is;appRefInjector=N($r).injector;destroyRef=N(ni);cdr=N(rr);_queuedWrite=!1;_writeValueAfterRender(){this._queuedWrite||this.appRefInjector.destroyed||(this._queuedWrite=!0,iu({write:()=>{this.destroyRef.destroyed||(this._queuedWrite=!1,this.writeValue(this.value))}},{injector:this.appRefInjector}))}writeValue(t){this.cdr.markForCheck(),this.value=t;let i=this._getOptionId(t),r=iN(i,t);this.setProperty("value",r)}registerOnChange(t){this.onChange=i=>{this.value=this._getOptionValue(i),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(let i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i),t))return i;return null}_getOptionValue(t){let i=vK(t);return this._optionMap.has(i)?this._optionMap.get(i):t}static \u0275fac=(()=>{let t;return function(r){return(t||(t=Sn(n)))(r||n)}})();static \u0275dir=mt({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(i,r){i&1&&H("change",function(s){return r.onChange(s.target.value)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[Hr([_K]),zn]})}return n})(),Jm=(()=>{class n{_element;_renderer;_select;id;constructor(t,i,r){this._element=t,this._renderer=i,this._select=r,this._select&&(this.id=this._select._registerOption())}set ngValue(t){this._select!=null&&(this._select._optionMap.set(this.id,t),this._setElementValue(iN(this.id,t)),this._select._writeValueAfterRender())}set value(t){this._setElementValue(t),this._select&&this._select._writeValueAfterRender()}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select._writeValueAfterRender())}static \u0275fac=function(i){return new(i||n)(B(Jt),B(ii),B(ml,9))};static \u0275dir=mt({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return n})(),yK={provide:gl,useExisting:Zn(()=>rN),multi:!0};function N2(n,e){return n==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${n}: ${e}`.slice(0,50))}function bK(n){return n.split(":")[0]}var rN=(()=>{class n extends Gd{value;_optionMap=new Map;_idCounter=0;set compareWith(t){this._compareWith=t}_compareWith=Object.is;writeValue(t){this.value=t;let i;if(Array.isArray(t)){let r=t.map(o=>this._getOptionId(o));i=(o,s)=>{o._setSelected(r.indexOf(s.toString())>-1)}}else i=(r,o)=>{r._setSelected(!1)};this._optionMap.forEach(i)}registerOnChange(t){this.onChange=i=>{let r=[],o=i.selectedOptions;if(o!==void 0){let s=o;for(let a=0;a<s.length;a++){let c=s[a],l=this._getOptionValue(c.value);r.push(l)}}else{let s=i.options;for(let a=0;a<s.length;a++){let c=s[a];if(c.selected){let l=this._getOptionValue(c.value);r.push(l)}}}this.value=r,t(r)}}_registerOption(t){let i=(this._idCounter++).toString();return this._optionMap.set(i,t),i}_getOptionId(t){for(let i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i)._value,t))return i;return null}_getOptionValue(t){let i=bK(t);return this._optionMap.has(i)?this._optionMap.get(i)._value:t}static \u0275fac=(()=>{let t;return function(r){return(t||(t=Sn(n)))(r||n)}})();static \u0275dir=mt({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(i,r){i&1&&H("change",function(s){return r.onChange(s.target)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[Hr([yK]),zn]})}return n})(),e_=(()=>{class n{_element;_renderer;_select;id;_value;constructor(t,i,r){this._element=t,this._renderer=i,this._select=r,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){this._select!=null&&(this._value=t,this._setElementValue(N2(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(N2(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(i){return new(i||n)(B(Jt),B(ii),B(rN,9))};static \u0275dir=mt({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return n})();var CK=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=_n({type:n});static \u0275inj=un({})}return n})(),TM=class extends hl{constructor(e,t,i){super(NM(t),LM(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){Array.isArray(e)?e.forEach(i=>{this.controls.push(i),this._registerControl(i)}):(this.controls.push(e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,i={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(e,t={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,i={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),t&&(this.controls.splice(r,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){J2(this,!1,e),e.forEach((i,r)=>{X2(this,!1,r),this.at(r).setValue(i,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(e.forEach((i,r)=>{this.at(r)&&this.at(r).patchValue(i,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((i,r)=>{i.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t),t?.emitEvent!==!1&&this._events.next(new Wd(this))}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,i)=>i._syncPendingControls()?!0:t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,i)=>{e(t,i)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(let e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}};function L2(n){return!!n&&(n.asyncValidators!==void 0||n.validators!==void 0||n.updateOn!==void 0)}var Or=(()=>{class n{useNonNullable=!1;get nonNullable(){let t=new n;return t.useNonNullable=!0,t}group(t,i=null){let r=this._reduceControls(t),o={};return L2(i)?o=i:i!==null&&(o.validators=i.validator,o.asyncValidators=i.asyncValidator),new Ym(r,o)}record(t,i=null){let r=this._reduceControls(t);return new DM(r,i)}control(t,i,r){let o={};return this.useNonNullable?(L2(i)?o=i:(o.validators=i,o.asyncValidators=r),new Hm(t,ie(F({},o),{nonNullable:!0}))):new Hm(t,i,r)}array(t,i,r){let o=t.map(s=>this._createControl(s));return new TM(o,i,r)}_reduceControls(t){let i={};return Object.keys(t).forEach(r=>{i[r]=this._createControl(t[r])}),i}_createControl(t){if(t instanceof Hm)return t;if(t instanceof hl)return t;if(Array.isArray(t)){let i=t[0],r=t.length>1?t[1]:null,o=t.length>2?t[2]:null;return this.control(i,r,o)}else return this.control(t)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var xr=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:nN,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:eN,useValue:t.callSetDisabledState??FM}]}}static \u0275fac=function(i){return new(i||n)};static \u0275mod=_n({type:n});static \u0275inj=un({imports:[CK]})}return n})();var Nt=class n{constructor(e,t){this.auth=e;this.injector=t}ADMIN_EMAIL="admin@ankh.com";register(e,t){return this.isAdminEmail(e)?new ee(i=>{i.error({code:"auth/admin-email-not-allowed",message:"Admin email cannot be used for registration."})}):this.executeInInjectionContext(()=>se(uk(this.auth,e,t)))}login(e,t){return this.executeInInjectionContext(()=>se(fk(this.auth,e,t)))}loginByGmail(){return this.executeInInjectionContext(()=>{let e=new Mw;return se(pk(this.auth,e)).pipe(K(t=>{console.log("result",t);let i=t.user;if(i.email&&this.isAdminEmail(i.email))throw this.executeInInjectionContext(()=>se(Nw(this.auth))).subscribe(),{code:"auth/admin-email-not-allowed",message:"Admin email cannot be used for Google authentication."};return t}),Ze(t=>{throw t}))})}registerByGmail(){return this.loginByGmail()}logout(){return this.executeInInjectionContext(()=>se(Nw(this.auth)))}getCurrentUserId(){return this.auth.currentUser?.uid||null}isAdminEmail(e){return e?.toLowerCase()===this.ADMIN_EMAIL}executeInInjectionContext(e){return Fe(()=>ae(this.injector,e))}static \u0275fac=function(t){return new(t||n)(q(yn),q(Be))};static \u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})};var Lt=class n{constructor(e,t){this.database=e;this.injector=t}createOrganizationRequest(e,t){let i=ie(F({},e),{uid:t,status:"pending",createdAt:new Date().toISOString()});return Fe(()=>ae(this.injector,()=>{let r=pt(this.database,`organizations/${t}`);return se(jm(r,i))}))}getOrganizationStatus(e){return Fe(()=>ae(this.injector,()=>{let t=pt(this.database,`organizations/${e}/status`);return new ee(i=>{Ui(t,r=>{i.next(r.exists()?r.val():null)},r=>{i.error(r)})})}))}getOrganization(e){return Fe(()=>ae(this.injector,()=>{let t=pt(this.database,`organizations/${e}`);return new ee(i=>{Ui(t,r=>{i.next(r.exists()?r.val():null)},r=>{i.error(r)})})}))}getAllOrganizations(){return Fe(()=>ae(this.injector,()=>{let e=pt(this.database,"organizations");return new ee(t=>{Ui(e,i=>{if(!i.exists()){t.next([]);return}let r=i.val(),o=Object.keys(r).map(s=>r[s]);t.next(o)},i=>{t.error(i)})})}))}getOrganizationsByStatus(e){return Fe(()=>ae(this.injector,()=>{let t=pt(this.database,"organizations");return new ee(i=>{Ui(t,r=>{if(!r.exists()){i.next([]);return}let o=r.val(),s=Object.keys(o).map(a=>o[a]).filter(a=>a.status===e);i.next(s)},r=>{i.error(r)})})}))}approveOrganization(e){return Fe(()=>ae(this.injector,()=>{let t=pt(this.database,`organizations/${e}/status`);return se(jm(t,"approved"))}))}rejectOrganization(e){return Fe(()=>ae(this.injector,()=>{let t=pt(this.database,`organizations/${e}/status`);return se(jm(t,"rejected"))}))}updateOrganization(e,t){let i=pt(this.database,`organizations/${e}`);return Fe(()=>ae(this.injector,()=>se(ll(i,t))))}deleteOrganization(e){return Fe(()=>ae(this.injector,()=>{let t=pt(this.database,`organizations/${e}`);return se(ba(t))}))}static \u0275fac=function(t){return new(t||n)(q(Vi),q(Be))};static \u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})};function wK(n,e){n&1&&(v(0),b(1,"translate")),n&2&&P(" ",C(1,1,"auth.login.emailRequired")," ")}function EK(n,e){n&1&&(v(0),b(1,"translate")),n&2&&P(" ",C(1,1,"auth.login.emailInvalid")," ")}function MK(n,e){if(n&1&&(m(0,"span",14),A(1,wK,2,3)(2,EK,2,3),_()),n&2){let t=R();p(),k(!(t.email==null||t.email.errors==null)&&t.email.errors.required?1:!(t.email==null||t.email.errors==null)&&t.email.errors.email?2:-1)}}function IK(n,e){n&1&&(v(0),b(1,"translate")),n&2&&P(" ",C(1,1,"auth.login.passwordRequired")," ")}function PK(n,e){n&1&&(v(0),b(1,"translate")),n&2&&P(" ",C(1,1,"auth.login.passwordMinLength")," ")}function OK(n,e){if(n&1&&(m(0,"span",14),A(1,IK,2,3)(2,PK,2,3),_()),n&2){let t=R();p(),k(!(t.password==null||t.password.errors==null)&&t.password.errors.required?1:!(t.password==null||t.password.errors==null)&&t.password.errors.minlength?2:-1)}}function xK(n,e){if(n&1&&(m(0,"div",9)(1,"div",30),M(2,"i",31),v(3),b(4,"translate"),_()()),n&2){let t=R();p(3),P(" ",C(4,1,t.errorMessage)," ")}}function SK(n,e){n&1&&(M(0,"i",32),v(1),b(2,"translate")),n&2&&(p(),P(" ",C(2,1,"auth.login.loading")," "))}function DK(n,e){n&1&&(M(0,"i",33),v(1),b(2,"translate")),n&2&&(p(),P(" ",C(2,1,"auth.login.submit")," "))}function TK(n,e){n&1&&(M(0,"i",32),v(1),b(2,"translate")),n&2&&(p(),P(" ",C(2,1,"auth.login.googleLoading")," "))}function AK(n,e){n&1&&(M(0,"i",34),v(1),b(2,"translate")),n&2&&(p(),P(" ",C(2,1,"auth.login.loginWithGoogle")," "))}var t_=class n{constructor(e,t,i,r){this.fb=e;this.authService=t;this.organizationService=i;this.router=r}loginForm;isLoading=!1;isGoogleLoading=!1;errorMessage="";showPassword=!1;REMEMBER_ME_KEY="ankh_remember_me";REMEMBERED_EMAIL_KEY="ankh_remembered_email";togglePasswordVisibility(){this.showPassword=!this.showPassword}ngOnInit(){let e=localStorage.getItem(this.REMEMBERED_EMAIL_KEY),t=localStorage.getItem(this.REMEMBER_ME_KEY)==="true";this.loginForm=this.fb.group({email:[e||"",[De.required,De.email]],password:["",[De.required,De.minLength(6)]],rememberMe:[t]})}onSubmit(){if(this.loginForm.invalid){this.markFormGroupTouched(this.loginForm);return}this.isLoading=!0,this.errorMessage="";let{email:e,password:t,rememberMe:i}=this.loginForm.value;i?(localStorage.setItem(this.REMEMBER_ME_KEY,"true"),localStorage.setItem(this.REMEMBERED_EMAIL_KEY,e)):(localStorage.removeItem(this.REMEMBER_ME_KEY),localStorage.removeItem(this.REMEMBERED_EMAIL_KEY)),this.authService.login(e,t).pipe(Me(r=>{if(!r?.user)return U(null);let o=r.user;return U({user:o})}),Ze(r=>(this.isLoading=!1,this.handleLoginError(r),U(null)))).subscribe({next:r=>{r?.user?(this.isLoading=!1,this.redirectBasedOnRole(r.user.email)):r===null&&(this.isLoading=!1)}})}redirectBasedOnRole(e){if(e==="admin@ankh.com"){this.router.navigate(["/admin"]);return}this.router.navigate(["/profile-view"])}handleLoginError(e){switch(e.code){case"auth/user-not-found":this.errorMessage="auth.login.userNotFound";break;case"auth/wrong-password":this.errorMessage="auth.login.wrongPassword";break;case"auth/invalid-email":this.errorMessage="auth.login.invalidEmail";break;case"auth/invalid-credential":this.errorMessage="auth.login.wrongPassword";break;default:this.errorMessage="auth.login.error"}console.error("Login error:",e)}markFormGroupTouched(e){Object.keys(e.controls).forEach(t=>{e.get(t)?.markAsTouched()})}get email(){return this.loginForm.get("email")}get password(){return this.loginForm.get("password")}get rememberMe(){return this.loginForm.get("rememberMe")}loginByGmail(){this.isGoogleLoading=!0,this.errorMessage="",this.authService.loginByGmail().pipe(Me(e=>{let t=e.user;if(!t)throw new Error("Login failed");return this.organizationService.getOrganization(t.uid).pipe(Me(i=>i?U({user:t,orgExists:!0}):this.organizationService.createOrganizationRequest({name:t.displayName||"",phone:t.phoneNumber||"",email:t.email||"",idImage:t.photoURL||""},t.uid).pipe(Me(()=>U({user:t,orgExists:!1})))))}),Ze(e=>(this.isGoogleLoading=!1,e.code==="auth/admin-email-not-allowed"?this.errorMessage="auth.login.adminEmailNotAllowed":e.code==="auth/popup-closed-by-user"?this.errorMessage="":this.errorMessage="auth.login.googleError",console.error("Google login error:",e),U(null)))).subscribe({next:e=>{e&&(this.isGoogleLoading=!1,this.redirectBasedOnRole(e.user.email||""))}})}static \u0275fac=function(t){return new(t||n)(B(Or),B(Nt),B(Lt),B(ze))};static \u0275cmp=me({type:n,selectors:[["app-login"]],decls:62,vars:48,consts:[[1,"login-container"],[1,"container"],[1,"login-header"],[1,"login-title"],[1,"login-subtitle"],[1,"row","justify-content-center"],[1,"col-12","col-md-8","col-lg-6","col-xl-5"],[1,"login-form",3,"ngSubmit","formGroup"],[1,"row","g-3"],[1,"col-12"],[1,"form-group"],["for","email",1,"form-label"],[1,"fas","fa-envelope"],["type","email","id","email","formControlName","email",1,"form-control",3,"placeholder"],[1,"error-message"],["for","password",1,"form-label"],[1,"fas","fa-lock"],[1,"password-input-wrapper"],["id","password","formControlName","password",1,"form-control",3,"type","placeholder"],["type","button",1,"password-toggle",3,"click"],[1,"remember-me-wrapper"],[1,"remember-me-label"],["type","checkbox","formControlName","rememberMe",1,"remember-me-checkbox"],[1,"remember-me-text"],["type","submit",1,"btn","btn-primary","btn-submit","w-100",3,"disabled"],[1,"row","g-3","mt-3"],[1,"divider"],["type","button",1,"btn","btn-google","w-100",3,"click","disabled"],[1,"login-footer"],["routerLink","/register",1,"link-register"],[1,"alert","alert-error"],[1,"fas","fa-exclamation-circle"],[1,"fas","fa-spinner","fa-spin"],[1,"fas","fa-sign-in-alt"],[1,"fab","fa-google"]],template:function(t,i){t&1&&(m(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3),v(4),b(5,"translate"),_(),m(6,"p",4),v(7),b(8,"translate"),_()(),m(9,"div",5)(10,"div",6)(11,"form",7),H("ngSubmit",function(){return i.onSubmit()}),m(12,"div",8)(13,"div",9)(14,"div",10)(15,"label",11),M(16,"i",12),v(17),b(18,"translate"),_(),M(19,"input",13),b(20,"translate"),A(21,MK,3,1,"span",14),_()(),m(22,"div",9)(23,"div",10)(24,"label",15),M(25,"i",16),v(26),b(27,"translate"),_(),m(28,"div",17),M(29,"input",18),b(30,"translate"),m(31,"button",19),H("click",function(){return i.togglePasswordVisibility()}),M(32,"i"),_()(),A(33,OK,3,1,"span",14),_()(),m(34,"div",9)(35,"div",20)(36,"label",21),M(37,"input",22),m(38,"span",23),v(39),b(40,"translate"),_()()()(),A(41,xK,5,3,"div",9),m(42,"div",9)(43,"button",24),A(44,SK,3,3)(45,DK,3,3),_()()()(),m(46,"div",25)(47,"div",9)(48,"div",26)(49,"span"),v(50),b(51,"translate"),_()(),m(52,"button",27),H("click",function(){return i.loginByGmail()}),A(53,TK,3,3)(54,AK,3,3),_()()(),m(55,"div",28)(56,"p"),v(57),b(58,"translate"),m(59,"a",29),v(60),b(61,"translate"),_()()()()()()()),t&2&&(p(4),O(C(5,28,"auth.login.title")),p(3),O(C(8,30,"auth.login.subtitle")),p(4),V("formGroup",i.loginForm),p(6),P(" ",C(18,32,"auth.login.email")," "),p(2),Y("invalid",(i.email==null?null:i.email.invalid)&&(i.email==null?null:i.email.touched)),V("placeholder",Tn(C(20,34,"auth.login.emailPlaceholder"))),p(2),k(i.email!=null&&i.email.invalid&&(i.email!=null&&i.email.touched)?21:-1),p(5),P(" ",C(27,36,"auth.login.password")," "),p(3),Y("invalid",(i.password==null?null:i.password.invalid)&&(i.password==null?null:i.password.touched)),V("placeholder",Tn(C(30,38,"auth.login.passwordPlaceholder")))("type",i.showPassword?"text":"password"),p(2),Gt("aria-label",i.showPassword?"Hide password":"Show password"),p(),To(i.showPassword?"fa-solid fa-eye-slash":"fa-solid fa-eye"),p(),k(i.password!=null&&i.password.invalid&&(i.password!=null&&i.password.touched)?33:-1),p(6),P(" ",C(40,40,"auth.login.rememberMe")," "),p(2),k(i.errorMessage?41:-1),p(2),V("disabled",i.isLoading||i.isGoogleLoading||i.loginForm.invalid),p(),k(i.isLoading?44:45),p(6),O(C(51,42,"auth.login.or")),p(2),V("disabled",i.isLoading||i.isGoogleLoading),p(),k(i.isGoogleLoading?53:54),p(4),P(" ",C(58,44,"auth.login.noAccount")," "),p(3),P(" ",C(61,46,"auth.login.register")," "))},dependencies:[Ie,xr,Pr,pi,AM,Mr,Ir,zi,$i,$e,Ye,Pe,Ne],styles:['.login-container[_ngcontent-%COMP%]{min-height:100vh;padding:64px 0;background:linear-gradient(135deg,#f3f1ec,#f6f7f9)}.login-container[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{padding:32px 16px}.login-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:64px;padding-top:32px}.login-header[_ngcontent-%COMP%]   .login-title[_ngcontent-%COMP%]{font-size:2.5rem;font-weight:700;color:#0e3a5d;margin-bottom:8px;font-family:Cairo,sans-serif}.login-header[_ngcontent-%COMP%]   .login-subtitle[_ngcontent-%COMP%]{font-size:1rem;color:#0f172ab3;margin:0}.login-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:32px}.login-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-label[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;font-weight:500;color:#0f172a;margin-bottom:8px;font-size:.9rem}.login-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-label[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#0e3a5d;font-size:.85rem}.login-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .password-input-wrapper[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center}.login-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{width:100%;padding:16px 45px 16px 16px;border:2px solid rgba(14,58,93,.2);border-radius:8px;font-size:1rem;font-family:Cairo,sans-serif;transition:all .3s ease;background:#fff;color:#0f172a}.login-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:focus{outline:none;border-color:#c9a24d;box-shadow:0 0 0 3px #c9a24d1a}.login-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-control.invalid[_ngcontent-%COMP%]{border-color:#dc2626}.login-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]::placeholder{color:#0f172a66}.login-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .password-toggle[_ngcontent-%COMP%]{position:absolute;right:16px;background:transparent;border:none;color:#0f172a80;cursor:pointer;padding:4px;display:flex;align-items:center;justify-content:center;transition:all .3s ease;z-index:1}.login-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .password-toggle[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1rem}.login-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .password-toggle[_ngcontent-%COMP%]:hover{color:#c9a24d}.login-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .password-toggle[_ngcontent-%COMP%]:focus{outline:2px solid #C9A24D;outline-offset:2px;border-radius:4px}.login-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]{display:block;color:#dc2626;font-size:.85rem;margin-top:4px;font-weight:500}.login-form[_ngcontent-%COMP%]   .remember-me-wrapper[_ngcontent-%COMP%]{margin-bottom:16px}.login-form[_ngcontent-%COMP%]   .remember-me-wrapper[_ngcontent-%COMP%]   .remember-me-label[_ngcontent-%COMP%]{display:flex;align-items:center;cursor:pointer;-webkit-user-select:none;user-select:none;font-family:Cairo,sans-serif;gap:8px}.login-form[_ngcontent-%COMP%]   .remember-me-wrapper[_ngcontent-%COMP%]   .remember-me-label[_ngcontent-%COMP%]   .remember-me-checkbox[_ngcontent-%COMP%]{width:18px;height:18px;cursor:pointer;accent-color:#C9A24D;margin:0;flex-shrink:0}.login-form[_ngcontent-%COMP%]   .remember-me-wrapper[_ngcontent-%COMP%]   .remember-me-label[_ngcontent-%COMP%]   .remember-me-text[_ngcontent-%COMP%]{display:flex;align-items:center;gap:4px;color:#0f172acc;font-size:.9rem;font-weight:500;transition:color .2s ease}.login-form[_ngcontent-%COMP%]   .remember-me-wrapper[_ngcontent-%COMP%]   .remember-me-label[_ngcontent-%COMP%]   .remember-me-text[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.85rem;color:#c9a24d;opacity:0;transition:opacity .2s ease}.login-form[_ngcontent-%COMP%]   .remember-me-wrapper[_ngcontent-%COMP%]   .remember-me-label[_ngcontent-%COMP%]:hover   .remember-me-text[_ngcontent-%COMP%]{color:#0f172a}.login-form[_ngcontent-%COMP%]   .remember-me-wrapper[_ngcontent-%COMP%]   .remember-me-label[_ngcontent-%COMP%]   .remember-me-checkbox[_ngcontent-%COMP%]:checked + .remember-me-text[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{opacity:1}.login-form[_ngcontent-%COMP%]   .alert[_ngcontent-%COMP%]{padding:16px;border-radius:8px;margin-bottom:32px;display:flex;align-items:center;gap:8px;font-size:.9rem}.login-form[_ngcontent-%COMP%]   .alert.alert-error[_ngcontent-%COMP%]{background:#dc26261a;color:#dc2626;border:1px solid rgba(220,38,38,.3)}.login-form[_ngcontent-%COMP%]   .alert[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1rem}.login-form[_ngcontent-%COMP%]   .btn-submit[_ngcontent-%COMP%]{padding:16px;font-size:1rem;font-weight:600;border-radius:8px;border:none;cursor:pointer;transition:all .3s ease;display:flex;align-items:center;justify-content:center;gap:8px;font-family:Cairo,sans-serif;background:#c9a24d;color:#fff}.login-form[_ngcontent-%COMP%]   .btn-submit[_ngcontent-%COMP%]:hover:not(:disabled){background:#a8832f;transform:translateY(-2px);box-shadow:0 4px 8px #00000026}.login-form[_ngcontent-%COMP%]   .btn-submit[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.login-footer[_ngcontent-%COMP%]{margin-top:64px;text-align:center;padding-top:32px;border-top:1px solid rgba(14,58,93,.1)}.login-footer[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#0f172ab3;font-size:.9rem;margin:0}.login-footer[_ngcontent-%COMP%]   .link-register[_ngcontent-%COMP%]{color:#c9a24d;font-weight:600;text-decoration:none;transition:all .3s ease}.login-footer[_ngcontent-%COMP%]   .link-register[_ngcontent-%COMP%]:hover{color:#a8832f;text-decoration:underline}.divider[_ngcontent-%COMP%]{display:flex;align-items:center;text-align:center;margin:32px 0;color:#0f172a80;font-size:.9rem}.divider[_ngcontent-%COMP%]:before, .divider[_ngcontent-%COMP%]:after{content:"";flex:1;border-bottom:1px solid rgba(14,58,93,.2)}.divider[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding:0 16px}.btn-google[_ngcontent-%COMP%]{background:#fff;color:#0f172a;border:2px solid rgba(14,58,93,.2);padding:16px 32px;font-weight:600;border-radius:8px;transition:all .3s ease;display:flex;align-items:center;justify-content:center;gap:8px;width:100%}.btn-google[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.2rem;color:#4285f4}.btn-google[_ngcontent-%COMP%]:hover:not(:disabled){background:#0e3a5d0d;border-color:#0e3a5d4d;transform:translateY(-2px);box-shadow:0 1px 2px #0000001a}.btn-google[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}@media (max-width: 991.98px){.login-container[_ngcontent-%COMP%]{padding:32px 0}}@media (max-width: 767.98px){.login-header[_ngcontent-%COMP%]   .login-title[_ngcontent-%COMP%]{font-size:2rem}}@media (max-width: 575.98px){.login-header[_ngcontent-%COMP%]{padding-top:16px}.login-header[_ngcontent-%COMP%]   .login-title[_ngcontent-%COMP%]{font-size:1.5rem}}']})};var oN=ms(cs());function kK(n,e){n&1&&(v(0),b(1,"translate")),n&2&&P(" ",C(1,1,"auth.register.nameRequired")," ")}function RK(n,e){n&1&&(v(0),b(1,"translate")),n&2&&P(" ",C(1,1,"auth.register.nameMinLength")," ")}function NK(n,e){if(n&1&&(m(0,"span",15),A(1,kK,2,3)(2,RK,2,3),_()),n&2){let t=R();p(),k(!(t.name==null||t.name.errors==null)&&t.name.errors.required?1:!(t.name==null||t.name.errors==null)&&t.name.errors.minlength?2:-1)}}function LK(n,e){n&1&&(v(0),b(1,"translate")),n&2&&P(" ",C(1,1,"auth.register.emailRequired")," ")}function FK(n,e){n&1&&(v(0),b(1,"translate")),n&2&&P(" ",C(1,1,"auth.register.emailInvalid")," ")}function BK(n,e){if(n&1&&(m(0,"span",15),A(1,LK,2,3)(2,FK,2,3),_()),n&2){let t=R();p(),k(!(t.email==null||t.email.errors==null)&&t.email.errors.required?1:!(t.email==null||t.email.errors==null)&&t.email.errors.email?2:-1)}}function jK(n,e){n&1&&(v(0),b(1,"translate")),n&2&&P(" ",C(1,1,"auth.register.phoneRequired")," ")}function VK(n,e){n&1&&(v(0),b(1,"translate")),n&2&&P(" ",C(1,1,"auth.register.phoneInvalid")," ")}function UK(n,e){if(n&1&&(m(0,"span",15),A(1,jK,2,3)(2,VK,2,3),_()),n&2){let t=R();p(),k(!(t.phone==null||t.phone.errors==null)&&t.phone.errors.required?1:!(t.phone==null||t.phone.errors==null)&&t.phone.errors.pattern?2:-1)}}function zK(n,e){n&1&&(v(0),b(1,"translate")),n&2&&P(" ",C(1,1,"auth.register.passwordRequired")," ")}function $K(n,e){n&1&&(v(0),b(1,"translate")),n&2&&P(" ",C(1,1,"auth.register.passwordMinLength")," ")}function HK(n,e){if(n&1&&(m(0,"span",15),A(1,zK,2,3)(2,$K,2,3),_()),n&2){let t=R();p(),k(!(t.password==null||t.password.errors==null)&&t.password.errors.required?1:!(t.password==null||t.password.errors==null)&&t.password.errors.minlength?2:-1)}}function WK(n,e){n&1&&(v(0),b(1,"translate")),n&2&&P(" ",C(1,1,"auth.register.confirmPasswordRequired")," ")}function GK(n,e){n&1&&(v(0),b(1,"translate")),n&2&&P(" ",C(1,1,"auth.register.passwordMismatch")," ")}function qK(n,e){if(n&1&&(m(0,"span",15),A(1,WK,2,3)(2,GK,2,3),_()),n&2){let t=R();p(),k(!(t.confirmPassword==null||t.confirmPassword.errors==null)&&t.confirmPassword.errors.required?1:!(t.confirmPassword==null||t.confirmPassword.errors==null)&&t.confirmPassword.errors.passwordMismatch?2:-1)}}function KK(n,e){n&1&&(M(0,"i",44),v(1),b(2,"translate")),n&2&&(p(),P(" ",C(2,1,"auth.register.compressing")," "))}function YK(n,e){n&1&&(M(0,"i",45),v(1),b(2,"translate")),n&2&&(p(),P(" ",C(2,1,"auth.register.uploadIdImage")," "))}function QK(n,e){n&1&&(m(0,"div",36)(1,"div",46)(2,"span",47),v(3),b(4,"translate"),_()(),m(5,"span",48),v(6),b(7,"translate"),_()()),n&2&&(p(3),O(C(4,2,"auth.register.compressing")),p(3),O(C(7,4,"auth.register.compressing")))}function ZK(n,e){if(n&1){let t=Re();m(0,"div",37),M(1,"img",49),m(2,"button",50),H("click",function(){X(t);let r=R();return J(r.removeImage())}),M(3,"i",51),_()()}if(n&2){let t=R();p(),V("src",t.idImagePreview,At)}}function XK(n,e){n&1&&(m(0,"span",15),v(1),b(2,"translate"),_()),n&2&&(p(),P(" ",C(2,1,"auth.register.idImageRequired")," "))}function JK(n,e){if(n&1&&(m(0,"div",10)(1,"div",11)(2,"div",52),M(3,"i",53),v(4),b(5,"translate"),_()()()),n&2){let t=R();p(4),P(" ",C(5,1,t.errorMessage)," ")}}function eY(n,e){if(n&1&&(m(0,"div",10)(1,"div",11)(2,"div",54),M(3,"i",55),v(4),b(5,"translate"),_()()()),n&2){let t=R();p(4),P(" ",C(5,1,t.successMessage)," ")}}function tY(n,e){n&1&&(M(0,"i",44),v(1),b(2,"translate")),n&2&&(p(),P(" ",C(2,1,"auth.register.loading")," "))}function nY(n,e){n&1&&(M(0,"i",56),v(1),b(2,"translate")),n&2&&(p(),P(" ",C(2,1,"auth.register.submit")," "))}function iY(n,e){n&1&&(M(0,"i",44),v(1),b(2,"translate")),n&2&&(p(),P(" ",C(2,1,"auth.register.googleLoading")," "))}function rY(n,e){n&1&&(M(0,"i",57),v(1),b(2,"translate")),n&2&&(p(),P(" ",C(2,1,"auth.register.registerWithGoogle")," "))}var n_=class n{constructor(e,t,i,r){this.fb=e;this.authService=t;this.organizationService=i;this.router=r}registerForm;isLoading=!1;isCompressingImage=!1;isGoogleLoading=!1;errorMessage="";successMessage="";idImagePreview=null;idImageBase64=null;showPassword=!1;showConfirmPassword=!1;togglePasswordVisibility(){this.showPassword=!this.showPassword}toggleConfirmPasswordVisibility(){this.showConfirmPassword=!this.showConfirmPassword}ngOnInit(){this.registerForm=this.fb.group({name:["",[De.required,De.minLength(3)]],email:["",[De.required,De.email]],phone:["",[De.required,De.pattern(/^[0-9+\-\s()]+$/)]],password:["",[De.required,De.minLength(6)]],confirmPassword:["",[De.required]],idImage:[null,[De.required]]},{validators:this.passwordMatchValidator})}passwordMatchValidator(e){let t=e.get("password"),i=e.get("confirmPassword");return t&&i&&t.value!==i.value?(i.setErrors({passwordMismatch:!0}),{passwordMismatch:!0}):null}compressAndResizeImage(e){return new Promise((t,i)=>{let r=new FileReader;r.onload=o=>{let s=new Image;s.onload=()=>{let c=s.width,l=s.height;c>600&&(l=l*600/c,c=600);let h=document.createElement("canvas");h.width=c,h.height=l;let f=h.getContext("2d");if(!f){i(new Error("Could not get canvas context"));return}f.drawImage(s,0,0,c,l);let w=h.toDataURL("image/jpeg",.45);t(w)},s.onerror=()=>{i(new Error("Failed to load image"))},s.src=o.target?.result},r.onerror=()=>{i(new Error("Failed to read file"))},r.readAsDataURL(e)})}onFileSelected(e){let i=e.target.files?.[0];if(i){if(!i.type.startsWith("image/")){this.errorMessage="auth.register.invalidImageType";return}if(i.size>5*1024*1024){this.errorMessage="auth.register.imageTooLarge";return}this.isCompressingImage=!0,this.errorMessage="",this.compressAndResizeImage(i).then(r=>{this.idImageBase64=r,this.idImagePreview=r,this.registerForm.patchValue({idImage:r}),this.isCompressingImage=!1,this.errorMessage=""}).catch(r=>{console.error("Error compressing image:",r),this.isCompressingImage=!1,this.errorMessage="auth.register.imageProcessingError"})}}removeImage(){this.idImagePreview=null,this.idImageBase64=null,this.registerForm.patchValue({idImage:null})}onSubmit(){if(this.registerForm.invalid){this.markFormGroupTouched(this.registerForm);return}let{name:e,email:t,phone:i,password:r}=this.registerForm.value;if(this.authService.isAdminEmail(t)){this.errorMessage="auth.register.adminEmailNotAllowed";return}if(!this.idImageBase64){this.errorMessage="auth.register.idImageRequired";return}this.isLoading=!0,this.errorMessage="",this.successMessage="",this.authService.register(t,r).pipe(Me(o=>{let s=o.user;if(!s)throw new Error("User creation failed");return this.organizationService.createOrganizationRequest({name:e,phone:i,email:t,idImage:this.idImageBase64},s.uid).pipe(Me(()=>U(s)))}),Ze(o=>{if(this.isLoading=!1,o.code)switch(o.code){case"auth/email-already-in-use":this.errorMessage="auth.register.emailExists";break;case"auth/invalid-email":this.errorMessage="auth.register.invalidEmail";break;case"auth/weak-password":this.errorMessage="auth.register.weakPassword";break;case"auth/admin-email-not-allowed":this.errorMessage="auth.register.adminEmailNotAllowed";break;case"PERMISSION_DENIED":this.errorMessage="auth.register.permissionDenied",console.error("Database permission denied. Check database rules.");break;default:this.errorMessage="auth.register.error"}else this.errorMessage="auth.register.createError";return console.error("Registration error:",o),U(null)})).subscribe({next:o=>{o&&(this.isLoading=!1,this.router.navigate(["/profile-view"]))}})}markFormGroupTouched(e){Object.keys(e.controls).forEach(t=>{e.get(t)?.markAsTouched()})}get name(){return this.registerForm.get("name")}get email(){return this.registerForm.get("email")}get phone(){return this.registerForm.get("phone")}get password(){return this.registerForm.get("password")}get confirmPassword(){return this.registerForm.get("confirmPassword")}get idImage(){return this.registerForm.get("idImage")}registerByGmail(){this.isGoogleLoading=!0,this.errorMessage="",this.authService.registerByGmail().pipe(Me(e=>{let t=e.user;if(!t)throw new Error("User creation failed");return this.organizationService.getOrganization(t.uid).pipe(Me(i=>i?U({user:t,orgExists:!0}):(console.log("user",t),this.organizationService.createOrganizationRequest({name:t.displayName||"",phone:t.phoneNumber||"",email:t.email||"",idImage:t.photoURL||""},t.uid).subscribe(),console.log("organization created"),U({user:t,orgExists:!1}))))}),Ze(e=>(this.isGoogleLoading=!1,e.code==="auth/admin-email-not-allowed"?this.errorMessage="auth.register.adminEmailNotAllowed":e.code==="auth/popup-closed-by-user"?this.errorMessage="":this.errorMessage="auth.register.googleError",console.error("Google registration error:",e),U(null)))).subscribe({next:e=>{e&&(this.isGoogleLoading=!1,e.orgExists?this.router.navigate(["/profile-view"]):oN.default.fire({title:"Complete Registration",text:"Please complete your organization details",icon:"info",confirmButtonText:"OK"}).then(()=>{e.user.email&&this.registerForm.patchValue({email:e.user.email,name:e.user.displayName||""})}))}})}static \u0275fac=function(t){return new(t||n)(B(Or),B(Nt),B(Lt),B(ze))};static \u0275cmp=me({type:n,selectors:[["app-register"]],decls:119,vars:99,consts:[[1,"register-container"],[1,"container"],[1,"register-header"],[1,"register-title"],[1,"register-subtitle"],[1,"register-form",3,"ngSubmit","formGroup"],[1,"form-section"],[1,"section-title"],[1,"fas","fa-building"],[1,"section-content"],[1,"row","g-3"],[1,"col-12"],[1,"form-group"],["for","name",1,"form-label"],["type","text","id","name","formControlName","name",1,"form-control",3,"placeholder"],[1,"error-message"],[1,"col-12","col-md-6"],["for","email",1,"form-label"],[1,"fas","fa-envelope"],["type","email","id","email","formControlName","email",1,"form-control",3,"placeholder"],["for","phone",1,"form-label"],[1,"fas","fa-phone"],["type","number","id","phone","formControlName","phone",1,"form-control",3,"placeholder"],[1,"fas","fa-shield-alt"],["for","password",1,"form-label"],[1,"fas","fa-lock"],[1,"password-input-wrapper"],["id","password","formControlName","password",1,"form-control",3,"type","placeholder"],["type","button",1,"password-toggle",3,"click"],["for","confirmPassword",1,"form-label"],["id","confirmPassword","formControlName","confirmPassword",1,"form-control",3,"type","placeholder"],[1,"fas","fa-id-card"],["for","idImage",1,"form-label"],[1,"file-upload-container"],["type","file","id","idImage","accept","image/*",1,"file-input",3,"change","disabled"],["for","idImage",1,"file-label"],[1,"compression-indicator"],[1,"image-preview"],["type","submit",1,"btn","btn-primary","btn-submit","w-100",3,"disabled"],[1,"row","g-3","mt-3"],[1,"divider"],["type","button",1,"btn","btn-google","w-100",3,"click","disabled"],[1,"register-footer"],["routerLink","/login",1,"link-login"],[1,"fas","fa-spinner","fa-spin"],[1,"fas","fa-upload"],["role","status",1,"spinner-border","spinner-border-sm","text-primary"],[1,"visually-hidden"],[1,"ms-2"],["alt","ID Image Preview",3,"src"],["type","button",1,"btn-remove-image",3,"click"],[1,"fas","fa-times"],[1,"alert","alert-error"],[1,"fas","fa-exclamation-circle"],[1,"alert","alert-success"],[1,"fas","fa-check-circle"],[1,"fas","fa-user-plus"],[1,"fab","fa-google"]],template:function(t,i){t&1&&(m(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3),v(4),b(5,"translate"),_(),m(6,"p",4),v(7),b(8,"translate"),_()(),m(9,"form",5),H("ngSubmit",function(){return i.onSubmit()}),m(10,"div",6)(11,"h3",7),M(12,"i",8),v(13),b(14,"translate"),_(),m(15,"div",9)(16,"div",10)(17,"div",11)(18,"div",12)(19,"label",13),M(20,"i",8),v(21),b(22,"translate"),_(),M(23,"input",14),b(24,"translate"),A(25,NK,3,1,"span",15),_()(),m(26,"div",16)(27,"div",12)(28,"label",17),M(29,"i",18),v(30),b(31,"translate"),_(),M(32,"input",19),b(33,"translate"),A(34,BK,3,1,"span",15),_()(),m(35,"div",16)(36,"div",12)(37,"label",20),M(38,"i",21),v(39),b(40,"translate"),_(),M(41,"input",22),b(42,"translate"),A(43,UK,3,1,"span",15),_()()()()(),m(44,"div",6)(45,"h3",7),M(46,"i",23),v(47),b(48,"translate"),_(),m(49,"div",9)(50,"div",10)(51,"div",16)(52,"div",12)(53,"label",24),M(54,"i",25),v(55),b(56,"translate"),_(),m(57,"div",26),M(58,"input",27),b(59,"translate"),m(60,"button",28),H("click",function(){return i.togglePasswordVisibility()}),M(61,"i"),_()(),A(62,HK,3,1,"span",15),_()(),m(63,"div",16)(64,"div",12)(65,"label",29),M(66,"i",25),v(67),b(68,"translate"),_(),m(69,"div",26),M(70,"input",30),b(71,"translate"),m(72,"button",28),H("click",function(){return i.toggleConfirmPasswordVisibility()}),M(73,"i"),_()(),A(74,qK,3,1,"span",15),_()()()()(),m(75,"div",6)(76,"h3",7),M(77,"i",31),v(78),b(79,"translate"),_(),m(80,"div",9)(81,"div",10)(82,"div",11)(83,"div",12)(84,"label",32),M(85,"i",31),v(86),b(87,"translate"),_(),m(88,"div",33)(89,"input",34),H("change",function(o){return i.onFileSelected(o)}),_(),m(90,"label",35),A(91,KK,3,3)(92,YK,3,3),_()(),A(93,QK,8,6,"div",36),A(94,ZK,4,1,"div",37),A(95,XK,3,3,"span",15),_()()()()(),A(96,JK,6,3,"div",10),A(97,eY,6,3,"div",10),m(98,"div",10)(99,"div",11)(100,"button",38),A(101,tY,3,3)(102,nY,3,3),_()()()(),m(103,"div",39)(104,"div",11)(105,"div",40)(106,"span"),v(107),b(108,"translate"),_()(),m(109,"button",41),H("click",function(){return i.registerByGmail()}),A(110,iY,3,3)(111,rY,3,3),_()()(),m(112,"div",42)(113,"p"),v(114),b(115,"translate"),m(116,"a",43),v(117),b(118,"translate"),_()()()()()),t&2&&(p(4),O(C(5,61,"auth.register.title")),p(3),O(C(8,63,"auth.register.subtitle")),p(2),V("formGroup",i.registerForm),p(4),P(" ",C(14,65,"auth.register.basicInfo")," "),p(8),P(" ",C(22,67,"auth.register.name")," "),p(2),Y("invalid",(i.name==null?null:i.name.invalid)&&(i.name==null?null:i.name.touched)),V("placeholder",Tn(C(24,69,"auth.register.namePlaceholder"))),p(2),k(i.name!=null&&i.name.invalid&&(i.name!=null&&i.name.touched)?25:-1),p(5),P(" ",C(31,71,"auth.register.email")," "),p(2),Y("invalid",(i.email==null?null:i.email.invalid)&&(i.email==null?null:i.email.touched)),V("placeholder",Tn(C(33,73,"auth.register.emailPlaceholder"))),p(2),k(i.email!=null&&i.email.invalid&&(i.email!=null&&i.email.touched)?34:-1),p(5),P(" ",C(40,75,"auth.register.phone")," "),p(2),Y("invalid",(i.phone==null?null:i.phone.invalid)&&(i.phone==null?null:i.phone.touched)),V("placeholder",Tn(C(42,77,"auth.register.phonePlaceholder"))),p(2),k(i.phone!=null&&i.phone.invalid&&(i.phone!=null&&i.phone.touched)?43:-1),p(4),P(" ",C(48,79,"auth.register.accountSecurity")," "),p(8),P(" ",C(56,81,"auth.register.password")," "),p(3),Y("invalid",(i.password==null?null:i.password.invalid)&&(i.password==null?null:i.password.touched)),V("placeholder",Tn(C(59,83,"auth.register.passwordPlaceholder")))("type",i.showPassword?"text":"password"),p(2),Gt("aria-label",i.showPassword?"Hide password":"Show password"),p(),To(i.showPassword?"fa-solid fa-eye-slash":"fa-solid fa-eye"),p(),k(i.password!=null&&i.password.invalid&&(i.password!=null&&i.password.touched)?62:-1),p(5),P(" ",C(68,85,"auth.register.confirmPassword")," "),p(3),Y("invalid",(i.confirmPassword==null?null:i.confirmPassword.invalid)&&(i.confirmPassword==null?null:i.confirmPassword.touched)),V("placeholder",Tn(C(71,87,"auth.register.confirmPasswordPlaceholder")))("type",i.showConfirmPassword?"text":"password"),p(2),Gt("aria-label",i.showConfirmPassword?"Hide password":"Show password"),p(),To(i.showConfirmPassword?"fa-solid fa-eye-slash":"fa-solid fa-eye"),p(),k(i.confirmPassword!=null&&i.confirmPassword.invalid&&(i.confirmPassword!=null&&i.confirmPassword.touched)?74:-1),p(4),P(" ",C(79,89,"auth.register.verification")," "),p(8),P(" ",C(87,91,"auth.register.idImage")," "),p(3),V("disabled",i.isCompressingImage),p(),Y("disabled",i.isCompressingImage),p(),k(i.isCompressingImage?91:92),p(2),k(i.isCompressingImage?93:-1),p(),k(i.idImagePreview&&!i.isCompressingImage?94:-1),p(),k(i.idImage!=null&&i.idImage.invalid&&(i.idImage!=null&&i.idImage.touched)?95:-1),p(),k(i.errorMessage?96:-1),p(),k(i.successMessage?97:-1),p(3),V("disabled",i.isLoading||i.isGoogleLoading||i.registerForm.invalid),p(),k(i.isLoading?101:102),p(6),O(C(108,93,"auth.register.or")),p(2),V("disabled",i.isLoading||i.isGoogleLoading),p(),k(i.isGoogleLoading?110:111),p(4),P(" ",C(115,95,"auth.register.haveAccount")," "),p(3),P(" ",C(118,97,"auth.register.login")," "))},dependencies:[Ie,xr,Pr,pi,jM,Mr,Ir,zi,$i,$e,Ye,Pe,Ne],styles:['.register-container[_ngcontent-%COMP%]{min-height:100vh;padding:64px 0;background:linear-gradient(135deg,#f3f1ec,#f6f7f9)}.register-container[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{padding:32px 16px}.register-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:64px;padding-top:32px}.register-header[_ngcontent-%COMP%]   .register-title[_ngcontent-%COMP%]{font-size:2.5rem;font-weight:700;color:#0e3a5d;margin-bottom:8px;font-family:Cairo,sans-serif}.register-header[_ngcontent-%COMP%]   .register-subtitle[_ngcontent-%COMP%]{font-size:1rem;color:#0f172ab3;margin:0}.register-form[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]{margin-bottom:64px;background:#f6f7f94d;border-radius:8px;padding:32px;border:1px solid rgba(14,58,93,.1)}.register-form[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]:last-of-type{margin-bottom:32px}.register-form[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{font-size:1.2rem;font-weight:600;color:#0e3a5d;margin-bottom:32px;padding-bottom:8px;border-bottom:2px solid rgba(201,162,77,.2);display:flex;align-items:center;gap:8px;font-family:Cairo,sans-serif}.register-form[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#c9a24d;font-size:1rem}.register-form[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]   .section-subtitle[_ngcontent-%COMP%]{font-size:.85rem;font-weight:400;color:#0f172a80;margin-left:auto}.register-form[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .section-content[_ngcontent-%COMP%]   .row.g-3[_ngcontent-%COMP%]{margin-left:0;margin-right:0}.register-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:0}.register-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-label[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;font-weight:500;color:#0f172a;margin-bottom:8px;font-size:.9rem}.register-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-label[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#0e3a5d;font-size:.85rem}.register-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-label[_ngcontent-%COMP%]   .optional[_ngcontent-%COMP%]{color:#0f172a80;font-weight:400;font-size:.85rem}.register-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .password-input-wrapper[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center}.register-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{width:100%;padding:16px 45px 16px 16px;border:2px solid rgba(14,58,93,.2);border-radius:8px;font-size:1rem;font-family:Cairo,sans-serif;transition:all .3s ease;background:#fff;color:#0f172a}.register-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:focus{outline:none;border-color:#c9a24d;box-shadow:0 0 0 3px #c9a24d1a}.register-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-control.invalid[_ngcontent-%COMP%]{border-color:#dc2626}.register-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]::placeholder{color:#0f172a66}.register-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .password-toggle[_ngcontent-%COMP%]{position:absolute;right:16px;background:transparent;border:none;color:#0f172a80;cursor:pointer;padding:4px;display:flex;align-items:center;justify-content:center;transition:all .3s ease;z-index:1}.register-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .password-toggle[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1rem}.register-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .password-toggle[_ngcontent-%COMP%]:hover{color:#c9a24d}.register-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .password-toggle[_ngcontent-%COMP%]:focus{outline:2px solid #C9A24D;outline-offset:2px;border-radius:4px}.register-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-textarea[_ngcontent-%COMP%]{resize:vertical;min-height:80px}.register-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]{display:block;color:#dc2626;font-size:.85rem;margin-top:4px;font-weight:500}.register-form[_ngcontent-%COMP%]   .file-upload-container[_ngcontent-%COMP%]{position:relative}.register-form[_ngcontent-%COMP%]   .file-upload-container[_ngcontent-%COMP%]   .file-input[_ngcontent-%COMP%]{position:absolute;opacity:0;width:0;height:0}.register-form[_ngcontent-%COMP%]   .file-upload-container[_ngcontent-%COMP%]   .file-label[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:8px;padding:16px;border:2px dashed rgba(14,58,93,.3);border-radius:8px;background:#f6f7f980;cursor:pointer;transition:all .3s ease;color:#0e3a5d;font-weight:500}.register-form[_ngcontent-%COMP%]   .file-upload-container[_ngcontent-%COMP%]   .file-label[_ngcontent-%COMP%]:hover{border-color:#c9a24d;background:#c9a24d1a;color:#c9a24d}.register-form[_ngcontent-%COMP%]   .file-upload-container[_ngcontent-%COMP%]   .file-label[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.1rem}.register-form[_ngcontent-%COMP%]   .file-upload-container[_ngcontent-%COMP%]   .file-label.disabled[_ngcontent-%COMP%]{opacity:.6;cursor:not-allowed}.register-form[_ngcontent-%COMP%]   .compression-indicator[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;padding:16px;margin-top:8px;background:#c9a24d1a;border-radius:8px;color:#c9a24d;font-size:.9rem;font-weight:500;font-family:Cairo,sans-serif}.register-form[_ngcontent-%COMP%]   .compression-indicator[_ngcontent-%COMP%]   .spinner-border-sm[_ngcontent-%COMP%]{width:1rem;height:1rem;border-width:.15rem}.register-form[_ngcontent-%COMP%]   .image-preview[_ngcontent-%COMP%]{position:relative;margin-top:16px;border-radius:8px;overflow:hidden;border:2px solid rgba(14,58,93,.2);max-width:300px}.register-form[_ngcontent-%COMP%]   .image-preview[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto;display:block}.register-form[_ngcontent-%COMP%]   .image-preview[_ngcontent-%COMP%]   .btn-remove-image[_ngcontent-%COMP%]{position:absolute;top:8px;right:8px;background:#dc2626;color:#fff;border:none;border-radius:50%;width:30px;height:30px;display:flex;align-items:center;justify-content:center;cursor:pointer;transition:all .3s ease;box-shadow:0 4px 8px #00000026}.register-form[_ngcontent-%COMP%]   .image-preview[_ngcontent-%COMP%]   .btn-remove-image[_ngcontent-%COMP%]:hover{background:#b21d1d;transform:scale(1.1)}.register-form[_ngcontent-%COMP%]   .alert[_ngcontent-%COMP%]{padding:16px;border-radius:8px;margin-bottom:32px;display:flex;align-items:center;gap:8px;font-size:.9rem}.register-form[_ngcontent-%COMP%]   .alert.alert-error[_ngcontent-%COMP%]{background:#dc26261a;color:#dc2626;border:1px solid rgba(220,38,38,.3)}.register-form[_ngcontent-%COMP%]   .alert.alert-success[_ngcontent-%COMP%]{background:#16a34a1a;color:#16a34a;border:1px solid rgba(22,163,74,.3)}.register-form[_ngcontent-%COMP%]   .alert[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1rem}.register-form[_ngcontent-%COMP%]   .btn-submit[_ngcontent-%COMP%]{padding:16px;font-size:1rem;font-weight:600;border-radius:8px;border:none;cursor:pointer;transition:all .3s ease;display:flex;align-items:center;justify-content:center;gap:8px;font-family:Cairo,sans-serif;background:#c9a24d;color:#fff}.register-form[_ngcontent-%COMP%]   .btn-submit[_ngcontent-%COMP%]:hover:not(:disabled){background:#a8832f;transform:translateY(-2px);box-shadow:0 4px 8px #00000026}.register-form[_ngcontent-%COMP%]   .btn-submit[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.register-footer[_ngcontent-%COMP%]{margin-top:64px;text-align:center;padding-top:32px;border-top:1px solid rgba(14,58,93,.1)}.register-footer[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#0f172ab3;font-size:.9rem;margin:0}.register-footer[_ngcontent-%COMP%]   .link-login[_ngcontent-%COMP%]{color:#c9a24d;font-weight:600;text-decoration:none;transition:all .3s ease}.register-footer[_ngcontent-%COMP%]   .link-login[_ngcontent-%COMP%]:hover{color:#a8832f;text-decoration:underline}.divider[_ngcontent-%COMP%]{display:flex;align-items:center;text-align:center;margin:32px 0;color:#0f172a80;font-size:.9rem}.divider[_ngcontent-%COMP%]:before, .divider[_ngcontent-%COMP%]:after{content:"";flex:1;border-bottom:1px solid rgba(14,58,93,.2)}.divider[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding:0 16px}.btn-google[_ngcontent-%COMP%]{background:#fff;color:#0f172a;border:2px solid rgba(14,58,93,.2);padding:16px 32px;font-weight:600;border-radius:8px;transition:all .3s ease;display:flex;align-items:center;justify-content:center;gap:8px;width:100%}.btn-google[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.2rem;color:#4285f4}.btn-google[_ngcontent-%COMP%]:hover:not(:disabled){background:#0e3a5d0d;border-color:#0e3a5d4d;transform:translateY(-2px);box-shadow:0 1px 2px #0000001a}.btn-google[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}@media (max-width: 991.98px){.register-container[_ngcontent-%COMP%]{padding:32px 0}}@media (max-width: 767.98px){.register-header[_ngcontent-%COMP%]   .register-title[_ngcontent-%COMP%]{font-size:2rem}.register-form[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]{padding:16px}}@media (max-width: 575.98px){.register-header[_ngcontent-%COMP%]{padding-top:16px}.register-header[_ngcontent-%COMP%]   .register-title[_ngcontent-%COMP%]{font-size:1.5rem}.register-form[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]{padding:8px}.register-form[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{font-size:1rem}}']})};function oY(n,e){n&1&&(m(0,"div",2)(1,"div",5)(2,"span",6),v(3),b(4,"translate"),_()(),m(5,"p",7),v(6),b(7,"translate"),_()()),n&2&&(p(3),O(C(4,2,"auth.profile.loading")),p(3),O(C(7,4,"auth.profile.loading")))}function sY(n,e){if(n&1&&(m(0,"div",3)(1,"div",8),M(2,"i",9),v(3),b(4,"translate"),_()()),n&2){let t=R();p(3),P(" ",C(4,1,t.errorMessage)," ")}}function aY(n,e){if(n&1&&(M(0,"img",39),b(1,"translate")),n&2){let t=R(2);V("src",t.organization.idImage,At)("alt",C(1,2,"auth.profile.idImage"))}}function cY(n,e){n&1&&(m(0,"div",40),M(1,"i",41),m(2,"p"),v(3),b(4,"translate"),_()()),n&2&&(p(3),O(C(4,1,"auth.profile.noImage")))}function lY(n,e){if(n&1&&(m(0,"div",4)(1,"div",10)(2,"div",11)(3,"div",12)(4,"h1",13),M(5,"i",14),v(6),_(),m(7,"p",15),v(8),b(9,"translate"),_()(),m(10,"div",16)(11,"div",17)(12,"span",18),M(13,"i",19),v(14),b(15,"translate"),_(),m(16,"button",20),M(17,"i",21),v(18),b(19,"translate"),_()()()()(),m(20,"div",22)(21,"div",23)(22,"div",24)(23,"h3",25),M(24,"i",26),v(25),b(26,"translate"),_(),m(27,"div",27)(28,"div",28)(29,"div",12)(30,"div",29)(31,"label",30),M(32,"i",31),v(33),b(34,"translate"),_(),m(35,"p",32),v(36),_()()(),m(37,"div",12)(38,"div",29)(39,"label",30),M(40,"i",33),v(41),b(42,"translate"),_(),m(43,"p",32),v(44),_()()()()()(),m(45,"div",24)(46,"h3",25),M(47,"i",34),v(48),b(49,"translate"),_(),m(50,"div",27)(51,"div",28)(52,"div",12)(53,"div",29)(54,"label",30),M(55,"i",35),v(56),b(57,"translate"),_(),m(58,"p",32),v(59),_()()()()()()(),m(60,"div",36)(61,"div",24)(62,"h3",25),M(63,"i",37),v(64),b(65,"translate"),_(),m(66,"div",27)(67,"div",38),A(68,aY,2,4,"img",39)(69,cY,5,3,"div",40),_()()()()()()),n&2){let t=R();p(6),P(" ",t.organization.name," "),p(2),O(C(9,21,"auth.profile.organizationProfile")),p(4),V("ngClass",t.getStatusClass(t.organization.status)),p(),Y("fa-check-circle",t.organization.status==="approved")("fa-clock",t.organization.status==="pending")("fa-times-circle",t.organization.status==="rejected"),p(),P(" ",C(15,23,t.getStatusKey(t.organization.status))," "),p(4),P(" ",C(19,25,"auth.profile.edit.title")," "),p(7),P(" ",C(26,27,"auth.profile.basicInfo")," "),p(8),P(" ",C(34,29,"auth.profile.email")," "),p(3),O(t.organization.email),p(5),P(" ",C(42,31,"auth.profile.phone")," "),p(3),O(t.organization.phone),p(4),P(" ",C(49,33,"auth.profile.systemInfo")," "),p(8),P(" ",C(57,35,"auth.profile.registrationDate")," "),p(3),O(t.formatDate(t.organization.createdAt)),p(5),P(" ",C(65,37,"auth.profile.verificationDocument")," "),p(4),k(t.organization.idImage?68:69)}}var i_=class n{constructor(e,t){this.organizationService=e;this.authService=t}organization=null;isLoading=!0;errorMessage="";currentUserEmail="";destroy$=new de;ngOnInit(){let e=this.authService.getCurrentUserId();this.organizationService.getOrganization(e||"").pipe(Xe(this.destroy$)).subscribe({next:t=>{this.organization=t,this.isLoading=!1,t||(this.errorMessage="auth.profile.organizationNotFound")},error:t=>{console.error("Error loading organization:",t),this.errorMessage="auth.profile.loadError",this.isLoading=!1}})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}getStatusClass(e){switch(e){case"approved":return"badge-success";case"pending":return"badge-warning";case"rejected":return"badge-error";default:return"badge-secondary"}}getStatusKey(e){return`auth.profile.status.${e}`}formatDate(e){return e?new Date(e).toLocaleDateString("ar-EG",{year:"numeric",month:"long",day:"numeric"}):""}static \u0275fac=function(t){return new(t||n)(B(Lt),B(Nt))};static \u0275cmp=me({type:n,selectors:[["app-profile-view"]],decls:5,vars:3,consts:[[1,"profile-container"],[1,"container"],[1,"loading-state"],[1,"error-state"],[1,"profile-content"],["role","status",1,"spinner-border","text-primary"],[1,"visually-hidden"],[1,"mt-3"],[1,"alert","alert-error"],[1,"fas","fa-exclamation-circle"],[1,"profile-header"],[1,"row","align-items-center"],[1,"col-12","col-md-6"],[1,"profile-title"],[1,"fas","fa-building"],[1,"profile-subtitle"],[1,"col-12","col-md-6","text-md-end"],[1,"header-actions"],[1,"status-badge",3,"ngClass"],[1,"fas"],["type","button","routerLink","/profile-edit",1,"btn","btn-edit"],[1,"fas","fa-edit"],[1,"row","g-4"],[1,"col-12","col-lg-8"],[1,"profile-card"],[1,"card-title"],[1,"fas","fa-info-circle"],[1,"card-content"],[1,"row","g-3"],[1,"info-item"],[1,"info-label"],[1,"fas","fa-envelope"],[1,"info-value"],[1,"fas","fa-phone"],[1,"fas","fa-cog"],[1,"fas","fa-calendar"],[1,"col-12","col-lg-4"],[1,"fas","fa-id-card"],[1,"id-image-container"],[1,"id-image",3,"src","alt"],[1,"no-image"],[1,"fas","fa-image"]],template:function(t,i){t&1&&(m(0,"div",0)(1,"div",1),A(2,oY,8,6,"div",2),A(3,sY,5,3,"div",3),A(4,lY,70,39,"div",4),_()()),t&2&&(p(2),k(i.isLoading?2:-1),p(),k(!i.isLoading&&i.errorMessage&&!i.organization?3:-1),p(),k(!i.isLoading&&i.organization?4:-1))},dependencies:[Ie,jt,$e,Ye,Pe,Ne],styles:['.profile-container[_ngcontent-%COMP%]{min-height:100vh;padding:64px 0;background:linear-gradient(135deg,#f3f1ec,#f6f7f9)}.profile-container[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{padding:32px 16px}.loading-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;min-height:400px;text-align:center}.loading-state[_ngcontent-%COMP%]   .spinner-border[_ngcontent-%COMP%]{width:3rem;height:3rem;border-width:.3rem}.loading-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#0f172ab3;font-size:1rem;margin:0}.error-state[_ngcontent-%COMP%]{margin-top:64px}.error-state[_ngcontent-%COMP%]   .alert-error[_ngcontent-%COMP%]{padding:32px;border-radius:8px;background:#dc26261a;color:#dc2626;border:1px solid rgba(220,38,38,.3);display:flex;align-items:center;gap:8px;font-size:1rem}.error-state[_ngcontent-%COMP%]   .alert-error[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.2rem}.profile-content[_ngcontent-%COMP%]{margin-top:32px}.profile-header[_ngcontent-%COMP%]{margin-bottom:64px;padding-bottom:32px;border-bottom:2px solid rgba(14,58,93,.1)}.profile-header[_ngcontent-%COMP%]   .profile-title[_ngcontent-%COMP%]{font-size:2.5rem;font-weight:700;color:#0e3a5d;margin-bottom:8px;font-family:Cairo,sans-serif;display:flex;align-items:center;gap:16px}.profile-header[_ngcontent-%COMP%]   .profile-title[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#c9a24d;font-size:2rem}.profile-header[_ngcontent-%COMP%]   .profile-subtitle[_ngcontent-%COMP%]{font-size:1rem;color:#0f172a99;margin:0}.profile-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]{display:flex;align-items:center;gap:16px;flex-wrap:wrap;justify-content:flex-end}@media (max-width: 767.98px){.profile-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]{margin-top:16px;justify-content:flex-start}}.profile-header[_ngcontent-%COMP%]   .status-badge[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:8px;padding:8px 16px;border-radius:8px;font-weight:600;font-size:.9rem;font-family:Cairo,sans-serif}.profile-header[_ngcontent-%COMP%]   .status-badge.badge-success[_ngcontent-%COMP%]{background:#16a34a1a;color:#16a34a;border:1px solid rgba(22,163,74,.3)}.profile-header[_ngcontent-%COMP%]   .status-badge.badge-warning[_ngcontent-%COMP%]{background:#d977061a;color:#d97706;border:1px solid rgba(217,119,6,.3)}.profile-header[_ngcontent-%COMP%]   .status-badge.badge-error[_ngcontent-%COMP%]{background:#dc26261a;color:#dc2626;border:1px solid rgba(220,38,38,.3)}.profile-header[_ngcontent-%COMP%]   .status-badge[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1rem}.profile-header[_ngcontent-%COMP%]   .btn-edit[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:8px;padding:8px 16px;background:#c9a24d;color:#fff;border:none;border-radius:8px;font-weight:600;font-size:.9rem;font-family:Cairo,sans-serif;cursor:pointer;transition:all .3s ease;text-decoration:none}.profile-header[_ngcontent-%COMP%]   .btn-edit[_ngcontent-%COMP%]:hover{background:#a8832f;transform:translateY(-2px);box-shadow:0 4px 8px #00000026}.profile-header[_ngcontent-%COMP%]   .btn-edit[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.9rem}.profile-card[_ngcontent-%COMP%]{background:#fff;border-radius:16px;padding:32px;margin-bottom:32px;box-shadow:0 4px 8px #00000026;border:1px solid rgba(14,58,93,.1)}.profile-card[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{font-size:1.3rem;font-weight:600;color:#0e3a5d;margin-bottom:32px;padding-bottom:16px;border-bottom:2px solid rgba(201,162,77,.2);display:flex;align-items:center;gap:8px;font-family:Cairo,sans-serif}.profile-card[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#c9a24d;font-size:1.1rem}.profile-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]{margin-bottom:16px}.profile-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]:last-child{margin-bottom:0}.profile-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]   .info-label[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;font-weight:600;color:#0f172a;margin-bottom:4px;font-size:.9rem;font-family:Cairo,sans-serif}.profile-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]   .info-label[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#0e3a5d;font-size:.85rem;width:16px}.profile-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]   .info-value[_ngcontent-%COMP%]{color:#0f172acc;font-size:1rem;margin:0;padding-left:24px;word-break:break-word}.profile-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]   .info-value[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#c9a24d;text-decoration:none;transition:all .3s ease}.profile-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]   .info-value[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#a8832f;text-decoration:underline}.profile-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]   .info-value.text-muted[_ngcontent-%COMP%]{color:#0f172a80;font-size:.85rem}.id-image-container[_ngcontent-%COMP%]{width:100%;border-radius:8px;overflow:hidden;border:2px solid rgba(14,58,93,.1);background:#f6f7f9;transition:all .3s ease}.id-image-container[_ngcontent-%COMP%]:hover{border-color:#c9a24d;box-shadow:0 4px 8px #00000026}.id-image-container[_ngcontent-%COMP%]   .id-image[_ngcontent-%COMP%]{width:100%;height:auto;display:block;object-fit:contain;min-height:200px;max-height:400px;transition:transform .3s ease}.id-image-container[_ngcontent-%COMP%]   .id-image[_ngcontent-%COMP%]:hover{transform:scale(1.02)}.id-image-container[_ngcontent-%COMP%]   .no-image[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:64px;color:#0f172a66;min-height:200px}.id-image-container[_ngcontent-%COMP%]   .no-image[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:3rem;margin-bottom:16px}.id-image-container[_ngcontent-%COMP%]   .no-image[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:.9rem}.transfer-receipt-container[_ngcontent-%COMP%]{width:100%;border-radius:8px;overflow:hidden;border:2px solid rgba(201,162,77,.2);background:linear-gradient(135deg,#c9a24d0d,#f6f7f9);transition:all .3s ease;position:relative}.transfer-receipt-container[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:0;background:linear-gradient(135deg,rgba(201,162,77,.03) 0%,transparent 100%);pointer-events:none}.transfer-receipt-container[_ngcontent-%COMP%]:hover{border-color:#c9a24d;box-shadow:0 8px 16px #0003;transform:translateY(-2px)}.transfer-receipt-container[_ngcontent-%COMP%]   .transfer-receipt-image[_ngcontent-%COMP%]{width:100%;height:auto;display:block;object-fit:contain;min-height:200px;max-height:400px;transition:transform .3s ease;position:relative;z-index:1}.transfer-receipt-container[_ngcontent-%COMP%]   .transfer-receipt-image[_ngcontent-%COMP%]:hover{transform:scale(1.03)}@media (max-width: 991.98px){.profile-container[_ngcontent-%COMP%]{padding:32px 0}.profile-header[_ngcontent-%COMP%]   .profile-title[_ngcontent-%COMP%]{font-size:2rem}.profile-header[_ngcontent-%COMP%]   .status-badge[_ngcontent-%COMP%]{margin-top:16px}}@media (max-width: 767.98px){.profile-header[_ngcontent-%COMP%]   .profile-title[_ngcontent-%COMP%], .profile-header[_ngcontent-%COMP%]   .profile-title[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.5rem}.profile-card[_ngcontent-%COMP%]{padding:16px}.profile-card[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{font-size:1.1rem}}']})};var Kd=ms(cs());function uY(n,e){n&1&&(m(0,"div",2)(1,"div",5)(2,"span",6),v(3),b(4,"translate"),_()(),m(5,"p",7),v(6),b(7,"translate"),_()()),n&2&&(p(3),O(C(4,2,"auth.profile.loading")),p(3),O(C(7,4,"auth.profile.loading")))}function dY(n,e){if(n&1&&(m(0,"div",3)(1,"div",8),M(2,"i",9),v(3),b(4,"translate"),_()()),n&2){let t=R();p(3),P(" ",C(4,1,t.errorMessage)," ")}}function fY(n,e){n&1&&(v(0),b(1,"translate")),n&2&&P(" ",C(1,1,"auth.register.nameRequired")," ")}function pY(n,e){n&1&&(v(0),b(1,"translate")),n&2&&P(" ",C(1,1,"auth.register.nameMinLength")," ")}function hY(n,e){if(n&1&&(m(0,"span",34),A(1,fY,2,3)(2,pY,2,3),_()),n&2){let t=R(2);p(),k(!(t.name==null||t.name.errors==null)&&t.name.errors.required?1:!(t.name==null||t.name.errors==null)&&t.name.errors.minlength?2:-1)}}function gY(n,e){n&1&&(v(0),b(1,"translate")),n&2&&P(" ",C(1,1,"auth.register.emailRequired")," ")}function mY(n,e){n&1&&(v(0),b(1,"translate")),n&2&&P(" ",C(1,1,"auth.register.emailInvalid")," ")}function _Y(n,e){if(n&1&&(m(0,"span",34),A(1,gY,2,3)(2,mY,2,3),_()),n&2){let t=R(2);p(),k(!(t.email==null||t.email.errors==null)&&t.email.errors.required?1:!(t.email==null||t.email.errors==null)&&t.email.errors.email?2:-1)}}function vY(n,e){n&1&&(v(0),b(1,"translate")),n&2&&P(" ",C(1,1,"auth.register.phoneRequired")," ")}function yY(n,e){n&1&&(v(0),b(1,"translate")),n&2&&P(" ",C(1,1,"auth.register.phoneInvalid")," ")}function bY(n,e){if(n&1&&(m(0,"span",34),A(1,vY,2,3)(2,yY,2,3),_()),n&2){let t=R(2);p(),k(!(t.phone==null||t.phone.errors==null)&&t.phone.errors.required?1:!(t.phone==null||t.phone.errors==null)&&t.phone.errors.pattern?2:-1)}}function CY(n,e){n&1&&(M(0,"i",55),v(1),b(2,"translate")),n&2&&(p(),P(" ",C(2,1,"auth.profile.edit.compressing")," "))}function wY(n,e){n&1&&(M(0,"i",56),v(1),b(2,"translate")),n&2&&(p(),P(" ",C(2,1,"auth.profile.edit.changeImage")," "))}function EY(n,e){n&1&&(m(0,"div",48)(1,"div",57)(2,"span",6),v(3),b(4,"translate"),_()(),m(5,"span",58),v(6),b(7,"translate"),_()()),n&2&&(p(3),O(C(4,2,"auth.profile.edit.compressing")),p(3),O(C(7,4,"auth.profile.edit.compressing")))}function MY(n,e){if(n&1){let t=Re();m(0,"div",49),M(1,"img",59),m(2,"button",60),H("click",function(){X(t);let r=R(2);return J(r.removeImage())}),M(3,"i",18),_()()}if(n&2){let t=R(2);p(),V("src",t.idImagePreview,At)}}function IY(n,e){n&1&&(m(0,"span",34),v(1),b(2,"translate"),_()),n&2&&(p(),P(" ",C(2,1,"auth.register.idImageRequired")," "))}function PY(n,e){if(n&1&&(m(0,"div",8),M(1,"i",9),v(2),b(3,"translate"),_()),n&2){let t=R(2);p(2),P(" ",C(3,1,t.errorMessage)," ")}}function OY(n,e){if(n&1&&(m(0,"div",50),M(1,"i",61),v(2),b(3,"translate"),_()),n&2){let t=R(2);p(2),P(" ",C(3,1,t.successMessage)," ")}}function xY(n,e){n&1&&(M(0,"i",55),v(1),b(2,"translate")),n&2&&(p(),P(" ",C(2,1,"auth.profile.edit.saving")," "))}function SY(n,e){n&1&&(M(0,"i",62),v(1),b(2,"translate")),n&2&&(p(),P(" ",C(2,1,"auth.profile.edit.save")," "))}function DY(n,e){if(n&1){let t=Re();m(0,"div",4)(1,"div",10)(2,"div",11)(3,"div",12)(4,"h1",13),M(5,"i",14),v(6),b(7,"translate"),_(),m(8,"p",15),v(9),b(10,"translate"),_()(),m(11,"div",16)(12,"button",17),H("click",function(){X(t);let r=R();return J(r.onCancel())}),M(13,"i",18),v(14),b(15,"translate"),_()()()(),m(16,"div",19),M(17,"i",20),v(18),b(19,"translate"),_(),m(20,"form",21),H("ngSubmit",function(){X(t);let r=R();return J(r.onSubmit())}),m(21,"div",22)(22,"div",23)(23,"div",24)(24,"h3",25),M(25,"i",26),v(26),b(27,"translate"),_(),m(28,"div",27)(29,"div",28)(30,"div",29)(31,"div",30)(32,"label",31),M(33,"i",32),v(34),b(35,"translate"),_(),M(36,"input",33),b(37,"translate"),A(38,hY,3,1,"span",34),_()(),m(39,"div",35)(40,"div",30)(41,"label",36),M(42,"i",37),v(43),b(44,"translate"),_(),M(45,"input",38),b(46,"translate"),A(47,_Y,3,1,"span",34),_()(),m(48,"div",35)(49,"div",30)(50,"label",39),M(51,"i",40),v(52),b(53,"translate"),_(),M(54,"input",41),b(55,"translate"),A(56,bY,3,1,"span",34),_()()()()()(),m(57,"div",42)(58,"div",24)(59,"h3",25),M(60,"i",43),v(61),b(62,"translate"),_(),m(63,"div",27)(64,"div",30)(65,"label",44),M(66,"i",43),v(67),b(68,"translate"),_(),m(69,"div",45)(70,"input",46),H("change",function(r){X(t);let o=R();return J(o.onFileSelected(r))}),_(),m(71,"label",47),A(72,CY,3,3)(73,wY,3,3),_()(),A(74,EY,8,6,"div",48),A(75,MY,4,1,"div",49),A(76,IY,3,3,"span",34),_()()()()(),A(77,PY,4,3,"div",8),A(78,OY,4,3,"div",50),m(79,"div",51)(80,"div",52)(81,"div",35)(82,"button",53),H("click",function(){X(t);let r=R();return J(r.onCancel())}),M(83,"i",18),v(84),b(85,"translate"),_()(),m(86,"div",35)(87,"button",54),A(88,xY,3,3)(89,SY,3,3),_()()()()()()}if(n&2){let t=R();p(6),P(" ",C(7,39,"auth.profile.edit.title")," "),p(3),O(C(10,41,"auth.profile.edit.subtitle")),p(5),P(" ",C(15,43,"auth.profile.edit.cancel")," "),p(4),P(" ",C(19,45,"auth.profile.edit.warning")," "),p(2),V("formGroup",t.editForm),p(6),P(" ",C(27,47,"auth.register.basicInfo")," "),p(8),P(" ",C(35,49,"auth.register.name")," "),p(2),Y("invalid",(t.name==null?null:t.name.invalid)&&(t.name==null?null:t.name.touched)),V("placeholder",Tn(C(37,51,"auth.register.namePlaceholder"))),p(2),k(t.name!=null&&t.name.invalid&&(t.name!=null&&t.name.touched)?38:-1),p(5),P(" ",C(44,53,"auth.register.email")," "),p(2),Y("invalid",(t.email==null?null:t.email.invalid)&&(t.email==null?null:t.email.touched)),V("placeholder",Tn(C(46,55,"auth.register.emailPlaceholder"))),p(2),k(t.email!=null&&t.email.invalid&&(t.email!=null&&t.email.touched)?47:-1),p(5),P(" ",C(53,57,"auth.register.phone")," "),p(2),Y("invalid",(t.phone==null?null:t.phone.invalid)&&(t.phone==null?null:t.phone.touched)),V("placeholder",Tn(C(55,59,"auth.register.phonePlaceholder"))),p(2),k(t.phone!=null&&t.phone.invalid&&(t.phone!=null&&t.phone.touched)?56:-1),p(5),P(" ",C(62,61,"auth.register.verification")," "),p(6),P(" ",C(68,63,"auth.register.idImage")," "),p(3),V("disabled",t.isCompressingImage),p(),Y("disabled",t.isCompressingImage),p(),k(t.isCompressingImage?72:73),p(2),k(t.isCompressingImage?74:-1),p(),k(t.idImagePreview&&!t.isCompressingImage?75:-1),p(),k(t.idImage!=null&&t.idImage.invalid&&(t.idImage!=null&&t.idImage.touched)?76:-1),p(),k(t.errorMessage?77:-1),p(),k(t.successMessage?78:-1),p(4),V("disabled",t.isSaving),p(2),P(" ",C(85,65,"auth.profile.edit.cancel")," "),p(3),V("disabled",t.isSaving||t.editForm.invalid),p(),k(t.isSaving?88:89)}}var r_=class n{constructor(e,t,i,r){this.fb=e;this.organizationService=t;this.authService=i;this.router=r}editForm;organization=null;isLoading=!1;isSaving=!1;isCompressingImage=!1;errorMessage="";successMessage="";idImagePreview=null;idImageBase64=null;destroy$=new de;ngOnInit(){let e=this.authService.getCurrentUserId();if(!e){this.errorMessage="auth.profile.notAuthenticated";return}this.isLoading=!0,this.organizationService.getOrganization(e||"").pipe(Xe(this.destroy$)).subscribe({next:t=>{this.organization=t,t?(this.initializeForm(t),this.idImagePreview=t.idImage,this.idImageBase64=t.idImage):this.errorMessage="auth.profile.organizationNotFound",this.isLoading=!1},error:t=>{console.error("Error loading organization:",t),this.errorMessage="auth.profile.loadError",this.isLoading=!1}})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}initializeForm(e){this.editForm=this.fb.group({name:[e.name,[De.required,De.minLength(3)]],email:[{value:e.email,disabled:!0},[De.required,De.email]],phone:[e.phone,[De.required,De.pattern(/^[0-9+\-\s()]+$/)]],idImage:[e.idImage,[De.required]]})}compressAndResizeImage(e){return new Promise((t,i)=>{let r=new FileReader;r.onload=o=>{let s=new Image;s.onload=()=>{let c=s.width,l=s.height;c>600&&(l=l*600/c,c=600);let h=document.createElement("canvas");h.width=c,h.height=l;let f=h.getContext("2d");if(!f){i(new Error("Could not get canvas context"));return}f.drawImage(s,0,0,c,l);let w=h.toDataURL("image/jpeg",.45);t(w)},s.onerror=()=>{i(new Error("Failed to load image"))},s.src=o.target?.result},r.onerror=()=>{i(new Error("Failed to read file"))},r.readAsDataURL(e)})}onFileSelected(e){let i=e.target.files?.[0];if(i){if(!i.type.startsWith("image/")){this.errorMessage="auth.register.invalidImageType";return}if(i.size>5*1024*1024){this.errorMessage="auth.register.imageTooLarge";return}this.isCompressingImage=!0,this.errorMessage="",this.compressAndResizeImage(i).then(r=>{this.idImageBase64=r,this.idImagePreview=r,this.editForm.patchValue({idImage:r}),this.isCompressingImage=!1,this.errorMessage=""}).catch(r=>{console.error("Error compressing image:",r),this.isCompressingImage=!1,this.errorMessage="auth.register.imageProcessingError",Kd.default.fire({icon:"error",title:"\u062E\u0637\u0623",text:"\u062D\u062F\u062B \u062E\u0637\u0623 \u0623\u062B\u0646\u0627\u0621 \u0645\u0639\u0627\u0644\u062C\u0629 \u0627\u0644\u0635\u0648\u0631\u0629. \u064A\u0631\u062C\u0649 \u0627\u0644\u0645\u062D\u0627\u0648\u0644\u0629 \u0645\u0631\u0629 \u0623\u062E\u0631\u0649.",confirmButtonText:"\u062D\u0633\u0646\u0627\u064B",confirmButtonColor:"#DC2626"})})}}removeImage(){this.idImagePreview=null,this.idImageBase64=null,this.editForm.patchValue({idImage:null})}onSubmit(){if(this.editForm.invalid){this.markFormGroupTouched(this.editForm);return}if(!this.idImageBase64){this.errorMessage="auth.register.idImageRequired",Kd.default.fire({icon:"error",title:"\u062E\u0637\u0623",text:"\u064A\u0631\u062C\u0649 \u0631\u0641\u0639 \u0635\u0648\u0631\u0629 \u0627\u0644\u0647\u0648\u064A\u0629",confirmButtonText:"\u062D\u0633\u0646\u0627\u064B",confirmButtonColor:"#DC2626"});return}let e=this.authService.getCurrentUserId();if(!e){this.errorMessage="auth.profile.notAuthenticated";return}this.isSaving=!0,this.errorMessage="",this.successMessage="";let t=this.editForm.value;this.organizationService.updateOrganization(e,ie(F({},t),{idImage:this.idImageBase64,status:"pending"})).pipe(Ze(i=>(this.isSaving=!1,console.error("Error updating organization:",i),Kd.default.fire({icon:"error",title:"\u062E\u0637\u0623 \u0641\u064A \u0627\u0644\u062D\u0641\u0638",text:"\u062D\u062F\u062B \u062E\u0637\u0623 \u0623\u062B\u0646\u0627\u0621 \u062D\u0641\u0638 \u0627\u0644\u062A\u063A\u064A\u064A\u0631\u0627\u062A. \u064A\u0631\u062C\u0649 \u0627\u0644\u0645\u062D\u0627\u0648\u0644\u0629 \u0645\u0631\u0629 \u0623\u062E\u0631\u0649.",confirmButtonText:"\u062D\u0633\u0646\u0627\u064B",confirmButtonColor:"#DC2626"}),U(null)))).subscribe({next:i=>{i!==null&&(this.isSaving=!1,Kd.default.fire({icon:"success",title:"\u062A\u0645 \u0627\u0644\u062D\u0641\u0638 \u0628\u0646\u062C\u0627\u062D!",text:'\u062A\u0645 \u062A\u062D\u062F\u064A\u062B \u0627\u0644\u0645\u0644\u0641 \u0627\u0644\u0634\u062E\u0635\u064A \u0628\u0646\u062C\u0627\u062D. \u0633\u064A\u062A\u0645 \u062A\u0639\u064A\u064A\u0646 \u062D\u0627\u0644\u0629 \u0645\u0646\u0638\u0645\u062A\u0643 \u0625\u0644\u0649 "\u0642\u064A\u062F \u0627\u0644\u0645\u0648\u0627\u0641\u0642\u0629" \u0648\u0633\u062A\u062D\u062A\u0627\u062C \u0625\u0644\u0649 \u0645\u0648\u0627\u0641\u0642\u0629 \u0627\u0644\u0645\u062F\u064A\u0631 \u0645\u0631\u0629 \u0623\u062E\u0631\u0649.',confirmButtonText:"\u062D\u0633\u0646\u0627\u064B",confirmButtonColor:"#16A34A",timer:3e3,timerProgressBar:!0}).then(()=>{this.router.navigate(["/profile-view"])}))}})}onCancel(){this.router.navigate(["/profile-view"])}markFormGroupTouched(e){Object.keys(e.controls).forEach(t=>{e.get(t)?.markAsTouched()})}get name(){return this.editForm.get("name")}get email(){return this.editForm.get("email")}get phone(){return this.editForm.get("phone")}get idImage(){return this.editForm.get("idImage")}static \u0275fac=function(t){return new(t||n)(B(Or),B(Lt),B(Nt),B(ze))};static \u0275cmp=me({type:n,selectors:[["app-profile-edit"]],decls:5,vars:3,consts:[[1,"profile-edit-container"],[1,"container"],[1,"loading-state"],[1,"error-state"],[1,"edit-content"],["role","status",1,"spinner-border","text-primary"],[1,"visually-hidden"],[1,"mt-3"],[1,"alert","alert-error"],[1,"fas","fa-exclamation-circle"],[1,"edit-header"],[1,"row","align-items-center"],[1,"col-12","col-md-8"],[1,"edit-title"],[1,"fas","fa-edit"],[1,"edit-subtitle"],[1,"col-12","col-md-4","text-md-end"],["type","button",1,"btn","btn-cancel",3,"click"],[1,"fas","fa-times"],[1,"alert","alert-warning"],[1,"fas","fa-exclamation-triangle"],[1,"edit-form",3,"ngSubmit","formGroup"],[1,"row","g-4"],[1,"col-12","col-lg-8"],[1,"form-section"],[1,"section-title"],[1,"fas","fa-info-circle"],[1,"section-content"],[1,"row","g-3"],[1,"col-12"],[1,"form-group"],["for","name",1,"form-label"],[1,"fas","fa-building"],["type","text","id","name","formControlName","name",1,"form-control",3,"placeholder"],[1,"error-message"],[1,"col-12","col-md-6"],["for","email",1,"form-label"],[1,"fas","fa-envelope"],["type","email","id","email","formControlName","email",1,"form-control","bg-secondary-subtle",3,"placeholder"],["for","phone",1,"form-label"],[1,"fas","fa-phone"],["type","tel","id","phone","formControlName","phone",1,"form-control",3,"placeholder"],[1,"col-12","col-lg-4"],[1,"fas","fa-id-card"],["for","idImage",1,"form-label"],[1,"file-upload-container"],["type","file","id","idImage","accept","image/*",1,"file-input",3,"change","disabled"],["for","idImage",1,"file-label"],[1,"compression-indicator"],[1,"image-preview"],[1,"alert","alert-success"],[1,"form-actions"],[1,"row"],["type","button",1,"btn","btn-cancel","btn-full",3,"click","disabled"],["type","submit",1,"btn","btn-primary","btn-submit","btn-full",3,"disabled"],[1,"fas","fa-spinner","fa-spin"],[1,"fas","fa-upload"],["role","status",1,"spinner-border","spinner-border-sm","text-primary"],[1,"ms-2"],["alt","ID Image Preview",3,"src"],["type","button",1,"btn-remove-image",3,"click"],[1,"fas","fa-check-circle"],[1,"fas","fa-save"]],template:function(t,i){t&1&&(m(0,"div",0)(1,"div",1),A(2,uY,8,6,"div",2),A(3,dY,5,3,"div",3),A(4,DY,90,67,"div",4),_()()),t&2&&(p(2),k(i.isLoading?2:-1),p(),k(!i.isLoading&&i.errorMessage&&!i.organization?3:-1),p(),k(!i.isLoading&&i.organization&&i.editForm?4:-1))},dependencies:[Ie,xr,Pr,pi,Mr,Ir,zi,$i,$e,Pe,Ne],styles:[".profile-edit-container[_ngcontent-%COMP%]{min-height:100vh;padding:64px 0;background:linear-gradient(135deg,#f3f1ec,#f6f7f9)}.profile-edit-container[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{padding:32px 16px}.loading-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;min-height:400px;text-align:center}.loading-state[_ngcontent-%COMP%]   .spinner-border[_ngcontent-%COMP%]{width:3rem;height:3rem;border-width:.3rem}.loading-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#0f172ab3;font-size:1rem;margin:0}.error-state[_ngcontent-%COMP%]{margin-top:64px}.error-state[_ngcontent-%COMP%]   .alert-error[_ngcontent-%COMP%]{padding:32px;border-radius:8px;background:#dc26261a;color:#dc2626;border:1px solid rgba(220,38,38,.3);display:flex;align-items:center;gap:8px;font-size:1rem}.error-state[_ngcontent-%COMP%]   .alert-error[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.2rem}.edit-content[_ngcontent-%COMP%]{margin-top:32px}.edit-header[_ngcontent-%COMP%]{margin-bottom:64px;padding-bottom:32px;border-bottom:2px solid rgba(14,58,93,.1)}.edit-header[_ngcontent-%COMP%]   .edit-title[_ngcontent-%COMP%]{font-size:2.5rem;font-weight:700;color:#0e3a5d;margin-bottom:8px;font-family:Cairo,sans-serif;display:flex;align-items:center;gap:16px}.edit-header[_ngcontent-%COMP%]   .edit-title[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#c9a24d;font-size:2rem}.edit-header[_ngcontent-%COMP%]   .edit-subtitle[_ngcontent-%COMP%]{font-size:1rem;color:#0f172a99;margin:0}.edit-header[_ngcontent-%COMP%]   .btn-cancel[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:8px;padding:8px 16px;background:#0f172a1a;color:#0f172a;border:1px solid rgba(15,23,42,.2);border-radius:8px;font-weight:600;font-size:.9rem;font-family:Cairo,sans-serif;cursor:pointer;transition:all .3s ease}.edit-header[_ngcontent-%COMP%]   .btn-cancel[_ngcontent-%COMP%]:hover{background:#0f172a33;border-color:#0f172a4d}.edit-header[_ngcontent-%COMP%]   .btn-cancel[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.9rem}.alert-warning[_ngcontent-%COMP%]{padding:16px;border-radius:8px;background:#d977061a;color:#d97706;border:1px solid rgba(217,119,6,.3);display:flex;align-items:center;gap:8px;font-size:.9rem;margin-bottom:32px}.alert-warning[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1rem}.edit-form[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]{margin-bottom:64px;background:#fff;border-radius:16px;padding:32px;box-shadow:0 4px 8px #00000026;border:1px solid rgba(14,58,93,.1)}.edit-form[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{font-size:1.2rem;font-weight:600;color:#0e3a5d;margin-bottom:32px;padding-bottom:8px;border-bottom:2px solid rgba(201,162,77,.2);display:flex;align-items:center;gap:8px;font-family:Cairo,sans-serif}.edit-form[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#c9a24d;font-size:1rem}.edit-form[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]   .section-subtitle[_ngcontent-%COMP%]{font-size:.85rem;font-weight:400;color:#0f172a80;margin-left:auto}.edit-form[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .section-content[_ngcontent-%COMP%]   .row.g-3[_ngcontent-%COMP%]{margin-left:0;margin-right:0}.edit-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:0}.edit-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-label[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;font-weight:500;color:#0f172a;margin-bottom:8px;font-size:.9rem}.edit-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-label[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#0e3a5d;font-size:.85rem}.edit-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{width:100%;padding:16px;border:2px solid rgba(14,58,93,.2);border-radius:8px;font-size:1rem;font-family:Cairo,sans-serif;transition:all .3s ease;background:#fff;color:#0f172a}.edit-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:focus{outline:none;border-color:#c9a24d;box-shadow:0 0 0 3px #c9a24d1a}.edit-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-control.invalid[_ngcontent-%COMP%]{border-color:#dc2626}.edit-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]::placeholder{color:#0f172a66}.edit-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-textarea[_ngcontent-%COMP%]{resize:vertical;min-height:80px}.edit-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]{display:block;color:#dc2626;font-size:.85rem;margin-top:4px;font-weight:500}.edit-form[_ngcontent-%COMP%]   .file-upload-container[_ngcontent-%COMP%]{position:relative}.edit-form[_ngcontent-%COMP%]   .file-upload-container[_ngcontent-%COMP%]   .file-input[_ngcontent-%COMP%]{position:absolute;opacity:0;width:0;height:0}.edit-form[_ngcontent-%COMP%]   .file-upload-container[_ngcontent-%COMP%]   .file-input[_ngcontent-%COMP%]:disabled{cursor:not-allowed}.edit-form[_ngcontent-%COMP%]   .file-upload-container[_ngcontent-%COMP%]   .file-label[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:8px;padding:16px;border:2px dashed rgba(14,58,93,.3);border-radius:8px;background:#f6f7f980;cursor:pointer;transition:all .3s ease;color:#0e3a5d;font-weight:500}.edit-form[_ngcontent-%COMP%]   .file-upload-container[_ngcontent-%COMP%]   .file-label[_ngcontent-%COMP%]:hover{border-color:#c9a24d;background:#c9a24d1a;color:#c9a24d}.edit-form[_ngcontent-%COMP%]   .file-upload-container[_ngcontent-%COMP%]   .file-label[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.1rem}.edit-form[_ngcontent-%COMP%]   .file-upload-container[_ngcontent-%COMP%]   .file-label.disabled[_ngcontent-%COMP%]{opacity:.6;cursor:not-allowed}.edit-form[_ngcontent-%COMP%]   .compression-indicator[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;padding:16px;margin-top:8px;background:#c9a24d1a;border-radius:8px;color:#c9a24d;font-size:.9rem;font-weight:500;font-family:Cairo,sans-serif}.edit-form[_ngcontent-%COMP%]   .compression-indicator[_ngcontent-%COMP%]   .spinner-border-sm[_ngcontent-%COMP%]{width:1rem;height:1rem;border-width:.15rem}.edit-form[_ngcontent-%COMP%]   .image-preview[_ngcontent-%COMP%]{position:relative;margin-top:16px;border-radius:8px;overflow:hidden;border:2px solid rgba(14,58,93,.2);max-width:100%}.edit-form[_ngcontent-%COMP%]   .image-preview[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto;display:block;max-height:300px;object-fit:contain}.edit-form[_ngcontent-%COMP%]   .image-preview[_ngcontent-%COMP%]   .btn-remove-image[_ngcontent-%COMP%]{position:absolute;top:8px;right:8px;background:#dc2626;color:#fff;border:none;border-radius:50%;width:30px;height:30px;display:flex;align-items:center;justify-content:center;cursor:pointer;transition:all .3s ease;box-shadow:0 4px 8px #00000026}.edit-form[_ngcontent-%COMP%]   .image-preview[_ngcontent-%COMP%]   .btn-remove-image[_ngcontent-%COMP%]:hover{background:#b21d1d;transform:scale(1.1)}.edit-form[_ngcontent-%COMP%]   .alert[_ngcontent-%COMP%]{padding:16px;border-radius:8px;margin-bottom:32px;display:flex;align-items:center;gap:8px;font-size:.9rem}.edit-form[_ngcontent-%COMP%]   .alert.alert-error[_ngcontent-%COMP%]{background:#dc26261a;color:#dc2626;border:1px solid rgba(220,38,38,.3)}.edit-form[_ngcontent-%COMP%]   .alert.alert-success[_ngcontent-%COMP%]{background:#16a34a1a;color:#16a34a;border:1px solid rgba(22,163,74,.3)}.edit-form[_ngcontent-%COMP%]   .alert[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1rem}.edit-form[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]{margin-top:64px;padding-top:32px;border-top:1px solid rgba(14,58,93,.1)}.edit-form[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .btn-full[_ngcontent-%COMP%]{width:100%;padding:16px;font-size:1rem;font-weight:600;border-radius:8px;border:none;cursor:pointer;transition:all .3s ease;display:flex;align-items:center;justify-content:center;gap:8px;font-family:Cairo,sans-serif}.edit-form[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .btn-full[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.edit-form[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .btn-cancel[_ngcontent-%COMP%]{background:#0f172a1a;color:#0f172a;border:1px solid rgba(15,23,42,.2)}.edit-form[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .btn-cancel[_ngcontent-%COMP%]:hover:not(:disabled){background:#0f172a33;border-color:#0f172a4d}.edit-form[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .btn-submit[_ngcontent-%COMP%]{background:#c9a24d;color:#fff}.edit-form[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .btn-submit[_ngcontent-%COMP%]:hover:not(:disabled){background:#a8832f;transform:translateY(-2px);box-shadow:0 4px 8px #00000026}@media (max-width: 991.98px){.profile-edit-container[_ngcontent-%COMP%]{padding:32px 0}}@media (max-width: 767.98px){.edit-header[_ngcontent-%COMP%]   .edit-title[_ngcontent-%COMP%]{font-size:2rem}.edit-form[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]{padding:16px}}@media (max-width: 575.98px){.edit-header[_ngcontent-%COMP%]{padding-top:16px}.edit-header[_ngcontent-%COMP%]   .edit-title[_ngcontent-%COMP%]{font-size:1.5rem}.edit-form[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]{padding:8px}.edit-form[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{font-size:1rem}}"]})};var hi=class n{constructor(e,t){this.database=e;this.injector=t}sendNotificationToOrganization(e,t){return mo(Fe(()=>ae(this.injector,()=>{let i=pt(this.database,`organizations/${e}/notifications`);return se(Bm(i,ie(F({},t),{createdAt:new Date().toISOString(),isRead:!1})))})).pipe(K(()=>{})))}sendNotificationToAllOrganizations(e){return mo(Fe(()=>ae(this.injector,()=>{let t=pt(this.database,"organizations");return se(Fm(t)).pipe(K(i=>i.val()),K(i=>Object.keys(i)),K(i=>i.map(r=>this.sendNotificationToOrganization(r,e))),Ki())})).pipe(K(()=>{})))}sendApprovalNotification(e){return this.sendNotificationToOrganization(e,{title:"Organization Approved",message:"Your organization registration has been approved. You can now access the platform.",type:"approval"})}sendRejectionNotification(e,t){return this.sendNotificationToOrganization(e,{title:"Organization Registration Rejected",message:t||"Your organization registration has been rejected. Please contact support for more information.",type:"rejection"})}sendStatusNotification(e,t){return this.sendNotificationToOrganization(e,{title:"Status Update",message:t,type:"status"})}getNotificationsForOrganization(e){return Fe(()=>ae(this.injector,()=>{let t=pt(this.database,`organizations/${e}/notifications`),i=_M(t,mM("createdAt"));return new ee(r=>{Ui(i,o=>{let s=[];o.forEach(a=>{s.push(F({id:a.key||""},a.val()))}),s.sort((a,c)=>new Date(c.createdAt).getTime()-new Date(a.createdAt).getTime()),r.next(s)},o=>{r.error(o)})})}))}getNotificationForOrganization(e,t){return Fe(()=>ae(this.injector,()=>{let i=pt(this.database,`organizations/${e}/notifications/${t}`);return new ee(r=>{Ui(i,o=>{let s=o.val();s?r.next(F({id:t},s)):r.next(null)},o=>{r.error(o)})})}))}getUnreadNotifications(e){return Fe(()=>ae(this.injector,()=>{let t=pt(this.database,`organizations/${e}/notifications`),i=_M(t,mM("isRead"),p2(!1));return new ee(r=>{Ui(i,o=>{let s=[];o.forEach(a=>{s.push(F({id:a.key||""},a.val()))}),s.sort((a,c)=>new Date(c.createdAt).getTime()-new Date(a.createdAt).getTime()),r.next(s)},o=>{r.error(o)})})}))}getUnreadCount(e){return this.getUnreadNotifications(e).pipe(K(t=>t.length))}markAsRead(e,t){return mo(Fe(()=>ae(this.injector,()=>{let i=pt(this.database,`organizations/${e}/notifications/${t}`);return se(ll(i,{isRead:!0}))})).pipe(K(()=>{})))}markAllAsRead(e){return x(this,null,function*(){let i=(yield mo(this.getUnreadNotifications(e))).filter(r=>r.id).map(r=>this.markAsRead(e,r.id));yield Promise.all(i)})}deleteNotification(e,t){return mo(Fe(()=>ae(this.injector,()=>{let i=pt(this.database,`organizations/${e}/notifications/${t}`);return se(ba(i))})).pipe(K(()=>{})))}deleteAllNotifications(e){return mo(Fe(()=>ae(this.injector,()=>{let t=pt(this.database,`organizations/${e}/notifications`);return se(ba(t))})).pipe(K(()=>{})))}makeNotificationSound(){try{let e=["assets/sounds/notification.mp3","../../../../assets/sounds/notification.mp3","/assets/sounds/notification.mp3"],t=!1;for(let i of e)try{let r=new Audio(i);if(r.volume=.7,r.play().then(()=>{t=!0,console.log("Notification sound played successfully")}).catch(o=>{!t&&e.indexOf(i)===e.length-1&&console.log("Could not play notification sound - user interaction may be required:",o)}),t)break}catch{continue}t||this.playFallbackSound()}catch(e){console.log("Could not play notification sound:",e),this.playFallbackSound()}}playFallbackSound(){try{let e=new(window.AudioContext||window.webkitAudioContext),t=e.createOscillator(),i=e.createGain();t.connect(i),i.connect(e.destination),t.frequency.value=800,t.type="sine",i.gain.setValueAtTime(.3,e.currentTime),i.gain.exponentialRampToValueAtTime(.01,e.currentTime+.3),t.start(e.currentTime),t.stop(e.currentTime+.3)}catch(e){console.log("Could not play fallback notification sound:",e)}}static \u0275fac=function(t){return new(t||n)(q(Vi),q(Be))};static \u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})};var TY=n=>["/notification",n],AY=(n,e)=>e.id;function kY(n,e){if(n&1&&(m(0,"div",9),M(1,"i",12),m(2,"span"),v(3),b(4,"translate"),_()()),n&2){let t=R();p(3),Oi("",t.unreadCount," ",C(4,2,"notifications.unread"))}}function RY(n,e){n&1&&(m(0,"div",10)(1,"div",13)(2,"span",14),v(3),b(4,"translate"),_()(),m(5,"p",15),v(6),b(7,"translate"),_()()),n&2&&(p(3),O(C(4,2,"notifications.loading")),p(3),O(C(7,4,"notifications.loading")))}function NY(n,e){if(n&1&&(m(0,"div",11),M(1,"i",16),v(2),b(3,"translate"),_()),n&2){let t=R();p(2),P(" ",C(3,1,t.errorMessage)," ")}}function LY(n,e){if(n&1){let t=Re();m(0,"button",29),H("click",function(){X(t);let r=R(2);return J(r.markAllAsRead())}),M(1,"i",30),v(2),b(3,"translate"),_()}n&2&&(p(2),P(" ",C(3,1,"notifications.markAllRead")," "))}function FY(n,e){if(n&1){let t=Re();m(0,"button",31),H("click",function(){X(t);let r=R(2);return J(r.deleteAllNotifications())}),M(1,"i",32),v(2),b(3,"translate"),_()}n&2&&(p(2),P(" ",C(3,1,"notifications.deleteAll")," "))}function BY(n,e){n&1&&(m(0,"span",45),M(1,"i",12),v(2),b(3,"translate"),_()),n&2&&(p(2),P(" ",C(3,1,"notifications.unread")," "))}function jY(n,e){if(n&1){let t=Re();m(0,"button",49),b(1,"translate"),H("click",function(){X(t);let r=R().$implicit,o=R(3);return J(o.markAsRead(r))}),M(2,"i",50),_()}n&2&&V("title",C(1,1,"notifications.markAsRead"))}function VY(n,e){if(n&1){let t=Re();m(0,"div",34)(1,"div",35)(2,"div",36),M(3,"i",37),_(),m(4,"div",38)(5,"div",39)(6,"h3",40),v(7),_(),m(8,"span",41),v(9),_()(),m(10,"p",42),v(11),_(),m(12,"div",43)(13,"span",44),v(14),b(15,"translate"),_(),A(16,BY,4,3,"span",45),_()()(),m(17,"div",46),A(18,jY,3,3,"button",47),m(19,"button",48),b(20,"translate"),H("click",function(){let r=X(t).$implicit,o=R(3);return J(o.deleteNotification(r))}),M(21,"i",32),_()()()}if(n&2){let t=e.$implicit,i=R(3);Y("unread",!t.isRead),V("routerLink",$s(16,TY,t.id))("ngClass",i.getNotificationTypeClass(t.type)),p(3),V("ngClass",i.getNotificationIcon(t.type)),p(4),O(t.title),p(2),O(i.formatDate(t.createdAt)),p(2),O(t.message),p(3),O(C(15,12,"notifications.types."+t.type)),p(2),k(t.isRead?-1:16),p(2),k(t.isRead?-1:18),p(),V("title",C(20,14,"notifications.delete"))}}function UY(n,e){if(n&1&&(m(0,"div",27),dt(1,VY,22,18,"div",33,AY),_()),n&2){let t=R(2);p(),ft(t.filteredNotifications)}}function zY(n,e){n&1&&(m(0,"div",28),M(1,"i",51),m(2,"h3"),v(3),b(4,"translate"),_(),m(5,"p"),v(6),b(7,"translate"),_()()),n&2&&(p(3),O(C(4,2,"notifications.noNotifications")),p(3),O(C(7,4,"notifications.noNotificationsDescription")))}function $Y(n,e){if(n&1){let t=Re();m(0,"div",17)(1,"div",18)(2,"div",19)(3,"div",20)(4,"button",21),H("click",function(){X(t);let r=R();return J(r.onFilterChange("all"))}),m(5,"span"),v(6),b(7,"translate"),_(),m(8,"span",22),v(9),_()(),m(10,"button",21),H("click",function(){X(t);let r=R();return J(r.onFilterChange("unread"))}),m(11,"span"),v(12),b(13,"translate"),_(),m(14,"span",22),v(15),_()(),m(16,"button",21),H("click",function(){X(t);let r=R();return J(r.onFilterChange("read"))}),m(17,"span"),v(18),b(19,"translate"),_(),m(20,"span",22),v(21),_()()()(),m(22,"div",23)(23,"div",24),A(24,LY,4,3,"button",25),A(25,FY,4,3,"button",26),_()()()(),A(26,UY,3,0,"div",27)(27,zY,8,6,"div",28)}if(n&2){let t=R();p(4),Y("active",t.filterType==="all"),p(2),O(C(7,15,"notifications.all")),p(3),O(t.notifications.length),p(),Y("active",t.filterType==="unread"),p(2),O(C(13,17,"notifications.unread")),p(3),O(t.unreadCount),p(),Y("active",t.filterType==="read"),p(2),O(C(19,19,"notifications.read")),p(3),O(t.notifications.length-t.unreadCount),p(3),k(t.unreadCount>0?24:-1),p(),k(t.notifications.length>0?25:-1),p(),k(t.filteredNotifications.length>0?26:27)}}var o_=class n{constructor(e,t){this.notificationsService=e;this.authService=t}notifications=[];filteredNotifications=[];isLoading=!0;errorMessage="";unreadCount=0;filterType="all";destroy$=new de;ngOnInit(){this.loadNotifications(),this.loadUnreadCount()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}loadNotifications(){let e=this.authService.getCurrentUserId();if(!e){this.errorMessage="auth.profile.notAuthenticated",this.isLoading=!1;return}this.isLoading=!0,this.errorMessage="",this.notificationsService.getNotificationsForOrganization(e||"").pipe(Xe(this.destroy$)).subscribe({next:t=>{this.notifications=t,this.filterNotifications(),this.isLoading=!1},error:t=>{console.error("Error loading notifications:",t),this.errorMessage="notifications.loadError",this.isLoading=!1}})}loadUnreadCount(){let e=this.authService.getCurrentUserId();e&&this.notificationsService.getUnreadCount(e||"").pipe(Xe(this.destroy$)).subscribe({next:t=>{this.unreadCount=t},error:t=>{console.error("Error loading unread count:",t)}})}filterNotifications(){switch(this.filterType){case"unread":this.filteredNotifications=this.notifications.filter(e=>!e.isRead);break;case"read":this.filteredNotifications=this.notifications.filter(e=>e.isRead);break;default:this.filteredNotifications=this.notifications}}onFilterChange(e){this.filterType=e,this.filterNotifications()}markAsRead(e){if(!e.id||e.isRead)return;let t=this.authService.getCurrentUserId();t&&this.notificationsService.markAsRead(t||"",e.id).then(()=>{e.isRead=!0,this.loadUnreadCount()}).catch(i=>{console.error("Error marking notification as read:",i)})}markAllAsRead(){let e=this.authService.getCurrentUserId();e&&this.notificationsService.markAllAsRead(e||"").then(()=>{this.notifications.forEach(t=>t.isRead=!0),this.filterNotifications(),this.loadUnreadCount()}).catch(t=>{console.error("Error marking all as read:",t)})}deleteNotification(e){if(!e.id)return;let t=this.authService.getCurrentUserId();t&&this.notificationsService.deleteNotification(t||"",e.id).then(()=>{this.notifications=this.notifications.filter(i=>i.id!==e.id),this.filterNotifications(),this.loadUnreadCount()}).catch(i=>{console.error("Error deleting notification:",i)})}deleteAllNotifications(){let e=this.authService.getCurrentUserId();e&&this.notificationsService.deleteAllNotifications(e||"").then(()=>{this.notifications=[],this.filteredNotifications=[],this.unreadCount=0}).catch(t=>{console.error("Error deleting all notifications:",t)})}getNotificationIcon(e){switch(e){case"approval":return"fa-check-circle";case"rejection":return"fa-times-circle";case"status":return"fa-info-circle";case"verification":return"fa-shield-alt";default:return"fa-bell"}}getNotificationTypeClass(e){switch(e){case"approval":return"notification-approval";case"rejection":return"notification-rejection";case"status":return"notification-status";case"verification":return"notification-verification";default:return"notification-general"}}formatDate(e){if(!e)return"";let t=new Date(e),r=new Date().getTime()-t.getTime(),o=Math.floor(r/6e4),s=Math.floor(o/60),a=Math.floor(s/24);return o<1?"now":o<60?`${o}m ago`:s<24?`${s}h ago`:a<7?`${a}d ago`:t.toLocaleDateString("ar-EG",{year:"numeric",month:"short",day:"numeric"})}static \u0275fac=function(t){return new(t||n)(B(hi),B(Nt))};static \u0275cmp=me({type:n,selectors:[["app-notifications"]],decls:17,vars:10,consts:[[1,"notifications-container"],[1,"container"],[1,"notifications-header"],[1,"row","align-items-center"],[1,"col-12","col-md-8"],[1,"page-title"],[1,"fas","fa-bell"],[1,"page-subtitle"],[1,"col-12","col-md-4","text-md-end"],[1,"unread-badge"],[1,"loading-state"],[1,"alert","alert-error"],[1,"fas","fa-circle"],["role","status",1,"spinner-border","text-primary"],[1,"visually-hidden"],[1,"mt-3"],[1,"fas","fa-exclamation-circle"],[1,"notifications-controls"],[1,"row","g-3","align-items-center"],[1,"col-12","col-md-6"],[1,"filter-tabs"],["type","button",1,"filter-tab",3,"click"],[1,"count"],[1,"col-12","col-md-6","text-md-end"],[1,"action-buttons"],["type","button",1,"btn","btn-mark-all"],["type","button",1,"btn","btn-delete-all"],[1,"notifications-list"],[1,"empty-state"],["type","button",1,"btn","btn-mark-all",3,"click"],[1,"fas","fa-check-double"],["type","button",1,"btn","btn-delete-all",3,"click"],[1,"fas","fa-trash"],[1,"notification-item",3,"routerLink","unread","ngClass"],[1,"notification-item",3,"routerLink","ngClass"],[1,"notification-content"],[1,"notification-icon"],[1,"fas",3,"ngClass"],[1,"notification-body"],[1,"notification-header"],[1,"notification-title"],[1,"notification-time"],[1,"notification-message"],[1,"notification-footer"],[1,"notification-type"],[1,"unread-indicator"],[1,"notification-actions"],["type","button",1,"btn-action","btn-mark-read",3,"title"],["type","button",1,"btn-action","btn-delete",3,"click","title"],["type","button",1,"btn-action","btn-mark-read",3,"click","title"],[1,"fas","fa-check"],[1,"fas","fa-bell-slash"]],template:function(t,i){t&1&&(m(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h1",5),M(6,"i",6),v(7),b(8,"translate"),_(),m(9,"p",7),v(10),b(11,"translate"),_()(),m(12,"div",8),A(13,kY,5,4,"div",9),_()()(),A(14,RY,8,6,"div",10),A(15,NY,4,3,"div",11),A(16,$Y,28,21),_()()),t&2&&(p(7),P(" ",C(8,6,"notifications.title")," "),p(3),O(C(11,8,"notifications.subtitle")),p(3),k(i.unreadCount>0?13:-1),p(),k(i.isLoading?14:-1),p(),k(!i.isLoading&&i.errorMessage?15:-1),p(),k(!i.isLoading&&!i.errorMessage?16:-1))},dependencies:[Ie,jt,$e,Ye,Pe,Ne],styles:[".notifications-container[_ngcontent-%COMP%]{min-height:100vh;padding:64px 0;background:linear-gradient(135deg,#f3f1ec,#f6f7f9)}.notifications-container[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{padding:32px 16px}.notifications-header[_ngcontent-%COMP%]{margin-bottom:64px;padding-bottom:32px;border-bottom:2px solid rgba(14,58,93,.1)}.notifications-header[_ngcontent-%COMP%]   .page-title[_ngcontent-%COMP%]{font-size:2.5rem;font-weight:700;color:#0e3a5d;margin-bottom:8px;font-family:Cairo,sans-serif;display:flex;align-items:center;gap:16px}.notifications-header[_ngcontent-%COMP%]   .page-title[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#c9a24d;font-size:2rem}.notifications-header[_ngcontent-%COMP%]   .page-subtitle[_ngcontent-%COMP%]{font-size:1rem;color:#0f172a99;margin:0}.notifications-header[_ngcontent-%COMP%]   .unread-badge[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:8px;padding:8px 16px;background:#c9a24d1a;color:#c9a24d;border:1px solid rgba(201,162,77,.3);border-radius:8px;font-weight:600;font-size:.9rem;font-family:Cairo,sans-serif}.notifications-header[_ngcontent-%COMP%]   .unread-badge[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.6rem;animation:_ngcontent-%COMP%_pulse 2s infinite}@keyframes _ngcontent-%COMP%_pulse{0%,to{opacity:1}50%{opacity:.5}}.loading-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;min-height:400px;text-align:center}.loading-state[_ngcontent-%COMP%]   .spinner-border[_ngcontent-%COMP%]{width:3rem;height:3rem;border-width:.3rem}.loading-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#0f172ab3;font-size:1rem;margin:0}.alert-error[_ngcontent-%COMP%]{padding:32px;border-radius:8px;background:#dc26261a;color:#dc2626;border:1px solid rgba(220,38,38,.3);display:flex;align-items:center;gap:8px;font-size:1rem;margin-bottom:32px}.alert-error[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.2rem}.notifications-controls[_ngcontent-%COMP%]{margin-bottom:64px;padding:32px;background:#fff;border-radius:16px;box-shadow:0 4px 8px #00000026}.notifications-controls[_ngcontent-%COMP%]   .filter-tabs[_ngcontent-%COMP%]{display:flex;gap:8px;flex-wrap:wrap}.notifications-controls[_ngcontent-%COMP%]   .filter-tabs[_ngcontent-%COMP%]   .filter-tab[_ngcontent-%COMP%]{display:flex;align-items:center;gap:4px;padding:8px 16px;background:#0e3a5d0d;border:2px solid rgba(14,58,93,.2);border-radius:8px;color:#0f172ab3;font-weight:500;font-size:.9rem;font-family:Cairo,sans-serif;cursor:pointer;transition:all .3s ease}.notifications-controls[_ngcontent-%COMP%]   .filter-tabs[_ngcontent-%COMP%]   .filter-tab[_ngcontent-%COMP%]   .count[_ngcontent-%COMP%]{background:#0e3a5d1a;padding:2px 4px;border-radius:4px;font-weight:700;font-size:.85rem}.notifications-controls[_ngcontent-%COMP%]   .filter-tabs[_ngcontent-%COMP%]   .filter-tab[_ngcontent-%COMP%]:hover{border-color:#c9a24d;background:#c9a24d0d;color:#c9a24d}.notifications-controls[_ngcontent-%COMP%]   .filter-tabs[_ngcontent-%COMP%]   .filter-tab.active[_ngcontent-%COMP%]{background:#c9a24d;border-color:#c9a24d;color:#fff}.notifications-controls[_ngcontent-%COMP%]   .filter-tabs[_ngcontent-%COMP%]   .filter-tab.active[_ngcontent-%COMP%]   .count[_ngcontent-%COMP%]{background:#fff3;color:#fff}.notifications-controls[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]{display:flex;gap:8px;flex-wrap:wrap;justify-content:flex-end}.notifications-controls[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:8px;padding:8px 16px;border:none;border-radius:8px;font-weight:600;font-size:.9rem;font-family:Cairo,sans-serif;cursor:pointer;transition:all .3s ease}.notifications-controls[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.85rem}.notifications-controls[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .btn-mark-all[_ngcontent-%COMP%]{background:#16a34a1a;color:#16a34a;border:1px solid rgba(22,163,74,.3)}.notifications-controls[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .btn-mark-all[_ngcontent-%COMP%]:hover{background:#16a34a;color:#fff}.notifications-controls[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .btn-delete-all[_ngcontent-%COMP%]{background:#dc26261a;color:#dc2626;border:1px solid rgba(220,38,38,.3)}.notifications-controls[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .btn-delete-all[_ngcontent-%COMP%]:hover{background:#dc2626;color:#fff}.notifications-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px}.notification-item[_ngcontent-%COMP%]{background:#fff;border-radius:16px;padding:32px;box-shadow:0 4px 8px #00000026;border:2px solid rgba(14,58,93,.1);transition:all .3s ease;display:flex;justify-content:space-between;align-items:flex-start;gap:16px;cursor:pointer}.notification-item[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 8px 16px #0003;border-color:#c9a24d}.notification-item.unread[_ngcontent-%COMP%]{border-left:4px solid #C9A24D;background:linear-gradient(90deg,#c9a24d0d,#fff 5%)}.notification-item.notification-approval[_ngcontent-%COMP%]{border-left-color:#16a34a}.notification-item.notification-approval[_ngcontent-%COMP%]   .notification-icon[_ngcontent-%COMP%]{background:#16a34a1a;color:#16a34a}.notification-item.notification-rejection[_ngcontent-%COMP%]{border-left-color:#dc2626}.notification-item.notification-rejection[_ngcontent-%COMP%]   .notification-icon[_ngcontent-%COMP%]{background:#dc26261a;color:#dc2626}.notification-item.notification-status[_ngcontent-%COMP%]{border-left-color:#c9a24d}.notification-item.notification-status[_ngcontent-%COMP%]   .notification-icon[_ngcontent-%COMP%]{background:#c9a24d1a;color:#c9a24d}.notification-item.notification-verification[_ngcontent-%COMP%]{border-left-color:#0e3a5d}.notification-item.notification-verification[_ngcontent-%COMP%]   .notification-icon[_ngcontent-%COMP%]{background:#0e3a5d1a;color:#0e3a5d}.notification-item.notification-general[_ngcontent-%COMP%]{border-left-color:#0f172a4d}.notification-item.notification-general[_ngcontent-%COMP%]   .notification-icon[_ngcontent-%COMP%]{background:#0f172a1a;color:#0f172ab3}.notification-item[_ngcontent-%COMP%]   .notification-content[_ngcontent-%COMP%]{display:flex;gap:16px;flex:1}.notification-item[_ngcontent-%COMP%]   .notification-icon[_ngcontent-%COMP%]{width:48px;height:48px;border-radius:50%;display:flex;align-items:center;justify-content:center;flex-shrink:0}.notification-item[_ngcontent-%COMP%]   .notification-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.2rem}.notification-item[_ngcontent-%COMP%]   .notification-body[_ngcontent-%COMP%]{flex:1}.notification-item[_ngcontent-%COMP%]   .notification-body[_ngcontent-%COMP%]   .notification-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;gap:16px;margin-bottom:8px}.notification-item[_ngcontent-%COMP%]   .notification-body[_ngcontent-%COMP%]   .notification-header[_ngcontent-%COMP%]   .notification-title[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:700;color:#0e3a5d;margin:0;font-family:Cairo,sans-serif}.notification-item[_ngcontent-%COMP%]   .notification-body[_ngcontent-%COMP%]   .notification-header[_ngcontent-%COMP%]   .notification-time[_ngcontent-%COMP%]{font-size:.85rem;color:#0f172a80;white-space:nowrap}.notification-item[_ngcontent-%COMP%]   .notification-body[_ngcontent-%COMP%]   .notification-message[_ngcontent-%COMP%]{font-size:.95rem;color:#0f172acc;margin:0 0 8px;line-height:1.6}.notification-item[_ngcontent-%COMP%]   .notification-body[_ngcontent-%COMP%]   .notification-footer[_ngcontent-%COMP%]{display:flex;align-items:center;gap:16px;flex-wrap:wrap}.notification-item[_ngcontent-%COMP%]   .notification-body[_ngcontent-%COMP%]   .notification-footer[_ngcontent-%COMP%]   .notification-type[_ngcontent-%COMP%]{display:inline-flex;align-items:center;padding:2px 8px;background:#0e3a5d1a;color:#0e3a5d;border-radius:4px;font-size:.75rem;font-weight:600;font-family:Cairo,sans-serif}.notification-item[_ngcontent-%COMP%]   .notification-body[_ngcontent-%COMP%]   .notification-footer[_ngcontent-%COMP%]   .unread-indicator[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:4px;color:#c9a24d;font-size:.75rem;font-weight:600}.notification-item[_ngcontent-%COMP%]   .notification-body[_ngcontent-%COMP%]   .notification-footer[_ngcontent-%COMP%]   .unread-indicator[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.5rem}.notification-item[_ngcontent-%COMP%]   .notification-actions[_ngcontent-%COMP%]{display:flex;gap:4px;flex-shrink:0}.notification-item[_ngcontent-%COMP%]   .notification-actions[_ngcontent-%COMP%]   .btn-action[_ngcontent-%COMP%]{width:36px;height:36px;border:none;border-radius:8px;display:flex;align-items:center;justify-content:center;cursor:pointer;transition:all .3s ease;font-size:.9rem}.notification-item[_ngcontent-%COMP%]   .notification-actions[_ngcontent-%COMP%]   .btn-action[_ngcontent-%COMP%]:hover{transform:scale(1.1)}.notification-item[_ngcontent-%COMP%]   .notification-actions[_ngcontent-%COMP%]   .btn-mark-read[_ngcontent-%COMP%]{background:#16a34a1a;color:#16a34a}.notification-item[_ngcontent-%COMP%]   .notification-actions[_ngcontent-%COMP%]   .btn-mark-read[_ngcontent-%COMP%]:hover{background:#16a34a;color:#fff}.notification-item[_ngcontent-%COMP%]   .notification-actions[_ngcontent-%COMP%]   .btn-delete[_ngcontent-%COMP%]{background:#dc26261a;color:#dc2626}.notification-item[_ngcontent-%COMP%]   .notification-actions[_ngcontent-%COMP%]   .btn-delete[_ngcontent-%COMP%]:hover{background:#dc2626;color:#fff}.empty-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;min-height:400px;text-align:center;padding:64px;background:#fff;border-radius:16px;box-shadow:0 4px 8px #00000026}.empty-state[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:4rem;color:#0f172a4d;margin-bottom:32px}.empty-state[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;color:#0e3a5d;margin-bottom:16px;font-family:Cairo,sans-serif}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem;color:#0f172a99;margin:0;font-family:Cairo,sans-serif}@media (max-width: 991.98px){.notifications-container[_ngcontent-%COMP%]{padding:32px 0}.notifications-header[_ngcontent-%COMP%]   .page-title[_ngcontent-%COMP%]{font-size:2rem}}@media (max-width: 767.98px){.notifications-header[_ngcontent-%COMP%]   .page-title[_ngcontent-%COMP%], .notifications-header[_ngcontent-%COMP%]   .page-title[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.5rem}.notifications-controls[_ngcontent-%COMP%]   .filter-tabs[_ngcontent-%COMP%]   .filter-tab[_ngcontent-%COMP%]{font-size:.85rem;padding:4px 8px}.notifications-controls[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]{justify-content:flex-start;margin-top:16px}.notification-item[_ngcontent-%COMP%]{flex-direction:column}.notification-item[_ngcontent-%COMP%]   .notification-actions[_ngcontent-%COMP%]{align-self:flex-end}}"]})};var us=ms(cs());var ls=class n{constructor(e,t){this.database=e;this.injector=t}createSubscription(e,t){return Fe(()=>ae(this.injector,()=>{let i=pt(this.database,`platformSubscriptions/${e}`),r={startDate:t.startDate,endDate:t.endDate,subscriptionPlan:t.subscriptionPlan,imageOfBankTransfer:t.imageOfBankTransfer,status:"pending",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};return se(Bm(i,r)).pipe(K(o=>{let s=o.key||"";return ie(F({},r),{subscriptionId:s})}))}))}updateSubscription(e,t,i){return Fe(()=>ae(this.injector,()=>{let r=pt(this.database,`platformSubscriptions/${e}/${t}`),o=ie(F({},i),{updatedAt:new Date().toISOString()});return se(ll(r,o))}))}approveSubscription(e,t){return this.updateSubscription(e,t,{status:"approved"})}rejectSubscription(e,t){return this.updateSubscription(e,t,{status:"rejected"})}deleteSubscription(e,t){return Fe(()=>ae(this.injector,()=>{let i=pt(this.database,`platformSubscriptions/${e}/${t}`);return se(ba(i))}))}getSubscriptions(e){return Fe(()=>ae(this.injector,()=>{let t=pt(this.database,`platformSubscriptions/${e}`);return new ee(i=>{Ui(t,r=>{if(!r.exists()){i.next([]);return}let o=r.val(),s=[];Object.keys(o).forEach(a=>{s.push(ie(F({},o[a]),{subscriptionId:a}))}),s.sort((a,c)=>new Date(c.createdAt).getTime()-new Date(a.createdAt).getTime()),i.next(s)},r=>{console.error("Error fetching subscriptions:",r),i.error(r)})})}))}getSubscriptionsOnce(e){return Fe(()=>ae(this.injector,()=>{let t=pt(this.database,`platformSubscriptions/${e}`);return se(Fm(t)).pipe(K(i=>{if(!i.exists())return[];let r=i.val(),o=[];return Object.keys(r).forEach(s=>{o.push(ie(F({},r[s]),{subscriptionId:s}))}),o.sort((s,a)=>new Date(a.createdAt).getTime()-new Date(s.createdAt).getTime()),o}))}))}getLastSubscription(e){return this.getSubscriptions(e).pipe(K(t=>t.length===0?null:t[0]))}getSubscriptionById(e,t){return this.getSubscriptions(e).pipe(K(i=>i.find(o=>o.subscriptionId===t)||null))}getSubscriptionByStatus(e,t){return this.getSubscriptions(e).pipe(K(i=>i.filter(r=>r.status===t)))}getSubscriptionByStartDate(e,t){return this.getSubscriptions(e).pipe(K(i=>i.filter(r=>r.startDate===t)))}getSubscriptionByEndDate(e,t){return this.getSubscriptions(e).pipe(K(i=>i.filter(r=>r.endDate===t)))}getSubscriptionByCreatedAt(e,t){return this.getSubscriptions(e).pipe(K(i=>i.filter(r=>r.createdAt===t)))}getSubscriptionByUpdatedAt(e,t){return this.getSubscriptions(e).pipe(K(i=>i.filter(r=>r.updatedAt===t)))}hasActiveSubscription(e){return this.getLastSubscription(e).pipe(K(t=>{if(!t||t.status!=="approved")return!1;let i=new Date,r=new Date(t.startDate),o=new Date(t.endDate);return i>=r&&i<=o}))}isSubscriptionExpired(e){return this.getLastSubscription(e).pipe(K(t=>{if(!t||t.status!=="approved")return!0;let i=new Date,r=new Date(t.endDate);return i>r}))}getSubscriptionStatusSummary(e){return this.getLastSubscription(e).pipe(K(t=>{if(!t)return"none";if(t.status==="pending")return"pending";if(t.status==="rejected")return"rejected";let i=new Date,r=new Date(t.startDate),o=new Date(t.endDate);return i<r?"pending":i>o?"expired":"active"}))}static \u0275fac=function(t){return new(t||n)(q(Vi),q(Be))};static \u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})};var HY=n=>({"is-last":n}),WY=(n,e)=>e.subscriptionId;function GY(n,e){n&1&&(m(0,"div",2)(1,"div",5)(2,"span",6),v(3),b(4,"translate"),_()(),m(5,"p",7),v(6),b(7,"translate"),_()()),n&2&&(p(3),O(C(4,2,"subscriptions.loading")),p(3),O(C(7,4,"subscriptions.loading")))}function qY(n,e){if(n&1&&(m(0,"div",3),M(1,"i",8),v(2),b(3,"translate"),_()),n&2){let t=R();p(2),P(" ",C(3,1,t.errorMessage)," ")}}function KY(n,e){if(n&1){let t=Re();m(0,"button",21),H("click",function(){X(t);let r=R(2);return J(r.showCreateForm())}),M(1,"i",22),m(2,"span"),v(3),b(4,"translate"),_()()}n&2&&(p(3),O(C(4,1,"subscriptions.createNew")))}function YY(n,e){if(n&1&&(m(0,"div",29)(1,"div",30)(2,"label",31),M(3,"i",40),v(4),b(5,"translate"),_(),m(6,"p",41),v(7),b(8,"translate"),_()()()),n&2){let t=R(3);p(4),P(" ",C(5,3,"subscriptions.daysRemaining")," "),p(3),Oi(" ",t.getDaysRemaining(t.lastSubscription)," ",C(8,5,"subscriptions.days")," ")}}function QY(n,e){if(n&1){let t=Re();m(0,"div",17)(1,"div",23)(2,"h3",24),M(3,"i",25),v(4),b(5,"translate"),_(),m(6,"span",26),M(7,"i",27),v(8),b(9,"translate"),_()(),m(10,"div",28)(11,"div",29)(12,"div",30)(13,"label",31),M(14,"i",32),v(15),b(16,"translate"),_(),m(17,"p",33),v(18),b(19,"translate"),_()()(),m(20,"div",29)(21,"div",30)(22,"label",31),M(23,"i",34),v(24),b(25,"translate"),_(),m(26,"p",33),v(27),_()()(),m(28,"div",29)(29,"div",30)(30,"label",31),M(31,"i",35),v(32),b(33,"translate"),_(),m(34,"p",33),v(35),_()()(),A(36,YY,9,7,"div",29),m(37,"div",36)(38,"div",30)(39,"label",31),M(40,"i",37),v(41),b(42,"translate"),_(),m(43,"div",38)(44,"img",39),H("click",function(){X(t);let r=R(2);return J(r.openImageModal(r.lastSubscription.imageOfBankTransfer))}),_()()()()()()}if(n&2){let t=R(2);p(4),P(" ",C(5,18,"subscriptions.currentSubscription")," "),p(2),V("ngClass",t.getStatusClass(t.lastSubscription.status)),p(),Y("fa-check-circle",t.lastSubscription.status==="approved")("fa-clock",t.lastSubscription.status==="pending")("fa-times-circle",t.lastSubscription.status==="rejected"),p(),P(" ",C(9,20,t.getStatusKey(t.lastSubscription.status))," "),p(7),P(" ",C(16,22,"subscriptions.plan")," "),p(3),O(C(19,24,t.getPlanKey(t.lastSubscription.subscriptionPlan))),p(6),P(" ",C(25,26,"subscriptions.startDate")," "),p(3),O(t.formatDate(t.lastSubscription.startDate)),p(5),P(" ",C(33,28,"subscriptions.endDate")," "),p(3),O(t.formatDate(t.lastSubscription.endDate)),p(),k(t.isSubscriptionActive(t.lastSubscription)?36:-1),p(5),P(" ",C(42,30,"subscriptions.bankTransferReceipt")," "),p(3),V("src",t.lastSubscription.imageOfBankTransfer,At)}}function ZY(n,e){if(n&1){let t=Re();m(0,"div",18)(1,"div",42),M(2,"i",13),m(3,"h4"),v(4),b(5,"translate"),_(),m(6,"p"),v(7),b(8,"translate"),_(),m(9,"button",21),H("click",function(){X(t);let r=R(2);return J(r.showCreateForm())}),M(10,"i",22),m(11,"span"),v(12),b(13,"translate"),_()()()()}n&2&&(p(4),O(C(5,3,"subscriptions.noSubscription")),p(3),O(C(8,5,"subscriptions.noSubscriptionDescription")),p(5),O(C(13,7,"subscriptions.createNew")))}function XY(n,e){n&1&&(m(0,"div",56),v(1),b(2,"translate"),_()),n&2&&(p(),P(" ",C(2,1,"subscriptions.planRequired")," "))}function JY(n,e){n&1&&(v(0),b(1,"translate")),n&2&&P(" ",C(1,1,"subscriptions.startDateRequired")," ")}function eQ(n,e){if(n&1&&(m(0,"div",56),A(1,JY,2,3),_()),n&2){let t=R(3);p(),k(!(t.startDate==null||t.startDate.errors==null)&&t.startDate.errors.required?1:-1)}}function tQ(n,e){n&1&&(v(0),b(1,"translate")),n&2&&P(" ",C(1,1,"subscriptions.endDateRequired")," ")}function nQ(n,e){n&1&&(v(0),b(1,"translate")),n&2&&P(" ",C(1,1,"subscriptions.endDateMustBeAfterStart")," ")}function iQ(n,e){n&1&&(v(0),b(1,"translate")),n&2&&P(" ",C(1,1,"subscriptions.monthlyDurationInvalid")," ")}function rQ(n,e){n&1&&(v(0),b(1,"translate")),n&2&&P(" ",C(1,1,"subscriptions.yearlyDurationInvalid")," ")}function oQ(n,e){if(n&1&&(m(0,"div",56),A(1,tQ,2,3),A(2,nQ,2,3),A(3,iQ,2,3),A(4,rQ,2,3),_()),n&2){let t=R(3);p(),k(!(t.endDate==null||t.endDate.errors==null)&&t.endDate.errors.required?1:-1),p(),k(!(t.endDate==null||t.endDate.errors==null)&&t.endDate.errors.dateRangeInvalid?2:-1),p(),k(!(t.endDate==null||t.endDate.errors==null)&&t.endDate.errors.monthlyDurationInvalid?3:-1),p(),k(!(t.endDate==null||t.endDate.errors==null)&&t.endDate.errors.yearlyDurationInvalid?4:-1)}}function sQ(n,e){n&1&&(M(0,"i",67),m(1,"span"),v(2),b(3,"translate"),_()),n&2&&(p(2),O(C(3,1,"subscriptions.compressing")))}function aQ(n,e){n&1&&(M(0,"i",68),m(1,"span"),v(2),b(3,"translate"),_()),n&2&&(p(2),O(C(3,1,"subscriptions.uploadReceipt")))}function cQ(n,e){n&1&&(m(0,"div",62)(1,"div",69)(2,"span",6),v(3),b(4,"translate"),_()(),m(5,"span",70),v(6),b(7,"translate"),_()()),n&2&&(p(3),O(C(4,2,"subscriptions.compressing")),p(3),O(C(7,4,"subscriptions.compressing")))}function lQ(n,e){if(n&1){let t=Re();m(0,"div",63),M(1,"img",71),m(2,"button",72),H("click",function(){X(t);let r=R(3);return J(r.removeBankTransfer())}),M(3,"i",47),_()()}if(n&2){let t=R(3);p(),V("src",t.bankTransferPreview,At)}}function uQ(n,e){n&1&&(m(0,"div",56),v(1),b(2,"translate"),_()),n&2&&(p(),P(" ",C(2,1,"subscriptions.bankTransferRequired")," "))}function dQ(n,e){n&1&&(M(0,"i",67),m(1,"span"),v(2),b(3,"translate"),_()),n&2&&(p(2),O(C(3,1,"subscriptions.submitting")))}function fQ(n,e){n&1&&(M(0,"i",73),m(1,"span"),v(2),b(3,"translate"),_()),n&2&&(p(2),O(C(3,1,"subscriptions.submitRequest")))}function pQ(n,e){if(n&1){let t=Re();m(0,"div",19)(1,"form",43),H("ngSubmit",function(){X(t);let r=R(2);return J(r.onSubmit())}),m(2,"div",44)(3,"h3"),M(4,"i",45),v(5),b(6,"translate"),_(),m(7,"button",46),H("click",function(){X(t);let r=R(2);return J(r.cancelForm())}),M(8,"i",47),_()(),m(9,"div",48)(10,"div",49)(11,"div",36)(12,"div",50)(13,"label",51),M(14,"i",32),v(15),b(16,"translate"),m(17,"span",52),v(18,"*"),_()(),m(19,"select",53),H("change",function(){X(t);let r=R(2);return J(r.onPlanChange())}),m(20,"option",54),v(21),b(22,"translate"),_(),m(23,"option",55),v(24),b(25,"translate"),_()(),A(26,XY,3,3,"div",56),_()(),m(27,"div",29)(28,"div",50)(29,"label",51),M(30,"i",34),v(31),b(32,"translate"),m(33,"span",52),v(34,"*"),_()(),m(35,"input",57),H("change",function(){X(t);let r=R(2);return J(r.onPlanChange())}),_(),A(36,eQ,2,1,"div",56),_()(),m(37,"div",29)(38,"div",50)(39,"label",51),M(40,"i",35),v(41),b(42,"translate"),m(43,"span",52),v(44,"*"),_()(),M(45,"input",58),A(46,oQ,5,4,"div",56),_()(),m(47,"div",36)(48,"div",50)(49,"label",51),M(50,"i",37),v(51),b(52,"translate"),m(53,"span",52),v(54,"*"),_()(),m(55,"div",59)(56,"input",60),H("change",function(r){X(t);let o=R(2);return J(o.onBankTransferSelected(r))}),_(),m(57,"label",61),A(58,sQ,4,3)(59,aQ,4,3),_()(),A(60,cQ,8,6,"div",62),A(61,lQ,4,1,"div",63),A(62,uQ,3,3,"div",56),_()(),m(63,"div",36)(64,"div",64)(65,"button",65),H("click",function(){X(t);let r=R(2);return J(r.cancelForm())}),M(66,"i",47),m(67,"span"),v(68),b(69,"translate"),_()(),m(70,"button",66),A(71,dQ,4,3)(72,fQ,4,3),_()()()()()()()}if(n&2){let t=R(2);p(),V("formGroup",t.subscriptionForm),p(4),P(" ",C(6,27,"subscriptions.createNewSubscription")," "),p(10),P(" ",C(16,29,"subscriptions.choosePlan")," "),p(4),Y("is-invalid",(t.subscriptionPlan==null?null:t.subscriptionPlan.invalid)&&(t.subscriptionPlan==null?null:t.subscriptionPlan.touched)),p(2),O(C(22,31,"subscriptions.plans.monthly")),p(3),O(C(25,33,"subscriptions.plans.yearly")),p(2),k(t.subscriptionPlan!=null&&t.subscriptionPlan.invalid&&(t.subscriptionPlan!=null&&t.subscriptionPlan.touched)?26:-1),p(5),P(" ",C(32,35,"subscriptions.startDate")," "),p(4),Y("is-invalid",(t.startDate==null?null:t.startDate.invalid)&&(t.startDate==null?null:t.startDate.touched)),p(),k(t.startDate!=null&&t.startDate.invalid&&(t.startDate!=null&&t.startDate.touched)?36:-1),p(5),P(" ",C(42,37,"subscriptions.endDate")," "),p(4),Y("is-invalid",(t.endDate==null?null:t.endDate.invalid)&&(t.endDate==null?null:t.endDate.touched)),p(),k(t.endDate!=null&&t.endDate.invalid&&(t.endDate!=null&&t.endDate.touched)?46:-1),p(5),P(" ",C(52,39,"subscriptions.bankTransferReceipt")," "),p(5),V("disabled",t.isCompressingImage),p(),Y("disabled",t.isCompressingImage),p(),k(t.isCompressingImage?58:59),p(2),k(t.isCompressingImage?60:-1),p(),k(t.bankTransferPreview&&!t.isCompressingImage?61:-1),p(),k(t.bankTransfer!=null&&t.bankTransfer.invalid&&(t.bankTransfer!=null&&t.bankTransfer.touched)?62:-1),p(6),O(C(69,41,"subscriptions.cancel")),p(2),V("disabled",t.subscriptionForm.invalid||t.isSubmitting),p(),k(t.isSubmitting?71:72)}}function hQ(n,e){if(n&1&&(m(0,"div",83)(1,"small",84),v(2),b(3,"translate"),_(),m(4,"p",86),v(5),b(6,"translate"),_()()),n&2){let t=R().$implicit,i=R(3);p(2),O(C(3,3,"subscriptions.daysRemaining")),p(3),Oi(" ",i.getDaysRemaining(t)," ",C(6,5,"subscriptions.days")," ")}}function gQ(n,e){if(n&1&&(m(0,"div",77)(1,"div",78)(2,"div",79)(3,"h4"),M(4,"i",32),v(5),b(6,"translate"),_(),m(7,"span",26),v(8),b(9,"translate"),_()(),m(10,"span",80),v(11),_()(),m(12,"div",81)(13,"div",82)(14,"div",83)(15,"small",84),v(16),b(17,"translate"),_(),m(18,"p",85),v(19),_()(),m(20,"div",83)(21,"small",84),v(22),b(23,"translate"),_(),m(24,"p",85),v(25),_()(),A(26,hQ,7,7,"div",83),_()()()),n&2){let t=e.$implicit,i=R(3);V("ngClass",$s(18,HY,t.subscriptionId===(i.lastSubscription==null?null:i.lastSubscription.subscriptionId))),p(5),P(" ",C(6,10,i.getPlanKey(t.subscriptionPlan))," "),p(2),V("ngClass",i.getStatusClass(t.status)),p(),P(" ",C(9,12,i.getStatusKey(t.status))," "),p(3),P(" ",i.formatDate(t.createdAt)," "),p(5),O(C(17,14,"subscriptions.startDate")),p(3),O(i.formatDate(t.startDate)),p(3),O(C(23,16,"subscriptions.endDate")),p(3),O(i.formatDate(t.endDate)),p(),k(i.isSubscriptionActive(t)?26:-1)}}function mQ(n,e){if(n&1&&(m(0,"div",20)(1,"h3",74),M(2,"i",75),v(3),b(4,"translate"),_(),m(5,"div",76),dt(6,gQ,27,20,"div",77,WY),_()()),n&2){let t=R(2);p(3),P(" ",C(4,1,"subscriptions.history")," "),p(3),ft(t.allSubscriptions)}}function _Q(n,e){if(n&1&&(m(0,"div",4)(1,"div",9)(2,"div",10)(3,"div",11)(4,"h2",12),M(5,"i",13),v(6),b(7,"translate"),_(),m(8,"p",14),v(9),b(10,"translate"),_()(),m(11,"div",15),A(12,KY,5,3,"button",16),_()()(),A(13,QY,45,32,"div",17),A(14,ZY,14,9,"div",18),A(15,pQ,73,43,"div",19),A(16,mQ,8,3,"div",20),_()),n&2){let t=R();p(6),P(" ",C(7,7,"subscriptions.mySubscriptions")," "),p(3),O(C(10,9,"subscriptions.mySubscriptionsDescription")),p(3),k(t.showForm?-1:12),p(),k(t.lastSubscription&&!t.showForm?13:-1),p(),k(!t.lastSubscription&&!t.showForm?14:-1),p(),k(t.showForm?15:-1),p(),k(!t.showForm&&t.allSubscriptions.length>0?16:-1)}}var s_=class n{constructor(e,t,i){this.fb=e;this.platformSubscriptions=t;this.authService=i}organizationId="";lastSubscription=null;allSubscriptions=[];isLoading=!1;isSubmitting=!1;isCompressingImage=!1;showForm=!1;errorMessage="";bankTransferPreview=null;bankTransferBase64=null;subscriptionForm;destroy$=new de;ngOnInit(){let e=this.authService.getCurrentUserId();if(!e){this.errorMessage="subscriptions.notAuthenticated";return}this.organizationId=e||"",this.initializeForm(),this.loadSubscriptions()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}initializeForm(){this.subscriptionForm=this.fb.group({subscriptionPlan:["monthly",[De.required]],startDate:["",[De.required]],endDate:["",[De.required]],bankTransfer:["",[De.required]]},{validators:this.dateRangeValidator})}dateRangeValidator(e){let t=e.get("startDate"),i=e.get("endDate"),r=e.get("subscriptionPlan");if(t&&i&&t.value&&i.value){let o=new Date(t.value),s=new Date(i.value);if(s<=o)return i.setErrors({dateRangeInvalid:!0}),{dateRangeInvalid:!0};if(r?.value){let a=Math.ceil((s.getTime()-o.getTime())/864e5);if(r.value==="monthly"&&a!==30)return i.setErrors({monthlyDurationInvalid:!0}),{monthlyDurationInvalid:!0};if(r.value==="yearly"&&a!==365)return i.setErrors({yearlyDurationInvalid:!0}),{yearlyDurationInvalid:!0}}}return null}loadSubscriptions(){this.organizationId&&(this.isLoading=!0,this.errorMessage="",this.platformSubscriptions.getSubscriptions(this.organizationId).pipe(Xe(this.destroy$)).subscribe({next:e=>{this.allSubscriptions=e,this.platformSubscriptions.getLastSubscription(this.organizationId).pipe(Xe(this.destroy$)).subscribe({next:t=>{this.lastSubscription=t,this.isLoading=!1},error:t=>{console.error("Error loading last subscription:",t),this.isLoading=!1}})},error:e=>{console.error("Error loading subscriptions:",e),this.errorMessage="subscriptions.loadError",this.isLoading=!1}}))}compressAndResizeImage(e){return new Promise((t,i)=>{let r=new FileReader;r.onload=o=>{let s=new Image;s.onload=()=>{let c=s.width,l=s.height;c>600&&(l=l*600/c,c=600);let h=document.createElement("canvas");h.width=c,h.height=l;let f=h.getContext("2d");if(!f){i(new Error("Could not get canvas context"));return}f.drawImage(s,0,0,c,l);let w=h.toDataURL("image/jpeg",.45);t(w)},s.onerror=()=>{i(new Error("Failed to load image"))},s.src=o.target?.result},r.onerror=()=>{i(new Error("Failed to read file"))},r.readAsDataURL(e)})}onBankTransferSelected(e){let i=e.target.files?.[0];if(i){if(!i.type.startsWith("image/")){us.default.fire({icon:"error",title:"\u062E\u0637\u0623",text:"\u064A\u0631\u062C\u0649 \u0627\u062E\u062A\u064A\u0627\u0631 \u0645\u0644\u0641 \u0635\u0648\u0631\u0629 \u0641\u0642\u0637.",confirmButtonText:"\u062D\u0633\u0646\u0627\u064B",confirmButtonColor:"#DC2626"});return}if(i.size>5*1024*1024){us.default.fire({icon:"error",title:"\u062E\u0637\u0623",text:"\u062D\u062C\u0645 \u0627\u0644\u0635\u0648\u0631\u0629 \u0643\u0628\u064A\u0631 \u062C\u062F\u0627\u064B. \u0627\u0644\u062D\u062F \u0627\u0644\u0623\u0642\u0635\u0649 5 \u0645\u064A\u062C\u0627\u0628\u0627\u064A\u062A.",confirmButtonText:"\u062D\u0633\u0646\u0627\u064B",confirmButtonColor:"#DC2626"});return}this.isCompressingImage=!0,this.compressAndResizeImage(i).then(r=>{this.bankTransferBase64=r,this.bankTransferPreview=r,this.subscriptionForm.patchValue({bankTransfer:"selected"}),this.isCompressingImage=!1}).catch(r=>{console.error("Error compressing image:",r),this.isCompressingImage=!1,us.default.fire({icon:"error",title:"\u062E\u0637\u0623",text:"\u062D\u062F\u062B \u062E\u0637\u0623 \u0623\u062B\u0646\u0627\u0621 \u0645\u0639\u0627\u0644\u062C\u0629 \u0627\u0644\u0635\u0648\u0631\u0629. \u064A\u0631\u062C\u0649 \u0627\u0644\u0645\u062D\u0627\u0648\u0644\u0629 \u0645\u0631\u0629 \u0623\u062E\u0631\u0649.",confirmButtonText:"\u062D\u0633\u0646\u0627\u064B",confirmButtonColor:"#DC2626"})})}}removeBankTransfer(){this.bankTransferPreview=null,this.bankTransferBase64=null,this.subscriptionForm.patchValue({bankTransfer:""});let e=document.getElementById("bankTransfer");e&&(e.value="")}showCreateForm(){this.subscriptionForm.reset({subscriptionPlan:"monthly",startDate:"",endDate:"",bankTransfer:""}),this.bankTransferPreview=null,this.bankTransferBase64=null,this.showForm=!0,this.errorMessage=""}cancelForm(){this.showForm=!1,this.errorMessage="",this.bankTransferPreview=null,this.bankTransferBase64=null,this.subscriptionForm.reset({subscriptionPlan:"monthly",startDate:"",endDate:"",bankTransfer:""})}onPlanChange(){let e=this.subscriptionForm.get("subscriptionPlan")?.value,t=this.subscriptionForm.get("startDate")?.value;if(e&&t){let i=new Date(t),r;e==="monthly"?(r=new Date(i),r.setMonth(r.getMonth()+1)):(r=new Date(i),r.setFullYear(r.getFullYear()+1)),this.subscriptionForm.patchValue({endDate:r.toISOString().split("T")[0]})}}onSubmit(){if(this.subscriptionForm.invalid){this.markFormGroupTouched(this.subscriptionForm);return}if(!this.bankTransferBase64){us.default.fire({icon:"warning",title:"\u062A\u062D\u0630\u064A\u0631",text:"\u064A\u0631\u062C\u0649 \u0631\u0641\u0639 \u0635\u0648\u0631\u0629 \u0625\u064A\u0635\u0627\u0644 \u0627\u0644\u062A\u062D\u0648\u064A\u0644 \u0627\u0644\u0628\u0646\u0643\u064A.",confirmButtonText:"\u062D\u0633\u0646\u0627\u064B",confirmButtonColor:"#D97706"});return}if(!this.organizationId){this.errorMessage="subscriptions.organizationIdRequired";return}this.isSubmitting=!0,this.errorMessage="";let{subscriptionPlan:e,startDate:t,endDate:i}=this.subscriptionForm.value,r=new Date(t).toISOString(),o=new Date(i).toISOString(),s={startDate:r,endDate:o,subscriptionPlan:e,imageOfBankTransfer:this.bankTransferBase64};this.platformSubscriptions.createSubscription(this.organizationId,s).pipe(Ze(a=>(this.isSubmitting=!1,console.error("Error creating subscription:",a),us.default.fire({icon:"error",title:"\u062E\u0637\u0623",text:"\u062D\u062F\u062B \u062E\u0637\u0623 \u0623\u062B\u0646\u0627\u0621 \u0625\u0646\u0634\u0627\u0621 \u0637\u0644\u0628 \u0627\u0644\u0627\u0634\u062A\u0631\u0627\u0643. \u064A\u0631\u062C\u0649 \u0627\u0644\u0645\u062D\u0627\u0648\u0644\u0629 \u0645\u0631\u0629 \u0623\u062E\u0631\u0649.",confirmButtonText:"\u062D\u0633\u0646\u0627\u064B",confirmButtonColor:"#DC2626"}),U(null)))).subscribe({next:a=>{a!==null&&(this.isSubmitting=!1,this.showForm=!1,this.bankTransferPreview=null,this.bankTransferBase64=null,us.default.fire({icon:"success",title:"\u062A\u0645 \u0625\u0631\u0633\u0627\u0644 \u0627\u0644\u0637\u0644\u0628 \u0628\u0646\u062C\u0627\u062D!",text:"\u062A\u0645 \u0625\u0631\u0633\u0627\u0644 \u0637\u0644\u0628 \u0627\u0644\u0627\u0634\u062A\u0631\u0627\u0643 \u0628\u0646\u062C\u0627\u062D. \u0633\u064A\u062A\u0645 \u0645\u0631\u0627\u062C\u0639\u062A\u0647 \u0645\u0646 \u0642\u0628\u0644 \u0627\u0644\u0645\u062F\u064A\u0631 \u0642\u0631\u064A\u0628\u0627\u064B.",confirmButtonText:"\u062D\u0633\u0646\u0627\u064B",confirmButtonColor:"#16A34A",timer:3e3,timerProgressBar:!0}),this.loadSubscriptions())}})}getStatusClass(e){switch(e){case"approved":return"badge-success";case"pending":return"badge-warning";case"rejected":return"badge-error";default:return"badge-secondary"}}getStatusKey(e){return`subscriptions.statusTypes.${e}`}getPlanKey(e){return`subscriptions.plans.${e}`}formatDate(e){return e?new Date(e).toLocaleDateString("ar-EG",{year:"numeric",month:"long",day:"numeric"}):""}isSubscriptionActive(e){if(e.status!=="approved")return!1;let t=new Date,i=new Date(e.startDate),r=new Date(e.endDate);return t>=i&&t<=r}getDaysRemaining(e){if(e.status!=="approved")return null;let t=new Date,r=new Date(e.endDate).getTime()-t.getTime();return Math.ceil(r/(1e3*60*60*24))}openImageModal(e){us.default.fire({imageUrl:e,imageAlt:"Bank Transfer Receipt",showCloseButton:!0,showConfirmButton:!1,width:"90%",padding:"0"})}markFormGroupTouched(e){Object.keys(e.controls).forEach(t=>{e.get(t)?.markAsTouched()})}get subscriptionPlan(){return this.subscriptionForm.get("subscriptionPlan")}get startDate(){return this.subscriptionForm.get("startDate")}get endDate(){return this.subscriptionForm.get("endDate")}get bankTransfer(){return this.subscriptionForm.get("bankTransfer")}static \u0275fac=function(t){return new(t||n)(B(Or),B(ls),B(Nt))};static \u0275cmp=me({type:n,selectors:[["app-my-subscriptions"]],decls:5,vars:3,consts:[[1,"my-subscriptions-container"],[1,"container"],[1,"loading-state"],[1,"alert","alert-error"],[1,"subscriptions-content","container"],["role","status",1,"spinner-border","text-primary"],[1,"visually-hidden"],[1,"mt-3"],[1,"fas","fa-exclamation-circle"],[1,"subscriptions-header"],[1,"row","align-items-center"],[1,"col-12","col-md-8"],[1,"page-title"],[1,"fas","fa-credit-card"],[1,"page-subtitle"],[1,"col-12","col-md-4","text-md-end"],["type","button","aria-label","Create new subscription",1,"btn","btn-create"],[1,"last-subscription-card"],[1,"no-subscription"],[1,"subscription-form-card"],[1,"subscription-history"],["type","button","aria-label","Create new subscription",1,"btn","btn-create",3,"click"],[1,"fas","fa-plus"],[1,"card-header-section"],[1,"card-title"],[1,"fas","fa-star"],[1,"status-badge",3,"ngClass"],[1,"fas"],[1,"row","g-3","mt-3"],[1,"col-12","col-md-6"],[1,"info-item"],[1,"info-label"],[1,"fas","fa-calendar-alt"],[1,"info-value"],[1,"fas","fa-calendar-plus"],[1,"fas","fa-calendar-minus"],[1,"col-12"],[1,"fas","fa-receipt"],[1,"receipt-preview"],["alt","Bank Transfer Receipt",2,"cursor","pointer",3,"click","src"],[1,"fas","fa-hourglass-half"],[1,"info-value","days-remaining"],[1,"empty-state"],[3,"ngSubmit","formGroup"],[1,"form-header"],[1,"fas","fa-plus-circle"],["type","button",1,"btn-close",3,"click"],[1,"fas","fa-times"],[1,"form-content"],[1,"row","g-3"],[1,"form-group"],[1,"form-label"],[1,"required"],["formControlName","subscriptionPlan",1,"form-control",3,"change"],["value","monthly"],["value","yearly"],[1,"invalid-feedback"],["type","date","formControlName","startDate",1,"form-control",3,"change"],["type","date","formControlName","endDate","readonly","",1,"form-control"],[1,"file-upload-area"],["type","file","id","bankTransfer","accept","image/*",1,"file-input",3,"change","disabled"],["for","bankTransfer",1,"file-label"],[1,"compression-indicator"],[1,"image-preview"],[1,"form-actions"],["type","button","aria-label","Cancel form",1,"btn","btn-cancel",3,"click"],["type","submit","aria-label","Submit subscription request",1,"btn","btn-submit",3,"disabled"],[1,"fas","fa-spinner","fa-spin"],[1,"fas","fa-cloud-upload-alt"],["role","status",1,"spinner-border","spinner-border-sm","text-primary"],[1,"ms-2"],["alt","Bank Transfer Receipt",3,"src"],["type","button",1,"btn-remove-image",3,"click"],[1,"fas","fa-check"],[1,"section-title"],[1,"fas","fa-history"],[1,"subscriptions-list"],[1,"subscription-item",3,"ngClass"],[1,"subscription-header"],[1,"subscription-info"],[1,"subscription-date"],[1,"subscription-details"],[1,"row","g-2"],[1,"col-6","col-md-3"],[1,"detail-label"],[1,"detail-value"],[1,"detail-value","days-remaining"]],template:function(t,i){t&1&&(m(0,"div",0)(1,"div",1),A(2,GY,8,6,"div",2),A(3,qY,4,3,"div",3),A(4,_Q,17,11,"div",4),_()()),t&2&&(p(2),k(i.isLoading?2:-1),p(),k(!i.isLoading&&i.errorMessage?3:-1),p(),k(!i.isLoading&&!i.errorMessage?4:-1))},dependencies:[Ie,jt,xr,Pr,Jm,e_,pi,ml,Mr,Ir,zi,$i,Pe,Ne],styles:[".my-subscriptions-container[_ngcontent-%COMP%]{width:100%;min-height:100vh;background:#f6f7f9;padding:64px}.loading-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;min-height:400px;text-align:center;padding:64px}.loading-state[_ngcontent-%COMP%]   .spinner-border[_ngcontent-%COMP%]{width:3rem;height:3rem;border-width:.3rem;color:#c9a24d}.loading-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#0f172ab3;font-size:1rem;margin-top:16px;font-family:Cairo,sans-serif}.alert-error[_ngcontent-%COMP%]{padding:16px 32px;border-radius:8px;background:#dc26261a;color:#dc2626;border:1px solid rgba(220,38,38,.3);display:flex;align-items:center;gap:8px;font-size:.95rem;margin-bottom:32px;font-family:Cairo,sans-serif}.alert-error[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.1rem}.subscriptions-content[_ngcontent-%COMP%]   .subscriptions-header[_ngcontent-%COMP%]{margin-bottom:64px;padding-bottom:16px;border-bottom:2px solid rgba(14,58,93,.1)}.subscriptions-content[_ngcontent-%COMP%]   .subscriptions-header[_ngcontent-%COMP%]   .page-title[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;color:#0e3a5d;margin-bottom:4px;font-family:Cairo,sans-serif;display:flex;align-items:center;gap:16px}.subscriptions-content[_ngcontent-%COMP%]   .subscriptions-header[_ngcontent-%COMP%]   .page-title[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#c9a24d;font-size:1.8rem}.subscriptions-content[_ngcontent-%COMP%]   .subscriptions-header[_ngcontent-%COMP%]   .page-subtitle[_ngcontent-%COMP%]{font-size:1rem;color:#0f172a99;margin:0;font-family:Cairo,sans-serif}.last-subscription-card[_ngcontent-%COMP%]{background:#fff;border-radius:16px;padding:64px;box-shadow:0 4px 8px #00000026;border:1px solid rgba(14,58,93,.1);margin-bottom:64px}.last-subscription-card[_ngcontent-%COMP%]   .card-header-section[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;flex-wrap:wrap;gap:16px;margin-bottom:32px;padding-bottom:16px;border-bottom:1px solid rgba(14,58,93,.1)}.last-subscription-card[_ngcontent-%COMP%]   .card-header-section[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;color:#0e3a5d;margin:0;font-family:Cairo,sans-serif;display:flex;align-items:center;gap:8px}.last-subscription-card[_ngcontent-%COMP%]   .card-header-section[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#c9a24d;font-size:1.3rem}.last-subscription-card[_ngcontent-%COMP%]   .card-header-section[_ngcontent-%COMP%]   .status-badge[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:4px;padding:4px 16px;border-radius:8px;font-weight:600;font-size:.9rem;font-family:Cairo,sans-serif}.last-subscription-card[_ngcontent-%COMP%]   .card-header-section[_ngcontent-%COMP%]   .status-badge.badge-success[_ngcontent-%COMP%]{background:#16a34a1a;color:#16a34a;border:1px solid rgba(22,163,74,.3)}.last-subscription-card[_ngcontent-%COMP%]   .card-header-section[_ngcontent-%COMP%]   .status-badge.badge-warning[_ngcontent-%COMP%]{background:#d977061a;color:#d97706;border:1px solid rgba(217,119,6,.3)}.last-subscription-card[_ngcontent-%COMP%]   .card-header-section[_ngcontent-%COMP%]   .status-badge.badge-error[_ngcontent-%COMP%]{background:#dc26261a;color:#dc2626;border:1px solid rgba(220,38,38,.3)}.last-subscription-card[_ngcontent-%COMP%]   .card-header-section[_ngcontent-%COMP%]   .status-badge[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.85rem}.last-subscription-card[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]{margin-bottom:16px}.last-subscription-card[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]   .info-label[_ngcontent-%COMP%]{display:flex;align-items:center;gap:4px;font-weight:600;color:#0f172a;margin-bottom:4px;font-size:.9rem;font-family:Cairo,sans-serif}.last-subscription-card[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]   .info-label[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#0e3a5d;font-size:.85rem;width:18px}.last-subscription-card[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]   .info-value[_ngcontent-%COMP%]{color:#0f172acc;font-size:1rem;margin:0;padding-left:26px;font-family:Cairo,sans-serif}.last-subscription-card[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]   .info-value.days-remaining[_ngcontent-%COMP%]{color:#c9a24d;font-weight:700;font-size:1.1rem}.last-subscription-card[_ngcontent-%COMP%]   .receipt-preview[_ngcontent-%COMP%]{margin-top:8px;cursor:pointer;display:inline-block}.last-subscription-card[_ngcontent-%COMP%]   .receipt-preview[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;max-height:250px;border-radius:8px;border:1px solid rgba(14,58,93,.2);box-shadow:0 1px 2px #0000001a;transition:opacity .2s ease}.last-subscription-card[_ngcontent-%COMP%]   .receipt-preview[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:hover{opacity:.9}.no-subscription[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]{background:#fff;border-radius:16px;padding:128px;text-align:center;box-shadow:0 4px 8px #00000026;border:2px dashed rgba(14,58,93,.2);margin-bottom:64px}.no-subscription[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:4rem;color:#0f172a4d;margin-bottom:16px}.no-subscription[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;color:#0e3a5d;margin-bottom:16px;font-family:Cairo,sans-serif}.no-subscription[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem;color:#0f172a99;margin-bottom:32px;font-family:Cairo,sans-serif}.subscription-form-card[_ngcontent-%COMP%]{background:#fff;border-radius:16px;padding:64px;box-shadow:0 4px 8px #00000026;border:1px solid rgba(14,58,93,.1);margin-bottom:64px}.subscription-form-card[_ngcontent-%COMP%]   .form-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:32px;padding-bottom:16px;border-bottom:1px solid rgba(14,58,93,.1)}.subscription-form-card[_ngcontent-%COMP%]   .form-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;color:#0e3a5d;margin:0;font-family:Cairo,sans-serif;display:flex;align-items:center;gap:8px}.subscription-form-card[_ngcontent-%COMP%]   .form-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#c9a24d}.subscription-form-card[_ngcontent-%COMP%]   .form-header[_ngcontent-%COMP%]   .btn-close[_ngcontent-%COMP%]{width:32px;height:32px;border:none;background:#dc26261a;color:#dc2626;border-radius:50%;display:flex;align-items:center;justify-content:center;cursor:pointer;transition:background .2s ease}.subscription-form-card[_ngcontent-%COMP%]   .form-header[_ngcontent-%COMP%]   .btn-close[_ngcontent-%COMP%]:hover{background:#dc262633}.subscription-form-card[_ngcontent-%COMP%]   .form-content[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:32px}.subscription-form-card[_ngcontent-%COMP%]   .form-content[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-label[_ngcontent-%COMP%]{display:flex;align-items:center;gap:4px;font-weight:600;color:#0f172a;margin-bottom:8px;font-size:.95rem;font-family:Cairo,sans-serif}.subscription-form-card[_ngcontent-%COMP%]   .form-content[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-label[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#0e3a5d;font-size:.9rem}.subscription-form-card[_ngcontent-%COMP%]   .form-content[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-label[_ngcontent-%COMP%]   .required[_ngcontent-%COMP%]{color:#dc2626;margin-left:4px}.subscription-form-card[_ngcontent-%COMP%]   .form-content[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{width:100%;padding:8px 16px;border:1px solid rgba(14,58,93,.2);border-radius:8px;font-size:1rem;font-family:Cairo,sans-serif;transition:border-color .2s ease}.subscription-form-card[_ngcontent-%COMP%]   .form-content[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:focus{outline:none;border-color:#c9a24d;box-shadow:0 0 0 3px #c9a24d1a}.subscription-form-card[_ngcontent-%COMP%]   .form-content[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-control[readonly][_ngcontent-%COMP%]{background:#0f172a0d;cursor:not-allowed}.subscription-form-card[_ngcontent-%COMP%]   .form-content[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-control.is-invalid[_ngcontent-%COMP%]{border-color:#dc2626}.subscription-form-card[_ngcontent-%COMP%]   .form-content[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .invalid-feedback[_ngcontent-%COMP%]{display:block;color:#dc2626;font-size:.85rem;margin-top:4px;font-family:Cairo,sans-serif}.subscription-form-card[_ngcontent-%COMP%]   .form-content[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .file-upload-area[_ngcontent-%COMP%]{position:relative;margin-bottom:16px}.subscription-form-card[_ngcontent-%COMP%]   .form-content[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .file-upload-area[_ngcontent-%COMP%]   .file-input[_ngcontent-%COMP%]{position:absolute;opacity:0;width:0;height:0}.subscription-form-card[_ngcontent-%COMP%]   .form-content[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .file-upload-area[_ngcontent-%COMP%]   .file-input[_ngcontent-%COMP%]:disabled{cursor:not-allowed}.subscription-form-card[_ngcontent-%COMP%]   .form-content[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .file-upload-area[_ngcontent-%COMP%]   .file-label[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:64px;border:2px dashed rgba(14,58,93,.3);border-radius:8px;background:#f6f7f980;cursor:pointer;transition:all .2s ease;font-family:Cairo,sans-serif}.subscription-form-card[_ngcontent-%COMP%]   .form-content[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .file-upload-area[_ngcontent-%COMP%]   .file-label[_ngcontent-%COMP%]:hover{border-color:#c9a24d;background:#c9a24d0d}.subscription-form-card[_ngcontent-%COMP%]   .form-content[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .file-upload-area[_ngcontent-%COMP%]   .file-label[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:2.5rem;color:#0e3a5d;margin-bottom:8px}.subscription-form-card[_ngcontent-%COMP%]   .form-content[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .file-upload-area[_ngcontent-%COMP%]   .file-label[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#0f172ab3;font-weight:600}.subscription-form-card[_ngcontent-%COMP%]   .form-content[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .file-upload-area[_ngcontent-%COMP%]   .file-label.disabled[_ngcontent-%COMP%]{opacity:.6;cursor:not-allowed}.subscription-form-card[_ngcontent-%COMP%]   .form-content[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .compression-indicator[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;padding:16px;margin-top:8px;background:#c9a24d1a;border-radius:8px;color:#c9a24d;font-size:.9rem;font-weight:500;font-family:Cairo,sans-serif}.subscription-form-card[_ngcontent-%COMP%]   .form-content[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .compression-indicator[_ngcontent-%COMP%]   .spinner-border-sm[_ngcontent-%COMP%]{width:1rem;height:1rem;border-width:.15rem}.subscription-form-card[_ngcontent-%COMP%]   .form-content[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .image-preview[_ngcontent-%COMP%]{position:relative;display:inline-block;margin-top:16px}.subscription-form-card[_ngcontent-%COMP%]   .form-content[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .image-preview[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;max-height:250px;border-radius:8px;border:1px solid rgba(14,58,93,.2);box-shadow:0 1px 2px #0000001a}.subscription-form-card[_ngcontent-%COMP%]   .form-content[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .image-preview[_ngcontent-%COMP%]   .btn-remove-image[_ngcontent-%COMP%]{position:absolute;top:-10px;right:-10px;width:32px;height:32px;border:none;background:#dc2626;color:#fff;border-radius:50%;display:flex;align-items:center;justify-content:center;cursor:pointer;box-shadow:0 1px 2px #0000001a;transition:background .2s ease}.subscription-form-card[_ngcontent-%COMP%]   .form-content[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .image-preview[_ngcontent-%COMP%]   .btn-remove-image[_ngcontent-%COMP%]:hover{background:#b21d1d}.subscription-form-card[_ngcontent-%COMP%]   .form-content[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]{display:flex;gap:16px;justify-content:flex-end;margin-top:32px;padding-top:16px;border-top:1px solid rgba(14,58,93,.1)}.subscription-history[_ngcontent-%COMP%]{margin-top:64px}.subscription-history[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;color:#0e3a5d;margin-bottom:32px;font-family:Cairo,sans-serif;display:flex;align-items:center;gap:8px}.subscription-history[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#c9a24d;font-size:1.3rem}.subscription-history[_ngcontent-%COMP%]   .subscriptions-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px}.subscription-history[_ngcontent-%COMP%]   .subscription-item[_ngcontent-%COMP%]{background:#fff;border-radius:16px;padding:32px;box-shadow:0 1px 2px #0000001a;border:1px solid rgba(14,58,93,.1);transition:box-shadow .2s ease}.subscription-history[_ngcontent-%COMP%]   .subscription-item[_ngcontent-%COMP%]:hover{box-shadow:0 4px 8px #00000026}.subscription-history[_ngcontent-%COMP%]   .subscription-item.is-last[_ngcontent-%COMP%]{border:2px solid rgba(201,162,77,.3);background:#c9a24d05}.subscription-history[_ngcontent-%COMP%]   .subscription-item[_ngcontent-%COMP%]   .subscription-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;flex-wrap:wrap;gap:16px;margin-bottom:16px;padding-bottom:16px;border-bottom:1px solid rgba(14,58,93,.1)}.subscription-history[_ngcontent-%COMP%]   .subscription-item[_ngcontent-%COMP%]   .subscription-header[_ngcontent-%COMP%]   .subscription-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px;flex:1}.subscription-history[_ngcontent-%COMP%]   .subscription-item[_ngcontent-%COMP%]   .subscription-header[_ngcontent-%COMP%]   .subscription-info[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1.2rem;font-weight:700;color:#0e3a5d;margin:0;font-family:Cairo,sans-serif;display:flex;align-items:center;gap:8px}.subscription-history[_ngcontent-%COMP%]   .subscription-item[_ngcontent-%COMP%]   .subscription-header[_ngcontent-%COMP%]   .subscription-info[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#c9a24d}.subscription-history[_ngcontent-%COMP%]   .subscription-item[_ngcontent-%COMP%]   .subscription-header[_ngcontent-%COMP%]   .subscription-info[_ngcontent-%COMP%]   .status-badge[_ngcontent-%COMP%]{display:inline-flex;align-items:center;padding:4px 16px;border-radius:8px;font-weight:600;font-size:.85rem;font-family:Cairo,sans-serif;width:fit-content}.subscription-history[_ngcontent-%COMP%]   .subscription-item[_ngcontent-%COMP%]   .subscription-header[_ngcontent-%COMP%]   .subscription-info[_ngcontent-%COMP%]   .status-badge.badge-success[_ngcontent-%COMP%]{background:#16a34a1a;color:#16a34a;border:1px solid rgba(22,163,74,.3)}.subscription-history[_ngcontent-%COMP%]   .subscription-item[_ngcontent-%COMP%]   .subscription-header[_ngcontent-%COMP%]   .subscription-info[_ngcontent-%COMP%]   .status-badge.badge-warning[_ngcontent-%COMP%]{background:#d977061a;color:#d97706;border:1px solid rgba(217,119,6,.3)}.subscription-history[_ngcontent-%COMP%]   .subscription-item[_ngcontent-%COMP%]   .subscription-header[_ngcontent-%COMP%]   .subscription-info[_ngcontent-%COMP%]   .status-badge.badge-error[_ngcontent-%COMP%]{background:#dc26261a;color:#dc2626;border:1px solid rgba(220,38,38,.3)}.subscription-history[_ngcontent-%COMP%]   .subscription-item[_ngcontent-%COMP%]   .subscription-header[_ngcontent-%COMP%]   .subscription-date[_ngcontent-%COMP%]{color:#0f172a99;font-size:.9rem;font-family:Cairo,sans-serif}.subscription-history[_ngcontent-%COMP%]   .subscription-item[_ngcontent-%COMP%]   .subscription-details[_ngcontent-%COMP%]   .detail-label[_ngcontent-%COMP%]{display:block;color:#0f172a99;font-size:.85rem;font-weight:600;margin-bottom:4px;font-family:Cairo,sans-serif}.subscription-history[_ngcontent-%COMP%]   .subscription-item[_ngcontent-%COMP%]   .subscription-details[_ngcontent-%COMP%]   .detail-value[_ngcontent-%COMP%]{color:#0f172a;font-size:.95rem;margin:0 0 16px;font-family:Cairo,sans-serif}.subscription-history[_ngcontent-%COMP%]   .subscription-item[_ngcontent-%COMP%]   .subscription-details[_ngcontent-%COMP%]   .detail-value.days-remaining[_ngcontent-%COMP%]{color:#c9a24d;font-weight:700}.btn[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:8px;padding:8px 32px;border:none;border-radius:8px;font-weight:600;font-size:1rem;font-family:Cairo,sans-serif;cursor:pointer;transition:all .2s ease;text-decoration:none}.btn[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.9rem}.btn.btn-create[_ngcontent-%COMP%]{background:#c9a24d;color:#fff}.btn.btn-create[_ngcontent-%COMP%]:hover:not(:disabled){background:#a8832f}.btn.btn-submit[_ngcontent-%COMP%]{background:#16a34a;color:#fff}.btn.btn-submit[_ngcontent-%COMP%]:hover:not(:disabled){background:#107636}.btn.btn-cancel[_ngcontent-%COMP%]{background:#0f172a1a;color:#0f172a}.btn.btn-cancel[_ngcontent-%COMP%]:hover:not(:disabled){background:#0f172a33}@media (max-width: 991.98px){.subscriptions-content[_ngcontent-%COMP%]{padding:0 8px}.last-subscription-card[_ngcontent-%COMP%], .subscription-form-card[_ngcontent-%COMP%]{padding:32px}}@media (max-width: 767.98px){.my-subscriptions-container[_ngcontent-%COMP%]{padding:16px 0}.subscriptions-content[_ngcontent-%COMP%]   .subscriptions-header[_ngcontent-%COMP%]   .page-title[_ngcontent-%COMP%]{font-size:1.5rem}.last-subscription-card[_ngcontent-%COMP%], .subscription-form-card[_ngcontent-%COMP%]{padding:16px}.card-header-section[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start}.form-actions[_ngcontent-%COMP%]{flex-direction:column}.form-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{width:100%;justify-content:center}.subscription-item[_ngcontent-%COMP%]   .subscription-header[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start}}"]})};var a_=ms(cs());function vQ(n,e){n&1&&(m(0,"div",5)(1,"div",8)(2,"span",9),v(3),b(4,"translate"),_()(),m(5,"p",10),v(6),b(7,"translate"),_()()),n&2&&(p(3),O(C(4,2,"notifications.loading")),p(3),O(C(7,4,"notifications.loading")))}function yQ(n,e){if(n&1&&(m(0,"div",6),M(1,"i",11),v(2),b(3,"translate"),_()),n&2){let t=R();p(2),P(" ",C(3,1,t.errorMessage)," ")}}function bQ(n,e){n&1&&(m(0,"span",25),M(1,"i",30),v(2),b(3,"translate"),_()),n&2&&(p(2),P(" ",C(3,1,"notifications.read")," "))}function CQ(n,e){n&1&&(m(0,"span",26),M(1,"i",31),v(2),b(3,"translate"),_()),n&2&&(p(2),P(" ",C(3,1,"notifications.unread")," "))}function wQ(n,e){if(n&1){let t=Re();m(0,"div",7)(1,"div",12)(2,"div",13)(3,"div",14),M(4,"i",15),_()(),m(5,"div",16)(6,"span",17),v(7),b(8,"translate"),_(),m(9,"span",18),M(10,"i",19),v(11),_()()(),m(12,"div",20)(13,"h1",21),v(14),_(),m(15,"div",22)(16,"p"),v(17),_()()(),m(18,"div",23)(19,"div",24),A(20,bQ,4,3,"span",25)(21,CQ,4,3,"span",26),_(),m(22,"div",27)(23,"button",28),b(24,"translate"),H("click",function(){X(t);let r=R();return J(r.deleteNotification())}),M(25,"i",29),v(26),b(27,"translate"),_()()()()}if(n&2){let t=R();V("ngClass",t.getNotificationTypeClass(t.notification.type)),p(3),V("ngClass",t.getNotificationTypeClass(t.notification.type)),p(),V("ngClass",t.getNotificationIcon(t.notification.type)),p(2),V("ngClass",t.getNotificationTypeClass(t.notification.type)),p(),P(" ",C(8,11,"notifications.types."+t.notification.type)," "),p(4),P(" ",t.formatDate(t.notification.createdAt)," "),p(3),O(t.notification.title),p(3),O(t.notification.message),p(3),k(t.notification.isRead?20:21),p(3),V("title",C(24,13,"notifications.delete")),p(3),P(" ",C(27,15,"notifications.delete")," ")}}var c_=class n{constructor(e,t,i,r){this.notificationsService=e;this.authService=t;this.route=i;this.router=r}notification=null;isLoading=!0;errorMessage="";notificationId=null;destroy$=new de;ngOnInit(){this.route.params.pipe(Xe(this.destroy$)).subscribe(e=>{this.notificationId=e.id,this.notificationId?this.loadNotification():(this.errorMessage="notifications.invalidId",this.isLoading=!1)})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}loadNotification(){let e=this.authService.getCurrentUserId();if(!e||!this.notificationId){this.errorMessage="auth.profile.notAuthenticated",this.isLoading=!1;return}this.isLoading=!0,this.errorMessage="",this.notificationsService.getNotificationForOrganization(e,this.notificationId).pipe(Xe(this.destroy$),Me(t=>t?(this.notification=t,!t.isRead&&t.id?this.notificationsService.markAsRead(e,t.id).then(()=>(this.notification&&(this.notification.isRead=!0),t)):U(t)):(this.errorMessage="notifications.notFound",this.isLoading=!1,U(null))),Ze(t=>(console.error("Error loading notification:",t),this.errorMessage="notifications.loadError",this.isLoading=!1,U(null)))).subscribe({next:()=>{this.isLoading=!1}})}deleteNotification(){this.notification?.id&&a_.default.fire({title:"Delete Notification?",text:"Are you sure you want to delete this notification?",icon:"warning",showCancelButton:!0,confirmButtonText:"Delete",cancelButtonText:"Cancel",confirmButtonColor:"#DC2626",cancelButtonColor:"#6B7280"}).then(e=>{if(e.isConfirmed){let t=this.authService.getCurrentUserId();if(!t||!this.notification?.id)return;this.notificationsService.deleteNotification(t,this.notification.id).then(()=>{a_.default.fire({icon:"success",title:"Deleted",text:"Notification deleted successfully",timer:1500,showConfirmButton:!1}),this.router.navigate(["/notifications"])}).catch(i=>{console.error("Error deleting notification:",i),a_.default.fire({icon:"error",title:"Error",text:"Failed to delete notification"})})}})}getNotificationIcon(e){switch(e){case"approval":return"fa-check-circle";case"rejection":return"fa-times-circle";case"status":return"fa-info-circle";case"verification":return"fa-shield-alt";default:return"fa-bell"}}getNotificationTypeClass(e){switch(e){case"approval":return"type-approval";case"rejection":return"type-rejection";case"status":return"type-status";case"verification":return"type-verification";default:return"type-general"}}formatDate(e){if(!e)return"";let t=new Date(e),r=new Date().getTime()-t.getTime(),o=Math.floor(r/6e4),s=Math.floor(o/60),a=Math.floor(s/24);return o<1?"Just now":o<60?`${o} minute${o>1?"s":""} ago`:s<24?`${s} hour${s>1?"s":""} ago`:a<7?`${a} day${a>1?"s":""} ago`:t.toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})}static \u0275fac=function(t){return new(t||n)(B(hi),B(Nt),B(qt),B(ze))};static \u0275cmp=me({type:n,selectors:[["app-notification"]],decls:10,vars:6,consts:[[1,"notification-detail"],[1,"container"],[1,"back-button"],["type","button","routerLink","/notifications",1,"btn","btn-back"],[1,"fas","fa-arrow-left"],[1,"loading-state"],[1,"alert","alert-error"],[1,"notification-card",3,"ngClass"],["role","status",1,"spinner-border","text-primary"],[1,"visually-hidden"],[1,"mt-3"],[1,"fas","fa-exclamation-circle"],[1,"notification-header"],[1,"notification-icon-wrapper"],[1,"notification-icon",3,"ngClass"],[1,"fas",3,"ngClass"],[1,"notification-meta"],[1,"notification-type-badge",3,"ngClass"],[1,"notification-time"],[1,"fas","fa-clock"],[1,"notification-content"],[1,"notification-title"],[1,"notification-message"],[1,"notification-footer"],[1,"notification-status"],[1,"status-badge","read"],[1,"status-badge","unread"],[1,"notification-actions"],["type","button",1,"btn","btn-delete",3,"click","title"],[1,"fas","fa-trash"],[1,"fas","fa-check-circle"],[1,"fas","fa-circle"]],template:function(t,i){t&1&&(m(0,"div",0)(1,"div",1)(2,"div",2)(3,"button",3),M(4,"i",4),v(5),b(6,"translate"),_()(),A(7,vQ,8,6,"div",5),A(8,yQ,4,3,"div",6),A(9,wQ,28,17,"div",7),_()()),t&2&&(p(5),P(" ",C(6,4,"notifications.back")," "),p(2),k(i.isLoading?7:-1),p(),k(!i.isLoading&&i.errorMessage?8:-1),p(),k(!i.isLoading&&!i.errorMessage&&i.notification?9:-1))},dependencies:[Ie,jt,$e,Ye,Pe,Ne],styles:[".notification-detail[_ngcontent-%COMP%]{min-height:100vh;padding:64px 0;background:linear-gradient(135deg,#f6f7f980,#fff)}.notification-detail[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{max-width:800px;margin:0 auto;padding:0 32px}.notification-detail[_ngcontent-%COMP%]   .back-button[_ngcontent-%COMP%]{margin-bottom:32px}.notification-detail[_ngcontent-%COMP%]   .back-button[_ngcontent-%COMP%]   .btn-back[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:8px;padding:8px 16px;background:#0f172a1a;color:#0f172a;border:1px solid rgba(15,23,42,.2);border-radius:8px;font-weight:600;font-size:.9rem;font-family:Cairo,sans-serif;cursor:pointer;transition:all .3s ease;text-decoration:none}.notification-detail[_ngcontent-%COMP%]   .back-button[_ngcontent-%COMP%]   .btn-back[_ngcontent-%COMP%]:hover{background:#0f172a33;border-color:#0f172a4d;transform:translate(-3px)}.notification-detail[_ngcontent-%COMP%]   .back-button[_ngcontent-%COMP%]   .btn-back[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.9rem}.notification-detail[_ngcontent-%COMP%]   .loading-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;min-height:400px;text-align:center}.notification-detail[_ngcontent-%COMP%]   .loading-state[_ngcontent-%COMP%]   .spinner-border[_ngcontent-%COMP%]{width:3rem;height:3rem;border-width:.3rem}.notification-detail[_ngcontent-%COMP%]   .loading-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#0f172ab3;font-size:1rem;margin:0}.notification-detail[_ngcontent-%COMP%]   .alert-error[_ngcontent-%COMP%]{padding:16px;border-radius:8px;margin-bottom:32px;display:flex;align-items:center;gap:8px;background:#dc26261a;color:#dc2626;border:1px solid rgba(220,38,38,.3);font-size:.9rem}.notification-detail[_ngcontent-%COMP%]   .alert-error[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1rem}.notification-detail[_ngcontent-%COMP%]   .notification-card[_ngcontent-%COMP%]{background:#fff;border-radius:16px;padding:64px;box-shadow:0 8px 16px #0003;border:2px solid rgba(14,58,93,.1);transition:all .3s ease}.notification-detail[_ngcontent-%COMP%]   .notification-card[_ngcontent-%COMP%]:hover{box-shadow:0 4px 8px #00000026;transform:translateY(-2px)}.notification-detail[_ngcontent-%COMP%]   .notification-card.type-approval[_ngcontent-%COMP%]{border-left:5px solid #16A34A}.notification-detail[_ngcontent-%COMP%]   .notification-card.type-rejection[_ngcontent-%COMP%]{border-left:5px solid #DC2626}.notification-detail[_ngcontent-%COMP%]   .notification-card.type-status[_ngcontent-%COMP%]{border-left:5px solid #C9A24D}.notification-detail[_ngcontent-%COMP%]   .notification-card.type-verification[_ngcontent-%COMP%]{border-left:5px solid #F59E0B}.notification-detail[_ngcontent-%COMP%]   .notification-card.type-general[_ngcontent-%COMP%]{border-left:5px solid rgba(14,58,93,.5)}.notification-detail[_ngcontent-%COMP%]   .notification-card[_ngcontent-%COMP%]   .notification-header[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:32px;margin-bottom:64px;padding-bottom:32px;border-bottom:2px solid rgba(14,58,93,.1)}.notification-detail[_ngcontent-%COMP%]   .notification-card[_ngcontent-%COMP%]   .notification-header[_ngcontent-%COMP%]   .notification-icon-wrapper[_ngcontent-%COMP%]{flex-shrink:0}.notification-detail[_ngcontent-%COMP%]   .notification-card[_ngcontent-%COMP%]   .notification-header[_ngcontent-%COMP%]   .notification-icon[_ngcontent-%COMP%]{width:70px;height:70px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:2rem;transition:all .3s ease}.notification-detail[_ngcontent-%COMP%]   .notification-card[_ngcontent-%COMP%]   .notification-header[_ngcontent-%COMP%]   .notification-icon.type-approval[_ngcontent-%COMP%]{background:#16a34a1a;color:#16a34a}.notification-detail[_ngcontent-%COMP%]   .notification-card[_ngcontent-%COMP%]   .notification-header[_ngcontent-%COMP%]   .notification-icon.type-rejection[_ngcontent-%COMP%]{background:#dc26261a;color:#dc2626}.notification-detail[_ngcontent-%COMP%]   .notification-card[_ngcontent-%COMP%]   .notification-header[_ngcontent-%COMP%]   .notification-icon.type-status[_ngcontent-%COMP%]{background:#c9a24d1a;color:#c9a24d}.notification-detail[_ngcontent-%COMP%]   .notification-card[_ngcontent-%COMP%]   .notification-header[_ngcontent-%COMP%]   .notification-icon.type-verification[_ngcontent-%COMP%]{background:#f59e0b1a;color:#f59e0b}.notification-detail[_ngcontent-%COMP%]   .notification-card[_ngcontent-%COMP%]   .notification-header[_ngcontent-%COMP%]   .notification-icon.type-general[_ngcontent-%COMP%]{background:#0e3a5d1a;color:#0e3a5d}.notification-detail[_ngcontent-%COMP%]   .notification-card[_ngcontent-%COMP%]   .notification-header[_ngcontent-%COMP%]   .notification-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:2rem}.notification-detail[_ngcontent-%COMP%]   .notification-card[_ngcontent-%COMP%]   .notification-header[_ngcontent-%COMP%]   .notification-meta[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;gap:8px}.notification-detail[_ngcontent-%COMP%]   .notification-card[_ngcontent-%COMP%]   .notification-header[_ngcontent-%COMP%]   .notification-meta[_ngcontent-%COMP%]   .notification-type-badge[_ngcontent-%COMP%]{display:inline-flex;align-items:center;padding:4px 16px;border-radius:8px;font-size:.85rem;font-weight:600;width:fit-content}.notification-detail[_ngcontent-%COMP%]   .notification-card[_ngcontent-%COMP%]   .notification-header[_ngcontent-%COMP%]   .notification-meta[_ngcontent-%COMP%]   .notification-type-badge.type-approval[_ngcontent-%COMP%]{background:#16a34a1a;color:#16a34a}.notification-detail[_ngcontent-%COMP%]   .notification-card[_ngcontent-%COMP%]   .notification-header[_ngcontent-%COMP%]   .notification-meta[_ngcontent-%COMP%]   .notification-type-badge.type-rejection[_ngcontent-%COMP%]{background:#dc26261a;color:#dc2626}.notification-detail[_ngcontent-%COMP%]   .notification-card[_ngcontent-%COMP%]   .notification-header[_ngcontent-%COMP%]   .notification-meta[_ngcontent-%COMP%]   .notification-type-badge.type-status[_ngcontent-%COMP%]{background:#c9a24d1a;color:#c9a24d}.notification-detail[_ngcontent-%COMP%]   .notification-card[_ngcontent-%COMP%]   .notification-header[_ngcontent-%COMP%]   .notification-meta[_ngcontent-%COMP%]   .notification-type-badge.type-verification[_ngcontent-%COMP%]{background:#f59e0b1a;color:#f59e0b}.notification-detail[_ngcontent-%COMP%]   .notification-card[_ngcontent-%COMP%]   .notification-header[_ngcontent-%COMP%]   .notification-meta[_ngcontent-%COMP%]   .notification-type-badge.type-general[_ngcontent-%COMP%]{background:#0e3a5d1a;color:#0e3a5d}.notification-detail[_ngcontent-%COMP%]   .notification-card[_ngcontent-%COMP%]   .notification-header[_ngcontent-%COMP%]   .notification-meta[_ngcontent-%COMP%]   .notification-time[_ngcontent-%COMP%]{display:flex;align-items:center;gap:4px;color:#0f172a99;font-size:.9rem}.notification-detail[_ngcontent-%COMP%]   .notification-card[_ngcontent-%COMP%]   .notification-header[_ngcontent-%COMP%]   .notification-meta[_ngcontent-%COMP%]   .notification-time[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.8rem}.notification-detail[_ngcontent-%COMP%]   .notification-card[_ngcontent-%COMP%]   .notification-content[_ngcontent-%COMP%]{margin-bottom:64px}.notification-detail[_ngcontent-%COMP%]   .notification-card[_ngcontent-%COMP%]   .notification-content[_ngcontent-%COMP%]   .notification-title[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;color:#0e3a5d;margin-bottom:32px;font-family:Cairo,sans-serif;line-height:1.3}.notification-detail[_ngcontent-%COMP%]   .notification-card[_ngcontent-%COMP%]   .notification-content[_ngcontent-%COMP%]   .notification-message[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.1rem;line-height:1.8;color:#0f172acc;margin:0;white-space:pre-wrap;word-wrap:break-word}.notification-detail[_ngcontent-%COMP%]   .notification-card[_ngcontent-%COMP%]   .notification-footer[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding-top:32px;border-top:2px solid rgba(14,58,93,.1)}.notification-detail[_ngcontent-%COMP%]   .notification-card[_ngcontent-%COMP%]   .notification-footer[_ngcontent-%COMP%]   .notification-status[_ngcontent-%COMP%]   .status-badge[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:4px;padding:4px 16px;border-radius:8px;font-size:.85rem;font-weight:600}.notification-detail[_ngcontent-%COMP%]   .notification-card[_ngcontent-%COMP%]   .notification-footer[_ngcontent-%COMP%]   .notification-status[_ngcontent-%COMP%]   .status-badge.read[_ngcontent-%COMP%]{background:#16a34a1a;color:#16a34a}.notification-detail[_ngcontent-%COMP%]   .notification-card[_ngcontent-%COMP%]   .notification-footer[_ngcontent-%COMP%]   .notification-status[_ngcontent-%COMP%]   .status-badge.unread[_ngcontent-%COMP%]{background:#c9a24d1a;color:#c9a24d}.notification-detail[_ngcontent-%COMP%]   .notification-card[_ngcontent-%COMP%]   .notification-footer[_ngcontent-%COMP%]   .notification-status[_ngcontent-%COMP%]   .status-badge[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.7rem}.notification-detail[_ngcontent-%COMP%]   .notification-card[_ngcontent-%COMP%]   .notification-footer[_ngcontent-%COMP%]   .notification-actions[_ngcontent-%COMP%]   .btn-delete[_ngcontent-%COMP%]{padding:8px 16px;background:#dc26261a;color:#dc2626;border:1px solid rgba(220,38,38,.3);border-radius:8px;font-weight:600;font-size:.9rem;cursor:pointer;transition:all .3s ease;display:flex;align-items:center;gap:4px}.notification-detail[_ngcontent-%COMP%]   .notification-card[_ngcontent-%COMP%]   .notification-footer[_ngcontent-%COMP%]   .notification-actions[_ngcontent-%COMP%]   .btn-delete[_ngcontent-%COMP%]:hover{background:#dc262633;border-color:#dc262666;transform:translateY(-2px);box-shadow:0 1px 2px #0000001a}.notification-detail[_ngcontent-%COMP%]   .notification-card[_ngcontent-%COMP%]   .notification-footer[_ngcontent-%COMP%]   .notification-actions[_ngcontent-%COMP%]   .btn-delete[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.85rem}@media (max-width: 767.98px){.notification-detail[_ngcontent-%COMP%]{padding:32px 0}.notification-detail[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{padding:0 16px}.notification-detail[_ngcontent-%COMP%]   .notification-card[_ngcontent-%COMP%]{padding:32px}.notification-detail[_ngcontent-%COMP%]   .notification-card[_ngcontent-%COMP%]   .notification-header[_ngcontent-%COMP%]{flex-direction:column;align-items:center;text-align:center;gap:16px}.notification-detail[_ngcontent-%COMP%]   .notification-card[_ngcontent-%COMP%]   .notification-header[_ngcontent-%COMP%]   .notification-meta[_ngcontent-%COMP%]{align-items:center}.notification-detail[_ngcontent-%COMP%]   .notification-card[_ngcontent-%COMP%]   .notification-content[_ngcontent-%COMP%]   .notification-title[_ngcontent-%COMP%]{font-size:1.5rem}.notification-detail[_ngcontent-%COMP%]   .notification-card[_ngcontent-%COMP%]   .notification-content[_ngcontent-%COMP%]   .notification-message[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem}.notification-detail[_ngcontent-%COMP%]   .notification-card[_ngcontent-%COMP%]   .notification-footer[_ngcontent-%COMP%]{flex-direction:column;gap:16px;align-items:stretch}.notification-detail[_ngcontent-%COMP%]   .notification-card[_ngcontent-%COMP%]   .notification-footer[_ngcontent-%COMP%]   .notification-actions[_ngcontent-%COMP%]   .btn-delete[_ngcontent-%COMP%]{width:100%;justify-content:center}}"]})};var EQ=()=>({exact:!1}),l_=class n{constructor(e){this.route=e}static \u0275fac=function(t){return new(t||n)(B(qt))};static \u0275cmp=me({type:n,selectors:[["app-admin-dashboard"]],decls:31,vars:14,consts:[[1,"admin-dashboard"],[1,"container-fluid"],[1,"row"],[1,"col-12","col-md-3","col-lg-2","sidebar"],[1,"sidebar-header"],[1,"sidebar-title"],[1,"fas","fa-shield-alt"],[1,"sidebar-nav"],[1,"nav-list"],[1,"nav-item"],["routerLink","/admin/organizations","routerLinkActive","active",1,"nav-link",3,"routerLinkActiveOptions"],[1,"fas","fa-building"],["routerLink","/admin/subscriptions","routerLinkActive","active",1,"nav-link"],[1,"fas","fa-credit-card"],["routerLink","/admin/courses","routerLinkActive","active",1,"nav-link"],[1,"fas","fa-book"],[1,"col-12","col-md-9","col-lg-10","main-content"]],template:function(t,i){t&1&&(m(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h2",5),M(6,"i",6),v(7),b(8,"translate"),_()(),m(9,"nav",7)(10,"ul",8)(11,"li",9)(12,"a",10),M(13,"i",11),m(14,"span"),v(15),b(16,"translate"),_()()(),m(17,"li",9)(18,"a",12),M(19,"i",13),m(20,"span"),v(21),b(22,"translate"),_()()(),m(23,"li",9)(24,"a",14),M(25,"i",15),m(26,"span"),v(27),b(28,"translate"),_()()()()()(),m(29,"div",16),M(30,"router-outlet"),_()()()()),t&2&&(p(7),P(" ",C(8,5,"admin.dashboard.title")," "),p(5),V("routerLinkActiveOptions",Wr(13,EQ)),p(3),O(C(16,7,"admin.dashboard.organizations")),p(6),O(C(22,9,"admin.dashboard.subscriptions")),p(6),O(C(28,11,"admin.dashboard.courses")))},dependencies:[Ie,$e,Zs,Ye,Nu,Pe,Ne],styles:[".admin-dashboard[_ngcontent-%COMP%]{min-height:100vh;background:#f3f1ec}.admin-dashboard[_ngcontent-%COMP%]   .container-fluid[_ngcontent-%COMP%]{padding:0}.sidebar[_ngcontent-%COMP%]{background:#0e3a5d;min-height:100vh;padding:2rem 0;box-shadow:0 4px 8px #00000026}.sidebar[_ngcontent-%COMP%]   .sidebar-header[_ngcontent-%COMP%]{padding:32px;border-bottom:2px solid rgba(201,162,77,.3);background:#071e2f}.sidebar[_ngcontent-%COMP%]   .sidebar-header[_ngcontent-%COMP%]   .sidebar-title[_ngcontent-%COMP%]{font-size:1.3rem;font-weight:700;color:#c9a24d;margin:0;font-family:Cairo,sans-serif;display:flex;align-items:center;gap:8px}.sidebar[_ngcontent-%COMP%]   .sidebar-header[_ngcontent-%COMP%]   .sidebar-title[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.2rem}.sidebar[_ngcontent-%COMP%]   .sidebar-nav[_ngcontent-%COMP%]{padding:16px 0}.sidebar[_ngcontent-%COMP%]   .sidebar-nav[_ngcontent-%COMP%]   .nav-list[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0}.sidebar[_ngcontent-%COMP%]   .sidebar-nav[_ngcontent-%COMP%]   .nav-list[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]{margin:0}.sidebar[_ngcontent-%COMP%]   .sidebar-nav[_ngcontent-%COMP%]   .nav-list[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{display:flex;align-items:center;gap:16px;padding:16px 32px;color:#fffc;text-decoration:none;font-weight:500;font-size:1rem;font-family:Cairo,sans-serif;transition:all .3s ease;border-left:3px solid transparent}.sidebar[_ngcontent-%COMP%]   .sidebar-nav[_ngcontent-%COMP%]   .nav-list[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.1rem;width:20px;text-align:center}.sidebar[_ngcontent-%COMP%]   .sidebar-nav[_ngcontent-%COMP%]   .nav-list[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:hover{background:#c9a24d1a;color:#fff;border-left-color:#c9a24d}.sidebar[_ngcontent-%COMP%]   .sidebar-nav[_ngcontent-%COMP%]   .nav-list[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]{background:#c9a24d33;color:#c9a24d;border-left-color:#c9a24d;font-weight:600}.main-content[_ngcontent-%COMP%]{padding:64px;min-height:100vh}@media (max-width: 991.98px){.sidebar[_ngcontent-%COMP%]{min-height:auto;margin-bottom:32px}.main-content[_ngcontent-%COMP%]{padding:32px}}@media (max-width: 767.98px){.sidebar[_ngcontent-%COMP%]   .sidebar-header[_ngcontent-%COMP%]{padding:16px}.sidebar[_ngcontent-%COMP%]   .sidebar-header[_ngcontent-%COMP%]   .sidebar-title[_ngcontent-%COMP%]{font-size:1.1rem}.sidebar[_ngcontent-%COMP%]   .sidebar-nav[_ngcontent-%COMP%]   .nav-list[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{padding:8px 16px;font-size:.9rem}.main-content[_ngcontent-%COMP%]{padding:16px}}"]})};var MQ=n=>["/admin/organizations",n],IQ=(n,e)=>e.uid;function PQ(n,e){n&1&&(m(0,"div",5)(1,"div",7)(2,"span",8),v(3),b(4,"translate"),_()(),m(5,"p",9),v(6),b(7,"translate"),_()()),n&2&&(p(3),O(C(4,2,"admin.organizations.loading")),p(3),O(C(7,4,"admin.organizations.loading")))}function OQ(n,e){if(n&1&&(m(0,"div",6),M(1,"i",10),v(2),b(3,"translate"),_()),n&2){let t=R();p(2),P(" ",C(3,1,t.errorMessage)," ")}}function xQ(n,e){if(n&1&&(m(0,"div",20)(1,"div",21)(2,"div",22)(3,"h3",23),v(4),_(),m(5,"span",24),M(6,"i",25),v(7),b(8,"translate"),_()(),m(9,"div",26)(10,"div",27)(11,"p",28),M(12,"i",29),m(13,"span"),v(14),_()(),m(15,"p",28),M(16,"i",30),m(17,"span"),v(18),_()(),m(19,"p",31),M(20,"i",32),m(21,"span"),v(22),_()()()(),m(23,"div",33)(24,"a",34),M(25,"i",35),v(26),b(27,"translate"),_()()()()),n&2){let t=e.$implicit,i=R(3);p(4),O(t.name),p(),V("ngClass",i.getStatusClass(t.status)),p(),Y("fa-check-circle",t.status==="approved")("fa-clock",t.status==="pending")("fa-times-circle",t.status==="rejected"),p(),P(" ",C(8,14,i.getStatusKey(t.status))," "),p(7),O(t.email),p(4),O(t.phone),p(4),O(t.createdAt),p(2),V("routerLink",$s(18,MQ,t.uid)),p(2),P(" ",C(27,16,"admin.organizations.viewDetails")," ")}}function SQ(n,e){if(n&1&&(m(0,"div",17)(1,"div",19),dt(2,xQ,28,20,"div",20,IQ),_()()),n&2){let t=R(2);p(2),ft(t.filteredOrganizations)}}function DQ(n,e){n&1&&(m(0,"div",18),M(1,"i",3),m(2,"p"),v(3),b(4,"translate"),_()()),n&2&&(p(3),O(C(4,1,"admin.organizations.noOrganizations")))}function TQ(n,e){if(n&1){let t=Re();m(0,"div",11)(1,"div",12)(2,"div",13)(3,"button",14),H("click",function(){X(t);let r=R();return J(r.onStatusFilterChange("all"))}),m(4,"span",15),v(5),b(6,"translate"),_(),m(7,"span",16),v(8),_()()(),m(9,"div",13)(10,"button",14),H("click",function(){X(t);let r=R();return J(r.onStatusFilterChange("pending"))}),m(11,"span",15),v(12),b(13,"translate"),_(),m(14,"span",16),v(15),_()()(),m(16,"div",13)(17,"button",14),H("click",function(){X(t);let r=R();return J(r.onStatusFilterChange("approved"))}),m(18,"span",15),v(19),b(20,"translate"),_(),m(21,"span",16),v(22),_()()(),m(23,"div",13)(24,"button",14),H("click",function(){X(t);let r=R();return J(r.onStatusFilterChange("rejected"))}),m(25,"span",15),v(26),b(27,"translate"),_(),m(28,"span",16),v(29),_()()()()(),A(30,SQ,4,0,"div",17)(31,DQ,5,3,"div",18)}if(n&2){let t=R();p(3),Y("active",t.selectedStatus==="all"),p(2),O(C(6,17,"admin.organizations.all")),p(3),O(t.getCountByStatus("all")),p(2),Y("active",t.selectedStatus==="pending"),p(2),O(C(13,19,"admin.organizations.pending")),p(3),O(t.getCountByStatus("pending")),p(2),Y("active",t.selectedStatus==="approved"),p(2),O(C(20,21,"admin.organizations.approved")),p(3),O(t.getCountByStatus("approved")),p(2),Y("active",t.selectedStatus==="rejected"),p(2),O(C(27,23,"admin.organizations.rejected")),p(3),O(t.getCountByStatus("rejected")),p(),k(t.filteredOrganizations.length>0?30:31)}}var u_=class n{constructor(e){this.organizationService=e}organizations=[];filteredOrganizations=[];isLoading=!0;errorMessage="";selectedStatus="all";destroy$=new de;ngOnInit(){this.loadOrganizations()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}loadOrganizations(){this.isLoading=!0,this.errorMessage="",this.organizationService.getAllOrganizations().pipe(Xe(this.destroy$)).subscribe({next:e=>{this.organizations=e,this.filterOrganizations(),this.isLoading=!1},error:e=>{console.error("Error loading organizations:",e),this.errorMessage="admin.organizations.loadError",this.isLoading=!1}})}filterOrganizations(){this.selectedStatus==="all"?this.filteredOrganizations=this.organizations:this.filteredOrganizations=this.organizations.filter(e=>e.status===this.selectedStatus)}onStatusFilterChange(e){this.selectedStatus=e,this.filterOrganizations()}getStatusClass(e){switch(e){case"approved":return"badge-success";case"pending":return"badge-warning";case"rejected":return"badge-error";default:return"badge-secondary"}}getStatusKey(e){return`auth.profile.status.${e}`}getCountByStatus(e){return e==="all"?this.organizations.length:this.organizations.filter(t=>t.status===e).length}static \u0275fac=function(t){return new(t||n)(B(Lt))};static \u0275cmp=me({type:n,selectors:[["app-organization-list"]],decls:12,vars:9,consts:[[1,"organization-list"],[1,"page-header"],[1,"page-title"],[1,"fas","fa-building"],[1,"page-subtitle"],[1,"loading-state"],[1,"alert","alert-error"],["role","status",1,"spinner-border","text-primary"],[1,"visually-hidden"],[1,"mt-3"],[1,"fas","fa-exclamation-circle"],[1,"filter-tabs"],[1,"row","g-2"],[1,"col-6","col-md-3"],["type","button",1,"filter-tab",3,"click"],[1,"tab-label"],[1,"tab-count"],[1,"organizations-grid"],[1,"empty-state"],[1,"row","g-4"],[1,"col-12","col-md-6","col-lg-4"],[1,"organization-card"],[1,"card-header"],[1,"org-name"],[1,"status-badge",3,"ngClass"],[1,"fas"],[1,"card-body"],[1,"org-info"],[1,"info-item"],[1,"fas","fa-envelope"],[1,"fas","fa-phone"],[1,"info-item","date"],[1,"fas","fa-calendar"],[1,"card-footer"],[1,"btn","btn-view",3,"routerLink"],[1,"fas","fa-eye"]],template:function(t,i){t&1&&(m(0,"div",0)(1,"div",1)(2,"h1",2),M(3,"i",3),v(4),b(5,"translate"),_(),m(6,"p",4),v(7),b(8,"translate"),_()(),A(9,PQ,8,6,"div",5),A(10,OQ,4,3,"div",6),A(11,TQ,32,25),_()),t&2&&(p(4),P(" ",C(5,5,"admin.organizations.title")," "),p(3),O(C(8,7,"admin.organizations.subtitle")),p(2),k(i.isLoading?9:-1),p(),k(!i.isLoading&&i.errorMessage?10:-1),p(),k(!i.isLoading&&!i.errorMessage?11:-1))},dependencies:[Ie,jt,$e,Ye,Pe,Ne],styles:[".organization-list[_ngcontent-%COMP%]   .page-header[_ngcontent-%COMP%]{margin-bottom:64px;padding-bottom:32px;border-bottom:2px solid rgba(14,58,93,.1)}.organization-list[_ngcontent-%COMP%]   .page-header[_ngcontent-%COMP%]   .page-title[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;color:#0e3a5d;margin-bottom:8px;font-family:Cairo,sans-serif;display:flex;align-items:center;gap:16px}.organization-list[_ngcontent-%COMP%]   .page-header[_ngcontent-%COMP%]   .page-title[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#c9a24d;font-size:1.8rem}.organization-list[_ngcontent-%COMP%]   .page-header[_ngcontent-%COMP%]   .page-subtitle[_ngcontent-%COMP%]{font-size:1rem;color:#0f172a99;margin:0}.organization-list[_ngcontent-%COMP%]   .loading-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;min-height:300px;text-align:center}.organization-list[_ngcontent-%COMP%]   .loading-state[_ngcontent-%COMP%]   .spinner-border[_ngcontent-%COMP%]{width:3rem;height:3rem;border-width:.3rem}.organization-list[_ngcontent-%COMP%]   .loading-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#0f172ab3;font-size:1rem;margin:0}.organization-list[_ngcontent-%COMP%]   .alert-error[_ngcontent-%COMP%]{padding:32px;border-radius:8px;background:#dc26261a;color:#dc2626;border:1px solid rgba(220,38,38,.3);display:flex;align-items:center;gap:8px;font-size:1rem;margin-bottom:32px}.organization-list[_ngcontent-%COMP%]   .alert-error[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.2rem}.organization-list[_ngcontent-%COMP%]   .filter-tabs[_ngcontent-%COMP%]{margin-bottom:64px}.organization-list[_ngcontent-%COMP%]   .filter-tabs[_ngcontent-%COMP%]   .filter-tab[_ngcontent-%COMP%]{width:100%;padding:16px;background:#fff;border:2px solid rgba(14,58,93,.2);border-radius:8px;cursor:pointer;transition:all .3s ease;display:flex;flex-direction:column;align-items:center;gap:4px;font-family:Cairo,sans-serif}.organization-list[_ngcontent-%COMP%]   .filter-tabs[_ngcontent-%COMP%]   .filter-tab[_ngcontent-%COMP%]   .tab-label[_ngcontent-%COMP%]{font-size:.9rem;font-weight:500;color:#0f172ab3}.organization-list[_ngcontent-%COMP%]   .filter-tabs[_ngcontent-%COMP%]   .filter-tab[_ngcontent-%COMP%]   .tab-count[_ngcontent-%COMP%]{font-size:1.2rem;font-weight:700;color:#0e3a5d}.organization-list[_ngcontent-%COMP%]   .filter-tabs[_ngcontent-%COMP%]   .filter-tab[_ngcontent-%COMP%]:hover{border-color:#c9a24d;background:#c9a24d0d}.organization-list[_ngcontent-%COMP%]   .filter-tabs[_ngcontent-%COMP%]   .filter-tab.active[_ngcontent-%COMP%]{background:#c9a24d;border-color:#c9a24d;color:#fff}.organization-list[_ngcontent-%COMP%]   .filter-tabs[_ngcontent-%COMP%]   .filter-tab.active[_ngcontent-%COMP%]   .tab-label[_ngcontent-%COMP%], .organization-list[_ngcontent-%COMP%]   .filter-tabs[_ngcontent-%COMP%]   .filter-tab.active[_ngcontent-%COMP%]   .tab-count[_ngcontent-%COMP%]{color:#fff}.organization-list[_ngcontent-%COMP%]   .organizations-grid[_ngcontent-%COMP%]   .organization-card[_ngcontent-%COMP%]{background:#fff;border-radius:16px;box-shadow:0 4px 8px #00000026;border:1px solid rgba(14,58,93,.1);overflow:hidden;transition:all .3s ease;height:100%;display:flex;flex-direction:column}.organization-list[_ngcontent-%COMP%]   .organizations-grid[_ngcontent-%COMP%]   .organization-card[_ngcontent-%COMP%]:hover{transform:translateY(-4px);box-shadow:0 8px 16px #0003;border-color:#c9a24d}.organization-list[_ngcontent-%COMP%]   .organizations-grid[_ngcontent-%COMP%]   .organization-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{padding:32px;background:linear-gradient(135deg,#c9a24d1a,#0e3a5d0d);border-bottom:1px solid rgba(14,58,93,.1);display:flex;justify-content:space-between;align-items:flex-start;gap:16px}.organization-list[_ngcontent-%COMP%]   .organizations-grid[_ngcontent-%COMP%]   .organization-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .org-name[_ngcontent-%COMP%]{font-size:1.2rem;font-weight:700;color:#0e3a5d;margin:0;font-family:Cairo,sans-serif;flex:1}.organization-list[_ngcontent-%COMP%]   .organizations-grid[_ngcontent-%COMP%]   .organization-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .status-badge[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:4px;padding:4px 8px;border-radius:4px;font-weight:600;font-size:.75rem;font-family:Cairo,sans-serif;white-space:nowrap}.organization-list[_ngcontent-%COMP%]   .organizations-grid[_ngcontent-%COMP%]   .organization-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .status-badge.badge-success[_ngcontent-%COMP%]{background:#16a34a1a;color:#16a34a;border:1px solid rgba(22,163,74,.3)}.organization-list[_ngcontent-%COMP%]   .organizations-grid[_ngcontent-%COMP%]   .organization-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .status-badge.badge-warning[_ngcontent-%COMP%]{background:#d977061a;color:#d97706;border:1px solid rgba(217,119,6,.3)}.organization-list[_ngcontent-%COMP%]   .organizations-grid[_ngcontent-%COMP%]   .organization-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .status-badge.badge-error[_ngcontent-%COMP%]{background:#dc26261a;color:#dc2626;border:1px solid rgba(220,38,38,.3)}.organization-list[_ngcontent-%COMP%]   .organizations-grid[_ngcontent-%COMP%]   .organization-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .status-badge[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.7rem}.organization-list[_ngcontent-%COMP%]   .organizations-grid[_ngcontent-%COMP%]   .organization-card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{padding:32px;flex:1}.organization-list[_ngcontent-%COMP%]   .organizations-grid[_ngcontent-%COMP%]   .organization-card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .org-info[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;margin-bottom:16px;color:#0f172acc;font-size:.9rem}.organization-list[_ngcontent-%COMP%]   .organizations-grid[_ngcontent-%COMP%]   .organization-card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .org-info[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]:last-child{margin-bottom:0}.organization-list[_ngcontent-%COMP%]   .organizations-grid[_ngcontent-%COMP%]   .organization-card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .org-info[_ngcontent-%COMP%]   .info-item.date[_ngcontent-%COMP%]{color:#0f172a80;font-size:.85rem}.organization-list[_ngcontent-%COMP%]   .organizations-grid[_ngcontent-%COMP%]   .organization-card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .org-info[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#0e3a5d;font-size:.85rem;width:16px}.organization-list[_ngcontent-%COMP%]   .organizations-grid[_ngcontent-%COMP%]   .organization-card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .org-info[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{word-break:break-word}.organization-list[_ngcontent-%COMP%]   .organizations-grid[_ngcontent-%COMP%]   .organization-card[_ngcontent-%COMP%]   .card-footer[_ngcontent-%COMP%]{padding:16px 32px;border-top:1px solid rgba(14,58,93,.1);background:#f6f7f980}.organization-list[_ngcontent-%COMP%]   .organizations-grid[_ngcontent-%COMP%]   .organization-card[_ngcontent-%COMP%]   .card-footer[_ngcontent-%COMP%]   .btn-view[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center;justify-content:center;gap:8px;padding:8px 16px;background:#c9a24d;color:#fff;border:none;border-radius:8px;font-weight:600;font-size:.9rem;font-family:Cairo,sans-serif;text-decoration:none;transition:all .3s ease;cursor:pointer}.organization-list[_ngcontent-%COMP%]   .organizations-grid[_ngcontent-%COMP%]   .organization-card[_ngcontent-%COMP%]   .card-footer[_ngcontent-%COMP%]   .btn-view[_ngcontent-%COMP%]:hover{background:#a8832f;transform:translateY(-2px);box-shadow:0 4px 8px #00000026}.organization-list[_ngcontent-%COMP%]   .organizations-grid[_ngcontent-%COMP%]   .organization-card[_ngcontent-%COMP%]   .card-footer[_ngcontent-%COMP%]   .btn-view[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.9rem}.organization-list[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;min-height:400px;text-align:center;padding:64px}.organization-list[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:4rem;color:#0f172a4d;margin-bottom:32px}.organization-list[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.1rem;color:#0f172a99;margin:0;font-family:Cairo,sans-serif}@media (max-width: 991.98px){.organization-list[_ngcontent-%COMP%]   .page-header[_ngcontent-%COMP%]   .page-title[_ngcontent-%COMP%]{font-size:1.5rem}}@media (max-width: 767.98px){.organization-list[_ngcontent-%COMP%]   .page-header[_ngcontent-%COMP%]   .page-title[_ngcontent-%COMP%], .organization-list[_ngcontent-%COMP%]   .page-header[_ngcontent-%COMP%]   .page-title[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.3rem}.organization-list[_ngcontent-%COMP%]   .filter-tabs[_ngcontent-%COMP%]   .filter-tab[_ngcontent-%COMP%]{padding:8px;font-size:.85rem}}"]})};var d_=ms(cs());var AQ=(n,e)=>e.value;function kQ(n,e){n&1&&(m(0,"div",4)(1,"div",7)(2,"span",8),v(3),b(4,"translate"),_()(),m(5,"p",9),v(6),b(7,"translate"),_()()),n&2&&(p(3),O(C(4,2,"admin.organizations.loading")),p(3),O(C(7,4,"admin.organizations.loading")))}function RQ(n,e){n&1&&(m(0,"div",5),M(1,"i",10),v(2),b(3,"translate"),_()),n&2&&(p(2),P(" ",C(3,1,"admin.organizations.notFound")," "))}function NQ(n,e){if(n&1&&(M(0,"img",37),b(1,"translate")),n&2){let t=R(2);V("src",t.organization.idImage,At)("alt",C(1,2,"auth.profile.idImage"))}}function LQ(n,e){n&1&&(m(0,"div",38),M(1,"i",47),m(2,"p"),v(3),b(4,"translate"),_()()),n&2&&(p(3),O(C(4,1,"auth.profile.noImage")))}function FQ(n,e){if(n&1&&(m(0,"option",57),v(1),b(2,"translate"),_()),n&2){let t=e.$implicit;V("value",t.value),p(),P(" ",C(2,2,t.label)," ")}}function BQ(n,e){if(n&1&&(m(0,"div",58),M(1,"i",73),v(2),b(3,"translate"),_()),n&2){let t=R(3);p(2),P(" ",C(3,1,t.getFormError("type"))," ")}}function jQ(n,e){n&1&&(m(0,"div",74),M(1,"i",76),m(2,"strong"),v(3),b(4,"translate"),_(),v(5),b(6,"translate"),_()),n&2&&(p(3),P("",C(4,2,"admin.organizations.warning"),":"),p(2),P(" ",C(6,4,"admin.organizations.statusChangeWarning")," "))}function VQ(n,e){n&1&&(m(0,"div",75),M(1,"i",77),v(2),b(3,"translate"),_()),n&2&&(p(2),P(" ",C(3,1,"admin.organizations.noStatusChange")," "))}function UQ(n,e){if(n&1&&(m(0,"div",59),A(1,jQ,7,6,"div",74)(2,VQ,4,3,"div",75),_()),n&2){let t,i=R(3);p(),k(i.doesTypeChangeStatus((t=i.notificationForm.get("type"))==null?null:t.value)?1:2)}}function zQ(n,e){if(n&1&&(m(0,"div",58),M(1,"i",73),v(2),b(3,"translate"),_()),n&2){let t=R(3);p(2),P(" ",C(3,1,t.getFormError("title"))," ")}}function $Q(n,e){if(n&1&&(m(0,"div",58),M(1,"i",73),v(2),b(3,"translate"),_()),n&2){let t=R(3);p(2),P(" ",C(3,1,t.getFormError("message"))," ")}}function HQ(n,e){n&1&&(M(0,"span",78),v(1),b(2,"translate")),n&2&&(p(),P(" ",C(2,1,"admin.organizations.processing")," "))}function WQ(n,e){n&1&&(M(0,"i",79),v(1),b(2,"translate")),n&2&&(p(),P(" ",C(2,1,"admin.organizations.submit")," "))}function GQ(n,e){if(n&1){let t=Re();m(0,"form",48),H("ngSubmit",function(){X(t);let r=R(2);return J(r.onSubmitNotificationForm())}),m(1,"div",49),M(2,"i",50),m(3,"div")(4,"strong"),v(5),b(6,"translate"),_(),m(7,"p",51),v(8),b(9,"translate"),_()()(),m(10,"div",52)(11,"label",53),M(12,"i",54),v(13),b(14,"translate"),m(15,"span",55),v(16,"*"),_()(),m(17,"select",56),dt(18,FQ,3,4,"option",57,AQ),_(),A(20,BQ,4,3,"div",58),A(21,UQ,3,1,"div",59),_(),m(22,"div",52)(23,"label",60),M(24,"i",61),v(25),b(26,"translate"),m(27,"span",55),v(28,"*"),_()(),M(29,"input",62),b(30,"translate"),A(31,zQ,4,3,"div",58),_(),m(32,"div",63)(33,"label",64),M(34,"i",65),v(35),b(36,"translate"),m(37,"span",55),v(38,"*"),_()(),m(39,"textarea",66),b(40,"translate"),v(41,"                    "),_(),A(42,$Q,4,3,"div",58),m(43,"div",67),M(44,"i",68),v(45),b(46,"translate"),_()(),m(47,"div",69)(48,"button",70),H("click",function(){X(t);let r=R(2);return J(r.toggleNotificationForm())}),M(49,"i",71),v(50),b(51,"translate"),_(),m(52,"button",72),A(53,HQ,3,3)(54,WQ,3,3),_()()()}if(n&2){let t,i,r,o,s,a,c,l=R(2);V("formGroup",l.notificationForm),p(5),O(C(6,26,"admin.organizations.formInfo")),p(3),O(C(9,28,"admin.organizations.formInfoDescription")),p(5),P(" ",C(14,30,"admin.organizations.notificationType.label")," "),p(4),Y("is-invalid",((t=l.notificationForm.get("type"))==null?null:t.invalid)&&((t=l.notificationForm.get("type"))==null?null:t.touched)),V("disabled",l.isProcessing),p(),ft(l.notificationTypes),p(2),k((i=l.notificationForm.get("type"))!=null&&i.invalid&&((i=l.notificationForm.get("type"))!=null&&i.touched)?20:-1),p(),k((r=l.notificationForm.get("type"))!=null&&r.value?21:-1),p(4),P(" ",C(26,32,"admin.organizations.notificationTitle")," "),p(4),Y("is-invalid",((o=l.notificationForm.get("title"))==null?null:o.invalid)&&((o=l.notificationForm.get("title"))==null?null:o.touched)),V("placeholder",C(30,34,"admin.organizations.titlePlaceholder"))("disabled",l.isProcessing),p(2),k((s=l.notificationForm.get("title"))!=null&&s.invalid&&((s=l.notificationForm.get("title"))!=null&&s.touched)?31:-1),p(4),P(" ",C(36,36,"admin.organizations.notificationMessage")," "),p(4),Y("is-invalid",((a=l.notificationForm.get("message"))==null?null:a.invalid)&&((a=l.notificationForm.get("message"))==null?null:a.touched)),V("placeholder",C(40,38,"admin.organizations.messagePlaceholder"))("disabled",l.isProcessing),p(3),k((c=l.notificationForm.get("message"))!=null&&c.invalid&&((c=l.notificationForm.get("message"))!=null&&c.touched)?42:-1),p(3),P(" ",C(46,40,"admin.organizations.messageHint")," "),p(3),V("disabled",l.isProcessing),p(2),P(" ",C(51,42,"admin.organizations.cancel")," "),p(2),V("disabled",l.notificationForm.invalid||l.isProcessing),p(),k(l.isProcessing?53:54)}}function qQ(n,e){if(n&1){let t=Re();m(0,"div",6)(1,"div",11)(2,"div",12)(3,"div",13)(4,"h1",14),M(5,"i",15),v(6),_(),m(7,"p",16),v(8),b(9,"translate"),_()(),m(10,"div",17)(11,"span",18),M(12,"i",19),v(13),b(14,"translate"),_()()()(),m(15,"div",20)(16,"div",21)(17,"div",22)(18,"h3",23),M(19,"i",24),v(20),b(21,"translate"),_(),m(22,"div",25)(23,"div",26)(24,"div",13)(25,"div",27)(26,"label",28),M(27,"i",29),v(28),b(29,"translate"),_(),m(30,"p",30),v(31),_()()(),m(32,"div",13)(33,"div",27)(34,"label",28),M(35,"i",31),v(36),b(37,"translate"),_(),m(38,"p",30),v(39),_()()()()()(),m(40,"div",22)(41,"h3",23),M(42,"i",32),v(43),b(44,"translate"),_(),m(45,"div",25)(46,"div",26)(47,"div",13)(48,"div",27)(49,"label",28),M(50,"i",33),v(51),b(52,"translate"),_(),m(53,"p",30),v(54),_()()()()()()(),m(55,"div",34)(56,"div",22)(57,"h3",23),M(58,"i",35),v(59),b(60,"translate"),_(),m(61,"div",25)(62,"div",36),A(63,NQ,2,4,"img",37)(64,LQ,5,3,"div",38),_()()()(),m(65,"div",39)(66,"div",40)(67,"div",41)(68,"h3",23),M(69,"i",42),v(70),b(71,"translate"),_(),m(72,"p",43),M(73,"i",24),v(74),b(75,"translate"),_()(),m(76,"div",44)(77,"button",45),H("click",function(){X(t);let r=R();return J(r.toggleNotificationForm())}),M(78,"i",19),v(79),b(80,"translate"),b(81,"translate"),_(),A(82,GQ,55,44,"form",46),_()()()()()}if(n&2){let t=R();p(6),P(" ",t.organization.name," "),p(2),O(C(9,31,"admin.organizations.details")),p(3),V("ngClass",t.getStatusClass(t.organization.status)),p(),Y("fa-check-circle",t.organization.status==="approved")("fa-clock",t.organization.status==="pending")("fa-times-circle",t.organization.status==="rejected"),p(),P(" ",C(14,33,t.getStatusKey(t.organization.status))," "),p(7),P(" ",C(21,35,"auth.profile.basicInfo")," "),p(8),P(" ",C(29,37,"auth.profile.email")," "),p(3),O(t.organization.email),p(5),P(" ",C(37,39,"auth.profile.phone")," "),p(3),O(t.organization.phone),p(4),P(" ",C(44,41,"auth.profile.systemInfo")," "),p(8),P(" ",C(52,43,"auth.profile.registrationDate")," "),p(3),O(t.formatDate(t.organization.createdAt)),p(5),P(" ",C(60,45,"auth.profile.verificationDocument")," "),p(4),k(t.organization.idImage?63:64),p(7),P(" ",C(71,47,"admin.organizations.sendNotification")," "),p(4),P(" ",C(75,49,"admin.organizations.actionsDescription")," "),p(3),Y("active",t.showNotificationForm),V("disabled",t.isProcessing),p(),Y("fa-bell",!t.showNotificationForm)("fa-chevron-up",t.showNotificationForm),p(),P(" ",t.showNotificationForm?C(80,51,"admin.organizations.hideForm"):C(81,53,"admin.organizations.sendNotification")," "),p(3),k(t.showNotificationForm?82:-1)}}var f_=class n{constructor(e,t,i,r,o){this.organizationService=e;this.route=t;this.router=i;this.notifications=r;this.fb=o;this.initializeForm()}organization=null;isLoading=!0;isProcessing=!1;showNotificationForm=!1;notificationForm;notificationTypes=[{value:"approval",label:"admin.organizations.notificationType.approval",icon:"fa-check-circle",color:"success"},{value:"rejection",label:"admin.organizations.notificationType.rejection",icon:"fa-times-circle",color:"danger"},{value:"general",label:"admin.organizations.notificationType.general",icon:"fa-bell",color:"info"},{value:"status",label:"admin.organizations.notificationType.status",icon:"fa-info-circle",color:"primary"},{value:"verification",label:"admin.organizations.notificationType.verification",icon:"fa-shield-alt",color:"warning"}];destroy$=new de;initializeForm(){this.notificationForm=this.fb.group({type:["general",[De.required]],title:["",[De.required,De.minLength(3)]],message:["",[De.required,De.minLength(10)]]})}ngOnInit(){this.route.params.pipe(Me(e=>{let t=e.id;return t?this.organizationService.getOrganization(t):(this.isLoading=!1,this.showErrorAlert("admin.organizations.invalidId"),U(null))}),Xe(this.destroy$)).subscribe({next:e=>{this.organization=e,this.isLoading=!1,e||this.showErrorAlert("admin.organizations.notFound")},error:e=>{console.error("Error loading organization:",e),this.isLoading=!1,this.showErrorAlert("admin.organizations.loadError")}})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}toggleNotificationForm(){this.showNotificationForm=!this.showNotificationForm,this.showNotificationForm&&this.resetForm()}resetForm(){this.notificationForm.reset({type:"general",title:"",message:""}),this.notificationForm.markAsUntouched(),this.notificationForm.markAsPristine()}getFormError(e){let t=this.notificationForm.get(e);return t?.hasError("required")&&t?.touched?e==="type"?"admin.organizations.typeRequired":e==="title"?"admin.organizations.titleRequired":"admin.organizations.messageRequired":t?.hasError("minlength")&&t?.touched?e==="title"?"admin.organizations.titleMinLength":"admin.organizations.messageMinLength":""}getNotificationTypeInfo(e){let t=this.notificationTypes.find(i=>i.value===e);return t?{icon:t.icon,color:t.color,description:t.label}:{icon:"fa-bell",color:"info",description:"admin.organizations.notificationType.general"}}doesTypeChangeStatus(e){return e==="approval"||e==="rejection"}onSubmitNotificationForm(){if(!this.organization)return;if(this.notificationForm.invalid){this.markFormGroupTouched(),this.showValidationError("admin.organizations.formInvalid");return}let{type:e,title:t,message:i}=this.notificationForm.value;this.isProcessing=!0,e==="approval"?this.handleApprovalAction(t.trim(),i.trim()):e==="rejection"?this.handleRejectionAction(t.trim(),i.trim()):this.handleNotificationOnly(t.trim(),i.trim(),e)}handleApprovalAction(e,t){this.organizationService.approveOrganization(this.organization.uid).pipe(Ze(i=>this.handleError(i,"approval"))).subscribe({next:i=>{i!==null&&this.handleSuccess("approval",e,t)}})}handleRejectionAction(e,t){this.organizationService.rejectOrganization(this.organization.uid).pipe(Ze(i=>this.handleError(i,"rejection"))).subscribe({next:i=>{i!==null&&this.handleSuccess("rejection",e,t)}})}handleNotificationOnly(e,t,i){this.sendNotification(e,t,i),this.isProcessing=!1,this.resetForm(),this.showNotificationForm=!1,this.showSuccessAlert("admin.organizations.notificationSent","admin.organizations.notificationSentMessage")}markFormGroupTouched(){Object.keys(this.notificationForm.controls).forEach(e=>{this.notificationForm.get(e)?.markAsTouched()})}handleSuccess(e,t,i){this.isProcessing=!1,this.organization&&(this.organization.status=e==="approval"?"approved":"rejected",this.sendNotification(t,i,e)),this.resetForm(),this.showNotificationForm=!1;let r=e==="approval"?"admin.organizations.approveSuccess":"admin.organizations.rejectSuccess",o=e==="approval"?"admin.organizations.approveSuccessMessage":"admin.organizations.rejectSuccessMessage";this.showSuccessAlert(r,o)}handleError(e,t){this.isProcessing=!1,console.error(`Error ${t}ing organization:`,e);let i=t==="approval"?"admin.organizations.approveError":"admin.organizations.rejectError";return this.showErrorAlert(i),U(null)}showSuccessAlert(e,t){d_.default.fire({icon:"success",title:e,text:t||"",confirmButtonText:"admin.organizations.ok",confirmButtonColor:"#16A34A",timer:3e3,timerProgressBar:!0}).then(()=>{this.router.navigate(["/admin/organizations"])})}showErrorAlert(e){d_.default.fire({icon:"error",title:"admin.organizations.error",text:e,confirmButtonText:"admin.organizations.ok",confirmButtonColor:"#DC2626"})}showValidationError(e){d_.default.fire({icon:"warning",title:"admin.organizations.validationError",text:e,confirmButtonText:"admin.organizations.ok",confirmButtonColor:"#D97706"})}getStatusClass(e){switch(e){case"approved":return"badge-success";case"pending":return"badge-warning";case"rejected":return"badge-error";default:return"badge-secondary"}}getStatusKey(e){return`auth.profile.status.${e}`}formatDate(e){return e?new Date(e).toLocaleDateString("ar-EG",{year:"numeric",month:"long",day:"numeric"}):""}sendNotification(e,t,i){this.organization&&this.notifications.sendNotificationToOrganization(this.organization.uid,{title:e,message:t,type:i})}static \u0275fac=function(t){return new(t||n)(B(Lt),B(qt),B(ze),B(hi),B(Or))};static \u0275cmp=me({type:n,selectors:[["app-organization-details"]],decls:9,vars:6,consts:[[1,"organization-details"],[1,"back-button"],["type","button","routerLink","/admin/organizations",1,"btn","btn-back"],[1,"fas","fa-arrow-left"],[1,"loading-state"],[1,"alert","alert-error"],[1,"details-content"],["role","status",1,"spinner-border","text-primary"],[1,"visually-hidden"],[1,"mt-3"],[1,"fas","fa-exclamation-circle"],[1,"details-header"],[1,"row","align-items-center"],[1,"col-12","col-md-6"],[1,"details-title"],[1,"fas","fa-building"],[1,"details-subtitle"],[1,"col-12","col-md-4","text-md-end"],[1,"status-badge",3,"ngClass"],[1,"fas"],[1,"row","g-4"],[1,"col-12","col-lg-8"],[1,"details-card"],[1,"card-title"],[1,"fas","fa-info-circle"],[1,"card-content"],[1,"row","g-3"],[1,"info-item"],[1,"info-label"],[1,"fas","fa-envelope"],[1,"info-value"],[1,"fas","fa-phone"],[1,"fas","fa-cog"],[1,"fas","fa-calendar"],[1,"col-12","col-lg-4"],[1,"fas","fa-id-card"],[1,"id-image-container"],[1,"id-image",3,"src","alt"],[1,"no-image"],[1,"col-12"],[1,"details-card","actions-card"],[1,"card-header"],[1,"fas","fa-bell"],[1,"card-description"],[1,"card-body"],["type","button",1,"btn","btn-primary","w-100","mb-3",3,"click","disabled"],[1,"notification-form",3,"formGroup"],[1,"fas","fa-image"],[1,"notification-form",3,"ngSubmit","formGroup"],["role","alert",1,"alert","alert-info","d-flex","align-items-center","mb-4"],[1,"fas","fa-lightbulb","me-2"],[1,"mb-0","small"],[1,"mb-3"],["for","notification-type",1,"form-label"],[1,"fas","fa-tag","me-2"],[1,"text-danger"],["id","notification-type","formControlName","type",1,"form-select",3,"disabled"],[3,"value"],[1,"invalid-feedback","d-block"],[1,"form-text","mt-2"],["for","notification-title",1,"form-label"],[1,"fas","fa-heading","me-2"],["type","text","id","notification-title","formControlName","title",1,"form-control",3,"placeholder","disabled"],[1,"mb-4"],["for","notification-message",1,"form-label"],[1,"fas","fa-comment-alt","me-2"],["id","notification-message","formControlName","message","rows","5",1,"form-control",3,"placeholder","disabled"],[1,"form-text"],[1,"fas","fa-info-circle","me-1"],[1,"d-flex","gap-2"],["type","button",1,"btn","btn-outline-secondary","flex-fill",3,"click","disabled"],[1,"fas","fa-times","me-2"],["type","submit",1,"btn","btn-primary","flex-fill",3,"disabled"],[1,"fas","fa-exclamation-circle","me-1"],[1,"alert","alert-warning","py-2","px-3","mb-0","mt-2"],[1,"alert","alert-info","py-2","px-3","mb-0","mt-2"],[1,"fas","fa-exclamation-triangle","me-2"],[1,"fas","fa-info-circle","me-2"],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm","me-2"],[1,"fas","fa-paper-plane","me-2"]],template:function(t,i){t&1&&(m(0,"div",0)(1,"div",1)(2,"button",2),M(3,"i",3),v(4),b(5,"translate"),_()(),A(6,kQ,8,6,"div",4),A(7,RQ,4,3,"div",5),A(8,qQ,83,55,"div",6),_()),t&2&&(p(4),P(" ",C(5,4,"admin.organizations.back")," "),p(2),k(i.isLoading?6:-1),p(),k(!i.isLoading&&!i.organization?7:-1),p(),k(!i.isLoading&&i.organization?8:-1))},dependencies:[Ie,jt,$e,Ye,Pe,xr,Pr,Jm,e_,pi,ml,Mr,Ir,zi,$i,Ne],styles:[`.organization-details[_ngcontent-%COMP%]   .back-button[_ngcontent-%COMP%]{margin-bottom:32px}.organization-details[_ngcontent-%COMP%]   .back-button[_ngcontent-%COMP%]   .btn-back[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:8px;padding:8px 16px;background:#0f172a1a;color:#0f172a;border:1px solid rgba(15,23,42,.2);border-radius:8px;font-weight:600;font-size:.9rem;font-family:Cairo,sans-serif;cursor:pointer;transition:all .3s ease;text-decoration:none}.organization-details[_ngcontent-%COMP%]   .back-button[_ngcontent-%COMP%]   .btn-back[_ngcontent-%COMP%]:hover{background:#0f172a33;border-color:#0f172a4d}.organization-details[_ngcontent-%COMP%]   .back-button[_ngcontent-%COMP%]   .btn-back[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.9rem}.organization-details[_ngcontent-%COMP%]   .loading-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;min-height:400px;text-align:center}.organization-details[_ngcontent-%COMP%]   .loading-state[_ngcontent-%COMP%]   .spinner-border[_ngcontent-%COMP%]{width:3rem;height:3rem;border-width:.3rem}.organization-details[_ngcontent-%COMP%]   .loading-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#0f172ab3;font-size:1rem;margin:0}.organization-details[_ngcontent-%COMP%]   .alert[_ngcontent-%COMP%]{padding:16px;border-radius:8px;margin-bottom:32px;display:flex;align-items:center;gap:8px;font-size:.9rem}.organization-details[_ngcontent-%COMP%]   .alert.alert-error[_ngcontent-%COMP%]{background:#dc26261a;color:#dc2626;border:1px solid rgba(220,38,38,.3)}.organization-details[_ngcontent-%COMP%]   .alert.alert-success[_ngcontent-%COMP%]{background:#16a34a1a;color:#16a34a;border:1px solid rgba(22,163,74,.3)}.organization-details[_ngcontent-%COMP%]   .alert[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1rem}.organization-details[_ngcontent-%COMP%]   .details-header[_ngcontent-%COMP%]{margin-bottom:64px;padding-bottom:32px;border-bottom:2px solid rgba(14,58,93,.1)}.organization-details[_ngcontent-%COMP%]   .details-header[_ngcontent-%COMP%]   .details-title[_ngcontent-%COMP%]{font-size:2.5rem;font-weight:700;color:#0e3a5d;margin-bottom:8px;font-family:Cairo,sans-serif;display:flex;align-items:center;gap:16px}.organization-details[_ngcontent-%COMP%]   .details-header[_ngcontent-%COMP%]   .details-title[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#c9a24d;font-size:2rem}.organization-details[_ngcontent-%COMP%]   .details-header[_ngcontent-%COMP%]   .details-subtitle[_ngcontent-%COMP%]{font-size:1rem;color:#0f172a99;margin:0}.organization-details[_ngcontent-%COMP%]   .details-header[_ngcontent-%COMP%]   .status-badge[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:8px;padding:8px 16px;border-radius:8px;font-weight:600;font-size:.9rem;font-family:Cairo,sans-serif}.organization-details[_ngcontent-%COMP%]   .details-header[_ngcontent-%COMP%]   .status-badge.badge-success[_ngcontent-%COMP%]{background:#16a34a1a;color:#16a34a;border:1px solid rgba(22,163,74,.3)}.organization-details[_ngcontent-%COMP%]   .details-header[_ngcontent-%COMP%]   .status-badge.badge-warning[_ngcontent-%COMP%]{background:#d977061a;color:#d97706;border:1px solid rgba(217,119,6,.3)}.organization-details[_ngcontent-%COMP%]   .details-header[_ngcontent-%COMP%]   .status-badge.badge-error[_ngcontent-%COMP%]{background:#dc26261a;color:#dc2626;border:1px solid rgba(220,38,38,.3)}.organization-details[_ngcontent-%COMP%]   .details-header[_ngcontent-%COMP%]   .status-badge[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1rem}.organization-details[_ngcontent-%COMP%]   .details-card[_ngcontent-%COMP%]{background:#fff;border-radius:16px;padding:32px;margin-bottom:32px;box-shadow:0 4px 8px #00000026;border:1px solid rgba(14,58,93,.1)}.organization-details[_ngcontent-%COMP%]   .details-card.actions-card[_ngcontent-%COMP%]{border:2px solid rgba(201,162,77,.2)}.organization-details[_ngcontent-%COMP%]   .details-card[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{font-size:1.3rem;font-weight:600;color:#0e3a5d;margin-bottom:16px;padding-bottom:16px;border-bottom:2px solid rgba(201,162,77,.2);display:flex;align-items:center;gap:8px;font-family:Cairo,sans-serif}.organization-details[_ngcontent-%COMP%]   .details-card[_ngcontent-%COMP%]   .card-description[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;color:#0e3a5db3;font-size:.9rem;margin-bottom:32px;padding:8px 16px;background:#c9a24d0d;border-radius:4px;border-left:3px solid #C9A24D}.organization-details[_ngcontent-%COMP%]   .details-card[_ngcontent-%COMP%]   .card-description[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#c9a24d;font-size:.9rem}.organization-details[_ngcontent-%COMP%]   .details-card[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#c9a24d;font-size:1.1rem}.organization-details[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]{margin-bottom:16px}.organization-details[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]:last-child{margin-bottom:0}.organization-details[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]   .info-label[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;font-weight:600;color:#0f172a;margin-bottom:4px;font-size:.9rem;font-family:Cairo,sans-serif}.organization-details[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]   .info-label[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#0e3a5d;font-size:.85rem;width:16px}.organization-details[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]   .info-value[_ngcontent-%COMP%]{color:#0f172acc;font-size:1rem;margin:0;padding-left:24px;word-break:break-word}.organization-details[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]   .info-value[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#c9a24d;text-decoration:none;transition:all .3s ease}.organization-details[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]   .info-value[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#a8832f;text-decoration:underline}.organization-details[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]   .info-value.text-muted[_ngcontent-%COMP%]{color:#0f172a80;font-size:.85rem}.id-image-container[_ngcontent-%COMP%]{width:100%;border-radius:8px;overflow:hidden;border:2px solid rgba(14,58,93,.1);background:#f6f7f9;transition:all .3s ease}.id-image-container[_ngcontent-%COMP%]:hover{border-color:#c9a24d;box-shadow:0 4px 8px #00000026}.id-image-container[_ngcontent-%COMP%]   .id-image[_ngcontent-%COMP%]{width:100%;height:auto;display:block;object-fit:contain;min-height:200px;max-height:400px;transition:transform .3s ease}.id-image-container[_ngcontent-%COMP%]   .id-image[_ngcontent-%COMP%]:hover{transform:scale(1.02)}.id-image-container[_ngcontent-%COMP%]   .no-image[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:64px;color:#0f172a66;min-height:200px}.id-image-container[_ngcontent-%COMP%]   .no-image[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:3rem;margin-bottom:16px}.id-image-container[_ngcontent-%COMP%]   .no-image[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:.9rem}.transfer-receipt-container[_ngcontent-%COMP%]{width:100%;border-radius:8px;overflow:hidden;border:2px solid rgba(201,162,77,.2);background:linear-gradient(135deg,#c9a24d0d,#f6f7f9);transition:all .3s ease;position:relative}.transfer-receipt-container[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:0;background:linear-gradient(135deg,rgba(201,162,77,.03) 0%,transparent 100%);pointer-events:none}.transfer-receipt-container[_ngcontent-%COMP%]:hover{border-color:#c9a24d;box-shadow:0 8px 16px #0003;transform:translateY(-2px)}.transfer-receipt-container[_ngcontent-%COMP%]   .transfer-receipt-image[_ngcontent-%COMP%]{width:100%;height:auto;display:block;object-fit:contain;min-height:200px;max-height:400px;transition:transform .3s ease;position:relative;z-index:1}.transfer-receipt-container[_ngcontent-%COMP%]   .transfer-receipt-image[_ngcontent-%COMP%]:hover{transform:scale(1.03)}.actions-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{margin-bottom:32px}.actions-card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{padding:0}.actions-card[_ngcontent-%COMP%]   .btn-primary.active[_ngcontent-%COMP%]{background:#ae8835;border-color:#ae8835;box-shadow:0 0 0 3px #c9a24d40}.actions-card[_ngcontent-%COMP%]   .notification-form[_ngcontent-%COMP%]{background:#fff;border:2px solid rgba(201,162,77,.15);border-radius:16px;padding:64px;box-shadow:0 4px 8px #00000026;margin-top:16px}.actions-card[_ngcontent-%COMP%]   .notification-form[_ngcontent-%COMP%]   .alert[_ngcontent-%COMP%]{border-left:4px solid;border-radius:8px;font-size:.9rem}.actions-card[_ngcontent-%COMP%]   .notification-form[_ngcontent-%COMP%]   .alert.alert-info[_ngcontent-%COMP%]{border-left-color:#c9a24d;background:#c9a24d14;color:#c9a24d}.actions-card[_ngcontent-%COMP%]   .notification-form[_ngcontent-%COMP%]   .alert.alert-warning[_ngcontent-%COMP%]{border-left-color:#d97706;background:#d9770614;color:#d97706}.actions-card[_ngcontent-%COMP%]   .notification-form[_ngcontent-%COMP%]   .form-label[_ngcontent-%COMP%]{font-weight:600;color:#0f172a;margin-bottom:8px;display:flex;align-items:center}.actions-card[_ngcontent-%COMP%]   .notification-form[_ngcontent-%COMP%]   .form-label[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#c9a24d}.actions-card[_ngcontent-%COMP%]   .notification-form[_ngcontent-%COMP%]   .form-label[_ngcontent-%COMP%]   .text-danger[_ngcontent-%COMP%]{margin-left:4px}.actions-card[_ngcontent-%COMP%]   .notification-form[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%], .actions-card[_ngcontent-%COMP%]   .notification-form[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{border:2px solid rgba(14,58,93,.2);border-radius:8px;padding:16px;font-size:.95rem;transition:all .2s ease;font-family:Cairo,sans-serif}.actions-card[_ngcontent-%COMP%]   .notification-form[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%]:focus, .actions-card[_ngcontent-%COMP%]   .notification-form[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:focus{border-color:#c9a24d;box-shadow:0 0 0 3px #c9a24d1a;outline:none}.actions-card[_ngcontent-%COMP%]   .notification-form[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%]:disabled, .actions-card[_ngcontent-%COMP%]   .notification-form[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:disabled{background-color:#f6f7f980;opacity:.7;cursor:not-allowed}.actions-card[_ngcontent-%COMP%]   .notification-form[_ngcontent-%COMP%]   .form-select.is-invalid[_ngcontent-%COMP%], .actions-card[_ngcontent-%COMP%]   .notification-form[_ngcontent-%COMP%]   .form-control.is-invalid[_ngcontent-%COMP%]{border-color:#dc2626}.actions-card[_ngcontent-%COMP%]   .notification-form[_ngcontent-%COMP%]   .form-select.is-invalid[_ngcontent-%COMP%]:focus, .actions-card[_ngcontent-%COMP%]   .notification-form[_ngcontent-%COMP%]   .form-control.is-invalid[_ngcontent-%COMP%]:focus{border-color:#dc2626;box-shadow:0 0 0 3px #dc26261a}.actions-card[_ngcontent-%COMP%]   .notification-form[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%]::placeholder, .actions-card[_ngcontent-%COMP%]   .notification-form[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]::placeholder{color:#0e3a5d80}.actions-card[_ngcontent-%COMP%]   .notification-form[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%]{cursor:pointer;background-image:url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16'%3e%3cpath fill='none' stroke='%23343a40' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M2 5l6 6 6-6'/%3e%3c/svg%3e");background-repeat:no-repeat;background-position:right .75rem center;background-size:16px 12px;padding-right:2.5rem}.actions-card[_ngcontent-%COMP%]   .notification-form[_ngcontent-%COMP%]   textarea.form-control[_ngcontent-%COMP%]{resize:vertical;min-height:120px}.actions-card[_ngcontent-%COMP%]   .notification-form[_ngcontent-%COMP%]   .invalid-feedback[_ngcontent-%COMP%]{display:flex;align-items:center;margin-top:4px;font-size:.85rem;color:#dc2626}.actions-card[_ngcontent-%COMP%]   .notification-form[_ngcontent-%COMP%]   .invalid-feedback[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.8rem}.actions-card[_ngcontent-%COMP%]   .notification-form[_ngcontent-%COMP%]   .form-text[_ngcontent-%COMP%]{color:#0e3a5db3;font-size:.85rem;margin-top:4px}.actions-card[_ngcontent-%COMP%]   .notification-form[_ngcontent-%COMP%]   .form-text[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#0e3a5d99}.actions-card[_ngcontent-%COMP%]   .notification-form[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{font-weight:600;padding:16px 32px;border-radius:8px;transition:all .2s ease;display:flex;align-items:center;justify-content:center}.actions-card[_ngcontent-%COMP%]   .notification-form[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.9rem}.actions-card[_ngcontent-%COMP%]   .notification-form[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.actions-card[_ngcontent-%COMP%]   .notification-form[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]{background:#c9a24d;border-color:#c9a24d}.actions-card[_ngcontent-%COMP%]   .notification-form[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]:hover:not(:disabled){background:#ae8835;border-color:#ae8835;transform:translateY(-2px);box-shadow:0 4px 8px #00000026}.actions-card[_ngcontent-%COMP%]   .notification-form[_ngcontent-%COMP%]   .btn-outline-secondary[_ngcontent-%COMP%]{border:2px solid rgba(14,58,93,.3);color:#0f172a}.actions-card[_ngcontent-%COMP%]   .notification-form[_ngcontent-%COMP%]   .btn-outline-secondary[_ngcontent-%COMP%]:hover:not(:disabled){background:#0e3a5d1a;border-color:#0e3a5d66}.actions-card[_ngcontent-%COMP%]   .notification-form[_ngcontent-%COMP%]   .spinner-border-sm[_ngcontent-%COMP%]{width:1rem;height:1rem;border-width:.15rem}@media (max-width: 991.98px){.organization-details[_ngcontent-%COMP%]   .details-header[_ngcontent-%COMP%]   .details-title[_ngcontent-%COMP%]{font-size:2rem}}@media (max-width: 767.98px){.organization-details[_ngcontent-%COMP%]   .details-header[_ngcontent-%COMP%]   .details-title[_ngcontent-%COMP%], .organization-details[_ngcontent-%COMP%]   .details-header[_ngcontent-%COMP%]   .details-title[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.5rem}.organization-details[_ngcontent-%COMP%]   .details-header[_ngcontent-%COMP%]   .status-badge[_ngcontent-%COMP%]{margin-top:16px}.organization-details[_ngcontent-%COMP%]   .details-card[_ngcontent-%COMP%]{padding:16px}.organization-details[_ngcontent-%COMP%]   .details-card[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{font-size:1.1rem}.organization-details[_ngcontent-%COMP%]   .details-card[_ngcontent-%COMP%]   .actions-card[_ngcontent-%COMP%]   .action-section[_ngcontent-%COMP%]{padding:8px}}`]})};var p_=class n{ngOnInit(){}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=me({type:n,selectors:[["app-courses-list"]],decls:18,vars:12,consts:[[1,"courses-list"],[1,"page-header"],[1,"page-title"],[1,"fas","fa-book"],[1,"page-subtitle"],[1,"placeholder-content"],[1,"placeholder-card"],[1,"fas","fa-book-open"]],template:function(t,i){t&1&&(Ke(0,"div",0)(1,"div",1)(2,"h1",2),Dn(3,"i",3),v(4),b(5,"translate"),it(),Ke(6,"p",4),v(7),b(8,"translate"),it()(),Ke(9,"div",5)(10,"div",6),Dn(11,"i",7),Ke(12,"h3"),v(13),b(14,"translate"),it(),Ke(15,"p"),v(16),b(17,"translate"),it()()()()),t&2&&(p(4),P(" ",C(5,4,"admin.courses.title")," "),p(3),O(C(8,6,"admin.courses.subtitle")),p(6),O(C(14,8,"admin.courses.comingSoon")),p(3),O(C(17,10,"admin.courses.comingSoonDescription")))},dependencies:[Ie,$e,Pe,Ne],styles:[".courses-list[_ngcontent-%COMP%]   .page-header[_ngcontent-%COMP%]{margin-bottom:64px;padding-bottom:32px;border-bottom:2px solid rgba(14,58,93,.1)}.courses-list[_ngcontent-%COMP%]   .page-header[_ngcontent-%COMP%]   .page-title[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;color:#0e3a5d;margin-bottom:8px;font-family:Cairo,sans-serif;display:flex;align-items:center;gap:16px}.courses-list[_ngcontent-%COMP%]   .page-header[_ngcontent-%COMP%]   .page-title[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#c9a24d;font-size:1.8rem}.courses-list[_ngcontent-%COMP%]   .page-header[_ngcontent-%COMP%]   .page-subtitle[_ngcontent-%COMP%]{font-size:1rem;color:#0f172a99;margin:0}.courses-list[_ngcontent-%COMP%]   .placeholder-content[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;min-height:400px}.courses-list[_ngcontent-%COMP%]   .placeholder-content[_ngcontent-%COMP%]   .placeholder-card[_ngcontent-%COMP%]{background:#fff;border-radius:16px;padding:64px;box-shadow:0 4px 8px #00000026;border:1px solid rgba(14,58,93,.1);text-align:center;max-width:500px}.courses-list[_ngcontent-%COMP%]   .placeholder-content[_ngcontent-%COMP%]   .placeholder-card[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:4rem;color:#c9a24d80;margin-bottom:32px}.courses-list[_ngcontent-%COMP%]   .placeholder-content[_ngcontent-%COMP%]   .placeholder-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;color:#0e3a5d;margin-bottom:16px;font-family:Cairo,sans-serif}.courses-list[_ngcontent-%COMP%]   .placeholder-content[_ngcontent-%COMP%]   .placeholder-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem;color:#0f172a99;margin:0;font-family:Cairo,sans-serif}@media (max-width: 767.98px){.courses-list[_ngcontent-%COMP%]   .page-header[_ngcontent-%COMP%]   .page-title[_ngcontent-%COMP%], .courses-list[_ngcontent-%COMP%]   .page-header[_ngcontent-%COMP%]   .page-title[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.5rem}.courses-list[_ngcontent-%COMP%]   .placeholder-content[_ngcontent-%COMP%]   .placeholder-card[_ngcontent-%COMP%]{padding:32px}}"]})};var KQ=(n,e)=>["/admin/subscriptions",n,e],YQ=(n,e)=>e.subscriptionId;function QQ(n,e){n&1&&(m(0,"div",5)(1,"div",7)(2,"span",8),v(3),b(4,"translate"),_()(),m(5,"p",9),v(6),b(7,"translate"),_()()),n&2&&(p(3),O(C(4,2,"admin.subscriptions.loading")),p(3),O(C(7,4,"admin.subscriptions.loading")))}function ZQ(n,e){if(n&1&&(m(0,"div",6),M(1,"i",10),v(2),b(3,"translate"),_()),n&2){let t=R();p(2),P(" ",C(3,1,t.errorMessage)," ")}}function XQ(n,e){n&1&&(m(0,"p",35),M(1,"i",39),m(2,"span"),v(3),b(4,"translate"),_()()),n&2&&(p(3),O(C(4,1,"admin.subscriptions.active")))}function JQ(n,e){if(n&1&&(m(0,"div",20)(1,"div",21)(2,"div",22)(3,"h3",23),v(4),_(),m(5,"span",24),M(6,"i",25),v(7),b(8,"translate"),_()(),m(9,"div",26)(10,"div",27)(11,"p",28),M(12,"i",29),m(13,"span")(14,"strong"),v(15),b(16,"translate"),_(),v(17),b(18,"translate"),_()(),m(19,"p",28),M(20,"i",30),m(21,"span")(22,"strong"),v(23),b(24,"translate"),_(),v(25),_()(),m(26,"p",28),M(27,"i",31),m(28,"span")(29,"strong"),v(30),b(31,"translate"),_(),v(32),_()(),m(33,"p",28),M(34,"i",32),m(35,"span"),v(36),_()(),m(37,"p",33),M(38,"i",34),m(39,"span"),v(40),_()(),A(41,XQ,5,3,"p",35),_()(),m(42,"div",36)(43,"a",37),M(44,"i",38),v(45),b(46,"translate"),_()()()()),n&2){let t=e.$implicit,i=R(3);p(4),O(t.organizationName),p(),V("ngClass",i.getStatusClass(t.status)),p(),Y("fa-check-circle",t.status==="approved")("fa-clock",t.status==="pending")("fa-times-circle",t.status==="rejected"),p(),P(" ",C(8,20,i.getStatusKey(t.status))," "),p(8),P("",C(16,22,"subscriptions.plan"),":"),p(2),P(" ",C(18,24,i.getPlanKey(t.subscriptionPlan))),p(6),P("",C(24,26,"subscriptions.startDate"),":"),p(2),P(" ",i.formatDate(t.startDate)),p(5),P("",C(31,28,"subscriptions.endDate"),":"),p(2),P(" ",i.formatDate(t.endDate)),p(4),O(t.organizationEmail),p(4),O(i.formatDate(t.createdAt)),p(),k(i.isSubscriptionActive(t)?41:-1),p(2),V("routerLink",Ny(32,KQ,t.organizationId,t.subscriptionId)),p(2),P(" ",C(46,30,"admin.subscriptions.viewDetails")," ")}}function eZ(n,e){if(n&1&&(m(0,"div",17)(1,"div",19),dt(2,JQ,47,35,"div",20,YQ),_()()),n&2){let t=R(2);p(2),ft(t.filteredSubscriptions)}}function tZ(n,e){n&1&&(m(0,"div",18),M(1,"i",3),m(2,"p"),v(3),b(4,"translate"),_()()),n&2&&(p(3),O(C(4,1,"admin.subscriptions.noSubscriptions")))}function nZ(n,e){if(n&1){let t=Re();m(0,"div",11)(1,"div",12)(2,"div",13)(3,"button",14),H("click",function(){X(t);let r=R();return J(r.onStatusFilterChange("all"))}),m(4,"span",15),v(5),b(6,"translate"),_(),m(7,"span",16),v(8),_()()(),m(9,"div",13)(10,"button",14),H("click",function(){X(t);let r=R();return J(r.onStatusFilterChange("pending"))}),m(11,"span",15),v(12),b(13,"translate"),_(),m(14,"span",16),v(15),_()()(),m(16,"div",13)(17,"button",14),H("click",function(){X(t);let r=R();return J(r.onStatusFilterChange("approved"))}),m(18,"span",15),v(19),b(20,"translate"),_(),m(21,"span",16),v(22),_()()(),m(23,"div",13)(24,"button",14),H("click",function(){X(t);let r=R();return J(r.onStatusFilterChange("rejected"))}),m(25,"span",15),v(26),b(27,"translate"),_(),m(28,"span",16),v(29),_()()()()(),A(30,eZ,4,0,"div",17)(31,tZ,5,3,"div",18)}if(n&2){let t=R();p(3),Y("active",t.selectedStatus==="all"),p(2),O(C(6,17,"admin.subscriptions.all")),p(3),O(t.getCountByStatus("all")),p(2),Y("active",t.selectedStatus==="pending"),p(2),O(C(13,19,"admin.subscriptions.pending")),p(3),O(t.getCountByStatus("pending")),p(2),Y("active",t.selectedStatus==="approved"),p(2),O(C(20,21,"admin.subscriptions.approved")),p(3),O(t.getCountByStatus("approved")),p(2),Y("active",t.selectedStatus==="rejected"),p(2),O(C(27,23,"admin.subscriptions.rejected")),p(3),O(t.getCountByStatus("rejected")),p(),k(t.filteredSubscriptions.length>0?30:31)}}var h_=class n{constructor(e,t){this.platformSubscriptions=e;this.organizationService=t}subscriptions=[];filteredSubscriptions=[];isLoading=!0;errorMessage="";selectedStatus="all";destroy$=new de;ngOnInit(){this.loadAllSubscriptions()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}loadAllSubscriptions(){this.isLoading=!0,this.errorMessage="",this.organizationService.getAllOrganizations().pipe(ut(1),Me(e=>{if(e.length===0)return U([]);let t=e.map(i=>this.platformSubscriptions.getSubscriptionsOnce(i.uid).pipe(K(r=>r.map(o=>ie(F({},o),{organizationName:i.name,organizationEmail:i.email,organizationId:i.uid})))));return Ar(t).pipe(K(i=>i.flat()))}),Xe(this.destroy$)).subscribe({next:e=>{this.subscriptions=e.sort((t,i)=>new Date(i.createdAt).getTime()-new Date(t.createdAt).getTime()),this.filterSubscriptions(),this.isLoading=!1},error:e=>{console.error("Error loading subscriptions:",e),this.errorMessage="admin.subscriptions.loadError",this.isLoading=!1}})}filterSubscriptions(){this.selectedStatus==="all"?this.filteredSubscriptions=this.subscriptions:this.filteredSubscriptions=this.subscriptions.filter(e=>e.status===this.selectedStatus)}onStatusFilterChange(e){this.selectedStatus=e,this.filterSubscriptions()}getStatusClass(e){switch(e){case"approved":return"badge-success";case"pending":return"badge-warning";case"rejected":return"badge-error";default:return"badge-secondary"}}getStatusKey(e){return`subscriptions.statusTypes.${e}`}getPlanKey(e){return`subscriptions.plans.${e}`}getCountByStatus(e){return e==="all"?this.subscriptions.length:this.subscriptions.filter(t=>t.status===e).length}formatDate(e){return e?new Date(e).toLocaleDateString("ar-EG",{year:"numeric",month:"short",day:"numeric"}):""}isSubscriptionActive(e){if(e.status!=="approved")return!1;let t=new Date,i=new Date(e.startDate),r=new Date(e.endDate);return t>=i&&t<=r}static \u0275fac=function(t){return new(t||n)(B(ls),B(Lt))};static \u0275cmp=me({type:n,selectors:[["app-subscription-list"]],decls:12,vars:9,consts:[[1,"subscription-list"],[1,"page-header"],[1,"page-title"],[1,"fas","fa-credit-card"],[1,"page-subtitle"],[1,"loading-state"],[1,"alert","alert-error"],["role","status",1,"spinner-border","text-primary"],[1,"visually-hidden"],[1,"mt-3"],[1,"fas","fa-exclamation-circle"],[1,"filter-tabs"],[1,"row","g-2"],[1,"col-6","col-md-3"],["type","button",1,"filter-tab",3,"click"],[1,"tab-label"],[1,"tab-count"],[1,"subscriptions-grid"],[1,"empty-state"],[1,"row","g-4"],[1,"col-12","col-md-6","col-lg-4"],[1,"subscription-card"],[1,"card-header"],[1,"org-name"],[1,"status-badge",3,"ngClass"],[1,"fas"],[1,"card-body"],[1,"subscription-info"],[1,"info-item"],[1,"fas","fa-calendar-alt"],[1,"fas","fa-calendar-plus"],[1,"fas","fa-calendar-minus"],[1,"fas","fa-envelope"],[1,"info-item","date"],[1,"fas","fa-clock"],[1,"info-item","active-badge"],[1,"card-footer"],[1,"btn","btn-view",3,"routerLink"],[1,"fas","fa-eye"],[1,"fas","fa-check-circle"]],template:function(t,i){t&1&&(m(0,"div",0)(1,"div",1)(2,"h1",2),M(3,"i",3),v(4),b(5,"translate"),_(),m(6,"p",4),v(7),b(8,"translate"),_()(),A(9,QQ,8,6,"div",5),A(10,ZQ,4,3,"div",6),A(11,nZ,32,25),_()),t&2&&(p(4),P(" ",C(5,5,"admin.subscriptions.title")," "),p(3),O(C(8,7,"admin.subscriptions.subtitle")),p(2),k(i.isLoading?9:-1),p(),k(!i.isLoading&&i.errorMessage?10:-1),p(),k(!i.isLoading&&!i.errorMessage?11:-1))},dependencies:[Ie,jt,$e,Ye,Pe,Ne],styles:[".page-header[_ngcontent-%COMP%]{margin-bottom:64px;padding-bottom:32px;border-bottom:2px solid rgba(14,58,93,.1)}.page-header[_ngcontent-%COMP%]   .page-title[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;color:#0e3a5d;margin-bottom:4px;font-family:Cairo,sans-serif;display:flex;align-items:center;gap:16px}.page-header[_ngcontent-%COMP%]   .page-title[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#c9a24d;font-size:1.8rem}.page-header[_ngcontent-%COMP%]   .page-subtitle[_ngcontent-%COMP%]{font-size:1rem;color:#0f172a99;margin:0;font-family:Cairo,sans-serif}.loading-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;min-height:400px;text-align:center;padding:64px}.loading-state[_ngcontent-%COMP%]   .spinner-border[_ngcontent-%COMP%]{width:3rem;height:3rem;border-width:.3rem;color:#c9a24d}.loading-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#0f172ab3;font-size:1rem;margin-top:16px;font-family:Cairo,sans-serif}.alert-error[_ngcontent-%COMP%]{padding:16px 32px;border-radius:8px;background:#dc26261a;color:#dc2626;border:1px solid rgba(220,38,38,.3);display:flex;align-items:center;gap:8px;font-size:.95rem;margin-bottom:32px;font-family:Cairo,sans-serif}.alert-error[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.1rem}.filter-tabs[_ngcontent-%COMP%]{margin-bottom:64px}.filter-tabs[_ngcontent-%COMP%]   .filter-tab[_ngcontent-%COMP%]{width:100%;padding:16px;border:2px solid rgba(14,58,93,.2);border-radius:8px;background:#fff;cursor:pointer;transition:all .2s ease;font-family:Cairo,sans-serif;text-align:center}.filter-tabs[_ngcontent-%COMP%]   .filter-tab[_ngcontent-%COMP%]:hover{border-color:#c9a24d;background:#c9a24d0d}.filter-tabs[_ngcontent-%COMP%]   .filter-tab.active[_ngcontent-%COMP%]{border-color:#c9a24d;background:#c9a24d1a;color:#0e3a5d;font-weight:700}.filter-tabs[_ngcontent-%COMP%]   .filter-tab[_ngcontent-%COMP%]   .tab-label[_ngcontent-%COMP%]{display:block;font-size:.9rem;margin-bottom:4px}.filter-tabs[_ngcontent-%COMP%]   .filter-tab[_ngcontent-%COMP%]   .tab-count[_ngcontent-%COMP%]{display:block;font-size:1.5rem;font-weight:700;color:#c9a24d}.subscriptions-grid[_ngcontent-%COMP%]   .subscription-card[_ngcontent-%COMP%]{background:#fff;border-radius:16px;box-shadow:0 4px 8px #00000026;border:1px solid rgba(14,58,93,.1);transition:all .2s ease;height:100%;display:flex;flex-direction:column}.subscriptions-grid[_ngcontent-%COMP%]   .subscription-card[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 8px 16px #0003;border-color:#c9a24d4d}.subscriptions-grid[_ngcontent-%COMP%]   .subscription-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{padding:32px;border-bottom:1px solid rgba(14,58,93,.1);display:flex;justify-content:space-between;align-items:flex-start;gap:16px}.subscriptions-grid[_ngcontent-%COMP%]   .subscription-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .org-name[_ngcontent-%COMP%]{font-size:1.2rem;font-weight:700;color:#0e3a5d;margin:0;font-family:Cairo,sans-serif;flex:1}.subscriptions-grid[_ngcontent-%COMP%]   .subscription-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .status-badge[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:4px;padding:4px 16px;border-radius:8px;font-weight:600;font-size:.85rem;font-family:Cairo,sans-serif;white-space:nowrap}.subscriptions-grid[_ngcontent-%COMP%]   .subscription-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .status-badge.badge-success[_ngcontent-%COMP%]{background:#16a34a1a;color:#16a34a;border:1px solid rgba(22,163,74,.3)}.subscriptions-grid[_ngcontent-%COMP%]   .subscription-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .status-badge.badge-warning[_ngcontent-%COMP%]{background:#d977061a;color:#d97706;border:1px solid rgba(217,119,6,.3)}.subscriptions-grid[_ngcontent-%COMP%]   .subscription-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .status-badge.badge-error[_ngcontent-%COMP%]{background:#dc26261a;color:#dc2626;border:1px solid rgba(220,38,38,.3)}.subscriptions-grid[_ngcontent-%COMP%]   .subscription-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .status-badge[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.8rem}.subscriptions-grid[_ngcontent-%COMP%]   .subscription-card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{padding:32px;flex:1}.subscriptions-grid[_ngcontent-%COMP%]   .subscription-card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .subscription-info[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;margin-bottom:16px;font-size:.95rem;color:#0f172acc;font-family:Cairo,sans-serif}.subscriptions-grid[_ngcontent-%COMP%]   .subscription-card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .subscription-info[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#0e3a5d;font-size:.9rem;width:18px;text-align:center}.subscriptions-grid[_ngcontent-%COMP%]   .subscription-card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .subscription-info[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#0f172a;font-weight:600}.subscriptions-grid[_ngcontent-%COMP%]   .subscription-card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .subscription-info[_ngcontent-%COMP%]   .info-item.date[_ngcontent-%COMP%]{color:#0f172a99;font-size:.85rem}.subscriptions-grid[_ngcontent-%COMP%]   .subscription-card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .subscription-info[_ngcontent-%COMP%]   .info-item.active-badge[_ngcontent-%COMP%]{color:#16a34a;font-weight:700;margin-top:8px;padding-top:8px;border-top:1px solid rgba(14,58,93,.1)}.subscriptions-grid[_ngcontent-%COMP%]   .subscription-card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .subscription-info[_ngcontent-%COMP%]   .info-item.active-badge[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#16a34a}.subscriptions-grid[_ngcontent-%COMP%]   .subscription-card[_ngcontent-%COMP%]   .card-footer[_ngcontent-%COMP%]{padding:16px 32px;border-top:1px solid rgba(14,58,93,.1);background:#f6f7f94d}.subscriptions-grid[_ngcontent-%COMP%]   .subscription-card[_ngcontent-%COMP%]   .card-footer[_ngcontent-%COMP%]   .btn-view[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center;justify-content:center;gap:8px;padding:8px 16px;background:#c9a24d;color:#fff;border:none;border-radius:8px;font-weight:600;font-size:.95rem;font-family:Cairo,sans-serif;text-decoration:none;transition:all .2s ease}.subscriptions-grid[_ngcontent-%COMP%]   .subscription-card[_ngcontent-%COMP%]   .card-footer[_ngcontent-%COMP%]   .btn-view[_ngcontent-%COMP%]:hover{background:#a8832f;transform:translateY(-2px);box-shadow:0 1px 2px #0000001a}.subscriptions-grid[_ngcontent-%COMP%]   .subscription-card[_ngcontent-%COMP%]   .card-footer[_ngcontent-%COMP%]   .btn-view[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.9rem}.empty-state[_ngcontent-%COMP%]{text-align:center;padding:128px;background:#fff;border-radius:16px;box-shadow:0 1px 2px #0000001a;border:2px dashed rgba(14,58,93,.2)}.empty-state[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:4rem;color:#0f172a4d;margin-bottom:16px}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.1rem;color:#0f172a99;font-family:Cairo,sans-serif;margin:0}@media (max-width: 767.98px){.page-header[_ngcontent-%COMP%]   .page-title[_ngcontent-%COMP%]{font-size:1.5rem}.subscription-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start}}"]})};var ds=ms(cs());function iZ(n,e){n&1&&(m(0,"div",4)(1,"div",7)(2,"span",8),v(3),b(4,"translate"),_()(),m(5,"p",9),v(6),b(7,"translate"),_()()),n&2&&(p(3),O(C(4,2,"admin.subscriptions.loading")),p(3),O(C(7,4,"admin.subscriptions.loading")))}function rZ(n,e){if(n&1&&(m(0,"div",5),M(1,"i",10),v(2),b(3,"translate"),_()),n&2){let t=R();p(2),P(" ",C(3,1,t.errorMessage)," ")}}function oZ(n,e){if(n&1&&(m(0,"div",20),M(1,"i",43),v(2),b(3,"translate"),_()),n&2){let t=R(2);p(2),P(" ",C(3,1,t.successMessage)," ")}}function sZ(n,e){if(n&1&&(m(0,"div",5),M(1,"i",10),v(2),b(3,"translate"),_()),n&2){let t=R(2);p(2),P(" ",C(3,1,t.errorMessage)," ")}}function aZ(n,e){if(n&1&&(m(0,"div",13)(1,"div",28)(2,"label",29),M(3,"i",44),v(4),b(5,"translate"),_(),m(6,"p",45),v(7),b(8,"translate"),_()()()),n&2){let t=R(2);p(4),P(" ",C(5,3,"subscriptions.daysRemaining")," "),p(3),Oi(" ",t.getDaysRemaining()," ",C(8,5,"subscriptions.days")," ")}}function cZ(n,e){if(n&1&&(m(0,"div",13)(1,"div",28)(2,"label",29),M(3,"i",46),v(4),b(5,"translate"),_(),m(6,"p",31),v(7),_()()()),n&2){let t=R(2);p(4),P(" ",C(5,2,"subscriptions.updatedAt")," "),p(3),O(t.formatDate(t.subscription.updatedAt))}}function lZ(n,e){n&1&&(M(0,"i",51),v(1),b(2,"translate")),n&2&&(p(),P(" ",C(2,1,"admin.subscriptions.processing")," "))}function uZ(n,e){n&1&&(M(0,"i",52),v(1),b(2,"translate")),n&2&&(p(),P(" ",C(2,1,"admin.subscriptions.approve")," "))}function dZ(n,e){n&1&&(M(0,"i",51),v(1),b(2,"translate")),n&2&&(p(),P(" ",C(2,1,"admin.subscriptions.processing")," "))}function fZ(n,e){n&1&&(M(0,"i",53),v(1),b(2,"translate")),n&2&&(p(),P(" ",C(2,1,"admin.subscriptions.reject")," "))}function pZ(n,e){if(n&1){let t=Re();m(0,"div",42)(1,"h3",24),M(2,"i",47),v(3),b(4,"translate"),_(),m(5,"div",26)(6,"div",48)(7,"button",49),H("click",function(){X(t);let r=R(2);return J(r.approveSubscription())}),A(8,lZ,3,3)(9,uZ,3,3),_(),m(10,"button",50),H("click",function(){X(t);let r=R(2);return J(r.rejectSubscription())}),A(11,dZ,3,3)(12,fZ,3,3),_()()()()}if(n&2){let t=R(2);p(3),P(" ",C(4,5,"admin.subscriptions.actions")," "),p(4),V("disabled",t.isProcessing),p(),k(t.isProcessing?8:9),p(2),V("disabled",t.isProcessing),p(),k(t.isProcessing?11:12)}}function hZ(n,e){if(n&1){let t=Re();m(0,"div",6)(1,"div",11)(2,"div",12)(3,"div",13)(4,"h1",14),M(5,"i",15),v(6),b(7,"translate"),_(),m(8,"p",16),v(9),_()(),m(10,"div",17)(11,"span",18),M(12,"i",19),v(13),b(14,"translate"),_()()()(),A(15,oZ,4,3,"div",20),A(16,sZ,4,3,"div",5),m(17,"div",21)(18,"div",22)(19,"div",23)(20,"h3",24),M(21,"i",25),v(22),b(23,"translate"),_(),m(24,"div",26)(25,"div",27)(26,"div",13)(27,"div",28)(28,"label",29),M(29,"i",30),v(30),b(31,"translate"),_(),m(32,"p",31),v(33),b(34,"translate"),_()()(),m(35,"div",13)(36,"div",28)(37,"label",29),M(38,"i",32),v(39),b(40,"translate"),_(),m(41,"p",31),v(42),_()()(),m(43,"div",13)(44,"div",28)(45,"label",29),M(46,"i",33),v(47),b(48,"translate"),_(),m(49,"p",31),v(50),_()()(),A(51,aZ,9,7,"div",13),m(52,"div",13)(53,"div",28)(54,"label",29),M(55,"i",34),v(56),b(57,"translate"),_(),m(58,"p",31),v(59),_()()(),A(60,cZ,8,4,"div",13),_()()(),m(61,"div",23)(62,"h3",24),M(63,"i",35),v(64),b(65,"translate"),_(),m(66,"div",26)(67,"div",36)(68,"img",37),H("click",function(){X(t);let r=R();return J(r.openImageModal(r.subscription.imageOfBankTransfer))}),_()()()()(),m(69,"div",38)(70,"div",23)(71,"h3",24),M(72,"i",39),v(73),b(74,"translate"),_(),m(75,"div",26)(76,"div",28)(77,"label",29),M(78,"i",39),v(79),b(80,"translate"),_(),m(81,"p",31),v(82),_()(),m(83,"div",28)(84,"label",29),M(85,"i",40),v(86),b(87,"translate"),_(),m(88,"p",31),v(89),_()(),m(90,"div",28)(91,"label",29),M(92,"i",41),v(93),b(94,"translate"),_(),m(95,"p",31),v(96),_()()()(),A(97,pZ,13,7,"div",42),_()()()}if(n&2){let t=R();p(6),P(" ",C(7,33,"admin.subscriptions.details")," "),p(3),O(t.organization.name),p(2),V("ngClass",t.getStatusClass(t.subscription.status)),p(),Y("fa-check-circle",t.subscription.status==="approved")("fa-clock",t.subscription.status==="pending")("fa-times-circle",t.subscription.status==="rejected"),p(),P(" ",C(14,35,t.getStatusKey(t.subscription.status))," "),p(2),k(t.successMessage?15:-1),p(),k(t.errorMessage?16:-1),p(6),P(" ",C(23,37,"admin.subscriptions.subscriptionInfo")," "),p(8),P(" ",C(31,39,"subscriptions.plan")," "),p(3),O(C(34,41,t.getPlanKey(t.subscription.subscriptionPlan))),p(6),P(" ",C(40,43,"subscriptions.startDate")," "),p(3),O(t.formatDate(t.subscription.startDate)),p(5),P(" ",C(48,45,"subscriptions.endDate")," "),p(3),O(t.formatDate(t.subscription.endDate)),p(),k(t.isSubscriptionActive()?51:-1),p(5),P(" ",C(57,47,"subscriptions.createdAt")," "),p(3),O(t.formatDate(t.subscription.createdAt)),p(),k(t.subscription.updatedAt?60:-1),p(4),P(" ",C(65,49,"subscriptions.bankTransferReceipt")," "),p(4),V("src",t.subscription.imageOfBankTransfer,At),p(5),P(" ",C(74,51,"admin.subscriptions.organizationInfo")," "),p(6),P(" ",C(80,53,"auth.profile.name")," "),p(3),O(t.organization.name),p(4),P(" ",C(87,55,"auth.profile.email")," "),p(3),O(t.organization.email),p(4),P(" ",C(94,57,"auth.profile.phone")," "),p(3),O(t.organization.phone),p(),k(t.subscription.status==="pending"?97:-1)}}var g_=class n{constructor(e,t,i,r,o){this.platformSubscriptions=e;this.organizationService=t;this.route=i;this.router=r;this.notifications=o}subscription=null;organization=null;isLoading=!0;isProcessing=!1;errorMessage="";successMessage="";destroy$=new de;ngOnInit(){this.route.params.pipe(Me(e=>{let t=e.organizationId,i=e.subscriptionId;return!t||!i?(this.errorMessage="admin.subscriptions.invalidId",this.isLoading=!1,U({subscription:null,organization:null})):Ar({subscription:this.platformSubscriptions.getSubscriptionById(t,i).pipe(ut(1)),organization:this.organizationService.getOrganization(t).pipe(ut(1))})}),Xe(this.destroy$)).subscribe({next:e=>{this.subscription=e.subscription,this.organization=e.organization,this.isLoading=!1,e.subscription||(this.errorMessage="admin.subscriptions.notFound"),e.organization||(this.errorMessage="admin.subscriptions.organizationNotFound")},error:e=>{console.error("Error loading subscription:",e),this.errorMessage="admin.subscriptions.loadError",this.isLoading=!1}})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}approveSubscription(){!this.subscription||!this.organization||ds.default.fire({title:"\u0647\u0644 \u0623\u0646\u062A \u0645\u062A\u0623\u0643\u062F\u061F",text:"\u0633\u064A\u062A\u0645 \u0627\u0644\u0645\u0648\u0627\u0641\u0642\u0629 \u0639\u0644\u0649 \u0647\u0630\u0627 \u0627\u0644\u0627\u0634\u062A\u0631\u0627\u0643.",icon:"question",showCancelButton:!0,confirmButtonText:"\u0646\u0639\u0645, \u0645\u0648\u0627\u0641\u0642",cancelButtonText:"\u0625\u0644\u063A\u0627\u0621",confirmButtonColor:"#16A34A",cancelButtonColor:"#6B7280"}).then(e=>{e.isConfirmed&&(this.isProcessing=!0,this.errorMessage="",this.successMessage="",this.platformSubscriptions.approveSubscription(this.organization.uid,this.subscription.subscriptionId).pipe(Ze(t=>(this.isProcessing=!1,this.errorMessage="admin.subscriptions.approveError",console.error("Error approving subscription:",t),ds.default.fire({icon:"error",title:"\u062E\u0637\u0623",text:"\u062D\u062F\u062B \u062E\u0637\u0623 \u0623\u062B\u0646\u0627\u0621 \u0627\u0644\u0645\u0648\u0627\u0641\u0642\u0629 \u0639\u0644\u0649 \u0627\u0644\u0627\u0634\u062A\u0631\u0627\u0643. \u064A\u0631\u062C\u0649 \u0627\u0644\u0645\u062D\u0627\u0648\u0644\u0629 \u0645\u0631\u0629 \u0623\u062E\u0631\u0649.",confirmButtonText:"\u062D\u0633\u0646\u0627\u064B",confirmButtonColor:"#DC2626"}),U(null)))).subscribe({next:t=>{t!==null&&(this.isProcessing=!1,this.successMessage="admin.subscriptions.approveSuccess",this.subscription&&(this.subscription.status="approved"),this.sendNotificationToOrganization("\u062A\u0645 \u0627\u0644\u0645\u0648\u0627\u0641\u0642\u0629 \u0639\u0644\u0649 \u0627\u0634\u062A\u0631\u0627\u0643\u0643","\u062A\u0645 \u0627\u0644\u0645\u0648\u0627\u0641\u0642\u0629 \u0639\u0644\u0649 \u0637\u0644\u0628 \u0627\u0644\u0627\u0634\u062A\u0631\u0627\u0643 \u0627\u0644\u062E\u0627\u0635 \u0628\u0645\u0646\u0638\u0645\u062A\u0643. \u064A\u0645\u0643\u0646\u0643 \u0627\u0644\u0622\u0646 \u0627\u0644\u0648\u0635\u0648\u0644 \u0625\u0644\u0649 \u0627\u0644\u0645\u0646\u0635\u0629.","approval"),ds.default.fire({icon:"success",title:"\u062A\u0645\u062A \u0627\u0644\u0645\u0648\u0627\u0641\u0642\u0629 \u0628\u0646\u062C\u0627\u062D!",text:"\u062A\u0645\u062A \u0627\u0644\u0645\u0648\u0627\u0641\u0642\u0629 \u0639\u0644\u0649 \u0627\u0644\u0627\u0634\u062A\u0631\u0627\u0643 \u0628\u0646\u062C\u0627\u062D.",confirmButtonText:"\u062D\u0633\u0646\u0627\u064B",confirmButtonColor:"#16A34A",timer:2e3,timerProgressBar:!0}).then(()=>{this.router.navigate(["/admin/subscriptions/list"])}))}}))})}rejectSubscription(){!this.subscription||!this.organization||ds.default.fire({title:"\u0647\u0644 \u0623\u0646\u062A \u0645\u062A\u0623\u0643\u062F\u061F",text:"\u0633\u064A\u062A\u0645 \u0631\u0641\u0636 \u0647\u0630\u0627 \u0627\u0644\u0627\u0634\u062A\u0631\u0627\u0643.",icon:"warning",showCancelButton:!0,confirmButtonText:"\u0646\u0639\u0645, \u0627\u0631\u0641\u0636",cancelButtonText:"\u0625\u0644\u063A\u0627\u0621",confirmButtonColor:"#DC2626",cancelButtonColor:"#6B7280"}).then(e=>{e.isConfirmed&&(this.isProcessing=!0,this.errorMessage="",this.successMessage="",this.platformSubscriptions.rejectSubscription(this.organization.uid,this.subscription.subscriptionId).pipe(Ze(t=>(this.isProcessing=!1,this.errorMessage="admin.subscriptions.rejectError",console.error("Error rejecting subscription:",t),ds.default.fire({icon:"error",title:"\u062E\u0637\u0623",text:"\u062D\u062F\u062B \u062E\u0637\u0623 \u0623\u062B\u0646\u0627\u0621 \u0631\u0641\u0636 \u0627\u0644\u0627\u0634\u062A\u0631\u0627\u0643. \u064A\u0631\u062C\u0649 \u0627\u0644\u0645\u062D\u0627\u0648\u0644\u0629 \u0645\u0631\u0629 \u0623\u062E\u0631\u0649.",confirmButtonText:"\u062D\u0633\u0646\u0627\u064B",confirmButtonColor:"#DC2626"}),U(null)))).subscribe({next:t=>{t!==null&&(this.isProcessing=!1,this.successMessage="admin.subscriptions.rejectSuccess",this.subscription&&(this.subscription.status="rejected"),this.sendNotificationToOrganization("\u062A\u0645 \u0631\u0641\u0636 \u0627\u0634\u062A\u0631\u0627\u0643\u0643","\u062A\u0645 \u0631\u0641\u0636 \u0637\u0644\u0628 \u0627\u0644\u0627\u0634\u062A\u0631\u0627\u0643 \u0627\u0644\u062E\u0627\u0635 \u0628\u0645\u0646\u0638\u0645\u062A\u0643. \u064A\u0631\u062C\u0649 \u0645\u0631\u0627\u062C\u0639\u0629 \u0627\u0644\u0645\u0639\u0644\u0648\u0645\u0627\u062A \u0648\u0625\u0639\u0627\u062F\u0629 \u0627\u0644\u0645\u062D\u0627\u0648\u0644\u0629.","rejection"),ds.default.fire({icon:"success",title:"\u062A\u0645 \u0627\u0644\u0631\u0641\u0636 \u0628\u0646\u062C\u0627\u062D!",text:"\u062A\u0645 \u0631\u0641\u0636 \u0627\u0644\u0627\u0634\u062A\u0631\u0627\u0643 \u0628\u0646\u062C\u0627\u062D.",confirmButtonText:"\u062D\u0633\u0646\u0627\u064B",confirmButtonColor:"#DC2626",timer:2e3,timerProgressBar:!0}).then(()=>{this.router.navigate(["/admin/subscriptions/list"])}))}}))})}getStatusClass(e){switch(e){case"approved":return"badge-success";case"pending":return"badge-warning";case"rejected":return"badge-error";default:return"badge-secondary"}}getStatusKey(e){return`subscriptions.statusTypes.${e}`}getPlanKey(e){return`subscriptions.plans.${e}`}formatDate(e){return e?new Date(e).toLocaleDateString("ar-EG",{year:"numeric",month:"long",day:"numeric"}):""}openImageModal(e){ds.default.fire({imageUrl:e,imageAlt:"Bank Transfer Receipt",showCloseButton:!0,showConfirmButton:!1,width:"90%",padding:"0"})}isSubscriptionActive(){if(!this.subscription||this.subscription.status!=="approved")return!1;let e=new Date,t=new Date(this.subscription.startDate),i=new Date(this.subscription.endDate);return e>=t&&e<=i}getDaysRemaining(){if(!this.subscription||this.subscription.status!=="approved")return null;let e=new Date,i=new Date(this.subscription.endDate).getTime()-e.getTime();return Math.ceil(i/(1e3*60*60*24))}sendNotificationToOrganization(e,t,i){this.organization&&this.notifications.sendNotificationToOrganization(this.organization.uid,{title:e,message:t,type:i})}static \u0275fac=function(t){return new(t||n)(B(ls),B(Lt),B(qt),B(ze),B(hi))};static \u0275cmp=me({type:n,selectors:[["app-subscription-details"]],decls:9,vars:6,consts:[[1,"subscription-details"],[1,"back-button"],["type","button","routerLink","/admin/subscriptions/list",1,"btn","btn-back"],[1,"fas","fa-arrow-left"],[1,"loading-state"],[1,"alert","alert-error"],[1,"details-content"],["role","status",1,"spinner-border","text-primary"],[1,"visually-hidden"],[1,"mt-3"],[1,"fas","fa-exclamation-circle"],[1,"details-header"],[1,"row","align-items-center"],[1,"col-12","col-md-6"],[1,"details-title"],[1,"fas","fa-credit-card"],[1,"details-subtitle"],[1,"col-12","col-md-6","text-md-end"],[1,"status-badge",3,"ngClass"],[1,"fas"],[1,"alert","alert-success"],[1,"row","g-4"],[1,"col-12","col-lg-8"],[1,"details-card"],[1,"card-title"],[1,"fas","fa-info-circle"],[1,"card-content"],[1,"row","g-3"],[1,"info-item"],[1,"info-label"],[1,"fas","fa-calendar-alt"],[1,"info-value"],[1,"fas","fa-calendar-plus"],[1,"fas","fa-calendar-minus"],[1,"fas","fa-clock"],[1,"fas","fa-receipt"],[1,"receipt-preview"],["alt","Bank Transfer Receipt",2,"cursor","pointer",3,"click","src"],[1,"col-12","col-lg-4"],[1,"fas","fa-building"],[1,"fas","fa-envelope"],[1,"fas","fa-phone"],[1,"details-card","actions-card"],[1,"fas","fa-check-circle"],[1,"fas","fa-hourglass-half"],[1,"info-value","days-remaining"],[1,"fas","fa-edit"],[1,"fas","fa-cog"],[1,"action-buttons"],["type","button",1,"btn","btn-approve",3,"click","disabled"],["type","button",1,"btn","btn-reject",3,"click","disabled"],[1,"fas","fa-spinner","fa-spin"],[1,"fas","fa-check"],[1,"fas","fa-times"]],template:function(t,i){t&1&&(m(0,"div",0)(1,"div",1)(2,"button",2),M(3,"i",3),v(4),b(5,"translate"),_()(),A(6,iZ,8,6,"div",4),A(7,rZ,4,3,"div",5),A(8,hZ,98,59,"div",6),_()),t&2&&(p(4),P(" ",C(5,4,"admin.subscriptions.back")," "),p(2),k(i.isLoading?6:-1),p(),k(!i.isLoading&&i.errorMessage&&!i.subscription?7:-1),p(),k(!i.isLoading&&i.subscription&&i.organization?8:-1))},dependencies:[Ie,jt,$e,Ye,Pe,Ne],styles:[".subscription-details[_ngcontent-%COMP%]{width:100%;padding:32px 0}.subscription-details[_ngcontent-%COMP%]   .back-button[_ngcontent-%COMP%]{margin-bottom:32px}.subscription-details[_ngcontent-%COMP%]   .back-button[_ngcontent-%COMP%]   .btn-back[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:8px;padding:8px 16px;background:#0f172a1a;color:#0f172a;border:1px solid rgba(15,23,42,.2);border-radius:8px;font-weight:600;font-size:.9rem;font-family:Cairo,sans-serif;cursor:pointer;transition:all .2s ease;text-decoration:none}.subscription-details[_ngcontent-%COMP%]   .back-button[_ngcontent-%COMP%]   .btn-back[_ngcontent-%COMP%]:hover{background:#0f172a33;border-color:#0f172a4d}.subscription-details[_ngcontent-%COMP%]   .back-button[_ngcontent-%COMP%]   .btn-back[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.9rem}.subscription-details[_ngcontent-%COMP%]   .loading-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;min-height:400px;text-align:center;padding:64px}.subscription-details[_ngcontent-%COMP%]   .loading-state[_ngcontent-%COMP%]   .spinner-border[_ngcontent-%COMP%]{width:3rem;height:3rem;border-width:.3rem;color:#c9a24d}.subscription-details[_ngcontent-%COMP%]   .loading-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#0f172ab3;font-size:1rem;margin-top:16px;font-family:Cairo,sans-serif}.subscription-details[_ngcontent-%COMP%]   .alert[_ngcontent-%COMP%]{padding:16px 32px;border-radius:8px;margin-bottom:32px;display:flex;align-items:center;gap:8px;font-size:.95rem;font-family:Cairo,sans-serif}.subscription-details[_ngcontent-%COMP%]   .alert.alert-error[_ngcontent-%COMP%]{background:#dc26261a;color:#dc2626;border:1px solid rgba(220,38,38,.3)}.subscription-details[_ngcontent-%COMP%]   .alert.alert-success[_ngcontent-%COMP%]{background:#16a34a1a;color:#16a34a;border:1px solid rgba(22,163,74,.3)}.subscription-details[_ngcontent-%COMP%]   .alert[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.1rem}.subscription-details[_ngcontent-%COMP%]   .details-header[_ngcontent-%COMP%]{margin-bottom:64px;padding-bottom:16px;border-bottom:2px solid rgba(14,58,93,.1)}.subscription-details[_ngcontent-%COMP%]   .details-header[_ngcontent-%COMP%]   .details-title[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;color:#0e3a5d;margin-bottom:4px;font-family:Cairo,sans-serif;display:flex;align-items:center;gap:16px}.subscription-details[_ngcontent-%COMP%]   .details-header[_ngcontent-%COMP%]   .details-title[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#c9a24d;font-size:1.8rem}.subscription-details[_ngcontent-%COMP%]   .details-header[_ngcontent-%COMP%]   .details-subtitle[_ngcontent-%COMP%]{font-size:1.1rem;color:#0f172a99;margin:0;font-family:Cairo,sans-serif}.subscription-details[_ngcontent-%COMP%]   .details-header[_ngcontent-%COMP%]   .status-badge[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:4px;padding:8px 32px;border-radius:8px;font-weight:700;font-size:.95rem;font-family:Cairo,sans-serif}.subscription-details[_ngcontent-%COMP%]   .details-header[_ngcontent-%COMP%]   .status-badge.badge-success[_ngcontent-%COMP%]{background:#16a34a1a;color:#16a34a;border:1px solid rgba(22,163,74,.3)}.subscription-details[_ngcontent-%COMP%]   .details-header[_ngcontent-%COMP%]   .status-badge.badge-warning[_ngcontent-%COMP%]{background:#d977061a;color:#d97706;border:1px solid rgba(217,119,6,.3)}.subscription-details[_ngcontent-%COMP%]   .details-header[_ngcontent-%COMP%]   .status-badge.badge-error[_ngcontent-%COMP%]{background:#dc26261a;color:#dc2626;border:1px solid rgba(220,38,38,.3)}.subscription-details[_ngcontent-%COMP%]   .details-header[_ngcontent-%COMP%]   .status-badge[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.9rem}.subscription-details[_ngcontent-%COMP%]   .details-card[_ngcontent-%COMP%]{background:#fff;border-radius:16px;padding:64px;box-shadow:0 4px 8px #00000026;border:1px solid rgba(14,58,93,.1);margin-bottom:32px}.subscription-details[_ngcontent-%COMP%]   .details-card[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;color:#0e3a5d;margin-bottom:32px;font-family:Cairo,sans-serif;display:flex;align-items:center;gap:8px;padding-bottom:16px;border-bottom:1px solid rgba(14,58,93,.1)}.subscription-details[_ngcontent-%COMP%]   .details-card[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#c9a24d;font-size:1.3rem}.subscription-details[_ngcontent-%COMP%]   .details-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]{margin-bottom:16px}.subscription-details[_ngcontent-%COMP%]   .details-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]   .info-label[_ngcontent-%COMP%]{display:flex;align-items:center;gap:4px;font-weight:600;color:#0f172a;margin-bottom:4px;font-size:.9rem;font-family:Cairo,sans-serif}.subscription-details[_ngcontent-%COMP%]   .details-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]   .info-label[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#0e3a5d;font-size:.85rem;width:18px}.subscription-details[_ngcontent-%COMP%]   .details-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]   .info-value[_ngcontent-%COMP%]{color:#0f172acc;font-size:1rem;margin:0;padding-left:26px;font-family:Cairo,sans-serif}.subscription-details[_ngcontent-%COMP%]   .details-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]   .info-value.days-remaining[_ngcontent-%COMP%]{color:#c9a24d;font-weight:700;font-size:1.2rem}.subscription-details[_ngcontent-%COMP%]   .details-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]   .info-value.text-muted[_ngcontent-%COMP%]{color:#0f172a80;font-size:.85rem}.subscription-details[_ngcontent-%COMP%]   .details-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .receipt-preview[_ngcontent-%COMP%]{margin-top:16px;text-align:center}.subscription-details[_ngcontent-%COMP%]   .details-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .receipt-preview[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;max-height:400px;border-radius:8px;border:1px solid rgba(14,58,93,.2);box-shadow:0 4px 8px #00000026;cursor:pointer;transition:opacity .2s ease}.subscription-details[_ngcontent-%COMP%]   .details-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .receipt-preview[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:hover{opacity:.9}.subscription-details[_ngcontent-%COMP%]   .details-card.actions-card[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px}.subscription-details[_ngcontent-%COMP%]   .details-card.actions-card[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center;justify-content:center;gap:8px;padding:16px 32px;border:none;border-radius:8px;font-weight:700;font-size:1rem;font-family:Cairo,sans-serif;cursor:pointer;transition:all .2s ease}.subscription-details[_ngcontent-%COMP%]   .details-card.actions-card[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.subscription-details[_ngcontent-%COMP%]   .details-card.actions-card[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.9rem}.subscription-details[_ngcontent-%COMP%]   .details-card.actions-card[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .btn.btn-approve[_ngcontent-%COMP%]{background:#16a34a;color:#fff}.subscription-details[_ngcontent-%COMP%]   .details-card.actions-card[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .btn.btn-approve[_ngcontent-%COMP%]:hover:not(:disabled){background:#107636}.subscription-details[_ngcontent-%COMP%]   .details-card.actions-card[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .btn.btn-reject[_ngcontent-%COMP%]{background:#dc2626;color:#fff}.subscription-details[_ngcontent-%COMP%]   .details-card.actions-card[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .btn.btn-reject[_ngcontent-%COMP%]:hover:not(:disabled){background:#b21d1d}@media (max-width: 991.98px){.subscription-details[_ngcontent-%COMP%]   .details-header[_ngcontent-%COMP%]   .details-title[_ngcontent-%COMP%]{font-size:1.5rem}.subscription-details[_ngcontent-%COMP%]   .details-card[_ngcontent-%COMP%]{padding:32px}}@media (max-width: 767.98px){.subscription-details[_ngcontent-%COMP%]{padding:16px 0}.subscription-details[_ngcontent-%COMP%]   .details-header[_ngcontent-%COMP%]   .details-title[_ngcontent-%COMP%]{font-size:1.3rem}.subscription-details[_ngcontent-%COMP%]   .details-card[_ngcontent-%COMP%]{padding:16px}}"]})};var Ca=(n,e)=>{let t=N(yn),i=N(ze);return Jo(t).pipe(ut(1),K(r=>r?!0:(i.navigate(["/login"],{queryParams:{returnUrl:e.url}}),!1)))};var zM=(n,e)=>{let t=N(yn),i=N(ze);return Jo(t).pipe(ut(1),K(r=>r?(i.navigate(["/profile-view"]),!1):!0))};var sN=(n,e)=>{let t=N(yn),i=N(Nt),r=N(ze);return Jo(t).pipe(ut(1),K(o=>o&&i.isAdminEmail(o.email||"")?!0:(r.navigate(["/home"]),!1)))};var aN=[{path:"",pathMatch:"full",redirectTo:"home"},{path:"home",title:"\u0639\u0646\u062E | \u0628\u0648\u0627\u0628\u0629 \u0627\u0644\u0645\u0639\u0631\u0641\u0629 \u0648\u0628\u062F\u0627\u064A\u0629 \u0627\u0644\u0631\u062D\u0644\u0629",component:Vm},{path:"about",title:"\u0639\u0646\u062E | \u0645\u0646\u0638\u0648\u0645\u0629 \u062A\u0635\u0646\u0639 \u0627\u0644\u0642\u0627\u062F\u0629",component:Um},{path:"contact",title:"\u0639\u0646\u062E | \u062A\u0648\u0627\u0635\u0644 \u0645\u0639\u0646\u0627 \u0648\u0627\u0628\u062F\u0623 \u062E\u0637\u0648\u062A\u0643",component:zm},{path:"login",title:"\u0639\u0646\u062E | \u062A\u0633\u062C\u064A\u0644 \u0627\u0644\u062F\u062E\u0648\u0644 \u0625\u0644\u0649 \u0639\u0627\u0644\u0645\u0643",component:t_,canActivate:[zM]},{path:"register",title:"\u0639\u0646\u062E | \u0627\u0646\u0636\u0645 \u0625\u0644\u0649 \u0645\u0646\u0638\u0648\u0645\u0629 \u0627\u0644\u0646\u062E\u0628\u0629",component:n_,canActivate:[zM]},{path:"profile-view",title:"\u0639\u0646\u062E | \u0645\u0644\u0641\u0643 \u0627\u0644\u0634\u062E\u0635\u064A",component:i_,canActivate:[Ca]},{path:"profile-edit",title:"\u0639\u0646\u062E | \u062A\u0637\u0648\u064A\u0631 \u0645\u0644\u0641\u0643 \u0627\u0644\u0634\u062E\u0635\u064A",component:r_,canActivate:[Ca]},{path:"notifications",title:"\u0639\u0646\u062E | \u0645\u0631\u0643\u0632 \u0627\u0644\u0625\u0634\u0639\u0627\u0631\u0627\u062A",component:o_,canActivate:[Ca]},{path:"notification/:id",title:"\u0639\u0646\u062E | \u062A\u0641\u0627\u0635\u064A\u0644 \u0627\u0644\u0625\u0634\u0639\u0627\u0631",component:c_,canActivate:[Ca]},{path:"mySubscriptions",title:"\u0639\u0646\u062E | \u0627\u0634\u062A\u0631\u0627\u0643\u0627\u062A\u0643 \u0627\u0644\u062A\u0639\u0644\u064A\u0645\u064A\u0629",component:s_,canActivate:[Ca]},{path:"admin",component:l_,canActivate:[Ca,sN],children:[{path:"",pathMatch:"full",redirectTo:"organizations"},{path:"organizations",title:"\u0639\u0646\u062E | \u0625\u062F\u0627\u0631\u0629 \u0627\u0644\u0643\u064A\u0627\u0646\u0627\u062A \u0648\u0627\u0644\u0645\u0646\u0638\u0645\u0627\u062A",component:u_},{path:"organizations/:id",title:"\u0639\u0646\u062E | \u062A\u0641\u0627\u0635\u064A\u0644 \u0627\u0644\u0645\u0646\u0638\u0645\u0629",component:f_},{path:"subscriptions",title:"\u0639\u0646\u062E | \u0625\u062F\u0627\u0631\u0629 \u0627\u0644\u0627\u0634\u062A\u0631\u0627\u0643\u0627\u062A",component:h_},{path:"subscriptions/:organizationId/:subscriptionId",title:"\u0639\u0646\u062E | \u062A\u0641\u0627\u0635\u064A\u0644 \u0627\u0644\u0627\u0634\u062A\u0631\u0627\u0643",component:g_},{path:"courses",title:"\u0639\u0646\u062E | \u0645\u0631\u0643\u0632 \u0625\u062F\u0627\u0631\u0629 \u0627\u0644\u062F\u0648\u0631\u0627\u062A",component:p_}]},{path:"**",redirectTo:""}];var $M=null,m_=()=>($M||($M=iA(OM.firebase)),$M),cN={providers:[By({eventCoalescing:!0}),Rb(aN,Lb()),mT(),nA(()=>m_()),lk(()=>dk(m_())),f2(()=>{let n=m_();return h2(n,OM.firebase.databaseURL)}),P2(()=>O2(m_())),rp(sb,Pe.forRoot({defaultLanguage:"ar",loader:{provide:Uo,useFactory:wT,deps:[Mh]}}))]};var HM=ms(cs());var _l=class n{constructor(e){this.translate=e;let t=localStorage.getItem("AnkhLang");if(t&&this.supportedLangs.includes(t))this.currentLang=t;else{let i=navigator.language?.toLowerCase().split("-")[0];this.currentLang=this.supportedLangs.includes(i)?i:this.defaultLang,localStorage.setItem("AnkhLang",this.currentLang)}e.setDefaultLang(this.defaultLang),e.use(this.currentLang)}supportedLangs=["en","ar"];defaultLang="ar";currentLang;switchLanguage(e){this.supportedLangs.includes(e)&&(this.currentLang=e,localStorage.setItem("AnkhLang",e),this.translate.use(e))}getCurrentLang(){return this.currentLang}getAvailableLanguages(){return[{code:"ar",label:"\u0627\u0644\u0639\u0631\u0628\u064A\u0629",flagUrl:"assets/flags/sa.png"},{code:"en",label:"English",flagUrl:"assets/flags/us.png"}]}static \u0275fac=function(t){return new(t||n)(q(Wu))};static \u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})};var gZ=()=>({exact:!0});function mZ(n,e){if(n&1){let t=Re();m(0,"div",13)(1,"a",31),H("click",function(){X(t);let r=R();return J(r.closeMobileMenu())}),m(2,"span"),v(3),b(4,"translate"),_()()(),m(5,"div",13)(6,"a",32),H("click",function(){X(t);let r=R();return J(r.closeMobileMenu())}),m(7,"span"),v(8),b(9,"translate"),_()()()}if(n&2){let t=R();p(),V("routerLink",t.ROUTES.LOGIN),p(2),O(C(4,4,"navbar.login")),p(3),V("routerLink",t.ROUTES.REGISTER),p(2),O(C(9,6,"navbar.register"))}}function _Z(n,e){if(n&1&&(m(0,"span",40),v(1),_()),n&2){let t=R(2);p(),O(t.unreadNotificationsCount)}}function vZ(n,e){if(n&1){let t=Re();m(0,"li")(1,"a",42),H("click",function(){X(t);let r=R(2);return J(r.navigateTo(r.ROUTES.PROFILE))}),M(2,"i",46),m(3,"span"),v(4),b(5,"translate"),_()()(),m(6,"li")(7,"a",42),H("click",function(){X(t);let r=R(2);return J(r.navigateTo(r.ROUTES.mySubscriptions))}),M(8,"i",47),m(9,"span"),v(10),b(11,"translate"),_()()()}n&2&&(p(4),O(C(5,2,"navbar.viewProfile")),p(6),O(C(11,4,"navbar.subscriptions")))}function yZ(n,e){if(n&1&&(m(0,"span",50),v(1),_()),n&2){let t=R(3);p(),O(t.unreadNotificationsCount)}}function bZ(n,e){if(n&1){let t=Re();m(0,"li")(1,"a",48),H("click",function(){X(t);let r=R(2);return J(r.navigateTo(r.ROUTES.NOTIFICATIONS))}),M(2,"i",49),m(3,"span"),v(4),b(5,"translate"),_(),A(6,yZ,2,1,"span",50),_()(),m(7,"li"),M(8,"hr",51),_()}if(n&2){let t=R(2);p(4),O(C(5,2,"navbar.notifications")),p(2),k(t.unreadNotificationsCount>0?6:-1)}}function CZ(n,e){if(n&1){let t=Re();m(0,"div",23)(1,"a",33),H("click",function(r){X(t);let o=R();return J(o.toggleUserDropdown(r))}),m(2,"div",34),M(3,"i",35),_(),m(4,"div",36)(5,"span",37),v(6),_(),m(7,"span",38),v(8),_()(),M(9,"i",39),A(10,_Z,2,1,"span",40),_(),m(11,"ul",41)(12,"li")(13,"a",42),H("click",function(){X(t);let r=R();return J(r.navigateTo(r.getDashboardUrl()))}),M(14,"i",43),m(15,"span"),v(16),b(17,"translate"),_()()(),A(18,vZ,12,6),A(19,bZ,9,4),m(20,"li")(21,"a",44),H("click",function(){X(t);let r=R();return r.logout(),J(r.closeAllDropdowns())}),M(22,"i",45),m(23,"span"),v(24),b(25,"translate"),_()()()()()}if(n&2){let t=R();p(),Gt("aria-expanded",t.isUserDropdownOpen),p(5),O((t.user==null?null:t.user.email)||"Guest"),p(2),O(t.userRole==="admin"?"Admin":"Organization"),p(2),k(t.userRole==="organization"&&t.unreadNotificationsCount>0?10:-1),p(),Y("show",t.isUserDropdownOpen),p(5),O(C(17,10,"navbar.dashboard")),p(2),k(t.userRole==="organization"?18:-1),p(),k(t.userRole==="organization"?19:-1),p(5),O(C(25,12,"navbar.logout"))}}function wZ(n,e){n&1&&M(0,"i",54)}function EZ(n,e){if(n&1){let t=Re();m(0,"li")(1,"a",52),H("click",function(r){let o=X(t).$implicit;return R().changeLang(o.code),J(r.preventDefault())}),M(2,"img",26),m(3,"span",53),v(4),_(),A(5,wZ,1,0,"i",54),_()()}if(n&2){let t=e.$implicit,i=R();p(2),V("src",t.flagUrl,At)("alt",t.label),p(2),O(t.label),p(),k(i.selectedLang===t.code?5:-1)}}var __=class n{constructor(e,t,i,r,o,s){this.lanService=e;this.authService=t;this.auth=i;this.organizationService=r;this.router=o;this.notifications=s}ROUTES={HOME:"/home",COURSES:"/courses",ABOUT:"/about",CONTACT:"/contact",LOGIN:"/login",REGISTER:"/register",PROFILE:"/profile-view",NOTIFICATIONS:"/notifications",mySubscriptions:"/mySubscriptions",ADMIN:"/admin"};availableLanguages=[];selectedLang="ar";isScrolled=!1;isMobileMenuOpen=!1;isLanguageDropdownOpen=!1;isUserDropdownOpen=!1;isLoggedIn=!1;user=null;userRole=null;unreadNotificationsCount=0;LANG_STORAGE_KEY="AnkhLang";destroy$=new de;previousUnreadCount=void 0;ngOnInit(){this.initializeLanguage(),this.checkScrollPosition(),this.subscribeToAuthState()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}subscribeToAuthState(){Jo(this.auth).pipe(Xe(this.destroy$)).subscribe({next:e=>{this.isLoggedIn=!!e,this.user=e,e?this.loadUserData(e):this.resetUserData()}})}loadUserData(e){!e?.uid||!e?.email||(this.authService.isAdminEmail(e.email)?this.userRole="admin":(this.userRole="organization",this.loadUnreadNotificationsCount()))}resetUserData(){this.user=null,this.userRole=null,this.unreadNotificationsCount=0}loadUnreadNotificationsCount(){if(!this.user?.uid)return;let e=this.unreadNotificationsCount;this.previousUnreadCount=e,this.notifications.getUnreadCount(this.user.uid).pipe(Xe(this.destroy$)).subscribe({next:t=>{t>(this.previousUnreadCount||0)&&this.onNewNotificationReceived(),this.unreadNotificationsCount=t,this.previousUnreadCount=t},error:t=>{console.error("Error loading notifications count:",t)}})}onNewNotificationReceived(){this.notifications.makeNotificationSound()}getDashboardUrl(){return this.userRole==="admin"?this.ROUTES.ADMIN:this.userRole==="organization"?this.ROUTES.PROFILE:this.ROUTES.HOME}logout(){HM.default.fire({title:"\u0647\u0644 \u0623\u0646\u062A \u0645\u062A\u0623\u0643\u062F \u0645\u0646 \u062A\u0633\u062C\u064A\u0644 \u0627\u0644\u062E\u0631\u0648\u062C\u061F",text:"\u0633\u064A\u062A\u0645 \u062A\u0633\u062C\u064A\u0644 \u0627\u0644\u062E\u0631\u0648\u062C \u0645\u0646 \u062D\u0633\u0627\u0628\u0643!",icon:"warning",showCancelButton:!0,confirmButtonText:"\u0646\u0639\u0645, \u062A\u0633\u062C\u064A\u0644 \u0627\u0644\u062E\u0631\u0648\u062C",cancelButtonText:"\u0625\u0644\u063A\u0627\u0621",confirmButtonColor:"#DC2626",cancelButtonColor:"#6B7280"}).then(e=>{e.isConfirmed&&this.authService.logout().pipe(Xe(this.destroy$)).subscribe({next:()=>{this.router.navigate([this.ROUTES.HOME]),this.closeAllDropdowns()},error:t=>{console.error("Logout error:",t),HM.default.fire({icon:"error",title:"\u062E\u0637\u0623",text:"\u062D\u062F\u062B \u062E\u0637\u0623 \u0623\u062B\u0646\u0627\u0621 \u062A\u0633\u062C\u064A\u0644 \u0627\u0644\u062E\u0631\u0648\u062C. \u064A\u0631\u062C\u0649 \u0627\u0644\u0645\u062D\u0627\u0648\u0644\u0629 \u0645\u0631\u0629 \u0623\u062E\u0631\u0649."})}})})}toggleUserDropdown(e){e.preventDefault(),e.stopPropagation(),this.isUserDropdownOpen=!this.isUserDropdownOpen,this.isUserDropdownOpen&&(this.isLanguageDropdownOpen=!1)}toggleLanguageDropdown(e){e.preventDefault(),e.stopPropagation(),this.isLanguageDropdownOpen=!this.isLanguageDropdownOpen,this.isLanguageDropdownOpen&&(this.isUserDropdownOpen=!1)}closeAllDropdowns(){this.isUserDropdownOpen=!1,this.isLanguageDropdownOpen=!1}navigateTo(e){this.router.navigate([e]),this.closeAllDropdowns(),this.closeMobileMenu()}toggleMobileMenu(){this.isMobileMenuOpen=!this.isMobileMenuOpen,this.isMobileMenuOpen||this.closeAllDropdowns()}closeMobileMenu(){this.isMobileMenuOpen=!1,this.closeAllDropdowns()}initializeLanguage(){try{this.availableLanguages=this.lanService.getAvailableLanguages(),this.selectedLang=this.getStoredLanguage(),this.lanService.switchLanguage(this.selectedLang)}catch(e){console.error("Error initializing language:",e),this.setFallbackLanguages()}}setFallbackLanguages(){this.availableLanguages=[{code:"ar",label:"\u0627\u0644\u0639\u0631\u0628\u064A\u0629",flagUrl:"assets/flags/sa.png"},{code:"en",label:"English",flagUrl:"assets/flags/us.png"}],this.selectedLang="ar"}getStoredLanguage(){return localStorage.getItem(this.LANG_STORAGE_KEY)??"ar"}changeLang(e){try{this.selectedLang=e,this.lanService.switchLanguage(e),localStorage.setItem(this.LANG_STORAGE_KEY,e),this.isLanguageDropdownOpen=!1,this.closeMobileMenu()}catch(t){console.error("Error changing language:",t)}}getCurrentFlag(){try{let e=this.selectedLang||this.lanService.getCurrentLang();return this.availableLanguages.find(i=>i.code===e)?.flagUrl||"assets/flags/sa.png"}catch{return"assets/flags/sa.png"}}getCurrentLangLabel(){try{let e=this.selectedLang||this.lanService.getCurrentLang();return this.availableLanguages.find(i=>i.code===e)?.label||"\u0627\u0644\u0639\u0631\u0628\u064A\u0629"}catch{return"\u0627\u0644\u0639\u0631\u0628\u064A\u0629"}}onWindowScroll(){this.isScrolled=window.scrollY>50}onDocumentClick(e){e.target.closest(".dropdown")||this.closeAllDropdowns()}checkScrollPosition(){this.isScrolled=window.scrollY>50}static \u0275fac=function(t){return new(t||n)(B(_l),B(Nt),B(yn),B(Lt),B(ze),B(hi))};static \u0275cmp=me({type:n,selectors:[["app-navbar"]],hostBindings:function(t,i){t&1&&H("scroll",function(){return i.onWindowScroll()},nu)("click",function(o){return i.onDocumentClick(o)},ay)},decls:56,vars:44,consts:[[1,"navbar","navbar-expand-lg","custom-navbar"],[1,"container"],[1,"brand-container","d-flex","align-items-center"],[1,"navbar-brand","d-flex","align-items-center",3,"routerLink"],[1,"logo-container"],[1,"brand-text"],[1,"brand-name"],["type","button",1,"navbar-toggler","custom-toggler",3,"click"],[1,"toggler-line","line1"],[1,"toggler-line","line2"],[1,"toggler-line","line3"],[1,"collapse","navbar-collapse"],[1,"navbar-nav","mx-auto"],[1,"nav-item"],["routerLinkActive","active",1,"nav-link",3,"click","routerLink","routerLinkActiveOptions"],[1,"fas","fa-home","mx-2"],[1,"nav-text"],[1,"nav-underline"],["routerLinkActive","active",1,"nav-link",3,"click","routerLink"],[1,"fas","fa-book","mx-2"],[1,"fas","fa-info-circle","mx-2"],[1,"fas","fa-envelope","mx-2"],[1,"navbar-nav","navbar-actions"],[1,"nav-item","dropdown","user-dropdown"],[1,"nav-item","dropdown"],["role","button",1,"nav-link","dropdown-toggle","language-toggle","d-flex","align-items-center",3,"click"],[1,"flag-icon","mx-2",3,"src","alt"],[1,"d-lg-inline"],[1,"fas","fa-chevron-down","ms-1"],[1,"dropdown-menu","dropdown-menu-end","custom-dropdown","language-dropdown"],[1,"scroll-progress"],[1,"btn-login",3,"click","routerLink"],[1,"btn-register",3,"click","routerLink"],["role","button",1,"nav-link","dropdown-toggle","user-toggle","d-flex","align-items-center",3,"click"],[1,"user-avatar"],[1,"fas","fa-user"],[1,"user-info","d-none","d-lg-flex","flex-column","ms-2"],[1,"user-name"],[1,"user-role"],[1,"fas","fa-chevron-down","ms-2"],[1,"notification-badge"],[1,"dropdown-menu","dropdown-menu-end","custom-dropdown","user-dropdown-menu"],[1,"dropdown-item",3,"click"],[1,"fas","fa-tachometer-alt"],[1,"dropdown-item","logout-item",3,"click"],[1,"fas","fa-sign-out-alt"],[1,"fas","fa-user-circle"],[1,"fas","fa-credit-card"],[1,"dropdown-item","notification-item",3,"click"],[1,"fas","fa-bell"],[1,"badge-notification"],[1,"dropdown-divider"],[1,"dropdown-item","d-flex","align-items-center",3,"click"],[1,"lang-label"],[1,"fas","fa-check","ms-auto"]],template:function(t,i){t&1&&(m(0,"nav",0)(1,"div",1)(2,"div",2)(3,"a",3),M(4,"div",4),m(5,"div",5)(6,"div",6),v(7),b(8,"translate"),_()()()(),m(9,"button",7),H("click",function(){return i.toggleMobileMenu()}),M(10,"span",8)(11,"span",9)(12,"span",10),_(),m(13,"div",11)(14,"ul",12)(15,"li",13)(16,"a",14),H("click",function(){return i.closeMobileMenu()}),M(17,"i",15),m(18,"span",16),v(19),b(20,"translate"),_(),M(21,"div",17),_()(),m(22,"li",13)(23,"a",18),H("click",function(){return i.closeMobileMenu()}),M(24,"i",19),m(25,"span",16),v(26),b(27,"translate"),_(),M(28,"div",17),_()(),m(29,"li",13)(30,"a",18),H("click",function(){return i.closeMobileMenu()}),M(31,"i",20),m(32,"span",16),v(33),b(34,"translate"),_(),M(35,"div",17),_()(),m(36,"li",13)(37,"a",18),H("click",function(){return i.closeMobileMenu()}),M(38,"i",21),m(39,"span",16),v(40),b(41,"translate"),_(),M(42,"div",17),_()()(),m(43,"div",22),A(44,mZ,10,8),A(45,CZ,26,14,"div",23),m(46,"div",24)(47,"a",25),H("click",function(o){return i.toggleLanguageDropdown(o)}),M(48,"img",26),m(49,"span",27),v(50),_(),M(51,"i",28),_(),m(52,"ul",29),dt(53,EZ,6,4,"li",null,$n),_()()()()(),M(55,"div",30),_()),t&2&&(Y("navbar-scrolled",i.isScrolled),p(3),V("routerLink",i.ROUTES.HOME),p(4),O(C(8,33,"navbar.brand")),p(2),Gt("aria-expanded",i.isMobileMenuOpen)("aria-label","Toggle navigation"),p(),Y("active",i.isMobileMenuOpen),p(),Y("active",i.isMobileMenuOpen),p(),Y("active",i.isMobileMenuOpen),p(),Y("show",i.isMobileMenuOpen),p(3),V("routerLink",i.ROUTES.HOME)("routerLinkActiveOptions",Wr(43,gZ)),p(3),O(C(20,35,"navbar.home")),p(4),V("routerLink",i.ROUTES.COURSES),p(3),O(C(27,37,"navbar.courses")),p(4),V("routerLink",i.ROUTES.ABOUT),p(3),O(C(34,39,"navbar.about")),p(4),V("routerLink",i.ROUTES.CONTACT),p(3),O(C(41,41,"navbar.contact")),p(4),k(i.isLoggedIn?-1:44),p(),k(i.isLoggedIn?45:-1),p(2),Gt("aria-expanded",i.isLanguageDropdownOpen),p(),V("src",i.getCurrentFlag(),At)("alt",i.getCurrentLangLabel()),p(2),O(i.getCurrentLangLabel()),p(2),Y("show",i.isLanguageDropdownOpen),p(),ft(i.availableLanguages),p(2),ri("width",i.isScrolled?100:0,"%"))},dependencies:[Ie,$e,Ye,Nu,Pe,Ne],styles:[".custom-navbar[_ngcontent-%COMP%]{font-family:Cairo,sans-serif;background:#fff;box-shadow:0 1px 2px #0000001a;transition:all .3s ease;position:fixed;top:0;left:0;right:0;z-index:1000;padding:32px 0}.custom-navbar.navbar-scrolled[_ngcontent-%COMP%]{background:#fffffffa;backdrop-filter:blur(10px);-webkit-backdrop-filter:blur(10px);box-shadow:0 4px 8px #00000026;padding:32px 0}.brand-container[_ngcontent-%COMP%]{flex:1;justify-content:flex-start}.navbar-brand[_ngcontent-%COMP%]{transition:all .3s ease;text-decoration:none;display:flex;align-items:center;gap:16px}.navbar-brand[_ngcontent-%COMP%]:hover{transform:scale(1.02)}.navbar-logo[_ngcontent-%COMP%]{height:50px;width:auto;transition:all .3s ease;border-radius:8px}.brand-text[_ngcontent-%COMP%]   .brand-name[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;color:#0e3a5d;letter-spacing:-.5px;transition:all .3s ease}.navbar-scrolled[_ngcontent-%COMP%]   .brand-name[_ngcontent-%COMP%]{color:#0e3a5d}.navbar-nav[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]{position:relative;margin:0 4px}.navbar-nav[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{font-weight:500;font-size:.95rem;color:#0f172a!important;padding:8px 16px!important;transition:all .3s ease;position:relative;display:flex;align-items:center;background:transparent;border-radius:8px}.navbar-nav[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{transition:all .3s ease;color:#0e3a5d;font-size:.9rem}.navbar-nav[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]   .nav-text[_ngcontent-%COMP%]{position:relative;font-weight:500}.navbar-nav[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]   .nav-underline[_ngcontent-%COMP%]{position:absolute;bottom:4px;left:50%;width:0;height:2px;background:#c9a24d;border-radius:1px;transition:all .3s ease;transform:translate(-50%)}.navbar-nav[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:hover{color:#c9a24d!important;transform:translateY(-2px)}.navbar-nav[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:hover   i[_ngcontent-%COMP%]{color:#c9a24d}.navbar-nav[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:hover   .nav-underline[_ngcontent-%COMP%]{width:60%}.navbar-nav[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]{color:#c9a24d!important}.navbar-nav[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#c9a24d}.navbar-nav[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]   .nav-underline[_ngcontent-%COMP%]{width:80%;background:#c9a24d}.navbar-actions[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;margin-left:32px}.btn-login[_ngcontent-%COMP%], .btn-register[_ngcontent-%COMP%], .btn-dashboard[_ngcontent-%COMP%], .btn-logout[_ngcontent-%COMP%]{padding:8px 16px!important;border-radius:16px!important;font-weight:500!important;transition:all .3s ease!important;border:2px solid transparent!important;white-space:nowrap;text-decoration:none!important}.btn-login[_ngcontent-%COMP%]{color:#0e3a5d!important;background:transparent!important;border-color:#0e3a5d!important}.btn-login[_ngcontent-%COMP%]:hover{background:#0e3a5d!important;color:#fff!important;transform:translateY(-2px);box-shadow:0 4px 8px #00000026}.btn-register[_ngcontent-%COMP%]{color:#fff!important;background:#0e3a5d!important;border-color:#0e3a5d!important}.btn-register[_ngcontent-%COMP%]:hover{background:#0e3a5d!important;transform:translateY(-2px);box-shadow:0 4px 8px #00000026}.btn-dashboard[_ngcontent-%COMP%]{color:#fff!important;background:#0e3a5d!important;border-color:#0e3a5d!important;text-decoration:none}.btn-dashboard[_ngcontent-%COMP%]:hover{color:#c9a24d!important;background:#1e5c8a!important;border-color:#1e5c8a!important;transform:translateY(-2px);box-shadow:0 4px 8px #00000026}.btn-logout[_ngcontent-%COMP%]{color:#dc2626!important;background:transparent!important;border-color:#dc2626!important}.btn-logout[_ngcontent-%COMP%]:hover{background:#dc2626!important;color:#fff!important;transform:translateY(-2px);box-shadow:0 4px 8px #00000026}.user-dropdown[_ngcontent-%COMP%]{position:relative}.user-toggle[_ngcontent-%COMP%]{background:#f6f7f980!important;border:1px solid rgba(14,58,93,.2)!important;border-radius:8px!important;padding:8px 16px!important;transition:all .3s ease!important;box-shadow:0 1px 2px #0000001a;position:relative;cursor:pointer}.user-toggle[_ngcontent-%COMP%]   .user-avatar[_ngcontent-%COMP%]{width:36px;height:36px;border-radius:50%;background:linear-gradient(135deg,#c9a24d,#0e3a5d);display:flex;align-items:center;justify-content:center;color:#fff;font-size:.9rem;flex-shrink:0;transition:all .3s ease}.user-toggle[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]{text-align:left;min-width:120px}.user-toggle[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .user-name[_ngcontent-%COMP%]{font-size:.9rem;font-weight:600;color:#0f172a;line-height:1.2;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.user-toggle[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .user-role[_ngcontent-%COMP%]{font-size:.75rem;color:#0f172a99;text-transform:capitalize;line-height:1.2}.user-toggle[_ngcontent-%COMP%]   .fa-chevron-down[_ngcontent-%COMP%]{font-size:.7rem;transition:all .3s ease;color:#0e3a5d;margin-left:4px}.user-toggle[_ngcontent-%COMP%]   .notification-badge[_ngcontent-%COMP%]{position:absolute;top:-4px;right:-4px;background:#dc2626;color:#fff;border-radius:50%;width:20px;height:20px;display:flex;align-items:center;justify-content:center;font-size:.7rem;font-weight:700;border:2px solid #FFFFFF;box-shadow:0 1px 2px #0000001a}.user-toggle[_ngcontent-%COMP%]:hover{background:#f6f7f9b3!important;border-color:#0e3a5d66!important;box-shadow:0 4px 8px #00000026;transform:translateY(-1px)}.user-toggle[_ngcontent-%COMP%]:hover   .user-avatar[_ngcontent-%COMP%]{transform:scale(1.05)}.user-toggle[aria-expanded=true][_ngcontent-%COMP%]{background:#f6f7f9cc!important;border-color:#0e3a5d80!important}.user-toggle[aria-expanded=true][_ngcontent-%COMP%]   .fa-chevron-down[_ngcontent-%COMP%]{transform:rotate(180deg)}.user-dropdown-menu[_ngcontent-%COMP%]{min-width:220px;border-radius:8px;background:#fff;border:1px solid rgba(14,58,93,.1);box-shadow:0 8px 16px #0003;padding:8px 0;margin-top:8px;z-index:9999;position:absolute;right:0;top:100%}.user-dropdown-menu[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]{padding:16px 32px;border-radius:0;transition:all .3s ease;display:flex;align-items:center;gap:16px;cursor:pointer;color:#0f172a;font-weight:500;font-size:.9rem}.user-dropdown-menu[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{width:20px;text-align:center;color:#0e3a5d;font-size:.9rem;transition:all .3s ease}.user-dropdown-menu[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{flex:1;transition:all .3s ease}.user-dropdown-menu[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]   .badge-notification[_ngcontent-%COMP%]{background:#dc2626;color:#fff;border-radius:4px;padding:2px 4px;font-size:.75rem;font-weight:700;min-width:20px;text-align:center}.user-dropdown-menu[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]:hover{background:#c9a24d1a;color:#c9a24d;transform:translate(4px)}.user-dropdown-menu[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]:hover   i[_ngcontent-%COMP%]{color:#c9a24d;transform:scale(1.1)}.user-dropdown-menu[_ngcontent-%COMP%]   .dropdown-item.notification-item[_ngcontent-%COMP%]{position:relative}.user-dropdown-menu[_ngcontent-%COMP%]   .dropdown-divider[_ngcontent-%COMP%]{margin:4px 0;border-color:#0e3a5d1a}.user-dropdown-menu[_ngcontent-%COMP%]   .logout-item[_ngcontent-%COMP%], .user-dropdown-menu[_ngcontent-%COMP%]   .logout-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#dc2626!important}.user-dropdown-menu[_ngcontent-%COMP%]   .logout-item[_ngcontent-%COMP%]:hover{background:#dc26261a!important;color:#dc2626!important}.user-dropdown-menu[_ngcontent-%COMP%]   .logout-item[_ngcontent-%COMP%]:hover   i[_ngcontent-%COMP%]{color:#dc2626!important}.language-toggle[_ngcontent-%COMP%]{background:#f6f7f980!important;border:1px solid rgba(14,58,93,.2)!important;border-radius:8px!important;padding:8px 16px!important;transition:all .3s ease!important;box-shadow:0 1px 2px #0000001a}.language-toggle[_ngcontent-%COMP%]   .flag-icon[_ngcontent-%COMP%]{width:20px;height:15px;border-radius:4px;object-fit:cover;box-shadow:0 1px 2px #0000001a;transition:all .3s ease}.language-toggle[_ngcontent-%COMP%]   .fa-chevron-down[_ngcontent-%COMP%]{font-size:.7rem;transition:all .3s ease;color:#0e3a5d;margin-left:4px}.language-toggle[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:500;color:#0f172a;transition:all .3s ease}.language-toggle[_ngcontent-%COMP%]:hover{background:#f6f7f9b3!important;border-color:#0e3a5d66!important;box-shadow:0 4px 8px #00000026}.language-toggle[_ngcontent-%COMP%]:hover   .flag-icon[_ngcontent-%COMP%]{transform:scale(1.1)}.language-toggle[aria-expanded=true][_ngcontent-%COMP%]{background:#f6f7f9cc!important;border-color:#0e3a5d80!important}.language-toggle[aria-expanded=true][_ngcontent-%COMP%]   .fa-chevron-down[_ngcontent-%COMP%]{transform:rotate(180deg)}.language-dropdown[_ngcontent-%COMP%]{min-width:200px;border-radius:8px;background:#fff;border:1px solid rgba(14,58,93,.1);box-shadow:0 8px 16px #0003;padding:8px 0;margin-top:8px;z-index:9999;position:absolute;right:0;top:100%}.language-dropdown[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]{padding:16px 32px;border-radius:4px;transition:all .3s ease;display:flex;align-items:center;cursor:pointer;color:#0f172a}.language-dropdown[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]   .flag-icon[_ngcontent-%COMP%]{width:20px;height:15px;border-radius:4px;object-fit:cover;margin-right:16px;transition:all .3s ease}.language-dropdown[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]   .lang-label[_ngcontent-%COMP%]{font-weight:500;color:#0f172a;font-size:.9rem;flex:1;transition:all .3s ease}.language-dropdown[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]   .fa-check[_ngcontent-%COMP%]{color:#c9a24d;font-size:.9rem}.language-dropdown[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]:hover{background:#c9a24d1a;transform:translate(4px)}.language-dropdown[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]:hover   .lang-label[_ngcontent-%COMP%]{color:#c9a24d}.custom-toggler[_ngcontent-%COMP%]{border:none;background:#f6f7f980;padding:8px;outline:none;border-radius:8px;transition:all .3s ease;box-shadow:0 1px 2px #0000001a}.custom-toggler[_ngcontent-%COMP%]:hover{background:#f6f7f9b3;transform:scale(1.05)}.custom-toggler[_ngcontent-%COMP%]   .toggler-line[_ngcontent-%COMP%]{display:block;width:25px;height:3px;background:#0e3a5d;border-radius:2px;transition:all .3s ease;margin:5px 0}.custom-toggler[_ngcontent-%COMP%]   .toggler-line.line1.active[_ngcontent-%COMP%]{transform:translateY(8px) rotate(45deg)}.custom-toggler[_ngcontent-%COMP%]   .toggler-line.line2.active[_ngcontent-%COMP%]{opacity:0;transform:scale(0)}.custom-toggler[_ngcontent-%COMP%]   .toggler-line.line3.active[_ngcontent-%COMP%]{transform:translateY(-8px) rotate(-45deg)}.custom-toggler[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .25rem #c9a24d40}.scroll-progress[_ngcontent-%COMP%]{position:absolute;bottom:0;left:0;height:3px;background:linear-gradient(90deg,#c9a24d,#0e3a5d);transition:width .3s ease;z-index:1001}@media (max-width: 991.98px){.custom-navbar[_ngcontent-%COMP%]{padding:8px 0}.custom-navbar[_ngcontent-%COMP%]   .navbar-brand[_ngcontent-%COMP%]   .brand-name[_ngcontent-%COMP%]{font-size:1.3rem}.custom-navbar[_ngcontent-%COMP%]   .navbar-brand[_ngcontent-%COMP%]   .navbar-logo[_ngcontent-%COMP%]{height:45px}.custom-navbar[_ngcontent-%COMP%]   .navbar-collapse[_ngcontent-%COMP%]{background:#fff;border-radius:16px;margin-top:16px;padding:32px;box-shadow:0 8px 16px #0003}.custom-navbar[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;margin:0}.custom-navbar[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]{width:100%;margin:4px 0}.custom-navbar[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{justify-content:flex-start;padding:16px!important;width:100%;border-radius:8px}.custom-navbar[_ngcontent-%COMP%]   .navbar-actions[_ngcontent-%COMP%]{margin-top:16px;padding-top:16px;border-top:1px solid rgba(14,58,93,.1);flex-direction:column;width:100%;margin-left:0;gap:8px}.custom-navbar[_ngcontent-%COMP%]   .navbar-actions[_ngcontent-%COMP%]   .btn-login[_ngcontent-%COMP%], .custom-navbar[_ngcontent-%COMP%]   .navbar-actions[_ngcontent-%COMP%]   .btn-register[_ngcontent-%COMP%], .custom-navbar[_ngcontent-%COMP%]   .navbar-actions[_ngcontent-%COMP%]   .btn-dashboard[_ngcontent-%COMP%], .custom-navbar[_ngcontent-%COMP%]   .navbar-actions[_ngcontent-%COMP%]   .btn-logout[_ngcontent-%COMP%]{width:100%;justify-content:center}.custom-navbar[_ngcontent-%COMP%]   .navbar-actions[_ngcontent-%COMP%]   .user-dropdown[_ngcontent-%COMP%]{width:100%}.custom-navbar[_ngcontent-%COMP%]   .navbar-actions[_ngcontent-%COMP%]   .user-dropdown[_ngcontent-%COMP%]   .user-toggle[_ngcontent-%COMP%]{width:100%;justify-content:flex-start}.custom-navbar[_ngcontent-%COMP%]   .navbar-actions[_ngcontent-%COMP%]   .user-dropdown[_ngcontent-%COMP%]   .user-dropdown-menu[_ngcontent-%COMP%], .custom-navbar[_ngcontent-%COMP%]   .language-dropdown[_ngcontent-%COMP%]{position:static!important;width:100%;margin-top:8px;right:auto}}@media (max-width: 575.98px){.custom-navbar[_ngcontent-%COMP%]   .navbar-brand[_ngcontent-%COMP%]   .brand-name[_ngcontent-%COMP%]{font-size:1.2rem}.custom-navbar[_ngcontent-%COMP%]   .navbar-brand[_ngcontent-%COMP%]   .navbar-logo[_ngcontent-%COMP%]{height:40px}.custom-navbar[_ngcontent-%COMP%]   .navbar-collapse[_ngcontent-%COMP%]{padding:16px}}"]})};var v_=class n{socials=[{icon:"fa-brands fa-instagram",url:"https://instagram.com/smartarget.sa",color:"#E4405F",name:"Instagram"},{icon:"fa-brands fa-facebook",url:"https://facebook.com/smartarget.sa",color:"#1877f2",name:"Facebook"},{icon:"fa-brands fa-tiktok",url:"https://tiktok.com/@smartarget.sa",color:"#fff",name:"Tiktok"},{icon:"fa-brands fa-snapchat",url:"https://snapchat.com/add/smartarget.sa",color:"#FFFC00",name:"Snapchat"},{icon:"fa-brands fa-x-twitter",url:"https://x.com/smartarget_sa",color:"#fff",name:"X"},{icon:"fa-brands fa-whatsapp",url:"https://wa.me/+966554748254",color:"#25D366",name:"WhatsApp"}];getSocials(){return this.socials}static \u0275fac=function(t){return new(t||n)};static \u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})};var IZ=(n,e)=>e.name;function PZ(n,e){if(n&1&&(m(0,"a",28),M(1,"i"),_()),n&2){let t=e.$implicit;ri("color",t.color),V("href",t.url,At),Gt("aria-label",t.name),p(),To(t.icon)}}var y_=class n{constructor(e){this.socials=e}currentYear=new Date().getFullYear();static \u0275fac=function(t){return new(t||n)(B(v_))};static \u0275cmp=me({type:n,selectors:[["app-footer"]],decls:54,vars:28,consts:[[1,"footer"],[1,"container"],[1,"row","g-4"],[1,"col-12","col-md-4"],[1,"footer-brand"],[1,"brand-name"],[1,"brand-description"],[1,"footer-links"],[1,"links-title"],[1,"links-list"],["routerLink","/",1,"link-item"],[1,"fas","fa-home","me-2"],["routerLink","/courses",1,"link-item"],[1,"fas","fa-book","me-2"],["routerLink","/about",1,"link-item"],[1,"fas","fa-info-circle","me-2"],["routerLink","/contact",1,"link-item"],[1,"fas","fa-envelope","me-2"],[1,"footer-socials"],[1,"socials-title"],[1,"socials-list"],["target","_blank","rel","noopener noreferrer",1,"social-link",3,"href","color"],[1,"footer-bottom"],[1,"row","align-items-center"],[1,"col-12","col-md-6"],[1,"copyright"],[1,"col-12","col-md-6","text-md-end"],[1,"powered-by"],["target","_blank","rel","noopener noreferrer",1,"social-link",3,"href"]],template:function(t,i){t&1&&(m(0,"footer",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h3",5),v(6,"ANKH"),_(),m(7,"p",6),v(8),b(9,"translate"),_()()(),m(10,"div",3)(11,"div",7)(12,"h4",8),v(13),b(14,"translate"),_(),m(15,"ul",9)(16,"li")(17,"a",10),M(18,"i",11),v(19),b(20,"translate"),_()(),m(21,"li")(22,"a",12),M(23,"i",13),v(24),b(25,"translate"),_()(),m(26,"li")(27,"a",14),M(28,"i",15),v(29),b(30,"translate"),_()(),m(31,"li")(32,"a",16),M(33,"i",17),v(34),b(35,"translate"),_()()()()(),m(36,"div",3)(37,"div",18)(38,"h4",19),v(39),b(40,"translate"),_(),m(41,"div",20),dt(42,PZ,2,6,"a",21,IZ),_()()()(),m(44,"div",22)(45,"div",23)(46,"div",24)(47,"p",25),v(48),b(49,"translate"),_()(),m(50,"div",26)(51,"p",27),v(52),b(53,"translate"),_()()()()()()),t&2&&(p(8),P(" ",C(9,10,"footer.description")," "),p(5),O(C(14,12,"footer.quickLinks")),p(6),P(" ",C(20,14,"navbar.home")," "),p(5),P(" ",C(25,16,"navbar.courses")," "),p(5),P(" ",C(30,18,"navbar.about")," "),p(5),P(" ",C(35,20,"navbar.contact")," "),p(5),O(C(40,22,"footer.followUs")),p(3),ft(i.socials.getSocials()),p(6),Oi(" \xA9 ",i.currentYear," ANKH. ",C(49,24,"footer.allRightsReserved")," "),p(4),P(" ",C(53,26,"footer.poweredBy")," "))},dependencies:[Ie,$e,Ye,Pe,Ne],styles:[".footer[_ngcontent-%COMP%]{background:linear-gradient(135deg,#0e3a5d,#0b2c47);color:#fff;padding:64px 0 32px;margin-top:auto}.footer[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:0 32px}.footer[_ngcontent-%COMP%]   .footer-brand[_ngcontent-%COMP%]   .brand-name[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;color:#fff;margin-bottom:16px;font-family:Cairo,sans-serif;letter-spacing:2px}.footer[_ngcontent-%COMP%]   .footer-brand[_ngcontent-%COMP%]   .brand-description[_ngcontent-%COMP%]{color:#fffc;font-size:.95rem;line-height:1.6;margin:0}.footer[_ngcontent-%COMP%]   .footer-links[_ngcontent-%COMP%]   .links-title[_ngcontent-%COMP%]{font-size:1.2rem;font-weight:600;color:#fff;margin-bottom:16px;font-family:Cairo,sans-serif}.footer[_ngcontent-%COMP%]   .footer-links[_ngcontent-%COMP%]   .links-list[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0}.footer[_ngcontent-%COMP%]   .footer-links[_ngcontent-%COMP%]   .links-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:8px}.footer[_ngcontent-%COMP%]   .footer-links[_ngcontent-%COMP%]   .links-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:last-child{margin-bottom:0}.footer[_ngcontent-%COMP%]   .footer-links[_ngcontent-%COMP%]   .links-list[_ngcontent-%COMP%]   .link-item[_ngcontent-%COMP%]{color:#fffc;text-decoration:none;font-size:.95rem;display:flex;align-items:center;transition:all .3s ease;padding:4px 0}.footer[_ngcontent-%COMP%]   .footer-links[_ngcontent-%COMP%]   .links-list[_ngcontent-%COMP%]   .link-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.85rem;width:20px}.footer[_ngcontent-%COMP%]   .footer-links[_ngcontent-%COMP%]   .links-list[_ngcontent-%COMP%]   .link-item[_ngcontent-%COMP%]:hover{color:#fff;transform:translate(5px)}.footer[_ngcontent-%COMP%]   .footer-socials[_ngcontent-%COMP%]   .socials-title[_ngcontent-%COMP%]{font-size:1.2rem;font-weight:600;color:#fff;margin-bottom:16px;font-family:Cairo,sans-serif}.footer[_ngcontent-%COMP%]   .footer-socials[_ngcontent-%COMP%]   .socials-list[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:16px;align-items:center}.footer[_ngcontent-%COMP%]   .footer-socials[_ngcontent-%COMP%]   .socials-list[_ngcontent-%COMP%]   .social-link[_ngcontent-%COMP%]{width:45px;height:45px;display:flex;align-items:center;justify-content:center;border-radius:50%;background:#ffffff1a;color:#fff;text-decoration:none;font-size:1.2rem;transition:all .3s ease;border:2px solid transparent}.footer[_ngcontent-%COMP%]   .footer-socials[_ngcontent-%COMP%]   .socials-list[_ngcontent-%COMP%]   .social-link[_ngcontent-%COMP%]:hover{background:#fff3;transform:translateY(-3px);border-color:#ffffff4d;box-shadow:0 4px 12px #0003}.footer[_ngcontent-%COMP%]   .footer-socials[_ngcontent-%COMP%]   .socials-list[_ngcontent-%COMP%]   .social-link[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{transition:transform .3s ease}.footer[_ngcontent-%COMP%]   .footer-socials[_ngcontent-%COMP%]   .socials-list[_ngcontent-%COMP%]   .social-link[_ngcontent-%COMP%]:hover   i[_ngcontent-%COMP%]{transform:scale(1.1)}.footer[_ngcontent-%COMP%]   .footer-bottom[_ngcontent-%COMP%]{margin-top:64px;padding-top:32px;border-top:1px solid rgba(255,255,255,.2)}.footer[_ngcontent-%COMP%]   .footer-bottom[_ngcontent-%COMP%]   .copyright[_ngcontent-%COMP%], .footer[_ngcontent-%COMP%]   .footer-bottom[_ngcontent-%COMP%]   .powered-by[_ngcontent-%COMP%]{color:#ffffffb3;font-size:.9rem;margin:0}@media (max-width: 767.98px){.footer[_ngcontent-%COMP%]{padding:32px 0 16px}.footer[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{padding:0 16px}.footer[_ngcontent-%COMP%]   .footer-brand[_ngcontent-%COMP%]{text-align:center;margin-bottom:32px}.footer[_ngcontent-%COMP%]   .footer-brand[_ngcontent-%COMP%]   .brand-name[_ngcontent-%COMP%]{font-size:1.5rem}.footer[_ngcontent-%COMP%]   .footer-links[_ngcontent-%COMP%], .footer[_ngcontent-%COMP%]   .footer-socials[_ngcontent-%COMP%]{text-align:center;margin-bottom:32px}.footer[_ngcontent-%COMP%]   .footer-links[_ngcontent-%COMP%]   .links-list[_ngcontent-%COMP%], .footer[_ngcontent-%COMP%]   .footer-socials[_ngcontent-%COMP%]   .links-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.footer[_ngcontent-%COMP%]   .footer-links[_ngcontent-%COMP%]   .socials-list[_ngcontent-%COMP%], .footer[_ngcontent-%COMP%]   .footer-socials[_ngcontent-%COMP%]   .socials-list[_ngcontent-%COMP%]{justify-content:center}.footer[_ngcontent-%COMP%]   .footer-bottom[_ngcontent-%COMP%]{text-align:center}.footer[_ngcontent-%COMP%]   .footer-bottom[_ngcontent-%COMP%]   .copyright[_ngcontent-%COMP%], .footer[_ngcontent-%COMP%]   .footer-bottom[_ngcontent-%COMP%]   .powered-by[_ngcontent-%COMP%]{margin-bottom:4px}}"]})};var OZ=()=>[1,2,3,4,5,6],uN=()=>[1,2,3,4,5,6,7,8];function xZ(n,e){if(n&1&&(Ke(0,"div",38)(1,"span",39),v(2,"\u{13000}"),it()()),n&2){let t=e.$index;ri("animation-delay",t*.3+"s")}}function SZ(n,e){if(n&1&&Dn(0,"div",40),n&2){let t=e.$index;ri("animation-delay",t*.1+"s")}}function DZ(n,e){if(n&1&&(Ke(0,"span",41),v(1,"\u25CA"),it()),n&2){let t=e.$index;ri("animation-delay",t*.2+"s")}}function TZ(n,e){if(n&1&&(Ke(0,"span",42),v(1),it()),n&2){let t=e.$implicit,i=e.$index;ri("animation-delay",i*.15+"s"),p(),P(" ",t===" "?"\xA0":t," ")}}function AZ(n,e){if(n&1&&(Ke(0,"div",43),Dn(1,"div",44),it()),n&2){let t=e.$index,i=R();ri("animation-delay",t*.2+"s"),Y("active",t===i.currentDot)}}var b_=class n{message="";showMessage=!0;size="medium";variant="primary";isVisible=!1;currentDot=0;loadingDots=[0,1,2];ngOnInit(){setTimeout(()=>{this.isVisible=!0},100),this.startDotsAnimation()}startDotsAnimation(){setInterval(()=>{this.currentDot=(this.currentDot+1)%this.loadingDots.length},500)}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=me({type:n,selectors:[["app-loading"]],inputs:{message:"message",showMessage:"showMessage",size:"size",variant:"variant"},decls:45,vars:10,consts:[[1,"loading-overlay"],[1,"pharaonic-pattern"],[1,"hieroglyphic-elements"],[1,"hieroglyph",3,"animation-delay"],[1,"loading-container"],[1,"ankh-section"],[1,"ankh-ring"],[1,"ring-segment",3,"animation-delay"],[1,"ankh-container"],[1,"ankh-symbol"],[1,"ankh-cross"],[1,"ankh-loop"],[1,"ankh-stem"],[1,"ankh-base"],[1,"ankh-glow"],[1,"hieroglyphic-border"],[1,"border-glyph",3,"animation-delay"],[1,"progress-ring"],["viewBox","0 0 120 120",1,"progress-circle"],["cx","60","cy","60","r","54",1,"progress-background"],["cx","60","cy","60","r","54",1,"progress-bar"],[1,"brand-section"],[1,"brand-name"],[1,"brand-letter",3,"animation-delay"],[1,"brand-tagline"],[1,"loading-animation"],[1,"loading-dots"],[1,"dot",3,"active","animation-delay"],[1,"loading-bar"],[1,"bar-fill"],[1,"bar-glow"],[1,"bar-pattern"],[1,"background-effects"],[1,"gold-orb","orb-1"],[1,"gold-orb","orb-2"],[1,"gold-orb","orb-3"],[1,"blue-accent","accent-1"],[1,"blue-accent","accent-2"],[1,"hieroglyph"],[1,"hieroglyph-symbol"],[1,"ring-segment"],[1,"border-glyph"],[1,"brand-letter"],[1,"dot"],[1,"dot-core"]],template:function(t,i){t&1&&(Ke(0,"div",0),Dn(1,"div",1),Ke(2,"div",2),dt(3,xZ,3,2,"div",3,$n),it(),Ke(5,"div",4)(6,"div",5)(7,"div",6),dt(8,SZ,1,2,"div",7,$n),it(),Ke(10,"div",8)(11,"div",9)(12,"div",10),Dn(13,"div",11)(14,"div",12)(15,"div",13),it(),Dn(16,"div",14),it(),Ke(17,"div",15),dt(18,DZ,2,2,"span",16,$n),it()(),Ke(20,"div",17),hp(),Ke(21,"svg",18),Dn(22,"circle",19)(23,"circle",20),it()()(),gp(),Ke(24,"div",21)(25,"h2",22),dt(26,TZ,2,3,"span",23,$n),it(),Ke(28,"div",24),v(29),b(30,"translate"),it()(),Ke(31,"div",25)(32,"div",26),dt(33,AZ,2,4,"div",27,$n),it(),Ke(35,"div",28),Dn(36,"div",29)(37,"div",30)(38,"div",31),it()()(),Ke(39,"div",32),Dn(40,"div",33)(41,"div",34)(42,"div",35)(43,"div",36)(44,"div",37),it()()),t&2&&(Y("visible",i.isVisible),Gt("data-size",i.size)("data-variant",i.variant),p(3),ft(Wr(7,OZ)),p(5),ft(Wr(8,uN)),p(10),ft(Wr(9,uN)),p(8),ft("ANKH".split("")),p(3),O(i.message||C(30,5,"loading")),p(4),ft(i.loadingDots))},dependencies:[Ie,Pe,Ne],styles:['.loading-overlay[_ngcontent-%COMP%]{direction:ltr;position:fixed;top:0;left:0;width:100%;height:100%;background:linear-gradient(135deg,#0b2a3f,#071e2f,#0b2a3f);backdrop-filter:blur(20px);-webkit-backdrop-filter:blur(20px);display:flex;align-items:center;justify-content:center;z-index:9999;opacity:0;visibility:hidden;transition:all .6s cubic-bezier(.4,0,.2,1);overflow:hidden}.loading-overlay.visible[_ngcontent-%COMP%]{opacity:1;visibility:visible}.loading-overlay[data-size=small][_ngcontent-%COMP%]   .loading-container[_ngcontent-%COMP%]{transform:scale(.7)}.loading-overlay[data-size=large][_ngcontent-%COMP%]   .loading-container[_ngcontent-%COMP%]{transform:scale(1.3)}.loading-overlay[data-variant=secondary][_ngcontent-%COMP%]{background:linear-gradient(135deg,#0e3a5df2,#c9a24df2)}.loading-overlay[data-variant=white][_ngcontent-%COMP%]{background:#fffffff2}.loading-overlay[data-variant=white][_ngcontent-%COMP%]   .brand-name[_ngcontent-%COMP%]{background:linear-gradient(135deg,#c9a24d,#0e3a5d);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}.loading-overlay[data-variant=white][_ngcontent-%COMP%]   .brand-tagline[_ngcontent-%COMP%]{color:#0f172a}.pharaonic-pattern[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;background-image:repeating-linear-gradient(0deg,transparent,transparent 2px,rgba(201,162,77,.03) 2px,rgba(201,162,77,.03) 4px),repeating-linear-gradient(90deg,transparent,transparent 2px,rgba(201,162,77,.03) 2px,rgba(201,162,77,.03) 4px);opacity:.3;pointer-events:none}.hieroglyphic-elements[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;overflow:hidden;pointer-events:none;z-index:1}.hieroglyphic-elements[_ngcontent-%COMP%]   .hieroglyph[_ngcontent-%COMP%]{position:absolute;font-size:2rem;color:#c9a24d33;animation:_ngcontent-%COMP%_hieroglyphFloat 15s ease-in-out infinite}.hieroglyphic-elements[_ngcontent-%COMP%]   .hieroglyph[_ngcontent-%COMP%]:nth-child(1){left:25 %;top:22 %;animation-delay:2.5s;animation-duration:14s}.hieroglyphic-elements[_ngcontent-%COMP%]   .hieroglyph[_ngcontent-%COMP%]:nth-child(2){left:40 %;top:34 %;animation-delay:5s;animation-duration:16s}.hieroglyphic-elements[_ngcontent-%COMP%]   .hieroglyph[_ngcontent-%COMP%]:nth-child(3){left:55 %;top:46 %;animation-delay:7.5s;animation-duration:18s}.hieroglyphic-elements[_ngcontent-%COMP%]   .hieroglyph[_ngcontent-%COMP%]:nth-child(4){left:70 %;top:58 %;animation-delay:10s;animation-duration:20s}.hieroglyphic-elements[_ngcontent-%COMP%]   .hieroglyph[_ngcontent-%COMP%]:nth-child(5){left:85 %;top:70 %;animation-delay:12.5s;animation-duration:22s}.hieroglyphic-elements[_ngcontent-%COMP%]   .hieroglyph[_ngcontent-%COMP%]:nth-child(6){left:100 %;top:82 %;animation-delay:15s;animation-duration:24s}.hieroglyphic-elements[_ngcontent-%COMP%]   .hieroglyph[_ngcontent-%COMP%]   .hieroglyph-symbol[_ngcontent-%COMP%]{display:block;filter:drop-shadow(0 2px 4px rgba(201,162,77,.3))}.loading-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;text-align:center;position:relative;z-index:2;animation:_ngcontent-%COMP%_containerFadeIn 1s ease-out}.ankh-section[_ngcontent-%COMP%]{position:relative;width:200px;height:200px;margin-bottom:64px;display:flex;align-items:center;justify-content:center}.ankh-ring[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;border-radius:50%}.ankh-ring[_ngcontent-%COMP%]   .ring-segment[_ngcontent-%COMP%]{position:absolute;width:12px;height:12px;background:#c9a24d;border-radius:50%;box-shadow:0 0 10px #c9a24d99;animation:_ngcontent-%COMP%_ringRotate 4s infinite ease-in-out}.ankh-ring[_ngcontent-%COMP%]   .ring-segment[_ngcontent-%COMP%]:nth-child(1){left:50%;top:0;transform-origin:0 100px;transform:translate(-50%) rotate(0);animation-delay:0s}.ankh-ring[_ngcontent-%COMP%]   .ring-segment[_ngcontent-%COMP%]:nth-child(2){left:50%;top:0;transform-origin:0 100px;transform:translate(-50%) rotate(45deg);animation-delay:.1s}.ankh-ring[_ngcontent-%COMP%]   .ring-segment[_ngcontent-%COMP%]:nth-child(3){left:50%;top:0;transform-origin:0 100px;transform:translate(-50%) rotate(90deg);animation-delay:.2s}.ankh-ring[_ngcontent-%COMP%]   .ring-segment[_ngcontent-%COMP%]:nth-child(4){left:50%;top:0;transform-origin:0 100px;transform:translate(-50%) rotate(135deg);animation-delay:.3s}.ankh-ring[_ngcontent-%COMP%]   .ring-segment[_ngcontent-%COMP%]:nth-child(5){left:50%;top:0;transform-origin:0 100px;transform:translate(-50%) rotate(180deg);animation-delay:.4s}.ankh-ring[_ngcontent-%COMP%]   .ring-segment[_ngcontent-%COMP%]:nth-child(6){left:50%;top:0;transform-origin:0 100px;transform:translate(-50%) rotate(225deg);animation-delay:.5s}.ankh-ring[_ngcontent-%COMP%]   .ring-segment[_ngcontent-%COMP%]:nth-child(7){left:50%;top:0;transform-origin:0 100px;transform:translate(-50%) rotate(270deg);animation-delay:.6s}.ankh-ring[_ngcontent-%COMP%]   .ring-segment[_ngcontent-%COMP%]:nth-child(8){left:50%;top:0;transform-origin:0 100px;transform:translate(-50%) rotate(315deg);animation-delay:.7s}.ankh-container[_ngcontent-%COMP%]{position:relative;width:120px;height:120px;display:flex;align-items:center;justify-content:center;z-index:3}.ankh-symbol[_ngcontent-%COMP%]{position:relative;width:80px;height:100px;display:flex;align-items:center;justify-content:center;animation:_ngcontent-%COMP%_ankhFloat 3s ease-in-out infinite}.ankh-cross[_ngcontent-%COMP%]{position:relative;width:100%;height:100%;display:flex;flex-direction:column;align-items:center;justify-content:center}.ankh-loop[_ngcontent-%COMP%]{width:50px;height:50px;border:4px solid #C9A24D;border-radius:50% 50% 0;border-bottom:none;border-right:none;position:relative;top:-5px;box-shadow:0 0 20px #c9a24d99,inset 0 0 20px #c9a24d4d;animation:_ngcontent-%COMP%_ankhGlow 2s ease-in-out infinite}.ankh-stem[_ngcontent-%COMP%]{width:4px;height:50px;background:linear-gradient(to bottom,#c9a24d,#a8832f);box-shadow:0 0 15px #c9a24dcc;position:relative;top:-5px}.ankh-base[_ngcontent-%COMP%]{width:30px;height:4px;background:linear-gradient(to right,#a8832f,#c9a24d,#a8832f);box-shadow:0 0 15px #c9a24dcc;position:relative;top:40px}.ankh-glow[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:120px;height:120px;background:radial-gradient(circle,rgba(201,162,77,.4) 0%,transparent 70%);border-radius:50%;animation:_ngcontent-%COMP%_ankhPulse 2s ease-in-out infinite;z-index:-1}.hieroglyphic-border[_ngcontent-%COMP%]{position:absolute;width:140px;height:140px;border-radius:50%;display:flex;align-items:center;justify-content:center;animation:_ngcontent-%COMP%_borderRotate 8s linear infinite}.hieroglyphic-border[_ngcontent-%COMP%]   .border-glyph[_ngcontent-%COMP%]{position:absolute;font-size:1.2rem;color:#c9a24d;font-weight:700;text-shadow:0 0 10px rgba(201,162,77,.6);animation:_ngcontent-%COMP%_glyphGlow 2s ease-in-out infinite}.hieroglyphic-border[_ngcontent-%COMP%]   .border-glyph[_ngcontent-%COMP%]:nth-child(1){transform:rotate(0) translateY(-70px) rotate(0);animation-delay:0s}.hieroglyphic-border[_ngcontent-%COMP%]   .border-glyph[_ngcontent-%COMP%]:nth-child(2){transform:rotate(45deg) translateY(-70px) rotate(-45deg);animation-delay:.2s}.hieroglyphic-border[_ngcontent-%COMP%]   .border-glyph[_ngcontent-%COMP%]:nth-child(3){transform:rotate(90deg) translateY(-70px) rotate(-90deg);animation-delay:.4s}.hieroglyphic-border[_ngcontent-%COMP%]   .border-glyph[_ngcontent-%COMP%]:nth-child(4){transform:rotate(135deg) translateY(-70px) rotate(-135deg);animation-delay:.6s}.hieroglyphic-border[_ngcontent-%COMP%]   .border-glyph[_ngcontent-%COMP%]:nth-child(5){transform:rotate(180deg) translateY(-70px) rotate(-180deg);animation-delay:.8s}.hieroglyphic-border[_ngcontent-%COMP%]   .border-glyph[_ngcontent-%COMP%]:nth-child(6){transform:rotate(225deg) translateY(-70px) rotate(-225deg);animation-delay:1s}.hieroglyphic-border[_ngcontent-%COMP%]   .border-glyph[_ngcontent-%COMP%]:nth-child(7){transform:rotate(270deg) translateY(-70px) rotate(-270deg);animation-delay:1.2s}.hieroglyphic-border[_ngcontent-%COMP%]   .border-glyph[_ngcontent-%COMP%]:nth-child(8){transform:rotate(315deg) translateY(-70px) rotate(-315deg);animation-delay:1.4s}.progress-ring[_ngcontent-%COMP%]{position:absolute;width:180px;height:180px;top:50%;left:50%;transform:translate(-50%,-50%);z-index:1}.progress-circle[_ngcontent-%COMP%]{width:100%;height:100%;transform:rotate(-90deg)}.progress-background[_ngcontent-%COMP%]{fill:none;stroke:#c9a24d33;stroke-width:3}.progress-bar[_ngcontent-%COMP%]{fill:none;stroke:#c9a24d;stroke-width:3;stroke-linecap:round;stroke-dasharray:339.29;animation:_ngcontent-%COMP%_progressRotate 3s ease-in-out infinite;filter:drop-shadow(0 0 8px rgba(201,162,77,.8))}.brand-section[_ngcontent-%COMP%]{margin-bottom:64px}.brand-name[_ngcontent-%COMP%]{font:800 3rem Cairo,sans-serif;color:#c9a24d;margin-bottom:8px;text-shadow:0 0 20px rgba(201,162,77,.8),0 4px 20px rgba(7,30,47,.5);line-height:1.2;letter-spacing:4px}.brand-letter[_ngcontent-%COMP%]{display:inline-block;animation:_ngcontent-%COMP%_letterFloat 2s ease-in-out infinite;position:relative}.brand-letter[_ngcontent-%COMP%]:nth-child(odd){animation-direction:alternate}.brand-letter[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:-4px;left:0;width:100%;height:3px;background:linear-gradient(90deg,transparent,#C9A24D,transparent);opacity:0;animation:_ngcontent-%COMP%_letterUnderline 2s ease-in-out infinite}.brand-tagline[_ngcontent-%COMP%]{font:500 1.2rem Cairo,sans-serif;color:#c9a24de6;text-shadow:0 0 15px rgba(201,162,77,.6),0 2px 10px rgba(7,30,47,.3);animation:_ngcontent-%COMP%_taglineGlow 3s ease-in-out infinite;letter-spacing:2px}.loading-animation[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:32px;margin-bottom:64px}.loading-dots[_ngcontent-%COMP%]{display:flex;gap:16px;align-items:center}.dot[_ngcontent-%COMP%]{width:16px;height:16px;position:relative;animation:_ngcontent-%COMP%_dotBounce 1.5s ease-in-out infinite}.dot[_ngcontent-%COMP%]   .dot-core[_ngcontent-%COMP%]{width:100%;height:100%;background:radial-gradient(circle,#c9a24d,#a8832f);border-radius:50%;box-shadow:0 0 15px #c9a24dcc,inset 0 0 10px #ffffff4d;transition:all .3s ease}.dot.active[_ngcontent-%COMP%]   .dot-core[_ngcontent-%COMP%]{transform:scale(1.4);box-shadow:0 0 25px #c9a24d,inset 0 0 15px #ffffff80}.dot[_ngcontent-%COMP%]:after{content:"";position:absolute;top:50%;left:50%;width:200%;height:200%;border:2px solid rgba(201,162,77,.4);border-radius:50%;transform:translate(-50%,-50%);animation:_ngcontent-%COMP%_dotRipple 2s ease-out infinite}.loading-bar[_ngcontent-%COMP%]{width:250px;height:6px;background:#c9a24d33;border-radius:3px;position:relative;overflow:hidden;border:1px solid rgba(201,162,77,.3);box-shadow:inset 0 2px 4px #071e2f4d,0 0 10px #c9a24d33}.bar-fill[_ngcontent-%COMP%]{height:100%;background:linear-gradient(90deg,#a8832f,#c9a24d,#a8832f);border-radius:3px;animation:_ngcontent-%COMP%_barFill 2s ease-in-out infinite;box-shadow:0 0 15px #c9a24dcc}.bar-glow[_ngcontent-%COMP%]{position:absolute;top:-2px;left:0;width:60px;height:10px;background:linear-gradient(90deg,transparent 0%,rgba(201,162,77,.8) 50%,transparent 100%);border-radius:5px;animation:_ngcontent-%COMP%_barGlow 2s ease-in-out infinite;filter:blur(4px)}.bar-pattern[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;background-image:repeating-linear-gradient(90deg,transparent,transparent 4px,rgba(168,131,47,.1) 4px,rgba(168,131,47,.1) 8px);animation:_ngcontent-%COMP%_patternMove 1s linear infinite}.background-effects[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;overflow:hidden;pointer-events:none;z-index:1}.gold-orb[_ngcontent-%COMP%]{position:absolute;border-radius:50%;filter:blur(80px);opacity:.4;animation:_ngcontent-%COMP%_orbFloat 20s ease-in-out infinite;background:radial-gradient(circle,rgba(201,162,77,.6) 0%,transparent 70%)}.gold-orb.orb-1[_ngcontent-%COMP%]{width:300px;height:300px;top:10%;left:10%;animation-delay:0s}.gold-orb.orb-2[_ngcontent-%COMP%]{width:250px;height:250px;bottom:15%;right:15%;animation-delay:7s}.gold-orb.orb-3[_ngcontent-%COMP%]{width:200px;height:200px;top:50%;right:10%;animation-delay:14s}.blue-accent[_ngcontent-%COMP%]{position:absolute;border-radius:50%;filter:blur(60px);opacity:.3;animation:_ngcontent-%COMP%_accentFloat 15s ease-in-out infinite;background:radial-gradient(circle,rgba(14,58,93,.5) 0%,transparent 70%)}.blue-accent.accent-1[_ngcontent-%COMP%]{width:200px;height:200px;top:30%;right:20%;animation-delay:3s}.blue-accent.accent-2[_ngcontent-%COMP%]{width:180px;height:180px;bottom:30%;left:20%;animation-delay:10s}@keyframes _ngcontent-%COMP%_containerFadeIn{0%{opacity:0;transform:translateY(30px) scale(.9)}to{opacity:1;transform:translateY(0) scale(1)}}@keyframes _ngcontent-%COMP%_hieroglyphFloat{0%,to{transform:translate(0) rotate(0);opacity:.2}25%{transform:translate(30px,-30px) rotate(90deg);opacity:.3}50%{transform:translate(-20px,20px) rotate(180deg);opacity:.25}75%{transform:translate(-30px,-10px) rotate(270deg);opacity:.3}}@keyframes _ngcontent-%COMP%_ringRotate{0%{transform:translate(-50%) rotate(0) scale(1);opacity:.6}50%{transform:translate(-50%) rotate(180deg) scale(1.2);opacity:1}to{transform:translate(-50%) rotate(360deg) scale(1);opacity:.6}}@keyframes _ngcontent-%COMP%_ankhFloat{0%,to{transform:translateY(0) rotate(0)}25%{transform:translateY(-8px) rotate(2deg)}50%{transform:translateY(0) rotate(0)}75%{transform:translateY(-4px) rotate(-2deg)}}@keyframes _ngcontent-%COMP%_ankhGlow{0%,to{box-shadow:0 0 20px #c9a24d99,inset 0 0 20px #c9a24d4d}50%{box-shadow:0 0 30px #c9a24d,inset 0 0 30px #c9a24d80}}@keyframes _ngcontent-%COMP%_ankhPulse{0%,to{transform:translate(-50%,-50%) scale(.8);opacity:.3}50%{transform:translate(-50%,-50%) scale(1.2);opacity:.6}}@keyframes _ngcontent-%COMP%_borderRotate{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@keyframes _ngcontent-%COMP%_glyphGlow{0%,to{text-shadow:0 0 10px rgba(201,162,77,.6);opacity:.7}50%{text-shadow:0 0 20px #c9a24d;opacity:1}}@keyframes _ngcontent-%COMP%_progressRotate{0%{stroke-dashoffset:339.29}50%{stroke-dashoffset:84.82}to{stroke-dashoffset:339.29}}@keyframes _ngcontent-%COMP%_letterFloat{0%,to{transform:translateY(0)}50%{transform:translateY(-10px)}}@keyframes _ngcontent-%COMP%_letterUnderline{0%,to{opacity:0;transform:scaleX(0)}50%{opacity:1;transform:scaleX(1)}}@keyframes _ngcontent-%COMP%_taglineGlow{0%,to{text-shadow:0 0 15px rgba(201,162,77,.6),0 2px 10px rgba(7,30,47,.3)}50%{text-shadow:0 0 25px #c9a24d,0 2px 15px rgba(7,30,47,.5),0 0 30px rgba(201,162,77,.8)}}@keyframes _ngcontent-%COMP%_dotBounce{0%,to{transform:translateY(0) scale(1)}50%{transform:translateY(-12px) scale(1.1)}}@keyframes _ngcontent-%COMP%_dotRipple{0%{transform:translate(-50%,-50%) scale(.5);opacity:1}to{transform:translate(-50%,-50%) scale(2.5);opacity:0}}@keyframes _ngcontent-%COMP%_barFill{0%{width:0%;transform:translate(0)}50%{width:70%;transform:translate(0)}to{width:100%;transform:translate(0)}}@keyframes _ngcontent-%COMP%_barGlow{0%{transform:translate(-60px);opacity:0}50%{transform:translate(125px);opacity:1}to{transform:translate(310px);opacity:0}}@keyframes _ngcontent-%COMP%_patternMove{0%{transform:translate(0)}to{transform:translate(8px)}}@keyframes _ngcontent-%COMP%_orbFloat{0%,to{transform:translate(0) scale(1)}33%{transform:translate(40px,-30px) scale(1.1)}66%{transform:translate(-30px,40px) scale(.9)}}@keyframes _ngcontent-%COMP%_accentFloat{0%,to{transform:translate(0) scale(1)}33%{transform:translate(-25px,25px) scale(1.05)}66%{transform:translate(25px,-25px) scale(.95)}}@media (max-width: 768px){.loading-container[_ngcontent-%COMP%]{padding:32px 16px}.ankh-section[_ngcontent-%COMP%]{width:160px;height:160px;margin-bottom:32px}.ankh-container[_ngcontent-%COMP%]{width:100px;height:100px}.ankh-symbol[_ngcontent-%COMP%]{width:65px;height:80px}.ankh-loop[_ngcontent-%COMP%]{width:40px;height:40px}.progress-ring[_ngcontent-%COMP%]{width:140px;height:140px}.brand-name[_ngcontent-%COMP%]{font-size:2.2rem;letter-spacing:2px}.loading-bar[_ngcontent-%COMP%]{width:200px}.gold-orb.orb-1[_ngcontent-%COMP%]{width:200px;height:200px}.gold-orb.orb-2[_ngcontent-%COMP%]{width:180px;height:180px}.gold-orb.orb-3[_ngcontent-%COMP%]{width:150px;height:150px}}@media (max-width: 480px){.ankh-section[_ngcontent-%COMP%]{width:140px;height:140px}.ankh-container[_ngcontent-%COMP%]{width:90px;height:90px}.ankh-symbol[_ngcontent-%COMP%]{width:55px;height:70px}.brand-name[_ngcontent-%COMP%]{font-size:1.8rem;letter-spacing:1px}.loading-bar[_ngcontent-%COMP%]{width:180px}}@media (prefers-reduced-motion: reduce){.loading-overlay[_ngcontent-%COMP%], .loading-container[_ngcontent-%COMP%], .ankh-ring[_ngcontent-%COMP%]   .ring-segment[_ngcontent-%COMP%], .ankh-symbol[_ngcontent-%COMP%], .ankh-glow[_ngcontent-%COMP%], .hieroglyphic-border[_ngcontent-%COMP%], .progress-bar[_ngcontent-%COMP%], .brand-letter[_ngcontent-%COMP%], .brand-tagline[_ngcontent-%COMP%], .dot[_ngcontent-%COMP%], .bar-fill[_ngcontent-%COMP%], .bar-glow[_ngcontent-%COMP%], .hieroglyph[_ngcontent-%COMP%], .gold-orb[_ngcontent-%COMP%], .blue-accent[_ngcontent-%COMP%]{animation-duration:.01ms!important;animation-iteration-count:1!important;transition-duration:.01ms!important}}']})};function kZ(n,e){n&1&&M(0,"app-loading")}function RZ(n,e){if(n&1&&M(0,"app-loading",2),n&2){let t=R();V("message",t.demoLoadingMessage)("size",t.demoLoadingSize)("variant",t.demoLoadingVariant)}}var C_=class n{constructor(e){this.lan=e;setTimeout(()=>this.loading=!1,3e3)}title=xn("Ankh");loading=!0;lastScrollPosition=0;showToTop=!1;demoLoading=!1;demoLoadingMessage="";demoLoadingSize="medium";demoLoadingVariant="primary";showDemoLoading(e="\u062C\u0627\u0631\u064A \u0627\u0644\u062A\u062D\u0645\u064A\u0644...",t="medium",i="primary",r=3e3){this.demoLoadingMessage=e,this.demoLoadingSize=t,this.demoLoadingVariant=i,this.demoLoading=!0,setTimeout(()=>{this.demoLoading=!1},r)}ngOnInit(){try{typeof AOS<"u"&&AOS.init({duration:700,easing:"ease-out-cubic",offset:80,once:!0})}catch{}this.loopDirectionWatcher()}onActivate(){window.scroll({top:0,behavior:"instant"});try{AOS?.refresh?.()}catch{}}toTop(){window.scrollTo({top:0,behavior:"smooth"})}onWindowScroll(){this.handleToTopVisibility()}handleToTopVisibility(){let e=document.querySelector(".to-top-btn"),t=document.querySelector(".custom-navbar"),i=document.querySelector(".app-main");!e||!t||!i||(window.scrollY>=200?(e.classList.add("show"),t.classList.add("navbar-scrolled"),this.showToTop=!0):(e.classList.remove("show"),t.classList.remove("navbar-scrolled"),this.showToTop=!1))}loopDirectionWatcher(){let e=document.querySelector(".direction");this.lan.getCurrentLang()==="ar"?e?.classList.add("rtl"):e?.classList.remove("rtl"),setTimeout(()=>this.loopDirectionWatcher(),150)}static \u0275fac=function(t){return new(t||n)(B(_l))};static \u0275cmp=me({type:n,selectors:[["app-root"]],hostBindings:function(t,i){t&1&&H("scroll",function(){return i.onWindowScroll()},nu)},decls:14,vars:7,consts:[[1,"direction","app-shell"],["aria-label","Main navigation"],[3,"message","size","variant"],["role","main",1,"app-main","mt-5"],[3,"activate"],["aria-label","Footer"],[1,"to-top-btn",3,"click"],[1,"to-top-content"],[1,"fa-solid","fa-angles-up"],[1,"to-top-text"],[1,"to-top-ripple"]],template:function(t,i){t&1&&(m(0,"div",0),M(1,"app-navbar",1),A(2,kZ,1,0,"app-loading"),A(3,RZ,1,3,"app-loading",2),m(4,"main",3)(5,"router-outlet",4),H("activate",function(){return i.onActivate()}),_()(),M(6,"app-footer",5),m(7,"div",6),H("click",function(){return i.toTop()}),m(8,"div",7),M(9,"i",8),m(10,"span",9),v(11),b(12,"translate"),_()(),M(13,"div",10),_()()),t&2&&(p(2),k(i.loading?2:-1),p(),k(i.demoLoading?3:-1),p(4),Y("show",i.showToTop),p(4),P(" ",C(12,5,"to_top")," "))},dependencies:[Zs,__,y_,b_,Ie,Pe,Ne],styles:[".app-shell[_ngcontent-%COMP%]{position:relative;overflow-x:hidden;background-color:#071e2f}.app-main[_ngcontent-%COMP%]{min-height:100vh;position:relative;z-index:1;font-family:Cairo,sans-serif;transition:padding-top .3s ease}.rtl[_ngcontent-%COMP%]{direction:rtl}@keyframes _ngcontent-%COMP%_subtleFloat{0%,to{transform:translateY(0) rotate(0)}50%{transform:translateY(-15px) rotate(180deg)}}.to-top-btn[_ngcontent-%COMP%]{position:fixed;bottom:2rem;right:-80px;z-index:1000;transition:all .4s cubic-bezier(.4,0,.2,1);cursor:pointer}.to-top-btn.show[_ngcontent-%COMP%]{right:2rem}.to-top-btn[_ngcontent-%COMP%]   .to-top-content[_ngcontent-%COMP%]{position:relative;display:flex;flex-direction:column;align-items:center;justify-content:center;width:55px;height:55px;background:#071e2f;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border-radius:50%;box-shadow:0 4px 15px #0000001a;transition:all .3s ease;border:1px solid rgba(7,30,47,.02)}.to-top-btn[_ngcontent-%COMP%]   .to-top-content[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#c9a24d;font-size:1.2rem;margin-bottom:1px;transition:all .3s ease}.to-top-btn[_ngcontent-%COMP%]   .to-top-content[_ngcontent-%COMP%]   .to-top-text[_ngcontent-%COMP%]{color:#c9a24d;font-size:.5rem;font-weight:300;font-family:Cairo,Inter,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,sans-serif;transition:all .3s ease}.to-top-btn[_ngcontent-%COMP%]   .to-top-ripple[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:100%;height:100%;border-radius:50%;background:#c9a24d80;animation:_ngcontent-%COMP%_gentleRipple 3s ease-in-out infinite;pointer-events:none}.to-top-btn[_ngcontent-%COMP%]:hover{transform:translateY(-2px)}.to-top-btn[_ngcontent-%COMP%]:hover   .to-top-content[_ngcontent-%COMP%]{box-shadow:0 8px 25px #c9a24d26;transform:scale(1.05);background:#071e2f}.to-top-btn[_ngcontent-%COMP%]:hover   .to-top-content[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], .to-top-btn[_ngcontent-%COMP%]:hover   .to-top-content[_ngcontent-%COMP%]   .to-top-text[_ngcontent-%COMP%]{transform:translateY(-1px)}.to-top-btn[_ngcontent-%COMP%]:active{transform:translateY(0) scale(.95)}@keyframes _ngcontent-%COMP%_gentleRipple{0%{transform:translate(-50%,-50%) scale(1);opacity:.3}to{transform:translate(-50%,-50%) scale(1.3);opacity:0}}@media (prefers-reduced-motion: reduce){*[_ngcontent-%COMP%]{animation-duration:.01ms!important;animation-iteration-count:1!important;transition-duration:.01ms!important}}.to-top-btn[_ngcontent-%COMP%]:focus{outline:2px solid #C9A24D;outline-offset:2px;border-radius:50%}html[_ngcontent-%COMP%]{scroll-behavior:smooth}.hidden-navbar[_ngcontent-%COMP%]{transform:translateY(-100%);transition:transform .3s cubic-bezier(.4,0,.2,1);box-shadow:none}[_ngcontent-%COMP%]::-webkit-scrollbar{width:8px}[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#c9a24d1a;border-radius:4px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:linear-gradient(135deg,#c9a24d,#071e2f);border-radius:4px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:linear-gradient(135deg,#071e2f,#c9a24d)}.to-top-btn[_ngcontent-%COMP%]{will-change:transform,box-shadow}"]})};eb(C_,cN).catch(n=>console.error(n));
