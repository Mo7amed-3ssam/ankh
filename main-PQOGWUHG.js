var S4=Object.create;var $0=Object.defineProperty,T4=Object.defineProperties,D4=Object.getOwnPropertyDescriptor,A4=Object.getOwnPropertyDescriptors,k4=Object.getOwnPropertyNames,tp=Object.getOwnPropertySymbols,pO=Object.getPrototypeOf,H0=Object.prototype.hasOwnProperty,hO=Object.prototype.propertyIsEnumerable,R4=Reflect.get;var fO=(n,t,e)=>t in n?$0(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e,B=(n,t)=>{for(var e in t||={})H0.call(t,e)&&fO(n,e,t[e]);if(tp)for(var e of tp(t))hO.call(t,e)&&fO(n,e,t[e]);return n},oe=(n,t)=>T4(n,A4(t));var sc=(n,t)=>{var e={};for(var i in n)H0.call(n,i)&&t.indexOf(i)<0&&(e[i]=n[i]);if(n!=null&&tp)for(var i of tp(n))t.indexOf(i)<0&&hO.call(n,i)&&(e[i]=n[i]);return e};var N4=(n,t)=>()=>(t||n((t={exports:{}}).exports,t),t.exports);var L4=(n,t,e,i)=>{if(t&&typeof t=="object"||typeof t=="function")for(let r of k4(t))!H0.call(n,r)&&r!==e&&$0(n,r,{get:()=>t[r],enumerable:!(i=D4(t,r))||i.enumerable});return n};var li=(n,t,e)=>(e=n!=null?S4(pO(n)):{},L4(t||!n||!n.__esModule?$0(e,"default",{value:n,enumerable:!0}):e,n));var Zs=(n,t,e)=>R4(pO(n),e,t);var T=(n,t,e)=>new Promise((i,r)=>{var o=c=>{try{a(e.next(c))}catch(l){r(l)}},s=c=>{try{a(e.throw(c))}catch(l){r(l)}},a=c=>c.done?i(c.value):Promise.resolve(c.value).then(o,s);a((e=e.apply(n,t)).next())});var si=N4((ro,uP)=>{"use strict";(function(n,t){typeof ro=="object"&&typeof uP<"u"?uP.exports=t():typeof define=="function"&&define.amd?define(t):(n=typeof globalThis<"u"?globalThis:n||self,n.Sweetalert2=t())})(ro,function(){"use strict";function n(u,p,b){if(typeof u=="function"?u===p:u.has(p))return arguments.length<3?p:b;throw new TypeError("Private element is not present on this object")}function t(u,p){if(p.has(u))throw new TypeError("Cannot initialize the same private elements twice on an object")}function e(u,p){return u.get(n(u,p))}function i(u,p,b){t(u,p),p.set(u,b)}function r(u,p,b){return u.set(n(u,p),b),b}let o=100,s={},a=()=>{s.previousActiveElement instanceof HTMLElement?(s.previousActiveElement.focus(),s.previousActiveElement=null):document.body&&document.body.focus()},c=u=>new Promise(p=>{if(!u)return p();let b=window.scrollX,P=window.scrollY;s.restoreFocusTimeout=setTimeout(()=>{a(),p()},o),window.scrollTo(b,P)}),l="swal2-",g=["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error","draggable","dragging"].reduce((u,p)=>(u[p]=l+p,u),{}),E=["success","warning","info","question","error"].reduce((u,p)=>(u[p]=l+p,u),{}),S="SweetAlert2:",k=u=>u.charAt(0).toUpperCase()+u.slice(1),R=u=>{console.warn(`${S} ${typeof u=="object"?u.join(" "):u}`)},V=u=>{console.error(`${S} ${u}`)},ae=[],Ce=u=>{ae.includes(u)||(ae.push(u),R(u))},ue=(u,p=null)=>{Ce(`"${u}" is deprecated and will be removed in the next major release.${p?` Use "${p}" instead.`:""}`)},st=u=>typeof u=="function"?u():u,Xe=u=>u&&typeof u.toPromise=="function",ot=u=>Xe(u)?u.toPromise():Promise.resolve(u),vt=u=>u&&Promise.resolve(u)===u,at=()=>document.body.querySelector(`.${g.container}`),Gn=u=>{let p=at();return p?p.querySelector(u):null},In=u=>Gn(`.${u}`),Ae=()=>In(g.popup),Er=()=>In(g.icon),jf=()=>In(g["icon-content"]),Ql=()=>In(g.title),re=()=>In(g["html-container"]),fe=()=>In(g.image),he=()=>In(g["progress-steps"]),Ne=()=>In(g["validation-message"]),tt=()=>Gn(`.${g.actions} .${g.confirm}`),mn=()=>Gn(`.${g.actions} .${g.cancel}`),Nt=()=>Gn(`.${g.actions} .${g.deny}`),Pr=()=>In(g["input-label"]),Je=()=>Gn(`.${g.loader}`),$o=()=>In(g.actions),Uf=()=>In(g.footer),Lt=()=>In(g["timer-progress-bar"]),Wi=()=>In(g.close),Kn=`
  a[href],
  area[href],
  input:not([disabled]),
  select:not([disabled]),
  textarea:not([disabled]),
  button:not([disabled]),
  iframe,
  object,
  embed,
  [tabindex="0"],
  [contenteditable],
  audio[controls],
  video[controls],
  summary
`,Ho=()=>{let u=Ae();if(!u)return[];let p=u.querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])'),b=Array.from(p).sort((Y,xe)=>{let $e=parseInt(Y.getAttribute("tabindex")||"0"),ct=parseInt(xe.getAttribute("tabindex")||"0");return $e>ct?1:$e<ct?-1:0}),P=u.querySelectorAll(Kn),D=Array.from(P).filter(Y=>Y.getAttribute("tabindex")!=="-1");return[...new Set(b.concat(D))].filter(Y=>Qn(Y))},Gs=()=>ao(document.body,g.shown)&&!ao(document.body,g["toast-shown"])&&!ao(document.body,g["no-backdrop"]),$f=()=>{let u=Ae();return u?ao(u,g.toast):!1},t3=()=>{let u=Ae();return u?u.hasAttribute("data-loading"):!1},ai=(u,p)=>{if(u.textContent="",p){let P=new DOMParser().parseFromString(p,"text/html"),D=P.querySelector("head");D&&Array.from(D.childNodes).forEach(xe=>{u.appendChild(xe)});let Y=P.querySelector("body");Y&&Array.from(Y.childNodes).forEach(xe=>{xe instanceof HTMLVideoElement||xe instanceof HTMLAudioElement?u.appendChild(xe.cloneNode(!0)):u.appendChild(xe)})}},ao=(u,p)=>{if(!p)return!1;let b=p.split(/\s+/);for(let P=0;P<b.length;P++)if(!u.classList.contains(b[P]))return!1;return!0},n3=(u,p)=>{Array.from(u.classList).forEach(b=>{!Object.values(g).includes(b)&&!Object.values(E).includes(b)&&!Object.values(p.showClass||{}).includes(b)&&u.classList.remove(b)})},ci=(u,p,b)=>{if(n3(u,p),!p.customClass)return;let P=p.customClass[b];if(P){if(typeof P!="string"&&!P.forEach){R(`Invalid type of customClass.${b}! Expected string or iterable object, got "${typeof P}"`);return}Qe(u,P)}},Hf=(u,p)=>{if(!p)return null;switch(p){case"select":case"textarea":case"file":return u.querySelector(`.${g.popup} > .${g[p]}`);case"checkbox":return u.querySelector(`.${g.popup} > .${g.checkbox} input`);case"radio":return u.querySelector(`.${g.popup} > .${g.radio} input:checked`)||u.querySelector(`.${g.popup} > .${g.radio} input:first-child`);case"range":return u.querySelector(`.${g.popup} > .${g.range} input`);default:return u.querySelector(`.${g.popup} > .${g.input}`)}},mP=u=>{if(u.focus(),u.type!=="file"){let p=u.value;u.value="",u.value=p}},_P=(u,p,b)=>{!u||!p||(typeof p=="string"&&(p=p.split(/\s+/).filter(Boolean)),p.forEach(P=>{Array.isArray(u)?u.forEach(D=>{b?D.classList.add(P):D.classList.remove(P)}):b?u.classList.add(P):u.classList.remove(P)}))},Qe=(u,p)=>{_P(u,p,!0)},Mi=(u,p)=>{_P(u,p,!1)},qo=(u,p)=>{let b=Array.from(u.children);for(let P=0;P<b.length;P++){let D=b[P];if(D instanceof HTMLElement&&ao(D,p))return D}},Ks=(u,p,b)=>{b===`${parseInt(`${b}`)}`&&(b=parseInt(b)),b||parseInt(`${b}`)===0?u.style.setProperty(p,typeof b=="number"?`${b}px`:b):u.style.removeProperty(p)},nn=(u,p="flex")=>{u&&(u.style.display=p)},Sn=u=>{u&&(u.style.display="none")},S0=(u,p="block")=>{u&&new MutationObserver(()=>{Yl(u,u.innerHTML,p)}).observe(u,{childList:!0,subtree:!0})},vP=(u,p,b,P)=>{let D=u.querySelector(p);D&&D.style.setProperty(b,P)},Yl=(u,p,b="flex")=>{p?nn(u,b):Sn(u)},Qn=u=>!!(u&&(u.offsetWidth||u.offsetHeight||u.getClientRects().length)),i3=()=>!Qn(tt())&&!Qn(Nt())&&!Qn(mn()),T0=u=>u.scrollHeight>u.clientHeight,r3=(u,p)=>{let b=u;for(;b&&b!==p;){if(T0(b))return!0;b=b.parentElement}return!1},yP=u=>{let p=window.getComputedStyle(u),b=parseFloat(p.getPropertyValue("animation-duration")||"0"),P=parseFloat(p.getPropertyValue("transition-duration")||"0");return b>0||P>0},D0=(u,p=!1)=>{let b=Lt();b&&Qn(b)&&(p&&(b.style.transition="none",b.style.width="100%"),setTimeout(()=>{b.style.transition=`width ${u/1e3}s linear`,b.style.width="0%"},10))},o3=()=>{let u=Lt();if(!u)return;let p=parseInt(window.getComputedStyle(u).width);u.style.removeProperty("transition"),u.style.width="100%";let b=parseInt(window.getComputedStyle(u).width),P=p/b*100;u.style.width=`${P}%`},s3=()=>typeof window>"u"||typeof document>"u",a3=`
 <div aria-labelledby="${g.title}" aria-describedby="${g["html-container"]}" class="${g.popup}" tabindex="-1">
   <button type="button" class="${g.close}"></button>
   <ul class="${g["progress-steps"]}"></ul>
   <div class="${g.icon}"></div>
   <img class="${g.image}" />
   <h2 class="${g.title}" id="${g.title}"></h2>
   <div class="${g["html-container"]}" id="${g["html-container"]}"></div>
   <input class="${g.input}" id="${g.input}" />
   <input type="file" class="${g.file}" />
   <div class="${g.range}">
     <input type="range" />
     <output></output>
   </div>
   <select class="${g.select}" id="${g.select}"></select>
   <div class="${g.radio}"></div>
   <label class="${g.checkbox}">
     <input type="checkbox" id="${g.checkbox}" />
     <span class="${g.label}"></span>
   </label>
   <textarea class="${g.textarea}" id="${g.textarea}"></textarea>
   <div class="${g["validation-message"]}" id="${g["validation-message"]}"></div>
   <div class="${g.actions}">
     <div class="${g.loader}"></div>
     <button type="button" class="${g.confirm}"></button>
     <button type="button" class="${g.deny}"></button>
     <button type="button" class="${g.cancel}"></button>
   </div>
   <div class="${g.footer}"></div>
   <div class="${g["timer-progress-bar-container"]}">
     <div class="${g["timer-progress-bar"]}"></div>
   </div>
 </div>
`.replace(/(^|\n)\s*/g,""),c3=()=>{let u=at();return u?(u.remove(),Mi([document.documentElement,document.body],[g["no-backdrop"],g["toast-shown"],g["has-column"]]),!0):!1},Qs=()=>{s.currentInstance&&s.currentInstance.resetValidationMessage()},l3=()=>{let u=Ae();if(!u)return;let p=qo(u,g.input),b=qo(u,g.file),P=u.querySelector(`.${g.range} input`),D=u.querySelector(`.${g.range} output`),Y=qo(u,g.select),xe=u.querySelector(`.${g.checkbox} input`),$e=qo(u,g.textarea);p&&(p.oninput=Qs),b&&(b.onchange=Qs),Y&&(Y.onchange=Qs),xe&&(xe.onchange=Qs),$e&&($e.oninput=Qs),P&&D&&(P.oninput=()=>{Qs(),D.value=P.value},P.onchange=()=>{Qs(),D.value=P.value})},d3=u=>{if(typeof u=="string"){let p=document.querySelector(u);if(!p)throw new Error(`Target element "${u}" not found`);return p}return u},u3=u=>{let p=Ae();p&&(p.setAttribute("role",u.toast?"alert":"dialog"),p.setAttribute("aria-live",u.toast?"polite":"assertive"),u.toast||p.setAttribute("aria-modal","true"))},f3=u=>{window.getComputedStyle(u).direction==="rtl"&&(Qe(at(),g.rtl),s.isRTL=!0)},p3=u=>{let p=c3();if(s3()){V("SweetAlert2 requires document to initialize");return}let b=document.createElement("div");b.className=g.container,p&&Qe(b,g["no-transition"]),ai(b,a3),b.dataset.swal2Theme=u.theme;let P=d3(u.target||"body");P.appendChild(b),u.topLayer&&(b.setAttribute("popover",""),b.showPopover()),u3(u),f3(P),l3()},A0=(u,p)=>{u instanceof HTMLElement?p.appendChild(u):typeof u=="object"?h3(u,p):u&&ai(p,u)},h3=(u,p)=>{"jquery"in u?g3(p,u):ai(p,u.toString())},g3=(u,p)=>{if(u.textContent="",0 in p)for(let b=0;b in p;b++)u.appendChild(p[b].cloneNode(!0));else u.appendChild(p.cloneNode(!0))},m3=(u,p)=>{let b=$o(),P=Je();!b||!P||(!p.showConfirmButton&&!p.showDenyButton&&!p.showCancelButton?Sn(b):nn(b),ci(b,p,"actions"),_3(b,P,p),ai(P,p.loaderHtml||""),ci(P,p,"loader"))};function _3(u,p,b){let P=tt(),D=Nt(),Y=mn();!P||!D||!Y||(R0(P,"confirm",b),R0(D,"deny",b),R0(Y,"cancel",b),v3(P,D,Y,b),b.reverseButtons&&(b.toast?(u.insertBefore(Y,P),u.insertBefore(D,P)):(u.insertBefore(Y,p),u.insertBefore(D,p),u.insertBefore(P,p))))}function v3(u,p,b,P){if(!P.buttonsStyling){Mi([u,p,b],g.styled);return}Qe([u,p,b],g.styled),P.confirmButtonColor&&u.style.setProperty("--swal2-confirm-button-background-color",P.confirmButtonColor),P.denyButtonColor&&p.style.setProperty("--swal2-deny-button-background-color",P.denyButtonColor),P.cancelButtonColor&&b.style.setProperty("--swal2-cancel-button-background-color",P.cancelButtonColor),k0(u),k0(p),k0(b)}function k0(u){let p=window.getComputedStyle(u);if(p.getPropertyValue("--swal2-action-button-focus-box-shadow"))return;let b=p.backgroundColor.replace(/rgba?\((\d+), (\d+), (\d+).*/,"rgba($1, $2, $3, 0.5)");u.style.setProperty("--swal2-action-button-focus-box-shadow",p.getPropertyValue("--swal2-outline").replace(/ rgba\(.*/,` ${b}`))}function R0(u,p,b){let P=k(p);Yl(u,b[`show${P}Button`],"inline-block"),ai(u,b[`${p}ButtonText`]||""),u.setAttribute("aria-label",b[`${p}ButtonAriaLabel`]||""),u.className=g[p],ci(u,b,`${p}Button`)}let y3=(u,p)=>{let b=Wi();b&&(ai(b,p.closeButtonHtml||""),ci(b,p,"closeButton"),Yl(b,p.showCloseButton),b.setAttribute("aria-label",p.closeButtonAriaLabel||""))},b3=(u,p)=>{let b=at();b&&(C3(b,p.backdrop),w3(b,p.position),M3(b,p.grow),ci(b,p,"container"))};function C3(u,p){typeof p=="string"?u.style.background=p:p||Qe([document.documentElement,document.body],g["no-backdrop"])}function w3(u,p){p&&(p in g?Qe(u,g[p]):(R('The "position" parameter is not valid, defaulting to "center"'),Qe(u,g.center)))}function M3(u,p){p&&Qe(u,g[`grow-${p}`])}var ut={innerParams:new WeakMap,domCache:new WeakMap};let E3=["input","file","range","select","radio","checkbox","textarea"],P3=(u,p)=>{let b=Ae();if(!b)return;let P=ut.innerParams.get(u),D=!P||p.input!==P.input;E3.forEach(Y=>{let xe=qo(b,g[Y]);xe&&(I3(Y,p.inputAttributes),xe.className=g[Y],D&&Sn(xe))}),p.input&&(D&&O3(p),S3(p))},O3=u=>{if(!u.input)return;if(!Ft[u.input]){V(`Unexpected type of input! Expected ${Object.keys(Ft).join(" | ")}, got "${u.input}"`);return}let p=bP(u.input);if(!p)return;let b=Ft[u.input](p,u);nn(p),u.inputAutoFocus&&setTimeout(()=>{mP(b)})},x3=u=>{for(let p=0;p<u.attributes.length;p++){let b=u.attributes[p].name;["id","type","value","style"].includes(b)||u.removeAttribute(b)}},I3=(u,p)=>{let b=Ae();if(!b)return;let P=Hf(b,u);if(P){x3(P);for(let D in p)P.setAttribute(D,p[D])}},S3=u=>{if(!u.input)return;let p=bP(u.input);p&&ci(p,u,"input")},N0=(u,p)=>{!u.placeholder&&p.inputPlaceholder&&(u.placeholder=p.inputPlaceholder)},Zl=(u,p,b)=>{if(b.inputLabel){let P=document.createElement("label"),D=g["input-label"];P.setAttribute("for",u.id),P.className=D,typeof b.customClass=="object"&&Qe(P,b.customClass.inputLabel),P.innerText=b.inputLabel,p.insertAdjacentElement("beforebegin",P)}},bP=u=>{let p=Ae();if(p)return qo(p,g[u]||g.input)},qf=(u,p)=>{["string","number"].includes(typeof p)?u.value=`${p}`:vt(p)||R(`Unexpected type of inputValue! Expected "string", "number" or "Promise", got "${typeof p}"`)},Ft={};Ft.text=Ft.email=Ft.password=Ft.number=Ft.tel=Ft.url=Ft.search=Ft.date=Ft["datetime-local"]=Ft.time=Ft.week=Ft.month=(u,p)=>{let b=u;return qf(b,p.inputValue),Zl(b,b,p),N0(b,p),b.type=p.input,b},Ft.file=(u,p)=>{let b=u;return Zl(b,b,p),N0(b,p),b},Ft.range=(u,p)=>{let b=u,P=b.querySelector("input"),D=b.querySelector("output");return P&&(qf(P,p.inputValue),P.type=p.input,Zl(P,u,p)),D&&qf(D,p.inputValue),u},Ft.select=(u,p)=>{let b=u;if(b.textContent="",p.inputPlaceholder){let P=document.createElement("option");ai(P,p.inputPlaceholder),P.value="",P.disabled=!0,P.selected=!0,b.appendChild(P)}return Zl(b,b,p),b},Ft.radio=u=>{let p=u;return p.textContent="",u},Ft.checkbox=(u,p)=>{let b=Ae();if(!b)throw new Error("Popup not found");let P=Hf(b,"checkbox");if(!P)throw new Error("Checkbox input not found");P.value="1",P.checked=!!p.inputValue;let Y=u.querySelector("span");if(Y){let xe=p.inputPlaceholder||p.inputLabel;xe&&ai(Y,xe)}return P},Ft.textarea=(u,p)=>{let b=u;qf(b,p.inputValue),N0(b,p),Zl(b,b,p);let P=D=>parseInt(window.getComputedStyle(D).marginLeft)+parseInt(window.getComputedStyle(D).marginRight);return setTimeout(()=>{if("MutationObserver"in window){let D=Ae();if(!D)return;let Y=parseInt(window.getComputedStyle(D).width),xe=()=>{if(!document.body.contains(b))return;let $e=b.offsetWidth+P(b),ct=Ae();ct&&($e>Y?ct.style.width=`${$e}px`:Ks(ct,"width",p.width))};new MutationObserver(xe).observe(b,{attributes:!0,attributeFilter:["style"]})}}),b};let T3=(u,p)=>{let b=re();b&&(S0(b),ci(b,p,"htmlContainer"),p.html?(A0(p.html,b),nn(b,"block")):p.text?(b.textContent=p.text,nn(b,"block")):Sn(b),P3(u,p))},D3=(u,p)=>{let b=Uf();b&&(S0(b),Yl(b,!!p.footer,"block"),p.footer&&A0(p.footer,b),ci(b,p,"footer"))},A3=(u,p)=>{let b=ut.innerParams.get(u),P=Er();if(!P)return;if(b&&p.icon===b.icon){MP(P,p),CP(P,p);return}if(!p.icon&&!p.iconHtml){Sn(P);return}if(p.icon&&Object.keys(E).indexOf(p.icon)===-1){V(`Unknown icon! Expected "success", "error", "warning", "info" or "question", got "${p.icon}"`),Sn(P);return}nn(P),MP(P,p),CP(P,p),Qe(P,p.showClass&&p.showClass.icon),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",wP)},CP=(u,p)=>{for(let[b,P]of Object.entries(E))p.icon!==b&&Mi(u,P);Qe(u,p.icon&&E[p.icon]),N3(u,p),wP(),ci(u,p,"icon")},wP=()=>{let u=Ae();if(!u)return;let p=window.getComputedStyle(u).getPropertyValue("background-color"),b=u.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let P=0;P<b.length;P++)b[P].style.backgroundColor=p},k3=u=>`
  ${u.animation?'<div class="swal2-success-circular-line-left"></div>':""}
  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>
  <div class="swal2-success-ring"></div>
  ${u.animation?'<div class="swal2-success-fix"></div>':""}
  ${u.animation?'<div class="swal2-success-circular-line-right"></div>':""}
`,R3=`
  <span class="swal2-x-mark">
    <span class="swal2-x-mark-line-left"></span>
    <span class="swal2-x-mark-line-right"></span>
  </span>
`,MP=(u,p)=>{if(!p.icon&&!p.iconHtml)return;let b=u.innerHTML,P="";p.iconHtml?P=EP(p.iconHtml):p.icon==="success"?(P=k3(p),b=b.replace(/ style=".*?"/g,"")):p.icon==="error"?P=R3:p.icon&&(P=EP({question:"?",warning:"!",info:"i"}[p.icon])),b.trim()!==P.trim()&&ai(u,P)},N3=(u,p)=>{if(p.iconColor){u.style.color=p.iconColor,u.style.borderColor=p.iconColor;for(let b of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])vP(u,b,"background-color",p.iconColor);vP(u,".swal2-success-ring","border-color",p.iconColor)}},EP=u=>`<div class="${g["icon-content"]}">${u}</div>`,L3=(u,p)=>{let b=fe();if(b){if(!p.imageUrl){Sn(b);return}nn(b,""),b.setAttribute("src",p.imageUrl),b.setAttribute("alt",p.imageAlt||""),Ks(b,"width",p.imageWidth),Ks(b,"height",p.imageHeight),b.className=g.image,ci(b,p,"image")}},L0=!1,PP=0,OP=0,xP=0,IP=0,F3=u=>{u.addEventListener("mousedown",Wf),document.body.addEventListener("mousemove",Gf),u.addEventListener("mouseup",Kf),u.addEventListener("touchstart",Wf),document.body.addEventListener("touchmove",Gf),u.addEventListener("touchend",Kf)},B3=u=>{u.removeEventListener("mousedown",Wf),document.body.removeEventListener("mousemove",Gf),u.removeEventListener("mouseup",Kf),u.removeEventListener("touchstart",Wf),document.body.removeEventListener("touchmove",Gf),u.removeEventListener("touchend",Kf)},Wf=u=>{let p=Ae();if(!p)return;let b=Er();if(u.target===p||b&&b.contains(u.target)){L0=!0;let P=SP(u);PP=P.clientX,OP=P.clientY,xP=parseInt(p.style.insetInlineStart)||0,IP=parseInt(p.style.insetBlockStart)||0,Qe(p,"swal2-dragging")}},Gf=u=>{let p=Ae();if(p&&L0){let{clientX:b,clientY:P}=SP(u),D=b-PP;p.style.insetInlineStart=`${xP+(s.isRTL?-D:D)}px`,p.style.insetBlockStart=`${IP+(P-OP)}px`}},Kf=()=>{let u=Ae();L0=!1,Mi(u,"swal2-dragging")},SP=u=>{let p=0,b=0;return u.type.startsWith("mouse")?(p=u.clientX,b=u.clientY):u.type.startsWith("touch")&&(p=u.touches[0].clientX,b=u.touches[0].clientY),{clientX:p,clientY:b}},z3=(u,p)=>{let b=at(),P=Ae();if(!(!b||!P)){if(p.toast){Ks(b,"width",p.width),P.style.width="100%";let D=Je();D&&P.insertBefore(D,Er())}else Ks(P,"width",p.width);Ks(P,"padding",p.padding),p.color&&(P.style.color=p.color),p.background&&(P.style.background=p.background),Sn(Ne()),V3(P,p),p.draggable&&!p.toast?(Qe(P,g.draggable),F3(P)):(Mi(P,g.draggable),B3(P))}},V3=(u,p)=>{let b=p.showClass||{};u.className=`${g.popup} ${Qn(u)?b.popup:""}`,p.toast?(Qe([document.documentElement,document.body],g["toast-shown"]),Qe(u,g.toast)):Qe(u,g.modal),ci(u,p,"popup"),typeof p.customClass=="string"&&Qe(u,p.customClass),p.icon&&Qe(u,g[`icon-${p.icon}`])},j3=(u,p)=>{let b=he();if(!b)return;let{progressSteps:P,currentProgressStep:D}=p;if(!P||P.length===0||D===void 0){Sn(b);return}nn(b),b.textContent="",D>=P.length&&R("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),P.forEach((Y,xe)=>{let $e=U3(Y);if(b.appendChild($e),xe===D&&Qe($e,g["active-progress-step"]),xe!==P.length-1){let ct=$3(p);b.appendChild(ct)}})},U3=u=>{let p=document.createElement("li");return Qe(p,g["progress-step"]),ai(p,u),p},$3=u=>{let p=document.createElement("li");return Qe(p,g["progress-step-line"]),u.progressStepsDistance&&Ks(p,"width",u.progressStepsDistance),p},H3=(u,p)=>{let b=Ql();b&&(S0(b),Yl(b,!!(p.title||p.titleText),"block"),p.title&&A0(p.title,b),p.titleText&&(b.innerText=p.titleText),ci(b,p,"title"))},TP=(u,p)=>{var b;z3(u,p),b3(u,p),j3(u,p),A3(u,p),L3(u,p),H3(u,p),y3(u,p),T3(u,p),m3(u,p),D3(u,p);let P=Ae();typeof p.didRender=="function"&&P&&p.didRender(P),(b=s.eventEmitter)===null||b===void 0||b.emit("didRender",P)},q3=()=>Qn(Ae()),DP=()=>{var u;return(u=tt())===null||u===void 0?void 0:u.click()},W3=()=>{var u;return(u=Nt())===null||u===void 0?void 0:u.click()},G3=()=>{var u;return(u=mn())===null||u===void 0?void 0:u.click()},tc=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),AP=u=>{if(u.keydownTarget&&u.keydownHandlerAdded&&u.keydownHandler){let p=u.keydownHandler;u.keydownTarget.removeEventListener("keydown",p,{capture:u.keydownListenerCapture}),u.keydownHandlerAdded=!1}},K3=(u,p,b)=>{if(AP(u),!p.toast){let P=Y=>Y3(p,Y,b);u.keydownHandler=P;let D=p.keydownListenerCapture?window:Ae();if(D){u.keydownTarget=D,u.keydownListenerCapture=p.keydownListenerCapture;let Y=P;u.keydownTarget.addEventListener("keydown",Y,{capture:u.keydownListenerCapture}),u.keydownHandlerAdded=!0}}},F0=(u,p)=>{var b;let P=Ho();if(P.length){u=u+p,u===-2&&(u=P.length-1),u===P.length?u=0:u===-1&&(u=P.length-1),P[u].focus();return}(b=Ae())===null||b===void 0||b.focus()},kP=["ArrowRight","ArrowDown"],Q3=["ArrowLeft","ArrowUp"],Y3=(u,p,b)=>{u&&(p.isComposing||p.keyCode===229||(u.stopKeydownPropagation&&p.stopPropagation(),p.key==="Enter"?Z3(p,u):p.key==="Tab"?X3(p):[...kP,...Q3].includes(p.key)?J3(p.key):p.key==="Escape"&&eF(p,u,b)))},Z3=(u,p)=>{if(!st(p.allowEnterKey))return;let b=Ae();if(!b||!p.input)return;let P=Hf(b,p.input);if(u.target&&P&&u.target instanceof HTMLElement&&u.target.outerHTML===P.outerHTML){if(["textarea","file"].includes(p.input))return;DP(),u.preventDefault()}},X3=u=>{let p=u.target,b=Ho(),P=-1;for(let D=0;D<b.length;D++)if(p===b[D]){P=D;break}u.shiftKey?F0(P,-1):F0(P,1),u.stopPropagation(),u.preventDefault()},J3=u=>{let p=$o(),b=tt(),P=Nt(),D=mn();if(!p||!b||!P||!D)return;let Y=[b,P,D];if(document.activeElement instanceof HTMLElement&&!Y.includes(document.activeElement))return;let xe=kP.includes(u)?"nextElementSibling":"previousElementSibling",$e=document.activeElement;if($e){for(let ct=0;ct<p.children.length;ct++){if($e=$e[xe],!$e)return;if($e instanceof HTMLButtonElement&&Qn($e))break}$e instanceof HTMLButtonElement&&$e.focus()}},eF=(u,p,b)=>{u.preventDefault(),st(p.allowEscapeKey)&&b(tc.esc)};var nc={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};let tF=()=>{let u=at();Array.from(document.body.children).forEach(b=>{b.contains(u)||(b.hasAttribute("aria-hidden")&&b.setAttribute("data-previous-aria-hidden",b.getAttribute("aria-hidden")||""),b.setAttribute("aria-hidden","true"))})},RP=()=>{Array.from(document.body.children).forEach(p=>{p.hasAttribute("data-previous-aria-hidden")?(p.setAttribute("aria-hidden",p.getAttribute("data-previous-aria-hidden")||""),p.removeAttribute("data-previous-aria-hidden")):p.removeAttribute("aria-hidden")})},NP=typeof window<"u"&&!!window.GestureEvent,nF=()=>{if(NP&&!ao(document.body,g.iosfix)){let u=document.body.scrollTop;document.body.style.top=`${u*-1}px`,Qe(document.body,g.iosfix),iF()}},iF=()=>{let u=at();if(!u)return;let p;u.ontouchstart=b=>{p=rF(b)},u.ontouchmove=b=>{p&&(b.preventDefault(),b.stopPropagation())}},rF=u=>{let p=u.target,b=at(),P=re();return!b||!P||oF(u)||sF(u)?!1:p===b||!T0(b)&&p instanceof HTMLElement&&!r3(p,P)&&p.tagName!=="INPUT"&&p.tagName!=="TEXTAREA"&&!(T0(P)&&P.contains(p))},oF=u=>!!(u.touches&&u.touches.length&&u.touches[0].touchType==="stylus"),sF=u=>u.touches&&u.touches.length>1,aF=()=>{if(ao(document.body,g.iosfix)){let u=parseInt(document.body.style.top,10);Mi(document.body,g.iosfix),document.body.style.top="",document.body.scrollTop=u*-1}},cF=()=>{let u=document.createElement("div");u.className=g["scrollbar-measure"],document.body.appendChild(u);let p=u.getBoundingClientRect().width-u.clientWidth;return document.body.removeChild(u),p},ic=null,lF=u=>{ic===null&&(document.body.scrollHeight>window.innerHeight||u==="scroll")&&(ic=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight=`${ic+cF()}px`)},dF=()=>{ic!==null&&(document.body.style.paddingRight=`${ic}px`,ic=null)};function LP(u,p,b,P){$f()?BP(u,P):(c(b).then(()=>BP(u,P)),AP(s)),NP?(p.setAttribute("style","display:none !important"),p.removeAttribute("class"),p.innerHTML=""):p.remove(),Gs()&&(dF(),aF(),RP()),uF()}function uF(){Mi([document.documentElement,document.body],[g.shown,g["height-auto"],g["no-backdrop"],g["toast-shown"]])}function Wo(u){u=pF(u);let p=nc.swalPromiseResolve.get(this),b=fF(this);this.isAwaitingPromise?u.isDismissed||(Xl(this),p(u)):b&&p(u)}let fF=u=>{let p=Ae();if(!p)return!1;let b=ut.innerParams.get(u);if(!b||ao(p,b.hideClass.popup))return!1;Mi(p,b.showClass.popup),Qe(p,b.hideClass.popup);let P=at();return Mi(P,b.showClass.backdrop),Qe(P,b.hideClass.backdrop),hF(u,p,b),!0};function FP(u){let p=nc.swalPromiseReject.get(this);Xl(this),p&&p(u)}let Xl=u=>{u.isAwaitingPromise&&(delete u.isAwaitingPromise,ut.innerParams.get(u)||u._destroy())},pF=u=>typeof u>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},u),hF=(u,p,b)=>{var P;let D=at(),Y=yP(p);typeof b.willClose=="function"&&b.willClose(p),(P=s.eventEmitter)===null||P===void 0||P.emit("willClose",p),Y&&D?gF(u,p,D,!!b.returnFocus,b.didClose):D&&LP(u,D,!!b.returnFocus,b.didClose)},gF=(u,p,b,P,D)=>{s.swalCloseEventFinishedCallback=LP.bind(null,u,b,P,D);let Y=function(xe){if(xe.target===p){var $e;($e=s.swalCloseEventFinishedCallback)===null||$e===void 0||$e.call(s),delete s.swalCloseEventFinishedCallback,p.removeEventListener("animationend",Y),p.removeEventListener("transitionend",Y)}};p.addEventListener("animationend",Y),p.addEventListener("transitionend",Y)},BP=(u,p)=>{setTimeout(()=>{var b;typeof p=="function"&&p.bind(u.params)(),(b=s.eventEmitter)===null||b===void 0||b.emit("didClose"),u._destroy&&u._destroy()})},rc=u=>{let p=Ae();if(p||new ep,p=Ae(),!p)return;let b=Je();$f()?Sn(Er()):mF(p,u),nn(b),p.setAttribute("data-loading","true"),p.setAttribute("aria-busy","true"),p.focus()},mF=(u,p)=>{let b=$o(),P=Je();!b||!P||(!p&&Qn(tt())&&(p=tt()),nn(b),p&&(Sn(p),P.setAttribute("data-button-to-replace",p.className),b.insertBefore(P,p)),Qe([u,b],g.loading))},_F=(u,p)=>{p.input==="select"||p.input==="radio"?wF(u,p):["text","email","number","tel","textarea"].some(b=>b===p.input)&&(Xe(p.inputValue)||vt(p.inputValue))&&(rc(tt()),MF(u,p))},vF=(u,p)=>{let b=u.getInput();if(!b)return null;switch(p.input){case"checkbox":return yF(b);case"radio":return bF(b);case"file":return CF(b);default:return p.inputAutoTrim?b.value.trim():b.value}},yF=u=>u.checked?1:0,bF=u=>u.checked?u.value:null,CF=u=>u.files&&u.files.length?u.getAttribute("multiple")!==null?u.files:u.files[0]:null,wF=(u,p)=>{let b=Ae();if(!b)return;let P=D=>{p.input==="select"?EF(b,Qf(D),p):p.input==="radio"&&PF(b,Qf(D),p)};Xe(p.inputOptions)||vt(p.inputOptions)?(rc(tt()),ot(p.inputOptions).then(D=>{u.hideLoading(),P(D)})):typeof p.inputOptions=="object"?P(p.inputOptions):V(`Unexpected type of inputOptions! Expected object, Map or Promise, got ${typeof p.inputOptions}`)},MF=(u,p)=>{let b=u.getInput();b&&(Sn(b),ot(p.inputValue).then(P=>{b.value=p.input==="number"?`${parseFloat(P)||0}`:`${P}`,nn(b),b.focus(),u.hideLoading()}).catch(P=>{V(`Error in inputValue promise: ${P}`),b.value="",nn(b),b.focus(),u.hideLoading()}))};function EF(u,p,b){let P=qo(u,g.select);if(!P)return;let D=(Y,xe,$e)=>{let ct=document.createElement("option");ct.value=$e,ai(ct,xe),ct.selected=zP($e,b.inputValue),Y.appendChild(ct)};p.forEach(Y=>{let xe=Y[0],$e=Y[1];if(Array.isArray($e)){let ct=document.createElement("optgroup");ct.label=xe,ct.disabled=!1,P.appendChild(ct),$e.forEach(oc=>D(ct,oc[1],oc[0]))}else D(P,$e,xe)}),P.focus()}function PF(u,p,b){let P=qo(u,g.radio);if(!P)return;p.forEach(Y=>{let xe=Y[0],$e=Y[1],ct=document.createElement("input"),oc=document.createElement("label");ct.type="radio",ct.name=g.radio,ct.value=xe,zP(xe,b.inputValue)&&(ct.checked=!0);let U0=document.createElement("span");ai(U0,$e),U0.className=g.label,oc.appendChild(ct),oc.appendChild(U0),P.appendChild(oc)});let D=P.querySelectorAll("input");D.length&&D[0].focus()}let Qf=u=>{let p=[];return u instanceof Map?u.forEach((b,P)=>{let D=b;typeof D=="object"&&(D=Qf(D)),p.push([P,D])}):Object.keys(u).forEach(b=>{let P=u[b];typeof P=="object"&&(P=Qf(P)),p.push([b,P])}),p},zP=(u,p)=>!!p&&p!==null&&p!==void 0&&p.toString()===u.toString(),OF=u=>{let p=ut.innerParams.get(u);u.disableButtons(),p.input?VP(u,"confirm"):z0(u,!0)},xF=u=>{let p=ut.innerParams.get(u);u.disableButtons(),p.returnInputValueOnDeny?VP(u,"deny"):B0(u,!1)},IF=(u,p)=>{u.disableButtons(),p(tc.cancel)},VP=(u,p)=>{let b=ut.innerParams.get(u);if(!b.input){V(`The "input" parameter is needed to be set when using returnInputValueOn${k(p)}`);return}let P=u.getInput(),D=vF(u,b);b.inputValidator?SF(u,D,p):P&&!P.checkValidity()?(u.enableButtons(),u.showValidationMessage(b.validationMessage||P.validationMessage)):p==="deny"?B0(u,D):z0(u,D)},SF=(u,p,b)=>{let P=ut.innerParams.get(u);u.disableInput(),Promise.resolve().then(()=>ot(P.inputValidator(p,P.validationMessage))).then(Y=>{u.enableButtons(),u.enableInput(),Y?u.showValidationMessage(Y):b==="deny"?B0(u,p):z0(u,p)})},B0=(u,p)=>{let b=ut.innerParams.get(u);b.showLoaderOnDeny&&rc(Nt()),b.preDeny?(u.isAwaitingPromise=!0,Promise.resolve().then(()=>ot(b.preDeny(p,b.validationMessage))).then(D=>{D===!1?(u.hideLoading(),Xl(u)):u.close({isDenied:!0,value:typeof D>"u"?p:D})}).catch(D=>UP(u,D))):u.close({isDenied:!0,value:p})},jP=(u,p)=>{u.close({isConfirmed:!0,value:p})},UP=(u,p)=>{u.rejectPromise(p)},z0=(u,p)=>{let b=ut.innerParams.get(u);b.showLoaderOnConfirm&&rc(),b.preConfirm?(u.resetValidationMessage(),u.isAwaitingPromise=!0,Promise.resolve().then(()=>ot(b.preConfirm(p,b.validationMessage))).then(D=>{Qn(Ne())||D===!1?(u.hideLoading(),Xl(u)):jP(u,typeof D>"u"?p:D)}).catch(D=>UP(u,D))):jP(u,p)};function Yf(){let u=ut.innerParams.get(this);if(!u)return;let p=ut.domCache.get(this);Sn(p.loader),$f()?u.icon&&nn(Er()):TF(p),Mi([p.popup,p.actions],g.loading),p.popup.removeAttribute("aria-busy"),p.popup.removeAttribute("data-loading"),p.confirmButton.disabled=!1,p.denyButton.disabled=!1,p.cancelButton.disabled=!1}let TF=u=>{let p=u.loader.getAttribute("data-button-to-replace"),b=p?u.popup.getElementsByClassName(p):[];b.length?nn(b[0],"inline-block"):i3()&&Sn(u.actions)};function $P(){let u=ut.innerParams.get(this),p=ut.domCache.get(this);return p?Hf(p.popup,u.input):null}function HP(u,p,b){let P=ut.domCache.get(u);p.forEach(D=>{P[D].disabled=b})}function qP(u,p){let b=Ae();if(!(!b||!u))if(u.type==="radio"){let P=b.querySelectorAll(`[name="${g.radio}"]`);for(let D=0;D<P.length;D++)P[D].disabled=p}else u.disabled=p}function WP(){HP(this,["confirmButton","denyButton","cancelButton"],!1)}function GP(){HP(this,["confirmButton","denyButton","cancelButton"],!0)}function KP(){qP(this.getInput(),!1)}function QP(){qP(this.getInput(),!0)}function YP(u){let p=ut.domCache.get(this),b=ut.innerParams.get(this);ai(p.validationMessage,u),p.validationMessage.className=g["validation-message"],b.customClass&&b.customClass.validationMessage&&Qe(p.validationMessage,b.customClass.validationMessage),nn(p.validationMessage);let P=this.getInput();P&&(P.setAttribute("aria-invalid","true"),P.setAttribute("aria-describedby",g["validation-message"]),mP(P),Qe(P,g.inputerror))}function ZP(){let u=ut.domCache.get(this);u.validationMessage&&Sn(u.validationMessage);let p=this.getInput();p&&(p.removeAttribute("aria-invalid"),p.removeAttribute("aria-describedby"),Mi(p,g.inputerror))}let Go={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,draggable:!1,animation:!0,theme:"light",showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0,topLayer:!1},DF=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","draggable","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","theme","willClose"],AF={allowEnterKey:void 0},kF=["allowOutsideClick","allowEnterKey","backdrop","draggable","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],XP=u=>Object.prototype.hasOwnProperty.call(Go,u),JP=u=>DF.indexOf(u)!==-1,eO=u=>AF[u],RF=u=>{XP(u)||R(`Unknown parameter "${u}"`)},NF=u=>{kF.includes(u)&&R(`The parameter "${u}" is incompatible with toasts`)},LF=u=>{let p=eO(u);p&&ue(u,p)},tO=u=>{u.backdrop===!1&&u.allowOutsideClick&&R('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`'),u.theme&&!["light","dark","auto","minimal","borderless","bootstrap-4","bootstrap-4-light","bootstrap-4-dark","bootstrap-5","bootstrap-5-light","bootstrap-5-dark","material-ui","material-ui-light","material-ui-dark","embed-iframe","bulma","bulma-light","bulma-dark"].includes(u.theme)&&R(`Invalid theme "${u.theme}"`);for(let p in u)RF(p),u.toast&&NF(p),LF(p)};function nO(u){let p=at(),b=Ae(),P=ut.innerParams.get(this);if(!b||ao(b,P.hideClass.popup)){R("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");return}let D=FF(u),Y=Object.assign({},P,D);tO(Y),p&&(p.dataset.swal2Theme=Y.theme),TP(this,Y),ut.innerParams.set(this,Y),Object.defineProperties(this,{params:{value:Object.assign({},this.params,u),writable:!1,enumerable:!0}})}let FF=u=>{let p={};return Object.keys(u).forEach(b=>{if(JP(b)){let P=u;p[b]=P[b]}else R(`Invalid parameter to update: ${b}`)}),p};function iO(){var u;let p=ut.domCache.get(this),b=ut.innerParams.get(this);if(!b){rO(this);return}p.popup&&s.swalCloseEventFinishedCallback&&(s.swalCloseEventFinishedCallback(),delete s.swalCloseEventFinishedCallback),typeof b.didDestroy=="function"&&b.didDestroy(),(u=s.eventEmitter)===null||u===void 0||u.emit("didDestroy"),BF(this)}let BF=u=>{rO(u),delete u.params,delete s.keydownHandler,delete s.keydownTarget,delete s.currentInstance},rO=u=>{u.isAwaitingPromise?(V0(ut,u),u.isAwaitingPromise=!0):(V0(nc,u),V0(ut,u),delete u.isAwaitingPromise,delete u.disableButtons,delete u.enableButtons,delete u.getInput,delete u.disableInput,delete u.enableInput,delete u.hideLoading,delete u.disableLoading,delete u.showValidationMessage,delete u.resetValidationMessage,delete u.close,delete u.closePopup,delete u.closeModal,delete u.closeToast,delete u.rejectPromise,delete u.update,delete u._destroy)},V0=(u,p)=>{for(let b in u)u[b].delete(p)};var zF=Object.freeze({__proto__:null,_destroy:iO,close:Wo,closeModal:Wo,closePopup:Wo,closeToast:Wo,disableButtons:GP,disableInput:QP,disableLoading:Yf,enableButtons:WP,enableInput:KP,getInput:$P,handleAwaitingPromise:Xl,hideLoading:Yf,rejectPromise:FP,resetValidationMessage:ZP,showValidationMessage:YP,update:nO});let VF=(u,p,b)=>{u.toast?jF(u,p,b):($F(p),HF(p),qF(u,p,b))},jF=(u,p,b)=>{p.popup.onclick=()=>{u&&(UF(u)||u.timer||u.input)||b(tc.close)}},UF=u=>!!(u.showConfirmButton||u.showDenyButton||u.showCancelButton||u.showCloseButton),Zf=!1,$F=u=>{u.popup.onmousedown=()=>{u.container.onmouseup=function(p){u.container.onmouseup=()=>{},p.target===u.container&&(Zf=!0)}}},HF=u=>{u.container.onmousedown=p=>{p.target===u.container&&p.preventDefault(),u.popup.onmouseup=function(b){u.popup.onmouseup=()=>{},(b.target===u.popup||b.target instanceof HTMLElement&&u.popup.contains(b.target))&&(Zf=!0)}}},qF=(u,p,b)=>{p.container.onclick=P=>{if(Zf){Zf=!1;return}P.target===p.container&&st(u.allowOutsideClick)&&b(tc.backdrop)}},WF=u=>typeof u=="object"&&u.jquery,oO=u=>u instanceof Element||WF(u),GF=u=>{let p={};return typeof u[0]=="object"&&!oO(u[0])?Object.assign(p,u[0]):["title","html","icon"].forEach((b,P)=>{let D=u[P];typeof D=="string"||oO(D)?p[b]=D:D!==void 0&&V(`Unexpected type of ${b}! Expected "string" or "Element", got ${typeof D}`)}),p};function KF(...u){return new this(...u)}function QF(u){class p extends this{_main(P,D){return super._main(P,Object.assign({},u,D))}}return p}let YF=()=>s.timeout&&s.timeout.getTimerLeft(),sO=()=>{if(s.timeout)return o3(),s.timeout.stop()},aO=()=>{if(s.timeout){let u=s.timeout.start();return D0(u),u}},ZF=()=>{let u=s.timeout;return u&&(u.running?sO():aO())},XF=u=>{if(s.timeout){let p=s.timeout.increase(u);return D0(p,!0),p}},JF=()=>!!(s.timeout&&s.timeout.isRunning()),cO=!1,j0={};function e4(u="data-swal-template"){j0[u]=this,cO||(document.body.addEventListener("click",t4),cO=!0)}let t4=u=>{for(let p=u.target;p&&p!==document;p=p.parentNode)for(let b in j0){let P=p.getAttribute&&p.getAttribute(b);if(P){j0[b].fire({template:P});return}}};class n4{constructor(){this.events={}}_getHandlersByEventName(p){return typeof this.events[p]>"u"&&(this.events[p]=[]),this.events[p]}on(p,b){let P=this._getHandlersByEventName(p);P.includes(b)||P.push(b)}once(p,b){let P=(...D)=>{this.removeListener(p,P),b.apply(this,D)};this.on(p,P)}emit(p,...b){this._getHandlersByEventName(p).forEach(P=>{try{P.apply(this,b)}catch(D){console.error(D)}})}removeListener(p,b){let P=this._getHandlersByEventName(p),D=P.indexOf(b);D>-1&&P.splice(D,1)}removeAllListeners(p){this.events[p]!==void 0&&(this.events[p].length=0)}reset(){this.events={}}}s.eventEmitter=new n4;var i4=Object.freeze({__proto__:null,argsToParams:GF,bindClickHandler:e4,clickCancel:G3,clickConfirm:DP,clickDeny:W3,enableLoading:rc,fire:KF,getActions:$o,getCancelButton:mn,getCloseButton:Wi,getConfirmButton:tt,getContainer:at,getDenyButton:Nt,getFocusableElements:Ho,getFooter:Uf,getHtmlContainer:re,getIcon:Er,getIconContent:jf,getImage:fe,getInputLabel:Pr,getLoader:Je,getPopup:Ae,getProgressSteps:he,getTimerLeft:YF,getTimerProgressBar:Lt,getTitle:Ql,getValidationMessage:Ne,increaseTimer:XF,isDeprecatedParameter:eO,isLoading:t3,isTimerRunning:JF,isUpdatableParameter:JP,isValidParameter:XP,isVisible:q3,mixin:QF,off:(u,p)=>{if(s.eventEmitter){if(!u){s.eventEmitter.reset();return}p?s.eventEmitter.removeListener(u,p):s.eventEmitter.removeAllListeners(u)}},on:(u,p)=>{s.eventEmitter&&s.eventEmitter.on(u,p)},once:(u,p)=>{s.eventEmitter&&s.eventEmitter.once(u,p)},resumeTimer:aO,showLoading:rc,stopTimer:sO,toggleTimer:ZF});class r4{constructor(p,b){this.callback=p,this.remaining=b,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.started&&this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date().getTime()-this.started.getTime()),this.remaining}increase(p){let b=this.running;return b&&this.stop(),this.remaining+=p,b&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}let lO=["swal-title","swal-html","swal-footer"],o4=u=>{let p=typeof u.template=="string"?document.querySelector(u.template):u.template;if(!p)return{};let b=p.content;return p4(b),Object.assign(s4(b),a4(b),c4(b),l4(b),d4(b),u4(b),f4(b,lO))},s4=u=>{let p={};return Array.from(u.querySelectorAll("swal-param")).forEach(P=>{Ys(P,["name","value"]);let D=P.getAttribute("name"),Y=P.getAttribute("value");!D||!Y||(D in Go&&typeof Go[D]=="boolean"?p[D]=Y!=="false":D in Go&&typeof Go[D]=="object"?p[D]=JSON.parse(Y):p[D]=Y)}),p},a4=u=>{let p={};return Array.from(u.querySelectorAll("swal-function-param")).forEach(P=>{let D=P.getAttribute("name"),Y=P.getAttribute("value");!D||!Y||(p[D]=new Function(`return ${Y}`)())}),p},c4=u=>{let p={};return Array.from(u.querySelectorAll("swal-button")).forEach(P=>{Ys(P,["type","color","aria-label"]);let D=P.getAttribute("type");if(!(!D||!["confirm","cancel","deny"].includes(D))){if(p[`${D}ButtonText`]=P.innerHTML,p[`show${k(D)}Button`]=!0,P.hasAttribute("color")){let Y=P.getAttribute("color");Y!==null&&(p[`${D}ButtonColor`]=Y)}if(P.hasAttribute("aria-label")){let Y=P.getAttribute("aria-label");Y!==null&&(p[`${D}ButtonAriaLabel`]=Y)}}}),p},l4=u=>{let p={},b=u.querySelector("swal-image");return b&&(Ys(b,["src","width","height","alt"]),b.hasAttribute("src")&&(p.imageUrl=b.getAttribute("src")||void 0),b.hasAttribute("width")&&(p.imageWidth=b.getAttribute("width")||void 0),b.hasAttribute("height")&&(p.imageHeight=b.getAttribute("height")||void 0),b.hasAttribute("alt")&&(p.imageAlt=b.getAttribute("alt")||void 0)),p},d4=u=>{let p={},b=u.querySelector("swal-icon");return b&&(Ys(b,["type","color"]),b.hasAttribute("type")&&(p.icon=b.getAttribute("type")),b.hasAttribute("color")&&(p.iconColor=b.getAttribute("color")),p.iconHtml=b.innerHTML),p},u4=u=>{let p={},b=u.querySelector("swal-input");b&&(Ys(b,["type","label","placeholder","value"]),p.input=b.getAttribute("type")||"text",b.hasAttribute("label")&&(p.inputLabel=b.getAttribute("label")),b.hasAttribute("placeholder")&&(p.inputPlaceholder=b.getAttribute("placeholder")),b.hasAttribute("value")&&(p.inputValue=b.getAttribute("value")));let P=Array.from(u.querySelectorAll("swal-input-option"));return P.length&&(p.inputOptions={},P.forEach(D=>{Ys(D,["value"]);let Y=D.getAttribute("value");if(!Y)return;let xe=D.innerHTML;p.inputOptions[Y]=xe})),p},f4=(u,p)=>{let b={};for(let P in p){let D=p[P],Y=u.querySelector(D);Y&&(Ys(Y,[]),b[D.replace(/^swal-/,"")]=Y.innerHTML.trim())}return b},p4=u=>{let p=lO.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(u.children).forEach(b=>{let P=b.tagName.toLowerCase();p.includes(P)||R(`Unrecognized element <${P}>`)})},Ys=(u,p)=>{Array.from(u.attributes).forEach(b=>{p.indexOf(b.name)===-1&&R([`Unrecognized attribute "${b.name}" on <${u.tagName.toLowerCase()}>.`,`${p.length?`Allowed attributes are: ${p.join(", ")}`:"To set the value, use HTML within the element."}`])})},dO=10,h4=u=>{var p,b;let P=at(),D=Ae();if(!P||!D)return;typeof u.willOpen=="function"&&u.willOpen(D),(p=s.eventEmitter)===null||p===void 0||p.emit("willOpen",D);let xe=window.getComputedStyle(document.body).overflowY;if(_4(P,D,u),setTimeout(()=>{g4(P,D)},dO),Gs()&&(m4(P,u.scrollbarPadding!==void 0?u.scrollbarPadding:!1,xe),tF()),!$f()&&!s.previousActiveElement&&(s.previousActiveElement=document.activeElement),typeof u.didOpen=="function"){let $e=u.didOpen;setTimeout(()=>$e(D))}(b=s.eventEmitter)===null||b===void 0||b.emit("didOpen",D)},Xf=u=>{let p=Ae();if(!p||u.target!==p)return;let b=at();b&&(p.removeEventListener("animationend",Xf),p.removeEventListener("transitionend",Xf),b.style.overflowY="auto",Mi(b,g["no-transition"]))},g4=(u,p)=>{yP(p)?(u.style.overflowY="hidden",p.addEventListener("animationend",Xf),p.addEventListener("transitionend",Xf)):u.style.overflowY="auto"},m4=(u,p,b)=>{nF(),p&&b!=="hidden"&&lF(b),setTimeout(()=>{u.scrollTop=0})},_4=(u,p,b)=>{var P;(P=b.showClass)!==null&&P!==void 0&&P.backdrop&&Qe(u,b.showClass.backdrop),b.animation?(p.style.setProperty("opacity","0","important"),nn(p,"grid"),setTimeout(()=>{var D;(D=b.showClass)!==null&&D!==void 0&&D.popup&&Qe(p,b.showClass.popup),p.style.removeProperty("opacity")},dO)):nn(p,"grid"),Qe([document.documentElement,document.body],g.shown),b.heightAuto&&b.backdrop&&!b.toast&&Qe([document.documentElement,document.body],g["height-auto"])};var uO={email:(u,p)=>/^[a-zA-Z0-9.+_'-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]+$/.test(u)?Promise.resolve():Promise.resolve(p||"Invalid email address"),url:(u,p)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(u)?Promise.resolve():Promise.resolve(p||"Invalid URL")};function v4(u){u.inputValidator||(u.input==="email"&&(u.inputValidator=uO.email),u.input==="url"&&(u.inputValidator=uO.url))}function y4(u){(!u.target||typeof u.target=="string"&&!document.querySelector(u.target)||typeof u.target!="string"&&!u.target.appendChild)&&(R('Target parameter is not valid, defaulting to "body"'),u.target="body")}function b4(u){v4(u),u.showLoaderOnConfirm&&!u.preConfirm&&R(`showLoaderOnConfirm is set to true, but preConfirm is not defined.
showLoaderOnConfirm should be used together with preConfirm, see usage example:
https://sweetalert2.github.io/#ajax-request`),y4(u),typeof u.title=="string"&&(u.title=u.title.split(`
`).join("<br />")),p3(u)}let Or;var Jf=new WeakMap;class Bt{constructor(...p){if(i(this,Jf,Promise.resolve({isConfirmed:!1,isDenied:!1,isDismissed:!0})),typeof window>"u")return;Or=this;let b=Object.freeze(this.constructor.argsToParams(p));this.params=b,this.isAwaitingPromise=!1,r(Jf,this,this._main(Or.params))}_main(p,b={}){if(tO(Object.assign({},b,p)),s.currentInstance){let Y=nc.swalPromiseResolve.get(s.currentInstance),{isAwaitingPromise:xe}=s.currentInstance;s.currentInstance._destroy(),xe||Y({isDismissed:!0}),Gs()&&RP()}s.currentInstance=Or;let P=w4(p,b);b4(P),Object.freeze(P),s.timeout&&(s.timeout.stop(),delete s.timeout),clearTimeout(s.restoreFocusTimeout);let D=M4(Or);return TP(Or,P),ut.innerParams.set(Or,P),C4(Or,D,P)}then(p){return e(Jf,this).then(p)}finally(p){return e(Jf,this).finally(p)}}let C4=(u,p,b)=>new Promise((P,D)=>{let Y=xe=>{u.close({isDismissed:!0,dismiss:xe,isConfirmed:!1,isDenied:!1})};nc.swalPromiseResolve.set(u,P),nc.swalPromiseReject.set(u,D),p.confirmButton.onclick=()=>{OF(u)},p.denyButton.onclick=()=>{xF(u)},p.cancelButton.onclick=()=>{IF(u,Y)},p.closeButton.onclick=()=>{Y(tc.close)},VF(b,p,Y),K3(s,b,Y),_F(u,b),h4(b),E4(s,b,Y),P4(p,b),setTimeout(()=>{p.container.scrollTop=0})}),w4=(u,p)=>{let b=o4(u),P=Object.assign({},Go,p,b,u);return P.showClass=Object.assign({},Go.showClass,P.showClass),P.hideClass=Object.assign({},Go.hideClass,P.hideClass),P.animation===!1&&(P.showClass={backdrop:"swal2-noanimation"},P.hideClass={}),P},M4=u=>{let p={popup:Ae(),container:at(),actions:$o(),confirmButton:tt(),denyButton:Nt(),cancelButton:mn(),loader:Je(),closeButton:Wi(),validationMessage:Ne(),progressSteps:he()};return ut.domCache.set(u,p),p},E4=(u,p,b)=>{let P=Lt();Sn(P),p.timer&&(u.timeout=new r4(()=>{b("timer"),delete u.timeout},p.timer),p.timerProgressBar&&P&&(nn(P),ci(P,p,"timerProgressBar"),setTimeout(()=>{u.timeout&&u.timeout.running&&D0(p.timer)})))},P4=(u,p)=>{if(!p.toast){if(!st(p.allowEnterKey)){ue("allowEnterKey"),I4();return}O4(u)||x4(u,p)||F0(-1,1)}},O4=u=>{let p=Array.from(u.popup.querySelectorAll("[autofocus]"));for(let b of p)if(b instanceof HTMLElement&&Qn(b))return b.focus(),!0;return!1},x4=(u,p)=>p.focusDeny&&Qn(u.denyButton)?(u.denyButton.focus(),!0):p.focusCancel&&Qn(u.cancelButton)?(u.cancelButton.focus(),!0):p.focusConfirm&&Qn(u.confirmButton)?(u.confirmButton.focus(),!0):!1,I4=()=>{document.activeElement instanceof HTMLElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur()};Bt.prototype.disableButtons=GP,Bt.prototype.enableButtons=WP,Bt.prototype.getInput=$P,Bt.prototype.disableInput=QP,Bt.prototype.enableInput=KP,Bt.prototype.hideLoading=Yf,Bt.prototype.disableLoading=Yf,Bt.prototype.showValidationMessage=YP,Bt.prototype.resetValidationMessage=ZP,Bt.prototype.close=Wo,Bt.prototype.closePopup=Wo,Bt.prototype.closeModal=Wo,Bt.prototype.closeToast=Wo,Bt.prototype.rejectPromise=FP,Bt.prototype.update=nO,Bt.prototype._destroy=iO,Object.assign(Bt,i4),Object.keys(zF).forEach(u=>{Bt[u]=function(...p){if(Or&&Or[u])return Or[u](...p)}}),Bt.DismissReason=tc,Bt.version="11.26.17";let ep=Bt;return ep.default=ep,ep});typeof ro<"u"&&ro.Sweetalert2&&(ro.swal=ro.sweetAlert=ro.Swal=ro.SweetAlert=ro.Sweetalert2);typeof document<"u"&&(function(n,t){var e=n.createElement("style");if(n.getElementsByTagName("head")[0].appendChild(e),e.styleSheet)e.styleSheet.disabled||(e.styleSheet.cssText=t);else try{e.innerHTML=t}catch{e.innerText=t}})(document,':root{--swal2-outline: 0 0 0 3px rgba(100, 150, 200, 0.5);--swal2-container-padding: 0.625em;--swal2-backdrop: rgba(0, 0, 0, 0.4);--swal2-backdrop-transition: background-color 0.15s;--swal2-width: 32em;--swal2-padding: 0 0 1.25em;--swal2-border: none;--swal2-border-radius: 0.3125rem;--swal2-background: white;--swal2-color: #545454;--swal2-show-animation: swal2-show 0.3s;--swal2-hide-animation: swal2-hide 0.15s forwards;--swal2-icon-zoom: 1;--swal2-icon-animations: true;--swal2-title-padding: 0.8em 1em 0;--swal2-html-container-padding: 1em 1.6em 0.3em;--swal2-input-border: 1px solid #d9d9d9;--swal2-input-border-radius: 0.1875em;--swal2-input-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px transparent;--swal2-input-background: transparent;--swal2-input-transition: border-color 0.2s, box-shadow 0.2s;--swal2-input-hover-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px transparent;--swal2-input-focus-border: 1px solid #b4dbed;--swal2-input-focus-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px rgba(100, 150, 200, 0.5);--swal2-progress-step-background: #add8e6;--swal2-validation-message-background: #f0f0f0;--swal2-validation-message-color: #666;--swal2-footer-border-color: #eee;--swal2-footer-background: transparent;--swal2-footer-color: inherit;--swal2-timer-progress-bar-background: rgba(0, 0, 0, 0.3);--swal2-close-button-position: initial;--swal2-close-button-inset: auto;--swal2-close-button-font-size: 2.5em;--swal2-close-button-color: #ccc;--swal2-close-button-transition: color 0.2s, box-shadow 0.2s;--swal2-close-button-outline: initial;--swal2-close-button-box-shadow: inset 0 0 0 3px transparent;--swal2-close-button-focus-box-shadow: inset var(--swal2-outline);--swal2-close-button-hover-transform: none;--swal2-actions-justify-content: center;--swal2-actions-width: auto;--swal2-actions-margin: 1.25em auto 0;--swal2-actions-padding: 0;--swal2-actions-border-radius: 0;--swal2-actions-background: transparent;--swal2-action-button-transition: background-color 0.2s, box-shadow 0.2s;--swal2-action-button-hover: black 10%;--swal2-action-button-active: black 10%;--swal2-confirm-button-box-shadow: none;--swal2-confirm-button-border-radius: 0.25em;--swal2-confirm-button-background-color: #7066e0;--swal2-confirm-button-color: #fff;--swal2-deny-button-box-shadow: none;--swal2-deny-button-border-radius: 0.25em;--swal2-deny-button-background-color: #dc3741;--swal2-deny-button-color: #fff;--swal2-cancel-button-box-shadow: none;--swal2-cancel-button-border-radius: 0.25em;--swal2-cancel-button-background-color: #6e7881;--swal2-cancel-button-color: #fff;--swal2-toast-show-animation: swal2-toast-show 0.5s;--swal2-toast-hide-animation: swal2-toast-hide 0.1s forwards;--swal2-toast-border: none;--swal2-toast-box-shadow: 0 0 1px hsl(0deg 0% 0% / 0.075), 0 1px 2px hsl(0deg 0% 0% / 0.075), 1px 2px 4px hsl(0deg 0% 0% / 0.075), 1px 3px 8px hsl(0deg 0% 0% / 0.075), 2px 4px 16px hsl(0deg 0% 0% / 0.075)}[data-swal2-theme=dark]{--swal2-dark-theme-black: #19191a;--swal2-dark-theme-white: #e1e1e1;--swal2-background: var(--swal2-dark-theme-black);--swal2-color: var(--swal2-dark-theme-white);--swal2-footer-border-color: #555;--swal2-input-background: color-mix(in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10%);--swal2-validation-message-background: color-mix( in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10% );--swal2-validation-message-color: var(--swal2-dark-theme-white);--swal2-timer-progress-bar-background: rgba(255, 255, 255, 0.7)}@media(prefers-color-scheme: dark){[data-swal2-theme=auto]{--swal2-dark-theme-black: #19191a;--swal2-dark-theme-white: #e1e1e1;--swal2-background: var(--swal2-dark-theme-black);--swal2-color: var(--swal2-dark-theme-white);--swal2-footer-border-color: #555;--swal2-input-background: color-mix(in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10%);--swal2-validation-message-background: color-mix( in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10% );--swal2-validation-message-color: var(--swal2-dark-theme-white);--swal2-timer-progress-bar-background: rgba(255, 255, 255, 0.7)}}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px var(--swal2-backdrop)}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}@media print{body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown) .swal2-container{position:static !important}}div:where(.swal2-container){display:grid;position:fixed;z-index:1060;inset:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:var(--swal2-container-padding);overflow-x:hidden;transition:var(--swal2-backdrop-transition);-webkit-overflow-scrolling:touch}div:where(.swal2-container).swal2-backdrop-show,div:where(.swal2-container).swal2-noanimation{background:var(--swal2-backdrop)}div:where(.swal2-container).swal2-backdrop-hide{background:rgba(0,0,0,0) !important}div:where(.swal2-container).swal2-top-start,div:where(.swal2-container).swal2-center-start,div:where(.swal2-container).swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}div:where(.swal2-container).swal2-top,div:where(.swal2-container).swal2-center,div:where(.swal2-container).swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}div:where(.swal2-container).swal2-top-end,div:where(.swal2-container).swal2-center-end,div:where(.swal2-container).swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}div:where(.swal2-container).swal2-top-start>.swal2-popup{align-self:start}div:where(.swal2-container).swal2-top>.swal2-popup{grid-column:2;place-self:start center}div:where(.swal2-container).swal2-top-end>.swal2-popup,div:where(.swal2-container).swal2-top-right>.swal2-popup{grid-column:3;place-self:start end}div:where(.swal2-container).swal2-center-start>.swal2-popup,div:where(.swal2-container).swal2-center-left>.swal2-popup{grid-row:2;align-self:center}div:where(.swal2-container).swal2-center>.swal2-popup{grid-column:2;grid-row:2;place-self:center center}div:where(.swal2-container).swal2-center-end>.swal2-popup,div:where(.swal2-container).swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;place-self:center end}div:where(.swal2-container).swal2-bottom-start>.swal2-popup,div:where(.swal2-container).swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}div:where(.swal2-container).swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;place-self:end center}div:where(.swal2-container).swal2-bottom-end>.swal2-popup,div:where(.swal2-container).swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;place-self:end end}div:where(.swal2-container).swal2-grow-row>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}div:where(.swal2-container).swal2-grow-column>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}div:where(.swal2-container).swal2-no-transition{transition:none !important}div:where(.swal2-container)[popover]{width:auto;border:0}div:where(.swal2-container) div:where(.swal2-popup){display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:var(--swal2-width);max-width:100%;padding:var(--swal2-padding);border:var(--swal2-border);border-radius:var(--swal2-border-radius);background:var(--swal2-background);color:var(--swal2-color);font-family:inherit;font-size:1rem;container-name:swal2-popup}div:where(.swal2-container) div:where(.swal2-popup):focus{outline:none}div:where(.swal2-container) div:where(.swal2-popup).swal2-loading{overflow-y:hidden}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable{cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable div:where(.swal2-icon){cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging{cursor:grabbing}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging div:where(.swal2-icon){cursor:grabbing}div:where(.swal2-container) h2:where(.swal2-title){position:relative;max-width:100%;margin:0;padding:var(--swal2-title-padding);color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;overflow-wrap:break-word;cursor:initial}div:where(.swal2-container) div:where(.swal2-actions){display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:var(--swal2-actions-justify-content);width:var(--swal2-actions-width);margin:var(--swal2-actions-margin);padding:var(--swal2-actions-padding);border-radius:var(--swal2-actions-border-radius);background:var(--swal2-actions-background)}div:where(.swal2-container) div:where(.swal2-loader){display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}div:where(.swal2-container) button:where(.swal2-styled){margin:.3125em;padding:.625em 1.1em;transition:var(--swal2-action-button-transition);border:none;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}div:where(.swal2-container) button:where(.swal2-styled):not([disabled]){cursor:pointer}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm){border-radius:var(--swal2-confirm-button-border-radius);background:initial;background-color:var(--swal2-confirm-button-background-color);box-shadow:var(--swal2-confirm-button-box-shadow);color:var(--swal2-confirm-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):hover{background-color:color-mix(in srgb, var(--swal2-confirm-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):active{background-color:color-mix(in srgb, var(--swal2-confirm-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny){border-radius:var(--swal2-deny-button-border-radius);background:initial;background-color:var(--swal2-deny-button-background-color);box-shadow:var(--swal2-deny-button-box-shadow);color:var(--swal2-deny-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):hover{background-color:color-mix(in srgb, var(--swal2-deny-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):active{background-color:color-mix(in srgb, var(--swal2-deny-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel){border-radius:var(--swal2-cancel-button-border-radius);background:initial;background-color:var(--swal2-cancel-button-background-color);box-shadow:var(--swal2-cancel-button-box-shadow);color:var(--swal2-cancel-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):hover{background-color:color-mix(in srgb, var(--swal2-cancel-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):active{background-color:color-mix(in srgb, var(--swal2-cancel-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):focus-visible{outline:none;box-shadow:var(--swal2-action-button-focus-box-shadow)}div:where(.swal2-container) button:where(.swal2-styled)[disabled]:not(.swal2-loading){opacity:.4}div:where(.swal2-container) button:where(.swal2-styled)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-footer){margin:1em 0 0;padding:1em 1em 0;border-top:1px solid var(--swal2-footer-border-color);background:var(--swal2-footer-background);color:var(--swal2-footer-color);font-size:1em;text-align:center;cursor:initial}div:where(.swal2-container) .swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:var(--swal2-border-radius);border-bottom-left-radius:var(--swal2-border-radius)}div:where(.swal2-container) div:where(.swal2-timer-progress-bar){width:100%;height:.25em;background:var(--swal2-timer-progress-bar-background)}div:where(.swal2-container) img:where(.swal2-image){max-width:100%;margin:2em auto 1em;cursor:initial}div:where(.swal2-container) button:where(.swal2-close){position:var(--swal2-close-button-position);inset:var(--swal2-close-button-inset);z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:var(--swal2-close-button-transition);border:none;border-radius:var(--swal2-border-radius);outline:var(--swal2-close-button-outline);background:rgba(0,0,0,0);color:var(--swal2-close-button-color);font-family:monospace;font-size:var(--swal2-close-button-font-size);cursor:pointer;justify-self:end}div:where(.swal2-container) button:where(.swal2-close):hover{transform:var(--swal2-close-button-hover-transform);background:rgba(0,0,0,0);color:#f27474}div:where(.swal2-container) button:where(.swal2-close):focus-visible{outline:none;box-shadow:var(--swal2-close-button-focus-box-shadow)}div:where(.swal2-container) button:where(.swal2-close)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-html-container){z-index:1;justify-content:center;margin:0;padding:var(--swal2-html-container-padding);overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;overflow-wrap:break-word;word-break:break-word;cursor:initial}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea),div:where(.swal2-container) select:where(.swal2-select),div:where(.swal2-container) div:where(.swal2-radio),div:where(.swal2-container) label:where(.swal2-checkbox){margin:1em 2em 3px}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea){box-sizing:border-box;width:auto;transition:var(--swal2-input-transition);border:var(--swal2-input-border);border-radius:var(--swal2-input-border-radius);background:var(--swal2-input-background);box-shadow:var(--swal2-input-box-shadow);color:inherit;font-size:1.125em}div:where(.swal2-container) input:where(.swal2-input).swal2-inputerror,div:where(.swal2-container) input:where(.swal2-file).swal2-inputerror,div:where(.swal2-container) textarea:where(.swal2-textarea).swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}div:where(.swal2-container) input:where(.swal2-input):hover,div:where(.swal2-container) input:where(.swal2-file):hover,div:where(.swal2-container) textarea:where(.swal2-textarea):hover{box-shadow:var(--swal2-input-hover-box-shadow)}div:where(.swal2-container) input:where(.swal2-input):focus,div:where(.swal2-container) input:where(.swal2-file):focus,div:where(.swal2-container) textarea:where(.swal2-textarea):focus{border:var(--swal2-input-focus-border);outline:none;box-shadow:var(--swal2-input-focus-box-shadow)}div:where(.swal2-container) input:where(.swal2-input)::placeholder,div:where(.swal2-container) input:where(.swal2-file)::placeholder,div:where(.swal2-container) textarea:where(.swal2-textarea)::placeholder{color:#ccc}div:where(.swal2-container) .swal2-range{margin:1em 2em 3px;background:var(--swal2-background)}div:where(.swal2-container) .swal2-range input{width:80%}div:where(.swal2-container) .swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}div:where(.swal2-container) .swal2-range input,div:where(.swal2-container) .swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}div:where(.swal2-container) .swal2-input{height:2.625em;padding:0 .75em}div:where(.swal2-container) .swal2-file{width:75%;margin-right:auto;margin-left:auto;background:var(--swal2-input-background);font-size:1.125em}div:where(.swal2-container) .swal2-textarea{height:6.75em;padding:.75em}div:where(.swal2-container) .swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:var(--swal2-input-background);color:inherit;font-size:1.125em}div:where(.swal2-container) .swal2-radio,div:where(.swal2-container) .swal2-checkbox{align-items:center;justify-content:center;background:var(--swal2-background);color:inherit}div:where(.swal2-container) .swal2-radio label,div:where(.swal2-container) .swal2-checkbox label{margin:0 .6em;font-size:1.125em}div:where(.swal2-container) .swal2-radio input,div:where(.swal2-container) .swal2-checkbox input{flex-shrink:0;margin:0 .4em}div:where(.swal2-container) label:where(.swal2-input-label){display:flex;justify-content:center;margin:1em auto 0}div:where(.swal2-container) div:where(.swal2-validation-message){align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:var(--swal2-validation-message-background);color:var(--swal2-validation-message-color);font-size:1em;font-weight:300}div:where(.swal2-container) div:where(.swal2-validation-message)::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}div:where(.swal2-container) .swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}div:where(.swal2-container) .swal2-progress-steps li{display:inline-block;position:relative}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:var(--swal2-progress-step-background);color:#fff}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:var(--swal2-progress-step-background)}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}div:where(.swal2-icon){position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;zoom:var(--swal2-icon-zoom);border:.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}div:where(.swal2-icon) .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}div:where(.swal2-icon).swal2-error{border-color:#f27474;color:#f27474}div:where(.swal2-icon).swal2-error .swal2-x-mark{position:relative;flex-grow:1}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}}div:where(.swal2-icon).swal2-warning{border-color:#f8bb86;color:#f8bb86}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}}div:where(.swal2-icon).swal2-info{border-color:#3fc3ee;color:#3fc3ee}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}}div:where(.swal2-icon).swal2-question{border-color:#87adbd;color:#87adbd}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}}div:where(.swal2-icon).swal2-success{border-color:#a5dc86;color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;border-radius:50%}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}div:where(.swal2-icon).swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}div:where(.swal2-icon).swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:var(--swal2-show-animation)}.swal2-hide{animation:var(--swal2-hide-animation)}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;border:var(--swal2-toast-border);background:var(--swal2-background);box-shadow:var(--swal2-toast-box-shadow);pointer-events:all}.swal2-toast>*{grid-column:2}.swal2-toast h2:where(.swal2-title){margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-toast .swal2-loading{justify-content:center}.swal2-toast input:where(.swal2-input){height:2em;margin:.5em;font-size:1em}.swal2-toast .swal2-validation-message{font-size:1em}.swal2-toast div:where(.swal2-footer){margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-toast button:where(.swal2-close){grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-toast div:where(.swal2-html-container){margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-toast div:where(.swal2-html-container):empty{padding:0}.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-toast div:where(.swal2-actions){justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-toast button:where(.swal2-styled){margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;border-radius:50%}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}@container swal2-popup style(--swal2-icon-animations:true){.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}}.swal2-toast.swal2-show{animation:var(--swal2-toast-show-animation)}.swal2-toast.swal2-hide{animation:var(--swal2-toast-hide-animation)}@keyframes swal2-show{0%{transform:translate3d(0, -50px, 0) scale(0.9);opacity:0}100%{transform:translate3d(0, 0, 0) scale(1);opacity:1}}@keyframes swal2-hide{0%{transform:translate3d(0, 0, 0) scale(1);opacity:1}100%{transform:translate3d(0, -50px, 0) scale(0.9);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}')});var q0;function np(){return q0}function xr(n){let t=q0;return q0=n,t}var gO=Symbol("NotFound");function ac(n){return n===gO||n?.name==="\u0275NotFound"}var Tn=null,ip=!1,W0=1,F4=null,Dn=Symbol("SIGNAL");function Ee(n){let t=Tn;return Tn=n,t}function ap(){return Tn}var cc={version:0,lastCleanEpoch:0,dirty:!1,producers:void 0,producersTail:void 0,consumers:void 0,consumersTail:void 0,recomputing:!1,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function lc(n){if(ip)throw new Error("");if(Tn===null)return;Tn.consumerOnSignalRead(n);let t=Tn.producersTail;if(t!==void 0&&t.producer===n)return;let e,i=Tn.recomputing;if(i&&(e=t!==void 0?t.nextProducer:Tn.producers,e!==void 0&&e.producer===n)){Tn.producersTail=e,e.lastReadVersion=n.version;return}let r=n.consumersTail;if(r!==void 0&&r.consumer===Tn&&(!i||z4(r,Tn)))return;let o=uc(Tn),s={producer:n,consumer:Tn,nextProducer:e,prevConsumer:r,lastReadVersion:n.version,nextConsumer:void 0};Tn.producersTail=s,t!==void 0?t.nextProducer=s:Tn.producers=s,o&&yO(n,s)}function mO(){W0++}function cp(n){if(!(uc(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===W0)){if(!n.producerMustRecompute(n)&&!td(n)){sp(n);return}n.producerRecomputeValue(n),sp(n)}}function G0(n){if(n.consumers===void 0)return;let t=ip;ip=!0;try{for(let e=n.consumers;e!==void 0;e=e.nextConsumer){let i=e.consumer;i.dirty||B4(i)}}finally{ip=t}}function K0(){return Tn?.consumerAllowSignalWrites!==!1}function B4(n){n.dirty=!0,G0(n),n.consumerMarkedDirty?.(n)}function sp(n){n.dirty=!1,n.lastCleanEpoch=W0}function dc(n){return n&&_O(n),Ee(n)}function _O(n){n.producersTail=void 0,n.recomputing=!0}function ed(n,t){Ee(t),n&&vO(n)}function vO(n){n.recomputing=!1;let t=n.producersTail,e=t!==void 0?t.nextProducer:n.producers;if(e!==void 0){if(uc(n))do e=Q0(e);while(e!==void 0);t!==void 0?t.nextProducer=void 0:n.producers=void 0}}function td(n){for(let t=n.producers;t!==void 0;t=t.nextProducer){let e=t.producer,i=t.lastReadVersion;if(i!==e.version||(cp(e),i!==e.version))return!0}return!1}function nd(n){if(uc(n)){let t=n.producers;for(;t!==void 0;)t=Q0(t)}n.producers=void 0,n.producersTail=void 0,n.consumers=void 0,n.consumersTail=void 0}function yO(n,t){let e=n.consumersTail,i=uc(n);if(e!==void 0?(t.nextConsumer=e.nextConsumer,e.nextConsumer=t):(t.nextConsumer=void 0,n.consumers=t),t.prevConsumer=e,n.consumersTail=t,!i)for(let r=n.producers;r!==void 0;r=r.nextProducer)yO(r.producer,r)}function Q0(n){let t=n.producer,e=n.nextProducer,i=n.nextConsumer,r=n.prevConsumer;if(n.nextConsumer=void 0,n.prevConsumer=void 0,i!==void 0?i.prevConsumer=r:t.consumersTail=r,r!==void 0)r.nextConsumer=i;else if(t.consumers=i,!uc(t)){let o=t.producers;for(;o!==void 0;)o=Q0(o)}return e}function uc(n){return n.consumerIsAlwaysLive||n.consumers!==void 0}function lp(n){F4?.(n)}function z4(n,t){let e=t.producersTail;if(e!==void 0){let i=t.producers;do{if(i===n)return!0;if(i===e)break;i=i.nextProducer}while(i!==void 0)}return!1}function dp(n,t){return Object.is(n,t)}function up(n,t){let e=Object.create(V4);e.computation=n,t!==void 0&&(e.equal=t);let i=()=>{if(cp(e),lc(e),e.value===Jl)throw e.error;return e.value};return i[Dn]=e,lp(e),i}var rp=Symbol("UNSET"),op=Symbol("COMPUTING"),Jl=Symbol("ERRORED"),V4=oe(B({},cc),{value:rp,dirty:!0,error:null,equal:dp,kind:"computed",producerMustRecompute(n){return n.value===rp||n.value===op},producerRecomputeValue(n){if(n.value===op)throw new Error("");let t=n.value;n.value=op;let e=dc(n),i,r=!1;try{i=n.computation(),Ee(null),r=t!==rp&&t!==Jl&&i!==Jl&&n.equal(t,i)}catch(o){i=Jl,n.error=o}finally{ed(n,e)}if(r){n.value=t;return}n.value=i,n.version++}});function j4(){throw new Error}var bO=j4;function CO(n){bO(n)}function Y0(n){bO=n}var U4=null;function Z0(n,t){let e=Object.create(fp);e.value=n,t!==void 0&&(e.equal=t);let i=()=>wO(e);return i[Dn]=e,lp(e),[i,s=>fc(e,s),s=>X0(e,s)]}function wO(n){return lc(n),n.value}function fc(n,t){K0()||CO(n),n.equal(n.value,t)||(n.value=t,$4(n))}function X0(n,t){K0()||CO(n),fc(n,t(n.value))}var fp=oe(B({},cc),{equal:dp,value:void 0,kind:"signal"});function $4(n){n.version++,mO(),G0(n),U4?.(n)}function Ie(n){return typeof n=="function"}function pc(n){let e=n(i=>{Error.call(i),i.stack=new Error().stack});return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}var pp=pc(n=>function(e){n(this),this.message=e?`${e.length} errors occurred during unsubscription:
${e.map((i,r)=>`${r+1}) ${i.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=e});function Xs(n,t){if(n){let e=n.indexOf(t);0<=e&&n.splice(e,1)}}var It=class n{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;let{_parentage:e}=this;if(e)if(this._parentage=null,Array.isArray(e))for(let o of e)o.remove(this);else e.remove(this);let{initialTeardown:i}=this;if(Ie(i))try{i()}catch(o){t=o instanceof pp?o.errors:[o]}let{_finalizers:r}=this;if(r){this._finalizers=null;for(let o of r)try{MO(o)}catch(s){t=t??[],s instanceof pp?t=[...t,...s.errors]:t.push(s)}}if(t)throw new pp(t)}}add(t){var e;if(t&&t!==this)if(this.closed)MO(t);else{if(t instanceof n){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=(e=this._finalizers)!==null&&e!==void 0?e:[]).push(t)}}_hasParent(t){let{_parentage:e}=this;return e===t||Array.isArray(e)&&e.includes(t)}_addParent(t){let{_parentage:e}=this;this._parentage=Array.isArray(e)?(e.push(t),e):e?[e,t]:t}_removeParent(t){let{_parentage:e}=this;e===t?this._parentage=null:Array.isArray(e)&&Xs(e,t)}remove(t){let{_finalizers:e}=this;e&&Xs(e,t),t instanceof n&&t._removeParent(this)}};It.EMPTY=(()=>{let n=new It;return n.closed=!0,n})();var J0=It.EMPTY;function hp(n){return n instanceof It||n&&"closed"in n&&Ie(n.remove)&&Ie(n.add)&&Ie(n.unsubscribe)}function MO(n){Ie(n)?n():n.unsubscribe()}var Gi={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var hc={setTimeout(n,t,...e){let{delegate:i}=hc;return i?.setTimeout?i.setTimeout(n,t,...e):setTimeout(n,t,...e)},clearTimeout(n){let{delegate:t}=hc;return(t?.clearTimeout||clearTimeout)(n)},delegate:void 0};function gp(n){hc.setTimeout(()=>{let{onUnhandledError:t}=Gi;if(t)t(n);else throw n})}function id(){}var EO=ev("C",void 0,void 0);function PO(n){return ev("E",void 0,n)}function OO(n){return ev("N",n,void 0)}function ev(n,t,e){return{kind:n,value:t,error:e}}var Js=null;function gc(n){if(Gi.useDeprecatedSynchronousErrorHandling){let t=!Js;if(t&&(Js={errorThrown:!1,error:null}),n(),t){let{errorThrown:e,error:i}=Js;if(Js=null,e)throw i}}else n()}function xO(n){Gi.useDeprecatedSynchronousErrorHandling&&Js&&(Js.errorThrown=!0,Js.error=n)}var ea=class extends It{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,hp(t)&&t.add(this)):this.destination=W4}static create(t,e,i){return new Ki(t,e,i)}next(t){this.isStopped?nv(OO(t),this):this._next(t)}error(t){this.isStopped?nv(PO(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?nv(EO,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},H4=Function.prototype.bind;function tv(n,t){return H4.call(n,t)}var iv=class{constructor(t){this.partialObserver=t}next(t){let{partialObserver:e}=this;if(e.next)try{e.next(t)}catch(i){mp(i)}}error(t){let{partialObserver:e}=this;if(e.error)try{e.error(t)}catch(i){mp(i)}else mp(t)}complete(){let{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(e){mp(e)}}},Ki=class extends ea{constructor(t,e,i){super();let r;if(Ie(t)||!t)r={next:t??void 0,error:e??void 0,complete:i??void 0};else{let o;this&&Gi.useDeprecatedNextContext?(o=Object.create(t),o.unsubscribe=()=>this.unsubscribe(),r={next:t.next&&tv(t.next,o),error:t.error&&tv(t.error,o),complete:t.complete&&tv(t.complete,o)}):r=t}this.destination=new iv(r)}};function mp(n){Gi.useDeprecatedSynchronousErrorHandling?xO(n):gp(n)}function q4(n){throw n}function nv(n,t){let{onStoppedNotification:e}=Gi;e&&hc.setTimeout(()=>e(n,t))}var W4={closed:!0,next:id,error:q4,complete:id};var mc=typeof Symbol=="function"&&Symbol.observable||"@@observable";function di(n){return n}function rv(...n){return ov(n)}function ov(n){return n.length===0?di:n.length===1?n[0]:function(e){return n.reduce((i,r)=>r(i),e)}}var ie=(()=>{class n{constructor(e){e&&(this._subscribe=e)}lift(e){let i=new n;return i.source=this,i.operator=e,i}subscribe(e,i,r){let o=K4(e)?e:new Ki(e,i,r);return gc(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(e){try{return this._subscribe(e)}catch(i){e.error(i)}}forEach(e,i){return i=IO(i),new i((r,o)=>{let s=new Ki({next:a=>{try{e(a)}catch(c){o(c),s.unsubscribe()}},error:o,complete:r});this.subscribe(s)})}_subscribe(e){var i;return(i=this.source)===null||i===void 0?void 0:i.subscribe(e)}[mc](){return this}pipe(...e){return ov(e)(this)}toPromise(e){return e=IO(e),new e((i,r)=>{let o;this.subscribe(s=>o=s,s=>r(s),()=>i(o))})}}return n.create=t=>new n(t),n})();function IO(n){var t;return(t=n??Gi.Promise)!==null&&t!==void 0?t:Promise}function G4(n){return n&&Ie(n.next)&&Ie(n.error)&&Ie(n.complete)}function K4(n){return n&&n instanceof ea||G4(n)&&hp(n)}function sv(n){return Ie(n?.lift)}function Ve(n){return t=>{if(sv(t))return t.lift(function(e){try{return n(e,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function je(n,t,e,i,r){return new av(n,t,e,i,r)}var av=class extends ea{constructor(t,e,i,r,o,s){super(t),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=e?function(a){try{e(a)}catch(c){t.error(c)}}:super._next,this._error=r?function(a){try{r(a)}catch(c){t.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(a){t.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:e}=this;super.unsubscribe(),!e&&((t=this.onFinalize)===null||t===void 0||t.call(this))}}};function _c(){return Ve((n,t)=>{let e=null;n._refCount++;let i=je(t,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount){e=null;return}let r=n._connection,o=e;e=null,r&&(!o||r===o)&&r.unsubscribe(),t.unsubscribe()});n.subscribe(i),i.closed||(e=n.connect())})}var vc=class extends ie{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,sv(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){let t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new It;let e=this.getSubject();t.add(this.source.subscribe(je(e,void 0,()=>{this._teardown(),e.complete()},i=>{this._teardown(),e.error(i)},()=>this._teardown()))),t.closed&&(this._connection=null,t=It.EMPTY)}return t}refCount(){return _c()(this)}};var SO=pc(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var le=(()=>{class n extends ie{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(e){let i=new _p(this,this);return i.operator=e,i}_throwIfClosed(){if(this.closed)throw new SO}next(e){gc(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let i of this.currentObservers)i.next(e)}})}error(e){gc(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=e;let{observers:i}=this;for(;i.length;)i.shift().error(e)}})}complete(){gc(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:e}=this;for(;e.length;)e.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var e;return((e=this.observers)===null||e===void 0?void 0:e.length)>0}_trySubscribe(e){return this._throwIfClosed(),super._trySubscribe(e)}_subscribe(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)}_innerSubscribe(e){let{hasError:i,isStopped:r,observers:o}=this;return i||r?J0:(this.currentObservers=null,o.push(e),new It(()=>{this.currentObservers=null,Xs(o,e)}))}_checkFinalizedStatuses(e){let{hasError:i,thrownError:r,isStopped:o}=this;i?e.error(r):o&&e.complete()}asObservable(){let e=new ie;return e.source=this,e}}return n.create=(t,e)=>new _p(t,e),n})(),_p=class extends le{constructor(t,e){super(),this.destination=t,this.source=e}next(t){var e,i;(i=(e=this.destination)===null||e===void 0?void 0:e.next)===null||i===void 0||i.call(e,t)}error(t){var e,i;(i=(e=this.destination)===null||e===void 0?void 0:e.error)===null||i===void 0||i.call(e,t)}complete(){var t,e;(e=(t=this.destination)===null||t===void 0?void 0:t.complete)===null||e===void 0||e.call(t)}_subscribe(t){var e,i;return(i=(e=this.source)===null||e===void 0?void 0:e.subscribe(t))!==null&&i!==void 0?i:J0}};var _n=class extends le{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){let e=super._subscribe(t);return!e.closed&&t.next(this._value),e}getValue(){let{hasError:t,thrownError:e,_value:i}=this;if(t)throw e;return this._throwIfClosed(),i}next(t){super.next(this._value=t)}};var rd={now(){return(rd.delegate||Date).now()},delegate:void 0};var od=class extends le{constructor(t=1/0,e=1/0,i=rd){super(),this._bufferSize=t,this._windowTime=e,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,e)}next(t){let{isStopped:e,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:o,_windowTime:s}=this;e||(i.push(t),!r&&i.push(o.now()+s)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();let e=this._innerSubscribe(t),{_infiniteTimeWindow:i,_buffer:r}=this,o=r.slice();for(let s=0;s<o.length&&!t.closed;s+=i?1:2)t.next(o[s]);return this._checkFinalizedStatuses(t),e}_trimBuffer(){let{_bufferSize:t,_timestampProvider:e,_buffer:i,_infiniteTimeWindow:r}=this,o=(r?1:2)*t;if(t<1/0&&o<i.length&&i.splice(0,i.length-o),!r){let s=e.now(),a=0;for(let c=1;c<i.length&&i[c]<=s;c+=2)a=c;a&&i.splice(0,a+1)}}};var vp=class extends It{constructor(t,e){super()}schedule(t,e=0){return this}};var sd={setInterval(n,t,...e){let{delegate:i}=sd;return i?.setInterval?i.setInterval(n,t,...e):setInterval(n,t,...e)},clearInterval(n){let{delegate:t}=sd;return(t?.clearInterval||clearInterval)(n)},delegate:void 0};var yc=class extends vp{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){var i;if(this.closed)return this;this.state=t;let r=this.id,o=this.scheduler;return r!=null&&(this.id=this.recycleAsyncId(o,r,e)),this.pending=!0,this.delay=e,this.id=(i=this.id)!==null&&i!==void 0?i:this.requestAsyncId(o,this.id,e),this}requestAsyncId(t,e,i=0){return sd.setInterval(t.flush.bind(t,this),i)}recycleAsyncId(t,e,i=0){if(i!=null&&this.delay===i&&this.pending===!1)return e;e!=null&&sd.clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let i=this._execute(t,e);if(i)return i;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let i=!1,r;try{this.work(t)}catch(o){i=!0,r=o||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){let{id:t,scheduler:e}=this,{actions:i}=e;this.work=this.state=this.scheduler=null,this.pending=!1,Xs(i,this),t!=null&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null,super.unsubscribe()}}};var bc=class n{constructor(t,e=n.now){this.schedulerActionCtor=t,this.now=e}schedule(t,e=0,i){return new this.schedulerActionCtor(this,t).schedule(i,e)}};bc.now=rd.now;var Cc=class extends bc{constructor(t,e=bc.now){super(t,e),this.actions=[],this._active=!1}flush(t){let{actions:e}=this;if(this._active){e.push(t);return}let i;this._active=!0;do if(i=t.execute(t.state,t.delay))break;while(t=e.shift());if(this._active=!1,i){for(;t=e.shift();)t.unsubscribe();throw i}}};var cv=new Cc(yc);var yp=class extends yc{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,i=0){return i!=null&&i>0||i==null&&this.delay>0?super.requestAsyncId(t,e,i):(t.flush(this),0)}};var bp=class extends Cc{};var lv=new bp(yp);var Yn=new ie(n=>n.complete());function TO(n){return n&&Ie(n.schedule)}function DO(n){return n[n.length-1]}function Cp(n){return Ie(DO(n))?n.pop():void 0}function Ko(n){return TO(DO(n))?n.pop():void 0}function wp(n,t){var e={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&t.indexOf(i)<0&&(e[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(e[i[r]]=n[i[r]]);return e}function kO(n,t,e,i){function r(o){return o instanceof e?o:new e(function(s){s(o)})}return new(e||(e=Promise))(function(o,s){function a(m){try{l(i.next(m))}catch(g){s(g)}}function c(m){try{l(i.throw(m))}catch(g){s(g)}}function l(m){m.done?o(m.value):r(m.value).then(a,c)}l((i=i.apply(n,t||[])).next())})}function AO(n){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&n[t],i=0;if(e)return e.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&i>=n.length&&(n=void 0),{value:n&&n[i++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function ta(n){return this instanceof ta?(this.v=n,this):new ta(n)}function RO(n,t,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=e.apply(n,t||[]),r,o=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),r[Symbol.asyncIterator]=function(){return this},r;function s(E){return function(S){return Promise.resolve(S).then(E,g)}}function a(E,S){i[E]&&(r[E]=function(k){return new Promise(function(R,V){o.push([E,k,R,V])>1||c(E,k)})},S&&(r[E]=S(r[E])))}function c(E,S){try{l(i[E](S))}catch(k){C(o[0][3],k)}}function l(E){E.value instanceof ta?Promise.resolve(E.value.v).then(m,g):C(o[0][2],E)}function m(E){c("next",E)}function g(E){c("throw",E)}function C(E,S){E(S),o.shift(),o.length&&c(o[0][0],o[0][1])}}function NO(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=n[Symbol.asyncIterator],e;return t?t.call(n):(n=typeof AO=="function"?AO(n):n[Symbol.iterator](),e={},i("next"),i("throw"),i("return"),e[Symbol.asyncIterator]=function(){return this},e);function i(o){e[o]=n[o]&&function(s){return new Promise(function(a,c){s=n[o](s),r(a,c,s.done,s.value)})}}function r(o,s,a,c){Promise.resolve(c).then(function(l){o({value:l,done:a})},s)}}var Mp=n=>n&&typeof n.length=="number"&&typeof n!="function";function Ep(n){return Ie(n?.then)}function Pp(n){return Ie(n[mc])}function Op(n){return Symbol.asyncIterator&&Ie(n?.[Symbol.asyncIterator])}function xp(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function Q4(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Ip=Q4();function Sp(n){return Ie(n?.[Ip])}function Tp(n){return RO(this,arguments,function*(){let e=n.getReader();try{for(;;){let{value:i,done:r}=yield ta(e.read());if(r)return yield ta(void 0);yield yield ta(i)}}finally{e.releaseLock()}})}function Dp(n){return Ie(n?.getReader)}function Et(n){if(n instanceof ie)return n;if(n!=null){if(Pp(n))return Y4(n);if(Mp(n))return Z4(n);if(Ep(n))return X4(n);if(Op(n))return LO(n);if(Sp(n))return J4(n);if(Dp(n))return eB(n)}throw xp(n)}function Y4(n){return new ie(t=>{let e=n[mc]();if(Ie(e.subscribe))return e.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function Z4(n){return new ie(t=>{for(let e=0;e<n.length&&!t.closed;e++)t.next(n[e]);t.complete()})}function X4(n){return new ie(t=>{n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,gp)})}function J4(n){return new ie(t=>{for(let e of n)if(t.next(e),t.closed)return;t.complete()})}function LO(n){return new ie(t=>{tB(n,t).catch(e=>t.error(e))})}function eB(n){return LO(Tp(n))}function tB(n,t){var e,i,r,o;return kO(this,void 0,void 0,function*(){try{for(e=NO(n);i=yield e.next(),!i.done;){let s=i.value;if(t.next(s),t.closed)return}}catch(s){r={error:s}}finally{try{i&&!i.done&&(o=e.return)&&(yield o.call(e))}finally{if(r)throw r.error}}t.complete()})}function Zn(n,t,e,i=0,r=!1){let o=t.schedule(function(){e(),r?n.add(this.schedule(null,i)):this.unsubscribe()},i);if(n.add(o),!r)return o}function Qo(n,t=0){return Ve((e,i)=>{e.subscribe(je(i,r=>Zn(i,n,()=>i.next(r),t),()=>Zn(i,n,()=>i.complete(),t),r=>Zn(i,n,()=>i.error(r),t)))})}function Yo(n,t=0){return Ve((e,i)=>{i.add(n.schedule(()=>e.subscribe(i),t))})}function FO(n,t){return Et(n).pipe(Yo(t),Qo(t))}function BO(n,t){return Et(n).pipe(Yo(t),Qo(t))}function zO(n,t){return new ie(e=>{let i=0;return t.schedule(function(){i===n.length?e.complete():(e.next(n[i++]),e.closed||this.schedule())})})}function VO(n,t){return new ie(e=>{let i;return Zn(e,t,()=>{i=n[Ip](),Zn(e,t,()=>{let r,o;try{({value:r,done:o}=i.next())}catch(s){e.error(s);return}o?e.complete():e.next(r)},0,!0)}),()=>Ie(i?.return)&&i.return()})}function Ap(n,t){if(!n)throw new Error("Iterable cannot be null");return new ie(e=>{Zn(e,t,()=>{let i=n[Symbol.asyncIterator]();Zn(e,t,()=>{i.next().then(r=>{r.done?e.complete():e.next(r.value)})},0,!0)})})}function jO(n,t){return Ap(Tp(n),t)}function UO(n,t){if(n!=null){if(Pp(n))return FO(n,t);if(Mp(n))return zO(n,t);if(Ep(n))return BO(n,t);if(Op(n))return Ap(n,t);if(Sp(n))return VO(n,t);if(Dp(n))return jO(n,t)}throw xp(n)}function ee(n,t){return t?UO(n,t):Et(n)}function $(...n){let t=Ko(n);return ee(n,t)}function wc(n,t){let e=Ie(n)?n:()=>n,i=r=>r.error(e());return new ie(t?r=>t.schedule(i,0,r):i)}function Qi(n){return!!n&&(n instanceof ie||Ie(n.lift)&&Ie(n.subscribe))}var Yi=pc(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function Zo(n,t){let e=typeof t=="object";return new Promise((i,r)=>{let o=new Ki({next:s=>{i(s),o.unsubscribe()},error:r,complete:()=>{e?i(t.defaultValue):r(new Yi)}});n.subscribe(o)})}function H(n,t){return Ve((e,i)=>{let r=0;e.subscribe(je(i,o=>{i.next(n.call(t,o,r++))}))})}var{isArray:nB}=Array;function iB(n,t){return nB(t)?n(...t):n(t)}function kp(n){return H(t=>iB(n,t))}var{isArray:rB}=Array,{getPrototypeOf:oB,prototype:sB,keys:aB}=Object;function Rp(n){if(n.length===1){let t=n[0];if(rB(t))return{args:t,keys:null};if(cB(t)){let e=aB(t);return{args:e.map(i=>t[i]),keys:e}}}return{args:n,keys:null}}function cB(n){return n&&typeof n=="object"&&oB(n)===sB}function Np(n,t){return n.reduce((e,i,r)=>(e[i]=t[r],e),{})}function ad(...n){let t=Ko(n),e=Cp(n),{args:i,keys:r}=Rp(n);if(i.length===0)return ee([],t);let o=new ie(lB(i,t,r?s=>Np(r,s):di));return e?o.pipe(kp(e)):o}function lB(n,t,e=di){return i=>{$O(t,()=>{let{length:r}=n,o=new Array(r),s=r,a=r;for(let c=0;c<r;c++)$O(t,()=>{let l=ee(n[c],t),m=!1;l.subscribe(je(i,g=>{o[c]=g,m||(m=!0,a--),a||i.next(e(o.slice()))},()=>{--s||i.complete()}))},i)},i)}}function $O(n,t,e){n?Zn(e,n,t):t()}function HO(n,t,e,i,r,o,s,a){let c=[],l=0,m=0,g=!1,C=()=>{g&&!c.length&&!l&&t.complete()},E=k=>l<i?S(k):c.push(k),S=k=>{o&&t.next(k),l++;let R=!1;Et(e(k,m++)).subscribe(je(t,V=>{r?.(V),o?E(V):t.next(V)},()=>{R=!0},void 0,()=>{if(R)try{for(l--;c.length&&l<i;){let V=c.shift();s?Zn(t,s,()=>S(V)):S(V)}C()}catch(V){t.error(V)}}))};return n.subscribe(je(t,E,()=>{g=!0,C()})),()=>{a?.()}}function zt(n,t,e=1/0){return Ie(t)?zt((i,r)=>H((o,s)=>t(i,o,r,s))(Et(n(i,r))),e):(typeof t=="number"&&(e=t),Ve((i,r)=>HO(i,r,n,e)))}function Ir(n=1/0){return zt(di,n)}function qO(){return Ir(1)}function co(...n){return qO()(ee(n,Ko(n)))}function se(n){return new ie(t=>{Et(n()).subscribe(t)})}function Vt(...n){let t=Cp(n),{args:e,keys:i}=Rp(n),r=new ie(o=>{let{length:s}=e;if(!s){o.complete();return}let a=new Array(s),c=s,l=s;for(let m=0;m<s;m++){let g=!1;Et(e[m]).subscribe(je(o,C=>{g||(g=!0,l--),a[m]=C},()=>c--,void 0,()=>{(!c||!g)&&(l||o.next(i?Np(i,a):a),o.complete())}))}});return t?r.pipe(kp(t)):r}function An(n,t){return Ve((e,i)=>{let r=0;e.subscribe(je(i,o=>n.call(t,o,r++)&&i.next(o)))})}function Ge(n){return Ve((t,e)=>{let i=null,r=!1,o;i=t.subscribe(je(e,void 0,void 0,s=>{o=Et(n(s,Ge(n)(t))),i?(i.unsubscribe(),i=null,o.subscribe(e)):r=!0})),r&&(i.unsubscribe(),i=null,o.subscribe(e))})}function WO(n,t,e,i,r){return(o,s)=>{let a=e,c=t,l=0;o.subscribe(je(s,m=>{let g=l++;c=a?n(c,m,g):(a=!0,m),i&&s.next(c)},r&&(()=>{a&&s.next(c),s.complete()})))}}function Ei(n,t){return Ie(t)?zt(n,t,1):zt(n,1)}function Xo(n){return Ve((t,e)=>{let i=!1;t.subscribe(je(e,r=>{i=!0,e.next(r)},()=>{i||e.next(n),e.complete()}))})}function ht(n){return n<=0?()=>Yn:Ve((t,e)=>{let i=0;t.subscribe(je(e,r=>{++i<=n&&(e.next(r),n<=i&&e.complete())}))})}function Lp(n=dB){return Ve((t,e)=>{let i=!1;t.subscribe(je(e,r=>{i=!0,e.next(r)},()=>i?e.complete():e.error(n())))})}function dB(){return new Yi}function Jo(n){return Ve((t,e)=>{try{t.subscribe(e)}finally{e.add(n)}})}function lo(n,t){let e=arguments.length>=2;return i=>i.pipe(n?An((r,o)=>n(r,o,i)):di,ht(1),e?Xo(t):Lp(()=>new Yi))}function Mc(n){return n<=0?()=>Yn:Ve((t,e)=>{let i=[];t.subscribe(je(e,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(let r of i)e.next(r);e.complete()},void 0,()=>{i=null}))})}function dv(n,t){let e=arguments.length>=2;return i=>i.pipe(n?An((r,o)=>n(r,o,i)):di,Mc(1),e?Xo(t):Lp(()=>new Yi))}function uv(n,t){return Ve(WO(n,t,arguments.length>=2,!0))}function GO(n={}){let{connector:t=()=>new le,resetOnError:e=!0,resetOnComplete:i=!0,resetOnRefCountZero:r=!0}=n;return o=>{let s,a,c,l=0,m=!1,g=!1,C=()=>{a?.unsubscribe(),a=void 0},E=()=>{C(),s=c=void 0,m=g=!1},S=()=>{let k=s;E(),k?.unsubscribe()};return Ve((k,R)=>{l++,!g&&!m&&C();let V=c=c??t();R.add(()=>{l--,l===0&&!g&&!m&&(a=fv(S,r))}),V.subscribe(R),!s&&l>0&&(s=new Ki({next:ae=>V.next(ae),error:ae=>{g=!0,C(),a=fv(E,e,ae),V.error(ae)},complete:()=>{m=!0,C(),a=fv(E,i),V.complete()}}),Et(k).subscribe(s))})(o)}}function fv(n,t,...e){if(t===!0){n();return}if(t===!1)return;let i=new Ki({next:()=>{i.unsubscribe(),n()}});return Et(t(...e)).subscribe(i)}function Fp(n,t,e){let i,r=!1;return n&&typeof n=="object"?{bufferSize:i=1/0,windowTime:t=1/0,refCount:r=!1,scheduler:e}=n:i=n??1/0,GO({connector:()=>new od(i,t,e),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}function pv(...n){let t=Ko(n);return Ve((e,i)=>{(t?co(n,e,t):co(n,e)).subscribe(i)})}function we(n,t){return Ve((e,i)=>{let r=null,o=0,s=!1,a=()=>s&&!r&&i.complete();e.subscribe(je(i,c=>{r?.unsubscribe();let l=0,m=o++;Et(n(c,m)).subscribe(r=je(i,g=>i.next(t?t(c,g,m,l++):g),()=>{r=null,a()}))},()=>{s=!0,a()}))})}function ne(n){return Ve((t,e)=>{Et(n).subscribe(je(e,()=>e.complete(),id)),!e.closed&&t.subscribe(e)})}function rn(n,t,e){let i=Ie(n)||t||e?{next:n,error:t,complete:e}:n;return i?Ve((r,o)=>{var s;(s=i.subscribe)===null||s===void 0||s.call(i);let a=!0;r.subscribe(je(o,c=>{var l;(l=i.next)===null||l===void 0||l.call(i,c),o.next(c)},()=>{var c;a=!1,(c=i.complete)===null||c===void 0||c.call(i),o.complete()},c=>{var l;a=!1,(l=i.error)===null||l===void 0||l.call(i,c),o.error(c)},()=>{var c,l;a&&((c=i.unsubscribe)===null||c===void 0||c.call(i)),(l=i.finalize)===null||l===void 0||l.call(i)}))}):di}function KO(n){let t=Ee(null);try{return n()}finally{Ee(t)}}var fo=class{full;major;minor;patch;constructor(t){this.full=t;let e=t.split(".");this.major=e[0],this.minor=e[1],this.patch=e.slice(2).join(".")}},Ov=new fo("20.3.15");var jp="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",j=class extends Error{code;constructor(t,e){super(Sr(t,e)),this.code=t}};function uB(n){return`NG0${Math.abs(n)}`}function Sr(n,t){return`${uB(n)}${t?": "+t:""}`}var ns=globalThis;function et(n){for(let t in n)if(n[t]===et)return t;throw Error("")}function ZO(n,t){for(let e in t)t.hasOwnProperty(e)&&!n.hasOwnProperty(e)&&(n[e]=t[e])}function po(n){if(typeof n=="string")return n;if(Array.isArray(n))return`[${n.map(po).join(", ")}]`;if(n==null)return""+n;let t=n.overriddenName||n.name;if(t)return`${t}`;let e=n.toString();if(e==null)return""+e;let i=e.indexOf(`
`);return i>=0?e.slice(0,i):e}function Up(n,t){return n?t?`${n} ${t}`:n:t||""}var fB=et({__forward_ref__:et});function on(n){return n.__forward_ref__=on,n.toString=function(){return po(this())},n}function vn(n){return xv(n)?n():n}function xv(n){return typeof n=="function"&&n.hasOwnProperty(fB)&&n.__forward_ref__===on}function q(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function yn(n){return{providers:n.providers||[],imports:n.imports||[]}}function ud(n){return pB(n,$p)}function Iv(n){return ud(n)!==null}function pB(n,t){return n.hasOwnProperty(t)&&n[t]||null}function hB(n){let t=n?.[$p]??null;return t||null}function gv(n){return n&&n.hasOwnProperty(zp)?n[zp]:null}var $p=et({\u0275prov:et}),zp=et({\u0275inj:et}),Z=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(t,e){this._desc=t,this.\u0275prov=void 0,typeof e=="number"?this.__NG_ELEMENT_ID__=e:e!==void 0&&(this.\u0275prov=q({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function Sv(n){return n&&!!n.\u0275providers}var Tv=et({\u0275cmp:et}),Dv=et({\u0275dir:et}),Av=et({\u0275pipe:et}),kv=et({\u0275mod:et}),ld=et({\u0275fac:et}),sa=et({__NG_ELEMENT_ID__:et}),QO=et({__NG_ENV_ID__:et});function is(n){return typeof n=="string"?n:n==null?"":String(n)}function XO(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():is(n)}var JO=et({ngErrorCode:et}),gB=et({ngErrorMessage:et}),mB=et({ngTokenPath:et});function Rv(n,t){return ex("",-200,t)}function Hp(n,t){throw new j(-201,!1)}function ex(n,t,e){let i=new j(t,n);return i[JO]=t,i[gB]=n,e&&(i[mB]=e),i}function _B(n){return n[JO]}var mv;function tx(){return mv}function Bn(n){let t=mv;return mv=n,t}function Nv(n,t,e){let i=ud(n);if(i&&i.providedIn=="root")return i.value===void 0?i.value=i.factory():i.value;if(e&8)return null;if(t!==void 0)return t;Hp(n,"Injector")}var vB={},na=vB,_v="__NG_DI_FLAG__",vv=class{injector;constructor(t){this.injector=t}retrieve(t,e){let i=ia(e)||0;try{return this.injector.get(t,i&8?null:na,i)}catch(r){if(ac(r))return r;throw r}}};function yB(n,t=0){let e=np();if(e===void 0)throw new j(-203,!1);if(e===null)return Nv(n,void 0,t);{let i=bB(t),r=e.retrieve(n,i);if(ac(r)){if(i.optional)return null;throw r}return r}}function W(n,t=0){return(tx()||yB)(vn(n),t)}function N(n,t){return W(n,ia(t))}function ia(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function bB(n){return{optional:!!(n&8),host:!!(n&1),self:!!(n&2),skipSelf:!!(n&4)}}function yv(n){let t=[];for(let e=0;e<n.length;e++){let i=vn(n[e]);if(Array.isArray(i)){if(i.length===0)throw new j(900,!1);let r,o=0;for(let s=0;s<i.length;s++){let a=i[s],c=CB(a);typeof c=="number"?c===-1?r=a.token:o|=c:r=a}t.push(W(r,o))}else t.push(W(i))}return t}function nx(n,t){return n[_v]=t,n.prototype[_v]=t,n}function CB(n){return n[_v]}function es(n,t){let e=n.hasOwnProperty(ld);return e?n[ld]:null}function ix(n,t,e){if(n.length!==t.length)return!1;for(let i=0;i<n.length;i++){let r=n[i],o=t[i];if(e&&(r=e(r),o=e(o)),o!==r)return!1}return!0}function rx(n){return n.flat(Number.POSITIVE_INFINITY)}function qp(n,t){n.forEach(e=>Array.isArray(e)?qp(e,t):t(e))}function Lv(n,t,e){t>=n.length?n.push(e):n.splice(t,0,e)}function fd(n,t){return t>=n.length-1?n.pop():n.splice(t,1)[0]}function ox(n,t,e,i){let r=n.length;if(r==t)n.push(e,i);else if(r===1)n.push(i,n[0]),n[0]=e;else{for(r--,n.push(n[r-1],n[r]);r>t;){let o=r-2;n[r]=n[o],r--}n[t]=e,n[t+1]=i}}function Wp(n,t,e){let i=Pc(n,t);return i>=0?n[i|1]=e:(i=~i,ox(n,i,t,e)),i}function Gp(n,t){let e=Pc(n,t);if(e>=0)return n[e|1]}function Pc(n,t){return wB(n,t,1)}function wB(n,t,e){let i=0,r=n.length>>e;for(;r!==i;){let o=i+(r-i>>1),s=n[o<<e];if(t===s)return o<<e;s>t?r=o:i=o+1}return~(r<<e)}var rs={},zn=[],go=new Z(""),Fv=new Z("",-1),Bv=new Z(""),dd=class{get(t,e=na){if(e===na){let r=ex("",-201);throw r.name="\u0275NotFound",r}return e}};function zv(n){return n[kv]||null}function mo(n){return n[Tv]||null}function Vv(n){return n[Dv]||null}function sx(n){return n[Av]||null}function bn(n){return{\u0275providers:n}}function Kp(...n){return{\u0275providers:jv(!0,n),\u0275fromNgModule:!0}}function jv(n,...t){let e=[],i=new Set,r,o=s=>{e.push(s)};return qp(t,s=>{let a=s;Vp(a,o,[],i)&&(r||=[],r.push(a))}),r!==void 0&&ax(r,o),e}function ax(n,t){for(let e=0;e<n.length;e++){let{ngModule:i,providers:r}=n[e];Uv(r,o=>{t(o,i)})}}function Vp(n,t,e,i){if(n=vn(n),!n)return!1;let r=null,o=gv(n),s=!o&&mo(n);if(!o&&!s){let c=n.ngModule;if(o=gv(c),o)r=c;else return!1}else{if(s&&!s.standalone)return!1;r=n}let a=i.has(r);if(s){if(a)return!1;if(i.add(r),s.dependencies){let c=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of c)Vp(l,t,e,i)}}else if(o){if(o.imports!=null&&!a){i.add(r);let l;try{qp(o.imports,m=>{Vp(m,t,e,i)&&(l||=[],l.push(m))})}finally{}l!==void 0&&ax(l,t)}if(!a){let l=es(r)||(()=>new r);t({provide:r,useFactory:l,deps:zn},r),t({provide:Bv,useValue:r,multi:!0},r),t({provide:go,useValue:()=>W(r),multi:!0},r)}let c=o.providers;if(c!=null&&!a){let l=n;Uv(c,m=>{t(m,l)})}}else return!1;return r!==n&&n.providers!==void 0}function Uv(n,t){for(let e of n)Sv(e)&&(e=e.\u0275providers),Array.isArray(e)?Uv(e,t):t(e)}var MB=et({provide:String,useValue:et});function cx(n){return n!==null&&typeof n=="object"&&MB in n}function EB(n){return!!(n&&n.useExisting)}function PB(n){return!!(n&&n.useFactory)}function ra(n){return typeof n=="function"}function lx(n){return!!n.useClass}var pd=new Z(""),Bp={},YO={},hv;function hd(){return hv===void 0&&(hv=new dd),hv}var Pt=class{},oa=class extends Pt{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(t,e,i,r){super(),this.parent=e,this.source=i,this.scopes=r,Cv(t,s=>this.processProvider(s)),this.records.set(Fv,Ec(void 0,this)),r.has("environment")&&this.records.set(Pt,Ec(void 0,this));let o=this.records.get(pd);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(Bv,zn,{self:!0}))}retrieve(t,e){let i=ia(e)||0;try{return this.get(t,na,i)}catch(r){if(ac(r))return r;throw r}}destroy(){cd(this),this._destroyed=!0;let t=Ee(null);try{for(let i of this._ngOnDestroyHooks)i.ngOnDestroy();let e=this._onDestroyHooks;this._onDestroyHooks=[];for(let i of e)i()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),Ee(t)}}onDestroy(t){return cd(this),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){cd(this);let e=xr(this),i=Bn(void 0),r;try{return t()}finally{xr(e),Bn(i)}}get(t,e=na,i){if(cd(this),t.hasOwnProperty(QO))return t[QO](this);let r=ia(i),o,s=xr(this),a=Bn(void 0);try{if(!(r&4)){let l=this.records.get(t);if(l===void 0){let m=TB(t)&&ud(t);m&&this.injectableDefInScope(m)?l=Ec(bv(t),Bp):l=null,this.records.set(t,l)}if(l!=null)return this.hydrate(t,l,r)}let c=r&2?hd():this.parent;return e=r&8&&e===na?null:e,c.get(t,e)}catch(c){let l=_B(c);throw l===-200||l===-201?new j(l,null):c}finally{Bn(a),xr(s)}}resolveInjectorInitializers(){let t=Ee(null),e=xr(this),i=Bn(void 0),r;try{let o=this.get(go,zn,{self:!0});for(let s of o)s()}finally{xr(e),Bn(i),Ee(t)}}toString(){let t=[],e=this.records;for(let i of e.keys())t.push(po(i));return`R3Injector[${t.join(", ")}]`}processProvider(t){t=vn(t);let e=ra(t)?t:vn(t&&t.provide),i=xB(t);if(!ra(t)&&t.multi===!0){let r=this.records.get(e);r||(r=Ec(void 0,Bp,!0),r.factory=()=>yv(r.multi),this.records.set(e,r)),e=t,r.multi.push(t)}this.records.set(e,i)}hydrate(t,e,i){let r=Ee(null);try{if(e.value===YO)throw Rv(po(t));return e.value===Bp&&(e.value=YO,e.value=e.factory(void 0,i)),typeof e.value=="object"&&e.value&&SB(e.value)&&this._ngOnDestroyHooks.add(e.value),e.value}finally{Ee(r)}}injectableDefInScope(t){if(!t.providedIn)return!1;let e=vn(t.providedIn);return typeof e=="string"?e==="any"||this.scopes.has(e):this.injectorDefTypes.has(e)}removeOnDestroy(t){let e=this._onDestroyHooks.indexOf(t);e!==-1&&this._onDestroyHooks.splice(e,1)}};function bv(n){let t=ud(n),e=t!==null?t.factory:es(n);if(e!==null)return e;if(n instanceof Z)throw new j(204,!1);if(n instanceof Function)return OB(n);throw new j(204,!1)}function OB(n){if(n.length>0)throw new j(204,!1);let e=hB(n);return e!==null?()=>e.factory(n):()=>new n}function xB(n){if(cx(n))return Ec(void 0,n.useValue);{let t=$v(n);return Ec(t,Bp)}}function $v(n,t,e){let i;if(ra(n)){let r=vn(n);return es(r)||bv(r)}else if(cx(n))i=()=>vn(n.useValue);else if(PB(n))i=()=>n.useFactory(...yv(n.deps||[]));else if(EB(n))i=(r,o)=>W(vn(n.useExisting),o!==void 0&&o&8?8:void 0);else{let r=vn(n&&(n.useClass||n.provide));if(IB(n))i=()=>new r(...yv(n.deps));else return es(r)||bv(r)}return i}function cd(n){if(n.destroyed)throw new j(205,!1)}function Ec(n,t,e=!1){return{factory:n,value:t,multi:e?[]:void 0}}function IB(n){return!!n.deps}function SB(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function TB(n){return typeof n=="function"||typeof n=="object"&&n.ngMetadataName==="InjectionToken"}function Cv(n,t){for(let e of n)Array.isArray(e)?Cv(e,t):e&&Sv(e)?Cv(e.\u0275providers,t):t(e)}function X(n,t){let e;n instanceof oa?(cd(n),e=n):e=new vv(n);let i,r=xr(e),o=Bn(void 0);try{return t()}finally{xr(r),Bn(o)}}function dx(){return tx()!==void 0||np()!=null}var Xi=0,_e=1,Pe=2,Yt=3,Pi=4,Oi=5,Oc=6,xc=7,jt=8,_o=9,Tr=10,yt=11,Ic=12,Hv=13,aa=14,ui=15,os=16,ca=17,Dr=18,gd=19,qv=20,uo=21,Qp=22,md=23,fi=24,la=25,da=26,Ut=27,ux=1,Wv=6,ss=7,_d=8,ua=9,St=10;function Ar(n){return Array.isArray(n)&&typeof n[ux]=="object"}function Ji(n){return Array.isArray(n)&&n[ux]===!0}function Gv(n){return(n.flags&4)!==0}function as(n){return n.componentOffset>-1}function vd(n){return(n.flags&1)===1}function kr(n){return!!n.template}function Sc(n){return(n[Pe]&512)!==0}function fa(n){return(n[Pe]&256)===256}var Kv="svg",fx="math";function xi(n){for(;Array.isArray(n);)n=n[Xi];return n}function Qv(n,t){return xi(t[n])}function er(n,t){return xi(t[n.index])}function yd(n,t){return n.data[t]}function Yv(n,t){return n[t]}function Zv(n,t,e,i){e>=n.data.length&&(n.data[e]=null,n.blueprint[e]=null),t[e]=i}function Ii(n,t){let e=t[n];return Ar(e)?e:e[Xi]}function px(n){return(n[Pe]&4)===4}function Yp(n){return(n[Pe]&128)===128}function hx(n){return Ji(n[Yt])}function Si(n,t){return t==null?null:n[t]}function Xv(n){n[ca]=0}function Jv(n){n[Pe]&1024||(n[Pe]|=1024,Yp(n)&&Tc(n))}function gx(n,t){for(;n>0;)t=t[aa],n--;return t}function bd(n){return!!(n[Pe]&9216||n[fi]?.dirty)}function Zp(n){n[Tr].changeDetectionScheduler?.notify(8),n[Pe]&64&&(n[Pe]|=1024),bd(n)&&Tc(n)}function Tc(n){n[Tr].changeDetectionScheduler?.notify(0);let t=ts(n);for(;t!==null&&!(t[Pe]&8192||(t[Pe]|=8192,!Yp(t)));)t=ts(t)}function ey(n,t){if(fa(n))throw new j(911,!1);n[uo]===null&&(n[uo]=[]),n[uo].push(t)}function mx(n,t){if(n[uo]===null)return;let e=n[uo].indexOf(t);e!==-1&&n[uo].splice(e,1)}function ts(n){let t=n[Yt];return Ji(t)?t[Yt]:t}function ty(n){return n[xc]??=[]}function ny(n){return n.cleanup??=[]}function _x(n,t,e,i){let r=ty(t);r.push(e),n.firstCreatePass&&ny(n).push(i,r.length-1)}var Te={lFrame:Tx(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var wv=!1;function vx(){return Te.lFrame.elementDepthCount}function yx(){Te.lFrame.elementDepthCount++}function iy(){Te.lFrame.elementDepthCount--}function ry(){return Te.bindingsEnabled}function bx(){return Te.skipHydrationRootTNode!==null}function oy(n){return Te.skipHydrationRootTNode===n}function sy(){Te.skipHydrationRootTNode=null}function Me(){return Te.lFrame.lView}function Ht(){return Te.lFrame.tView}function G(n){return Te.lFrame.contextLView=n,n[jt]}function K(n){return Te.lFrame.contextLView=null,n}function sn(){let n=ay();for(;n!==null&&n.type===64;)n=n.parent;return n}function ay(){return Te.lFrame.currentTNode}function Cx(){let n=Te.lFrame,t=n.currentTNode;return n.isParent?t:t.parent}function Dc(n,t){let e=Te.lFrame;e.currentTNode=n,e.isParent=t}function cy(){return Te.lFrame.isParent}function wx(){Te.lFrame.isParent=!1}function ly(){return wv}function dy(n){let t=wv;return wv=n,t}function Ac(){let n=Te.lFrame,t=n.bindingRootIndex;return t===-1&&(t=n.bindingRootIndex=n.tView.bindingStartIndex),t}function Mx(){return Te.lFrame.bindingIndex}function Ex(n){return Te.lFrame.bindingIndex=n}function cs(){return Te.lFrame.bindingIndex++}function Xp(n){let t=Te.lFrame,e=t.bindingIndex;return t.bindingIndex=t.bindingIndex+n,e}function Px(){return Te.lFrame.inI18n}function Ox(n,t){let e=Te.lFrame;e.bindingIndex=e.bindingRootIndex=n,Jp(t)}function xx(){return Te.lFrame.currentDirectiveIndex}function Jp(n){Te.lFrame.currentDirectiveIndex=n}function Ix(n){let t=Te.lFrame.currentDirectiveIndex;return t===-1?null:n[t]}function uy(){return Te.lFrame.currentQueryIndex}function eh(n){Te.lFrame.currentQueryIndex=n}function DB(n){let t=n[_e];return t.type===2?t.declTNode:t.type===1?n[Oi]:null}function fy(n,t,e){if(e&4){let r=t,o=n;for(;r=r.parent,r===null&&!(e&1);)if(r=DB(o),r===null||(o=o[aa],r.type&10))break;if(r===null)return!1;t=r,n=o}let i=Te.lFrame=Sx();return i.currentTNode=t,i.lView=n,!0}function th(n){let t=Sx(),e=n[_e];Te.lFrame=t,t.currentTNode=e.firstChild,t.lView=n,t.tView=e,t.contextLView=n,t.bindingIndex=e.bindingStartIndex,t.inI18n=!1}function Sx(){let n=Te.lFrame,t=n===null?null:n.child;return t===null?Tx(n):t}function Tx(n){let t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=t),t}function Dx(){let n=Te.lFrame;return Te.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var py=Dx;function nh(){let n=Dx();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function Ax(n){return(Te.lFrame.contextLView=gx(n,Te.lFrame.contextLView))[jt]}function Rr(){return Te.lFrame.selectedIndex}function ls(n){Te.lFrame.selectedIndex=n}function ih(){let n=Te.lFrame;return yd(n.tView,n.selectedIndex)}function rh(){Te.lFrame.currentNamespace=Kv}function oh(){AB()}function AB(){Te.lFrame.currentNamespace=null}function kx(){return Te.lFrame.currentNamespace}var Rx=!0;function sh(){return Rx}function ah(n){Rx=n}function Mv(n,t=null,e=null,i){let r=hy(n,t,e,i);return r.resolveInjectorInitializers(),r}function hy(n,t=null,e=null,i,r=new Set){let o=[e||zn,Kp(n)];return i=i||(typeof n=="object"?void 0:po(n)),new oa(o,t||hd(),i||null,r)}var De=class n{static THROW_IF_NOT_FOUND=na;static NULL=new dd;static create(t,e){if(Array.isArray(t))return Mv({name:""},e,t,"");{let i=t.name??"";return Mv({name:i},t.parent,t.providers,i)}}static \u0275prov=q({token:n,providedIn:"any",factory:()=>W(Fv)});static __NG_ELEMENT_ID__=-1},gt=new Z(""),Ti=(()=>{class n{static __NG_ELEMENT_ID__=kB;static __NG_ENV_ID__=e=>e}return n})(),Ev=class extends Ti{_lView;constructor(t){super(),this._lView=t}get destroyed(){return fa(this._lView)}onDestroy(t){let e=this._lView;return ey(e,t),()=>mx(e,t)}};function kB(){return new Ev(Me())}var Zi=class{_console=console;handleError(t){this._console.error("ERROR",t)}},Xn=new Z("",{providedIn:"root",factory:()=>{let n=N(Pt),t;return e=>{n.destroyed&&!t?setTimeout(()=>{throw e}):(t??=n.get(Zi),t.handleError(e))}}}),Nx={provide:go,useValue:()=>void N(Zi),multi:!0};function gy(n){return typeof n=="function"&&n[Dn]!==void 0}function Jn(n,t){let[e,i,r]=Z0(n,t?.equal),o=e,s=o[Dn];return o.set=i,o.update=r,o.asReadonly=Lx.bind(o),o}function Lx(){let n=this[Dn];if(n.readonlyFn===void 0){let t=()=>this();t[Dn]=n,n.readonlyFn=t}return n.readonlyFn}function my(n){return gy(n)&&typeof n.set=="function"}var ch=(()=>{class n{view;node;constructor(e,i){this.view=e,this.node=i}static __NG_ELEMENT_ID__=RB}return n})();function RB(){return new ch(Me(),sn())}var ho=class{},kc=new Z("",{providedIn:"root",factory:()=>!1});var _y=new Z(""),vy=new Z(""),Nr=(()=>{class n{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new _n(!1);get hasPendingTasks(){return this.destroyed?!1:this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new ie(e=>{e.next(!1),e.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);let e=this.taskId++;return this.pendingTasks.add(e),e}has(e){return this.pendingTasks.has(e)}remove(e){this.pendingTasks.delete(e),this.pendingTasks.size===0&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=q({token:n,providedIn:"root",factory:()=>new n})}return n})(),vo=(()=>{class n{internalPendingTasks=N(Nr);scheduler=N(ho);errorHandler=N(Xn);add(){let e=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(e)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(e))}}run(e){let i=this.add();e().catch(this.errorHandler).finally(i)}static \u0275prov=q({token:n,providedIn:"root",factory:()=>new n})}return n})();function Cd(...n){}var yy=(()=>{class n{static \u0275prov=q({token:n,providedIn:"root",factory:()=>new Pv})}return n})(),Pv=class{dirtyEffectCount=0;queues=new Map;add(t){this.enqueue(t),this.schedule(t)}schedule(t){t.dirty&&this.dirtyEffectCount++}remove(t){let e=t.zone,i=this.queues.get(e);i.has(t)&&(i.delete(t),t.dirty&&this.dirtyEffectCount--)}enqueue(t){let e=t.zone;this.queues.has(e)||this.queues.set(e,new Set);let i=this.queues.get(e);i.has(t)||i.add(t)}flush(){for(;this.dirtyEffectCount>0;){let t=!1;for(let[e,i]of this.queues)e===null?t||=this.flushQueue(i):t||=e.run(()=>this.flushQueue(i));t||(this.dirtyEffectCount=0)}}flushQueue(t){let e=!1;for(let i of t)i.dirty&&(this.dirtyEffectCount--,e=!0,i.run());return e}};function zc(n){return{toString:n}.toString()}var lh="__parameters__";function VB(n){return function(...e){if(n){let i=n(...e);for(let r in i)this[r]=i[r]}}}function jB(n,t,e){return zc(()=>{let i=VB(t);function r(...o){if(this instanceof r)return i.apply(this,o),this;let s=new r(...o);return a.annotation=s,a;function a(c,l,m){let g=c.hasOwnProperty(lh)?c[lh]:Object.defineProperty(c,lh,{value:[]})[lh];for(;g.length<=m;)g.push(null);return(g[m]=g[m]||[]).push(s),c}}return r.prototype.ngMetadataName=n,r.annotationCls=r,r})}var Zt=nx(jB("Optional"),8);function UB(n){return typeof n=="function"}var vh=class{previousValue;currentValue;firstChange;constructor(t,e,i){this.previousValue=t,this.currentValue=e,this.firstChange=i}isFirstChange(){return this.firstChange}};function mI(n,t,e,i){t!==null?t.applyValueToInputSignal(t,i):n[e]=i}var an=(()=>{let n=()=>_I;return n.ngInherit=!0,n})();function _I(n){return n.type.prototype.ngOnChanges&&(n.setInput=HB),$B}function $B(){let n=yI(this),t=n?.current;if(t){let e=n.previous;if(e===rs)n.previous=t;else for(let i in t)e[i]=t[i];n.current=null,this.ngOnChanges(t)}}function HB(n,t,e,i,r){let o=this.declaredInputs[i],s=yI(n)||qB(n,{previous:rs,current:null}),a=s.current||(s.current={}),c=s.previous,l=c[o];a[o]=new vh(l&&l.currentValue,e,c===rs),mI(n,t,r,e)}var vI="__ngSimpleChanges__";function yI(n){return n[vI]||null}function qB(n,t){return n[vI]=t}var Fx=[];var nt=function(n,t=null,e){for(let i=0;i<Fx.length;i++){let r=Fx[i];r(n,t,e)}};function WB(n,t,e){let{ngOnChanges:i,ngOnInit:r,ngDoCheck:o}=t.type.prototype;if(i){let s=_I(t);(e.preOrderHooks??=[]).push(n,s),(e.preOrderCheckHooks??=[]).push(n,s)}r&&(e.preOrderHooks??=[]).push(0-n,r),o&&((e.preOrderHooks??=[]).push(n,o),(e.preOrderCheckHooks??=[]).push(n,o))}function bI(n,t){for(let e=t.directiveStart,i=t.directiveEnd;e<i;e++){let o=n.data[e].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:m}=o;s&&(n.contentHooks??=[]).push(-e,s),a&&((n.contentHooks??=[]).push(e,a),(n.contentCheckHooks??=[]).push(e,a)),c&&(n.viewHooks??=[]).push(-e,c),l&&((n.viewHooks??=[]).push(e,l),(n.viewCheckHooks??=[]).push(e,l)),m!=null&&(n.destroyHooks??=[]).push(e,m)}}function hh(n,t,e){CI(n,t,3,e)}function gh(n,t,e,i){(n[Pe]&3)===e&&CI(n,t,e,i)}function by(n,t){let e=n[Pe];(e&3)===t&&(e&=16383,e+=1,n[Pe]=e)}function CI(n,t,e,i){let r=i!==void 0?n[ca]&65535:0,o=i??-1,s=t.length-1,a=0;for(let c=r;c<s;c++)if(typeof t[c+1]=="number"){if(a=t[c],i!=null&&a>=i)break}else t[c]<0&&(n[ca]+=65536),(a<o||o==-1)&&(GB(n,e,t,c),n[ca]=(n[ca]&4294901760)+c+2),c++}function Bx(n,t){nt(4,n,t);let e=Ee(null);try{t.call(n)}finally{Ee(e),nt(5,n,t)}}function GB(n,t,e,i){let r=e[i]<0,o=e[i+1],s=r?-e[i]:e[i],a=n[s];r?n[Pe]>>14<n[ca]>>16&&(n[Pe]&3)===t&&(n[Pe]+=16384,Bx(a,o)):Bx(a,o)}var Nc=-1,ha=class{factory;name;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(t,e,i,r){this.factory=t,this.name=r,this.canSeeViewProviders=e,this.injectImpl=i}};function KB(n){return(n.flags&8)!==0}function QB(n){return(n.flags&16)!==0}function YB(n,t,e){let i=0;for(;i<e.length;){let r=e[i];if(typeof r=="number"){if(r!==0)break;i++;let o=e[i++],s=e[i++],a=e[i++];n.setAttribute(t,s,a,o)}else{let o=r,s=e[++i];ZB(o)?n.setProperty(t,o,s):n.setAttribute(t,o,s),i++}}return i}function wI(n){return n===3||n===4||n===6}function ZB(n){return n.charCodeAt(0)===64}function Lc(n,t){if(!(t===null||t.length===0))if(n===null||n.length===0)n=t.slice();else{let e=-1;for(let i=0;i<t.length;i++){let r=t[i];typeof r=="number"?e=r:e===0||(e===-1||e===2?zx(n,e,r,null,t[++i]):zx(n,e,r,null,null))}}return n}function zx(n,t,e,i,r){let o=0,s=n.length;if(t===-1)s=-1;else for(;o<n.length;){let a=n[o++];if(typeof a=="number"){if(a===t){s=-1;break}else if(a>t){s=o-1;break}}}for(;o<n.length;){let a=n[o];if(typeof a=="number")break;if(a===e){r!==null&&(n[o+1]=r);return}o++,r!==null&&o++}s!==-1&&(n.splice(s,0,t),o=s+1),n.splice(o++,0,e),r!==null&&n.splice(o++,0,r)}function MI(n){return n!==Nc}function yh(n){return n&32767}function XB(n){return n>>16}function bh(n,t){let e=XB(n),i=t;for(;e>0;)i=i[aa],e--;return i}var Dy=!0;function Ch(n){let t=Dy;return Dy=n,t}var JB=256,EI=JB-1,PI=5,e6=0,Lr={};function t6(n,t,e){let i;typeof e=="string"?i=e.charCodeAt(0)||0:e.hasOwnProperty(sa)&&(i=e[sa]),i==null&&(i=e[sa]=e6++);let r=i&EI,o=1<<r;t.data[n+(r>>PI)]|=o}function wh(n,t){let e=OI(n,t);if(e!==-1)return e;let i=t[_e];i.firstCreatePass&&(n.injectorIndex=t.length,Cy(i.data,n),Cy(t,null),Cy(i.blueprint,null));let r=_b(n,t),o=n.injectorIndex;if(MI(r)){let s=yh(r),a=bh(r,t),c=a[_e].data;for(let l=0;l<8;l++)t[o+l]=a[s+l]|c[s+l]}return t[o+8]=r,o}function Cy(n,t){n.push(0,0,0,0,0,0,0,0,t)}function OI(n,t){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||t[n.injectorIndex+8]===null?-1:n.injectorIndex}function _b(n,t){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let e=0,i=null,r=t;for(;r!==null;){if(i=DI(r),i===null)return Nc;if(e++,r=r[aa],i.injectorIndex!==-1)return i.injectorIndex|e<<16}return Nc}function Ay(n,t,e){t6(n,t,e)}function n6(n,t){if(t==="class")return n.classes;if(t==="style")return n.styles;let e=n.attrs;if(e){let i=e.length,r=0;for(;r<i;){let o=e[r];if(wI(o))break;if(o===0)r=r+2;else if(typeof o=="number")for(r++;r<i&&typeof e[r]=="string";)r++;else{if(o===t)return e[r+1];r=r+2}}}return null}function xI(n,t,e){if(e&8||n!==void 0)return n;Hp(t,"NodeInjector")}function II(n,t,e,i){if(e&8&&i===void 0&&(i=null),(e&3)===0){let r=n[_o],o=Bn(void 0);try{return r?r.get(t,i,e&8):Nv(t,i,e&8)}finally{Bn(o)}}return xI(i,t,e)}function SI(n,t,e,i=0,r){if(n!==null){if(t[Pe]&2048&&!(i&2)){let s=s6(n,t,e,i,Lr);if(s!==Lr)return s}let o=TI(n,t,e,i,Lr);if(o!==Lr)return o}return II(t,e,i,r)}function TI(n,t,e,i,r){let o=r6(e);if(typeof o=="function"){if(!fy(t,n,i))return i&1?xI(r,e,i):II(t,e,i,r);try{let s;if(s=o(i),s==null&&!(i&8))Hp(e);else return s}finally{py()}}else if(typeof o=="number"){let s=null,a=OI(n,t),c=Nc,l=i&1?t[ui][Oi]:null;for((a===-1||i&4)&&(c=a===-1?_b(n,t):t[a+8],c===Nc||!jx(i,!1)?a=-1:(s=t[_e],a=yh(c),t=bh(c,t)));a!==-1;){let m=t[_e];if(Vx(o,a,m.data)){let g=i6(a,t,e,s,i,l);if(g!==Lr)return g}c=t[a+8],c!==Nc&&jx(i,t[_e].data[a+8]===l)&&Vx(o,a,t)?(s=m,a=yh(c),t=bh(c,t)):a=-1}}return r}function i6(n,t,e,i,r,o){let s=t[_e],a=s.data[n+8],c=i==null?as(a)&&Dy:i!=s&&(a.type&3)!==0,l=r&1&&o===a,m=mh(a,s,e,c,l);return m!==null?Ed(t,s,m,a,r):Lr}function mh(n,t,e,i,r){let o=n.providerIndexes,s=t.data,a=o&1048575,c=n.directiveStart,l=n.directiveEnd,m=o>>20,g=i?a:a+m,C=r?a+m:l;for(let E=g;E<C;E++){let S=s[E];if(E<c&&e===S||E>=c&&S.type===e)return E}if(r){let E=s[c];if(E&&kr(E)&&E.type===e)return c}return null}function Ed(n,t,e,i,r){let o=n[e],s=t.data;if(o instanceof ha){let a=o;if(a.resolving){let E=XO(s[e]);throw Rv(E)}let c=Ch(a.canSeeViewProviders);a.resolving=!0;let l=s[e].type||s[e],m,g=a.injectImpl?Bn(a.injectImpl):null,C=fy(n,i,0);try{o=n[e]=a.factory(void 0,r,s,n,i),t.firstCreatePass&&e>=i.directiveStart&&WB(e,s[e],t)}finally{g!==null&&Bn(g),Ch(c),a.resolving=!1,py()}}return o}function r6(n){if(typeof n=="string")return n.charCodeAt(0)||0;let t=n.hasOwnProperty(sa)?n[sa]:void 0;return typeof t=="number"?t>=0?t&EI:o6:t}function Vx(n,t,e){let i=1<<n;return!!(e[t+(n>>PI)]&i)}function jx(n,t){return!(n&2)&&!(n&1&&t)}var pa=class{_tNode;_lView;constructor(t,e){this._tNode=t,this._lView=e}get(t,e,i){return SI(this._tNode,this._lView,t,ia(i),e)}};function o6(){return new pa(sn(),Me())}function Cn(n){return zc(()=>{let t=n.prototype.constructor,e=t[ld]||ky(t),i=Object.prototype,r=Object.getPrototypeOf(n.prototype).constructor;for(;r&&r!==i;){let o=r[ld]||ky(r);if(o&&o!==e)return o;r=Object.getPrototypeOf(r)}return o=>new o})}function ky(n){return xv(n)?()=>{let t=ky(vn(n));return t&&t()}:es(n)}function s6(n,t,e,i,r){let o=n,s=t;for(;o!==null&&s!==null&&s[Pe]&2048&&!Sc(s);){let a=TI(o,s,e,i|2,Lr);if(a!==Lr)return a;let c=o.parent;if(!c){let l=s[qv];if(l){let m=l.get(e,Lr,i);if(m!==Lr)return m}c=DI(s),s=s[aa]}o=c}return r}function DI(n){let t=n[_e],e=t.type;return e===2?t.declTNode:e===1?n[Oi]:null}function Td(n){return n6(sn(),n)}function a6(){return Vc(sn(),Me())}function Vc(n,t){return new cn(er(n,t))}var cn=(()=>{class n{nativeElement;constructor(e){this.nativeElement=e}static __NG_ELEMENT_ID__=a6}return n})();function c6(n){return n instanceof cn?n.nativeElement:n}function l6(){return this._results[Symbol.iterator]()}var Mh=class{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new le}constructor(t=!1){this._emitDistinctChangesOnly=t}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,e){this.dirty=!1;let i=rx(t);(this._changesDetected=!ix(this._results,i,e))&&(this._results=i,this.length=i.length,this.last=i[this.length-1],this.first=i[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(t){this._onDirty=t}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=l6};function AI(n){return(n.flags&128)===128}var vb=(function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n})(vb||{}),kI=new Map,d6=0;function u6(){return d6++}function f6(n){kI.set(n[gd],n)}function Ry(n){kI.delete(n[gd])}var Ux="__ngContext__";function Fc(n,t){Ar(t)?(n[Ux]=t[gd],f6(t)):n[Ux]=t}function RI(n){return LI(n[Ic])}function NI(n){return LI(n[Pi])}function LI(n){for(;n!==null&&!Ji(n);)n=n[Pi];return n}var Ny;function yb(n){Ny=n}function FI(){if(Ny!==void 0)return Ny;if(typeof document<"u")return document;throw new j(210,!1)}var Bh=new Z("",{providedIn:"root",factory:()=>p6}),p6="ng",zh=new Z(""),ya=new Z("",{providedIn:"platform",factory:()=>"unknown"});var Vh=new Z(""),jh=new Z("",{providedIn:"root",factory:()=>FI().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var h6="h",g6="b";var BI="r";var zI="di";var VI=!1,jI=new Z("",{providedIn:"root",factory:()=>VI});var Uh=new Z("");var m6=(n,t,e,i)=>{};function _6(n,t,e,i){m6(n,t,e,i)}function bb(n){return(n.flags&32)===32}var v6=()=>null;function UI(n,t,e=!1){return v6(n,t,e)}function $I(n,t){let e=n.contentQueries;if(e!==null){let i=Ee(null);try{for(let r=0;r<e.length;r+=2){let o=e[r],s=e[r+1];if(s!==-1){let a=n.data[s];eh(o),a.contentQueries(2,t[s],s)}}}finally{Ee(i)}}}function Ly(n,t,e){eh(0);let i=Ee(null);try{t(n,e)}finally{Ee(i)}}function HI(n,t,e){if(Gv(t)){let i=Ee(null);try{let r=t.directiveStart,o=t.directiveEnd;for(let s=r;s<o;s++){let a=n.data[s];if(a.contentQueries){let c=e[s];a.contentQueries(1,c,s)}}}finally{Ee(i)}}}var yo=(function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n})(yo||{});var dh;function y6(){if(dh===void 0&&(dh=null,ns.trustedTypes))try{dh=ns.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return dh}function $h(n){return y6()?.createHTML(n)||n}var uh;function b6(){if(uh===void 0&&(uh=null,ns.trustedTypes))try{uh=ns.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return uh}function $x(n){return b6()?.createScriptURL(n)||n}var bo=class{changingThisBreaksApplicationSecurity;constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${jp})`}},Fy=class extends bo{getTypeName(){return"HTML"}},By=class extends bo{getTypeName(){return"Style"}},zy=class extends bo{getTypeName(){return"Script"}},Vy=class extends bo{getTypeName(){return"URL"}},jy=class extends bo{getTypeName(){return"ResourceURL"}};function Di(n){return n instanceof bo?n.changingThisBreaksApplicationSecurity:n}function wo(n,t){let e=qI(n);if(e!=null&&e!==t){if(e==="ResourceURL"&&t==="URL")return!0;throw new Error(`Required a safe ${t}, got a ${e} (see ${jp})`)}return e===t}function qI(n){return n instanceof bo&&n.getTypeName()||null}function Cb(n){return new Fy(n)}function wb(n){return new By(n)}function Mb(n){return new zy(n)}function Eb(n){return new Vy(n)}function Pb(n){return new jy(n)}function C6(n){let t=new $y(n);return w6()?new Uy(t):t}var Uy=class{inertDocumentHelper;constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{let e=new window.DOMParser().parseFromString($h(t),"text/html").body;return e===null?this.inertDocumentHelper.getInertBodyElement(t):(e.firstChild?.remove(),e)}catch{return null}}},$y=class{defaultDoc;inertDocument;constructor(t){this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(t){let e=this.inertDocument.createElement("template");return e.innerHTML=$h(t),e}};function w6(){try{return!!new window.DOMParser().parseFromString($h(""),"text/html")}catch{return!1}}var M6=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Dd(n){return n=String(n),n.match(M6)?n:"unsafe:"+n}function Mo(n){let t={};for(let e of n.split(","))t[e]=!0;return t}function Ad(...n){let t={};for(let e of n)for(let i in e)e.hasOwnProperty(i)&&(t[i]=!0);return t}var WI=Mo("area,br,col,hr,img,wbr"),GI=Mo("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),KI=Mo("rp,rt"),E6=Ad(KI,GI),P6=Ad(GI,Mo("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),O6=Ad(KI,Mo("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Hx=Ad(WI,P6,O6,E6),QI=Mo("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),x6=Mo("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),I6=Mo("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),S6=Ad(QI,x6,I6),T6=Mo("script,style,template"),Hy=class{sanitizedSomething=!1;buf=[];sanitizeChildren(t){let e=t.firstChild,i=!0,r=[];for(;e;){if(e.nodeType===Node.ELEMENT_NODE?i=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,i&&e.firstChild){r.push(e),e=k6(e);continue}for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let o=A6(e);if(o){e=o;break}e=r.pop()}}return this.buf.join("")}startElement(t){let e=qx(t).toLowerCase();if(!Hx.hasOwnProperty(e))return this.sanitizedSomething=!0,!T6.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);let i=t.attributes;for(let r=0;r<i.length;r++){let o=i.item(r),s=o.name,a=s.toLowerCase();if(!S6.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let c=o.value;QI[a]&&(c=Dd(c)),this.buf.push(" ",s,'="',Wx(c),'"')}return this.buf.push(">"),!0}endElement(t){let e=qx(t).toLowerCase();Hx.hasOwnProperty(e)&&!WI.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(Wx(t))}};function D6(n,t){return(n.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}function A6(n){let t=n.nextSibling;if(t&&n!==t.previousSibling)throw YI(t);return t}function k6(n){let t=n.firstChild;if(t&&D6(n,t))throw YI(t);return t}function qx(n){let t=n.nodeName;return typeof t=="string"?t:"FORM"}function YI(n){return new Error(`Failed to sanitize html because the element is clobbered: ${n.outerHTML}`)}var R6=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,N6=/([^\#-~ |!])/g;function Wx(n){return n.replace(/&/g,"&amp;").replace(R6,function(t){let e=t.charCodeAt(0),i=t.charCodeAt(1);return"&#"+((e-55296)*1024+(i-56320)+65536)+";"}).replace(N6,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var fh;function Ob(n,t){let e=null;try{fh=fh||C6(n);let i=t?String(t):"";e=fh.getInertBodyElement(i);let r=5,o=i;do{if(r===0)throw new Error("Failed to sanitize html because the input is unstable");r--,i=o,o=e.innerHTML,e=fh.getInertBodyElement(i)}while(i!==o);let a=new Hy().sanitizeChildren(Gx(e)||e);return $h(a)}finally{if(e){let i=Gx(e)||e;for(;i.firstChild;)i.firstChild.remove()}}}function Gx(n){return"content"in n&&L6(n)?n.content:null}function L6(n){return n.nodeType===Node.ELEMENT_NODE&&n.nodeName==="TEMPLATE"}function F6(n,t){return n.createText(t)}function B6(n,t,e){n.setValue(t,e)}function ZI(n,t,e){return n.createElement(t,e)}function Eh(n,t,e,i,r){n.insertBefore(t,e,i,r)}function XI(n,t,e){n.appendChild(t,e)}function Kx(n,t,e,i,r){i!==null?Eh(n,t,e,i,r):XI(n,t,e)}function JI(n,t,e,i){n.removeChild(null,t,e,i)}function z6(n,t,e){n.setAttribute(t,"style",e)}function V6(n,t,e){e===""?n.removeAttribute(t,"class"):n.setAttribute(t,"class",e)}function eS(n,t,e){let{mergedAttrs:i,classes:r,styles:o}=e;i!==null&&YB(n,t,i),r!==null&&V6(n,t,r),o!==null&&z6(n,t,o)}var ir=(function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n})(ir||{});function it(n){let t=tS();return t?t.sanitize(ir.URL,n)||"":wo(n,"URL")?Di(n):Dd(is(n))}function kd(n){let t=tS();if(t)return $x(t.sanitize(ir.RESOURCE_URL,n)||"");if(wo(n,"ResourceURL"))return $x(Di(n));throw new j(904,!1)}function j6(n,t){return t==="src"&&(n==="embed"||n==="frame"||n==="iframe"||n==="media"||n==="script")||t==="href"&&(n==="base"||n==="link")?kd:it}function xb(n,t,e){return j6(t,e)(n)}function tS(){let n=Me();return n&&n[Tr].sanitizer}function Rd(n){return n.ownerDocument.defaultView}function Ib(n){return n.ownerDocument}function nS(n){return n instanceof Function?n():n}function U6(n,t,e){let i=n.length;for(;;){let r=n.indexOf(t,e);if(r===-1)return r;if(r===0||n.charCodeAt(r-1)<=32){let o=t.length;if(r+o===i||n.charCodeAt(r+o)<=32)return r}e=r+1}}var iS="ng-template";function $6(n,t,e,i){let r=0;if(i){for(;r<t.length&&typeof t[r]=="string";r+=2)if(t[r]==="class"&&U6(t[r+1].toLowerCase(),e,0)!==-1)return!0}else if(Sb(n))return!1;if(r=t.indexOf(1,r),r>-1){let o;for(;++r<t.length&&typeof(o=t[r])=="string";)if(o.toLowerCase()===e)return!0}return!1}function Sb(n){return n.type===4&&n.value!==iS}function H6(n,t,e){let i=n.type===4&&!e?iS:n.value;return t===i}function q6(n,t,e){let i=4,r=n.attrs,o=r!==null?K6(r):0,s=!1;for(let a=0;a<t.length;a++){let c=t[a];if(typeof c=="number"){if(!s&&!tr(i)&&!tr(c))return!1;if(s&&tr(c))continue;s=!1,i=c|i&1;continue}if(!s)if(i&4){if(i=2|i&1,c!==""&&!H6(n,c,e)||c===""&&t.length===1){if(tr(i))return!1;s=!0}}else if(i&8){if(r===null||!$6(n,r,c,e)){if(tr(i))return!1;s=!0}}else{let l=t[++a],m=W6(c,r,Sb(n),e);if(m===-1){if(tr(i))return!1;s=!0;continue}if(l!==""){let g;if(m>o?g="":g=r[m+1].toLowerCase(),i&2&&l!==g){if(tr(i))return!1;s=!0}}}}return tr(i)||s}function tr(n){return(n&1)===0}function W6(n,t,e,i){if(t===null)return-1;let r=0;if(i||!e){let o=!1;for(;r<t.length;){let s=t[r];if(s===n)return r;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=t[++r];for(;typeof a=="string";)a=t[++r];continue}else{if(s===4)break;if(s===0){r+=4;continue}}r+=o?1:2}return-1}else return Q6(t,n)}function G6(n,t,e=!1){for(let i=0;i<t.length;i++)if(q6(n,t[i],e))return!0;return!1}function K6(n){for(let t=0;t<n.length;t++){let e=n[t];if(wI(e))return t}return n.length}function Q6(n,t){let e=n.indexOf(4);if(e>-1)for(e++;e<n.length;){let i=n[e];if(typeof i=="number")return-1;if(i===t)return e;e++}return-1}function Qx(n,t){return n?":not("+t.trim()+")":t}function Y6(n){let t=n[0],e=1,i=2,r="",o=!1;for(;e<n.length;){let s=n[e];if(typeof s=="string")if(i&2){let a=n[++e];r+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else i&8?r+="."+s:i&4&&(r+=" "+s);else r!==""&&!tr(s)&&(t+=Qx(o,r),r=""),i=s,o=o||!tr(i);e++}return r!==""&&(t+=Qx(o,r)),t}function Z6(n){return n.map(Y6).join(",")}function X6(n){let t=[],e=[],i=1,r=2;for(;i<n.length;){let o=n[i];if(typeof o=="string")r===2?o!==""&&t.push(o,n[++i]):r===8&&e.push(o);else{if(!tr(r))break;r=o}i++}return e.length&&t.push(1,...e),t}var kn={};function Tb(n,t,e,i,r,o,s,a,c,l,m){let g=Ut+i,C=g+r,E=J6(g,C),S=typeof l=="function"?l():l;return E[_e]={type:n,blueprint:E,template:e,queries:null,viewQuery:a,declTNode:t,data:E.slice().fill(null,g),bindingStartIndex:g,expandoStartIndex:C,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:c,consts:S,incompleteFirstPass:!1,ssrId:m}}function J6(n,t){let e=[];for(let i=0;i<t;i++)e.push(i<n?null:kn);return e}function e5(n){let t=n.tView;return t===null||t.incompleteFirstPass?n.tView=Tb(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):t}function Db(n,t,e,i,r,o,s,a,c,l,m){let g=t.blueprint.slice();return g[Xi]=r,g[Pe]=i|4|128|8|64|1024,(l!==null||n&&n[Pe]&2048)&&(g[Pe]|=2048),Xv(g),g[Yt]=g[aa]=n,g[jt]=e,g[Tr]=s||n&&n[Tr],g[yt]=a||n&&n[yt],g[_o]=c||n&&n[_o]||null,g[Oi]=o,g[gd]=u6(),g[Oc]=m,g[qv]=l,g[ui]=t.type==2?n[ui]:g,g}function t5(n,t,e){let i=er(t,n),r=e5(e),o=n[Tr].rendererFactory,s=Ab(n,Db(n,r,null,rS(e),i,t,null,o.createRenderer(i,e),null,null,null));return n[t.index]=s}function rS(n){let t=16;return n.signals?t=4096:n.onPush&&(t=64),t}function oS(n,t,e,i){if(e===0)return-1;let r=t.length;for(let o=0;o<e;o++)t.push(i),n.blueprint.push(i),n.data.push(null);return r}function Ab(n,t){return n[Ic]?n[Hv][Pi]=t:n[Ic]=t,n[Hv]=t,t}function d(n=1){sS(Ht(),Me(),Rr()+n,!1)}function sS(n,t,e,i){if(!i)if((t[Pe]&3)===3){let o=n.preOrderCheckHooks;o!==null&&hh(t,o,e)}else{let o=n.preOrderHooks;o!==null&&gh(t,o,0,e)}ls(e)}var Hh=(function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n})(Hh||{});function qy(n,t,e,i){let r=Ee(null);try{let[o,s,a]=n.inputs[e],c=null;(s&Hh.SignalBased)!==0&&(c=t[o][Dn]),c!==null&&c.transformFn!==void 0?i=c.transformFn(i):a!==null&&(i=a.call(t,i)),n.setInput!==null?n.setInput(t,c,i,e,o):mI(t,c,o,i)}finally{Ee(r)}}var Fr=(function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n})(Fr||{}),n5;function kb(n,t){return n5(n,t)}var ga=new Set,qh=(function(n){return n[n.CHANGE_DETECTION=0]="CHANGE_DETECTION",n[n.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",n})(qh||{}),ba=new Z(""),Yx=new Set;function hi(n){Yx.has(n)||(Yx.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}var aS=!1,Wy=class extends le{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(t=!1){super(),this.__isAsync=t,dx()&&(this.destroyRef=N(Ti,{optional:!0})??void 0,this.pendingTasks=N(Nr,{optional:!0})??void 0)}emit(t){let e=Ee(null);try{super.next(t)}finally{Ee(e)}}subscribe(t,e,i){let r=t,o=e||(()=>null),s=i;if(t&&typeof t=="object"){let c=t;r=c.next?.bind(c),o=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(o=this.wrapInTimeout(o),r&&(r=this.wrapInTimeout(r)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:r,error:o,complete:s});return t instanceof It&&t.add(a),a}wrapInTimeout(t){return e=>{let i=this.pendingTasks?.add();setTimeout(()=>{try{t(e)}finally{i!==void 0&&this.pendingTasks?.remove(i)}})}}},qe=Wy;function cS(n){let t,e;function i(){n=Cd;try{e!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(e),t!==void 0&&clearTimeout(t)}catch{}}return t=setTimeout(()=>{n(),i()}),typeof requestAnimationFrame=="function"&&(e=requestAnimationFrame(()=>{n(),i()})),()=>i()}function Zx(n){return queueMicrotask(()=>n()),()=>{n=Cd}}var Rb="isAngularZone",Ph=Rb+"_ID",i5=0,ze=class n{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new qe(!1);onMicrotaskEmpty=new qe(!1);onStable=new qe(!1);onError=new qe(!1);constructor(t){let{enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:i=!1,shouldCoalesceRunChangeDetection:r=!1,scheduleInRootZone:o=aS}=t;if(typeof Zone>"u")throw new j(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!r&&i,s.shouldCoalesceRunChangeDetection=r,s.callbackScheduled=!1,s.scheduleInRootZone=o,s5(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(Rb)===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new j(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new j(909,!1)}run(t,e,i){return this._inner.run(t,e,i)}runTask(t,e,i,r){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+r,t,r5,Cd,Cd);try{return o.runTask(s,e,i)}finally{o.cancelTask(s)}}runGuarded(t,e,i){return this._inner.runGuarded(t,e,i)}runOutsideAngular(t){return this._outer.run(t)}},r5={};function Nb(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function o5(n){if(n.isCheckStableRunning||n.callbackScheduled)return;n.callbackScheduled=!0;function t(){cS(()=>{n.callbackScheduled=!1,Gy(n),n.isCheckStableRunning=!0,Nb(n),n.isCheckStableRunning=!1})}n.scheduleInRootZone?Zone.root.run(()=>{t()}):n._outer.run(()=>{t()}),Gy(n)}function s5(n){let t=()=>{o5(n)},e=i5++;n._inner=n._inner.fork({name:"angular",properties:{[Rb]:!0,[Ph]:e,[Ph+e]:!0},onInvokeTask:(i,r,o,s,a,c)=>{if(a5(c))return i.invokeTask(o,s,a,c);try{return Xx(n),i.invokeTask(o,s,a,c)}finally{(n.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&t(),Jx(n)}},onInvoke:(i,r,o,s,a,c,l)=>{try{return Xx(n),i.invoke(o,s,a,c,l)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!c5(c)&&t(),Jx(n)}},onHasTask:(i,r,o,s)=>{i.hasTask(o,s),r===o&&(s.change=="microTask"?(n._hasPendingMicrotasks=s.microTask,Gy(n),Nb(n)):s.change=="macroTask"&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(i,r,o,s)=>(i.handleError(o,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}function Gy(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.callbackScheduled===!0?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function Xx(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function Jx(n){n._nesting--,Nb(n)}var Oh=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new qe;onMicrotaskEmpty=new qe;onStable=new qe;onError=new qe;run(t,e,i){return t.apply(e,i)}runGuarded(t,e,i){return t.apply(e,i)}runOutsideAngular(t){return t()}runTask(t,e,i,r){return t.apply(e,i)}};function a5(n){return lS(n,"__ignore_ng_zone__")}function c5(n){return lS(n,"__scheduler_tick__")}function lS(n,t){return!Array.isArray(n)||n.length!==1?!1:n[0]?.data?.[t]===!0}var Lb=(()=>{class n{impl=null;execute(){this.impl?.execute()}static \u0275prov=q({token:n,providedIn:"root",factory:()=>new n})}return n})(),dS=[0,1,2,3],uS=(()=>{class n{ngZone=N(ze);scheduler=N(ho);errorHandler=N(Zi,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){N(ba,{optional:!0})}execute(){let e=this.sequences.size>0;e&&nt(16),this.executing=!0;for(let i of dS)for(let r of this.sequences)if(!(r.erroredOrDestroyed||!r.hooks[i]))try{r.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>{let o=r.hooks[i];return o(r.pipelinedValue)},r.snapshot))}catch(o){r.erroredOrDestroyed=!0,this.errorHandler?.handleError(o)}this.executing=!1;for(let i of this.sequences)i.afterRun(),i.once&&(this.sequences.delete(i),i.destroy());for(let i of this.deferredRegistrations)this.sequences.add(i);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),e&&nt(17)}register(e){let{view:i}=e;i!==void 0?((i[la]??=[]).push(e),Tc(i),i[Pe]|=8192):this.executing?this.deferredRegistrations.add(e):this.addSequence(e)}addSequence(e){this.sequences.add(e),this.scheduler.notify(7)}unregister(e){this.executing&&this.sequences.has(e)?(e.erroredOrDestroyed=!0,e.pipelinedValue=void 0,e.once=!0):(this.sequences.delete(e),this.deferredRegistrations.delete(e))}maybeTrace(e,i){return i?i.run(qh.AFTER_NEXT_RENDER,e):e()}static \u0275prov=q({token:n,providedIn:"root",factory:()=>new n})}return n})(),xh=class{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(t,e,i,r,o,s=null){this.impl=t,this.hooks=e,this.view=i,this.once=r,this.snapshot=s,this.unregisterOnDestroy=o?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();let t=this.view?.[la];t&&(this.view[la]=t.filter(e=>e!==this))}};function Nd(n,t){let e=t?.injector??N(De);return hi("NgAfterNextRender"),d5(n,e,t,!0)}function l5(n){return n instanceof Function?[void 0,void 0,n,void 0]:[n.earlyRead,n.write,n.mixedReadWrite,n.read]}function d5(n,t,e,i){let r=t.get(Lb);r.impl??=t.get(uS);let o=t.get(ba,null,{optional:!0}),s=e?.manualCleanup!==!0?t.get(Ti):null,a=t.get(ch,null,{optional:!0}),c=new xh(r.impl,l5(n),a?.view,i,s,o?.snapshot(null));return r.impl.register(c),c}var fS=new Z("",{providedIn:"root",factory:()=>({queue:new Set,isScheduled:!1,scheduler:null})});function pS(n,t,e){let i=n.get(fS);if(Array.isArray(t))for(let r of t)i.queue.add(r),e?.detachedLeaveAnimationFns?.push(r);else i.queue.add(t),e?.detachedLeaveAnimationFns?.push(t);i.scheduler&&i.scheduler(n)}function u5(n,t){let e=n.get(fS);if(t.detachedLeaveAnimationFns){for(let i of t.detachedLeaveAnimationFns)e.queue.delete(i);t.detachedLeaveAnimationFns=void 0}}function f5(n,t){for(let[e,i]of t)pS(n,i.animateFns)}function eI(n,t,e,i){let r=n?.[da]?.enter;t!==null&&r&&r.has(e.index)&&f5(i,r)}function Rc(n,t,e,i,r,o,s,a){if(r!=null){let c,l=!1;Ji(r)?c=r:Ar(r)&&(l=!0,r=r[Xi]);let m=xi(r);n===0&&i!==null?(eI(a,i,o,e),s==null?XI(t,i,m):Eh(t,i,m,s||null,!0)):n===1&&i!==null?(eI(a,i,o,e),Eh(t,i,m,s||null,!0)):n===2?tI(a,o,e,g=>{JI(t,m,l,g)}):n===3&&tI(a,o,e,()=>{t.destroyNode(m)}),c!=null&&P5(t,n,e,c,o,i,s)}}function p5(n,t){hS(n,t),t[Xi]=null,t[Oi]=null}function h5(n,t,e,i,r,o){i[Xi]=r,i[Oi]=t,Gh(n,i,e,1,r,o)}function hS(n,t){t[Tr].changeDetectionScheduler?.notify(9),Gh(n,t,t[yt],2,null,null)}function g5(n){let t=n[Ic];if(!t)return wy(n[_e],n);for(;t;){let e=null;if(Ar(t))e=t[Ic];else{let i=t[St];i&&(e=i)}if(!e){for(;t&&!t[Pi]&&t!==n;)Ar(t)&&wy(t[_e],t),t=t[Yt];t===null&&(t=n),Ar(t)&&wy(t[_e],t),e=t&&t[Pi]}t=e}}function Fb(n,t){let e=n[ua],i=e.indexOf(t);e.splice(i,1)}function Wh(n,t){if(fa(t))return;let e=t[yt];e.destroyNode&&Gh(n,t,e,3,null,null),g5(t)}function wy(n,t){if(fa(t))return;let e=Ee(null);try{t[Pe]&=-129,t[Pe]|=256,t[fi]&&nd(t[fi]),v5(n,t),_5(n,t),t[_e].type===1&&t[yt].destroy();let i=t[os];if(i!==null&&Ji(t[Yt])){i!==t[Yt]&&Fb(i,t);let r=t[Dr];r!==null&&r.detachView(n)}Ry(t)}finally{Ee(e)}}function tI(n,t,e,i){let r=n?.[da];if(r==null||r.leave==null||!r.leave.has(t.index))return i(!1);n&&ga.add(n),pS(e,()=>{if(r.leave&&r.leave.has(t.index)){let s=r.leave.get(t.index),a=[];if(s){for(let c=0;c<s.animateFns.length;c++){let l=s.animateFns[c],{promise:m}=l();a.push(m)}r.detachedLeaveAnimationFns=void 0}r.running=Promise.allSettled(a),m5(n,i)}else n&&ga.delete(n),i(!1)},r)}function m5(n,t){let e=n[da]?.running;if(e){e.then(()=>{n[da].running=void 0,ga.delete(n),t(!0)});return}t(!1)}function _5(n,t){let e=n.cleanup,i=t[xc];if(e!==null)for(let s=0;s<e.length-1;s+=2)if(typeof e[s]=="string"){let a=e[s+3];a>=0?i[a]():i[-a].unsubscribe(),s+=2}else{let a=i[e[s+1]];e[s].call(a)}i!==null&&(t[xc]=null);let r=t[uo];if(r!==null){t[uo]=null;for(let s=0;s<r.length;s++){let a=r[s];a()}}let o=t[md];if(o!==null){t[md]=null;for(let s of o)s.destroy()}}function v5(n,t){let e;if(n!=null&&(e=n.destroyHooks)!=null)for(let i=0;i<e.length;i+=2){let r=t[e[i]];if(!(r instanceof ha)){let o=e[i+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=r[o[s]],c=o[s+1];nt(4,a,c);try{c.call(a)}finally{nt(5,a,c)}}else{nt(4,r,o);try{o.call(r)}finally{nt(5,r,o)}}}}}function y5(n,t,e){return b5(n,t.parent,e)}function b5(n,t,e){let i=t;for(;i!==null&&i.type&168;)t=i,i=t.parent;if(i===null)return e[Xi];if(as(i)){let{encapsulation:r}=n.data[i.directiveStart+i.componentOffset];if(r===yo.None||r===yo.Emulated)return null}return er(i,e)}function C5(n,t,e){return M5(n,t,e)}function w5(n,t,e){return n.type&40?er(n,e):null}var M5=w5,nI;function Bb(n,t,e,i){let r=y5(n,i,t),o=t[yt],s=i.parent||t[Oi],a=C5(s,i,t);if(r!=null)if(Array.isArray(e))for(let c=0;c<e.length;c++)Kx(o,r,e[c],a,!1);else Kx(o,r,e,a,!1);nI!==void 0&&nI(o,i,t,e,r)}function wd(n,t){if(t!==null){let e=t.type;if(e&3)return er(t,n);if(e&4)return Ky(-1,n[t.index]);if(e&8){let i=t.child;if(i!==null)return wd(n,i);{let r=n[t.index];return Ji(r)?Ky(-1,r):xi(r)}}else{if(e&128)return wd(n,t.next);if(e&32)return kb(t,n)()||xi(n[t.index]);{let i=gS(n,t);if(i!==null){if(Array.isArray(i))return i[0];let r=ts(n[ui]);return wd(r,i)}else return wd(n,t.next)}}}return null}function gS(n,t){if(t!==null){let i=n[ui][Oi],r=t.projection;return i.projection[r]}return null}function Ky(n,t){let e=St+n+1;if(e<t.length){let i=t[e],r=i[_e].firstChild;if(r!==null)return wd(i,r)}return t[ss]}function zb(n,t,e,i,r,o,s){for(;e!=null;){let a=i[_o];if(e.type===128){e=e.next;continue}let c=i[e.index],l=e.type;if(s&&t===0&&(c&&Fc(xi(c),i),e.flags|=2),!bb(e))if(l&8)zb(n,t,e.child,i,r,o,!1),Rc(t,n,a,r,c,e,o,i);else if(l&32){let m=kb(e,i),g;for(;g=m();)Rc(t,n,a,r,g,e,o,i);Rc(t,n,a,r,c,e,o,i)}else l&16?E5(n,t,i,e,r,o):Rc(t,n,a,r,c,e,o,i);e=s?e.projectionNext:e.next}}function Gh(n,t,e,i,r,o){zb(e,i,n.firstChild,t,r,o,!1)}function E5(n,t,e,i,r,o){let s=e[ui],c=s[Oi].projection[i.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++){let m=c[l];Rc(t,n,e[_o],r,m,i,o,e)}else{let l=c,m=s[Yt];AI(i)&&(l.flags|=128),zb(n,t,l,m,r,o,!0)}}function P5(n,t,e,i,r,o,s){let a=i[ss],c=xi(i);a!==c&&Rc(t,n,e,o,a,r,s);for(let l=St;l<i.length;l++){let m=i[l];Gh(m[_e],m,n,t,o,a)}}function O5(n,t,e,i,r){if(t)r?n.addClass(e,i):n.removeClass(e,i);else{let o=i.indexOf("-")===-1?void 0:Fr.DashCase;r==null?n.removeStyle(e,i,o):(typeof r=="string"&&r.endsWith("!important")&&(r=r.slice(0,-10),o|=Fr.Important),n.setStyle(e,i,r,o))}}function mS(n,t,e,i,r){let o=Rr(),s=i&2;try{ls(-1),s&&t.length>Ut&&sS(n,t,Ut,!1),nt(s?2:0,r,e),e(i,r)}finally{ls(o),nt(s?3:1,r,e)}}function Vb(n,t,e){k5(n,t,e),(e.flags&64)===64&&R5(n,t,e)}function Kh(n,t,e=er){let i=t.localNames;if(i!==null){let r=t.index+1;for(let o=0;o<i.length;o+=2){let s=i[o+1],a=s===-1?e(t,n):n[s];n[r++]=a}}}function x5(n,t,e,i){let o=i.get(jI,VI)||e===yo.ShadowDom,s=n.selectRootElement(t,o);return I5(s),s}function I5(n){S5(n)}var S5=()=>null;function T5(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function _S(n,t,e,i,r,o){let s=t[_e];if(jb(n,s,t,e,i)){as(n)&&A5(t,n.index);return}n.type&3&&(e=T5(e)),D5(n,t,e,i,r,o)}function D5(n,t,e,i,r,o){if(n.type&3){let s=er(n,t);i=o!=null?o(i,n.value||"",e):i,r.setProperty(s,e,i)}else n.type&12}function A5(n,t){let e=Ii(t,n);e[Pe]&16||(e[Pe]|=64)}function k5(n,t,e){let i=e.directiveStart,r=e.directiveEnd;as(e)&&t5(t,e,n.data[i+e.componentOffset]),n.firstCreatePass||wh(e,t);let o=e.initialInputs;for(let s=i;s<r;s++){let a=n.data[s],c=Ed(t,n,s,e);if(Fc(c,t),o!==null&&B5(t,s-i,c,a,e,o),kr(a)){let l=Ii(e.index,t);l[jt]=Ed(t,n,s,e)}}}function R5(n,t,e){let i=e.directiveStart,r=e.directiveEnd,o=e.index,s=xx();try{ls(o);for(let a=i;a<r;a++){let c=n.data[a],l=t[a];Jp(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&N5(c,l)}}finally{ls(-1),Jp(s)}}function N5(n,t){n.hostBindings!==null&&n.hostBindings(1,t)}function vS(n,t){let e=n.directiveRegistry,i=null;if(e)for(let r=0;r<e.length;r++){let o=e[r];G6(t,o.selectors,!1)&&(i??=[],kr(o)?i.unshift(o):i.push(o))}return i}function L5(n,t,e,i,r,o){let s=er(n,t);F5(t[yt],s,o,n.value,e,i,r)}function F5(n,t,e,i,r,o,s){if(o==null)n.removeAttribute(t,r,e);else{let a=s==null?is(o):s(o,i||"",r);n.setAttribute(t,r,a,e)}}function B5(n,t,e,i,r,o){let s=o[t];if(s!==null)for(let a=0;a<s.length;a+=2){let c=s[a],l=s[a+1];qy(i,e,c,l)}}function yS(n,t,e,i,r){let o=Ut+e,s=t[_e],a=r(s,t,n,i,e);t[o]=a,Dc(n,!0);let c=n.type===2;return c?(eS(t[yt],a,n),(vx()===0||vd(n))&&Fc(a,t),yx()):Fc(a,t),sh()&&(!c||!bb(n))&&Bb(s,t,a,n),n}function bS(n){let t=n;return cy()?wx():(t=t.parent,Dc(t,!1)),t}function z5(n,t){let e=n[_o];if(!e)return;let i;try{i=e.get(Xn,null)}catch{i=null}i?.(t)}function jb(n,t,e,i,r){let o=n.inputs?.[i],s=n.hostDirectiveInputs?.[i],a=!1;if(s)for(let c=0;c<s.length;c+=2){let l=s[c],m=s[c+1],g=t.data[l];qy(g,e[l],m,r),a=!0}if(o)for(let c of o){let l=e[c],m=t.data[c];qy(m,l,i,r),a=!0}return a}function V5(n,t){let e=Ii(t,n),i=e[_e];j5(i,e);let r=e[Xi];r!==null&&e[Oc]===null&&(e[Oc]=UI(r,e[_o])),nt(18),Ub(i,e,e[jt]),nt(19,e[jt])}function j5(n,t){for(let e=t.length;e<n.blueprint.length;e++)t.push(n.blueprint[e])}function Ub(n,t,e){th(t);try{let i=n.viewQuery;i!==null&&Ly(1,i,e);let r=n.template;r!==null&&mS(n,t,r,1,e),n.firstCreatePass&&(n.firstCreatePass=!1),t[Dr]?.finishViewCreation(n),n.staticContentQueries&&$I(n,t),n.staticViewQueries&&Ly(2,n.viewQuery,e);let o=n.components;o!==null&&U5(t,o)}catch(i){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),i}finally{t[Pe]&=-5,nh()}}function U5(n,t){for(let e=0;e<t.length;e++)V5(n,t[e])}function Qh(n,t,e,i){let r=Ee(null);try{let o=t.tView,a=n[Pe]&4096?4096:16,c=Db(n,o,e,a,null,t,null,null,i?.injector??null,i?.embeddedViewInjector??null,i?.dehydratedView??null),l=n[t.index];c[os]=l;let m=n[Dr];return m!==null&&(c[Dr]=m.createEmbeddedView(o)),Ub(o,c,e),c}finally{Ee(r)}}function Pd(n,t){return!t||t.firstChild===null||AI(n)}function Od(n,t,e,i,r=!1){for(;e!==null;){if(e.type===128){e=r?e.projectionNext:e.next;continue}let o=t[e.index];o!==null&&i.push(xi(o)),Ji(o)&&CS(o,i);let s=e.type;if(s&8)Od(n,t,e.child,i);else if(s&32){let a=kb(e,t),c;for(;c=a();)i.push(c)}else if(s&16){let a=gS(t,e);if(Array.isArray(a))i.push(...a);else{let c=ts(t[ui]);Od(c[_e],c,a,i,!0)}}e=r?e.projectionNext:e.next}return i}function CS(n,t){for(let e=St;e<n.length;e++){let i=n[e],r=i[_e].firstChild;r!==null&&Od(i[_e],i,r,t)}n[ss]!==n[Xi]&&t.push(n[ss])}function wS(n){if(n[la]!==null){for(let t of n[la])t.impl.addSequence(t);n[la].length=0}}var MS=[];function $5(n){return n[fi]??H5(n)}function H5(n){let t=MS.pop()??Object.create(W5);return t.lView=n,t}function q5(n){n.lView[fi]!==n&&(n.lView=null,MS.push(n))}var W5=oe(B({},cc),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{Tc(n.lView)},consumerOnSignalRead(){this.lView[fi]=this}});function G5(n){let t=n[fi]??Object.create(K5);return t.lView=n,t}var K5=oe(B({},cc),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{let t=ts(n.lView);for(;t&&!ES(t[_e]);)t=ts(t);t&&Jv(t)},consumerOnSignalRead(){this.lView[fi]=this}});function ES(n){return n.type!==2}function PS(n){if(n[md]===null)return;let t=!0;for(;t;){let e=!1;for(let i of n[md])i.dirty&&(e=!0,i.zone===null||Zone.current===i.zone?i.run():i.zone.run(()=>i.run()));t=e&&!!(n[Pe]&8192)}}var Q5=100;function OS(n,t=0){let i=n[Tr].rendererFactory,r=!1;r||i.begin?.();try{Y5(n,t)}finally{r||i.end?.()}}function Y5(n,t){let e=ly();try{dy(!0),Qy(n,t);let i=0;for(;bd(n);){if(i===Q5)throw new j(103,!1);i++,Qy(n,1)}}finally{dy(e)}}function Z5(n,t,e,i){if(fa(t))return;let r=t[Pe],o=!1,s=!1;th(t);let a=!0,c=null,l=null;o||(ES(n)?(l=$5(t),c=dc(l)):ap()===null?(a=!1,l=G5(t),c=dc(l)):t[fi]&&(nd(t[fi]),t[fi]=null));try{Xv(t),Ex(n.bindingStartIndex),e!==null&&mS(n,t,e,2,i);let m=(r&3)===3;if(!o)if(m){let E=n.preOrderCheckHooks;E!==null&&hh(t,E,null)}else{let E=n.preOrderHooks;E!==null&&gh(t,E,0,null),by(t,0)}if(s||X5(t),PS(t),xS(t,0),n.contentQueries!==null&&$I(n,t),!o)if(m){let E=n.contentCheckHooks;E!==null&&hh(t,E)}else{let E=n.contentHooks;E!==null&&gh(t,E,1),by(t,1)}ez(n,t);let g=n.components;g!==null&&SS(t,g,0);let C=n.viewQuery;if(C!==null&&Ly(2,C,i),!o)if(m){let E=n.viewCheckHooks;E!==null&&hh(t,E)}else{let E=n.viewHooks;E!==null&&gh(t,E,2),by(t,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),t[Qp]){for(let E of t[Qp])E();t[Qp]=null}o||(wS(t),t[Pe]&=-73)}catch(m){throw o||Tc(t),m}finally{l!==null&&(ed(l,c),a&&q5(l)),nh()}}function xS(n,t){for(let e=RI(n);e!==null;e=NI(e))for(let i=St;i<e.length;i++){let r=e[i];IS(r,t)}}function X5(n){for(let t=RI(n);t!==null;t=NI(t)){if(!(t[Pe]&2))continue;let e=t[ua];for(let i=0;i<e.length;i++){let r=e[i];Jv(r)}}}function J5(n,t,e){nt(18);let i=Ii(t,n);IS(i,e),nt(19,i[jt])}function IS(n,t){Yp(n)&&Qy(n,t)}function Qy(n,t){let i=n[_e],r=n[Pe],o=n[fi],s=!!(t===0&&r&16);if(s||=!!(r&64&&t===0),s||=!!(r&1024),s||=!!(o?.dirty&&td(o)),s||=!1,o&&(o.dirty=!1),n[Pe]&=-9217,s)Z5(i,n,i.template,n[jt]);else if(r&8192){let a=Ee(null);try{PS(n),xS(n,1);let c=i.components;c!==null&&SS(n,c,1),wS(n)}finally{Ee(a)}}}function SS(n,t,e){for(let i=0;i<t.length;i++)J5(n,t[i],e)}function ez(n,t){let e=n.hostBindingOpCodes;if(e!==null)try{for(let i=0;i<e.length;i++){let r=e[i];if(r<0)ls(~r);else{let o=r,s=e[++i],a=e[++i];Ox(s,o);let c=t[o];nt(24,c),a(2,c),nt(25,c)}}}finally{ls(-1)}}function $b(n,t){let e=ly()?64:1088;for(n[Tr].changeDetectionScheduler?.notify(t);n;){n[Pe]|=e;let i=ts(n);if(Sc(n)&&!i)return n;n=i}return null}function TS(n,t,e,i){return[n,!0,0,t,null,i,null,e,null,null]}function DS(n,t){let e=St+t;if(e<n.length)return n[e]}function Yh(n,t,e,i=!0){let r=t[_e];if(tz(r,t,n,e),i){let s=Ky(e,n),a=t[yt],c=a.parentNode(n[ss]);c!==null&&h5(r,n[Oi],a,t,c,s)}let o=t[Oc];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function AS(n,t){let e=xd(n,t);return e!==void 0&&Wh(e[_e],e),e}function xd(n,t){if(n.length<=St)return;let e=St+t,i=n[e];if(i){let r=i[os];r!==null&&r!==n&&Fb(r,i),t>0&&(n[e-1][Pi]=i[Pi]);let o=fd(n,St+t);p5(i[_e],i);let s=o[Dr];s!==null&&s.detachView(o[_e]),i[Yt]=null,i[Pi]=null,i[Pe]&=-129}return i}function tz(n,t,e,i){let r=St+i,o=e.length;i>0&&(e[r-1][Pi]=t),i<o-St?(t[Pi]=e[r],Lv(e,St+i,t)):(e.push(t),t[Pi]=null),t[Yt]=e;let s=t[os];s!==null&&e!==s&&kS(s,t);let a=t[Dr];a!==null&&a.insertView(n),Zp(t),t[Pe]|=128}function kS(n,t){let e=n[ua],i=t[Yt];if(Ar(i))n[Pe]|=2;else{let r=i[Yt][ui];t[ui]!==r&&(n[Pe]|=2)}e===null?n[ua]=[t]:e.push(t)}var ds=class{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){let t=this._lView,e=t[_e];return Od(e,t,e.firstChild,[])}constructor(t,e){this._lView=t,this._cdRefInjectingView=e}get context(){return this._lView[jt]}set context(t){this._lView[jt]=t}get destroyed(){return fa(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let t=this._lView[Yt];if(Ji(t)){let e=t[_d],i=e?e.indexOf(this):-1;i>-1&&(xd(t,i),fd(e,i))}this._attachedToViewContainer=!1}Wh(this._lView[_e],this._lView)}onDestroy(t){ey(this._lView,t)}markForCheck(){$b(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[Pe]&=-129}reattach(){Zp(this._lView),this._lView[Pe]|=128}detectChanges(){this._lView[Pe]|=1024,OS(this._lView)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new j(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let t=Sc(this._lView),e=this._lView[os];e!==null&&!t&&Fb(e,this._lView),hS(this._lView[_e],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new j(902,!1);this._appRef=t;let e=Sc(this._lView),i=this._lView[os];i!==null&&!e&&kS(i,this._lView),Zp(this._lView)}};var us=(()=>{class n{_declarationLView;_declarationTContainer;elementRef;static __NG_ELEMENT_ID__=nz;constructor(e,i,r){this._declarationLView=e,this._declarationTContainer=i,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,i){return this.createEmbeddedViewImpl(e,i)}createEmbeddedViewImpl(e,i,r){let o=Qh(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:i,dehydratedView:r});return new ds(o)}}return n})();function nz(){return Hb(sn(),Me())}function Hb(n,t){return n.type&4?new us(t,n,Vc(n,t)):null}function Ld(n,t,e,i,r){let o=n.data[t];if(o===null)o=iz(n,t,e,i,r),Px()&&(o.flags|=32);else if(o.type&64){o.type=e,o.value=i,o.attrs=r;let s=Cx();o.injectorIndex=s===null?-1:s.injectorIndex}return Dc(o,!0),o}function iz(n,t,e,i,r){let o=ay(),s=cy(),a=s?o:o&&o.parent,c=n.data[t]=oz(n,a,e,t,i,r);return rz(n,c,o,s),c}function rz(n,t,e,i){n.firstChild===null&&(n.firstChild=t),e!==null&&(i?e.child==null&&t.parent!==null&&(e.child=t):e.next===null&&(e.next=t,t.prev=e))}function oz(n,t,e,i,r,o){let s=t?t.injectorIndex:-1,a=0;return bx()&&(a|=128),{type:e,index:i,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:r,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var Xle=new RegExp(`^(\\d+)*(${g6}|${h6})*(.*)`);function sz(n){let t=n[Wv]??[],i=n[Yt][yt],r=[];for(let o of t)o.data[zI]!==void 0?r.push(o):az(o,i);n[Wv]=r}function az(n,t){let e=0,i=n.firstChild;if(i){let r=n.data[BI];for(;e<r;){let o=i.nextSibling;JI(t,i,!1),i=o,e++}}}var cz=()=>null,lz=()=>null;function Yy(n,t){return cz(n,t)}function RS(n,t,e){return lz(n,t,e)}var NS=class{},Zh=class{},Zy=class{resolveComponentFactory(t){throw new j(917,!1)}},Fd=class{static NULL=new Zy},Co=class{},gi=(()=>{class n{destroyNode=null;static __NG_ELEMENT_ID__=()=>dz()}return n})();function dz(){let n=Me(),t=sn(),e=Ii(t.index,n);return(Ar(e)?e:n)[yt]}var LS=(()=>{class n{static \u0275prov=q({token:n,providedIn:"root",factory:()=>null})}return n})();var _h={},Xy=class{injector;parentInjector;constructor(t,e){this.injector=t,this.parentInjector=e}get(t,e,i){let r=this.injector.get(t,_h,i);return r!==_h||e===_h?r:this.parentInjector.get(t,e,i)}};function Ih(n,t,e){let i=e?n.styles:null,r=e?n.classes:null,o=0;if(t!==null)for(let s=0;s<t.length;s++){let a=t[s];if(typeof a=="number")o=a;else if(o==1)r=Up(r,a);else if(o==2){let c=a,l=t[++s];i=Up(i,c+": "+l+";")}}e?n.styles=i:n.stylesWithoutHost=i,e?n.classes=r:n.classesWithoutHost=r}function A(n,t=0){let e=Me();if(e===null)return W(n,t);let i=sn();return SI(i,e,vn(n),t)}function qb(){let n="invalid";throw new Error(n)}function FS(n,t,e,i,r){let o=i===null?null:{"":-1},s=r(n,e);if(s!==null){let a=s,c=null,l=null;for(let m of s)if(m.resolveHostDirectives!==null){[a,c,l]=m.resolveHostDirectives(s);break}pz(n,t,e,a,o,c,l)}o!==null&&i!==null&&uz(e,i,o)}function uz(n,t,e){let i=n.localNames=[];for(let r=0;r<t.length;r+=2){let o=e[t[r+1]];if(o==null)throw new j(-301,!1);i.push(t[r],o)}}function fz(n,t,e){t.componentOffset=e,(n.components??=[]).push(t.index)}function pz(n,t,e,i,r,o,s){let a=i.length,c=!1;for(let C=0;C<a;C++){let E=i[C];!c&&kr(E)&&(c=!0,fz(n,e,C)),Ay(wh(e,t),n,E.type)}yz(e,n.data.length,a);for(let C=0;C<a;C++){let E=i[C];E.providersResolver&&E.providersResolver(E)}let l=!1,m=!1,g=oS(n,t,a,null);a>0&&(e.directiveToIndex=new Map);for(let C=0;C<a;C++){let E=i[C];if(e.mergedAttrs=Lc(e.mergedAttrs,E.hostAttrs),gz(n,e,t,g,E),vz(g,E,r),s!==null&&s.has(E)){let[k,R]=s.get(E);e.directiveToIndex.set(E.type,[g,k+e.directiveStart,R+e.directiveStart])}else(o===null||!o.has(E))&&e.directiveToIndex.set(E.type,g);E.contentQueries!==null&&(e.flags|=4),(E.hostBindings!==null||E.hostAttrs!==null||E.hostVars!==0)&&(e.flags|=64);let S=E.type.prototype;!l&&(S.ngOnChanges||S.ngOnInit||S.ngDoCheck)&&((n.preOrderHooks??=[]).push(e.index),l=!0),!m&&(S.ngOnChanges||S.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(e.index),m=!0),g++}hz(n,e,o)}function hz(n,t,e){for(let i=t.directiveStart;i<t.directiveEnd;i++){let r=n.data[i];if(e===null||!e.has(r))iI(0,t,r,i),iI(1,t,r,i),oI(t,i,!1);else{let o=e.get(r);rI(0,t,o,i),rI(1,t,o,i),oI(t,i,!0)}}}function iI(n,t,e,i){let r=n===0?e.inputs:e.outputs;for(let o in r)if(r.hasOwnProperty(o)){let s;n===0?s=t.inputs??={}:s=t.outputs??={},s[o]??=[],s[o].push(i),BS(t,o)}}function rI(n,t,e,i){let r=n===0?e.inputs:e.outputs;for(let o in r)if(r.hasOwnProperty(o)){let s=r[o],a;n===0?a=t.hostDirectiveInputs??={}:a=t.hostDirectiveOutputs??={},a[s]??=[],a[s].push(i,o),BS(t,s)}}function BS(n,t){t==="class"?n.flags|=8:t==="style"&&(n.flags|=16)}function oI(n,t,e){let{attrs:i,inputs:r,hostDirectiveInputs:o}=n;if(i===null||!e&&r===null||e&&o===null||Sb(n)){n.initialInputs??=[],n.initialInputs.push(null);return}let s=null,a=0;for(;a<i.length;){let c=i[a];if(c===0){a+=4;continue}else if(c===5){a+=2;continue}else if(typeof c=="number")break;if(!e&&r.hasOwnProperty(c)){let l=r[c];for(let m of l)if(m===t){s??=[],s.push(c,i[a+1]);break}}else if(e&&o.hasOwnProperty(c)){let l=o[c];for(let m=0;m<l.length;m+=2)if(l[m]===t){s??=[],s.push(l[m+1],i[a+1]);break}}a+=2}n.initialInputs??=[],n.initialInputs.push(s)}function gz(n,t,e,i,r){n.data[i]=r;let o=r.factory||(r.factory=es(r.type,!0)),s=new ha(o,kr(r),A,null);n.blueprint[i]=s,e[i]=s,mz(n,t,i,oS(n,e,r.hostVars,kn),r)}function mz(n,t,e,i,r){let o=r.hostBindings;if(o){let s=n.hostBindingOpCodes;s===null&&(s=n.hostBindingOpCodes=[]);let a=~t.index;_z(s)!=a&&s.push(a),s.push(e,i,o)}}function _z(n){let t=n.length;for(;t>0;){let e=n[--t];if(typeof e=="number"&&e<0)return e}return 0}function vz(n,t,e){if(e){if(t.exportAs)for(let i=0;i<t.exportAs.length;i++)e[t.exportAs[i]]=n;kr(t)&&(e[""]=n)}}function yz(n,t,e){n.flags|=1,n.directiveStart=t,n.directiveEnd=t+e,n.providerIndexes=t}function zS(n,t,e,i,r,o,s,a){let c=t[_e],l=c.consts,m=Si(l,s),g=Ld(c,n,e,i,m);return o&&FS(c,t,g,Si(l,a),r),g.mergedAttrs=Lc(g.mergedAttrs,g.attrs),g.attrs!==null&&Ih(g,g.attrs,!1),g.mergedAttrs!==null&&Ih(g,g.mergedAttrs,!0),c.queries!==null&&c.queries.elementStart(c,g),g}function VS(n,t){bI(n,t),Gv(t)&&n.queries.elementEnd(t)}function bz(n,t,e,i,r,o){let s=t.consts,a=Si(s,r),c=Ld(t,n,e,i,a);if(c.mergedAttrs=Lc(c.mergedAttrs,c.attrs),o!=null){let l=Si(s,o);c.localNames=[];for(let m=0;m<l.length;m+=2)c.localNames.push(l[m],-1)}return c.attrs!==null&&Ih(c,c.attrs,!1),c.mergedAttrs!==null&&Ih(c,c.mergedAttrs,!0),t.queries!==null&&t.queries.elementStart(t,c),c}function Wb(n){return US(n)?Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n:!1}function jS(n,t){if(Array.isArray(n))for(let e=0;e<n.length;e++)t(n[e]);else{let e=n[Symbol.iterator](),i;for(;!(i=e.next()).done;)t(i.value)}}function US(n){return n!==null&&(typeof n=="function"||typeof n=="object")}function Xh(n,t,e){return n[t]=e}function Cz(n,t){return n[t]}function pi(n,t,e){if(e===kn)return!1;let i=n[t];return Object.is(i,e)?!1:(n[t]=e,!0)}function Gb(n,t,e,i){let r=pi(n,t,e);return pi(n,t+1,i)||r}function wz(n,t,e,i,r){let o=Gb(n,t,e,i);return pi(n,t+2,r)||o}function My(n,t,e){return function i(r){let o=as(n)?Ii(n.index,t):t;$b(o,5);let s=t[jt],a=sI(t,s,e,r),c=i.__ngNextListenerFn__;for(;c;)a=sI(t,s,c,r)&&a,c=c.__ngNextListenerFn__;return a}}function sI(n,t,e,i){let r=Ee(null);try{return nt(6,t,e),e(i)!==!1}catch(o){return z5(n,o),!1}finally{nt(7,t,e),Ee(r)}}function Mz(n,t,e,i,r,o,s,a){let c=vd(n),l=!1,m=null;if(!i&&c&&(m=Pz(t,e,o,n.index)),m!==null){let g=m.__ngLastListenerFn__||m;g.__ngNextListenerFn__=s,m.__ngLastListenerFn__=s,l=!0}else{let g=er(n,e),C=i?i(g):g;_6(e,C,o,a);let E=r.listen(C,o,a);if(!Ez(o)){let S=i?k=>i(xi(k[n.index])):n.index;$S(S,t,e,o,a,E,!1)}}return l}function Ez(n){return n.startsWith("animation")||n.startsWith("transition")}function Pz(n,t,e,i){let r=n.cleanup;if(r!=null)for(let o=0;o<r.length-1;o+=2){let s=r[o];if(s===e&&r[o+1]===i){let a=t[xc],c=r[o+2];return a&&a.length>c?a[c]:null}typeof s=="string"&&(o+=2)}return null}function $S(n,t,e,i,r,o,s){let a=t.firstCreatePass?ny(t):null,c=ty(e),l=c.length;c.push(r,o),a&&a.push(i,n,l,(l+1)*(s?-1:1))}function aI(n,t,e,i,r,o){let s=t[e],a=t[_e],l=a.data[e].outputs[i],g=s[l].subscribe(o);$S(n.index,a,t,r,o,g,!0)}var Jy=Symbol("BINDING");var Sh=class extends Fd{ngModule;constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){let e=mo(t);return new ma(e,this.ngModule)}};function Oz(n){return Object.keys(n).map(t=>{let[e,i,r]=n[t],o={propName:e,templateName:t,isSignal:(i&Hh.SignalBased)!==0};return r&&(o.transform=r),o})}function xz(n){return Object.keys(n).map(t=>({propName:n[t],templateName:t}))}function Iz(n,t,e){let i=t instanceof Pt?t:t?.injector;return i&&n.getStandaloneInjector!==null&&(i=n.getStandaloneInjector(i)||i),i?new Xy(e,i):e}function Sz(n){let t=n.get(Co,null);if(t===null)throw new j(407,!1);let e=n.get(LS,null),i=n.get(ho,null);return{rendererFactory:t,sanitizer:e,changeDetectionScheduler:i,ngReflect:!1}}function Tz(n,t){let e=HS(n);return ZI(t,e,e==="svg"?Kv:e==="math"?fx:null)}function HS(n){return(n.selectors[0][0]||"div").toLowerCase()}var ma=class extends Zh{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=Oz(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=xz(this.componentDef.outputs),this.cachedOutputs}constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=Z6(t.selectors),this.ngContentSelectors=t.ngContentSelectors??[],this.isBoundToModule=!!e}create(t,e,i,r,o,s){nt(22);let a=Ee(null);try{let c=this.componentDef,l=Dz(i,c,s,o),m=Iz(c,r||this.ngModule,t),g=Sz(m),C=g.rendererFactory.createRenderer(null,c),E=i?x5(C,i,c.encapsulation,m):Tz(c,C),S=s?.some(cI)||o?.some(V=>typeof V!="function"&&V.bindings.some(cI)),k=Db(null,l,null,512|rS(c),null,null,g,C,m,null,UI(E,m,!0));k[Ut]=E,th(k);let R=null;try{let V=zS(Ut,k,2,"#host",()=>l.directiveRegistry,!0,0);eS(C,E,V),Fc(E,k),Vb(l,k,V),HI(l,V,k),VS(l,V),e!==void 0&&kz(V,this.ngContentSelectors,e),R=Ii(V.index,k),k[jt]=R[jt],Ub(l,k,null)}catch(V){throw R!==null&&Ry(R),Ry(k),V}finally{nt(23),nh()}return new Th(this.componentType,k,!!S)}finally{Ee(a)}}};function Dz(n,t,e,i){let r=n?["ng-version","20.3.15"]:X6(t.selectors[0]),o=null,s=null,a=0;if(e)for(let m of e)a+=m[Jy].requiredVars,m.create&&(m.targetIdx=0,(o??=[]).push(m)),m.update&&(m.targetIdx=0,(s??=[]).push(m));if(i)for(let m=0;m<i.length;m++){let g=i[m];if(typeof g!="function")for(let C of g.bindings){a+=C[Jy].requiredVars;let E=m+1;C.create&&(C.targetIdx=E,(o??=[]).push(C)),C.update&&(C.targetIdx=E,(s??=[]).push(C))}}let c=[t];if(i)for(let m of i){let g=typeof m=="function"?m:m.type,C=Vv(g);c.push(C)}return Tb(0,null,Az(o,s),1,a,c,null,null,null,[r],null)}function Az(n,t){return!n&&!t?null:e=>{if(e&1&&n)for(let i of n)i.create();if(e&2&&t)for(let i of t)i.update()}}function cI(n){let t=n[Jy].kind;return t==="input"||t==="twoWay"}var Th=class extends NS{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(t,e,i){super(),this._rootLView=e,this._hasInputBindings=i,this._tNode=yd(e[_e],Ut),this.location=Vc(this._tNode,e),this.instance=Ii(this._tNode.index,e)[jt],this.hostView=this.changeDetectorRef=new ds(e,void 0),this.componentType=t}setInput(t,e){this._hasInputBindings;let i=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),e))return;let r=this._rootLView,o=jb(i,r[_e],r,t,e);this.previousInputValues.set(t,e);let s=Ii(i.index,r);$b(s,1)}get injector(){return new pa(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}};function kz(n,t,e){let i=n.projection=[];for(let r=0;r<t.length;r++){let o=e[r];i.push(o!=null&&o.length?Array.from(o):null)}}var Eo=(()=>{class n{static __NG_ELEMENT_ID__=Rz}return n})();function Rz(){let n=sn();return WS(n,Me())}var Nz=Eo,qS=class extends Nz{_lContainer;_hostTNode;_hostLView;constructor(t,e,i){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=i}get element(){return Vc(this._hostTNode,this._hostLView)}get injector(){return new pa(this._hostTNode,this._hostLView)}get parentInjector(){let t=_b(this._hostTNode,this._hostLView);if(MI(t)){let e=bh(t,this._hostLView),i=yh(t),r=e[_e].data[i+8];return new pa(r,e)}else return new pa(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){let e=lI(this._lContainer);return e!==null&&e[t]||null}get length(){return this._lContainer.length-St}createEmbeddedView(t,e,i){let r,o;typeof i=="number"?r=i:i!=null&&(r=i.index,o=i.injector);let s=Yy(this._lContainer,t.ssrId),a=t.createEmbeddedViewImpl(e||{},o,s);return this.insertImpl(a,r,Pd(this._hostTNode,s)),a}createComponent(t,e,i,r,o,s,a){let c=t&&!UB(t),l;if(c)l=e;else{let R=e||{};l=R.index,i=R.injector,r=R.projectableNodes,o=R.environmentInjector||R.ngModuleRef,s=R.directives,a=R.bindings}let m=c?t:new ma(mo(t)),g=i||this.parentInjector;if(!o&&m.ngModule==null){let V=(c?g:this.parentInjector).get(Pt,null);V&&(o=V)}let C=mo(m.componentType??{}),E=Yy(this._lContainer,C?.id??null),S=E?.firstChild??null,k=m.create(g,r,S,o,s,a);return this.insertImpl(k.hostView,l,Pd(this._hostTNode,E)),k}insert(t,e){return this.insertImpl(t,e,!0)}insertImpl(t,e,i){let r=t._lView;if(hx(r)){let a=this.indexOf(t);if(a!==-1)this.detach(a);else{let c=r[Yt],l=new qS(c,c[Oi],c[Yt]);l.detach(l.indexOf(t))}}let o=this._adjustIndex(e),s=this._lContainer;return Yh(s,r,o,i),t.attachToViewContainerRef(),Lv(Ey(s),o,t),t}move(t,e){return this.insert(t,e)}indexOf(t){let e=lI(this._lContainer);return e!==null?e.indexOf(t):-1}remove(t){let e=this._adjustIndex(t,-1),i=xd(this._lContainer,e);i&&(fd(Ey(this._lContainer),e),Wh(i[_e],i))}detach(t){let e=this._adjustIndex(t,-1),i=xd(this._lContainer,e);return i&&fd(Ey(this._lContainer),e)!=null?new ds(i):null}_adjustIndex(t,e=0){return t??this.length+e}};function lI(n){return n[_d]}function Ey(n){return n[_d]||(n[_d]=[])}function WS(n,t){let e,i=t[n.index];return Ji(i)?e=i:(e=TS(i,t,null,n),t[n.index]=e,Ab(t,e)),Fz(e,t,n,i),new qS(e,n,t)}function Lz(n,t){let e=n[yt],i=e.createComment(""),r=er(t,n),o=e.parentNode(r);return Eh(e,o,i,e.nextSibling(r),!1),i}var Fz=Vz,Bz=()=>!1;function zz(n,t,e){return Bz(n,t,e)}function Vz(n,t,e,i){if(n[ss])return;let r;e.type&8?r=xi(i):r=Lz(t,e),n[ss]=r}var eb=class n{queryList;matches=null;constructor(t){this.queryList=t}clone(){return new n(this.queryList)}setDirty(){this.queryList.setDirty()}},tb=class n{queries;constructor(t=[]){this.queries=t}createEmbeddedView(t){let e=t.queries;if(e!==null){let i=t.contentQueries!==null?t.contentQueries[0]:e.length,r=[];for(let o=0;o<i;o++){let s=e.getByIndex(o),a=this.queries[s.indexInDeclarationView];r.push(a.clone())}return new n(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}finishViewCreation(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)Kb(t,e).matches!==null&&this.queries[e].setDirty()}},nb=class{flags;read;predicate;constructor(t,e,i=null){this.flags=e,this.read=i,typeof t=="string"?this.predicate=Kz(t):this.predicate=t}},ib=class n{queries;constructor(t=[]){this.queries=t}elementStart(t,e){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let i=0;i<this.length;i++){let r=e!==null?e.length:0,o=this.getByIndex(i).embeddedTView(t,r);o&&(o.indexInDeclarationView=i,e!==null?e.push(o):e=[o])}return e!==null?new n(e):null}template(t,e){for(let i=0;i<this.queries.length;i++)this.queries[i].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}},rb=class n{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(t,e=-1){this.metadata=t,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new n(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let e=this._declarationNodeIndex,i=t.parent;for(;i!==null&&i.type&8&&i.index!==e;)i=i.parent;return e===(i!==null?i.index:-1)}return this._appliesToNextNode}matchTNode(t,e){let i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){let o=i[r];this.matchTNodeWithReadOption(t,e,jz(e,o)),this.matchTNodeWithReadOption(t,e,mh(e,t,o,!1,!1))}else i===us?e.type&4&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,mh(e,t,i,!1,!1))}matchTNodeWithReadOption(t,e,i){if(i!==null){let r=this.metadata.read;if(r!==null)if(r===cn||r===Eo||r===us&&e.type&4)this.addMatch(e.index,-2);else{let o=mh(e,t,r,!1,!1);o!==null&&this.addMatch(e.index,o)}else this.addMatch(e.index,i)}}addMatch(t,e){this.matches===null?this.matches=[t,e]:this.matches.push(t,e)}};function jz(n,t){let e=n.localNames;if(e!==null){for(let i=0;i<e.length;i+=2)if(e[i]===t)return e[i+1]}return null}function Uz(n,t){return n.type&11?Vc(n,t):n.type&4?Hb(n,t):null}function $z(n,t,e,i){return e===-1?Uz(t,n):e===-2?Hz(n,t,i):Ed(n,n[_e],e,t)}function Hz(n,t,e){if(e===cn)return Vc(t,n);if(e===us)return Hb(t,n);if(e===Eo)return WS(t,n)}function GS(n,t,e,i){let r=t[Dr].queries[i];if(r.matches===null){let o=n.data,s=e.matches,a=[];for(let c=0;s!==null&&c<s.length;c+=2){let l=s[c];if(l<0)a.push(null);else{let m=o[l];a.push($z(t,m,s[c+1],e.metadata.read))}}r.matches=a}return r.matches}function ob(n,t,e,i){let r=n.queries.getByIndex(e),o=r.matches;if(o!==null){let s=GS(n,t,r,e);for(let a=0;a<o.length;a+=2){let c=o[a];if(c>0)i.push(s[a/2]);else{let l=o[a+1],m=t[-c];for(let g=St;g<m.length;g++){let C=m[g];C[os]===C[Yt]&&ob(C[_e],C,l,i)}if(m[ua]!==null){let g=m[ua];for(let C=0;C<g.length;C++){let E=g[C];ob(E[_e],E,l,i)}}}}}return i}function qz(n,t){return n[Dr].queries[t].queryList}function Wz(n,t,e){let i=new Mh((e&4)===4);return _x(n,t,i,i.destroy),(t[Dr]??=new tb).queries.push(new eb(i))-1}function Gz(n,t,e,i){let r=Ht();if(r.firstCreatePass){let o=sn();Qz(r,new nb(t,e,i),o.index),Yz(r,n),(e&2)===2&&(r.staticContentQueries=!0)}return Wz(r,Me(),e)}function Kz(n){return n.split(",").map(t=>t.trim())}function Qz(n,t,e){n.queries===null&&(n.queries=new ib),n.queries.track(new rb(t,e))}function Yz(n,t){let e=n.contentQueries||(n.contentQueries=[]),i=e.length?e[e.length-1]:-1;t!==i&&e.push(n.queries.length-1,t)}function Kb(n,t){return n.queries.getByIndex(t)}function Zz(n,t){let e=n[_e],i=Kb(e,t);return i.crossesNgTemplate?ob(e,n,t,[]):GS(e,n,i,t)}var _a=class{},Jh=class{};var Dh=class extends _a{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new Sh(this);constructor(t,e,i,r=!0){super(),this.ngModuleType=t,this._parent=e;let o=zv(t);this._bootstrapComponents=nS(o.bootstrap),this._r3Injector=hy(t,e,[{provide:_a,useValue:this},{provide:Fd,useValue:this.componentFactoryResolver},...i],po(t),new Set(["environment"])),r&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}},Ah=class extends Jh{moduleType;constructor(t){super(),this.moduleType=t}create(t){return new Dh(this.moduleType,t,[])}};var Id=class extends _a{injector;componentFactoryResolver=new Sh(this);instance=null;constructor(t){super();let e=new oa([...t.providers,{provide:_a,useValue:this},{provide:Fd,useValue:this.componentFactoryResolver}],t.parent||hd(),t.debugName,new Set(["environment"]));this.injector=e,t.runEnvironmentInitializers&&e.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}};function jc(n,t,e=null){return new Id({providers:n,parent:t,debugName:e,runEnvironmentInitializers:!0}).injector}var Xz=(()=>{class n{_injector;cachedInjectors=new Map;constructor(e){this._injector=e}getOrCreateStandaloneInjector(e){if(!e.standalone)return null;if(!this.cachedInjectors.has(e)){let i=jv(!1,e.type),r=i.length>0?jc([i],this._injector,`Standalone[${e.type.name}]`):null;this.cachedInjectors.set(e,r)}return this.cachedInjectors.get(e)}ngOnDestroy(){try{for(let e of this.cachedInjectors.values())e!==null&&e.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=q({token:n,providedIn:"environment",factory:()=>new n(W(Pt))})}return n})();function de(n){return zc(()=>{let t=KS(n),e=oe(B({},t),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===vb.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&n.dependencies||null,getStandaloneInjector:t.standalone?r=>r.get(Xz).getOrCreateStandaloneInjector(e):null,getExternalStyles:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||yo.Emulated,styles:n.styles||zn,_:null,schemas:n.schemas||null,tView:null,id:""});t.standalone&&hi("NgStandalone"),QS(e);let i=n.dependencies;return e.directiveDefs=dI(i,Jz),e.pipeDefs=dI(i,sx),e.id=nV(e),e})}function Jz(n){return mo(n)||Vv(n)}function Rn(n){return zc(()=>({type:n.type,bootstrap:n.bootstrap||zn,declarations:n.declarations||zn,imports:n.imports||zn,exports:n.exports||zn,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function eV(n,t){if(n==null)return rs;let e={};for(let i in n)if(n.hasOwnProperty(i)){let r=n[i],o,s,a,c;Array.isArray(r)?(a=r[0],o=r[1],s=r[2]??o,c=r[3]||null):(o=r,s=r,a=Hh.None,c=null),e[o]=[i,a,c],t[o]=s}return e}function tV(n){if(n==null)return rs;let t={};for(let e in n)n.hasOwnProperty(e)&&(t[n[e]]=e);return t}function We(n){return zc(()=>{let t=KS(n);return QS(t),t})}function Bd(n){return{type:n.type,name:n.name,factory:null,pure:n.pure!==!1,standalone:n.standalone??!0,onDestroy:n.type.prototype.ngOnDestroy||null}}function KS(n){let t={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:t,inputConfig:n.inputs||rs,exportAs:n.exportAs||null,standalone:n.standalone??!0,signals:n.signals===!0,selectors:n.selectors||zn,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:eV(n.inputs,t),outputs:tV(n.outputs),debugInfo:null}}function QS(n){n.features?.forEach(t=>t(n))}function dI(n,t){return n?()=>{let e=typeof n=="function"?n():n,i=[];for(let r of e){let o=t(r);o!==null&&i.push(o)}return i}:null}function nV(n){let t=0,e=typeof n.consts=="function"?"":n.consts,i=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,e,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery];for(let o of i.join("|"))t=Math.imul(31,t)+o.charCodeAt(0)<<0;return t+=2147483648,"c"+t}function iV(n){return Object.getPrototypeOf(n.prototype).constructor}function qt(n){let t=iV(n.type),e=!0,i=[n];for(;t;){let r;if(kr(n))r=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new j(903,!1);r=t.\u0275dir}if(r){if(e){i.push(r);let s=n;s.inputs=Py(n.inputs),s.declaredInputs=Py(n.declaredInputs),s.outputs=Py(n.outputs);let a=r.hostBindings;a&&cV(n,a);let c=r.viewQuery,l=r.contentQueries;if(c&&sV(n,c),l&&aV(n,l),rV(n,r),ZO(n.outputs,r.outputs),kr(r)&&r.data.animation){let m=n.data;m.animation=(m.animation||[]).concat(r.data.animation)}}let o=r.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(n),a===qt&&(e=!1)}}t=Object.getPrototypeOf(t)}oV(i)}function rV(n,t){for(let e in t.inputs){if(!t.inputs.hasOwnProperty(e)||n.inputs.hasOwnProperty(e))continue;let i=t.inputs[e];i!==void 0&&(n.inputs[e]=i,n.declaredInputs[e]=t.declaredInputs[e])}}function oV(n){let t=0,e=null;for(let i=n.length-1;i>=0;i--){let r=n[i];r.hostVars=t+=r.hostVars,r.hostAttrs=Lc(r.hostAttrs,e=Lc(e,r.hostAttrs))}}function Py(n){return n===rs?{}:n===zn?[]:n}function sV(n,t){let e=n.viewQuery;e?n.viewQuery=(i,r)=>{t(i,r),e(i,r)}:n.viewQuery=t}function aV(n,t){let e=n.contentQueries;e?n.contentQueries=(i,r,o)=>{t(i,r,o),e(i,r,o)}:n.contentQueries=t}function cV(n,t){let e=n.hostBindings;e?n.hostBindings=(i,r)=>{t(i,r),e(i,r)}:n.hostBindings=t}function YS(n,t,e,i,r,o,s,a){if(e.firstCreatePass){n.mergedAttrs=Lc(n.mergedAttrs,n.attrs);let m=n.tView=Tb(2,n,r,o,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,e.consts,null);e.queries!==null&&(e.queries.template(e,n),m.queries=e.queries.embeddedTView(n))}a&&(n.flags|=a),Dc(n,!1);let c=dV(e,t,n,i);sh()&&Bb(e,t,c,n),Fc(c,t);let l=TS(c,t,c,n);t[i+Ut]=l,Ab(t,l),zz(l,n,t)}function lV(n,t,e,i,r,o,s,a,c,l,m){let g=e+Ut,C;return t.firstCreatePass?(C=Ld(t,g,4,s||null,a||null),ry()&&FS(t,n,C,Si(t.consts,l),vS),bI(t,C)):C=t.data[g],YS(C,n,t,e,i,r,o,c),vd(C)&&Vb(t,n,C),l!=null&&Kh(n,C,m),C}function kh(n,t,e,i,r,o,s,a,c,l,m){let g=e+Ut,C;if(t.firstCreatePass){if(C=Ld(t,g,4,s||null,a||null),l!=null){let E=Si(t.consts,l);C.localNames=[];for(let S=0;S<E.length;S+=2)C.localNames.push(E[S],-1)}}else C=t.data[g];return YS(C,n,t,e,i,r,o,c),l!=null&&Kh(n,C,m),C}function J(n,t,e,i,r,o,s,a){let c=Me(),l=Ht(),m=Si(l.consts,o);return lV(c,l,n,t,e,i,r,m,void 0,s,a),J}var dV=uV;function uV(n,t,e,i){return ah(!0),t[yt].createComment("")}var eg=(()=>{class n{log(e){console.log(e)}warn(e){console.warn(e)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();var Qb=new Z("");function fs(n){return!!n&&typeof n.then=="function"}function Yb(n){return!!n&&typeof n.subscribe=="function"}var Zb=new Z("");function tg(n){return bn([{provide:Zb,multi:!0,useValue:n}])}var Xb=(()=>{class n{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((e,i)=>{this.resolve=e,this.reject=i});appInits=N(Zb,{optional:!0})??[];injector=N(De);constructor(){}runInitializers(){if(this.initialized)return;let e=[];for(let r of this.appInits){let o=X(this.injector,r);if(fs(o))e.push(o);else if(Yb(o)){let s=new Promise((a,c)=>{o.subscribe({complete:a,error:c})});e.push(s)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(e).then(()=>{i()}).catch(r=>{this.reject(r)}),e.length===0&&i(),this.initialized=!0}static \u0275fac=function(i){return new(i||n)};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),zd=new Z("");function ZS(){Y0(()=>{let n="";throw new j(600,n)})}function XS(n){return n.isBoundToModule}var fV=10;var Br=(()=>{class n{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=N(Xn);afterRenderManager=N(Lb);zonelessEnabled=N(kc);rootEffectScheduler=N(yy);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new le;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=N(Nr);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe(H(e=>!e))}constructor(){N(ba,{optional:!0})}whenStable(){let e;return new Promise(i=>{e=this.isStable.subscribe({next:r=>{r&&i()}})}).finally(()=>{e.unsubscribe()})}_injector=N(Pt);_rendererFactory=null;get injector(){return this._injector}bootstrap(e,i){return this.bootstrapImpl(e,i)}bootstrapImpl(e,i,r=De.NULL){return this._injector.get(ze).run(()=>{nt(10);let s=e instanceof Zh;if(!this._injector.get(Xb).done){let S="";throw new j(405,S)}let c;s?c=e:c=this._injector.get(Fd).resolveComponentFactory(e),this.componentTypes.push(c.componentType);let l=XS(c)?void 0:this._injector.get(_a),m=i||c.selector,g=c.create(r,[],m,l),C=g.location.nativeElement,E=g.injector.get(Qb,null);return E?.registerApplication(C),g.onDestroy(()=>{this.detachView(g.hostView),Md(this.components,g),E?.unregisterApplication(C)}),this._loadComponent(g),nt(11,g),g})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){nt(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(qh.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new j(101,!1);let e=Ee(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,Ee(e),this.afterTick.next(),nt(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(Co,null,{optional:!0}));let e=0;for(;this.dirtyFlags!==0&&e++<fV;)nt(14),this.synchronizeOnce(),nt(15)}synchronizeOnce(){this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let e=!1;if(this.dirtyFlags&7){let i=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:r}of this.allViews){if(!i&&!bd(r))continue;let o=i&&!this.zonelessEnabled?0:1;OS(r,o),e=!0}if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}e||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:e})=>bd(e))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(e){let i=e;this._views.push(i),i.attachToAppRef(this)}detachView(e){let i=e;Md(this._views,i),i.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView);try{this.tick()}catch(r){this.internalErrorHandler(r)}this.components.push(e),this._injector.get(zd,[]).forEach(r=>r(e))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(e=>e()),this._views.slice().forEach(e=>e.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(e){return this._destroyListeners.push(e),()=>Md(this._destroyListeners,e)}destroy(){if(this._destroyed)throw new j(406,!1);let e=this._injector;e.destroy&&!e.destroyed&&e.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(i){return new(i||n)};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Md(n,t){let e=n.indexOf(t);e>-1&&n.splice(e,1)}function Wt(n,t,e,i){let r=Me(),o=cs();if(pi(r,o,t)){let s=Ht(),a=ih();L5(a,r,n,t,e,i)}return Wt}var ode=typeof document<"u"&&typeof document?.documentElement?.getAnimations=="function";var sb=class{destroy(t){}updateValue(t,e){}swap(t,e){let i=Math.min(t,e),r=Math.max(t,e),o=this.detach(r);if(r-i>1){let s=this.detach(i);this.attach(i,o),this.attach(r,s)}else this.attach(i,o)}move(t,e){this.attach(e,this.detach(t))}};function Oy(n,t,e,i,r){return n===e&&Object.is(t,i)?1:Object.is(r(n,t),r(e,i))?-1:0}function pV(n,t,e){let i,r,o=0,s=n.length-1,a=void 0;if(Array.isArray(t)){let c=t.length-1;for(;o<=s&&o<=c;){let l=n.at(o),m=t[o],g=Oy(o,l,o,m,e);if(g!==0){g<0&&n.updateValue(o,m),o++;continue}let C=n.at(s),E=t[c],S=Oy(s,C,c,E,e);if(S!==0){S<0&&n.updateValue(s,E),s--,c--;continue}let k=e(o,l),R=e(s,C),V=e(o,m);if(Object.is(V,R)){let ae=e(c,E);Object.is(ae,k)?(n.swap(o,s),n.updateValue(s,E),c--,s--):n.move(s,o),n.updateValue(o,m),o++;continue}if(i??=new Rh,r??=fI(n,o,s,e),ab(n,i,o,V))n.updateValue(o,m),o++,s++;else if(r.has(V))i.set(k,n.detach(o)),s--;else{let ae=n.create(o,t[o]);n.attach(o,ae),o++,s++}}for(;o<=c;)uI(n,i,e,o,t[o]),o++}else if(t!=null){let c=t[Symbol.iterator](),l=c.next();for(;!l.done&&o<=s;){let m=n.at(o),g=l.value,C=Oy(o,m,o,g,e);if(C!==0)C<0&&n.updateValue(o,g),o++,l=c.next();else{i??=new Rh,r??=fI(n,o,s,e);let E=e(o,g);if(ab(n,i,o,E))n.updateValue(o,g),o++,s++,l=c.next();else if(!r.has(E))n.attach(o,n.create(o,g)),o++,s++,l=c.next();else{let S=e(o,m);i.set(S,n.detach(o)),s--}}}for(;!l.done;)uI(n,i,e,n.length,l.value),l=c.next()}for(;o<=s;)n.destroy(n.detach(s--));i?.forEach(c=>{n.destroy(c)})}function ab(n,t,e,i){return t!==void 0&&t.has(i)?(n.attach(e,t.get(i)),t.delete(i),!0):!1}function uI(n,t,e,i,r){if(ab(n,t,i,e(i,r)))n.updateValue(i,r);else{let o=n.create(i,r);n.attach(i,o)}}function fI(n,t,e,i){let r=new Set;for(let o=t;o<=e;o++)r.add(i(o,n.at(o)));return r}var Rh=class{kvMap=new Map;_vMap=void 0;has(t){return this.kvMap.has(t)}delete(t){if(!this.has(t))return!1;let e=this.kvMap.get(t);return this._vMap!==void 0&&this._vMap.has(e)?(this.kvMap.set(t,this._vMap.get(e)),this._vMap.delete(e)):this.kvMap.delete(t),!0}get(t){return this.kvMap.get(t)}set(t,e){if(this.kvMap.has(t)){let i=this.kvMap.get(t);this._vMap===void 0&&(this._vMap=new Map);let r=this._vMap;for(;r.has(i);)i=r.get(i);r.set(i,e)}else this.kvMap.set(t,e)}forEach(t){for(let[e,i]of this.kvMap)if(t(i,e),this._vMap!==void 0){let r=this._vMap;for(;r.has(i);)i=r.get(i),t(i,e)}}};function L(n,t,e,i,r,o,s,a){hi("NgControlFlow");let c=Me(),l=Ht(),m=Si(l.consts,o);return kh(c,l,n,t,e,i,r,m,256,s,a),Jb}function Jb(n,t,e,i,r,o,s,a){hi("NgControlFlow");let c=Me(),l=Ht(),m=Si(l.consts,o);return kh(c,l,n,t,e,i,r,m,512,s,a),Jb}function F(n,t){hi("NgControlFlow");let e=Me(),i=cs(),r=e[i]!==kn?e[i]:-1,o=r!==-1?Nh(e,Ut+r):void 0,s=0;if(pi(e,i,n)){let a=Ee(null);try{if(o!==void 0&&AS(o,s),n!==-1){let c=Ut+n,l=Nh(e,c),m=ub(e[_e],c),g=RS(l,m,e),C=Qh(e,m,t,{dehydratedView:g});Yh(l,C,s,Pd(m,g))}}finally{Ee(a)}}else if(o!==void 0){let a=DS(o,s);a!==void 0&&(a[jt]=t)}}var cb=class{lContainer;$implicit;$index;constructor(t,e,i){this.lContainer=t,this.$implicit=e,this.$index=i}get $count(){return this.lContainer.length-St}};function mi(n){return n}var lb=class{hasEmptyBlock;trackByFn;liveCollection;constructor(t,e,i){this.hasEmptyBlock=t,this.trackByFn=e,this.liveCollection=i}};function mt(n,t,e,i,r,o,s,a,c,l,m,g,C){hi("NgControlFlow");let E=Me(),S=Ht(),k=c!==void 0,R=Me(),V=a?s.bind(R[ui][jt]):s,ae=new lb(k,V);R[Ut+n]=ae,kh(E,S,n+1,t,e,i,r,Si(S.consts,o),256),k&&kh(E,S,n+2,c,l,m,g,Si(S.consts,C),512)}var db=class extends sb{lContainer;hostLView;templateTNode;operationsCounter=void 0;needsIndexUpdate=!1;constructor(t,e,i){super(),this.lContainer=t,this.hostLView=e,this.templateTNode=i}get length(){return this.lContainer.length-St}at(t){return this.getLView(t)[jt].$implicit}attach(t,e){let i=e[Oc];this.needsIndexUpdate||=t!==this.length,Yh(this.lContainer,e,t,Pd(this.templateTNode,i)),hV(this.lContainer,t)}detach(t){return this.needsIndexUpdate||=t!==this.length-1,gV(this.lContainer,t),mV(this.lContainer,t)}create(t,e){let i=Yy(this.lContainer,this.templateTNode.tView.ssrId),r=Qh(this.hostLView,this.templateTNode,new cb(this.lContainer,e,t),{dehydratedView:i});return this.operationsCounter?.recordCreate(),r}destroy(t){Wh(t[_e],t),this.operationsCounter?.recordDestroy()}updateValue(t,e){this.getLView(t)[jt].$implicit=e}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let t=0;t<this.length;t++)this.getLView(t)[jt].$index=t}getLView(t){return _V(this.lContainer,t)}};function _t(n){let t=Ee(null),e=Rr();try{let i=Me(),r=i[_e],o=i[e],s=e+1,a=Nh(i,s);if(o.liveCollection===void 0){let l=ub(r,s);o.liveCollection=new db(a,i,l)}else o.liveCollection.reset();let c=o.liveCollection;if(pV(c,n,o.trackByFn),c.updateIndexes(),o.hasEmptyBlock){let l=cs(),m=c.length===0;if(pi(i,l,m)){let g=e+2,C=Nh(i,g);if(m){let E=ub(r,g),S=RS(C,E,i),k=Qh(i,E,void 0,{dehydratedView:S});Yh(C,k,0,Pd(E,S))}else r.firstUpdatePass&&sz(C),AS(C,0)}}}finally{Ee(t)}}function Nh(n,t){return n[t]}function hV(n,t){if(n.length<=St)return;let e=St+t,i=n[e],r=i?i[da]:void 0;if(i&&r&&r.detachedLeaveAnimationFns&&r.detachedLeaveAnimationFns.length>0){let o=i[_o];u5(o,r),ga.delete(i),r.detachedLeaveAnimationFns=void 0}}function gV(n,t){if(n.length<=St)return;let e=St+t,i=n[e],r=i?i[da]:void 0;r&&r.leave&&r.leave.size>0&&(r.detachedLeaveAnimationFns=[])}function mV(n,t){return xd(n,t)}function _V(n,t){return DS(n,t)}function ub(n,t){return yd(n,t)}function O(n,t,e){let i=Me(),r=cs();if(pi(i,r,t)){let o=Ht(),s=ih();_S(s,i,n,t,i[yt],e)}return O}function fb(n,t,e,i,r){jb(t,n,e,r?"class":"style",i)}function f(n,t,e,i){let r=Me(),o=r[_e],s=n+Ut,a=o.firstCreatePass?zS(s,r,2,t,vS,ry(),e,i):o.data[s];if(yS(a,r,n,t,JS),vd(a)){let c=r[_e];Vb(c,r,a),HI(c,a,r)}return i!=null&&Kh(r,a),f}function h(){let n=Ht(),t=sn(),e=bS(t);return n.firstCreatePass&&VS(n,e),oy(e)&&sy(),iy(),e.classesWithoutHost!=null&&KB(e)&&fb(n,e,Me(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&QB(e)&&fb(n,e,Me(),e.stylesWithoutHost,!1),h}function w(n,t,e,i){return f(n,t,e,i),h(),w}function bt(n,t,e,i){let r=Me(),o=r[_e],s=n+Ut,a=o.firstCreatePass?bz(s,o,2,t,e,i):o.data[s];return yS(a,r,n,t,JS),i!=null&&Kh(r,a),bt}function Ot(){let n=sn(),t=bS(n);return oy(t)&&sy(),iy(),Ot}function rr(n,t,e,i){return bt(n,t,e,i),Ot(),rr}var JS=(n,t,e,i,r)=>(ah(!0),ZI(t[yt],i,kx()));function ce(){return Me()}var Vd="en-US";var vV=Vd;function eT(n){typeof n=="string"&&(vV=n.toLowerCase().replace(/_/g,"-"))}function z(n,t,e){let i=Me(),r=Ht(),o=sn();return tT(r,i,i[yt],o,n,t,e),z}function tT(n,t,e,i,r,o,s){let a=!0,c=null;if((i.type&3||s)&&(c??=My(i,t,o),Mz(i,n,t,s,e,r,o,c)&&(a=!1)),a){let l=i.outputs?.[r],m=i.hostDirectiveOutputs?.[r];if(m&&m.length)for(let g=0;g<m.length;g+=2){let C=m[g],E=m[g+1];c??=My(i,t,o),aI(i,t,C,E,r,c)}if(l&&l.length)for(let g of l)c??=My(i,t,o),aI(i,t,g,r,r,c)}}function x(n=1){return Ax(n)}function eC(n,t,e,i){Gz(n,t,e,i)}function tC(n){let t=Me(),e=Ht(),i=uy();eh(i+1);let r=Kb(e,i);if(n.dirty&&px(t)===((r.metadata.flags&2)===2)){if(r.matches===null)n.reset([]);else{let o=Zz(t,i);n.reset(o,c6),n.notifyOnChanges()}return!0}return!1}function nC(){return qz(Me(),uy())}function ph(n,t){return n<<17|t<<2}function va(n){return n>>17&32767}function yV(n){return(n&2)==2}function bV(n,t){return n&131071|t<<17}function pb(n){return n|2}function Bc(n){return(n&131068)>>2}function xy(n,t){return n&-131069|t<<2}function CV(n){return(n&1)===1}function hb(n){return n|1}function wV(n,t,e,i,r,o){let s=o?t.classBindings:t.styleBindings,a=va(s),c=Bc(s);n[i]=e;let l=!1,m;if(Array.isArray(e)){let g=e;m=g[1],(m===null||Pc(g,m)>0)&&(l=!0)}else m=e;if(r)if(c!==0){let C=va(n[a+1]);n[i+1]=ph(C,a),C!==0&&(n[C+1]=xy(n[C+1],i)),n[a+1]=bV(n[a+1],i)}else n[i+1]=ph(a,0),a!==0&&(n[a+1]=xy(n[a+1],i)),a=i;else n[i+1]=ph(c,0),a===0?a=i:n[c+1]=xy(n[c+1],i),c=i;l&&(n[i+1]=pb(n[i+1])),pI(n,m,i,!0),pI(n,m,i,!1),MV(t,m,n,i,o),s=ph(a,c),o?t.classBindings=s:t.styleBindings=s}function MV(n,t,e,i,r){let o=r?n.residualClasses:n.residualStyles;o!=null&&typeof t=="string"&&Pc(o,t)>=0&&(e[i+1]=hb(e[i+1]))}function pI(n,t,e,i){let r=n[e+1],o=t===null,s=i?va(r):Bc(r),a=!1;for(;s!==0&&(a===!1||o);){let c=n[s],l=n[s+1];EV(c,t)&&(a=!0,n[s+1]=i?hb(l):pb(l)),s=i?va(l):Bc(l)}a&&(n[e+1]=i?pb(r):hb(r))}function EV(n,t){return n===null||t==null||(Array.isArray(n)?n[1]:n)===t?!0:Array.isArray(n)&&typeof t=="string"?Pc(n,t)>=0:!1}var nr={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function PV(n){return n.substring(nr.key,nr.keyEnd)}function OV(n){return xV(n),nT(n,iT(n,0,nr.textEnd))}function nT(n,t){let e=nr.textEnd;return e===t?-1:(t=nr.keyEnd=IV(n,nr.key=t,e),iT(n,t,e))}function xV(n){nr.key=0,nr.keyEnd=0,nr.value=0,nr.valueEnd=0,nr.textEnd=n.length}function iT(n,t,e){for(;t<e&&n.charCodeAt(t)<=32;)t++;return t}function IV(n,t,e){for(;t<e&&n.charCodeAt(t)>32;)t++;return t}function Ai(n,t,e){return rT(n,t,e,!1),Ai}function U(n,t){return rT(n,t,null,!0),U}function ps(n){TV(LV,SV,n,!0)}function SV(n,t){for(let e=OV(t);e>=0;e=nT(t,e))Wp(n,PV(t),!0)}function rT(n,t,e,i){let r=Me(),o=Ht(),s=Xp(2);if(o.firstUpdatePass&&sT(o,n,s,i),t!==kn&&pi(r,s,t)){let a=o.data[Rr()];aT(o,a,r,r[yt],n,r[s+1]=BV(t,e),i,s)}}function TV(n,t,e,i){let r=Ht(),o=Xp(2);r.firstUpdatePass&&sT(r,null,o,i);let s=Me();if(e!==kn&&pi(s,o,e)){let a=r.data[Rr()];if(cT(a,i)&&!oT(r,o)){let c=i?a.classesWithoutHost:a.stylesWithoutHost;c!==null&&(e=Up(c,e||"")),fb(r,a,s,e,i)}else FV(r,a,s,s[yt],s[o+1],s[o+1]=NV(n,t,e),i,o)}}function oT(n,t){return t>=n.expandoStartIndex}function sT(n,t,e,i){let r=n.data;if(r[e+1]===null){let o=r[Rr()],s=oT(n,e);cT(o,i)&&t===null&&!s&&(t=!1),t=DV(r,o,t,i),wV(r,o,t,e,s,i)}}function DV(n,t,e,i){let r=Ix(n),o=i?t.residualClasses:t.residualStyles;if(r===null)(i?t.classBindings:t.styleBindings)===0&&(e=Iy(null,n,t,e,i),e=Sd(e,t.attrs,i),o=null);else{let s=t.directiveStylingLast;if(s===-1||n[s]!==r)if(e=Iy(r,n,t,e,i),o===null){let c=AV(n,t,i);c!==void 0&&Array.isArray(c)&&(c=Iy(null,n,t,c[1],i),c=Sd(c,t.attrs,i),kV(n,t,i,c))}else o=RV(n,t,i)}return o!==void 0&&(i?t.residualClasses=o:t.residualStyles=o),e}function AV(n,t,e){let i=e?t.classBindings:t.styleBindings;if(Bc(i)!==0)return n[va(i)]}function kV(n,t,e,i){let r=e?t.classBindings:t.styleBindings;n[va(r)]=i}function RV(n,t,e){let i,r=t.directiveEnd;for(let o=1+t.directiveStylingLast;o<r;o++){let s=n[o].hostAttrs;i=Sd(i,s,e)}return Sd(i,t.attrs,e)}function Iy(n,t,e,i,r){let o=null,s=e.directiveEnd,a=e.directiveStylingLast;for(a===-1?a=e.directiveStart:a++;a<s&&(o=t[a],i=Sd(i,o.hostAttrs,r),o!==n);)a++;return n!==null&&(e.directiveStylingLast=a),i}function Sd(n,t,e){let i=e?1:2,r=-1;if(t!==null)for(let o=0;o<t.length;o++){let s=t[o];typeof s=="number"?r=s:r===i&&(Array.isArray(n)||(n=n===void 0?[]:["",n]),Wp(n,s,e?!0:t[++o]))}return n===void 0?null:n}function NV(n,t,e){if(e==null||e==="")return zn;let i=[],r=Di(e);if(Array.isArray(r))for(let o=0;o<r.length;o++)n(i,r[o],!0);else if(typeof r=="object")for(let o in r)r.hasOwnProperty(o)&&n(i,o,r[o]);else typeof r=="string"&&t(i,r);return i}function LV(n,t,e){let i=String(t);i!==""&&!i.includes(" ")&&Wp(n,i,e)}function FV(n,t,e,i,r,o,s,a){r===kn&&(r=zn);let c=0,l=0,m=0<r.length?r[0]:null,g=0<o.length?o[0]:null;for(;m!==null||g!==null;){let C=c<r.length?r[c+1]:void 0,E=l<o.length?o[l+1]:void 0,S=null,k;m===g?(c+=2,l+=2,C!==E&&(S=g,k=E)):g===null||m!==null&&m<g?(c+=2,S=m):(l+=2,S=g,k=E),S!==null&&aT(n,t,e,i,S,k,s,a),m=c<r.length?r[c]:null,g=l<o.length?o[l]:null}}function aT(n,t,e,i,r,o,s,a){if(!(t.type&3))return;let c=n.data,l=c[a+1],m=CV(l)?hI(c,t,e,r,Bc(l),s):void 0;if(!Lh(m)){Lh(o)||yV(l)&&(o=hI(c,null,e,r,a,s));let g=Qv(Rr(),e);O5(i,s,g,r,o)}}function hI(n,t,e,i,r,o){let s=t===null,a;for(;r>0;){let c=n[r],l=Array.isArray(c),m=l?c[1]:c,g=m===null,C=e[r+1];C===kn&&(C=g?zn:void 0);let E=g?Gp(C,i):m===i?C:void 0;if(l&&!Lh(E)&&(E=Gp(c,i)),Lh(E)&&(a=E,s))return a;let S=n[r+1];r=s?va(S):Bc(S)}if(t!==null){let c=o?t.residualClasses:t.residualStyles;c!=null&&(a=Gp(c,i))}return a}function Lh(n){return n!==void 0}function BV(n,t){return n==null||n===""||(typeof t=="string"?n=n+t:typeof n=="object"&&(n=po(Di(n)))),n}function cT(n,t){return(n.flags&(t?8:16))!==0}function _(n,t=""){let e=Me(),i=Ht(),r=n+Ut,o=i.firstCreatePass?Ld(i,r,1,t,null):i.data[r],s=zV(i,e,o,t,n);e[r]=s,sh()&&Bb(i,e,s,o),Dc(o,!1)}var zV=(n,t,e,i,r)=>(ah(!0),F6(t[yt],i));function VV(n,t,e,i=""){return pi(n,cs(),e)?t+is(e)+i:kn}function jV(n,t,e,i,r,o=""){let s=Mx(),a=Gb(n,s,e,r);return Xp(2),a?t+is(e)+i+is(r)+o:kn}function I(n){return M("",n),I}function M(n,t,e){let i=Me(),r=VV(i,n,t,e);return r!==kn&&lT(i,Rr(),r),M}function Ct(n,t,e,i,r){let o=Me(),s=jV(o,n,t,e,i,r);return s!==kn&&lT(o,Rr(),s),Ct}function lT(n,t,e){let i=Qv(t,n);B6(n[yt],i,e)}function or(n,t,e){my(t)&&(t=t());let i=Me(),r=cs();if(pi(i,r,t)){let o=Ht(),s=ih();_S(s,i,n,t,i[yt],e)}return or}function zr(n,t){let e=my(n);return e&&n.set(t),e}function sr(n,t){let e=Me(),i=Ht(),r=sn();return tT(i,e,e[yt],r,n,t),sr}function ei(n){return pi(Me(),cs(),n)?is(n):kn}function UV(n,t,e){let i=Ht();if(i.firstCreatePass){let r=kr(n);gb(e,i.data,i.blueprint,r,!0),gb(t,i.data,i.blueprint,r,!1)}}function gb(n,t,e,i,r){if(n=vn(n),Array.isArray(n))for(let o=0;o<n.length;o++)gb(n[o],t,e,i,r);else{let o=Ht(),s=Me(),a=sn(),c=ra(n)?n:vn(n.provide),l=$v(n),m=a.providerIndexes&1048575,g=a.directiveStart,C=a.providerIndexes>>20;if(ra(n)||!n.multi){let E=new ha(l,r,A,null),S=Ty(c,t,r?m:m+C,g);S===-1?(Ay(wh(a,s),o,c),Sy(o,n,t.length),t.push(c),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),e.push(E),s.push(E)):(e[S]=E,s[S]=E)}else{let E=Ty(c,t,m+C,g),S=Ty(c,t,m,m+C),k=E>=0&&e[E],R=S>=0&&e[S];if(r&&!R||!r&&!k){Ay(wh(a,s),o,c);let V=qV(r?HV:$V,e.length,r,i,l,n);!r&&R&&(e[S].providerFactory=V),Sy(o,n,t.length,0),t.push(c),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),e.push(V),s.push(V)}else{let V=dT(e[r?S:E],l,!r&&i);Sy(o,n,E>-1?E:S,V)}!r&&i&&R&&e[S].componentProviders++}}}function Sy(n,t,e,i){let r=ra(t),o=lx(t);if(r||o){let c=(o?vn(t.useClass):t).prototype.ngOnDestroy;if(c){let l=n.destroyHooks||(n.destroyHooks=[]);if(!r&&t.multi){let m=l.indexOf(e);m===-1?l.push(e,[i,c]):l[m+1].push(i,c)}else l.push(e,c)}}}function dT(n,t,e){return e&&n.componentProviders++,n.multi.push(t)-1}function Ty(n,t,e,i){for(let r=e;r<i;r++)if(t[r]===n)return r;return-1}function $V(n,t,e,i,r){return mb(this.multi,[])}function HV(n,t,e,i,r){let o=this.multi,s;if(this.providerFactory){let a=this.providerFactory.componentProviders,c=Ed(i,i[_e],this.providerFactory.index,r);s=c.slice(0,a),mb(o,s);for(let l=a;l<c.length;l++)s.push(c[l])}else s=[],mb(o,s);return s}function mb(n,t){for(let e=0;e<n.length;e++){let i=n[e];t.push(i())}return t}function qV(n,t,e,i,r,o){let s=new ha(n,e,A,null);return s.multi=[],s.index=t,s.componentProviders=0,dT(s,r,i&&!e),s}function Vn(n,t=[]){return e=>{e.providersResolver=(i,r)=>UV(i,r?r(n):n,t)}}function Po(n,t,e){let i=Ac()+n,r=Me();return r[i]===kn?Xh(r,i,e?t.call(e):t()):Cz(r,i)}function ar(n,t,e,i){return uT(Me(),Ac(),n,t,e,i)}function iC(n,t,e,i,r){return WV(Me(),Ac(),n,t,e,i,r)}function rC(n,t){let e=n[t];return e===kn?void 0:e}function uT(n,t,e,i,r,o){let s=t+e;return pi(n,s,r)?Xh(n,s+1,o?i.call(o,r):i(r)):rC(n,s+1)}function WV(n,t,e,i,r,o,s){let a=t+e;return Gb(n,a,r,o)?Xh(n,a+2,s?i.call(s,r,o):i(r,o)):rC(n,a+2)}function GV(n,t,e,i,r,o,s,a){let c=t+e;return wz(n,c,r,o,s)?Xh(n,c+3,a?i.call(a,r,o,s):i(r,o,s)):rC(n,c+3)}function v(n,t){let e=Ht(),i,r=n+Ut;e.firstCreatePass?(i=KV(t,e.pipeRegistry),e.data[r]=i,i.onDestroy&&(e.destroyHooks??=[]).push(r,i.onDestroy)):i=e.data[r];let o=i.factory||(i.factory=es(i.type,!0)),s,a=Bn(A);try{let c=Ch(!1),l=o();return Ch(c),Zv(e,Me(),r,l),l}finally{Bn(a)}}function KV(n,t){if(t)for(let e=t.length-1;e>=0;e--){let i=t[e];if(n===i.name)return i}}function y(n,t,e){let i=n+Ut,r=Me(),o=Yv(r,i);return fT(r,i)?uT(r,Ac(),t,o.transform,e,o):o.transform(e)}function jd(n,t,e,i,r){let o=n+Ut,s=Me(),a=Yv(s,o);return fT(s,o)?GV(s,Ac(),t,a.transform,e,i,r,a):a.transform(e,i,r)}function fT(n,t){return n[_e].data[t].pure}var Fh=class{ngModuleFactory;componentFactories;constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}},oC=(()=>{class n{compileModuleSync(e){return new Ah(e)}compileModuleAsync(e){return Promise.resolve(this.compileModuleSync(e))}compileModuleAndAllComponentsSync(e){let i=this.compileModuleSync(e),r=zv(e),o=nS(r.declarations).reduce((s,a)=>{let c=mo(a);return c&&s.push(new ma(c)),s},[]);return new Fh(i,o)}compileModuleAndAllComponentsAsync(e){return Promise.resolve(this.compileModuleAndAllComponentsSync(e))}clearCache(){}clearCacheFor(e){}getModuleId(e){}static \u0275fac=function(i){return new(i||n)};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var QV=(()=>{class n{zone=N(ze);changeDetectionScheduler=N(ho);applicationRef=N(Br);applicationErrorHandler=N(Xn);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{try{this.applicationRef.dirtyFlags|=1,this.applicationRef._tick()}catch(e){this.applicationErrorHandler(e)}})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(i){return new(i||n)};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),pT=new Z("",{factory:()=>!1});function sC({ngZoneFactory:n,ignoreChangesOutsideZone:t,scheduleInRootZone:e}){return n??=()=>new ze(oe(B({},cC()),{scheduleInRootZone:e})),[{provide:ze,useFactory:n},{provide:go,multi:!0,useFactory:()=>{let i=N(QV,{optional:!0});return()=>i.initialize()}},{provide:go,multi:!0,useFactory:()=>{let i=N(YV);return()=>{i.initialize()}}},t===!0?{provide:_y,useValue:!0}:[],{provide:vy,useValue:e??aS},{provide:Xn,useFactory:()=>{let i=N(ze),r=N(Pt),o;return s=>{i.runOutsideAngular(()=>{r.destroyed&&!o?setTimeout(()=>{throw s}):(o??=r.get(Zi),o.handleError(s))})}}}]}function aC(n){let t=n?.ignoreChangesOutsideZone,e=n?.scheduleInRootZone,i=sC({ngZoneFactory:()=>{let r=cC(n);return r.scheduleInRootZone=e,r.shouldCoalesceEventChangeDetection&&hi("NgZone_CoalesceEvent"),new ze(r)},ignoreChangesOutsideZone:t,scheduleInRootZone:e});return bn([{provide:pT,useValue:!0},{provide:kc,useValue:!1},i])}function cC(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}var YV=(()=>{class n{subscription=new It;initialized=!1;zone=N(ze);pendingTasks=N(Nr);initialize(){if(this.initialized)return;this.initialized=!0;let e=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(e=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{ze.assertNotInAngularZone(),queueMicrotask(()=>{e!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(e),e=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{ze.assertInAngularZone(),e??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(i){return new(i||n)};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var hT=(()=>{class n{applicationErrorHandler=N(Xn);appRef=N(Br);taskService=N(Nr);ngZone=N(ze);zonelessEnabled=N(kc);tracing=N(ba,{optional:!0});disableScheduling=N(_y,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new It;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Ph):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(N(vy,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Oh||!this.zoneIsDefined)}notify(e){if(!this.zonelessEnabled&&e===5)return;let i=!1;switch(e){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,i=!0;break}case 12:{this.appRef.dirtyFlags|=16,i=!0;break}case 13:{this.appRef.dirtyFlags|=2,i=!0;break}case 11:{i=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(i))return;let r=this.useMicrotaskScheduler?Zx:cS;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>r(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>r(()=>this.tick()))}shouldScheduleTick(e){return!(this.disableScheduling&&!e||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Ph+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let e=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(i){this.taskService.remove(e),this.applicationErrorHandler(i)}finally{this.cleanup()}this.useMicrotaskScheduler=!0,Zx(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(e)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let e=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(e)}}static \u0275fac=function(i){return new(i||n)};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function ZV(){return typeof $localize<"u"&&$localize.locale||Vd}var ng=new Z("",{providedIn:"root",factory:()=>N(ng,{optional:!0,skipSelf:!0})||ZV()});function ln(n){return KO(n)}function Uc(n,t){return up(n,t?.equal)}var gT=class{[Dn];constructor(t){this[Dn]=t}destroy(){this[Dn].destroy()}};var bT=Symbol("InputSignalNode#UNSET"),uj=oe(B({},fp),{transformFn:void 0,applyValueToInputSignal(n,t){fc(n,t)}});function CT(n,t){let e=Object.create(uj);e.value=n,e.transformFn=t?.transform;function i(){if(lc(e),e.value===bT){let r=null;throw new j(-950,r)}return e.value}return i[Dn]=e,i}var rg=class{attributeName;constructor(t){this.attributeName=t}__NG_ELEMENT_ID__=()=>Td(this.attributeName);toString(){return`HostAttributeToken ${this.attributeName}`}},fj=new Z("");fj.__NG_ELEMENT_ID__=n=>{let t=sn();if(t===null)throw new j(204,!1);if(t.type&2)return t.value;if(n&8)return null;throw new j(204,!1)};function mT(n,t){return CT(n,t)}function pj(n){return CT(bT,n)}var wT=(mT.required=pj,mT);var lC=new Z(""),hj=new Z("");function Ud(n){return!n.moduleRef}function gj(n){let t=Ud(n)?n.r3Injector:n.moduleRef.injector,e=t.get(ze);return e.run(()=>{Ud(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();let i=t.get(Xn),r;if(e.runOutsideAngular(()=>{r=e.onError.subscribe({next:i})}),Ud(n)){let o=()=>t.destroy(),s=n.platformInjector.get(lC);s.add(o),t.onDestroy(()=>{r.unsubscribe(),s.delete(o)})}else{let o=()=>n.moduleRef.destroy(),s=n.platformInjector.get(lC);s.add(o),n.moduleRef.onDestroy(()=>{Md(n.allPlatformModules,n.moduleRef),r.unsubscribe(),s.delete(o)})}return _j(i,e,()=>{let o=t.get(Nr),s=o.add(),a=t.get(Xb);return a.runInitializers(),a.donePromise.then(()=>{let c=t.get(ng,Vd);if(eT(c||Vd),!t.get(hj,!0))return Ud(n)?t.get(Br):(n.allPlatformModules.push(n.moduleRef),n.moduleRef);if(Ud(n)){let m=t.get(Br);return n.rootComponent!==void 0&&m.bootstrap(n.rootComponent),m}else return mj?.(n.moduleRef,n.allPlatformModules),n.moduleRef}).finally(()=>void o.remove(s))})})}var mj;function _j(n,t,e){try{let i=e();return fs(i)?i.catch(r=>{throw t.runOutsideAngular(()=>n(r)),r}):i}catch(i){throw t.runOutsideAngular(()=>n(i)),i}}var ig=null;function vj(n=[],t){return De.create({name:t,providers:[{provide:pd,useValue:"platform"},{provide:lC,useValue:new Set([()=>ig=null])},...n]})}function yj(n=[]){if(ig)return ig;let t=vj(n);return ig=t,ZS(),bj(t),t}function bj(n){let t=n.get(zh,null);X(n,()=>{t?.forEach(e=>e())})}function hC(){return!1}var cr=(()=>{class n{static __NG_ELEMENT_ID__=Cj}return n})();function Cj(n){return wj(sn(),Me(),(n&16)===16)}function wj(n,t,e){if(as(n)&&!e){let i=Ii(n.index,t);return new ds(i,i)}else if(n.type&175){let i=t[ui];return new ds(i,t)}return null}var dC=class{constructor(){}supports(t){return Wb(t)}create(t){return new uC(t)}},Mj=(n,t)=>t,uC=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(t){this._trackByFn=t||Mj}forEachItem(t){let e;for(e=this._itHead;e!==null;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,i=this._removalsHead,r=0,o=null;for(;e||i;){let s=!i||e&&e.currentIndex<_T(i,r,o)?e:i,a=_T(s,r,o),c=s.currentIndex;if(s===i)r--,i=i._nextRemoved;else if(e=e._next,s.previousIndex==null)r++;else{o||(o=[]);let l=a-r,m=c-r;if(l!=m){for(let C=0;C<l;C++){let E=C<o.length?o[C]:o[C]=0,S=E+C;m<=S&&S<l&&(o[C]=E+1)}let g=s.previousIndex;o[g]=m-l}}a!==c&&t(s,a,c)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;e!==null;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;e!==null;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;e!==null;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;e!==null;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;e!==null;e=e._nextIdentityChange)t(e)}diff(t){if(t==null&&(t=[]),!Wb(t))throw new j(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._itHead,i=!1,r,o,s;if(Array.isArray(t)){this.length=t.length;for(let a=0;a<this.length;a++)o=t[a],s=this._trackByFn(a,o),e===null||!Object.is(e.trackById,s)?(e=this._mismatch(e,o,s,a),i=!0):(i&&(e=this._verifyReinsertion(e,o,s,a)),Object.is(e.item,o)||this._addIdentityChange(e,o)),e=e._next}else r=0,jS(t,a=>{s=this._trackByFn(r,a),e===null||!Object.is(e.trackById,s)?(e=this._mismatch(e,a,s,r),i=!0):(i&&(e=this._verifyReinsertion(e,a,s,r)),Object.is(e.item,a)||this._addIdentityChange(e,a)),e=e._next,r++}),this.length=r;return this._truncate(e),this.collection=t,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;t!==null;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;t!==null;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;t!==null;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,i,r){let o;return t===null?o=this._itTail:(o=t._prev,this._remove(t)),t=this._unlinkedRecords===null?null:this._unlinkedRecords.get(i,null),t!==null?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,o,r)):(t=this._linkedRecords===null?null:this._linkedRecords.get(i,r),t!==null?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,o,r)):t=this._addAfter(new fC(e,i),o,r)),t}_verifyReinsertion(t,e,i,r){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(i,null);return o!==null?t=this._reinsertAfter(o,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;t!==null;){let e=t._next;this._addToRemovals(this._unlink(t)),t=e}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,i){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(t);let r=t._prevRemoved,o=t._nextRemoved;return r===null?this._removalsHead=o:r._nextRemoved=o,o===null?this._removalsTail=r:o._prevRemoved=r,this._insertAfter(t,e,i),this._addToMoves(t,i),t}_moveAfter(t,e,i){return this._unlink(t),this._insertAfter(t,e,i),this._addToMoves(t,i),t}_addAfter(t,e,i){return this._insertAfter(t,e,i),this._additionsTail===null?this._additionsTail=this._additionsHead=t:this._additionsTail=this._additionsTail._nextAdded=t,t}_insertAfter(t,e,i){let r=e===null?this._itHead:e._next;return t._next=r,t._prev=e,r===null?this._itTail=t:r._prev=t,e===null?this._itHead=t:e._next=t,this._linkedRecords===null&&(this._linkedRecords=new og),this._linkedRecords.put(t),t.currentIndex=i,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){this._linkedRecords!==null&&this._linkedRecords.remove(t);let e=t._prev,i=t._next;return e===null?this._itHead=i:e._next=i,i===null?this._itTail=e:i._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail===null?this._movesTail=this._movesHead=t:this._movesTail=this._movesTail._nextMoved=t),t}_addToRemovals(t){return this._unlinkedRecords===null&&(this._unlinkedRecords=new og),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=t:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=t,t}},fC=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(t,e){this.item=t,this.trackById=e}},pC=class{_head=null;_tail=null;add(t){this._head===null?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let i;for(i=this._head;i!==null;i=i._nextDup)if((e===null||e<=i.currentIndex)&&Object.is(i.trackById,t))return i;return null}remove(t){let e=t._prevDup,i=t._nextDup;return e===null?this._head=i:e._nextDup=i,i===null?this._tail=e:i._prevDup=e,this._head===null}},og=class{map=new Map;put(t){let e=t.trackById,i=this.map.get(e);i||(i=new pC,this.map.set(e,i)),i.add(t)}get(t,e){let i=t,r=this.map.get(i);return r?r.get(t,e):null}remove(t){let e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function _T(n,t,e){let i=n.previousIndex;if(i===null)return i;let r=0;return e&&i<e.length&&(r=e[i]),i+t+r}function vT(){return new gC([new dC])}var gC=(()=>{class n{factories;static \u0275prov=q({token:n,providedIn:"root",factory:vT});constructor(e){this.factories=e}static create(e,i){if(i!=null){let r=i.factories.slice();e=e.concat(r)}return new n(e)}static extend(e){return{provide:n,useFactory:()=>{let i=N(n,{optional:!0,skipSelf:!0});return n.create(e,i||vT())}}}find(e){let i=this.factories.find(r=>r.supports(e));if(i!=null)return i;throw new j(901,!1)}}return n})();function MT(n){let{rootComponent:t,appProviders:e,platformProviders:i,platformRef:r}=n;nt(8);try{let o=r?.injector??yj(i),s=[sC({}),{provide:ho,useExisting:hT},Nx,...e||[]],a=new Id({providers:s,parent:o,debugName:"",runEnvironmentInitializers:!1});return gj({r3Injector:a.injector,platformInjector:o,rootComponent:t})}catch(o){return Promise.reject(o)}finally{nt(9)}}function Ca(n){return typeof n=="boolean"?n:n!=null&&n!=="false"}function ET(n){let t=mo(n);if(!t)return null;let e=new ma(t);return{get selector(){return e.selector},get type(){return e.componentType},get inputs(){return e.inputs},get outputs(){return e.outputs},get ngContentSelectors(){return e.ngContentSelectors},get isStandalone(){return t.standalone},get isSignal(){return t.signals}}}var xT=null;function ki(){return xT}function mC(n){xT??=n}var $d=class{},Hd=(()=>{class n{historyGo(e){throw new Error("")}static \u0275fac=function(i){return new(i||n)};static \u0275prov=q({token:n,factory:()=>N(IT),providedIn:"platform"})}return n})(),_C=new Z(""),IT=(()=>{class n extends Hd{_location;_history;_doc=N(gt);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return ki().getBaseHref(this._doc)}onPopState(e){let i=ki().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",e,!1),()=>i.removeEventListener("popstate",e)}onHashChange(e){let i=ki().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",e,!1),()=>i.removeEventListener("hashchange",e)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(e){this._location.pathname=e}pushState(e,i,r){this._history.pushState(e,i,r)}replaceState(e,i,r){this._history.replaceState(e,i,r)}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}static \u0275fac=function(i){return new(i||n)};static \u0275prov=q({token:n,factory:()=>new n,providedIn:"platform"})}return n})();function sg(n,t){return n?t?n.endsWith("/")?t.startsWith("/")?n+t.slice(1):n+t:t.startsWith("/")?n+t:`${n}/${t}`:n:t}function PT(n){let t=n.search(/#|\?|$/);return n[t-1]==="/"?n.slice(0,t-1)+n.slice(t):n}function lr(n){return n&&n[0]!=="?"?`?${n}`:n}var Ri=(()=>{class n{historyGo(e){throw new Error("")}static \u0275fac=function(i){return new(i||n)};static \u0275prov=q({token:n,factory:()=>N(cg),providedIn:"root"})}return n})(),ag=new Z(""),cg=(()=>{class n extends Ri{_platformLocation;_baseHref;_removeListenerFns=[];constructor(e,i){super(),this._platformLocation=e,this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??N(gt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return sg(this._baseHref,e)}path(e=!1){let i=this._platformLocation.pathname+lr(this._platformLocation.search),r=this._platformLocation.hash;return r&&e?`${i}${r}`:i}pushState(e,i,r,o){let s=this.prepareExternalUrl(r+lr(o));this._platformLocation.pushState(e,i,s)}replaceState(e,i,r,o){let s=this.prepareExternalUrl(r+lr(o));this._platformLocation.replaceState(e,i,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static \u0275fac=function(i){return new(i||n)(W(Hd),W(ag,8))};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),hs=(()=>{class n{_subject=new le;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(e){this._locationStrategy=e;let i=this._locationStrategy.getBaseHref();this._basePath=Oj(PT(OT(i))),this._locationStrategy.onPopState(r=>{this._subject.next({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,i=""){return this.path()==this.normalize(e+lr(i))}normalize(e){return n.stripTrailingSlash(Pj(this._basePath,OT(e)))}prepareExternalUrl(e){return e&&e[0]!=="/"&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,i="",r=null){this._locationStrategy.pushState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+lr(i)),r)}replaceState(e,i="",r=null){this._locationStrategy.replaceState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+lr(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{let i=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",i){this._urlChangeListeners.forEach(r=>r(e,i))}subscribe(e,i,r){return this._subject.subscribe({next:e,error:i??void 0,complete:r??void 0})}static normalizeQueryParams=lr;static joinWithSlash=sg;static stripTrailingSlash=PT;static \u0275fac=function(i){return new(i||n)(W(Ri))};static \u0275prov=q({token:n,factory:()=>Ej(),providedIn:"root"})}return n})();function Ej(){return new hs(W(Ri))}function Pj(n,t){if(!n||!t.startsWith(n))return t;let e=t.substring(n.length);return e===""||["/",";","?","#"].includes(e[0])?e:t}function OT(n){return n.replace(/\/index.html$/,"")}function Oj(n){if(new RegExp("^(https?:)?//").test(n)){let[,e]=n.split(/\/\/[^\/]+/);return e}return n}var ug=(()=>{class n extends Ri{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(e,i){super(),this._platformLocation=e,i!=null&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let i=this._platformLocation.hash??"#";return i.length>0?i.substring(1):i}prepareExternalUrl(e){let i=sg(this._baseHref,e);return i.length>0?"#"+i:i}pushState(e,i,r,o){let s=this.prepareExternalUrl(r+lr(o))||this._platformLocation.pathname;this._platformLocation.pushState(e,i,s)}replaceState(e,i,r,o){let s=this.prepareExternalUrl(r+lr(o))||this._platformLocation.pathname;this._platformLocation.replaceState(e,i,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static \u0275fac=function(i){return new(i||n)(W(Hd),W(ag,8))};static \u0275prov=q({token:n,factory:n.\u0275fac})}return n})();var vC=/\s+/,ST=[],Xt=(()=>{class n{_ngEl;_renderer;initialClasses=ST;rawClass;stateMap=new Map;constructor(e,i){this._ngEl=e,this._renderer=i}set klass(e){this.initialClasses=e!=null?e.trim().split(vC):ST}set ngClass(e){this.rawClass=typeof e=="string"?e.trim().split(vC):e}ngDoCheck(){for(let i of this.initialClasses)this._updateState(i,!0);let e=this.rawClass;if(Array.isArray(e)||e instanceof Set)for(let i of e)this._updateState(i,!0);else if(e!=null)for(let i of Object.keys(e))this._updateState(i,!!e[i]);this._applyStateDiff()}_updateState(e,i){let r=this.stateMap.get(e);r!==void 0?(r.enabled!==i&&(r.changed=!0,r.enabled=i),r.touched=!0):this.stateMap.set(e,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(let e of this.stateMap){let i=e[0],r=e[1];r.changed?(this._toggleClass(i,r.enabled),r.changed=!1):r.touched||(r.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),r.touched=!1}}_toggleClass(e,i){e=e.trim(),e.length>0&&e.split(vC).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}static \u0275fac=function(i){return new(i||n)(A(cn),A(gi))};static \u0275dir=We({type:n,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return n})();var lg=class{$implicit;ngForOf;index;count;constructor(t,e,i,r){this.$implicit=t,this.ngForOf=e,this.index=i,this.count=r}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},Nn=(()=>{class n{_viewContainer;_template;_differs;set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(e,i,r){this._viewContainer=e,this._template=i,this._differs=r}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){let e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){let i=this._viewContainer;e.forEachOperation((r,o,s)=>{if(r.previousIndex==null)i.createEmbeddedView(this._template,new lg(r.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)i.remove(o===null?void 0:o);else if(o!==null){let a=i.get(o);i.move(a,s),TT(a,r)}});for(let r=0,o=i.length;r<o;r++){let a=i.get(r).context;a.index=r,a.count=o,a.ngForOf=this._ngForOf}e.forEachIdentityChange(r=>{let o=i.get(r.currentIndex);TT(o,r)})}static ngTemplateContextGuard(e,i){return!0}static \u0275fac=function(i){return new(i||n)(A(Eo),A(us),A(gC))};static \u0275dir=We({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return n})();function TT(n,t){n.context.$implicit=t.item}var wn=(()=>{class n{_viewContainer;_context=new dg;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(e,i){this._viewContainer=e,this._thenTemplateRef=i}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){DT(e,!1),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){DT(e,!1),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(e,i){return!0}static \u0275fac=function(i){return new(i||n)(A(Eo),A(us))};static \u0275dir=We({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return n})(),dg=class{$implicit=null;ngIf=null};function DT(n,t){if(n&&!n.createEmbeddedView)throw new j(2020,!1)}function xj(n,t){return new j(2100,!1)}var qd=(()=>{class n{transform(e,i,r){if(e==null)return null;if(!(typeof e=="string"||Array.isArray(e)))throw xj(n,e);return e.slice(i,r)}static \u0275fac=function(i){return new(i||n)};static \u0275pipe=Bd({name:"slice",type:n,pure:!1})}return n})();var ge=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=Rn({type:n});static \u0275inj=yn({})}return n})();function Wd(n,t){t=encodeURIComponent(t);for(let e of n.split(";")){let i=e.indexOf("="),[r,o]=i==-1?[e,""]:[e.slice(0,i),e.slice(i+1)];if(r.trim()===t)return decodeURIComponent(o)}return null}var wa=class{};var AT="browser";var kT=(()=>{class n{static \u0275prov=q({token:n,providedIn:"root",factory:()=>new yC(N(gt),window)})}return n})(),yC=class{document;window;offset=()=>[0,0];constructor(t,e){this.document=t,this.window=e}setOffset(t){Array.isArray(t)?this.offset=()=>t:this.offset=t}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(t,e){this.window.scrollTo(oe(B({},e),{left:t[0],top:t[1]}))}scrollToAnchor(t,e){let i=Ij(this.document,t);i&&(this.scrollToElement(i,e),i.focus())}setHistoryScrollRestoration(t){try{this.window.history.scrollRestoration=t}catch{console.warn(Sr(2400,!1))}}scrollToElement(t,e){let i=t.getBoundingClientRect(),r=i.left+this.window.pageXOffset,o=i.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(oe(B({},e),{left:r-s[0],top:o-s[1]}))}};function Ij(n,t){let e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if(typeof n.createTreeWalker=="function"&&n.body&&typeof n.body.attachShadow=="function"){let i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT),r=i.currentNode;for(;r;){let o=r.shadowRoot;if(o){let s=o.getElementById(t)||o.querySelector(`[name="${t}"]`);if(s)return s}r=i.nextNode()}}return null}var Gd=class{_doc;constructor(t){this._doc=t}manager},fg=(()=>{class n extends Gd{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,r,o){return e.addEventListener(i,r,o),()=>this.removeEventListener(e,i,r,o)}removeEventListener(e,i,r,o){return e.removeEventListener(i,r,o)}static \u0275fac=function(i){return new(i||n)(W(gt))};static \u0275prov=q({token:n,factory:n.\u0275fac})}return n})(),hg=new Z(""),EC=(()=>{class n{_zone;_plugins;_eventNameToPlugin=new Map;constructor(e,i){this._zone=i,e.forEach(s=>{s.manager=this});let r=e.filter(s=>!(s instanceof fg));this._plugins=r.slice().reverse();let o=e.find(s=>s instanceof fg);o&&this._plugins.push(o)}addEventListener(e,i,r,o){return this._findPluginFor(i).addEventListener(e,i,r,o)}getZone(){return this._zone}_findPluginFor(e){let i=this._eventNameToPlugin.get(e);if(i)return i;if(i=this._plugins.find(o=>o.supports(e)),!i)throw new j(5101,!1);return this._eventNameToPlugin.set(e,i),i}static \u0275fac=function(i){return new(i||n)(W(hg),W(ze))};static \u0275prov=q({token:n,factory:n.\u0275fac})}return n})(),bC="ng-app-id";function RT(n){for(let t of n)t.remove()}function NT(n,t){let e=t.createElement("style");return e.textContent=n,e}function Sj(n,t,e,i){let r=n.head?.querySelectorAll(`style[${bC}="${t}"],link[${bC}="${t}"]`);if(r)for(let o of r)o.removeAttribute(bC),o instanceof HTMLLinkElement?i.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&e.set(o.textContent,{usage:0,elements:[o]})}function wC(n,t){let e=t.createElement("link");return e.setAttribute("rel","stylesheet"),e.setAttribute("href",n),e}var PC=(()=>{class n{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;constructor(e,i,r,o={}){this.doc=e,this.appId=i,this.nonce=r,Sj(e,i,this.inline,this.external),this.hosts.add(e.head)}addStyles(e,i){for(let r of e)this.addUsage(r,this.inline,NT);i?.forEach(r=>this.addUsage(r,this.external,wC))}removeStyles(e,i){for(let r of e)this.removeUsage(r,this.inline);i?.forEach(r=>this.removeUsage(r,this.external))}addUsage(e,i,r){let o=i.get(e);o?o.usage++:i.set(e,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,r(e,this.doc)))})}removeUsage(e,i){let r=i.get(e);r&&(r.usage--,r.usage<=0&&(RT(r.elements),i.delete(e)))}ngOnDestroy(){for(let[,{elements:e}]of[...this.inline,...this.external])RT(e);this.hosts.clear()}addHost(e){this.hosts.add(e);for(let[i,{elements:r}]of this.inline)r.push(this.addElement(e,NT(i,this.doc)));for(let[i,{elements:r}]of this.external)r.push(this.addElement(e,wC(i,this.doc)))}removeHost(e){this.hosts.delete(e)}addElement(e,i){return this.nonce&&i.setAttribute("nonce",this.nonce),e.appendChild(i)}static \u0275fac=function(i){return new(i||n)(W(gt),W(Bh),W(jh,8),W(ya))};static \u0275prov=q({token:n,factory:n.\u0275fac})}return n})(),CC={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},OC=/%COMP%/g;var FT="%COMP%",Tj=`_nghost-${FT}`,Dj=`_ngcontent-${FT}`,Aj=!0,kj=new Z("",{providedIn:"root",factory:()=>Aj});function Rj(n){return Dj.replace(OC,n)}function Nj(n){return Tj.replace(OC,n)}function BT(n,t){return t.map(e=>e.replace(OC,n))}var Yd=(()=>{class n{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(e,i,r,o,s,a,c=null,l=null){this.eventManager=e,this.sharedStylesHost=i,this.appId=r,this.removeStylesOnCompDestroy=o,this.doc=s,this.ngZone=a,this.nonce=c,this.tracingService=l,this.platformIsServer=!1,this.defaultRenderer=new Kd(e,s,a,this.platformIsServer,this.tracingService)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;let r=this.getOrCreateRenderer(e,i);return r instanceof pg?r.applyToHost(e):r instanceof Qd&&r.applyStyles(),r}getOrCreateRenderer(e,i){let r=this.rendererByCompId,o=r.get(i.id);if(!o){let s=this.doc,a=this.ngZone,c=this.eventManager,l=this.sharedStylesHost,m=this.removeStylesOnCompDestroy,g=this.platformIsServer,C=this.tracingService;switch(i.encapsulation){case yo.Emulated:o=new pg(c,l,i,this.appId,m,s,a,g,C);break;case yo.ShadowDom:return new MC(c,l,e,i,s,a,this.nonce,g,C);default:o=new Qd(c,l,i,m,s,a,g,C);break}r.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(e){this.rendererByCompId.delete(e)}static \u0275fac=function(i){return new(i||n)(W(EC),W(PC),W(Bh),W(kj),W(gt),W(ze),W(jh),W(ba,8))};static \u0275prov=q({token:n,factory:n.\u0275fac})}return n})(),Kd=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(t,e,i,r,o){this.eventManager=t,this.doc=e,this.ngZone=i,this.platformIsServer=r,this.tracingService=o}destroy(){}destroyNode=null;createElement(t,e){return e?this.doc.createElementNS(CC[e]||e,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,e){(LT(t)?t.content:t).appendChild(e)}insertBefore(t,e,i){t&&(LT(t)?t.content:t).insertBefore(e,i)}removeChild(t,e){e.remove()}selectRootElement(t,e){let i=typeof t=="string"?this.doc.querySelector(t):t;if(!i)throw new j(-5104,!1);return e||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,i,r){if(r){e=r+":"+e;let o=CC[r];o?t.setAttributeNS(o,e,i):t.setAttribute(e,i)}else t.setAttribute(e,i)}removeAttribute(t,e,i){if(i){let r=CC[i];r?t.removeAttributeNS(r,e):t.removeAttribute(`${i}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,i,r){r&(Fr.DashCase|Fr.Important)?t.style.setProperty(e,i,r&Fr.Important?"important":""):t.style[e]=i}removeStyle(t,e,i){i&Fr.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,i){t!=null&&(t[e]=i)}setValue(t,e){t.nodeValue=e}listen(t,e,i,r){if(typeof t=="string"&&(t=ki().getGlobalEventTarget(this.doc,t),!t))throw new j(5102,!1);let o=this.decoratePreventDefault(i);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(t,e,o)),this.eventManager.addEventListener(t,e,o,r)}decoratePreventDefault(t){return e=>{if(e==="__ngUnwrap__")return t;t(e)===!1&&e.preventDefault()}}};function LT(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var MC=class extends Kd{sharedStylesHost;hostEl;shadowRoot;constructor(t,e,i,r,o,s,a,c,l){super(t,o,s,c,l),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let m=r.styles;m=BT(r.id,m);for(let C of m){let E=document.createElement("style");a&&E.setAttribute("nonce",a),E.textContent=C,this.shadowRoot.appendChild(E)}let g=r.getExternalStyles?.();if(g)for(let C of g){let E=wC(C,o);a&&E.setAttribute("nonce",a),this.shadowRoot.appendChild(E)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,i){return super.insertBefore(this.nodeOrShadowRoot(t),e,i)}removeChild(t,e){return super.removeChild(null,e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Qd=class extends Kd{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(t,e,i,r,o,s,a,c,l){super(t,o,s,a,c),this.sharedStylesHost=e,this.removeStylesOnCompDestroy=r;let m=i.styles;this.styles=l?BT(l,m):m,this.styleUrls=i.getExternalStyles?.(l)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&ga.size===0&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},pg=class extends Qd{contentAttr;hostAttr;constructor(t,e,i,r,o,s,a,c,l){let m=r+"-"+i.id;super(t,e,i,o,s,a,c,l,m),this.contentAttr=Rj(m),this.hostAttr=Nj(m)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,e){let i=super.createElement(t,e);return super.setAttribute(i,this.contentAttr,""),i}};var gg=class n extends $d{supportsDOMEvents=!0;static makeCurrent(){mC(new n)}onAndCancel(t,e,i,r){return t.addEventListener(e,i,r),()=>{t.removeEventListener(e,i,r)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.remove()}createElement(t,e){return e=e||this.getDefaultDocument(),e.createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return e==="window"?window:e==="document"?t:e==="body"?t.body:null}getBaseHref(t){let e=Lj();return e==null?null:Fj(e)}resetBaseElement(){Zd=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return Wd(document.cookie,t)}},Zd=null;function Lj(){return Zd=Zd||document.head.querySelector("base"),Zd?Zd.getAttribute("href"):null}function Fj(n){return new URL(n,document.baseURI).pathname}var Bj=(()=>{class n{build(){return new XMLHttpRequest}static \u0275fac=function(i){return new(i||n)};static \u0275prov=q({token:n,factory:n.\u0275fac})}return n})(),zT=["alt","control","meta","shift"],zj={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Vj={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},VT=(()=>{class n extends Gd{constructor(e){super(e)}supports(e){return n.parseEventName(e)!=null}addEventListener(e,i,r,o){let s=n.parseEventName(i),a=n.eventCallback(s.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>ki().onAndCancel(e,s.domEventName,a,o))}static parseEventName(e){let i=e.toLowerCase().split("."),r=i.shift();if(i.length===0||!(r==="keydown"||r==="keyup"))return null;let o=n._normalizeKey(i.pop()),s="",a=i.indexOf("code");if(a>-1&&(i.splice(a,1),s="code."),zT.forEach(l=>{let m=i.indexOf(l);m>-1&&(i.splice(m,1),s+=l+".")}),s+=o,i.length!=0||o.length===0)return null;let c={};return c.domEventName=r,c.fullKey=s,c}static matchEventFullKeyCode(e,i){let r=zj[e.key]||e.key,o="";return i.indexOf("code.")>-1&&(r=e.code,o="code."),r==null||!r?!1:(r=r.toLowerCase(),r===" "?r="space":r==="."&&(r="dot"),zT.forEach(s=>{if(s!==r){let a=Vj[s];a(e)&&(o+=s+".")}}),o+=r,o===i)}static eventCallback(e,i,r){return o=>{n.matchEventFullKeyCode(o,e)&&r.runGuarded(()=>i(o))}}static _normalizeKey(e){return e==="esc"?"escape":e}static \u0275fac=function(i){return new(i||n)(W(gt))};static \u0275prov=q({token:n,factory:n.\u0275fac})}return n})();function xC(n,t,e){let i=B({rootComponent:n,platformRef:e?.platformRef},jj(t));return MT(i)}function jj(n){return{appProviders:[...Wj,...n?.providers??[]],platformProviders:qj}}function Uj(){gg.makeCurrent()}function $j(){return new Zi}function Hj(){return yb(document),document}var qj=[{provide:ya,useValue:AT},{provide:zh,useValue:Uj,multi:!0},{provide:gt,useFactory:Hj}];var Wj=[{provide:pd,useValue:"root"},{provide:Zi,useFactory:$j},{provide:hg,useClass:fg,multi:!0,deps:[gt]},{provide:hg,useClass:VT,multi:!0,deps:[gt]},Yd,PC,EC,{provide:Co,useExisting:Yd},{provide:wa,useClass:Bj},[]];var qc=class{},Xd=class{},gs=class n{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(t){t?typeof t=="string"?this.lazyInit=()=>{this.headers=new Map,t.split(`
`).forEach(e=>{let i=e.indexOf(":");if(i>0){let r=e.slice(0,i),o=e.slice(i+1).trim();this.addHeaderEntry(r,o)}})}:typeof Headers<"u"&&t instanceof Headers?(this.headers=new Map,t.forEach((e,i)=>{this.addHeaderEntry(i,e)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(t).forEach(([e,i])=>{this.setHeaderEntries(e,i)})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();let e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof n?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){let e=new n;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof n?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){let e=t.name.toLowerCase();switch(t.op){case"a":case"s":let i=t.value;if(typeof i=="string"&&(i=[i]),i.length===0)return;this.maybeSetNormalizedName(t.name,e);let r=(t.op==="a"?this.headers.get(e):void 0)||[];r.push(...i),this.headers.set(e,r);break;case"d":let o=t.value;if(!o)this.headers.delete(e),this.normalizedNames.delete(e);else{let s=this.headers.get(e);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,s)}break}}addHeaderEntry(t,e){let i=t.toLowerCase();this.maybeSetNormalizedName(t,i),this.headers.has(i)?this.headers.get(i).push(e):this.headers.set(i,[e])}setHeaderEntries(t,e){let i=(Array.isArray(e)?e:[e]).map(o=>o.toString()),r=t.toLowerCase();this.headers.set(r,i),this.maybeSetNormalizedName(t,r)}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}};var _g=class{encodeKey(t){return jT(t)}encodeValue(t){return jT(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}};function Gj(n,t){let e=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{let o=r.indexOf("="),[s,a]=o==-1?[t.decodeKey(r),""]:[t.decodeKey(r.slice(0,o)),t.decodeValue(r.slice(o+1))],c=e.get(s)||[];c.push(a),e.set(s,c)}),e}var Kj=/%(\d[a-f0-9])/gi,Qj={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function jT(n){return encodeURIComponent(n).replace(Kj,(t,e)=>Qj[e]??t)}function mg(n){return`${n}`}var Oo=class n{map;encoder;updates=null;cloneFrom=null;constructor(t={}){if(this.encoder=t.encoder||new _g,t.fromString){if(t.fromObject)throw new j(2805,!1);this.map=Gj(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{let i=t.fromObject[e],r=Array.isArray(i)?i.map(mg):[mg(i)];this.map.set(e,r)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();let e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){let e=[];return Object.keys(t).forEach(i=>{let r=t[i];Array.isArray(r)?r.forEach(o=>{e.push({param:i,value:o,op:"a"})}):e.push({param:i,value:r,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{let e=this.encoder.encodeKey(t);return this.map.get(t).map(i=>e+"="+this.encoder.encodeValue(i)).join("&")}).filter(t=>t!=="").join("&")}clone(t){let e=new n({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":let e=(t.op==="a"?this.map.get(t.param):void 0)||[];e.push(mg(t.value)),this.map.set(t.param,e);break;case"d":if(t.value!==void 0){let i=this.map.get(t.param)||[],r=i.indexOf(mg(t.value));r!==-1&&i.splice(r,1),i.length>0?this.map.set(t.param,i):this.map.delete(t.param)}else{this.map.delete(t.param);break}}}),this.cloneFrom=this.updates=null)}};var vg=class{map=new Map;set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}};function Yj(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function UT(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function $T(n){return typeof Blob<"u"&&n instanceof Blob}function HT(n){return typeof FormData<"u"&&n instanceof FormData}function Zj(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}var qT="Content-Type",WT="Accept",KT="X-Request-URL",QT="text/plain",YT="application/json",Xj=`${YT}, ${QT}, */*`,$c=class n{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;credentials;keepalive=!1;cache;priority;mode;redirect;referrer;integrity;responseType="json";method;params;urlWithParams;transferCache;timeout;constructor(t,e,i,r){this.url=e,this.method=t.toUpperCase();let o;if(Yj(this.method)||r?(this.body=i!==void 0?i:null,o=r):o=i,o){if(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,this.keepalive=!!o.keepalive,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),o.priority&&(this.priority=o.priority),o.cache&&(this.cache=o.cache),o.credentials&&(this.credentials=o.credentials),typeof o.timeout=="number"){if(o.timeout<1||!Number.isInteger(o.timeout))throw new j(2822,"");this.timeout=o.timeout}o.mode&&(this.mode=o.mode),o.redirect&&(this.redirect=o.redirect),o.integrity&&(this.integrity=o.integrity),o.referrer&&(this.referrer=o.referrer),this.transferCache=o.transferCache}if(this.headers??=new gs,this.context??=new vg,!this.params)this.params=new Oo,this.urlWithParams=e;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=e;else{let a=e.indexOf("?"),c=a===-1?"?":a<e.length-1?"&":"";this.urlWithParams=e+c+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||UT(this.body)||$T(this.body)||HT(this.body)||Zj(this.body)?this.body:this.body instanceof Oo?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||HT(this.body)?null:$T(this.body)?this.body.type||null:UT(this.body)?null:typeof this.body=="string"?QT:this.body instanceof Oo?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?YT:null}clone(t={}){let e=t.method||this.method,i=t.url||this.url,r=t.responseType||this.responseType,o=t.keepalive??this.keepalive,s=t.priority||this.priority,a=t.cache||this.cache,c=t.mode||this.mode,l=t.redirect||this.redirect,m=t.credentials||this.credentials,g=t.referrer||this.referrer,C=t.integrity||this.integrity,E=t.transferCache??this.transferCache,S=t.timeout??this.timeout,k=t.body!==void 0?t.body:this.body,R=t.withCredentials??this.withCredentials,V=t.reportProgress??this.reportProgress,ae=t.headers||this.headers,Ce=t.params||this.params,ue=t.context??this.context;return t.setHeaders!==void 0&&(ae=Object.keys(t.setHeaders).reduce((st,Xe)=>st.set(Xe,t.setHeaders[Xe]),ae)),t.setParams&&(Ce=Object.keys(t.setParams).reduce((st,Xe)=>st.set(Xe,t.setParams[Xe]),Ce)),new n(e,i,k,{params:Ce,headers:ae,context:ue,reportProgress:V,responseType:r,withCredentials:R,transferCache:E,keepalive:o,cache:a,priority:s,timeout:S,mode:c,redirect:l,credentials:m,referrer:g,integrity:C})}},Ma=(function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n})(Ma||{}),Wc=class{headers;status;statusText;url;ok;type;redirected;constructor(t,e=200,i="OK"){this.headers=t.headers||new gs,this.status=t.status!==void 0?t.status:e,this.statusText=t.statusText||i,this.url=t.url||null,this.redirected=t.redirected,this.ok=this.status>=200&&this.status<300}},yg=class n extends Wc{constructor(t={}){super(t)}type=Ma.ResponseHeader;clone(t={}){return new n({headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}},Jd=class n extends Wc{body;constructor(t={}){super(t),this.body=t.body!==void 0?t.body:null}type=Ma.Response;clone(t={}){return new n({body:t.body!==void 0?t.body:this.body,headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0,redirected:t.redirected??this.redirected})}},Hc=class extends Wc{name="HttpErrorResponse";message;error;ok=!1;constructor(t){super(t,0,"Unknown Error"),this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${t.url||"(unknown url)"}`:this.message=`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}},Jj=200,e8=204;function IC(n,t){return{body:t,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials,credentials:n.credentials,transferCache:n.transferCache,timeout:n.timeout,keepalive:n.keepalive,priority:n.priority,cache:n.cache,mode:n.mode,redirect:n.redirect,integrity:n.integrity,referrer:n.referrer}}var Cg=(()=>{class n{handler;constructor(e){this.handler=e}request(e,i,r={}){let o;if(e instanceof $c)o=e;else{let c;r.headers instanceof gs?c=r.headers:c=new gs(r.headers);let l;r.params&&(r.params instanceof Oo?l=r.params:l=new Oo({fromObject:r.params})),o=new $c(e,i,r.body!==void 0?r.body:null,{headers:c,context:r.context,params:l,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials,transferCache:r.transferCache,keepalive:r.keepalive,priority:r.priority,cache:r.cache,mode:r.mode,redirect:r.redirect,credentials:r.credentials,referrer:r.referrer,integrity:r.integrity,timeout:r.timeout})}let s=$(o).pipe(Ei(c=>this.handler.handle(c)));if(e instanceof $c||r.observe==="events")return s;let a=s.pipe(An(c=>c instanceof Jd));switch(r.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(H(c=>{if(c.body!==null&&!(c.body instanceof ArrayBuffer))throw new j(2806,!1);return c.body}));case"blob":return a.pipe(H(c=>{if(c.body!==null&&!(c.body instanceof Blob))throw new j(2807,!1);return c.body}));case"text":return a.pipe(H(c=>{if(c.body!==null&&typeof c.body!="string")throw new j(2808,!1);return c.body}));case"json":default:return a.pipe(H(c=>c.body))}case"response":return a;default:throw new j(2809,!1)}}delete(e,i={}){return this.request("DELETE",e,i)}get(e,i={}){return this.request("GET",e,i)}head(e,i={}){return this.request("HEAD",e,i)}jsonp(e,i){return this.request("JSONP",e,{params:new Oo().append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,i={}){return this.request("OPTIONS",e,i)}patch(e,i,r={}){return this.request("PATCH",e,IC(r,i))}post(e,i,r={}){return this.request("POST",e,IC(r,i))}put(e,i,r={}){return this.request("PUT",e,IC(r,i))}static \u0275fac=function(i){return new(i||n)(W(qc))};static \u0275prov=q({token:n,factory:n.\u0275fac})}return n})();var t8=new Z("");function ZT(n,t){return t(n)}function n8(n,t){return(e,i)=>t.intercept(e,{handle:r=>n(r,i)})}function i8(n,t,e){return(i,r)=>X(e,()=>t(i,o=>n(o,r)))}var XT=new Z(""),TC=new Z(""),JT=new Z(""),DC=new Z("",{providedIn:"root",factory:()=>!0});function r8(){let n=null;return(t,e)=>{n===null&&(n=(N(XT,{optional:!0})??[]).reduceRight(n8,ZT));let i=N(vo);if(N(DC)){let o=i.add();return n(t,e).pipe(Jo(o))}else return n(t,e)}}var bg=(()=>{class n extends qc{backend;injector;chain=null;pendingTasks=N(vo);contributeToStability=N(DC);constructor(e,i){super(),this.backend=e,this.injector=i}handle(e){if(this.chain===null){let i=Array.from(new Set([...this.injector.get(TC),...this.injector.get(JT,[])]));this.chain=i.reduceRight((r,o)=>i8(r,o,this.injector),ZT)}if(this.contributeToStability){let i=this.pendingTasks.add();return this.chain(e,r=>this.backend.handle(r)).pipe(Jo(i))}else return this.chain(e,i=>this.backend.handle(i))}static \u0275fac=function(i){return new(i||n)(W(Xd),W(Pt))};static \u0275prov=q({token:n,factory:n.\u0275fac})}return n})();var o8=/^\)\]\}',?\n/,s8=RegExp(`^${KT}:`,"m");function a8(n){return"responseURL"in n&&n.responseURL?n.responseURL:s8.test(n.getAllResponseHeaders())?n.getResponseHeader(KT):null}var SC=(()=>{class n{xhrFactory;constructor(e){this.xhrFactory=e}handle(e){if(e.method==="JSONP")throw new j(-2800,!1);let i=this.xhrFactory;return $(null).pipe(we(()=>new ie(o=>{let s=i.build();if(s.open(e.method,e.urlWithParams),e.withCredentials&&(s.withCredentials=!0),e.headers.forEach((R,V)=>s.setRequestHeader(R,V.join(","))),e.headers.has(WT)||s.setRequestHeader(WT,Xj),!e.headers.has(qT)){let R=e.detectContentTypeHeader();R!==null&&s.setRequestHeader(qT,R)}if(e.timeout&&(s.timeout=e.timeout),e.responseType){let R=e.responseType.toLowerCase();s.responseType=R!=="json"?R:"text"}let a=e.serializeBody(),c=null,l=()=>{if(c!==null)return c;let R=s.statusText||"OK",V=new gs(s.getAllResponseHeaders()),ae=a8(s)||e.url;return c=new yg({headers:V,status:s.status,statusText:R,url:ae}),c},m=()=>{let{headers:R,status:V,statusText:ae,url:Ce}=l(),ue=null;V!==e8&&(ue=typeof s.response>"u"?s.responseText:s.response),V===0&&(V=ue?Jj:0);let st=V>=200&&V<300;if(e.responseType==="json"&&typeof ue=="string"){let Xe=ue;ue=ue.replace(o8,"");try{ue=ue!==""?JSON.parse(ue):null}catch(ot){ue=Xe,st&&(st=!1,ue={error:ot,text:ue})}}st?(o.next(new Jd({body:ue,headers:R,status:V,statusText:ae,url:Ce||void 0})),o.complete()):o.error(new Hc({error:ue,headers:R,status:V,statusText:ae,url:Ce||void 0}))},g=R=>{let{url:V}=l(),ae=new Hc({error:R,status:s.status||0,statusText:s.statusText||"Unknown Error",url:V||void 0});o.error(ae)},C=g;e.timeout&&(C=R=>{let{url:V}=l(),ae=new Hc({error:new DOMException("Request timed out","TimeoutError"),status:s.status||0,statusText:s.statusText||"Request timeout",url:V||void 0});o.error(ae)});let E=!1,S=R=>{E||(o.next(l()),E=!0);let V={type:Ma.DownloadProgress,loaded:R.loaded};R.lengthComputable&&(V.total=R.total),e.responseType==="text"&&s.responseText&&(V.partialText=s.responseText),o.next(V)},k=R=>{let V={type:Ma.UploadProgress,loaded:R.loaded};R.lengthComputable&&(V.total=R.total),o.next(V)};return s.addEventListener("load",m),s.addEventListener("error",g),s.addEventListener("timeout",C),s.addEventListener("abort",g),e.reportProgress&&(s.addEventListener("progress",S),a!==null&&s.upload&&s.upload.addEventListener("progress",k)),s.send(a),o.next({type:Ma.Sent}),()=>{s.removeEventListener("error",g),s.removeEventListener("abort",g),s.removeEventListener("load",m),s.removeEventListener("timeout",C),e.reportProgress&&(s.removeEventListener("progress",S),a!==null&&s.upload&&s.upload.removeEventListener("progress",k)),s.readyState!==s.DONE&&s.abort()}})))}static \u0275fac=function(i){return new(i||n)(W(wa))};static \u0275prov=q({token:n,factory:n.\u0275fac})}return n})(),eD=new Z(""),c8="XSRF-TOKEN",l8=new Z("",{providedIn:"root",factory:()=>c8}),d8="X-XSRF-TOKEN",u8=new Z("",{providedIn:"root",factory:()=>d8}),eu=class{},f8=(()=>{class n{doc;cookieName;lastCookieString="";lastToken=null;parseCount=0;constructor(e,i){this.doc=e,this.cookieName=i}getToken(){let e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=Wd(e,this.cookieName),this.lastCookieString=e),this.lastToken}static \u0275fac=function(i){return new(i||n)(W(gt),W(l8))};static \u0275prov=q({token:n,factory:n.\u0275fac})}return n})(),p8=/^(?:https?:)?\/\//i;function h8(n,t){if(!N(eD)||n.method==="GET"||n.method==="HEAD"||p8.test(n.url))return t(n);let e=N(eu).getToken(),i=N(u8);return e!=null&&!n.headers.has(i)&&(n=n.clone({headers:n.headers.set(i,e)})),t(n)}var AC=(function(n){return n[n.Interceptors=0]="Interceptors",n[n.LegacyInterceptors=1]="LegacyInterceptors",n[n.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",n[n.NoXsrfProtection=3]="NoXsrfProtection",n[n.JsonpSupport=4]="JsonpSupport",n[n.RequestsMadeViaParent=5]="RequestsMadeViaParent",n[n.Fetch=6]="Fetch",n})(AC||{});function g8(n,t){return{\u0275kind:n,\u0275providers:t}}function tD(...n){let t=[Cg,SC,bg,{provide:qc,useExisting:bg},{provide:Xd,useFactory:()=>N(t8,{optional:!0})??N(SC)},{provide:TC,useValue:h8,multi:!0},{provide:eD,useValue:!0},{provide:eu,useClass:f8}];for(let e of n)t.push(...e.\u0275providers);return bn(t)}var GT=new Z("");function nD(){return g8(AC.LegacyInterceptors,[{provide:GT,useFactory:r8},{provide:TC,useExisting:GT,multi:!0}])}var kC=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=Rn({type:n});static \u0275inj=yn({providers:[tD(nD())]})}return n})();var iD=(()=>{class n{_doc;constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}static \u0275fac=function(i){return new(i||n)(W(gt))};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var RC=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275prov=q({token:n,factory:function(i){let r=null;return i?r=new(i||n):r=W(m8),r},providedIn:"root"})}return n})(),m8=(()=>{class n extends RC{_doc;constructor(e){super(),this._doc=e}sanitize(e,i){if(i==null)return null;switch(e){case ir.NONE:return i;case ir.HTML:return wo(i,"HTML")?Di(i):Ob(this._doc,String(i)).toString();case ir.STYLE:return wo(i,"Style")?Di(i):i;case ir.SCRIPT:if(wo(i,"Script"))return Di(i);throw new j(5200,!1);case ir.URL:return wo(i,"URL")?Di(i):Dd(String(i));case ir.RESOURCE_URL:if(wo(i,"ResourceURL"))return Di(i);throw new j(5201,!1);default:throw new j(5202,!1)}}bypassSecurityTrustHtml(e){return Cb(e)}bypassSecurityTrustStyle(e){return wb(e)}bypassSecurityTrustScript(e){return Mb(e)}bypassSecurityTrustUrl(e){return Eb(e)}bypassSecurityTrustResourceUrl(e){return Pb(e)}static \u0275fac=function(i){return new(i||n)(W(gt))};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Oe="primary",pu=Symbol("RouteTitle"),zC=class{params;constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){let e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){let e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}};function Oa(n){return new zC(n)}function fD(n,t,e){let i=e.path.split("/");if(i.length>n.length||e.pathMatch==="full"&&(t.hasChildren()||i.length<n.length))return null;let r={};for(let o=0;o<i.length;o++){let s=i[o],a=n[o];if(s[0]===":")r[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function _8(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!Vr(n[e],t[e]))return!1;return!0}function Vr(n,t){let e=n?VC(n):void 0,i=t?VC(t):void 0;if(!e||!i||e.length!=i.length)return!1;let r;for(let o=0;o<e.length;o++)if(r=e[o],!pD(n[r],t[r]))return!1;return!0}function VC(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function pD(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;let e=[...n].sort(),i=[...t].sort();return e.every((r,o)=>i[o]===r)}else return n===t}function hD(n){return n.length>0?n[n.length-1]:null}function xo(n){return Qi(n)?n:fs(n)?ee(Promise.resolve(n)):$(n)}var v8={exact:mD,subset:_D},gD={exact:y8,subset:b8,ignored:()=>!0};function oD(n,t,e){return v8[e.paths](n.root,t.root,e.matrixParams)&&gD[e.queryParams](n.queryParams,t.queryParams)&&!(e.fragment==="exact"&&n.fragment!==t.fragment)}function y8(n,t){return Vr(n,t)}function mD(n,t,e){if(!Ea(n.segments,t.segments)||!Eg(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(let i in t.children)if(!n.children[i]||!mD(n.children[i],t.children[i],e))return!1;return!0}function b8(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>pD(n[e],t[e]))}function _D(n,t,e){return vD(n,t,t.segments,e)}function vD(n,t,e,i){if(n.segments.length>e.length){let r=n.segments.slice(0,e.length);return!(!Ea(r,e)||t.hasChildren()||!Eg(r,e,i))}else if(n.segments.length===e.length){if(!Ea(n.segments,e)||!Eg(n.segments,e,i))return!1;for(let r in t.children)if(!n.children[r]||!_D(n.children[r],t.children[r],i))return!1;return!0}else{let r=e.slice(0,n.segments.length),o=e.slice(n.segments.length);return!Ea(n.segments,r)||!Eg(n.segments,r,i)||!n.children[Oe]?!1:vD(n.children[Oe],t,o,i)}}function Eg(n,t,e){return t.every((i,r)=>gD[e](n[r].parameters,i.parameters))}var Ur=class{root;queryParams;fragment;_queryParamMap;constructor(t=new Ye([],{}),e={},i=null){this.root=t,this.queryParams=e,this.fragment=i}get queryParamMap(){return this._queryParamMap??=Oa(this.queryParams),this._queryParamMap}toString(){return M8.serialize(this)}},Ye=class{segments;children;parent=null;constructor(t,e){this.segments=t,this.children=e,Object.values(e).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Pg(this)}},ms=class{path;parameters;_parameterMap;constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap??=Oa(this.parameters),this._parameterMap}toString(){return bD(this)}};function C8(n,t){return Ea(n,t)&&n.every((e,i)=>Vr(e.parameters,t[i].parameters))}function Ea(n,t){return n.length!==t.length?!1:n.every((e,i)=>e.path===t[i].path)}function w8(n,t){let e=[];return Object.entries(n.children).forEach(([i,r])=>{i===Oe&&(e=e.concat(t(r,i)))}),Object.entries(n.children).forEach(([i,r])=>{i!==Oe&&(e=e.concat(t(r,i)))}),e}var xa=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275prov=q({token:n,factory:()=>new _s,providedIn:"root"})}return n})(),_s=class{parse(t){let e=new UC(t);return new Ur(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){let e=`/${tu(t.root,!0)}`,i=O8(t.queryParams),r=typeof t.fragment=="string"?`#${E8(t.fragment)}`:"";return`${e}${i}${r}`}},M8=new _s;function Pg(n){return n.segments.map(t=>bD(t)).join("/")}function tu(n,t){if(!n.hasChildren())return Pg(n);if(t){let e=n.children[Oe]?tu(n.children[Oe],!1):"",i=[];return Object.entries(n.children).forEach(([r,o])=>{r!==Oe&&i.push(`${r}:${tu(o,!1)}`)}),i.length>0?`${e}(${i.join("//")})`:e}else{let e=w8(n,(i,r)=>r===Oe?[tu(n.children[Oe],!1)]:[`${r}:${tu(i,!1)}`]);return Object.keys(n.children).length===1&&n.children[Oe]!=null?`${Pg(n)}/${e[0]}`:`${Pg(n)}/(${e.join("//")})`}}function yD(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function wg(n){return yD(n).replace(/%3B/gi,";")}function E8(n){return encodeURI(n)}function jC(n){return yD(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Og(n){return decodeURIComponent(n)}function sD(n){return Og(n.replace(/\+/g,"%20"))}function bD(n){return`${jC(n.path)}${P8(n.parameters)}`}function P8(n){return Object.entries(n).map(([t,e])=>`;${jC(t)}=${jC(e)}`).join("")}function O8(n){let t=Object.entries(n).map(([e,i])=>Array.isArray(i)?i.map(r=>`${wg(e)}=${wg(r)}`).join("&"):`${wg(e)}=${wg(i)}`).filter(e=>e);return t.length?`?${t.join("&")}`:""}var x8=/^[^\/()?;#]+/;function NC(n){let t=n.match(x8);return t?t[0]:""}var I8=/^[^\/()?;=#]+/;function S8(n){let t=n.match(I8);return t?t[0]:""}var T8=/^[^=?&#]+/;function D8(n){let t=n.match(T8);return t?t[0]:""}var A8=/^[^&#]+/;function k8(n){let t=n.match(A8);return t?t[0]:""}var UC=class{url;remaining;constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ye([],{}):new Ye([],this.parseChildren())}parseQueryParams(){let t={};if(this.consumeOptional("?"))do this.parseQueryParam(t);while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(i[Oe]=new Ye(t,e)),i}parseSegment(){let t=NC(this.remaining);if(t===""&&this.peekStartsWith(";"))throw new j(4009,!1);return this.capture(t),new ms(Og(t),this.parseMatrixParams())}parseMatrixParams(){let t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){let e=S8(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){let r=NC(this.remaining);r&&(i=r,this.capture(i))}t[Og(e)]=Og(i)}parseQueryParam(t){let e=D8(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){let s=k8(this.remaining);s&&(i=s,this.capture(i))}let r=sD(e),o=sD(i);if(t.hasOwnProperty(r)){let s=t[r];Array.isArray(s)||(s=[s],t[r]=s),s.push(o)}else t[r]=o}parseParens(t){let e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let i=NC(this.remaining),r=this.remaining[i.length];if(r!=="/"&&r!==")"&&r!==";")throw new j(4010,!1);let o;i.indexOf(":")>-1?(o=i.slice(0,i.indexOf(":")),this.capture(o),this.capture(":")):t&&(o=Oe);let s=this.parseChildren();e[o??Oe]=Object.keys(s).length===1&&s[Oe]?s[Oe]:new Ye([],s),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return this.peekStartsWith(t)?(this.remaining=this.remaining.substring(t.length),!0):!1}capture(t){if(!this.consumeOptional(t))throw new j(4011,!1)}};function CD(n){return n.segments.length>0?new Ye([],{[Oe]:n}):n}function wD(n){let t={};for(let[i,r]of Object.entries(n.children)){let o=wD(r);if(i===Oe&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))t[s]=a;else(o.segments.length>0||o.hasChildren())&&(t[i]=o)}let e=new Ye(n.segments,t);return R8(e)}function R8(n){if(n.numberOfChildren===1&&n.children[Oe]){let t=n.children[Oe];return new Ye(n.segments.concat(t.segments),t.children)}return n}function vs(n){return n instanceof Ur}function MD(n,t,e=null,i=null){let r=ED(n);return PD(r,t,e,i)}function ED(n){let t;function e(o){let s={};for(let c of o.children){let l=e(c);s[c.outlet]=l}let a=new Ye(o.url,s);return o===n&&(t=a),a}let i=e(n.root),r=CD(i);return t??r}function PD(n,t,e,i){let r=n;for(;r.parent;)r=r.parent;if(t.length===0)return LC(r,r,r,e,i);let o=N8(t);if(o.toRoot())return LC(r,r,new Ye([],{}),e,i);let s=L8(o,r,n),a=s.processChildren?iu(s.segmentGroup,s.index,o.commands):xD(s.segmentGroup,s.index,o.commands);return LC(r,s.segmentGroup,a,e,i)}function xg(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function ou(n){return typeof n=="object"&&n!=null&&n.outlets}function LC(n,t,e,i,r){let o={};i&&Object.entries(i).forEach(([c,l])=>{o[c]=Array.isArray(l)?l.map(m=>`${m}`):`${l}`});let s;n===t?s=e:s=OD(n,t,e);let a=CD(wD(s));return new Ur(a,o,r)}function OD(n,t,e){let i={};return Object.entries(n.children).forEach(([r,o])=>{o===t?i[r]=e:i[r]=OD(o,t,e)}),new Ye(n.segments,i)}var Ig=class{isAbsolute;numberOfDoubleDots;commands;constructor(t,e,i){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=i,t&&i.length>0&&xg(i[0]))throw new j(4003,!1);let r=i.find(ou);if(r&&r!==hD(i))throw new j(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function N8(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new Ig(!0,0,n);let t=0,e=!1,i=n.reduce((r,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([c,l])=>{a[c]=typeof l=="string"?l.split("/"):l}),[...r,{outlets:a}]}if(o.segmentPath)return[...r,o.segmentPath]}return typeof o!="string"?[...r,o]:s===0?(o.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?e=!0:a===".."?t++:a!=""&&r.push(a))}),r):[...r,o]},[]);return new Ig(e,t,i)}var Qc=class{segmentGroup;processChildren;index;constructor(t,e,i){this.segmentGroup=t,this.processChildren=e,this.index=i}};function L8(n,t,e){if(n.isAbsolute)return new Qc(t,!0,0);if(!e)return new Qc(t,!1,NaN);if(e.parent===null)return new Qc(e,!0,0);let i=xg(n.commands[0])?0:1,r=e.segments.length-1+i;return F8(e,r,n.numberOfDoubleDots)}function F8(n,t,e){let i=n,r=t,o=e;for(;o>r;){if(o-=r,i=i.parent,!i)throw new j(4005,!1);r=i.segments.length}return new Qc(i,!1,r-o)}function B8(n){return ou(n[0])?n[0].outlets:{[Oe]:n}}function xD(n,t,e){if(n??=new Ye([],{}),n.segments.length===0&&n.hasChildren())return iu(n,t,e);let i=z8(n,t,e),r=e.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){let o=new Ye(n.segments.slice(0,i.pathIndex),{});return o.children[Oe]=new Ye(n.segments.slice(i.pathIndex),n.children),iu(o,0,r)}else return i.match&&r.length===0?new Ye(n.segments,{}):i.match&&!n.hasChildren()?$C(n,t,e):i.match?iu(n,0,r):$C(n,t,e)}function iu(n,t,e){if(e.length===0)return new Ye(n.segments,{});{let i=B8(e),r={};if(Object.keys(i).some(o=>o!==Oe)&&n.children[Oe]&&n.numberOfChildren===1&&n.children[Oe].segments.length===0){let o=iu(n.children[Oe],t,e);return new Ye(n.segments,o.children)}return Object.entries(i).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(r[o]=xD(n.children[o],t,s))}),Object.entries(n.children).forEach(([o,s])=>{i[o]===void 0&&(r[o]=s)}),new Ye(n.segments,r)}}function z8(n,t,e){let i=0,r=t,o={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=e.length)return o;let s=n.segments[r],a=e[i];if(ou(a))break;let c=`${a}`,l=i<e.length-1?e[i+1]:null;if(r>0&&c===void 0)break;if(c&&l&&typeof l=="object"&&l.outlets===void 0){if(!cD(c,l,s))return o;i+=2}else{if(!cD(c,{},s))return o;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}function $C(n,t,e){let i=n.segments.slice(0,t),r=0;for(;r<e.length;){let o=e[r];if(ou(o)){let c=V8(o.outlets);return new Ye(i,c)}if(r===0&&xg(e[0])){let c=n.segments[t];i.push(new ms(c.path,aD(e[0]))),r++;continue}let s=ou(o)?o.outlets[Oe]:`${o}`,a=r<e.length-1?e[r+1]:null;s&&a&&xg(a)?(i.push(new ms(s,aD(a))),r+=2):(i.push(new ms(s,{})),r++)}return new Ye(i,{})}function V8(n){let t={};return Object.entries(n).forEach(([e,i])=>{typeof i=="string"&&(i=[i]),i!==null&&(t[e]=$C(new Ye([],{}),0,i))}),t}function aD(n){let t={};return Object.entries(n).forEach(([e,i])=>t[e]=`${i}`),t}function cD(n,t,e){return n==e.path&&Vr(t,e.parameters)}var Yc="imperative",Jt=(function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n})(Jt||{}),vi=class{id;url;constructor(t,e){this.id=t,this.url=e}},ys=class extends vi{type=Jt.NavigationStart;navigationTrigger;restoredState;constructor(t,e,i="imperative",r=null){super(t,e),this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},yi=class extends vi{urlAfterRedirects;type=Jt.NavigationEnd;constructor(t,e,i){super(t,e),this.urlAfterRedirects=i}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},jn=(function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n[n.Aborted=4]="Aborted",n})(jn||{}),Xc=(function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n})(Xc||{}),jr=class extends vi{reason;code;type=Jt.NavigationCancel;constructor(t,e,i,r){super(t,e),this.reason=i,this.code=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},$r=class extends vi{reason;code;type=Jt.NavigationSkipped;constructor(t,e,i,r){super(t,e),this.reason=i,this.code=r}},Jc=class extends vi{error;target;type=Jt.NavigationError;constructor(t,e,i,r){super(t,e),this.error=i,this.target=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},su=class extends vi{urlAfterRedirects;state;type=Jt.RoutesRecognized;constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Sg=class extends vi{urlAfterRedirects;state;type=Jt.GuardsCheckStart;constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Tg=class extends vi{urlAfterRedirects;state;shouldActivate;type=Jt.GuardsCheckEnd;constructor(t,e,i,r,o){super(t,e),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Dg=class extends vi{urlAfterRedirects;state;type=Jt.ResolveStart;constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Ag=class extends vi{urlAfterRedirects;state;type=Jt.ResolveEnd;constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},kg=class{route;type=Jt.RouteConfigLoadStart;constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Rg=class{route;type=Jt.RouteConfigLoadEnd;constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Ng=class{snapshot;type=Jt.ChildActivationStart;constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Lg=class{snapshot;type=Jt.ChildActivationEnd;constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Fg=class{snapshot;type=Jt.ActivationStart;constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Bg=class{snapshot;type=Jt.ActivationEnd;constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},el=class{routerEvent;position;anchor;type=Jt.Scroll;constructor(t,e,i){this.routerEvent=t,this.position=e,this.anchor=i}toString(){let t=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${t}')`}},au=class{},tl=class{url;navigationBehaviorOptions;constructor(t,e){this.url=t,this.navigationBehaviorOptions=e}};function j8(n){return!(n instanceof au)&&!(n instanceof tl)}function U8(n,t){return n.providers&&!n._injector&&(n._injector=jc(n.providers,t,`Route: ${n.path}`)),n._injector??t}function dr(n){return n.outlet||Oe}function $8(n,t){let e=n.filter(i=>dr(i)===t);return e.push(...n.filter(i=>dr(i)!==t)),e}function rl(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let t=n.parent;t;t=t.parent){let e=t.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}var zg=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return rl(this.route?.snapshot)??this.rootInjector}constructor(t){this.rootInjector=t,this.children=new Ia(this.rootInjector)}},Ia=(()=>{class n{rootInjector;contexts=new Map;constructor(e){this.rootInjector=e}onChildOutletCreated(e,i){let r=this.getOrCreateContext(e);r.outlet=i,this.contexts.set(e,r)}onChildOutletDestroyed(e){let i=this.getContext(e);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let i=this.getContext(e);return i||(i=new zg(this.rootInjector),this.contexts.set(e,i)),i}getContext(e){return this.contexts.get(e)||null}static \u0275fac=function(i){return new(i||n)(W(Pt))};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Vg=class{_root;constructor(t){this._root=t}get root(){return this._root.value}parent(t){let e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){let e=HC(t,this._root);return e?e.children.map(i=>i.value):[]}firstChild(t){let e=HC(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){let e=qC(t,this._root);return e.length<2?[]:e[e.length-2].children.map(r=>r.value).filter(r=>r!==t)}pathFromRoot(t){return qC(t,this._root).map(e=>e.value)}};function HC(n,t){if(n===t.value)return t;for(let e of t.children){let i=HC(n,e);if(i)return i}return null}function qC(n,t){if(n===t.value)return[t];for(let e of t.children){let i=qC(n,e);if(i.length)return i.unshift(t),i}return[]}var _i=class{value;children;constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}};function Kc(n){let t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}var cu=class extends Vg{snapshot;constructor(t,e){super(t),this.snapshot=e,JC(this,t)}toString(){return this.snapshot.toString()}};function ID(n){let t=H8(n),e=new _n([new ms("",{})]),i=new _n({}),r=new _n({}),o=new _n({}),s=new _n(""),a=new Tt(e,i,o,s,r,Oe,n,t.root);return a.snapshot=t.root,new cu(new _i(a,[]),t)}function H8(n){let t={},e={},i={},o=new Pa([],t,i,"",e,Oe,n,null,{});return new lu("",new _i(o,[]))}var Tt=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(t,e,i,r,o,s,a,c){this.urlSubject=t,this.paramsSubject=e,this.queryParamsSubject=i,this.fragmentSubject=r,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(H(l=>l[pu]))??$(void 0),this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(H(t=>Oa(t))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(H(t=>Oa(t))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function jg(n,t,e="emptyOnly"){let i,{routeConfig:r}=n;return t!==null&&(e==="always"||r?.path===""||!t.component&&!t.routeConfig?.loadComponent)?i={params:B(B({},t.params),n.params),data:B(B({},t.data),n.data),resolve:B(B(B(B({},n.data),t.data),r?.data),n._resolvedData)}:i={params:B({},n.params),data:B({},n.data),resolve:B(B({},n.data),n._resolvedData??{})},r&&TD(r)&&(i.resolve[pu]=r.title),i}var Pa=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[pu]}constructor(t,e,i,r,o,s,a,c,l){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Oa(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Oa(this.queryParams),this._queryParamMap}toString(){let t=this.url.map(i=>i.toString()).join("/"),e=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${t}', path:'${e}')`}},lu=class extends Vg{url;constructor(t,e){super(e),this.url=t,JC(this,e)}toString(){return SD(this._root)}};function JC(n,t){t.value._routerState=n,t.children.forEach(e=>JC(n,e))}function SD(n){let t=n.children.length>0?` { ${n.children.map(SD).join(", ")} } `:"";return`${n.value}${t}`}function FC(n){if(n.snapshot){let t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,Vr(t.queryParams,e.queryParams)||n.queryParamsSubject.next(e.queryParams),t.fragment!==e.fragment&&n.fragmentSubject.next(e.fragment),Vr(t.params,e.params)||n.paramsSubject.next(e.params),_8(t.url,e.url)||n.urlSubject.next(e.url),Vr(t.data,e.data)||n.dataSubject.next(e.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function WC(n,t){let e=Vr(n.params,t.params)&&C8(n.url,t.url),i=!n.parent!=!t.parent;return e&&!i&&(!n.parent||WC(n.parent,t.parent))}function TD(n){return typeof n.title=="string"||n.title===null}var DD=new Z(""),Sa=(()=>{class n{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=Oe;activateEvents=new qe;deactivateEvents=new qe;attachEvents=new qe;detachEvents=new qe;routerOutletData=wT();parentContexts=N(Ia);location=N(Eo);changeDetector=N(cr);inputBinder=N(hu,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(e){if(e.name){let{firstChange:i,previousValue:r}=e.name;if(i)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new j(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new j(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new j(4012,!1);this.location.detach();let e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,i){this.activated=e,this._activatedRoute=i,this.location.insert(e.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){let e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,i){if(this.isActivated)throw new j(4013,!1);this._activatedRoute=e;let r=this.location,s=e.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new GC(e,a,r.injector,this.routerOutletData);this.activated=r.createComponent(s,{index:r.length,injector:c,environmentInjector:i}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(i){return new(i||n)};static \u0275dir=We({type:n,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[an]})}return n})(),GC=class{route;childContexts;parent;outletData;constructor(t,e,i,r){this.route=t,this.childContexts=e,this.parent=i,this.outletData=r}get(t,e){return t===Tt?this.route:t===Ia?this.childContexts:t===DD?this.outletData:this.parent.get(t,e)}},hu=new Z(""),ew=(()=>{class n{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(e){this.unsubscribeFromRouteData(e),this.subscribeToRouteData(e)}unsubscribeFromRouteData(e){this.outletDataSubscriptions.get(e)?.unsubscribe(),this.outletDataSubscriptions.delete(e)}subscribeToRouteData(e){let{activatedRoute:i}=e,r=ad([i.queryParams,i.params,i.data]).pipe(we(([o,s,a],c)=>(a=B(B(B({},o),s),a),c===0?$(a):Promise.resolve(a)))).subscribe(o=>{if(!e.isActivated||!e.activatedComponentRef||e.activatedRoute!==i||i.component===null){this.unsubscribeFromRouteData(e);return}let s=ET(i.component);if(!s){this.unsubscribeFromRouteData(e);return}for(let{templateName:a}of s.inputs)e.activatedComponentRef.setInput(a,o[a])});this.outletDataSubscriptions.set(e,r)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=q({token:n,factory:n.\u0275fac})}return n})(),tw=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275cmp=de({type:n,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(i,r){i&1&&w(0,"router-outlet")},dependencies:[Sa],encapsulation:2})}return n})();function nw(n){let t=n.children&&n.children.map(nw),e=t?oe(B({},n),{children:t}):B({},n);return!e.component&&!e.loadComponent&&(t||e.loadChildren)&&e.outlet&&e.outlet!==Oe&&(e.component=tw),e}function q8(n,t,e){let i=du(n,t._root,e?e._root:void 0);return new cu(i,t)}function du(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){let i=e.value;i._futureSnapshot=t.value;let r=W8(n,t,e);return new _i(i,r)}else{if(n.shouldAttach(t.value)){let o=n.retrieve(t.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=t.value,s.children=t.children.map(a=>du(n,a)),s}}let i=G8(t.value),r=t.children.map(o=>du(n,o));return new _i(i,r)}}function W8(n,t,e){return t.children.map(i=>{for(let r of e.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return du(n,i,r);return du(n,i)})}function G8(n){return new Tt(new _n(n.url),new _n(n.params),new _n(n.queryParams),new _n(n.fragment),new _n(n.data),n.outlet,n.component,n)}var nl=class{redirectTo;navigationBehaviorOptions;constructor(t,e){this.redirectTo=t,this.navigationBehaviorOptions=e}},AD="ngNavigationCancelingError";function Ug(n,t){let{redirectTo:e,navigationBehaviorOptions:i}=vs(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,r=kD(!1,jn.Redirect);return r.url=e,r.navigationBehaviorOptions=i,r}function kD(n,t){let e=new Error(`NavigationCancelingError: ${n||""}`);return e[AD]=!0,e.cancellationCode=t,e}function K8(n){return RD(n)&&vs(n.url)}function RD(n){return!!n&&n[AD]}var Q8=(n,t,e,i)=>H(r=>(new KC(t,r.targetRouterState,r.currentRouterState,e,i).activate(n),r)),KC=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(t,e,i,r,o){this.routeReuseStrategy=t,this.futureState=e,this.currState=i,this.forwardEvent=r,this.inputBindingEnabled=o}activate(t){let e=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,i,t),FC(this.futureState.root),this.activateChildRoutes(e,i,t)}deactivateChildRoutes(t,e,i){let r=Kc(e);t.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,r[s],i),delete r[s]}),Object.values(r).forEach(o=>{this.deactivateRouteAndItsChildren(o,i)})}deactivateRoutes(t,e,i){let r=t.value,o=e?e.value:null;if(r===o)if(r.component){let s=i.getContext(r.outlet);s&&this.deactivateChildRoutes(t,e,s.children)}else this.deactivateChildRoutes(t,e,i);else o&&this.deactivateRouteAndItsChildren(e,i)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){let i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,o=Kc(t);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,r);if(i&&i.outlet){let s=i.outlet.detach(),a=i.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:s,route:t,contexts:a})}}deactivateRouteAndOutlet(t,e){let i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,o=Kc(t);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(t,e,i){let r=Kc(e);t.children.forEach(o=>{this.activateRoutes(o,r[o.value.outlet],i),this.forwardEvent(new Bg(o.value.snapshot))}),t.children.length&&this.forwardEvent(new Lg(t.value.snapshot))}activateRoutes(t,e,i){let r=t.value,o=e?e.value:null;if(FC(r),r===o)if(r.component){let s=i.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,s.children)}else this.activateChildRoutes(t,e,i);else if(r.component){let s=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){let a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),FC(a.route.value),this.activateChildRoutes(t,null,s.children)}else s.attachRef=null,s.route=r,s.outlet&&s.outlet.activateWith(r,s.injector),this.activateChildRoutes(t,null,s.children)}else this.activateChildRoutes(t,null,i)}},$g=class{path;route;constructor(t){this.path=t,this.route=this.path[this.path.length-1]}},Zc=class{component;route;constructor(t,e){this.component=t,this.route=e}};function Y8(n,t,e){let i=n._root,r=t?t._root:null;return nu(i,r,e,[i.value])}function Z8(n){let t=n.routeConfig?n.routeConfig.canActivateChild:null;return!t||t.length===0?null:{node:n,guards:t}}function ol(n,t){let e=Symbol(),i=t.get(n,e);return i===e?typeof n=="function"&&!Iv(n)?n:t.get(n):i}function nu(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let o=Kc(t);return n.children.forEach(s=>{X8(s,o[s.value.outlet],e,i.concat([s.value]),r),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>ru(a,e.getContext(s),r)),r}function X8(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let o=n.value,s=t?t.value:null,a=e?e.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let c=J8(s,o,o.routeConfig.runGuardsAndResolvers);c?r.canActivateChecks.push(new $g(i)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?nu(n,t,a?a.children:null,i,r):nu(n,t,e,i,r),c&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new Zc(a.outlet.component,s))}else s&&ru(t,a,r),r.canActivateChecks.push(new $g(i)),o.component?nu(n,null,a?a.children:null,i,r):nu(n,null,e,i,r);return r}function J8(n,t,e){if(typeof e=="function")return e(n,t);switch(e){case"pathParamsChange":return!Ea(n.url,t.url);case"pathParamsOrQueryParamsChange":return!Ea(n.url,t.url)||!Vr(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!WC(n,t)||!Vr(n.queryParams,t.queryParams);case"paramsChange":default:return!WC(n,t)}}function ru(n,t,e){let i=Kc(n),r=n.value;Object.entries(i).forEach(([o,s])=>{r.component?t?ru(s,t.children.getContext(o),e):ru(s,null,e):ru(s,t,e)}),r.component?t&&t.outlet&&t.outlet.isActivated?e.canDeactivateChecks.push(new Zc(t.outlet.component,r)):e.canDeactivateChecks.push(new Zc(null,r)):e.canDeactivateChecks.push(new Zc(null,r))}function gu(n){return typeof n=="function"}function eU(n){return typeof n=="boolean"}function tU(n){return n&&gu(n.canLoad)}function nU(n){return n&&gu(n.canActivate)}function iU(n){return n&&gu(n.canActivateChild)}function rU(n){return n&&gu(n.canDeactivate)}function oU(n){return n&&gu(n.canMatch)}function ND(n){return n instanceof Yi||n?.name==="EmptyError"}var Mg=Symbol("INITIAL_VALUE");function il(){return we(n=>ad(n.map(t=>t.pipe(ht(1),pv(Mg)))).pipe(H(t=>{for(let e of t)if(e!==!0){if(e===Mg)return Mg;if(e===!1||sU(e))return e}return!0}),An(t=>t!==Mg),ht(1)))}function sU(n){return vs(n)||n instanceof nl}function aU(n,t){return zt(e=>{let{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:s}}=e;return s.length===0&&o.length===0?$(oe(B({},e),{guardsResult:!0})):cU(s,i,r,n).pipe(zt(a=>a&&eU(a)?lU(i,o,n,t):$(a)),H(a=>oe(B({},e),{guardsResult:a})))})}function cU(n,t,e,i){return ee(n).pipe(zt(r=>hU(r.component,r.route,e,t,i)),lo(r=>r!==!0,!0))}function lU(n,t,e,i){return ee(t).pipe(Ei(r=>co(uU(r.route.parent,i),dU(r.route,i),pU(n,r.path,e),fU(n,r.route,e))),lo(r=>r!==!0,!0))}function dU(n,t){return n!==null&&t&&t(new Fg(n)),$(!0)}function uU(n,t){return n!==null&&t&&t(new Ng(n)),$(!0)}function fU(n,t,e){let i=t.routeConfig?t.routeConfig.canActivate:null;if(!i||i.length===0)return $(!0);let r=i.map(o=>se(()=>{let s=rl(t)??e,a=ol(o,s),c=nU(a)?a.canActivate(t,n):X(s,()=>a(t,n));return xo(c).pipe(lo())}));return $(r).pipe(il())}function pU(n,t,e){let i=t[t.length-1],o=t.slice(0,t.length-1).reverse().map(s=>Z8(s)).filter(s=>s!==null).map(s=>se(()=>{let a=s.guards.map(c=>{let l=rl(s.node)??e,m=ol(c,l),g=iU(m)?m.canActivateChild(i,n):X(l,()=>m(i,n));return xo(g).pipe(lo())});return $(a).pipe(il())}));return $(o).pipe(il())}function hU(n,t,e,i,r){let o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!o||o.length===0)return $(!0);let s=o.map(a=>{let c=rl(t)??r,l=ol(a,c),m=rU(l)?l.canDeactivate(n,t,e,i):X(c,()=>l(n,t,e,i));return xo(m).pipe(lo())});return $(s).pipe(il())}function gU(n,t,e,i){let r=t.canLoad;if(r===void 0||r.length===0)return $(!0);let o=r.map(s=>{let a=ol(s,n),c=tU(a)?a.canLoad(t,e):X(n,()=>a(t,e));return xo(c)});return $(o).pipe(il(),LD(i))}function LD(n){return rv(rn(t=>{if(typeof t!="boolean")throw Ug(n,t)}),H(t=>t===!0))}function mU(n,t,e,i){let r=t.canMatch;if(!r||r.length===0)return $(!0);let o=r.map(s=>{let a=ol(s,n),c=oU(a)?a.canMatch(t,e):X(n,()=>a(t,e));return xo(c)});return $(o).pipe(il(),LD(i))}var uu=class{segmentGroup;constructor(t){this.segmentGroup=t||null}},fu=class extends Error{urlTree;constructor(t){super(),this.urlTree=t}};function Gc(n){return wc(new uu(n))}function _U(n){return wc(new j(4e3,!1))}function vU(n){return wc(kD(!1,jn.GuardRejected))}var QC=class{urlSerializer;urlTree;constructor(t,e){this.urlSerializer=t,this.urlTree=e}lineralizeSegments(t,e){let i=[],r=e.root;for(;;){if(i=i.concat(r.segments),r.numberOfChildren===0)return $(i);if(r.numberOfChildren>1||!r.children[Oe])return _U(`${t.redirectTo}`);r=r.children[Oe]}}applyRedirectCommands(t,e,i,r,o){return yU(e,r,o).pipe(H(s=>{if(s instanceof Ur)throw new fu(s);let a=this.applyRedirectCreateUrlTree(s,this.urlSerializer.parse(s),t,i);if(s[0]==="/")throw new fu(a);return a}))}applyRedirectCreateUrlTree(t,e,i,r){let o=this.createSegmentGroup(t,e.root,i,r);return new Ur(o,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){let i={};return Object.entries(t).forEach(([r,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);i[r]=e[a]}else i[r]=o}),i}createSegmentGroup(t,e,i,r){let o=this.createSegments(t,e.segments,i,r),s={};return Object.entries(e.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(t,c,i,r)}),new Ye(o,s)}createSegments(t,e,i,r){return e.map(o=>o.path[0]===":"?this.findPosParam(t,o,r):this.findOrReturn(o,i))}findPosParam(t,e,i){let r=i[e.path.substring(1)];if(!r)throw new j(4001,!1);return r}findOrReturn(t,e){let i=0;for(let r of e){if(r.path===t.path)return e.splice(i),r;i++}return t}};function yU(n,t,e){if(typeof n=="string")return $(n);let i=n,{queryParams:r,fragment:o,routeConfig:s,url:a,outlet:c,params:l,data:m,title:g}=t;return xo(X(e,()=>i({params:l,data:m,queryParams:r,fragment:o,routeConfig:s,url:a,outlet:c,title:g})))}var YC={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function bU(n,t,e,i,r){let o=FD(n,t,e);return o.matched?(i=U8(t,i),mU(i,t,e,r).pipe(H(s=>s===!0?o:B({},YC)))):$(o)}function FD(n,t,e){if(t.path==="**")return CU(e);if(t.path==="")return t.pathMatch==="full"&&(n.hasChildren()||e.length>0)?B({},YC):{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};let r=(t.matcher||fD)(e,n,t);if(!r)return B({},YC);let o={};Object.entries(r.posParams??{}).forEach(([a,c])=>{o[a]=c.path});let s=r.consumed.length>0?B(B({},o),r.consumed[r.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:r.consumed,remainingSegments:e.slice(r.consumed.length),parameters:s,positionalParamSegments:r.posParams??{}}}function CU(n){return{matched:!0,parameters:n.length>0?hD(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function lD(n,t,e,i){return e.length>0&&EU(n,e,i)?{segmentGroup:new Ye(t,MU(i,new Ye(e,n.children))),slicedSegments:[]}:e.length===0&&PU(n,e,i)?{segmentGroup:new Ye(n.segments,wU(n,e,i,n.children)),slicedSegments:e}:{segmentGroup:new Ye(n.segments,n.children),slicedSegments:e}}function wU(n,t,e,i){let r={};for(let o of e)if(qg(n,t,o)&&!i[dr(o)]){let s=new Ye([],{});r[dr(o)]=s}return B(B({},i),r)}function MU(n,t){let e={};e[Oe]=t;for(let i of n)if(i.path===""&&dr(i)!==Oe){let r=new Ye([],{});e[dr(i)]=r}return e}function EU(n,t,e){return e.some(i=>qg(n,t,i)&&dr(i)!==Oe)}function PU(n,t,e){return e.some(i=>qg(n,t,i))}function qg(n,t,e){return(n.hasChildren()||t.length>0)&&e.pathMatch==="full"?!1:e.path===""}function OU(n,t,e){return t.length===0&&!n.children[e]}var ZC=class{};function xU(n,t,e,i,r,o,s="emptyOnly"){return new XC(n,t,e,i,r,s,o).recognize()}var IU=31,XC=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(t,e,i,r,o,s,a){this.injector=t,this.configLoader=e,this.rootComponentType=i,this.config=r,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new QC(this.urlSerializer,this.urlTree)}noMatchError(t){return new j(4002,`'${t.segmentGroup}'`)}recognize(){let t=lD(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(t).pipe(H(({children:e,rootSnapshot:i})=>{let r=new _i(i,e),o=new lu("",r),s=MD(i,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(t){let e=new Pa([],Object.freeze({}),Object.freeze(B({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),Oe,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,t,Oe,e).pipe(H(i=>({children:i,rootSnapshot:e})),Ge(i=>{if(i instanceof fu)return this.urlTree=i.urlTree,this.match(i.urlTree.root);throw i instanceof uu?this.noMatchError(i):i}))}processSegmentGroup(t,e,i,r,o){return i.segments.length===0&&i.hasChildren()?this.processChildren(t,e,i,o):this.processSegment(t,e,i,i.segments,r,!0,o).pipe(H(s=>s instanceof _i?[s]:[]))}processChildren(t,e,i,r){let o=[];for(let s of Object.keys(i.children))s==="primary"?o.unshift(s):o.push(s);return ee(o).pipe(Ei(s=>{let a=i.children[s],c=$8(e,s);return this.processSegmentGroup(t,c,a,s,r)}),uv((s,a)=>(s.push(...a),s)),Xo(null),dv(),zt(s=>{if(s===null)return Gc(i);let a=BD(s);return SU(a),$(a)}))}processSegment(t,e,i,r,o,s,a){return ee(e).pipe(Ei(c=>this.processSegmentAgainstRoute(c._injector??t,e,c,i,r,o,s,a).pipe(Ge(l=>{if(l instanceof uu)return $(null);throw l}))),lo(c=>!!c),Ge(c=>{if(ND(c))return OU(i,r,o)?$(new ZC):Gc(i);throw c}))}processSegmentAgainstRoute(t,e,i,r,o,s,a,c){return dr(i)!==s&&(s===Oe||!qg(r,o,i))?Gc(r):i.redirectTo===void 0?this.matchSegmentAgainstRoute(t,r,i,o,s,c):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(t,r,e,i,o,s,c):Gc(r)}expandSegmentAgainstRouteUsingRedirect(t,e,i,r,o,s,a){let{matched:c,parameters:l,consumedSegments:m,positionalParamSegments:g,remainingSegments:C}=FD(e,r,o);if(!c)return Gc(e);typeof r.redirectTo=="string"&&r.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>IU&&(this.allowRedirects=!1));let E=new Pa(o,l,Object.freeze(B({},this.urlTree.queryParams)),this.urlTree.fragment,dD(r),dr(r),r.component??r._loadedComponent??null,r,uD(r)),S=jg(E,a,this.paramsInheritanceStrategy);return E.params=Object.freeze(S.params),E.data=Object.freeze(S.data),this.applyRedirects.applyRedirectCommands(m,r.redirectTo,g,E,t).pipe(we(R=>this.applyRedirects.lineralizeSegments(r,R)),zt(R=>this.processSegment(t,i,e,R.concat(C),s,!1,a)))}matchSegmentAgainstRoute(t,e,i,r,o,s){let a=bU(e,i,r,t,this.urlSerializer);return i.path==="**"&&(e.children={}),a.pipe(we(c=>c.matched?(t=i._injector??t,this.getChildConfig(t,i,r).pipe(we(({routes:l})=>{let m=i._loadedInjector??t,{parameters:g,consumedSegments:C,remainingSegments:E}=c,S=new Pa(C,g,Object.freeze(B({},this.urlTree.queryParams)),this.urlTree.fragment,dD(i),dr(i),i.component??i._loadedComponent??null,i,uD(i)),k=jg(S,s,this.paramsInheritanceStrategy);S.params=Object.freeze(k.params),S.data=Object.freeze(k.data);let{segmentGroup:R,slicedSegments:V}=lD(e,C,E,l);if(V.length===0&&R.hasChildren())return this.processChildren(m,l,R,S).pipe(H(Ce=>new _i(S,Ce)));if(l.length===0&&V.length===0)return $(new _i(S,[]));let ae=dr(i)===o;return this.processSegment(m,l,R,V,ae?Oe:o,!0,S).pipe(H(Ce=>new _i(S,Ce instanceof _i?[Ce]:[])))}))):Gc(e)))}getChildConfig(t,e,i){return e.children?$({routes:e.children,injector:t}):e.loadChildren?e._loadedRoutes!==void 0?$({routes:e._loadedRoutes,injector:e._loadedInjector}):gU(t,e,i,this.urlSerializer).pipe(zt(r=>r?this.configLoader.loadChildren(t,e).pipe(rn(o=>{e._loadedRoutes=o.routes,e._loadedInjector=o.injector})):vU(e))):$({routes:[],injector:t})}};function SU(n){n.sort((t,e)=>t.value.outlet===Oe?-1:e.value.outlet===Oe?1:t.value.outlet.localeCompare(e.value.outlet))}function TU(n){let t=n.value.routeConfig;return t&&t.path===""}function BD(n){let t=[],e=new Set;for(let i of n){if(!TU(i)){t.push(i);continue}let r=t.find(o=>i.value.routeConfig===o.value.routeConfig);r!==void 0?(r.children.push(...i.children),e.add(r)):t.push(i)}for(let i of e){let r=BD(i.children);t.push(new _i(i.value,r))}return t.filter(i=>!e.has(i))}function dD(n){return n.data||{}}function uD(n){return n.resolve||{}}function DU(n,t,e,i,r,o){return zt(s=>xU(n,t,e,i,s.extractedUrl,r,o).pipe(H(({state:a,tree:c})=>oe(B({},s),{targetSnapshot:a,urlAfterRedirects:c}))))}function AU(n,t){return zt(e=>{let{targetSnapshot:i,guards:{canActivateChecks:r}}=e;if(!r.length)return $(e);let o=new Set(r.map(c=>c.route)),s=new Set;for(let c of o)if(!s.has(c))for(let l of zD(c))s.add(l);let a=0;return ee(s).pipe(Ei(c=>o.has(c)?kU(c,i,n,t):(c.data=jg(c,c.parent,n).resolve,$(void 0))),rn(()=>a++),Mc(1),zt(c=>a===s.size?$(e):Yn))})}function zD(n){let t=n.children.map(e=>zD(e)).flat();return[n,...t]}function kU(n,t,e,i){let r=n.routeConfig,o=n._resolve;return r?.title!==void 0&&!TD(r)&&(o[pu]=r.title),se(()=>(n.data=jg(n,n.parent,e).resolve,RU(o,n,t,i).pipe(H(s=>(n._resolvedData=s,n.data=B(B({},n.data),s),null)))))}function RU(n,t,e,i){let r=VC(n);if(r.length===0)return $({});let o={};return ee(r).pipe(zt(s=>NU(n[s],t,e,i).pipe(lo(),rn(a=>{if(a instanceof nl)throw Ug(new _s,a);o[s]=a}))),Mc(1),H(()=>o),Ge(s=>ND(s)?Yn:wc(s)))}function NU(n,t,e,i){let r=rl(t)??i,o=ol(n,r),s=o.resolve?o.resolve(t,e):X(r,()=>o(t,e));return xo(s)}function BC(n){return we(t=>{let e=n(t);return e?ee(e).pipe(H(()=>t)):$(t)})}var iw=(()=>{class n{buildTitle(e){let i,r=e.root;for(;r!==void 0;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(o=>o.outlet===Oe);return i}getResolvedTitleForRoute(e){return e.data[pu]}static \u0275fac=function(i){return new(i||n)};static \u0275prov=q({token:n,factory:()=>N(VD),providedIn:"root"})}return n})(),VD=(()=>{class n extends iw{title;constructor(e){super(),this.title=e}updateTitle(e){let i=this.buildTitle(e);i!==void 0&&this.title.setTitle(i)}static \u0275fac=function(i){return new(i||n)(W(iD))};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),bs=new Z("",{providedIn:"root",factory:()=>({})}),Ta=new Z(""),Wg=(()=>{class n{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=N(oC);loadComponent(e,i){if(this.componentLoaders.get(i))return this.componentLoaders.get(i);if(i._loadedComponent)return $(i._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(i);let r=xo(X(e,()=>i.loadComponent())).pipe(H(UD),we($D),rn(s=>{this.onLoadEndListener&&this.onLoadEndListener(i),i._loadedComponent=s}),Jo(()=>{this.componentLoaders.delete(i)})),o=new vc(r,()=>new le).pipe(_c());return this.componentLoaders.set(i,o),o}loadChildren(e,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return $({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let o=jD(i,this.compiler,e,this.onLoadEndListener).pipe(Jo(()=>{this.childrenLoaders.delete(i)})),s=new vc(o,()=>new le).pipe(_c());return this.childrenLoaders.set(i,s),s}static \u0275fac=function(i){return new(i||n)};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function jD(n,t,e,i){return xo(X(e,()=>n.loadChildren())).pipe(H(UD),we($D),zt(r=>r instanceof Jh||Array.isArray(r)?$(r):ee(t.compileModuleAsync(r))),H(r=>{i&&i(n);let o,s,a=!1;return Array.isArray(r)?(s=r,a=!0):(o=r.create(e).injector,s=o.get(Ta,[],{optional:!0,self:!0}).flat()),{routes:s.map(nw),injector:o}}))}function LU(n){return n&&typeof n=="object"&&"default"in n}function UD(n){return LU(n)?n.default:n}function $D(n){return $(n)}var Gg=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275prov=q({token:n,factory:()=>N(FU),providedIn:"root"})}return n})(),FU=(()=>{class n{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,i){return e}static \u0275fac=function(i){return new(i||n)};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),rw=new Z(""),ow=new Z("");function HD(n,t,e){let i=n.get(ow),r=n.get(gt);if(!r.startViewTransition||i.skipNextTransition)return i.skipNextTransition=!1,new Promise(l=>setTimeout(l));let o,s=new Promise(l=>{o=l}),a=r.startViewTransition(()=>(o(),BU(n)));a.ready.catch(l=>{});let{onViewTransitionCreated:c}=i;return c&&X(n,()=>c({transition:a,from:t,to:e})),s}function BU(n){return new Promise(t=>{Nd({read:()=>setTimeout(t)},{injector:n})})}var sw=new Z(""),Kg=(()=>{class n{currentNavigation=Jn(null,{equal:()=>!1});currentTransition=null;lastSuccessfulNavigation=null;events=new le;transitionAbortWithErrorSubject=new le;configLoader=N(Wg);environmentInjector=N(Pt);destroyRef=N(Ti);urlSerializer=N(xa);rootContexts=N(Ia);location=N(hs);inputBindingEnabled=N(hu,{optional:!0})!==null;titleStrategy=N(iw);options=N(bs,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=N(Gg);createViewTransition=N(rw,{optional:!0});navigationErrorHandler=N(sw,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>$(void 0);rootComponentType=null;destroyed=!1;constructor(){let e=r=>this.events.next(new kg(r)),i=r=>this.events.next(new Rg(r));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=e,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(e){let i=++this.navigationId;ln(()=>{this.transitions?.next(oe(B({},e),{extractedUrl:this.urlHandlingStrategy.extract(e.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,abortController:new AbortController,id:i}))})}setupNavigations(e){return this.transitions=new _n(null),this.transitions.pipe(An(i=>i!==null),we(i=>{let r=!1;return $(i).pipe(we(o=>{if(this.navigationId>i.id)return this.cancelNavigationTransition(i,"",jn.SupersededByNewNavigation),Yn;this.currentTransition=i,this.currentNavigation.set({id:o.id,initialUrl:o.rawUrl,extractedUrl:o.extractedUrl,targetBrowserUrl:typeof o.extras.browserUrl=="string"?this.urlSerializer.parse(o.extras.browserUrl):o.extras.browserUrl,trigger:o.source,extras:o.extras,previousNavigation:this.lastSuccessfulNavigation?oe(B({},this.lastSuccessfulNavigation),{previousNavigation:null}):null,abort:()=>o.abortController.abort()});let s=!e.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),a=o.extras.onSameUrlNavigation??e.onSameUrlNavigation;if(!s&&a!=="reload")return this.events.next(new $r(o.id,this.urlSerializer.serialize(o.rawUrl),"",Xc.IgnoredSameUrlNavigation)),o.resolve(!1),Yn;if(this.urlHandlingStrategy.shouldProcessUrl(o.rawUrl))return $(o).pipe(we(c=>(this.events.next(new ys(c.id,this.urlSerializer.serialize(c.extractedUrl),c.source,c.restoredState)),c.id!==this.navigationId?Yn:Promise.resolve(c))),DU(this.environmentInjector,this.configLoader,this.rootComponentType,e.config,this.urlSerializer,this.paramsInheritanceStrategy),rn(c=>{i.targetSnapshot=c.targetSnapshot,i.urlAfterRedirects=c.urlAfterRedirects,this.currentNavigation.update(m=>(m.finalUrl=c.urlAfterRedirects,m));let l=new su(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(l)}));if(s&&this.urlHandlingStrategy.shouldProcessUrl(o.currentRawUrl)){let{id:c,extractedUrl:l,source:m,restoredState:g,extras:C}=o,E=new ys(c,this.urlSerializer.serialize(l),m,g);this.events.next(E);let S=ID(this.rootComponentType).snapshot;return this.currentTransition=i=oe(B({},o),{targetSnapshot:S,urlAfterRedirects:l,extras:oe(B({},C),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.update(k=>(k.finalUrl=l,k)),$(i)}else return this.events.next(new $r(o.id,this.urlSerializer.serialize(o.extractedUrl),"",Xc.IgnoredByUrlHandlingStrategy)),o.resolve(!1),Yn}),rn(o=>{let s=new Sg(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot);this.events.next(s)}),H(o=>(this.currentTransition=i=oe(B({},o),{guards:Y8(o.targetSnapshot,o.currentSnapshot,this.rootContexts)}),i)),aU(this.environmentInjector,o=>this.events.next(o)),rn(o=>{if(i.guardsResult=o.guardsResult,o.guardsResult&&typeof o.guardsResult!="boolean")throw Ug(this.urlSerializer,o.guardsResult);let s=new Tg(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot,!!o.guardsResult);this.events.next(s)}),An(o=>o.guardsResult?!0:(this.cancelNavigationTransition(o,"",jn.GuardRejected),!1)),BC(o=>{if(o.guards.canActivateChecks.length!==0)return $(o).pipe(rn(s=>{let a=new Dg(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),we(s=>{let a=!1;return $(s).pipe(AU(this.paramsInheritanceStrategy,this.environmentInjector),rn({next:()=>a=!0,complete:()=>{a||this.cancelNavigationTransition(s,"",jn.NoDataFromResolver)}}))}),rn(s=>{let a=new Ag(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}))}),BC(o=>{let s=a=>{let c=[];if(a.routeConfig?.loadComponent){let l=rl(a)??this.environmentInjector;c.push(this.configLoader.loadComponent(l,a.routeConfig).pipe(rn(m=>{a.component=m}),H(()=>{})))}for(let l of a.children)c.push(...s(l));return c};return ad(s(o.targetSnapshot.root)).pipe(Xo(null),ht(1))}),BC(()=>this.afterPreactivation()),we(()=>{let{currentSnapshot:o,targetSnapshot:s}=i,a=this.createViewTransition?.(this.environmentInjector,o.root,s.root);return a?ee(a).pipe(H(()=>i)):$(i)}),H(o=>{let s=q8(e.routeReuseStrategy,o.targetSnapshot,o.currentRouterState);return this.currentTransition=i=oe(B({},o),{targetRouterState:s}),this.currentNavigation.update(a=>(a.targetRouterState=s,a)),i}),rn(()=>{this.events.next(new au)}),Q8(this.rootContexts,e.routeReuseStrategy,o=>this.events.next(o),this.inputBindingEnabled),ht(1),ne(new ie(o=>{let s=i.abortController.signal,a=()=>o.next();return s.addEventListener("abort",a),()=>s.removeEventListener("abort",a)}).pipe(An(()=>!r&&!i.targetRouterState),rn(()=>{this.cancelNavigationTransition(i,i.abortController.signal.reason+"",jn.Aborted)}))),rn({next:o=>{r=!0,this.lastSuccessfulNavigation=ln(this.currentNavigation),this.events.next(new yi(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects))),this.titleStrategy?.updateTitle(o.targetRouterState.snapshot),o.resolve(!0)},complete:()=>{r=!0}}),ne(this.transitionAbortWithErrorSubject.pipe(rn(o=>{throw o}))),Jo(()=>{r||this.cancelNavigationTransition(i,"",jn.SupersededByNewNavigation),this.currentTransition?.id===i.id&&(this.currentNavigation.set(null),this.currentTransition=null)}),Ge(o=>{if(this.destroyed)return i.resolve(!1),Yn;if(r=!0,RD(o))this.events.next(new jr(i.id,this.urlSerializer.serialize(i.extractedUrl),o.message,o.cancellationCode)),K8(o)?this.events.next(new tl(o.url,o.navigationBehaviorOptions)):i.resolve(!1);else{let s=new Jc(i.id,this.urlSerializer.serialize(i.extractedUrl),o,i.targetSnapshot??void 0);try{let a=X(this.environmentInjector,()=>this.navigationErrorHandler?.(s));if(a instanceof nl){let{message:c,cancellationCode:l}=Ug(this.urlSerializer,a);this.events.next(new jr(i.id,this.urlSerializer.serialize(i.extractedUrl),c,l)),this.events.next(new tl(a.redirectTo,a.navigationBehaviorOptions))}else throw this.events.next(s),o}catch(a){this.options.resolveNavigationPromiseOnError?i.resolve(!1):i.reject(a)}}return Yn}))}))}cancelNavigationTransition(e,i,r){let o=new jr(e.id,this.urlSerializer.serialize(e.extractedUrl),i,r);this.events.next(o),e.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let e=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),i=ln(this.currentNavigation),r=i?.targetBrowserUrl??i?.extractedUrl;return e.toString()!==r?.toString()&&!i?.extras.skipLocationChange}static \u0275fac=function(i){return new(i||n)};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function zU(n){return n!==Yc}var qD=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275prov=q({token:n,factory:()=>N(VU),providedIn:"root"})}return n})(),Hg=class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}},VU=(()=>{class n extends Hg{static \u0275fac=(()=>{let e;return function(r){return(e||(e=Cn(n)))(r||n)}})();static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),WD=(()=>{class n{urlSerializer=N(xa);options=N(bs,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=N(hs);urlHandlingStrategy=N(Gg);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new Ur;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:e,initialUrl:i,targetBrowserUrl:r}){let o=e!==void 0?this.urlHandlingStrategy.merge(e,i):i,s=r??o;return s instanceof Ur?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:e,finalUrl:i,initialUrl:r}){i&&e?(this.currentUrlTree=i,this.rawUrlTree=this.urlHandlingStrategy.merge(i,r),this.routerState=e):this.rawUrlTree=r}routerState=ID(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:e}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e??this.rawUrlTree)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=q({token:n,factory:()=>N(jU),providedIn:"root"})}return n})(),jU=(()=>{class n extends WD{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(e){return this.location.subscribe(i=>{i.type==="popstate"&&setTimeout(()=>{e(i.url,i.state,"popstate")})})}handleRouterEvent(e,i){e instanceof ys?this.updateStateMemento():e instanceof $r?this.commitTransition(i):e instanceof su?this.urlUpdateStrategy==="eager"&&(i.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(i),i)):e instanceof au?(this.commitTransition(i),this.urlUpdateStrategy==="deferred"&&!i.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(i),i)):e instanceof jr&&e.code!==jn.SupersededByNewNavigation&&e.code!==jn.Redirect?this.restoreHistory(i):e instanceof Jc?this.restoreHistory(i,!0):e instanceof yi&&(this.lastSuccessfulId=e.id,this.currentPageId=this.browserPageId)}setBrowserUrl(e,{extras:i,id:r}){let{replaceUrl:o,state:s}=i;if(this.location.isCurrentPathEqualTo(e)||o){let a=this.browserPageId,c=B(B({},s),this.generateNgRouterState(r,a));this.location.replaceState(e,"",c)}else{let a=B(B({},s),this.generateNgRouterState(r,this.browserPageId+1));this.location.go(e,"",a)}}restoreHistory(e,i=!1){if(this.canceledNavigationResolution==="computed"){let r=this.browserPageId,o=this.currentPageId-r;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===e.finalUrl&&o===0&&(this.resetInternalState(e),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetInternalState(e),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,i){return this.canceledNavigationResolution==="computed"?{navigationId:e,\u0275routerPageId:i}:{navigationId:e}}static \u0275fac=(()=>{let e;return function(r){return(e||(e=Cn(n)))(r||n)}})();static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Qg(n,t){n.events.pipe(An(e=>e instanceof yi||e instanceof jr||e instanceof Jc||e instanceof $r),H(e=>e instanceof yi||e instanceof $r?0:(e instanceof jr?e.code===jn.Redirect||e.code===jn.SupersededByNewNavigation:!1)?2:1),An(e=>e!==2),ht(1)).subscribe(()=>{t()})}var UU={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},$U={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},He=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=N(eg);stateManager=N(WD);options=N(bs,{optional:!0})||{};pendingTasks=N(Nr);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=N(Kg);urlSerializer=N(xa);location=N(hs);urlHandlingStrategy=N(Gg);injector=N(Pt);_events=new le;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=N(qD);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=N(Ta,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!N(hu,{optional:!0});currentNavigation=this.navigationTransitions.currentNavigation.asReadonly();constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:e=>{this.console.warn(e)}}),this.subscribeToNavigationEvents()}eventsSubscription=new It;subscribeToNavigationEvents(){let e=this.navigationTransitions.events.subscribe(i=>{try{let r=this.navigationTransitions.currentTransition,o=ln(this.navigationTransitions.currentNavigation);if(r!==null&&o!==null){if(this.stateManager.handleRouterEvent(i,o),i instanceof jr&&i.code!==jn.Redirect&&i.code!==jn.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof yi)this.navigated=!0;else if(i instanceof tl){let s=i.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(i.url,r.currentRawUrl),c=B({browserUrl:r.extras.browserUrl,info:r.extras.info,skipLocationChange:r.extras.skipLocationChange,replaceUrl:r.extras.replaceUrl||this.urlUpdateStrategy==="eager"||zU(r.source)},s);this.scheduleNavigation(a,Yc,null,c,{resolve:r.resolve,reject:r.reject,promise:r.promise})}}j8(i)&&this._events.next(i)}catch(r){this.navigationTransitions.transitionAbortWithErrorSubject.next(r)}});this.eventsSubscription.add(e)}resetRootComponentType(e){this.routerState.root.component=e,this.navigationTransitions.rootComponentType=e}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Yc,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((e,i,r)=>{this.navigateToSyncWithBrowser(e,r,i)})}navigateToSyncWithBrowser(e,i,r){let o={replaceUrl:!0},s=r?.navigationId?r:null;if(r){let c=B({},r);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(o.state=c)}let a=this.parseUrl(e);this.scheduleNavigation(a,i,s,o).catch(c=>{this.disposed||this.injector.get(Xn)(c)})}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return ln(this.navigationTransitions.currentNavigation)}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(e){this.config=e.map(nw),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(e,i={}){let{relativeTo:r,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:c}=i,l=c?this.currentUrlTree.fragment:s,m=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":m=B(B({},this.currentUrlTree.queryParams),o);break;case"preserve":m=this.currentUrlTree.queryParams;break;default:m=o||null}m!==null&&(m=this.removeEmptyProps(m));let g;try{let C=r?r.snapshot:this.routerState.snapshot.root;g=ED(C)}catch{(typeof e[0]!="string"||e[0][0]!=="/")&&(e=[]),g=this.currentUrlTree.root}return PD(g,e,m,l??null)}navigateByUrl(e,i={skipLocationChange:!1}){let r=vs(e)?e:this.parseUrl(e),o=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(o,Yc,null,i)}navigate(e,i={skipLocationChange:!1}){return HU(e),this.navigateByUrl(this.createUrlTree(e,i),i)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){try{return this.urlSerializer.parse(e)}catch{return this.console.warn(Sr(4018,!1)),this.urlSerializer.parse("/")}}isActive(e,i){let r;if(i===!0?r=B({},UU):i===!1?r=B({},$U):r=i,vs(e))return oD(this.currentUrlTree,e,r);let o=this.parseUrl(e);return oD(this.currentUrlTree,o,r)}removeEmptyProps(e){return Object.entries(e).reduce((i,[r,o])=>(o!=null&&(i[r]=o),i),{})}scheduleNavigation(e,i,r,o,s){if(this.disposed)return Promise.resolve(!1);let a,c,l;s?(a=s.resolve,c=s.reject,l=s.promise):l=new Promise((g,C)=>{a=g,c=C});let m=this.pendingTasks.add();return Qg(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(m))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:e,extras:o,resolve:a,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(g=>Promise.reject(g))}static \u0275fac=function(i){return new(i||n)};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function HU(n){for(let t=0;t<n.length;t++)if(n[t]==null)throw new j(4008,!1)}var Ue=(()=>{class n{router;route;tabIndexAttribute;renderer;el;locationStrategy;reactiveHref=Jn(null);get href(){return ln(this.reactiveHref)}set href(e){this.reactiveHref.set(e)}target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new le;applicationErrorHandler=N(Xn);options=N(bs,{optional:!0});constructor(e,i,r,o,s,a){this.router=e,this.route=i,this.tabIndexAttribute=r,this.renderer=o,this.el=s,this.locationStrategy=a,this.reactiveHref.set(N(new rg("href"),{optional:!0}));let c=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=c==="a"||c==="area"||!!(typeof customElements=="object"&&customElements.get(c)?.observedAttributes?.includes?.("href")),this.isAnchorElement?this.setTabIndexIfNotOnNativeEl("0"):this.subscribeToNavigationEventsIfNecessary()}subscribeToNavigationEventsIfNecessary(){if(this.subscription!==void 0||!this.isAnchorElement)return;let e=this.preserveFragment,i=r=>r==="merge"||r==="preserve";e||=i(this.queryParamsHandling),e||=!this.queryParamsHandling&&!i(this.options?.defaultQueryParamsHandling),e&&(this.subscription=this.router.events.subscribe(r=>{r instanceof yi&&this.updateHref()}))}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(e){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",e)}ngOnChanges(e){this.isAnchorElement&&(this.updateHref(),this.subscribeToNavigationEventsIfNecessary()),this.onChanges.next(this)}routerLinkInput=null;set routerLink(e){e==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(vs(e)?this.routerLinkInput=e:this.routerLinkInput=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0"))}onClick(e,i,r,o,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(e!==0||i||r||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let c={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,c)?.catch(l=>{this.applicationErrorHandler(l)}),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let e=this.urlTree;this.reactiveHref.set(e!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(e))??"":null)}applyAttributeValue(e,i){let r=this.renderer,o=this.el.nativeElement;i!==null?r.setAttribute(o,e,i):r.removeAttribute(o,e)}get urlTree(){return this.routerLinkInput===null?null:vs(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(i){return new(i||n)(A(He),A(Tt),Td("tabindex"),A(gi),A(cn),A(Ri))};static \u0275dir=We({type:n,selectors:[["","routerLink",""]],hostVars:2,hostBindings:function(i,r){i&1&&z("click",function(s){return r.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),i&2&&Wt("href",r.reactiveHref(),xb)("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",Ca],skipLocationChange:[2,"skipLocationChange","skipLocationChange",Ca],replaceUrl:[2,"replaceUrl","replaceUrl",Ca],routerLink:"routerLink"},features:[an]})}return n})(),_u=(()=>{class n{router;element;renderer;cdr;link;links;classes=[];routerEventsSubscription;linkInputChangesSubscription;_isActive=!1;get isActive(){return this._isActive}routerLinkActiveOptions={exact:!1};ariaCurrentWhenActive;isActiveChange=new qe;constructor(e,i,r,o,s){this.router=e,this.element=i,this.renderer=r,this.cdr=o,this.link=s,this.routerEventsSubscription=e.events.subscribe(a=>{a instanceof yi&&this.update()})}ngAfterContentInit(){$(this.links.changes,$(null)).pipe(Ir()).subscribe(e=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let e=[...this.links.toArray(),this.link].filter(i=>!!i).map(i=>i.onChanges);this.linkInputChangesSubscription=ee(e).pipe(Ir()).subscribe(i=>{this._isActive!==this.isLinkActive(this.router)(i)&&this.update()})}set routerLinkActive(e){let i=Array.isArray(e)?e:e.split(" ");this.classes=i.filter(r=>!!r)}ngOnChanges(e){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let e=this.hasActiveLinks();this.classes.forEach(i=>{e?this.renderer.addClass(this.element.nativeElement,i):this.renderer.removeClass(this.element.nativeElement,i)}),e&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==e&&(this._isActive=e,this.cdr.markForCheck(),this.isActiveChange.emit(e))})}isLinkActive(e){let i=qU(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return r=>{let o=r.urlTree;return o?e.isActive(o,i):!1}}hasActiveLinks(){let e=this.isLinkActive(this.router);return this.link&&e(this.link)||this.links.some(e)}static \u0275fac=function(i){return new(i||n)(A(He),A(cn),A(gi),A(cr),A(Ue,8))};static \u0275dir=We({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(i,r,o){if(i&1&&eC(o,Ue,5),i&2){let s;tC(s=nC())&&(r.links=s)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[an]})}return n})();function qU(n){return!!n.paths}var mu=class{};var GD=(()=>{class n{router;injector;preloadingStrategy;loader;subscription;constructor(e,i,r,o){this.router=e,this.injector=i,this.preloadingStrategy=r,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(An(e=>e instanceof yi),Ei(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,i){let r=[];for(let o of i){o.providers&&!o._injector&&(o._injector=jc(o.providers,e,`Route: ${o.path}`));let s=o._injector??e,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&r.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&r.push(this.processRoutes(a,o.children??o._loadedRoutes))}return ee(r).pipe(Ir())}preloadConfig(e,i){return this.preloadingStrategy.preload(i,()=>{let r;i.loadChildren&&i.canLoad===void 0?r=this.loader.loadChildren(e,i):r=$(null);let o=r.pipe(zt(s=>s===null?$(void 0):(i._loadedRoutes=s.routes,i._loadedInjector=s.injector,this.processRoutes(s.injector??e,s.routes))));if(i.loadComponent&&!i._loadedComponent){let s=this.loader.loadComponent(e,i);return ee([o,s]).pipe(Ir())}else return o})}static \u0275fac=function(i){return new(i||n)(W(He),W(Pt),W(mu),W(Wg))};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),KD=new Z(""),WU=(()=>{class n{urlSerializer;transitions;viewportScroller;zone;options;routerEventsSubscription;scrollEventsSubscription;lastId=0;lastSource=Yc;restoredId=0;store={};constructor(e,i,r,o,s={}){this.urlSerializer=e,this.transitions=i,this.viewportScroller=r,this.zone=o,this.options=s,s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof ys?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof yi?(this.lastId=e.id,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.urlAfterRedirects).fragment)):e instanceof $r&&e.code===Xc.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(e=>{if(!(e instanceof el))return;let i={behavior:"instant"};e.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0],i):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(e.position,i):e.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(e.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0])})}scheduleScrollEvent(e,i){this.zone.runOutsideAngular(()=>T(this,null,function*(){yield new Promise(r=>{setTimeout(r),typeof requestAnimationFrame<"u"&&requestAnimationFrame(r)}),this.zone.run(()=>{this.transitions.events.next(new el(e,this.lastSource==="popstate"?this.store[this.restoredId]:null,i))})}))}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static \u0275fac=function(i){qb()};static \u0275prov=q({token:n,factory:n.\u0275fac})}return n})();function cw(n,...t){return bn([{provide:Ta,multi:!0,useValue:n},[],{provide:Tt,useFactory:QD,deps:[He]},{provide:zd,multi:!0,useFactory:YD},t.map(e=>e.\u0275providers)])}function QD(n){return n.routerState.root}function sl(n,t){return{\u0275kind:n,\u0275providers:t}}function YD(){let n=N(De);return t=>{let e=n.get(Br);if(t!==e.components[0])return;let i=n.get(He),r=n.get(ZD);n.get(lw)===1&&i.initialNavigation(),n.get(e2,null,{optional:!0})?.setUpPreloading(),n.get(KD,null,{optional:!0})?.init(),i.resetRootComponentType(e.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}var ZD=new Z("",{factory:()=>new le}),lw=new Z("",{providedIn:"root",factory:()=>1});function XD(){let n=[{provide:Uh,useValue:!0},{provide:lw,useValue:0},tg(()=>{let t=N(De);return t.get(_C,Promise.resolve()).then(()=>new Promise(i=>{let r=t.get(He),o=t.get(ZD);Qg(r,()=>{i(!0)}),t.get(Kg).afterPreactivation=()=>(i(!0),o.closed?$(void 0):o),r.initialNavigation()}))})];return sl(2,n)}function JD(){let n=[tg(()=>{N(He).setUpLocationChangeListener()}),{provide:lw,useValue:2}];return sl(3,n)}var e2=new Z("");function t2(n){return sl(0,[{provide:e2,useExisting:GD},{provide:mu,useExisting:n}])}function dw(){return sl(6,[{provide:Ri,useClass:ug}])}function n2(){return sl(8,[ew,{provide:hu,useExisting:ew}])}function i2(n){hi("NgRouterViewTransitions");let t=[{provide:rw,useValue:HD},{provide:ow,useValue:B({skipNextTransition:!!n?.skipInitialTransition},n)}];return sl(9,t)}var r2=[hs,{provide:xa,useClass:_s},He,Ia,{provide:Tt,useFactory:QD,deps:[He]},Wg,[]],ke=(()=>{class n{constructor(){}static forRoot(e,i){return{ngModule:n,providers:[r2,[],{provide:Ta,multi:!0,useValue:e},[],i?.errorHandler?{provide:sw,useValue:i.errorHandler}:[],{provide:bs,useValue:i||{}},i?.useHash?KU():QU(),GU(),i?.preloadingStrategy?t2(i.preloadingStrategy).\u0275providers:[],i?.initialNavigation?YU(i):[],i?.bindToComponentInputs?n2().\u0275providers:[],i?.enableViewTransitions?i2().\u0275providers:[],ZU()]}}static forChild(e){return{ngModule:n,providers:[{provide:Ta,multi:!0,useValue:e}]}}static \u0275fac=function(i){return new(i||n)};static \u0275mod=Rn({type:n});static \u0275inj=yn({})}return n})();function GU(){return{provide:KD,useFactory:()=>{let n=N(kT),t=N(ze),e=N(bs),i=N(Kg),r=N(xa);return e.scrollOffset&&n.setOffset(e.scrollOffset),new WU(r,i,n,t,e)}}}function KU(){return{provide:Ri,useClass:ug}}function QU(){return{provide:Ri,useClass:cg}}function YU(n){return[n.initialNavigation==="disabled"?JD().\u0275providers:[],n.initialNavigation==="enabledBlocking"?XD().\u0275providers:[]]}var aw=new Z("");function ZU(){return[{provide:aw,useFactory:YD},{provide:zd,multi:!0,useExisting:aw}]}var Re=(function(n){return n[n.State=0]="State",n[n.Transition=1]="Transition",n[n.Sequence=2]="Sequence",n[n.Group=3]="Group",n[n.Animate=4]="Animate",n[n.Keyframes=5]="Keyframes",n[n.Style=6]="Style",n[n.Trigger=7]="Trigger",n[n.Reference=8]="Reference",n[n.AnimateChild=9]="AnimateChild",n[n.AnimateRef=10]="AnimateRef",n[n.Query=11]="Query",n[n.Stagger=12]="Stagger",n})(Re||{}),ur="*";function o2(n,t=null){return{type:Re.Sequence,steps:n,options:t}}function uw(n){return{type:Re.Style,styles:n,offset:null}}var Io=class{_onDoneFns=[];_onStartFns=[];_onDestroyFns=[];_originalOnDoneFns=[];_originalOnStartFns=[];_started=!1;_destroyed=!1;_finished=!1;_position=0;parentPlayer=null;totalTime;constructor(t=0,e=0){this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){let e=t=="start"?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}},al=class{_onDoneFns=[];_onStartFns=[];_finished=!1;_started=!1;_destroyed=!1;_onDestroyFns=[];parentPlayer=null;totalTime=0;players;constructor(t){this.players=t;let e=0,i=0,r=0,o=this.players.length;o==0?queueMicrotask(()=>this._onFinish()):this.players.forEach(s=>{s.onDone(()=>{++e==o&&this._onFinish()}),s.onDestroy(()=>{++i==o&&this._onDestroy()}),s.onStart(()=>{++r==o&&this._onStart()})}),this.totalTime=this.players.reduce((s,a)=>Math.max(s,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){let e=t*this.totalTime;this.players.forEach(i=>{let r=i.totalTime?Math.min(1,e/i.totalTime):1;i.setPosition(r)})}getPosition(){let t=this.players.reduce((e,i)=>e===null||i.totalTime>e.totalTime?i:e,null);return t!=null?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){let e=t=="start"?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}},vu="!";function s2(n){return new j(3e3,!1)}function XU(){return new j(3100,!1)}function JU(){return new j(3101,!1)}function e$(n){return new j(3001,!1)}function t$(n){return new j(3003,!1)}function n$(n){return new j(3004,!1)}function c2(n,t){return new j(3005,!1)}function l2(){return new j(3006,!1)}function d2(){return new j(3007,!1)}function u2(n,t){return new j(3008,!1)}function f2(n){return new j(3002,!1)}function p2(n,t,e,i,r){return new j(3010,!1)}function h2(){return new j(3011,!1)}function g2(){return new j(3012,!1)}function m2(){return new j(3200,!1)}function _2(){return new j(3202,!1)}function v2(){return new j(3013,!1)}function y2(n){return new j(3014,!1)}function b2(n){return new j(3015,!1)}function C2(n){return new j(3016,!1)}function w2(n,t){return new j(3404,!1)}function i$(n){return new j(3502,!1)}function M2(n){return new j(3503,!1)}function E2(){return new j(3300,!1)}function P2(n){return new j(3504,!1)}function O2(n){return new j(3301,!1)}function x2(n,t){return new j(3302,!1)}function I2(n){return new j(3303,!1)}function S2(n,t){return new j(3400,!1)}function T2(n){return new j(3401,!1)}function D2(n){return new j(3402,!1)}function A2(n,t){return new j(3505,!1)}function So(n){switch(n.length){case 0:return new Io;case 1:return n[0];default:return new al(n)}}function gw(n,t,e=new Map,i=new Map){let r=[],o=[],s=-1,a=null;if(t.forEach(c=>{let l=c.get("offset"),m=l==s,g=m&&a||new Map;c.forEach((C,E)=>{let S=E,k=C;if(E!=="offset")switch(S=n.normalizePropertyName(S,r),k){case vu:k=e.get(E);break;case ur:k=i.get(E);break;default:k=n.normalizeStyleValue(E,S,k,r);break}g.set(S,k)}),m||o.push(g),a=g,s=l}),r.length)throw i$(r);return o}function Yg(n,t,e,i){switch(t){case"start":n.onStart(()=>i(e&&fw(e,"start",n)));break;case"done":n.onDone(()=>i(e&&fw(e,"done",n)));break;case"destroy":n.onDestroy(()=>i(e&&fw(e,"destroy",n)));break}}function fw(n,t,e){let i=e.totalTime,r=!!e.disabled,o=Zg(n.element,n.triggerName,n.fromState,n.toState,t||n.phaseName,i??n.totalTime,r),s=n._data;return s!=null&&(o._data=s),o}function Zg(n,t,e,i,r="",o=0,s){return{element:n,triggerName:t,fromState:e,toState:i,phaseName:r,totalTime:o,disabled:!!s}}function ti(n,t,e){let i=n.get(t);return i||n.set(t,i=e),i}function mw(n){let t=n.indexOf(":"),e=n.substring(1,t),i=n.slice(t+1);return[e,i]}var r$=typeof document>"u"?null:document.documentElement;function Xg(n){let t=n.parentNode||n.host||null;return t===r$?null:t}function o$(n){return n.substring(1,6)=="ebkit"}var Da=null,a2=!1;function k2(n){Da||(Da=s$()||{},a2=Da.style?"WebkitAppearance"in Da.style:!1);let t=!0;return Da.style&&!o$(n)&&(t=n in Da.style,!t&&a2&&(t="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in Da.style)),t}function s$(){return typeof document<"u"?document.body:null}function _w(n,t){for(;t;){if(t===n)return!0;t=Xg(t)}return!1}function vw(n,t,e){if(e)return Array.from(n.querySelectorAll(t));let i=n.querySelector(t);return i?[i]:[]}var a$=1e3,yw="{{",c$="}}",bw="ng-enter",Jg="ng-leave",yu="ng-trigger",bu=".ng-trigger",Cw="ng-animating",em=".ng-animating";function Hr(n){if(typeof n=="number")return n;let t=n.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:pw(parseFloat(t[1]),t[2])}function pw(n,t){switch(t){case"s":return n*a$;default:return n}}function Cu(n,t,e){return n.hasOwnProperty("duration")?n:d$(n,t,e)}var l$=/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i;function d$(n,t,e){let i,r=0,o="";if(typeof n=="string"){let s=n.match(l$);if(s===null)return t.push(s2(n)),{duration:0,delay:0,easing:""};i=pw(parseFloat(s[1]),s[2]);let a=s[3];a!=null&&(r=pw(parseFloat(a),s[4]));let c=s[5];c&&(o=c)}else i=n;if(!e){let s=!1,a=t.length;i<0&&(t.push(XU()),s=!0),r<0&&(t.push(JU()),s=!0),s&&t.splice(a,0,s2(n))}return{duration:i,delay:r,easing:o}}function R2(n){return n.length?n[0]instanceof Map?n:n.map(t=>new Map(Object.entries(t))):[]}function fr(n,t,e){t.forEach((i,r)=>{let o=tm(r);e&&!e.has(r)&&e.set(r,n.style[o]),n.style[o]=i})}function Cs(n,t){t.forEach((e,i)=>{let r=tm(i);n.style[r]=""})}function cl(n){return Array.isArray(n)?n.length==1?n[0]:o2(n):n}function N2(n,t,e){let i=t.params||{},r=ww(n);r.length&&r.forEach(o=>{i.hasOwnProperty(o)||e.push(e$(o))})}var hw=new RegExp(`${yw}\\s*(.+?)\\s*${c$}`,"g");function ww(n){let t=[];if(typeof n=="string"){let e;for(;e=hw.exec(n);)t.push(e[1]);hw.lastIndex=0}return t}function ll(n,t,e){let i=`${n}`,r=i.replace(hw,(o,s)=>{let a=t[s];return a==null&&(e.push(t$(s)),a=""),a.toString()});return r==i?n:r}var u$=/-+([a-z0-9])/g;function tm(n){return n.replace(u$,(...t)=>t[1].toUpperCase())}function L2(n,t){return n===0||t===0}function F2(n,t,e){if(e.size&&t.length){let i=t[0],r=[];if(e.forEach((o,s)=>{i.has(s)||r.push(s),i.set(s,o)}),r.length)for(let o=1;o<t.length;o++){let s=t[o];r.forEach(a=>s.set(a,nm(n,a)))}}return t}function ni(n,t,e){switch(t.type){case Re.Trigger:return n.visitTrigger(t,e);case Re.State:return n.visitState(t,e);case Re.Transition:return n.visitTransition(t,e);case Re.Sequence:return n.visitSequence(t,e);case Re.Group:return n.visitGroup(t,e);case Re.Animate:return n.visitAnimate(t,e);case Re.Keyframes:return n.visitKeyframes(t,e);case Re.Style:return n.visitStyle(t,e);case Re.Reference:return n.visitReference(t,e);case Re.AnimateChild:return n.visitAnimateChild(t,e);case Re.AnimateRef:return n.visitAnimateRef(t,e);case Re.Query:return n.visitQuery(t,e);case Re.Stagger:return n.visitStagger(t,e);default:throw n$(t.type)}}function nm(n,t){return window.getComputedStyle(n)[t]}var zw=(()=>{class n{validateStyleProperty(e){return k2(e)}containsElement(e,i){return _w(e,i)}getParentElement(e){return Xg(e)}query(e,i,r){return vw(e,i,r)}computeStyle(e,i,r){return r||""}animate(e,i,r,o,s,a=[],c){return new Io(r,o)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=q({token:n,factory:n.\u0275fac})}return n})(),ka=class{static NOOP=new zw},Ra=class{};var f$=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]),am=class extends Ra{normalizePropertyName(t,e){return tm(t)}normalizeStyleValue(t,e,i,r){let o="",s=i.toString().trim();if(f$.has(e)&&i!==0&&i!=="0")if(typeof i=="number")o="px";else{let a=i.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&a[1].length==0&&r.push(c2(t,i))}return s+o}};var cm="*";function p$(n,t){let e=[];return typeof n=="string"?n.split(/\s*,\s*/).forEach(i=>h$(i,e,t)):e.push(n),e}function h$(n,t,e){if(n[0]==":"){let c=g$(n,e);if(typeof c=="function"){t.push(c);return}n=c}let i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(i==null||i.length<4)return e.push(b2(n)),t;let r=i[1],o=i[2],s=i[3];t.push(B2(r,s));let a=r==cm&&s==cm;o[0]=="<"&&!a&&t.push(B2(s,r))}function g$(n,t){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,i)=>parseFloat(i)>parseFloat(e);case":decrement":return(e,i)=>parseFloat(i)<parseFloat(e);default:return t.push(C2(n)),"* => *"}}var im=new Set(["true","1"]),rm=new Set(["false","0"]);function B2(n,t){let e=im.has(n)||rm.has(n),i=im.has(t)||rm.has(t);return(r,o)=>{let s=n==cm||n==r,a=t==cm||t==o;return!s&&e&&typeof r=="boolean"&&(s=r?im.has(n):rm.has(n)),!a&&i&&typeof o=="boolean"&&(a=o?im.has(t):rm.has(t)),s&&a}}var K2=":self",m$=new RegExp(`s*${K2}s*,?`,"g");function Q2(n,t,e,i){return new Iw(n).build(t,e,i)}var z2="",Iw=class{_driver;constructor(t){this._driver=t}build(t,e,i){let r=new Sw(e);return this._resetContextStyleTimingState(r),ni(this,cl(t),r)}_resetContextStyleTimingState(t){t.currentQuerySelector=z2,t.collectedStyles=new Map,t.collectedStyles.set(z2,new Map),t.currentTime=0}visitTrigger(t,e){let i=e.queryCount=0,r=e.depCount=0,o=[],s=[];return t.name.charAt(0)=="@"&&e.errors.push(l2()),t.definitions.forEach(a=>{if(this._resetContextStyleTimingState(e),a.type==Re.State){let c=a,l=c.name;l.toString().split(/\s*,\s*/).forEach(m=>{c.name=m,o.push(this.visitState(c,e))}),c.name=l}else if(a.type==Re.Transition){let c=this.visitTransition(a,e);i+=c.queryCount,r+=c.depCount,s.push(c)}else e.errors.push(d2())}),{type:Re.Trigger,name:t.name,states:o,transitions:s,queryCount:i,depCount:r,options:null}}visitState(t,e){let i=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(i.containsDynamicStyles){let o=new Set,s=r||{};i.styles.forEach(a=>{a instanceof Map&&a.forEach(c=>{ww(c).forEach(l=>{s.hasOwnProperty(l)||o.add(l)})})}),o.size&&e.errors.push(u2(t.name,[...o.values()]))}return{type:Re.State,name:t.name,style:i,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;let i=ni(this,cl(t.animation),e),r=p$(t.expr,e.errors);return{type:Re.Transition,matchers:r,animation:i,queryCount:e.queryCount,depCount:e.depCount,options:Aa(t.options)}}visitSequence(t,e){return{type:Re.Sequence,steps:t.steps.map(i=>ni(this,i,e)),options:Aa(t.options)}}visitGroup(t,e){let i=e.currentTime,r=0,o=t.steps.map(s=>{e.currentTime=i;let a=ni(this,s,e);return r=Math.max(r,e.currentTime),a});return e.currentTime=r,{type:Re.Group,steps:o,options:Aa(t.options)}}visitAnimate(t,e){let i=b$(t.timings,e.errors);e.currentAnimateTimings=i;let r,o=t.styles?t.styles:uw({});if(o.type==Re.Keyframes)r=this.visitKeyframes(o,e);else{let s=t.styles,a=!1;if(!s){a=!0;let l={};i.easing&&(l.easing=i.easing),s=uw(l)}e.currentTime+=i.duration+i.delay;let c=this.visitStyle(s,e);c.isEmptyStep=a,r=c}return e.currentAnimateTimings=null,{type:Re.Animate,timings:i,style:r,options:null}}visitStyle(t,e){let i=this._makeStyleAst(t,e);return this._validateStyleAst(i,e),i}_makeStyleAst(t,e){let i=[],r=Array.isArray(t.styles)?t.styles:[t.styles];for(let a of r)typeof a=="string"?a===ur?i.push(a):e.errors.push(f2(a)):i.push(new Map(Object.entries(a)));let o=!1,s=null;return i.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(s=a.get("easing"),a.delete("easing")),!o)){for(let c of a.values())if(c.toString().indexOf(yw)>=0){o=!0;break}}}),{type:Re.Style,styles:i,easing:s,offset:t.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(t,e){let i=e.currentAnimateTimings,r=e.currentTime,o=e.currentTime;i&&o>0&&(o-=i.duration+i.delay),t.styles.forEach(s=>{typeof s!="string"&&s.forEach((a,c)=>{let l=e.collectedStyles.get(e.currentQuerySelector),m=l.get(c),g=!0;m&&(o!=r&&o>=m.startTime&&r<=m.endTime&&(e.errors.push(p2(c,m.startTime,m.endTime,o,r)),g=!1),o=m.startTime),g&&l.set(c,{startTime:o,endTime:r}),e.options&&N2(a,e.options,e.errors)})})}visitKeyframes(t,e){let i={type:Re.Keyframes,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(h2()),i;let r=1,o=0,s=[],a=!1,c=!1,l=0,m=t.steps.map(V=>{let ae=this._makeStyleAst(V,e),Ce=ae.offset!=null?ae.offset:y$(ae.styles),ue=0;return Ce!=null&&(o++,ue=ae.offset=Ce),c=c||ue<0||ue>1,a=a||ue<l,l=ue,s.push(ue),ae});c&&e.errors.push(g2()),a&&e.errors.push(m2());let g=t.steps.length,C=0;o>0&&o<g?e.errors.push(_2()):o==0&&(C=r/(g-1));let E=g-1,S=e.currentTime,k=e.currentAnimateTimings,R=k.duration;return m.forEach((V,ae)=>{let Ce=C>0?ae==E?1:C*ae:s[ae],ue=Ce*R;e.currentTime=S+k.delay+ue,k.duration=ue,this._validateStyleAst(V,e),V.offset=Ce,i.styles.push(V)}),i}visitReference(t,e){return{type:Re.Reference,animation:ni(this,cl(t.animation),e),options:Aa(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:Re.AnimateChild,options:Aa(t.options)}}visitAnimateRef(t,e){return{type:Re.AnimateRef,animation:this.visitReference(t.animation,e),options:Aa(t.options)}}visitQuery(t,e){let i=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;let[o,s]=_$(t.selector);e.currentQuerySelector=i.length?i+" "+o:o,ti(e.collectedStyles,e.currentQuerySelector,new Map);let a=ni(this,cl(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=i,{type:Re.Query,selector:o,limit:r.limit||0,optional:!!r.optional,includeSelf:s,animation:a,originalSelector:t.selector,options:Aa(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push(v2());let i=t.timings==="full"?{duration:0,delay:0,easing:"full"}:Cu(t.timings,e.errors,!0);return{type:Re.Stagger,animation:ni(this,cl(t.animation),e),timings:i,options:null}}};function _$(n){let t=!!n.split(/\s*,\s*/).find(e=>e==K2);return t&&(n=n.replace(m$,"")),n=n.replace(/@\*/g,bu).replace(/@\w+/g,e=>bu+"-"+e.slice(1)).replace(/:animating/g,em),[n,t]}function v$(n){return n?B({},n):null}var Sw=class{errors;queryCount=0;depCount=0;currentTransition=null;currentQuery=null;currentQuerySelector=null;currentAnimateTimings=null;currentTime=0;collectedStyles=new Map;options=null;unsupportedCSSPropertiesFound=new Set;constructor(t){this.errors=t}};function y$(n){if(typeof n=="string")return null;let t=null;if(Array.isArray(n))n.forEach(e=>{if(e instanceof Map&&e.has("offset")){let i=e;t=parseFloat(i.get("offset")),i.delete("offset")}});else if(n instanceof Map&&n.has("offset")){let e=n;t=parseFloat(e.get("offset")),e.delete("offset")}return t}function b$(n,t){if(n.hasOwnProperty("duration"))return n;if(typeof n=="number"){let o=Cu(n,t).duration;return Mw(o,0,"")}let e=n;if(e.split(/\s+/).some(o=>o.charAt(0)=="{"&&o.charAt(1)=="{")){let o=Mw(0,0,"");return o.dynamic=!0,o.strValue=e,o}let r=Cu(e,t);return Mw(r.duration,r.delay,r.easing)}function Aa(n){return n?(n=B({},n),n.params&&(n.params=v$(n.params))):n={},n}function Mw(n,t,e){return{duration:n,delay:t,easing:e}}function Vw(n,t,e,i,r,o,s=null,a=!1){return{type:1,element:n,keyframes:t,preStyleProps:e,postStyleProps:i,duration:r,delay:o,totalTime:r+o,easing:s,subTimeline:a}}var Mu=class{_map=new Map;get(t){return this._map.get(t)||[]}append(t,e){let i=this._map.get(t);i||this._map.set(t,i=[]),i.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}},C$=1,w$=":enter",M$=new RegExp(w$,"g"),E$=":leave",P$=new RegExp(E$,"g");function Y2(n,t,e,i,r,o=new Map,s=new Map,a,c,l=[]){return new Tw().buildKeyframes(n,t,e,i,r,o,s,a,c,l)}var Tw=class{buildKeyframes(t,e,i,r,o,s,a,c,l,m=[]){l=l||new Mu;let g=new Dw(t,e,l,r,o,m,[]);g.options=c;let C=c.delay?Hr(c.delay):0;g.currentTimeline.delayNextStep(C),g.currentTimeline.setStyles([s],null,g.errors,c),ni(this,i,g);let E=g.timelines.filter(S=>S.containsAnimation());if(E.length&&a.size){let S;for(let k=E.length-1;k>=0;k--){let R=E[k];if(R.element===e){S=R;break}}S&&!S.allowOnlyTimelineStyles()&&S.setStyles([a],null,g.errors,c)}return E.length?E.map(S=>S.buildKeyframes()):[Vw(e,[],[],[],0,C,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){let i=e.subInstructions.get(e.element);if(i){let r=e.createSubContext(t.options),o=e.currentTimeline.currentTime,s=this._visitSubInstructions(i,r,r.options);o!=s&&e.transformIntoNewTimeline(s)}e.previousNode=t}visitAnimateRef(t,e){let i=e.createSubContext(t.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([t.options,t.animation.options],e,i),this.visitReference(t.animation,i),e.transformIntoNewTimeline(i.currentTimeline.currentTime),e.previousNode=t}_applyAnimationRefDelays(t,e,i){for(let r of t){let o=r?.delay;if(o){let s=typeof o=="number"?o:Hr(ll(o,r?.params??{},e.errors));i.delayNextStep(s)}}}_visitSubInstructions(t,e,i){let o=e.currentTimeline.currentTime,s=i.duration!=null?Hr(i.duration):null,a=i.delay!=null?Hr(i.delay):null;return s!==0&&t.forEach(c=>{let l=e.appendInstructionToTimeline(c,s,a);o=Math.max(o,l.duration+l.delay)}),o}visitReference(t,e){e.updateOptions(t.options,!0),ni(this,t.animation,e),e.previousNode=t}visitSequence(t,e){let i=e.subContextCount,r=e,o=t.options;if(o&&(o.params||o.delay)&&(r=e.createSubContext(o),r.transformIntoNewTimeline(),o.delay!=null)){r.previousNode.type==Re.Style&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=lm);let s=Hr(o.delay);r.delayNextStep(s)}t.steps.length&&(t.steps.forEach(s=>ni(this,s,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){let i=[],r=e.currentTimeline.currentTime,o=t.options&&t.options.delay?Hr(t.options.delay):0;t.steps.forEach(s=>{let a=e.createSubContext(t.options);o&&a.delayNextStep(o),ni(this,s,a),r=Math.max(r,a.currentTimeline.currentTime),i.push(a.currentTimeline)}),i.forEach(s=>e.currentTimeline.mergeTimelineCollectedStyles(s)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){let i=t.strValue,r=e.params?ll(i,e.params,e.errors):i;return Cu(r,e.errors)}else return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){let i=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;i.delay&&(e.incrementTime(i.delay),r.snapshotCurrentStyles());let o=t.style;o.type==Re.Keyframes?this.visitKeyframes(o,e):(e.incrementTime(i.duration),this.visitStyle(o,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){let i=e.currentTimeline,r=e.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();let o=r&&r.easing||t.easing;t.isEmptyStep?i.applyEmptyStep(o):i.setStyles(t.styles,o,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){let i=e.currentAnimateTimings,r=e.currentTimeline.duration,o=i.duration,a=e.createSubContext().currentTimeline;a.easing=i.easing,t.styles.forEach(c=>{let l=c.offset||0;a.forwardTime(l*o),a.setStyles(c.styles,c.easing,e.errors,e.options),a.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(a),e.transformIntoNewTimeline(r+o),e.previousNode=t}visitQuery(t,e){let i=e.currentTimeline.currentTime,r=t.options||{},o=r.delay?Hr(r.delay):0;o&&(e.previousNode.type===Re.Style||i==0&&e.currentTimeline.hasCurrentStyleProperties())&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=lm);let s=i,a=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=a.length;let c=null;a.forEach((l,m)=>{e.currentQueryIndex=m;let g=e.createSubContext(t.options,l);o&&g.delayNextStep(o),l===e.element&&(c=g.currentTimeline),ni(this,t.animation,g),g.currentTimeline.applyStylesToKeyframe();let C=g.currentTimeline.currentTime;s=Math.max(s,C)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(s),c&&(e.currentTimeline.mergeTimelineCollectedStyles(c),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){let i=e.parentContext,r=e.currentTimeline,o=t.timings,s=Math.abs(o.duration),a=s*(e.currentQueryTotal-1),c=s*e.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":c=a-c;break;case"full":c=i.currentStaggerTime;break}let m=e.currentTimeline;c&&m.delayNextStep(c);let g=m.currentTime;ni(this,t.animation,e),e.previousNode=t,i.currentStaggerTime=r.currentTime-g+(r.startTime-i.currentTimeline.startTime)}},lm={},Dw=class n{_driver;element;subInstructions;_enterClassName;_leaveClassName;errors;timelines;parentContext=null;currentTimeline;currentAnimateTimings=null;previousNode=lm;subContextCount=0;options={};currentQueryIndex=0;currentQueryTotal=0;currentStaggerTime=0;constructor(t,e,i,r,o,s,a,c){this._driver=t,this.element=e,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=o,this.errors=s,this.timelines=a,this.currentTimeline=c||new dm(this._driver,e,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;let i=t,r=this.options;i.duration!=null&&(r.duration=Hr(i.duration)),i.delay!=null&&(r.delay=Hr(i.delay));let o=i.params;if(o){let s=r.params;s||(s=this.options.params={}),Object.keys(o).forEach(a=>{(!e||!s.hasOwnProperty(a))&&(s[a]=ll(o[a],s,this.errors))})}}_copyOptions(){let t={};if(this.options){let e=this.options.params;if(e){let i=t.params={};Object.keys(e).forEach(r=>{i[r]=e[r]})}}return t}createSubContext(t=null,e,i){let r=e||this.element,o=new n(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(t),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(t){return this.previousNode=lm,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,i){let r={duration:e??t.duration,delay:this.currentTimeline.currentTime+(i??0)+t.delay,easing:""},o=new Aw(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(o),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,i,r,o,s){let a=[];if(r&&a.push(this.element),t.length>0){t=t.replace(M$,"."+this._enterClassName),t=t.replace(P$,"."+this._leaveClassName);let c=i!=1,l=this._driver.query(this.element,t,c);i!==0&&(l=i<0?l.slice(l.length+i,l.length):l.slice(0,i)),a.push(...l)}return!o&&a.length==0&&s.push(y2(e)),a}},dm=class n{_driver;element;startTime;_elementTimelineStylesLookup;duration=0;easing=null;_previousKeyframe=new Map;_currentKeyframe=new Map;_keyframes=new Map;_styleSummary=new Map;_localTimelineStyles=new Map;_globalTimelineStyles;_pendingStyles=new Map;_backFill=new Map;_currentEmptyStepKeyframe=null;constructor(t,e,i,r){this._driver=t,this.element=e,this.startTime=i,this._elementTimelineStylesLookup=r,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(t){let e=this._keyframes.size===1&&this._pendingStyles.size;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new n(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=C$,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles.set(t,e),this._globalTimelineStyles.set(t,e),this._styleSummary.set(t,{time:this.currentTime,value:e})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&this._previousKeyframe.set("easing",t);for(let[e,i]of this._globalTimelineStyles)this._backFill.set(e,i||ur),this._currentKeyframe.set(e,ur);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,i,r){e&&this._previousKeyframe.set("easing",e);let o=r&&r.params||{},s=O$(t,this._globalTimelineStyles);for(let[a,c]of s){let l=ll(c,o,i);this._pendingStyles.set(a,l),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??ur),this._updateStyle(a,l)}}applyStylesToKeyframe(){this._pendingStyles.size!=0&&(this._pendingStyles.forEach((t,e)=>{this._currentKeyframe.set(e,t)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((t,e)=>{this._currentKeyframe.has(e)||this._currentKeyframe.set(e,t)}))}snapshotCurrentStyles(){for(let[t,e]of this._localTimelineStyles)this._pendingStyles.set(t,e),this._updateStyle(t,e)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){let t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){t._styleSummary.forEach((e,i)=>{let r=this._styleSummary.get(i);(!r||e.time>r.time)&&this._updateStyle(i,e.value)})}buildKeyframes(){this.applyStylesToKeyframe();let t=new Set,e=new Set,i=this._keyframes.size===1&&this.duration===0,r=[];this._keyframes.forEach((a,c)=>{let l=new Map([...this._backFill,...a]);l.forEach((m,g)=>{m===vu?t.add(g):m===ur&&e.add(g)}),i||l.set("offset",c/this.duration),r.push(l)});let o=[...t.values()],s=[...e.values()];if(i){let a=r[0],c=new Map(a);a.set("offset",0),c.set("offset",1),r=[a,c]}return Vw(this.element,r,o,s,this.duration,this.startTime,this.easing,!1)}},Aw=class extends dm{keyframes;preStyleProps;postStyleProps;_stretchStartingKeyframe;timings;constructor(t,e,i,r,o,s,a=!1){super(t,e,s.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=o,this._stretchStartingKeyframe=a,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){let o=[],s=i+e,a=e/s,c=new Map(t[0]);c.set("offset",0),o.push(c);let l=new Map(t[0]);l.set("offset",V2(a)),o.push(l);let m=t.length-1;for(let g=1;g<=m;g++){let C=new Map(t[g]),E=C.get("offset"),S=e+E*i;C.set("offset",V2(S/s)),o.push(C)}i=s,e=0,r="",t=o}return Vw(this.element,t,this.preStyleProps,this.postStyleProps,i,e,r,!0)}};function V2(n,t=3){let e=Math.pow(10,t-1);return Math.round(n*e)/e}function O$(n,t){let e=new Map,i;return n.forEach(r=>{if(r==="*"){i??=t.keys();for(let o of i)e.set(o,ur)}else for(let[o,s]of r)e.set(o,s)}),e}function j2(n,t,e,i,r,o,s,a,c,l,m,g,C){return{type:0,element:n,triggerName:t,isRemovalTransition:r,fromState:e,fromStyles:o,toState:i,toStyles:s,timelines:a,queriedElements:c,preStyleProps:l,postStyleProps:m,totalTime:g,errors:C}}var Ew={},um=class{_triggerName;ast;_stateStyles;constructor(t,e,i){this._triggerName=t,this.ast=e,this._stateStyles=i}match(t,e,i,r){return x$(this.ast.matchers,t,e,i,r)}buildStyles(t,e,i){let r=this._stateStyles.get("*");return t!==void 0&&(r=this._stateStyles.get(t?.toString())||r),r?r.buildStyles(e,i):new Map}build(t,e,i,r,o,s,a,c,l,m){let g=[],C=this.ast.options&&this.ast.options.params||Ew,E=a&&a.params||Ew,S=this.buildStyles(i,E,g),k=c&&c.params||Ew,R=this.buildStyles(r,k,g),V=new Set,ae=new Map,Ce=new Map,ue=r==="void",st={params:Z2(k,C),delay:this.ast.options?.delay},Xe=m?[]:Y2(t,e,this.ast.animation,o,s,S,R,st,l,g),ot=0;return Xe.forEach(vt=>{ot=Math.max(vt.duration+vt.delay,ot)}),g.length?j2(e,this._triggerName,i,r,ue,S,R,[],[],ae,Ce,ot,g):(Xe.forEach(vt=>{let at=vt.element,Gn=ti(ae,at,new Set);vt.preStyleProps.forEach(Ae=>Gn.add(Ae));let In=ti(Ce,at,new Set);vt.postStyleProps.forEach(Ae=>In.add(Ae)),at!==e&&V.add(at)}),j2(e,this._triggerName,i,r,ue,S,R,Xe,[...V.values()],ae,Ce,ot))}};function x$(n,t,e,i,r){return n.some(o=>o(t,e,i,r))}function Z2(n,t){let e=B({},t);return Object.entries(n).forEach(([i,r])=>{r!=null&&(e[i]=r)}),e}var kw=class{styles;defaultParams;normalizer;constructor(t,e,i){this.styles=t,this.defaultParams=e,this.normalizer=i}buildStyles(t,e){let i=new Map,r=Z2(t,this.defaultParams);return this.styles.styles.forEach(o=>{typeof o!="string"&&o.forEach((s,a)=>{s&&(s=ll(s,r,e));let c=this.normalizer.normalizePropertyName(a,e);s=this.normalizer.normalizeStyleValue(a,c,s,e),i.set(a,s)})}),i}};function I$(n,t,e){return new Rw(n,t,e)}var Rw=class{name;ast;_normalizer;transitionFactories=[];fallbackTransition;states=new Map;constructor(t,e,i){this.name=t,this.ast=e,this._normalizer=i,e.states.forEach(r=>{let o=r.options&&r.options.params||{};this.states.set(r.name,new kw(r.style,o,i))}),U2(this.states,"true","1"),U2(this.states,"false","0"),e.transitions.forEach(r=>{this.transitionFactories.push(new um(t,r,this.states))}),this.fallbackTransition=S$(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,i,r){return this.transitionFactories.find(s=>s.match(t,e,i,r))||null}matchStyles(t,e,i){return this.fallbackTransition.buildStyles(t,e,i)}};function S$(n,t,e){let i=[(s,a)=>!0],r={type:Re.Sequence,steps:[],options:null},o={type:Re.Transition,animation:r,matchers:i,options:null,queryCount:0,depCount:0};return new um(n,o,t)}function U2(n,t,e){n.has(t)?n.has(e)||n.set(e,n.get(t)):n.has(e)&&n.set(t,n.get(e))}var T$=new Mu,Nw=class{bodyNode;_driver;_normalizer;_animations=new Map;_playersById=new Map;players=[];constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i}register(t,e){let i=[],r=[],o=Q2(this._driver,e,i,r);if(i.length)throw M2(i);this._animations.set(t,o)}_buildPlayer(t,e,i){let r=t.element,o=gw(this._normalizer,t.keyframes,e,i);return this._driver.animate(r,o,t.duration,t.delay,t.easing,[],!0)}create(t,e,i={}){let r=[],o=this._animations.get(t),s,a=new Map;if(o?(s=Y2(this._driver,e,o,bw,Jg,new Map,new Map,i,T$,r),s.forEach(m=>{let g=ti(a,m.element,new Map);m.postStyleProps.forEach(C=>g.set(C,null))})):(r.push(E2()),s=[]),r.length)throw P2(r);a.forEach((m,g)=>{m.forEach((C,E)=>{m.set(E,this._driver.computeStyle(g,E,ur))})});let c=s.map(m=>{let g=a.get(m.element);return this._buildPlayer(m,new Map,g)}),l=So(c);return this._playersById.set(t,l),l.onDestroy(()=>this.destroy(t)),this.players.push(l),l}destroy(t){let e=this._getPlayer(t);e.destroy(),this._playersById.delete(t);let i=this.players.indexOf(e);i>=0&&this.players.splice(i,1)}_getPlayer(t){let e=this._playersById.get(t);if(!e)throw O2(t);return e}listen(t,e,i,r){let o=Zg(e,"","","");return Yg(this._getPlayer(t),i,o,r),()=>{}}command(t,e,i,r){if(i=="register"){this.register(t,r[0]);return}if(i=="create"){let s=r[0]||{};this.create(t,e,s);return}let o=this._getPlayer(t);switch(i){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t);break}}},$2="ng-animate-queued",D$=".ng-animate-queued",Pw="ng-animate-disabled",A$=".ng-animate-disabled",k$="ng-star-inserted",R$=".ng-star-inserted",N$=[],X2={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},L$={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},pr="__ng_removed",Eu=class{namespaceId;value;options;get params(){return this.options.params}constructor(t,e=""){this.namespaceId=e;let i=t&&t.hasOwnProperty("value"),r=i?t.value:t;if(this.value=B$(r),i){let o=t,{value:s}=o,a=sc(o,["value"]);this.options=a}else this.options={};this.options.params||(this.options.params={})}absorbOptions(t){let e=t.params;if(e){let i=this.options.params;Object.keys(e).forEach(r=>{i[r]==null&&(i[r]=e[r])})}}},wu="void",Ow=new Eu(wu),Lw=class{id;hostElement;_engine;players=[];_triggers=new Map;_queue=[];_elementListeners=new Map;_hostClassName;constructor(t,e,i){this.id=t,this.hostElement=e,this._engine=i,this._hostClassName="ng-tns-"+t,Ni(e,this._hostClassName)}listen(t,e,i,r){if(!this._triggers.has(e))throw x2(i,e);if(i==null||i.length==0)throw I2(e);if(!z$(i))throw S2(i,e);let o=ti(this._elementListeners,t,[]),s={name:e,phase:i,callback:r};o.push(s);let a=ti(this._engine.statesByElement,t,new Map);return a.has(e)||(Ni(t,yu),Ni(t,yu+"-"+e),a.set(e,Ow)),()=>{this._engine.afterFlush(()=>{let c=o.indexOf(s);c>=0&&o.splice(c,1),this._triggers.has(e)||a.delete(e)})}}register(t,e){return this._triggers.has(t)?!1:(this._triggers.set(t,e),!0)}_getTrigger(t){let e=this._triggers.get(t);if(!e)throw T2(t);return e}trigger(t,e,i,r=!0){let o=this._getTrigger(e),s=new Pu(this.id,e,t),a=this._engine.statesByElement.get(t);a||(Ni(t,yu),Ni(t,yu+"-"+e),this._engine.statesByElement.set(t,a=new Map));let c=a.get(e),l=new Eu(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&c&&l.absorbOptions(c.options),a.set(e,l),c||(c=Ow),!(l.value===wu)&&c.value===l.value){if(!U$(c.params,l.params)){let k=[],R=o.matchStyles(c.value,c.params,k),V=o.matchStyles(l.value,l.params,k);k.length?this._engine.reportError(k):this._engine.afterFlush(()=>{Cs(t,R),fr(t,V)})}return}let C=ti(this._engine.playersByElement,t,[]);C.forEach(k=>{k.namespaceId==this.id&&k.triggerName==e&&k.queued&&k.destroy()});let E=o.matchTransition(c.value,l.value,t,l.params),S=!1;if(!E){if(!r)return;E=o.fallbackTransition,S=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:E,fromState:c,toState:l,player:s,isFallbackTransition:S}),S||(Ni(t,$2),s.onStart(()=>{dl(t,$2)})),s.onDone(()=>{let k=this.players.indexOf(s);k>=0&&this.players.splice(k,1);let R=this._engine.playersByElement.get(t);if(R){let V=R.indexOf(s);V>=0&&R.splice(V,1)}}),this.players.push(s),C.push(s),s}deregister(t){this._triggers.delete(t),this._engine.statesByElement.forEach(e=>e.delete(t)),this._elementListeners.forEach((e,i)=>{this._elementListeners.set(i,e.filter(r=>r.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);let e=this._engine.playersByElement.get(t);e&&(e.forEach(i=>i.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){let i=this._engine.driver.query(t,bu,!0);i.forEach(r=>{if(r[pr])return;let o=this._engine.fetchNamespacesByElement(r);o.size?o.forEach(s=>s.triggerLeaveAnimation(r,e,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(t,e,i,r){let o=this._engine.statesByElement.get(t),s=new Map;if(o){let a=[];if(o.forEach((c,l)=>{if(s.set(l,c.value),this._triggers.has(l)){let m=this.trigger(t,l,wu,r);m&&a.push(m)}}),a.length)return this._engine.markElementAsRemoved(this.id,t,!0,e,s),i&&So(a).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){let e=this._elementListeners.get(t),i=this._engine.statesByElement.get(t);if(e&&i){let r=new Set;e.forEach(o=>{let s=o.name;if(r.has(s))return;r.add(s);let c=this._triggers.get(s).fallbackTransition,l=i.get(s)||Ow,m=new Eu(wu),g=new Pu(this.id,s,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:s,transition:c,fromState:l,toState:m,player:g,isFallbackTransition:!0})})}}removeNode(t,e){let i=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(i.totalAnimations){let o=i.players.length?i.playersByQueriedElement.get(t):[];if(o&&o.length)r=!0;else{let s=t;for(;s=s.parentNode;)if(i.statesByElement.get(s)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)i.markElementAsRemoved(this.id,t,!1,e);else{let o=t[pr];(!o||o===X2)&&(i.afterFlush(()=>this.clearElementCache(t)),i.destroyInnerAnimations(t),i._onRemovalComplete(t,e))}}insertNode(t,e){Ni(t,this._hostClassName)}drainQueuedTransitions(t){let e=[];return this._queue.forEach(i=>{let r=i.player;if(r.destroyed)return;let o=i.element,s=this._elementListeners.get(o);s&&s.forEach(a=>{if(a.name==i.triggerName){let c=Zg(o,i.triggerName,i.fromState.value,i.toState.value);c._data=t,Yg(i.player,a.phase,c,a.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(i)}),this._queue=[],e.sort((i,r)=>{let o=i.transition.ast.depCount,s=r.transition.ast.depCount;return o==0||s==0?o-s:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}},Fw=class{bodyNode;driver;_normalizer;players=[];newHostElements=new Map;playersByElement=new Map;playersByQueriedElement=new Map;statesByElement=new Map;disabledNodes=new Set;totalAnimations=0;totalQueuedPlayers=0;_namespaceLookup={};_namespaceList=[];_flushFns=[];_whenQuietFns=[];namespacesByHostElement=new Map;collectedEnterElements=[];collectedLeaveElements=[];onRemovalComplete=(t,e)=>{};_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}constructor(t,e,i){this.bodyNode=t,this.driver=e,this._normalizer=i}get queuedPlayers(){let t=[];return this._namespaceList.forEach(e=>{e.players.forEach(i=>{i.queued&&t.push(i)})}),t}createNamespace(t,e){let i=new Lw(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(i,e):(this.newHostElements.set(e,i),this.collectEnterElement(e)),this._namespaceLookup[t]=i}_balanceNamespaceList(t,e){let i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let s=!1,a=this.driver.getParentElement(e);for(;a;){let c=r.get(a);if(c){let l=i.indexOf(c);i.splice(l+1,0,t),s=!0;break}a=this.driver.getParentElement(a)}s||i.unshift(t)}else i.push(t);return r.set(e,t),t}register(t,e){let i=this._namespaceLookup[t];return i||(i=this.createNamespace(t,e)),i}registerTrigger(t,e,i){let r=this._namespaceLookup[t];r&&r.register(e,i)&&this.totalAnimations++}destroy(t,e){t&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{let i=this._fetchNamespace(t);this.namespacesByHostElement.delete(i.hostElement);let r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1),i.destroy(e),delete this._namespaceLookup[t]}))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){let e=new Set,i=this.statesByElement.get(t);if(i){for(let r of i.values())if(r.namespaceId){let o=this._fetchNamespace(r.namespaceId);o&&e.add(o)}}return e}trigger(t,e,i,r){if(om(e)){let o=this._fetchNamespace(t);if(o)return o.trigger(e,i,r),!0}return!1}insertNode(t,e,i,r){if(!om(e))return;let o=e[pr];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;let s=this.collectedLeaveElements.indexOf(e);s>=0&&this.collectedLeaveElements.splice(s,1)}if(t){let s=this._fetchNamespace(t);s&&s.insertNode(e,i)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),Ni(t,Pw)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),dl(t,Pw))}removeNode(t,e,i){if(om(e)){let r=t?this._fetchNamespace(t):null;r?r.removeNode(e,i):this.markElementAsRemoved(t,e,!1,i);let o=this.namespacesByHostElement.get(e);o&&o.id!==t&&o.removeNode(e,i)}else this._onRemovalComplete(e,i)}markElementAsRemoved(t,e,i,r,o){this.collectedLeaveElements.push(e),e[pr]={namespaceId:t,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:o}}listen(t,e,i,r,o){return om(e)?this._fetchNamespace(t).listen(e,i,r,o):()=>{}}_buildInstruction(t,e,i,r,o){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,i,r,t.fromState.options,t.toState.options,e,o)}destroyInnerAnimations(t){let e=this.driver.query(t,bu,!0);e.forEach(i=>this.destroyActiveAnimationsForElement(i)),this.playersByQueriedElement.size!=0&&(e=this.driver.query(t,em,!0),e.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(t){let e=this.playersByElement.get(t);e&&e.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(t){let e=this.playersByQueriedElement.get(t);e&&e.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return So(this.players).onDone(()=>t());t()})}processLeaveNode(t){let e=t[pr];if(e&&e.setForRemoval){if(t[pr]=X2,e.namespaceId){this.destroyInnerAnimations(t);let i=this._fetchNamespace(e.namespaceId);i&&i.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}t.classList?.contains(Pw)&&this.markElementAsDisabled(t,!1),this.driver.query(t,A$,!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++){let r=this.collectedEnterElements[i];Ni(r,k$)}if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){let i=[];try{e=this._flushAnimations(i,t)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++){let r=this.collectedLeaveElements[i];this.processLeaveNode(r)}if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){let i=this._whenQuietFns;this._whenQuietFns=[],e.length?So(e).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(t){throw D2(t)}_flushAnimations(t,e){let i=new Mu,r=[],o=new Map,s=[],a=new Map,c=new Map,l=new Map,m=new Set;this.disabledNodes.forEach(re=>{m.add(re);let fe=this.driver.query(re,D$,!0);for(let he=0;he<fe.length;he++)m.add(fe[he])});let g=this.bodyNode,C=Array.from(this.statesByElement.keys()),E=W2(C,this.collectedEnterElements),S=new Map,k=0;E.forEach((re,fe)=>{let he=bw+k++;S.set(fe,he),re.forEach(Ne=>Ni(Ne,he))});let R=[],V=new Set,ae=new Set;for(let re=0;re<this.collectedLeaveElements.length;re++){let fe=this.collectedLeaveElements[re],he=fe[pr];he&&he.setForRemoval&&(R.push(fe),V.add(fe),he.hasAnimation?this.driver.query(fe,R$,!0).forEach(Ne=>V.add(Ne)):ae.add(fe))}let Ce=new Map,ue=W2(C,Array.from(V));ue.forEach((re,fe)=>{let he=Jg+k++;Ce.set(fe,he),re.forEach(Ne=>Ni(Ne,he))}),t.push(()=>{E.forEach((re,fe)=>{let he=S.get(fe);re.forEach(Ne=>dl(Ne,he))}),ue.forEach((re,fe)=>{let he=Ce.get(fe);re.forEach(Ne=>dl(Ne,he))}),R.forEach(re=>{this.processLeaveNode(re)})});let st=[],Xe=[];for(let re=this._namespaceList.length-1;re>=0;re--)this._namespaceList[re].drainQueuedTransitions(e).forEach(he=>{let Ne=he.player,tt=he.element;if(st.push(Ne),this.collectedEnterElements.length){let Lt=tt[pr];if(Lt&&Lt.setForMove){if(Lt.previousTriggersValues&&Lt.previousTriggersValues.has(he.triggerName)){let Wi=Lt.previousTriggersValues.get(he.triggerName),Kn=this.statesByElement.get(he.element);if(Kn&&Kn.has(he.triggerName)){let Ho=Kn.get(he.triggerName);Ho.value=Wi,Kn.set(he.triggerName,Ho)}}Ne.destroy();return}}let mn=!g||!this.driver.containsElement(g,tt),Nt=Ce.get(tt),Pr=S.get(tt),Je=this._buildInstruction(he,i,Pr,Nt,mn);if(Je.errors&&Je.errors.length){Xe.push(Je);return}if(mn){Ne.onStart(()=>Cs(tt,Je.fromStyles)),Ne.onDestroy(()=>fr(tt,Je.toStyles)),r.push(Ne);return}if(he.isFallbackTransition){Ne.onStart(()=>Cs(tt,Je.fromStyles)),Ne.onDestroy(()=>fr(tt,Je.toStyles)),r.push(Ne);return}let $o=[];Je.timelines.forEach(Lt=>{Lt.stretchStartingKeyframe=!0,this.disabledNodes.has(Lt.element)||$o.push(Lt)}),Je.timelines=$o,i.append(tt,Je.timelines);let Uf={instruction:Je,player:Ne,element:tt};s.push(Uf),Je.queriedElements.forEach(Lt=>ti(a,Lt,[]).push(Ne)),Je.preStyleProps.forEach((Lt,Wi)=>{if(Lt.size){let Kn=c.get(Wi);Kn||c.set(Wi,Kn=new Set),Lt.forEach((Ho,Gs)=>Kn.add(Gs))}}),Je.postStyleProps.forEach((Lt,Wi)=>{let Kn=l.get(Wi);Kn||l.set(Wi,Kn=new Set),Lt.forEach((Ho,Gs)=>Kn.add(Gs))})});if(Xe.length){let re=[];Xe.forEach(fe=>{re.push(A2(fe.triggerName,fe.errors))}),st.forEach(fe=>fe.destroy()),this.reportError(re)}let ot=new Map,vt=new Map;s.forEach(re=>{let fe=re.element;i.has(fe)&&(vt.set(fe,fe),this._beforeAnimationBuild(re.player.namespaceId,re.instruction,ot))}),r.forEach(re=>{let fe=re.element;this._getPreviousPlayers(fe,!1,re.namespaceId,re.triggerName,null).forEach(Ne=>{ti(ot,fe,[]).push(Ne),Ne.destroy()})});let at=R.filter(re=>G2(re,c,l)),Gn=new Map;q2(Gn,this.driver,ae,l,ur).forEach(re=>{G2(re,c,l)&&at.push(re)});let Ae=new Map;E.forEach((re,fe)=>{q2(Ae,this.driver,new Set(re),c,vu)}),at.forEach(re=>{let fe=Gn.get(re),he=Ae.get(re);Gn.set(re,new Map([...fe?.entries()??[],...he?.entries()??[]]))});let Er=[],jf=[],Ql={};s.forEach(re=>{let{element:fe,player:he,instruction:Ne}=re;if(i.has(fe)){if(m.has(fe)){he.onDestroy(()=>fr(fe,Ne.toStyles)),he.disabled=!0,he.overrideTotalTime(Ne.totalTime),r.push(he);return}let tt=Ql;if(vt.size>1){let Nt=fe,Pr=[];for(;Nt=Nt.parentNode;){let Je=vt.get(Nt);if(Je){tt=Je;break}Pr.push(Nt)}Pr.forEach(Je=>vt.set(Je,tt))}let mn=this._buildAnimation(he.namespaceId,Ne,ot,o,Ae,Gn);if(he.setRealPlayer(mn),tt===Ql)Er.push(he);else{let Nt=this.playersByElement.get(tt);Nt&&Nt.length&&(he.parentPlayer=So(Nt)),r.push(he)}}else Cs(fe,Ne.fromStyles),he.onDestroy(()=>fr(fe,Ne.toStyles)),jf.push(he),m.has(fe)&&r.push(he)}),jf.forEach(re=>{let fe=o.get(re.element);if(fe&&fe.length){let he=So(fe);re.setRealPlayer(he)}}),r.forEach(re=>{re.parentPlayer?re.syncPlayerEvents(re.parentPlayer):re.destroy()});for(let re=0;re<R.length;re++){let fe=R[re],he=fe[pr];if(dl(fe,Jg),he&&he.hasAnimation)continue;let Ne=[];if(a.size){let mn=a.get(fe);mn&&mn.length&&Ne.push(...mn);let Nt=this.driver.query(fe,em,!0);for(let Pr=0;Pr<Nt.length;Pr++){let Je=a.get(Nt[Pr]);Je&&Je.length&&Ne.push(...Je)}}let tt=Ne.filter(mn=>!mn.destroyed);tt.length?V$(this,fe,tt):this.processLeaveNode(fe)}return R.length=0,Er.forEach(re=>{this.players.push(re),re.onDone(()=>{re.destroy();let fe=this.players.indexOf(re);this.players.splice(fe,1)}),re.play()}),Er}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,i,r,o){let s=[];if(e){let a=this.playersByQueriedElement.get(t);a&&(s=a)}else{let a=this.playersByElement.get(t);if(a){let c=!o||o==wu;a.forEach(l=>{l.queued||!c&&l.triggerName!=r||s.push(l)})}}return(i||r)&&(s=s.filter(a=>!(i&&i!=a.namespaceId||r&&r!=a.triggerName))),s}_beforeAnimationBuild(t,e,i){let r=e.triggerName,o=e.element,s=e.isRemovalTransition?void 0:t,a=e.isRemovalTransition?void 0:r;for(let c of e.timelines){let l=c.element,m=l!==o,g=ti(i,l,[]);this._getPreviousPlayers(l,m,s,a,e.toState).forEach(E=>{let S=E.getRealPlayer();S.beforeDestroy&&S.beforeDestroy(),E.destroy(),g.push(E)})}Cs(o,e.fromStyles)}_buildAnimation(t,e,i,r,o,s){let a=e.triggerName,c=e.element,l=[],m=new Set,g=new Set,C=e.timelines.map(S=>{let k=S.element;m.add(k);let R=k[pr];if(R&&R.removedBeforeQueried)return new Io(S.duration,S.delay);let V=k!==c,ae=j$((i.get(k)||N$).map(ot=>ot.getRealPlayer())).filter(ot=>{let vt=ot;return vt.element?vt.element===k:!1}),Ce=o.get(k),ue=s.get(k),st=gw(this._normalizer,S.keyframes,Ce,ue),Xe=this._buildPlayer(S,st,ae);if(S.subTimeline&&r&&g.add(k),V){let ot=new Pu(t,a,k);ot.setRealPlayer(Xe),l.push(ot)}return Xe});l.forEach(S=>{ti(this.playersByQueriedElement,S.element,[]).push(S),S.onDone(()=>F$(this.playersByQueriedElement,S.element,S))}),m.forEach(S=>Ni(S,Cw));let E=So(C);return E.onDestroy(()=>{m.forEach(S=>dl(S,Cw)),fr(c,e.toStyles)}),g.forEach(S=>{ti(r,S,[]).push(E)}),E}_buildPlayer(t,e,i){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,i):new Io(t.duration,t.delay)}},Pu=class{namespaceId;triggerName;element;_player=new Io;_containsRealPlayer=!1;_queuedCallbacks=new Map;destroyed=!1;parentPlayer=null;markedForDestroy=!1;disabled=!1;queued=!0;totalTime=0;constructor(t,e,i){this.namespaceId=t,this.triggerName=e,this.element=i}setRealPlayer(t){this._containsRealPlayer||(this._player=t,this._queuedCallbacks.forEach((e,i)=>{e.forEach(r=>Yg(t,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){let e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){ti(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return this.queued?!1:this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){let e=this._player;e.triggerCallback&&e.triggerCallback(t)}};function F$(n,t,e){let i=n.get(t);if(i){if(i.length){let r=i.indexOf(e);i.splice(r,1)}i.length==0&&n.delete(t)}return i}function B$(n){return n??null}function om(n){return n&&n.nodeType===1}function z$(n){return n=="start"||n=="done"}function H2(n,t){let e=n.style.display;return n.style.display=t??"none",e}function q2(n,t,e,i,r){let o=[];e.forEach(c=>o.push(H2(c)));let s=[];i.forEach((c,l)=>{let m=new Map;c.forEach(g=>{let C=t.computeStyle(l,g,r);m.set(g,C),(!C||C.length==0)&&(l[pr]=L$,s.push(l))}),n.set(l,m)});let a=0;return e.forEach(c=>H2(c,o[a++])),s}function W2(n,t){let e=new Map;if(n.forEach(a=>e.set(a,[])),t.length==0)return e;let i=1,r=new Set(t),o=new Map;function s(a){if(!a)return i;let c=o.get(a);if(c)return c;let l=a.parentNode;return e.has(l)?c=l:r.has(l)?c=i:c=s(l),o.set(a,c),c}return t.forEach(a=>{let c=s(a);c!==i&&e.get(c).push(a)}),e}function Ni(n,t){n.classList?.add(t)}function dl(n,t){n.classList?.remove(t)}function V$(n,t,e){So(e).onDone(()=>n.processLeaveNode(t))}function j$(n){let t=[];return J2(n,t),t}function J2(n,t){for(let e=0;e<n.length;e++){let i=n[e];i instanceof al?J2(i.players,t):t.push(i)}}function U$(n,t){let e=Object.keys(n),i=Object.keys(t);if(e.length!=i.length)return!1;for(let r=0;r<e.length;r++){let o=e[r];if(!t.hasOwnProperty(o)||n[o]!==t[o])return!1}return!0}function G2(n,t,e){let i=e.get(n);if(!i)return!1;let r=t.get(n);return r?i.forEach(o=>r.add(o)):t.set(n,i),e.delete(n),!0}var ul=class{_driver;_normalizer;_transitionEngine;_timelineEngine;_triggerCache={};onRemovalComplete=(t,e)=>{};constructor(t,e,i){this._driver=e,this._normalizer=i,this._transitionEngine=new Fw(t.body,e,i),this._timelineEngine=new Nw(t.body,e,i),this._transitionEngine.onRemovalComplete=(r,o)=>this.onRemovalComplete(r,o)}registerTrigger(t,e,i,r,o){let s=t+"-"+r,a=this._triggerCache[s];if(!a){let c=[],l=[],m=Q2(this._driver,o,c,l);if(c.length)throw w2(r,c);a=I$(r,m,this._normalizer),this._triggerCache[s]=a}this._transitionEngine.registerTrigger(e,r,a)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,i,r){this._transitionEngine.insertNode(t,e,i,r)}onRemove(t,e,i){this._transitionEngine.removeNode(t,e,i)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,i,r){if(i.charAt(0)=="@"){let[o,s]=mw(i),a=r;this._timelineEngine.command(o,e,s,a)}else this._transitionEngine.trigger(t,e,i,r)}listen(t,e,i,r,o){if(i.charAt(0)=="@"){let[s,a]=mw(i);return this._timelineEngine.listen(s,e,a,o)}return this._transitionEngine.listen(t,e,i,r,o)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(t){this._transitionEngine.afterFlushAnimationsDone(t)}};function $$(n,t){let e=null,i=null;return Array.isArray(t)&&t.length?(e=xw(t[0]),t.length>1&&(i=xw(t[t.length-1]))):t instanceof Map&&(e=xw(t)),e||i?new H$(n,e,i):null}var H$=(()=>{class n{_element;_startStyles;_endStyles;static initialStylesByElement=new WeakMap;_state=0;_initialStyles;constructor(e,i,r){this._element=e,this._startStyles=i,this._endStyles=r;let o=n.initialStylesByElement.get(e);o||n.initialStylesByElement.set(e,o=new Map),this._initialStyles=o}start(){this._state<1&&(this._startStyles&&fr(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(fr(this._element,this._initialStyles),this._endStyles&&(fr(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Cs(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Cs(this._element,this._endStyles),this._endStyles=null),fr(this._element,this._initialStyles),this._state=3)}}return n})();function xw(n){let t=null;return n.forEach((e,i)=>{q$(i)&&(t=t||new Map,t.set(i,e))}),t}function q$(n){return n==="display"||n==="position"}var fm=class{element;keyframes;options;_specialStyles;_onDoneFns=[];_onStartFns=[];_onDestroyFns=[];_duration;_delay;_initialized=!1;_finished=!1;_started=!1;_destroyed=!1;_finalKeyframe;_originalOnDoneFns=[];_originalOnStartFns=[];domPlayer=null;time=0;parentPlayer=null;currentSnapshot=new Map;constructor(t,e,i,r){this.element=t,this.keyframes=e,this.options=i,this._specialStyles=r,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer()&&this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return this.domPlayer;this._initialized=!0;let t=this.keyframes,e=this._triggerWebAnimation(this.element,t,this.options);if(!e)return this._onFinish(),null;this.domPlayer=e,this._finalKeyframe=t.length?t[t.length-1]:new Map;let i=()=>this._onFinish();return e.addEventListener("finish",i),this.onDestroy(()=>{e.removeEventListener("finish",i)}),e}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer?.pause()}_convertKeyframesToObject(t){let e=[];return t.forEach(i=>{e.push(Object.fromEntries(i))}),e}_triggerWebAnimation(t,e,i){let r=this._convertKeyframesToObject(e);try{return t.animate(r,i)}catch{return null}}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){let t=this._buildPlayer();t&&(this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),t.play())}pause(){this.init(),this.domPlayer?.pause()}finish(){this.init(),this.domPlayer&&(this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish())}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer?.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){this.domPlayer||this.init(),this.domPlayer&&(this.domPlayer.currentTime=t*this.time)}getPosition(){return this.domPlayer?+(this.domPlayer.currentTime??0)/this.time:this._initialized?1:0}get totalTime(){return this._delay+this._duration}beforeDestroy(){let t=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{r!=="offset"&&t.set(r,this._finished?i:nm(this.element,r))}),this.currentSnapshot=t}triggerCallback(t){let e=t==="start"?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}},pm=class{validateStyleProperty(t){return!0}validateAnimatableStyleProperty(t){return!0}containsElement(t,e){return _w(t,e)}getParentElement(t){return Xg(t)}query(t,e,i){return vw(t,e,i)}computeStyle(t,e,i){return nm(t,e)}animate(t,e,i,r,o,s=[]){let a=r==0?"both":"forwards",c={duration:i,delay:r,fill:a};o&&(c.easing=o);let l=new Map,m=s.filter(E=>E instanceof fm);L2(i,r)&&m.forEach(E=>{E.currentSnapshot.forEach((S,k)=>l.set(k,S))});let g=R2(e).map(E=>new Map(E));g=F2(t,g,l);let C=$$(t,g);return new fm(t,g,c,C)}};var sm="@",eA="@.disabled",hm=class{namespaceId;delegate;engine;_onDestroy;\u0275type=0;constructor(t,e,i,r){this.namespaceId=t,this.delegate=e,this.engine=i,this._onDestroy=r}get data(){return this.delegate.data}destroyNode(t){this.delegate.destroyNode?.(t)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,i,r=!0){this.delegate.insertBefore(t,e,i),this.engine.onInsert(this.namespaceId,e,t,r)}removeChild(t,e,i,r){if(r){this.delegate.removeChild(t,e,i,r);return}this.parentNode(e)&&this.engine.onRemove(this.namespaceId,e,this.delegate)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,i,r){this.delegate.setAttribute(t,e,i,r)}removeAttribute(t,e,i){this.delegate.removeAttribute(t,e,i)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,i,r){this.delegate.setStyle(t,e,i,r)}removeStyle(t,e,i){this.delegate.removeStyle(t,e,i)}setProperty(t,e,i){e.charAt(0)==sm&&e==eA?this.disableAnimations(t,!!i):this.delegate.setProperty(t,e,i)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,i,r){return this.delegate.listen(t,e,i,r)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}},Bw=class extends hm{factory;constructor(t,e,i,r,o){super(e,i,r,o),this.factory=t,this.namespaceId=e}setProperty(t,e,i){e.charAt(0)==sm?e.charAt(1)=="."&&e==eA?(i=i===void 0?!0:!!i,this.disableAnimations(t,i)):this.engine.process(this.namespaceId,t,e.slice(1),i):this.delegate.setProperty(t,e,i)}listen(t,e,i,r){if(e.charAt(0)==sm){let o=W$(t),s=e.slice(1),a="";return s.charAt(0)!=sm&&([s,a]=G$(s)),this.engine.listen(this.namespaceId,o,s,a,c=>{let l=c._data||-1;this.factory.scheduleListenerCallback(l,i,c)})}return this.delegate.listen(t,e,i,r)}};function W$(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}function G$(n){let t=n.indexOf("."),e=n.substring(0,t),i=n.slice(t+1);return[e,i]}var gm=class{delegate;engine;_zone;_currentId=0;_microtaskId=1;_animationCallbacksBuffer=[];_rendererCache=new Map;_cdRecurDepth=0;constructor(t,e,i){this.delegate=t,this.engine=e,this._zone=i,e.onRemovalComplete=(r,o)=>{o?.removeChild(null,r)}}createRenderer(t,e){let r=this.delegate.createRenderer(t,e);if(!t||!e?.data?.animation){let l=this._rendererCache,m=l.get(r);if(!m){let g=()=>l.delete(r);m=new hm("",r,this.engine,g),l.set(r,m)}return m}let o=e.id,s=e.id+"-"+this._currentId;this._currentId++,this.engine.register(s,t);let a=l=>{Array.isArray(l)?l.forEach(a):this.engine.registerTrigger(o,s,t,l.name,l)};return e.data.animation.forEach(a),new Bw(this,s,r,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(t,e,i){if(t>=0&&t<this._microtaskId){this._zone.run(()=>e(i));return}let r=this._animationCallbacksBuffer;r.length==0&&queueMicrotask(()=>{this._zone.run(()=>{r.forEach(o=>{let[s,a]=o;s(a)}),this._animationCallbacksBuffer=[]})}),r.push([e,i])}end(){this._cdRecurDepth--,this._cdRecurDepth==0&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}componentReplaced(t){this.engine.flush(),this.delegate.componentReplaced?.(t)}};var Q$=(()=>{class n extends ul{constructor(e,i,r){super(e,i,r)}ngOnDestroy(){this.flush()}static \u0275fac=function(i){return new(i||n)(W(gt),W(ka),W(Ra))};static \u0275prov=q({token:n,factory:n.\u0275fac})}return n})();function Y$(){return new am}function Z$(n,t,e){return new gm(n,t,e)}var tA=[{provide:Ra,useFactory:Y$},{provide:ul,useClass:Q$},{provide:Co,useFactory:Z$,deps:[Yd,ul,ze]}],sye=[{provide:ka,useClass:zw},{provide:Vh,useValue:"NoopAnimations"},...tA],X$=[{provide:ka,useFactory:()=>new pm},{provide:Vh,useFactory:()=>"BrowserAnimations"},...tA];function nA(){return hi("NgEagerAnimations"),[...X$]}var Ms=class{},iA=(()=>{class n extends Ms{getTranslation(e){return $({})}static \u0275fac=(()=>{let e;return function(r){return(e||(e=Cn(n)))(r||n)}})();static \u0275prov=q({token:n,factory:n.\u0275fac})}return n})(),Ou=class{},rA=(()=>{class n{handle(e){return e.key}static \u0275fac=function(i){return new(i||n)};static \u0275prov=q({token:n,factory:n.\u0275fac})}return n})();function mm(n,t){if(n===t)return!0;if(n===null||t===null)return!1;if(n!==n&&t!==t)return!0;let e=typeof n,i=typeof t,r,o,s;if(e==i&&e=="object")if(Array.isArray(n)){if(!Array.isArray(t))return!1;if((r=n.length)==t.length){for(o=0;o<r;o++)if(!mm(n[o],t[o]))return!1;return!0}}else{if(Array.isArray(t))return!1;s=Object.create(null);for(o in n){if(!mm(n[o],t[o]))return!1;s[o]=!0}for(o in t)if(!(o in s)&&typeof t[o]<"u")return!1;return!0}return!1}function ws(n){return typeof n<"u"&&n!==null}function jw(n){return n&&typeof n=="object"&&!Array.isArray(n)}function aA(n,t){let e=Object.assign({},n);return jw(n)&&jw(t)&&Object.keys(t).forEach(i=>{jw(t[i])?i in n?e[i]=aA(n[i],t[i]):Object.assign(e,{[i]:t[i]}):Object.assign(e,{[i]:t[i]})}),e}var fl=class{},oA=(()=>{class n extends fl{templateMatcher=/{{\s?([^{}\s]*)\s?}}/g;interpolate(e,i){let r;return typeof e=="string"?r=this.interpolateString(e,i):typeof e=="function"?r=this.interpolateFunction(e,i):r=e,r}getValue(e,i){let r=typeof i=="string"?i.split("."):[i];i="";do i+=r.shift(),ws(e)&&ws(e[i])&&(typeof e[i]=="object"||!r.length)?(e=e[i],i=""):r.length?i+=".":e=void 0;while(r.length);return e}interpolateFunction(e,i){return e(i)}interpolateString(e,i){return i?e.replace(this.templateMatcher,(r,o)=>{let s=this.getValue(i,o);return ws(s)?s:r}):e}static \u0275fac=(()=>{let e;return function(r){return(e||(e=Cn(n)))(r||n)}})();static \u0275prov=q({token:n,factory:n.\u0275fac})}return n})(),pl=class{},sA=(()=>{class n extends pl{compile(e,i){return e}compileTranslations(e,i){return e}static \u0275fac=(()=>{let e;return function(r){return(e||(e=Cn(n)))(r||n)}})();static \u0275prov=q({token:n,factory:n.\u0275fac})}return n})(),_m=class{defaultLang;currentLang=this.defaultLang;translations={};langs=[];onTranslationChange=new qe;onLangChange=new qe;onDefaultLangChange=new qe},Uw=new Z("USE_STORE"),$w=new Z("USE_DEFAULT_LANG"),Hw=new Z("DEFAULT_LANGUAGE"),qw=new Z("USE_EXTEND"),xu=(()=>{class n{store;currentLoader;compiler;parser;missingTranslationHandler;useDefaultLang;isolate;extend;loadingTranslations;pending=!1;_onTranslationChange=new qe;_onLangChange=new qe;_onDefaultLangChange=new qe;_defaultLang;_currentLang;_langs=[];_translations={};_translationRequests={};get onTranslationChange(){return this.isolate?this._onTranslationChange:this.store.onTranslationChange}get onLangChange(){return this.isolate?this._onLangChange:this.store.onLangChange}get onDefaultLangChange(){return this.isolate?this._onDefaultLangChange:this.store.onDefaultLangChange}get defaultLang(){return this.isolate?this._defaultLang:this.store.defaultLang}set defaultLang(e){this.isolate?this._defaultLang=e:this.store.defaultLang=e}get currentLang(){return this.isolate?this._currentLang:this.store.currentLang}set currentLang(e){this.isolate?this._currentLang=e:this.store.currentLang=e}get langs(){return this.isolate?this._langs:this.store.langs}set langs(e){this.isolate?this._langs=e:this.store.langs=e}get translations(){return this.isolate?this._translations:this.store.translations}set translations(e){this.isolate?this._translations=e:this.store.translations=e}constructor(e,i,r,o,s,a=!0,c=!1,l=!1,m){this.store=e,this.currentLoader=i,this.compiler=r,this.parser=o,this.missingTranslationHandler=s,this.useDefaultLang=a,this.isolate=c,this.extend=l,m&&this.setDefaultLang(m)}setDefaultLang(e){if(e===this.defaultLang)return;let i=this.retrieveTranslations(e);typeof i<"u"?(this.defaultLang==null&&(this.defaultLang=e),i.pipe(ht(1)).subscribe(r=>{this.changeDefaultLang(e)})):this.changeDefaultLang(e)}getDefaultLang(){return this.defaultLang}use(e){if(e===this.currentLang)return $(this.translations[e]);let i=this.retrieveTranslations(e);return typeof i<"u"?(this.currentLang||(this.currentLang=e),i.pipe(ht(1)).subscribe(r=>{this.changeLang(e)}),i):(this.changeLang(e),$(this.translations[e]))}retrieveTranslations(e){let i;return(typeof this.translations[e]>"u"||this.extend)&&(this._translationRequests[e]=this._translationRequests[e]||this.getTranslation(e),i=this._translationRequests[e]),i}getTranslation(e){this.pending=!0;let i=this.currentLoader.getTranslation(e).pipe(Fp(1),ht(1));return this.loadingTranslations=i.pipe(H(r=>this.compiler.compileTranslations(r,e)),Fp(1),ht(1)),this.loadingTranslations.subscribe({next:r=>{this.translations[e]=this.extend&&this.translations[e]?B(B({},r),this.translations[e]):r,this.updateLangs(),this.pending=!1},error:r=>{this.pending=!1}}),i}setTranslation(e,i,r=!1){i=this.compiler.compileTranslations(i,e),(r||this.extend)&&this.translations[e]?this.translations[e]=aA(this.translations[e],i):this.translations[e]=i,this.updateLangs(),this.onTranslationChange.emit({lang:e,translations:this.translations[e]})}getLangs(){return this.langs}addLangs(e){e.forEach(i=>{this.langs.indexOf(i)===-1&&this.langs.push(i)})}updateLangs(){this.addLangs(Object.keys(this.translations))}getParsedResult(e,i,r){let o;if(i instanceof Array){let s={},a=!1;for(let c of i)s[c]=this.getParsedResult(e,c,r),Qi(s[c])&&(a=!0);if(a){let c=i.map(l=>Qi(s[l])?s[l]:$(s[l]));return Vt(c).pipe(H(l=>{let m={};return l.forEach((g,C)=>{m[i[C]]=g}),m}))}return s}if(e&&(o=this.parser.interpolate(this.parser.getValue(e,i),r)),typeof o>"u"&&this.defaultLang!=null&&this.defaultLang!==this.currentLang&&this.useDefaultLang&&(o=this.parser.interpolate(this.parser.getValue(this.translations[this.defaultLang],i),r)),typeof o>"u"){let s={key:i,translateService:this};typeof r<"u"&&(s.interpolateParams=r),o=this.missingTranslationHandler.handle(s)}return typeof o<"u"?o:i}get(e,i){if(!ws(e)||!e.length)throw new Error('Parameter "key" required');if(this.pending)return this.loadingTranslations.pipe(Ei(r=>(r=this.getParsedResult(r,e,i),Qi(r)?r:$(r))));{let r=this.getParsedResult(this.translations[this.currentLang],e,i);return Qi(r)?r:$(r)}}getStreamOnTranslationChange(e,i){if(!ws(e)||!e.length)throw new Error('Parameter "key" required');return co(se(()=>this.get(e,i)),this.onTranslationChange.pipe(we(r=>{let o=this.getParsedResult(r.translations,e,i);return typeof o.subscribe=="function"?o:$(o)})))}stream(e,i){if(!ws(e)||!e.length)throw new Error('Parameter "key" required');return co(se(()=>this.get(e,i)),this.onLangChange.pipe(we(r=>{let o=this.getParsedResult(r.translations,e,i);return Qi(o)?o:$(o)})))}instant(e,i){if(!ws(e)||!e.length)throw new Error('Parameter "key" required');let r=this.getParsedResult(this.translations[this.currentLang],e,i);if(Qi(r)){if(e instanceof Array){let o={};return e.forEach((s,a)=>{o[e[a]]=e[a]}),o}return e}else return r}set(e,i,r=this.currentLang){this.translations[r][e]=this.compiler.compile(i,r),this.updateLangs(),this.onTranslationChange.emit({lang:r,translations:this.translations[r]})}changeLang(e){this.currentLang=e,this.onLangChange.emit({lang:e,translations:this.translations[e]}),this.defaultLang==null&&this.changeDefaultLang(e)}changeDefaultLang(e){this.defaultLang=e,this.onDefaultLangChange.emit({lang:e,translations:this.translations[e]})}reloadLang(e){return this.resetLang(e),this.getTranslation(e)}resetLang(e){this._translationRequests[e]=void 0,this.translations[e]=void 0}getBrowserLang(){if(typeof window>"u"||typeof window.navigator>"u")return;let e=window.navigator.languages?window.navigator.languages[0]:null;if(e=e||window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage,!(typeof e>"u"))return e.indexOf("-")!==-1&&(e=e.split("-")[0]),e.indexOf("_")!==-1&&(e=e.split("_")[0]),e}getBrowserCultureLang(){if(typeof window>"u"||typeof window.navigator>"u")return;let e=window.navigator.languages?window.navigator.languages[0]:null;return e=e||window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage,e}static \u0275fac=function(i){return new(i||n)(W(_m),W(Ms),W(pl),W(fl),W(Ou),W($w),W(Uw),W(qw),W(Hw))};static \u0275prov=q({token:n,factory:n.\u0275fac})}return n})();var ve=(()=>{class n{translate;_ref;value="";lastKey=null;lastParams=[];onTranslationChange;onLangChange;onDefaultLangChange;constructor(e,i){this.translate=e,this._ref=i}updateValue(e,i,r){let o=s=>{this.value=s!==void 0?s:e,this.lastKey=e,this._ref.markForCheck()};if(r){let s=this.translate.getParsedResult(r,e,i);Qi(s.subscribe)?s.subscribe(o):o(s)}this.translate.get(e,i).subscribe(o)}transform(e,...i){if(!e||!e.length)return e;if(mm(e,this.lastKey)&&mm(i,this.lastParams))return this.value;let r;if(ws(i[0])&&i.length)if(typeof i[0]=="string"&&i[0].length){let o=i[0].replace(/(\')?([a-zA-Z0-9_]+)(\')?(\s)?:/g,'"$2":').replace(/:(\s)?(\')(.*?)(\')/g,':"$3"');try{r=JSON.parse(o)}catch{throw new SyntaxError(`Wrong parameter in TranslatePipe. Expected a valid Object, received: ${i[0]}`)}}else typeof i[0]=="object"&&!Array.isArray(i[0])&&(r=i[0]);return this.lastKey=e,this.lastParams=i,this.updateValue(e,r),this._dispose(),this.onTranslationChange||(this.onTranslationChange=this.translate.onTranslationChange.subscribe(o=>{this.lastKey&&o.lang===this.translate.currentLang&&(this.lastKey=null,this.updateValue(e,r,o.translations))})),this.onLangChange||(this.onLangChange=this.translate.onLangChange.subscribe(o=>{this.lastKey&&(this.lastKey=null,this.updateValue(e,r,o.translations))})),this.onDefaultLangChange||(this.onDefaultLangChange=this.translate.onDefaultLangChange.subscribe(()=>{this.lastKey&&(this.lastKey=null,this.updateValue(e,r))})),this.value}_dispose(){typeof this.onTranslationChange<"u"&&(this.onTranslationChange.unsubscribe(),this.onTranslationChange=void 0),typeof this.onLangChange<"u"&&(this.onLangChange.unsubscribe(),this.onLangChange=void 0),typeof this.onDefaultLangChange<"u"&&(this.onDefaultLangChange.unsubscribe(),this.onDefaultLangChange=void 0)}ngOnDestroy(){this._dispose()}static \u0275fac=function(i){return new(i||n)(A(xu,16),A(cr,16))};static \u0275pipe=Bd({name:"translate",type:n,pure:!1,standalone:!1});static \u0275prov=q({token:n,factory:n.\u0275fac})}return n})(),me=(()=>{class n{static forRoot(e={}){return{ngModule:n,providers:[e.loader||{provide:Ms,useClass:iA},e.compiler||{provide:pl,useClass:sA},e.parser||{provide:fl,useClass:oA},e.missingTranslationHandler||{provide:Ou,useClass:rA},_m,{provide:Uw,useValue:e.isolate},{provide:$w,useValue:e.useDefaultLang},{provide:qw,useValue:e.extend},{provide:Hw,useValue:e.defaultLanguage},xu]}}static forChild(e={}){return{ngModule:n,providers:[e.loader||{provide:Ms,useClass:iA},e.compiler||{provide:pl,useClass:sA},e.parser||{provide:fl,useClass:oA},e.missingTranslationHandler||{provide:Ou,useClass:rA},{provide:Uw,useValue:e.isolate},{provide:$w,useValue:e.useDefaultLang},{provide:qw,useValue:e.extend},{provide:Hw,useValue:e.defaultLanguage},xu]}}static \u0275fac=function(i){return new(i||n)};static \u0275mod=Rn({type:n});static \u0275inj=yn({})}return n})();var vm=class{http;prefix;suffix;constructor(t,e="/assets/i18n/",i=".json"){this.http=t,this.prefix=e,this.suffix=i}getTranslation(t){return this.http.get(`${this.prefix}${t}${this.suffix}`)}};function cA(n){return new vm(n,"assets/i18n/",".json")}var lA=()=>{};var Gw={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};var Q=function(n,t){if(!n)throw Na(t)},Na=function(n){return new Error("Firebase Database ("+Gw.SDK_VERSION+") INTERNAL ASSERT FAILED: "+n)};var fA=function(n){let t=[],e=0;for(let i=0;i<n.length;i++){let r=n.charCodeAt(i);r<128?t[e++]=r:r<2048?(t[e++]=r>>6|192,t[e++]=r&63|128):(r&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(n.charCodeAt(++i)&1023),t[e++]=r>>18|240,t[e++]=r>>12&63|128,t[e++]=r>>6&63|128,t[e++]=r&63|128):(t[e++]=r>>12|224,t[e++]=r>>6&63|128,t[e++]=r&63|128)}return t},J$=function(n){let t=[],e=0,i=0;for(;e<n.length;){let r=n[e++];if(r<128)t[i++]=String.fromCharCode(r);else if(r>191&&r<224){let o=n[e++];t[i++]=String.fromCharCode((r&31)<<6|o&63)}else if(r>239&&r<365){let o=n[e++],s=n[e++],a=n[e++],c=((r&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;t[i++]=String.fromCharCode(55296+(c>>10)),t[i++]=String.fromCharCode(56320+(c&1023))}else{let o=n[e++],s=n[e++];t[i++]=String.fromCharCode((r&15)<<12|(o&63)<<6|s&63)}}return t.join("")},ml={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,t){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();let e=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<n.length;r+=3){let o=n[r],s=r+1<n.length,a=s?n[r+1]:0,c=r+2<n.length,l=c?n[r+2]:0,m=o>>2,g=(o&3)<<4|a>>4,C=(a&15)<<2|l>>6,E=l&63;c||(E=64,s||(C=64)),i.push(e[m],e[g],e[C],e[E])}return i.join("")},encodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(n):this.encodeByteArray(fA(n),t)},decodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(n):J$(this.decodeStringToByteArray(n,t))},decodeStringToByteArray(n,t){this.init_();let e=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<n.length;){let o=e[n.charAt(r++)],a=r<n.length?e[n.charAt(r)]:0;++r;let l=r<n.length?e[n.charAt(r)]:64;++r;let g=r<n.length?e[n.charAt(r)]:64;if(++r,o==null||a==null||l==null||g==null)throw new Kw;let C=o<<2|a>>4;if(i.push(C),l!==64){let E=a<<4&240|l>>2;if(i.push(E),g!==64){let S=l<<6&192|g;i.push(S)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},Kw=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},Yw=function(n){let t=fA(n);return ml.encodeByteArray(t,!0)},Su=function(n){return Yw(n).replace(/\./g,"")},hl=function(n){try{return ml.decodeString(n,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function pA(n){return hA(void 0,n)}function hA(n,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:let e=t;return new Date(e.getTime());case Object:n===void 0&&(n={});break;case Array:n=[];break;default:return t}for(let e in t)!t.hasOwnProperty(e)||!e9(e)||(n[e]=hA(n[e],t[e]));return n}function e9(n){return n!=="__proto__"}function gA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var t9=()=>gA().__FIREBASE_DEFAULTS__,n9=()=>{if(typeof process>"u"||typeof process.env>"u")return;let n=process.env.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},i9=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let t=n&&hl(n[1]);return t&&JSON.parse(t)},Zw=()=>{try{return lA()||t9()||n9()||i9()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},Xw=n=>{var t,e;return(e=(t=Zw())===null||t===void 0?void 0:t.emulatorHosts)===null||e===void 0?void 0:e[n]},bm=n=>{let t=Xw(n);if(!t)return;let e=t.lastIndexOf(":");if(e<=0||e+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);let i=parseInt(t.substring(e+1),10);return t[0]==="["?[t.substring(1,e-1),i]:[t.substring(0,e),i]},Jw=()=>{var n;return(n=Zw())===null||n===void 0?void 0:n.config},e1=n=>{var t;return(t=Zw())===null||t===void 0?void 0:t[`_${n}`]};var Li=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}wrapCallback(t){return(e,i)=>{e?this.reject(e):this.resolve(i),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(e):t(e,i))}}};function qr(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}function _l(n){return T(this,null,function*(){return(yield fetch(n,{credentials:"include"})).ok})}function Cm(n,t){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let e={alg:"none",type:"JWT"},i=t||"demo-project",r=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Su(JSON.stringify(e)),Su(JSON.stringify(s)),""].join(".")}var Iu={};function r9(){let n={prod:[],emulator:[]};for(let t of Object.keys(Iu))Iu[t]?n.emulator.push(t):n.prod.push(t);return n}function o9(n){let t=document.getElementById(n),e=!1;return t||(t=document.createElement("div"),t.setAttribute("id",n),e=!0),{created:e,element:t}}var dA=!1;function vl(n,t){if(typeof window>"u"||typeof document>"u"||!qr(window.location.host)||Iu[n]===t||Iu[n]||dA)return;Iu[n]=t;function e(C){return`__firebase__banner__${C}`}let i="__firebase__banner",o=r9().prod.length>0;function s(){let C=document.getElementById(i);C&&C.remove()}function a(C){C.style.display="flex",C.style.background="#7faaf0",C.style.position="fixed",C.style.bottom="5px",C.style.left="5px",C.style.padding=".5em",C.style.borderRadius="5px",C.style.alignItems="center"}function c(C,E){C.setAttribute("width","24"),C.setAttribute("id",E),C.setAttribute("height","24"),C.setAttribute("viewBox","0 0 24 24"),C.setAttribute("fill","none"),C.style.marginLeft="-6px"}function l(){let C=document.createElement("span");return C.style.cursor="pointer",C.style.marginLeft="16px",C.style.fontSize="24px",C.innerHTML=" &times;",C.onclick=()=>{dA=!0,s()},C}function m(C,E){C.setAttribute("id",E),C.innerText="Learn more",C.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",C.setAttribute("target","__blank"),C.style.paddingLeft="5px",C.style.textDecoration="underline"}function g(){let C=o9(i),E=e("text"),S=document.getElementById(E)||document.createElement("span"),k=e("learnmore"),R=document.getElementById(k)||document.createElement("a"),V=e("preprendIcon"),ae=document.getElementById(V)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(C.created){let Ce=C.element;a(Ce),m(R,k);let ue=l();c(ae,V),Ce.append(ae,S,R,ue),document.body.appendChild(Ce)}o?(S.innerText="Preview backend disconnected.",ae.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ae.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,S.innerText="Preview backend running in this workspace."),S.setAttribute("id",E)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",g):g()}function Ln(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Tu(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ln())}function mA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function _A(){let n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function wm(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function vA(){let n=Ln();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function Wr(){return Gw.NODE_CLIENT===!0||Gw.NODE_ADMIN===!0}function Mm(){try{return typeof indexedDB=="object"}catch{return!1}}function yA(){return new Promise((n,t)=>{try{let e=!0,i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),e||self.indexedDB.deleteDatabase(i),n(!0)},r.onupgradeneeded=()=>{e=!1},r.onerror=()=>{var o;t(((o=r.error)===null||o===void 0?void 0:o.message)||"")}}catch(e){t(e)}})}var s9="FirebaseError",bi=class n extends Error{constructor(t,e,i){super(e),this.code=t,this.customData=i,this.name=s9,Object.setPrototypeOf(this,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,hr.prototype.create)}},hr=class{constructor(t,e,i){this.service=t,this.serviceName=e,this.errors=i}create(t,...e){let i=e[0]||{},r=`${this.service}/${t}`,o=this.errors[t],s=o?a9(o,i):"Error",a=`${this.serviceName}: ${s} (${r}).`;return new bi(r,a,i)}};function a9(n,t){return n.replace(c9,(e,i)=>{let r=t[i];return r!=null?String(r):`<${i}?>`})}var c9=/\{\$([^}]+)}/g;function gl(n){return JSON.parse(n)}function Gt(n){return JSON.stringify(n)}var bA=function(n){let t={},e={},i={},r="";try{let o=n.split(".");t=gl(hl(o[0])||""),e=gl(hl(o[1])||""),r=o[2],i=e.d||{},delete e.d}catch{}return{header:t,claims:e,data:i,signature:r}};var CA=function(n){let t=bA(n),e=t.claims;return!!e&&typeof e=="object"&&e.hasOwnProperty("iat")},wA=function(n){let t=bA(n).claims;return typeof t=="object"&&t.admin===!0};function gr(n,t){return Object.prototype.hasOwnProperty.call(n,t)}function La(n,t){if(Object.prototype.hasOwnProperty.call(n,t))return n[t]}function Du(n){for(let t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}function Au(n,t,e){let i={};for(let r in n)Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=t.call(e,n[r],r,n));return i}function Gr(n,t){if(n===t)return!0;let e=Object.keys(n),i=Object.keys(t);for(let r of e){if(!i.includes(r))return!1;let o=n[r],s=t[r];if(uA(o)&&uA(s)){if(!Gr(o,s))return!1}else if(o!==s)return!1}for(let r of i)if(!e.includes(r))return!1;return!0}function uA(n){return n!==null&&typeof n=="object"}function Es(n){let t=[];for(let[e,i]of Object.entries(n))Array.isArray(i)?i.forEach(r=>{t.push(encodeURIComponent(e)+"="+encodeURIComponent(r))}):t.push(encodeURIComponent(e)+"="+encodeURIComponent(i));return t.length?"&"+t.join("&"):""}function yl(n){let t={};return n.replace(/^\?/,"").split("&").forEach(i=>{if(i){let[r,o]=i.split("=");t[decodeURIComponent(r)]=decodeURIComponent(o)}}),t}function bl(n){let t=n.indexOf("?");if(!t)return"";let e=n.indexOf("#",t);return n.substring(t,e>0?e:void 0)}var ym=class{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(t,e){e||(e=0);let i=this.W_;if(typeof t=="string")for(let g=0;g<16;g++)i[g]=t.charCodeAt(e)<<24|t.charCodeAt(e+1)<<16|t.charCodeAt(e+2)<<8|t.charCodeAt(e+3),e+=4;else for(let g=0;g<16;g++)i[g]=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3],e+=4;for(let g=16;g<80;g++){let C=i[g-3]^i[g-8]^i[g-14]^i[g-16];i[g]=(C<<1|C>>>31)&4294967295}let r=this.chain_[0],o=this.chain_[1],s=this.chain_[2],a=this.chain_[3],c=this.chain_[4],l,m;for(let g=0;g<80;g++){g<40?g<20?(l=a^o&(s^a),m=1518500249):(l=o^s^a,m=1859775393):g<60?(l=o&s|a&(o|s),m=2400959708):(l=o^s^a,m=3395469782);let C=(r<<5|r>>>27)+l+c+m+i[g]&4294967295;c=a,a=s,s=(o<<30|o>>>2)&4294967295,o=r,r=C}this.chain_[0]=this.chain_[0]+r&4294967295,this.chain_[1]=this.chain_[1]+o&4294967295,this.chain_[2]=this.chain_[2]+s&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+c&4294967295}update(t,e){if(t==null)return;e===void 0&&(e=t.length);let i=e-this.blockSize,r=0,o=this.buf_,s=this.inbuf_;for(;r<e;){if(s===0)for(;r<=i;)this.compress_(t,r),r+=this.blockSize;if(typeof t=="string"){for(;r<e;)if(o[s]=t.charCodeAt(r),++s,++r,s===this.blockSize){this.compress_(o),s=0;break}}else for(;r<e;)if(o[s]=t[r],++s,++r,s===this.blockSize){this.compress_(o),s=0;break}}this.inbuf_=s,this.total_+=e}digest(){let t=[],e=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let r=this.blockSize-1;r>=56;r--)this.buf_[r]=e&255,e/=256;this.compress_(this.buf_);let i=0;for(let r=0;r<5;r++)for(let o=24;o>=0;o-=8)t[i]=this.chain_[r]>>o&255,++i;return t}};function MA(n,t){let e=new Qw(n,t);return e.subscribe.bind(e)}var Qw=class{constructor(t,e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(()=>{t(this)}).catch(i=>{this.error(i)})}next(t){this.forEachObserver(e=>{e.next(t)})}error(t){this.forEachObserver(e=>{e.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,e,i){let r;if(t===void 0&&e===void 0&&i===void 0)throw new Error("Missing Observer.");l9(t,["next","error","complete"])?r=t:r={next:t,error:e,complete:i},r.next===void 0&&(r.next=Ww),r.error===void 0&&(r.error=Ww),r.complete===void 0&&(r.complete=Ww);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),o}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,t)}sendOne(t,e){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{e(this.observers[t])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function l9(n,t){if(typeof n!="object"||n===null)return!1;for(let e of t)if(e in n&&typeof n[e]=="function")return!0;return!1}function Ww(){}function Cl(n,t){return`${n} failed: ${t} argument `}var EA=function(n){let t=[],e=0;for(let i=0;i<n.length;i++){let r=n.charCodeAt(i);if(r>=55296&&r<=56319){let o=r-55296;i++,Q(i<n.length,"Surrogate pair missing trail surrogate.");let s=n.charCodeAt(i)-56320;r=65536+(o<<10)+s}r<128?t[e++]=r:r<2048?(t[e++]=r>>6|192,t[e++]=r&63|128):r<65536?(t[e++]=r>>12|224,t[e++]=r>>6&63|128,t[e++]=r&63|128):(t[e++]=r>>18|240,t[e++]=r>>12&63|128,t[e++]=r>>6&63|128,t[e++]=r&63|128)}return t},ku=function(n){let t=0;for(let e=0;e<n.length;e++){let i=n.charCodeAt(e);i<128?t++:i<2048?t+=2:i>=55296&&i<=56319?(t+=4,e++):t+=3}return t};var Mye=14400*1e3;function Dt(n){return n&&n._delegate?n._delegate:n}var Mn=class{constructor(t,e,i){this.name=t,this.instanceFactory=e,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}};var Fa="[DEFAULT]";var Em=class{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){let e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){let i=new Li;if(this.instancesDeferred.set(e,i),this.isInitialized(e)||this.shouldAutoInitialize())try{let r=this.getOrInitializeService({instanceIdentifier:e});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(e).promise}getImmediate(t){var e;let i=this.normalizeInstanceIdentifier(t?.identifier),r=(e=t?.optional)!==null&&e!==void 0?e:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(u9(t))try{this.getOrInitializeService({instanceIdentifier:Fa})}catch{}for(let[e,i]of this.instancesDeferred.entries()){let r=this.normalizeInstanceIdentifier(e);try{let o=this.getOrInitializeService({instanceIdentifier:r});i.resolve(o)}catch{}}}}clearInstance(t=Fa){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}delete(){return T(this,null,function*(){let t=Array.from(this.instances.values());yield Promise.all([...t.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...t.filter(e=>"_delete"in e).map(e=>e._delete())])})}isComponentSet(){return this.component!=null}isInitialized(t=Fa){return this.instances.has(t)}getOptions(t=Fa){return this.instancesOptions.get(t)||{}}initialize(t={}){let{options:e={}}=t,i=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let r=this.getOrInitializeService({instanceIdentifier:i,options:e});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);i===a&&s.resolve(r)}return r}onInit(t,e){var i;let r=this.normalizeInstanceIdentifier(e),o=(i=this.onInitCallbacks.get(r))!==null&&i!==void 0?i:new Set;o.add(t),this.onInitCallbacks.set(r,o);let s=this.instances.get(r);return s&&t(s,r),()=>{o.delete(t)}}invokeOnInitCallbacks(t,e){let i=this.onInitCallbacks.get(e);if(i)for(let r of i)try{r(t,e)}catch{}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:d9(t),options:e}),this.instances.set(t,i),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch{}return i||null}normalizeInstanceIdentifier(t=Fa){return this.component?this.component.multipleInstances?t:Fa:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function d9(n){return n===Fa?void 0:n}function u9(n){return n.instantiationMode==="EAGER"}var Ru=class{constructor(t){this.name=t,this.providers=new Map}addComponent(t){let e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);let e=new Em(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}};var f9=[],rt=(function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n})(rt||{}),p9={debug:rt.DEBUG,verbose:rt.VERBOSE,info:rt.INFO,warn:rt.WARN,error:rt.ERROR,silent:rt.SILENT},h9=rt.INFO,g9={[rt.DEBUG]:"log",[rt.VERBOSE]:"log",[rt.INFO]:"info",[rt.WARN]:"warn",[rt.ERROR]:"error"},m9=(n,t,...e)=>{if(t<n.logLevel)return;let i=new Date().toISOString(),r=g9[t];if(r)console[r](`[${i}]  ${n.name}:`,...e);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)},Kr=class{constructor(t){this.name=t,this._logLevel=h9,this._logHandler=m9,this._userLogHandler=null,f9.push(this)}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in rt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?p9[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,rt.DEBUG,...t),this._logHandler(this,rt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,rt.VERBOSE,...t),this._logHandler(this,rt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,rt.INFO,...t),this._logHandler(this,rt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,rt.WARN,...t),this._logHandler(this,rt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,rt.ERROR,...t),this._logHandler(this,rt.ERROR,...t)}};var _9=(n,t)=>t.some(e=>n instanceof e),PA,OA;function v9(){return PA||(PA=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function y9(){return OA||(OA=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var xA=new WeakMap,n1=new WeakMap,IA=new WeakMap,t1=new WeakMap,r1=new WeakMap;function b9(n){let t=new Promise((e,i)=>{let r=()=>{n.removeEventListener("success",o),n.removeEventListener("error",s)},o=()=>{e(Qr(n.result)),r()},s=()=>{i(n.error),r()};n.addEventListener("success",o),n.addEventListener("error",s)});return t.then(e=>{e instanceof IDBCursor&&xA.set(e,n)}).catch(()=>{}),r1.set(t,n),t}function C9(n){if(n1.has(n))return;let t=new Promise((e,i)=>{let r=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",s),n.removeEventListener("abort",s)},o=()=>{e(),r()},s=()=>{i(n.error||new DOMException("AbortError","AbortError")),r()};n.addEventListener("complete",o),n.addEventListener("error",s),n.addEventListener("abort",s)});n1.set(n,t)}var i1={get(n,t,e){if(n instanceof IDBTransaction){if(t==="done")return n1.get(n);if(t==="objectStoreNames")return n.objectStoreNames||IA.get(n);if(t==="store")return e.objectStoreNames[1]?void 0:e.objectStore(e.objectStoreNames[0])}return Qr(n[t])},set(n,t,e){return n[t]=e,!0},has(n,t){return n instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in n}};function SA(n){i1=n(i1)}function w9(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...e){let i=n.call(Pm(this),t,...e);return IA.set(i,t.sort?t.sort():[t]),Qr(i)}:y9().includes(n)?function(...t){return n.apply(Pm(this),t),Qr(xA.get(this))}:function(...t){return Qr(n.apply(Pm(this),t))}}function M9(n){return typeof n=="function"?w9(n):(n instanceof IDBTransaction&&C9(n),_9(n,v9())?new Proxy(n,i1):n)}function Qr(n){if(n instanceof IDBRequest)return b9(n);if(t1.has(n))return t1.get(n);let t=M9(n);return t!==n&&(t1.set(n,t),r1.set(t,n)),t}var Pm=n=>r1.get(n);function DA(n,t,{blocked:e,upgrade:i,blocking:r,terminated:o}={}){let s=indexedDB.open(n,t),a=Qr(s);return i&&s.addEventListener("upgradeneeded",c=>{i(Qr(s.result),c.oldVersion,c.newVersion,Qr(s.transaction),c)}),e&&s.addEventListener("blocked",c=>e(c.oldVersion,c.newVersion,c)),a.then(c=>{o&&c.addEventListener("close",()=>o()),r&&c.addEventListener("versionchange",l=>r(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}var E9=["get","getKey","getAll","getAllKeys","count"],P9=["put","add","delete","clear"],o1=new Map;function TA(n,t){if(!(n instanceof IDBDatabase&&!(t in n)&&typeof t=="string"))return;if(o1.get(t))return o1.get(t);let e=t.replace(/FromIndex$/,""),i=t!==e,r=P9.includes(e);if(!(e in(i?IDBIndex:IDBObjectStore).prototype)||!(r||E9.includes(e)))return;let o=function(s,...a){return T(this,null,function*(){let c=this.transaction(s,r?"readwrite":"readonly"),l=c.store;return i&&(l=l.index(a.shift())),(yield Promise.all([l[e](...a),r&&c.done]))[0]})};return o1.set(t,o),o}SA(n=>oe(B({},n),{get:(t,e,i)=>TA(t,e)||n.get(t,e,i),has:(t,e)=>!!TA(t,e)||n.has(t,e)}));var a1=class{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(O9(e)){let i=e.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(e=>e).join(" ")}};function O9(n){let t=n.getComponent();return t?.type==="VERSION"}var c1="@firebase/app",AA="0.13.2";var To=new Kr("@firebase/app"),x9="@firebase/app-compat",I9="@firebase/analytics-compat",S9="@firebase/analytics",T9="@firebase/app-check-compat",D9="@firebase/app-check",A9="@firebase/auth",k9="@firebase/auth-compat",R9="@firebase/database",N9="@firebase/data-connect",L9="@firebase/database-compat",F9="@firebase/functions",B9="@firebase/functions-compat",z9="@firebase/installations",V9="@firebase/installations-compat",j9="@firebase/messaging",U9="@firebase/messaging-compat",$9="@firebase/performance",H9="@firebase/performance-compat",q9="@firebase/remote-config",W9="@firebase/remote-config-compat",G9="@firebase/storage",K9="@firebase/storage-compat",Q9="@firebase/firestore",Y9="@firebase/ai",Z9="@firebase/firestore-compat",X9="firebase",J9="11.10.0";var l1="[DEFAULT]",e7={[c1]:"fire-core",[x9]:"fire-core-compat",[S9]:"fire-analytics",[I9]:"fire-analytics-compat",[D9]:"fire-app-check",[T9]:"fire-app-check-compat",[A9]:"fire-auth",[k9]:"fire-auth-compat",[R9]:"fire-rtdb",[N9]:"fire-data-connect",[L9]:"fire-rtdb-compat",[F9]:"fire-fn",[B9]:"fire-fn-compat",[z9]:"fire-iid",[V9]:"fire-iid-compat",[j9]:"fire-fcm",[U9]:"fire-fcm-compat",[$9]:"fire-perf",[H9]:"fire-perf-compat",[q9]:"fire-rc",[W9]:"fire-rc-compat",[G9]:"fire-gcs",[K9]:"fire-gcs-compat",[Q9]:"fire-fst",[Z9]:"fire-fst-compat",[Y9]:"fire-vertex","fire-js":"fire-js",[X9]:"fire-js-all"};var Nu=new Map,t7=new Map,d1=new Map;function kA(n,t){try{n.container.addComponent(t)}catch(e){To.debug(`Component ${t.name} failed to register with FirebaseApp ${n.name}`,e)}}function Ci(n){let t=n.name;if(d1.has(t))return To.debug(`There were multiple attempts to register component ${t}.`),!1;d1.set(t,n);for(let e of Nu.values())kA(e,n);for(let e of t7.values())kA(e,n);return!0}function Os(n,t){let e=n.container.getProvider("heartbeat").getImmediate({optional:!0});return e&&e.triggerHeartbeat(),n.container.getProvider(t)}function En(n){return n==null?!1:n.settings!==void 0}var n7={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ps=new hr("app","Firebase",n7);var u1=class{constructor(t,e,i){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},e),this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Mn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Ps.create("app-deleted",{appName:this._name})}};var Yr=J9;function h1(n,t={}){let e=n;typeof t!="object"&&(t={name:t});let i=Object.assign({name:l1,automaticDataCollectionEnabled:!0},t),r=i.name;if(typeof r!="string"||!r)throw Ps.create("bad-app-name",{appName:String(r)});if(e||(e=Jw()),!e)throw Ps.create("no-options");let o=Nu.get(r);if(o){if(Gr(e,o.options)&&Gr(i,o.config))return o;throw Ps.create("duplicate-app",{appName:r})}let s=new Ru(r);for(let c of d1.values())s.addComponent(c);let a=new u1(e,i,s);return Nu.set(r,a),a}function Do(n=l1){let t=Nu.get(n);if(!t&&n===l1&&Jw())return h1();if(!t)throw Ps.create("no-app",{appName:n});return t}function Om(){return Array.from(Nu.values())}function dt(n,t,e){var i;let r=(i=e7[n])!==null&&i!==void 0?i:n;e&&(r+=`-${e}`);let o=r.match(/\s|\//),s=t.match(/\s|\//);if(o||s){let a=[`Unable to register library "${r}" with version "${t}":`];o&&a.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${t}" contains illegal characters (whitespace or "/")`),To.warn(a.join(" "));return}Ci(new Mn(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}var i7="firebase-heartbeat-database",r7=1,Lu="firebase-heartbeat-store",s1=null;function FA(){return s1||(s1=DA(i7,r7,{upgrade:(n,t)=>{switch(t){case 0:try{n.createObjectStore(Lu)}catch(e){console.warn(e)}}}}).catch(n=>{throw Ps.create("idb-open",{originalErrorMessage:n.message})})),s1}function o7(n){return T(this,null,function*(){try{let e=(yield FA()).transaction(Lu),i=yield e.objectStore(Lu).get(BA(n));return yield e.done,i}catch(t){if(t instanceof bi)To.warn(t.message);else{let e=Ps.create("idb-get",{originalErrorMessage:t?.message});To.warn(e.message)}}})}function RA(n,t){return T(this,null,function*(){try{let i=(yield FA()).transaction(Lu,"readwrite");yield i.objectStore(Lu).put(t,BA(n)),yield i.done}catch(e){if(e instanceof bi)To.warn(e.message);else{let i=Ps.create("idb-set",{originalErrorMessage:e?.message});To.warn(i.message)}}})}function BA(n){return`${n.name}!${n.options.appId}`}var s7=1024,a7=30,f1=class{constructor(t){this.container=t,this._heartbeatsCache=null;let e=this.container.getProvider("app").getImmediate();this._storage=new p1(e),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}triggerHeartbeat(){return T(this,null,function*(){var t,e;try{let r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=NA();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:r}),this._heartbeatsCache.heartbeats.length>a7){let s=l7(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){To.warn(i)}})}getHeartbeatsHeader(){return T(this,null,function*(){var t;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let e=NA(),{heartbeatsToSend:i,unsentEntries:r}=c7(this._heartbeatsCache.heartbeats),o=Su(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return To.warn(e),""}})}};function NA(){return new Date().toISOString().substring(0,10)}function c7(n,t=s7){let e=[],i=n.slice();for(let r of n){let o=e.find(s=>s.agent===r.agent);if(o){if(o.dates.push(r.date),LA(e)>t){o.dates.pop();break}}else if(e.push({agent:r.agent,dates:[r.date]}),LA(e)>t){e.pop();break}i=i.slice(1)}return{heartbeatsToSend:e,unsentEntries:i}}var p1=class{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return T(this,null,function*(){return Mm()?yA().then(()=>!0).catch(()=>!1):!1})}read(){return T(this,null,function*(){if(yield this._canUseIndexedDBPromise){let e=yield o7(this.app);return e?.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(t){return T(this,null,function*(){var e;if(yield this._canUseIndexedDBPromise){let r=yield this.read();return RA(this.app,{lastSentHeartbeatDate:(e=t.lastSentHeartbeatDate)!==null&&e!==void 0?e:r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return})}add(t){return T(this,null,function*(){var e;if(yield this._canUseIndexedDBPromise){let r=yield this.read();return RA(this.app,{lastSentHeartbeatDate:(e=t.lastSentHeartbeatDate)!==null&&e!==void 0?e:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return})}};function LA(n){return Su(JSON.stringify({version:2,heartbeats:n})).length}function l7(n){if(n.length===0)return-1;let t=0,e=n[0].date;for(let i=1;i<n.length;i++)n[i].date<e&&(e=n[i].date,t=i);return t}function d7(n){Ci(new Mn("platform-logger",t=>new a1(t),"PRIVATE")),Ci(new Mn("heartbeat",t=>new f1(t),"PRIVATE")),dt(c1,AA,n),dt(c1,AA,"esm2017"),dt("fire-js","")}d7("");var u7="firebase",f7="11.10.0";dt(u7,f7,"app");function zA(n){n===void 0&&(n=N(De));let t=n.get(vo);return e=>new ie(i=>{let r=t.add(),o=!1;function s(){o||(r(),o=!0)}let a=e.subscribe({next:c=>{i.next(c),s()},complete:()=>{i.complete(),s()},error:c=>{i.error(c),s()}});return a.add(()=>{i.unsubscribe(),s()}),a})}var Zr=new fo("ANGULARFIRE2_VERSION");function za(n,t,e){if(t){if(t.length===1)return t[0];let o=t.filter(s=>s.app===e);if(o.length===1)return o[0]}return e.container.getProvider(n).getImmediate({optional:!0})}var xs=(n,t)=>{let e=t?[t]:Om(),i=[];return e.forEach(r=>{r.container.getProvider(n).instances.forEach(s=>{i.includes(s)||i.push(s)})}),i},wl=(function(n){return n[n.SILENT=0]="SILENT",n[n.WARN=1]="WARN",n[n.VERBOSE=2]="VERBOSE",n})(wl||{}),VA=hC()&&typeof Zone<"u"?wl.WARN:wl.SILENT;var xm=class{zone;delegate;constructor(t,e=lv){this.zone=t,this.delegate=e}now(){return this.delegate.now()}schedule(t,e,i){let r=this.zone,o=function(s){r?r.runGuarded(()=>{t.apply(this,[s])}):t.apply(this,[s])};return this.delegate.schedule(o,e,i)}},Xr=(()=>{class n{outsideAngular;insideAngular;constructor(){let e=N(ze);this.outsideAngular=e.runOutsideAngular(()=>new xm(typeof Zone>"u"?void 0:Zone.current)),this.insideAngular=e.run(()=>new xm(typeof Zone>"u"?void 0:Zone.current,cv))}static \u0275fac=function(i){return new(i||n)};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),jA=!1;function p7(n,t){!jA&&(VA>wl.SILENT||hC())&&(jA=!0,console.warn("Calling Firebase APIs outside of an Injection context may destabilize your application leading to subtle change-detection and hydration bugs. Find more at https://github.com/angular/angularfire/blob/main/docs/zones.md")),VA>=t&&console.warn(`Firebase API called outside injection context: ${n.name}`)}function h7(n){let t=N(ze,{optional:!0});return t?t.runOutsideAngular(()=>n()):n()}function Ba(n){let t=N(ze,{optional:!0});return t?t.run(()=>n()):n()}var g7=(n,t,e)=>(...i)=>(t&&setTimeout(t,0),X(e,()=>Ba(()=>n.apply(void 0,i)))),wt=(n,t,e)=>(e||=t?wl.WARN:wl.VERBOSE,function(){let i,r=arguments,o,s,a;try{o=N(Xr),s=N(vo),a=N(Pt)}catch{return p7(n,e),n.apply(this,r)}for(let l=0;l<arguments.length;l++)typeof r[l]=="function"&&(t&&(i||=Ba(()=>s.add())),r[l]=g7(r[l],i,a));let c=h7(()=>n.apply(this,r));return t?c instanceof ie?c.pipe(Yo(o.outsideAngular),Qo(o.insideAngular),zA(a)):c instanceof Promise?Ba(()=>{let l=s.add();return new Promise((m,g)=>{c.then(C=>X(a,()=>Ba(()=>m(C))),C=>X(a,()=>Ba(()=>g(C)))).finally(l)})}):typeof c=="function"&&i?function(){return setTimeout(i,0),c.apply(this,arguments)}:Ba(()=>c):c instanceof ie?c.pipe(Yo(o.outsideAngular),Qo(o.insideAngular)):Ba(()=>c)});var mr=class{constructor(t){return t}},Ao=class{constructor(){return Om()}};function m7(n){return n&&n.length===1?n[0]:new mr(Do())}var g1=new Z("angularfire2._apps"),_7={provide:mr,useFactory:m7,deps:[[new Zt,g1]]},v7={provide:Ao,deps:[[new Zt,g1]]};function y7(n){return(t,e)=>{let i=e.get(ya);dt("angularfire",Zr.full,"core"),dt("angularfire",Zr.full,"app"),dt("angular",Ov.full,i.toString());let r=t.runOutsideAngular(()=>n(e));return new mr(r)}}function UA(n,...t){return bn([_7,v7,{provide:g1,useFactory:y7(n),multi:!0,deps:[ze,De,Xr,...t]}])}var $A=wt(h1,!0);var b7=new Map,C7={activated:!1,tokenObservers:[]},w7={initialized:!1,enabled:!1};function _r(n){return b7.get(n)||Object.assign({},C7)}function GA(){return w7}var M7="https://content-firebaseappcheck.googleapis.com/v1";var E7="exchangeDebugToken",HA={OFFSET_DURATION:300*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:960*1e3},Pbe=1440*60*1e3;var v1=class{constructor(t,e,i,r,o){if(this.operation=t,this.retryPolicy=e,this.getWaitDuration=i,this.lowerBound=r,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=r,r>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(t){return T(this,null,function*(){this.stop();try{this.pending=new Li,this.pending.promise.catch(e=>{}),yield P7(this.getNextRun(t)),this.pending.resolve(),yield this.pending.promise,this.pending=new Li,this.pending.promise.catch(e=>{}),yield this.operation(),this.pending.resolve(),yield this.pending.promise,this.process(!0).catch(()=>{})}catch(e){this.retryPolicy(e)?this.process(!1).catch(()=>{}):this.stop()}})}getNextRun(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let e=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),e}}};function P7(n){return new Promise(t=>{setTimeout(t,n)})}var O7={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.","initial-throttle":"{$httpStatus} error. Attempts allowed again after {$time}",throttled:"Requests throttled due to previous {$httpStatus} error. Attempts allowed again after {$time}"},Is=new hr("appCheck","AppCheck",O7);function KA(n){if(!_r(n).activated)throw Is.create("use-before-activation",{appName:n.name})}function QA(i,r){return T(this,arguments,function*({url:n,body:t},e){let o={"Content-Type":"application/json"},s=e.getImmediate({optional:!0});if(s){let E=yield s.getHeartbeatsHeader();E&&(o["X-Firebase-Client"]=E)}let a={method:"POST",body:JSON.stringify(t),headers:o},c;try{c=yield fetch(n,a)}catch(E){throw Is.create("fetch-network-error",{originalErrorMessage:E?.message})}if(c.status!==200)throw Is.create("fetch-status-error",{httpStatus:c.status});let l;try{l=yield c.json()}catch(E){throw Is.create("fetch-parse-error",{originalErrorMessage:E?.message})}let m=l.ttl.match(/^([\d.]+)(s)$/);if(!m||!m[2]||isNaN(Number(m[1])))throw Is.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${l.ttl}`});let g=Number(m[1])*1e3,C=Date.now();return{token:l.token,expireTimeMillis:C+g,issuedAtTimeMillis:C}})}function YA(n,t){let{projectId:e,appId:i,apiKey:r}=n.options;return{url:`${M7}/projects/${e}/apps/${i}:${E7}?key=${r}`,body:{debug_token:t}}}var x7="firebase-app-check-database",I7=1,y1="firebase-app-check-store";var Im=null;function S7(){return Im||(Im=new Promise((n,t)=>{try{let e=indexedDB.open(x7,I7);e.onsuccess=i=>{n(i.target.result)},e.onerror=i=>{var r;t(Is.create("storage-open",{originalErrorMessage:(r=i.target.error)===null||r===void 0?void 0:r.message}))},e.onupgradeneeded=i=>{let r=i.target.result;switch(i.oldVersion){case 0:r.createObjectStore(y1,{keyPath:"compositeKey"})}}}catch(e){t(Is.create("storage-open",{originalErrorMessage:e?.message}))}}),Im)}function T7(n,t){return D7(A7(n),t)}function D7(n,t){return T(this,null,function*(){let i=(yield S7()).transaction(y1,"readwrite"),o=i.objectStore(y1).put({compositeKey:n,value:t});return new Promise((s,a)=>{o.onsuccess=c=>{s()},i.onerror=c=>{var l;a(Is.create("storage-set",{originalErrorMessage:(l=c.target.error)===null||l===void 0?void 0:l.message}))}})})}function A7(n){return`${n.options.appId}-${n.name}`}var Fu=new Kr("@firebase/app-check");function m1(n,t){return Mm()?T7(n,t).catch(e=>{Fu.warn(`Failed to write token to IndexedDB. Error: ${e}`)}):Promise.resolve()}function ZA(){return GA().enabled}function XA(){return T(this,null,function*(){let n=GA();if(n.enabled&&n.token)return n.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)})}var k7={error:"UNKNOWN_ERROR"};function R7(n){return ml.encodeString(JSON.stringify(n),!1)}function b1(n,t=!1,e=!1){return T(this,null,function*(){let i=n.app;KA(i);let r=_r(i),o=r.token,s;if(o&&!Bu(o)&&(r.token=void 0,o=void 0),!o){let l=yield r.cachedTokenPromise;l&&(Bu(l)?o=l:yield m1(i,void 0))}if(!t&&o&&Bu(o))return{token:o.token};let a=!1;if(ZA())try{r.exchangeTokenPromise||(r.exchangeTokenPromise=QA(YA(i,yield XA()),n.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),a=!0);let l=yield r.exchangeTokenPromise;return yield m1(i,l),r.token=l,{token:l.token}}catch(l){return l.code==="appCheck/throttled"||l.code==="appCheck/initial-throttle"?Fu.warn(l.message):e&&Fu.error(l),_1(l)}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),a=!0),o=yield _r(i).exchangeTokenPromise}catch(l){l.code==="appCheck/throttled"||l.code==="appCheck/initial-throttle"?Fu.warn(l.message):e&&Fu.error(l),s=l}let c;return o?s?Bu(o)?c={token:o.token,internalError:s}:c=_1(s):(c={token:o.token},r.token=o,yield m1(i,o)):c=_1(s),a&&B7(i,c),c})}function N7(n){return T(this,null,function*(){let t=n.app;KA(t);let{provider:e}=_r(t);if(ZA()){let i=yield XA(),{token:r}=yield QA(YA(t,i),n.heartbeatServiceProvider);return{token:r}}else{let{token:i}=yield e.getToken();return{token:i}}})}function L7(n,t,e,i){let{app:r}=n,o=_r(r),s={next:e,error:i,type:t};if(o.tokenObservers=[...o.tokenObservers,s],o.token&&Bu(o.token)){let a=o.token;Promise.resolve().then(()=>{e({token:a.token}),qA(n)}).catch(()=>{})}o.cachedTokenPromise.then(()=>qA(n))}function JA(n,t){let e=_r(n),i=e.tokenObservers.filter(r=>r.next!==t);i.length===0&&e.tokenRefresher&&e.tokenRefresher.isRunning()&&e.tokenRefresher.stop(),e.tokenObservers=i}function qA(n){let{app:t}=n,e=_r(t),i=e.tokenRefresher;i||(i=F7(n),e.tokenRefresher=i),!i.isRunning()&&e.isTokenAutoRefreshEnabled&&i.start()}function F7(n){let{app:t}=n;return new v1(()=>T(null,null,function*(){let e=_r(t),i;if(e.token?i=yield b1(n,!0):i=yield b1(n),i.error)throw i.error;if(i.internalError)throw i.internalError}),()=>!0,()=>{let e=_r(t);if(e.token){let i=e.token.issuedAtTimeMillis+(e.token.expireTimeMillis-e.token.issuedAtTimeMillis)*.5+3e5,r=e.token.expireTimeMillis-300*1e3;return i=Math.min(i,r),Math.max(0,i-Date.now())}else return 0},HA.RETRIAL_MIN_WAIT,HA.RETRIAL_MAX_WAIT)}function B7(n,t){let e=_r(n).tokenObservers;for(let i of e)try{i.type==="EXTERNAL"&&t.error!=null?i.error(t.error):i.next(t)}catch{}}function Bu(n){return n.expireTimeMillis-Date.now()>0}function _1(n){return{token:R7(k7),error:n}}var C1=class{constructor(t,e){this.app=t,this.heartbeatServiceProvider=e}_delete(){let{tokenObservers:t}=_r(this.app);for(let e of t)JA(this.app,e.next);return Promise.resolve()}};function z7(n,t){return new C1(n,t)}function V7(n){return{getToken:t=>b1(n,t),getLimitedUseToken:()=>N7(n),addTokenListener:t=>L7(n,"INTERNAL",t),removeTokenListener:t=>JA(n.app,t)}}var j7="@firebase/app-check",U7="0.10.1";var $7="app-check",WA="app-check-internal";function H7(){Ci(new Mn($7,n=>{let t=n.getProvider("app").getImmediate(),e=n.getProvider("heartbeat");return z7(t,e)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,t,e)=>{n.getProvider(WA).initialize()})),Ci(new Mn(WA,n=>{let t=n.getProvider("app-check").getImmediate();return V7(t)},"PUBLIC").setInstantiationMode("EXPLICIT")),dt(j7,U7)}H7();var q7="app-check";var Ss=class{constructor(){return xs(q7)}};var W7=["localhost","0.0.0.0","127.0.0.1"],Bbe=typeof window<"u"&&W7.includes(window.location.hostname);function gk(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var mk=gk,_k=new hr("auth","Firebase",gk());var Rm=new Kr("@firebase/auth");function G7(n,...t){Rm.logLevel<=rt.WARN&&Rm.warn(`Auth (${Yr}): ${n}`,...t)}function Tm(n,...t){Rm.logLevel<=rt.ERROR&&Rm.error(`Auth (${Yr}): ${n}`,...t)}function Fi(n,...t){throw H1(n,...t)}function vr(n,...t){return H1(n,...t)}function $1(n,t,e){let i=Object.assign(Object.assign({},mk()),{[t]:e});return new hr("auth","Firebase",i).create(t,{appName:n.name})}function No(n){return $1(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function K7(n,t,e){let i=e;if(!(t instanceof i))throw i.name!==t.constructor.name&&Fi(n,"argument-error"),$1(n,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function H1(n,...t){if(typeof n!="string"){let e=t[0],i=[...t.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(e,...i)}return _k.create(n,...t)}function be(n,t,...e){if(!n)throw H1(t,...e)}function ko(n){let t="INTERNAL ASSERTION FAILED: "+n;throw Tm(t),new Error(t)}function Lo(n,t){n||ko(t)}function E1(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function Q7(){return ek()==="http:"||ek()==="https:"}function ek(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}function Y7(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Q7()||_A()||"connection"in navigator)?navigator.onLine:!0}function Z7(){if(typeof navigator>"u")return null;let n=navigator;return n.languages&&n.languages[0]||n.language||null}var Va=class{constructor(t,e){this.shortDelay=t,this.longDelay=e,Lo(e>t,"Short delay should be less than long delay!"),this.isMobile=Tu()||wm()}get(){return Y7()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function q1(n,t){Lo(n.emulator,"Emulator should always be set here");let{url:e}=n.emulator;return t?`${e}${t.startsWith("/")?t.slice(1):t}`:e}var Nm=class{static initialize(t,e,i){this.fetchImpl=t,e&&(this.headersImpl=e),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ko("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ko("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ko("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var X7={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var J7=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],eH=new Va(3e4,6e4);function As(n,t){return n.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:n.tenantId}):t}function ks(o,s,a,c){return T(this,arguments,function*(n,t,e,i,r={}){return vk(n,r,()=>T(null,null,function*(){let l={},m={};i&&(t==="GET"?m=i:l={body:JSON.stringify(i)});let g=Es(Object.assign({key:n.config.apiKey},m)).slice(1),C=yield n._getAdditionalHeaders();C["Content-Type"]="application/json",n.languageCode&&(C["X-Firebase-Locale"]=n.languageCode);let E=Object.assign({method:t,headers:C},l);return mA()||(E.referrerPolicy="no-referrer"),n.emulatorConfig&&qr(n.emulatorConfig.host)&&(E.credentials="include"),Nm.fetch()(yield yk(n,n.config.apiHost,e,g),E)}))})}function vk(n,t,e){return T(this,null,function*(){n._canInitEmulator=!1;let i=Object.assign(Object.assign({},X7),t);try{let r=new P1(n),o=yield Promise.race([e(),r.promise]);r.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw Sm(n,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let a=o.ok?s.errorMessage:s.error.message,[c,l]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw Sm(n,"credential-already-in-use",s);if(c==="EMAIL_EXISTS")throw Sm(n,"email-already-in-use",s);if(c==="USER_DISABLED")throw Sm(n,"user-disabled",s);let m=i[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw $1(n,m,l);Fi(n,m)}}catch(r){if(r instanceof bi)throw r;Fi(n,"network-request-failed",{message:String(r)})}})}function Gu(o,s,a,c){return T(this,arguments,function*(n,t,e,i,r={}){let l=yield ks(n,t,e,i,r);return"mfaPendingCredential"in l&&Fi(n,"multi-factor-auth-required",{_serverResponse:l}),l})}function yk(n,t,e,i){return T(this,null,function*(){let r=`${t}${e}?${i}`,o=n,s=o.config.emulator?q1(n.config,r):`${n.config.apiScheme}://${r}`;return J7.includes(e)&&(yield o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(s).toString():s})}function tH(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var P1=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((e,i)=>{this.timer=setTimeout(()=>i(vr(this.auth,"network-request-failed")),eH.get())})}};function Sm(n,t,e){let i={appName:n.name};e.email&&(i.email=e.email),e.phoneNumber&&(i.phoneNumber=e.phoneNumber);let r=vr(n,t,i);return r.customData._tokenResponse=e,r}function tk(n){return n!==void 0&&n.enterprise!==void 0}var O1=class{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let e of this.recaptchaEnforcementState)if(e.provider&&e.provider===t)return tH(e.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}};function nH(n,t){return T(this,null,function*(){return ks(n,"GET","/v2/recaptchaConfig",As(n,t))})}function iH(n,t){return T(this,null,function*(){return ks(n,"POST","/v1/accounts:delete",t)})}function Lm(n,t){return T(this,null,function*(){return ks(n,"POST","/v1/accounts:lookup",t)})}function Vu(n){if(n)try{let t=new Date(Number(n));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}function W1(n,t=!1){return T(this,null,function*(){let e=Dt(n),i=yield e.getIdToken(t),r=G1(i);be(r&&r.exp&&r.auth_time&&r.iat,e.auth,"internal-error");let o=typeof r.firebase=="object"?r.firebase:void 0,s=o?.sign_in_provider;return{claims:r,token:i,authTime:Vu(w1(r.auth_time)),issuedAtTime:Vu(w1(r.iat)),expirationTime:Vu(w1(r.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function w1(n){return Number(n)*1e3}function G1(n){let[t,e,i]=n.split(".");if(t===void 0||e===void 0||i===void 0)return Tm("JWT malformed, contained fewer than 3 sections"),null;try{let r=hl(e);return r?JSON.parse(r):(Tm("Failed to decode base64 JWT payload"),null)}catch(r){return Tm("Caught error parsing JWT payload as JSON",r?.toString()),null}}function nk(n){let t=G1(n);return be(t,"internal-error"),be(typeof t.exp<"u","internal-error"),be(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}function Uu(n,t,e=!1){return T(this,null,function*(){if(e)return t;try{return yield t}catch(i){throw i instanceof bi&&rH(i)&&n.auth.currentUser===n&&(yield n.auth.signOut()),i}})}function rH({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}var x1=class{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var e;if(t){let i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;let r=((e=this.user.stsTokenManager.expirationTime)!==null&&e!==void 0?e:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(t=!1){if(!this.isRunning)return;let e=this.getInterval(t);this.timerId=setTimeout(()=>T(this,null,function*(){yield this.iteration()}),e)}iteration(){return T(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var $u=class{constructor(t,e){this.createdAt=t,this.lastLoginAt=e,this._initializeTime()}_initializeTime(){this.lastSignInTime=Vu(this.lastLoginAt),this.creationTime=Vu(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function Fm(n){return T(this,null,function*(){var t;let e=n.auth,i=yield n.getIdToken(),r=yield Uu(n,Lm(e,{idToken:i}));be(r?.users.length,e,"internal-error");let o=r.users[0];n._notifyReloadListener(o);let s=!((t=o.providerUserInfo)===null||t===void 0)&&t.length?bk(o.providerUserInfo):[],a=oH(n.providerData,s),c=n.isAnonymous,l=!(n.email&&o.passwordHash)&&!a?.length,m=c?l:!1,g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new $u(o.createdAt,o.lastLoginAt),isAnonymous:m};Object.assign(n,g)})}function K1(n){return T(this,null,function*(){let t=Dt(n);yield Fm(t),yield t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)})}function oH(n,t){return[...n.filter(i=>!t.some(r=>r.providerId===i.providerId)),...t]}function bk(n){return n.map(t=>{var{providerId:e}=t,i=wp(t,["providerId"]);return{providerId:e,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}function sH(n,t){return T(this,null,function*(){let e=yield vk(n,{},()=>T(null,null,function*(){let i=Es({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:o}=n.config,s=yield yk(n,r,"/v1/token",`key=${o}`),a=yield n._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";let c={method:"POST",headers:a,body:i};return n.emulatorConfig&&qr(n.emulatorConfig.host)&&(c.credentials="include"),Nm.fetch()(s,c)}));return{accessToken:e.access_token,expiresIn:e.expires_in,refreshToken:e.refresh_token}})}function aH(n,t){return T(this,null,function*(){return ks(n,"POST","/v2/accounts:revokeToken",As(n,t))})}var ju=class n{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){be(t.idToken,"internal-error"),be(typeof t.idToken<"u","internal-error"),be(typeof t.refreshToken<"u","internal-error");let e="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):nk(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,e)}updateFromIdToken(t){be(t.length!==0,"internal-error");let e=nk(t);this.updateTokensAndExpiration(t,null,e)}getToken(t,e=!1){return T(this,null,function*(){return!e&&this.accessToken&&!this.isExpired?this.accessToken:(be(this.refreshToken,t,"user-token-expired"),this.refreshToken?(yield this.refresh(t,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(t,e){return T(this,null,function*(){let{accessToken:i,refreshToken:r,expiresIn:o}=yield sH(t,e);this.updateTokensAndExpiration(i,r,Number(o))})}updateTokensAndExpiration(t,e,i){this.refreshToken=e||null,this.accessToken=t||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(t,e){let{refreshToken:i,accessToken:r,expirationTime:o}=e,s=new n;return i&&(be(typeof i=="string","internal-error",{appName:t}),s.refreshToken=i),r&&(be(typeof r=="string","internal-error",{appName:t}),s.accessToken=r),o&&(be(typeof o=="number","internal-error",{appName:t}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new n,this.toJSON())}_performRefresh(){return ko("not implemented")}};function Ts(n,t){be(typeof n=="string"||typeof n>"u","internal-error",{appName:t})}var Ds=class n{constructor(t){var{uid:e,auth:i,stsTokenManager:r}=t,o=wp(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new x1(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new $u(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(t){return T(this,null,function*(){let e=yield Uu(this,this.stsTokenManager.getToken(this.auth,t));return be(e,this.auth,"internal-error"),this.accessToken!==e&&(this.accessToken=e,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),e})}getIdTokenResult(t){return W1(this,t)}reload(){return K1(this)}_assign(t){this!==t&&(be(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(e=>Object.assign({},e)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){let e=new n(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return e.metadata._copy(this.metadata),e}_onReload(t){be(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(t,e=!1){return T(this,null,function*(){let i=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),i=!0),e&&(yield Fm(this)),yield this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)})}delete(){return T(this,null,function*(){if(En(this.auth.app))return Promise.reject(No(this.auth));let t=yield this.getIdToken();return yield Uu(this,iH(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,e){var i,r,o,s,a,c,l,m;let g=(i=e.displayName)!==null&&i!==void 0?i:void 0,C=(r=e.email)!==null&&r!==void 0?r:void 0,E=(o=e.phoneNumber)!==null&&o!==void 0?o:void 0,S=(s=e.photoURL)!==null&&s!==void 0?s:void 0,k=(a=e.tenantId)!==null&&a!==void 0?a:void 0,R=(c=e._redirectEventId)!==null&&c!==void 0?c:void 0,V=(l=e.createdAt)!==null&&l!==void 0?l:void 0,ae=(m=e.lastLoginAt)!==null&&m!==void 0?m:void 0,{uid:Ce,emailVerified:ue,isAnonymous:st,providerData:Xe,stsTokenManager:ot}=e;be(Ce&&ot,t,"internal-error");let vt=ju.fromJSON(this.name,ot);be(typeof Ce=="string",t,"internal-error"),Ts(g,t.name),Ts(C,t.name),be(typeof ue=="boolean",t,"internal-error"),be(typeof st=="boolean",t,"internal-error"),Ts(E,t.name),Ts(S,t.name),Ts(k,t.name),Ts(R,t.name),Ts(V,t.name),Ts(ae,t.name);let at=new n({uid:Ce,auth:t,email:C,emailVerified:ue,displayName:g,isAnonymous:st,photoURL:S,phoneNumber:E,tenantId:k,stsTokenManager:vt,createdAt:V,lastLoginAt:ae});return Xe&&Array.isArray(Xe)&&(at.providerData=Xe.map(Gn=>Object.assign({},Gn))),R&&(at._redirectEventId=R),at}static _fromIdTokenResponse(t,e,i=!1){return T(this,null,function*(){let r=new ju;r.updateFromServerResponse(e);let o=new n({uid:e.localId,auth:t,stsTokenManager:r,isAnonymous:i});return yield Fm(o),o})}static _fromGetAccountInfoResponse(t,e,i){return T(this,null,function*(){let r=e.users[0];be(r.localId!==void 0,"internal-error");let o=r.providerUserInfo!==void 0?bk(r.providerUserInfo):[],s=!(r.email&&r.passwordHash)&&!o?.length,a=new ju;a.updateFromIdToken(i);let c=new n({uid:r.localId,auth:t,stsTokenManager:a,isAnonymous:s}),l={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:o,metadata:new $u(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!o?.length};return Object.assign(c,l),c})}};var ik=new Map;function Ro(n){Lo(n instanceof Function,"Expected a class definition");let t=ik.get(n);return t?(Lo(t instanceof n,"Instance stored in cache mismatched with class"),t):(t=new n,ik.set(n,t),t)}var cH=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return T(this,null,function*(){return!0})}_set(e,i){return T(this,null,function*(){this.storage[e]=i})}_get(e){return T(this,null,function*(){let i=this.storage[e];return i===void 0?null:i})}_remove(e){return T(this,null,function*(){delete this.storage[e]})}_addListener(e,i){}_removeListener(e,i){}}return n.type="NONE",n})(),I1=cH;function Dm(n,t,e){return`firebase:${n}:${t}:${e}`}var Bm=class n{constructor(t,e,i){this.persistence=t,this.auth=e,this.userKey=i;let{config:r,name:o}=this.auth;this.fullUserKey=Dm(this.userKey,r.apiKey,o),this.fullPersistenceKey=Dm("persistence",r.apiKey,o),this.boundEventHandler=e._onStorageEvent.bind(e),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}getCurrentUser(){return T(this,null,function*(){let t=yield this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){let e=yield Lm(this.auth,{idToken:t}).catch(()=>{});return e?Ds._fromGetAccountInfoResponse(this.auth,e,t):null}return Ds._fromJSON(this.auth,t)})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(t){return T(this,null,function*(){if(this.persistence===t)return;let e=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=t,e)return this.setCurrentUser(e)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(t,e,i="authUser"){return T(this,null,function*(){if(!e.length)return new n(Ro(I1),t,i);let r=(yield Promise.all(e.map(l=>T(null,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),o=r[0]||Ro(I1),s=Dm(i,t.config.apiKey,t.name),a=null;for(let l of e)try{let m=yield l._get(s);if(m){let g;if(typeof m=="string"){let C=yield Lm(t,{idToken:m}).catch(()=>{});if(!C)break;g=yield Ds._fromGetAccountInfoResponse(t,C,m)}else g=Ds._fromJSON(t,m);l!==o&&(a=g),o=l;break}}catch{}let c=r.filter(l=>l._shouldAllowMigration);return!o._shouldAllowMigration||!c.length?new n(o,t,i):(o=c[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(e.map(l=>T(null,null,function*(){if(l!==o)try{yield l._remove(s)}catch{}}))),new n(o,t,i))})}};function rk(n){let t=n.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Ek(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Ck(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Ok(t))return"Blackberry";if(xk(t))return"Webos";if(wk(t))return"Safari";if((t.includes("chrome/")||Mk(t))&&!t.includes("edge/"))return"Chrome";if(Pk(t))return"Android";{let e=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(e);if(i?.length===2)return i[1]}return"Other"}function Ck(n=Ln()){return/firefox\//i.test(n)}function wk(n=Ln()){let t=n.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function Mk(n=Ln()){return/crios\//i.test(n)}function Ek(n=Ln()){return/iemobile/i.test(n)}function Pk(n=Ln()){return/android/i.test(n)}function Ok(n=Ln()){return/blackberry/i.test(n)}function xk(n=Ln()){return/webos/i.test(n)}function Q1(n=Ln()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function lH(n=Ln()){var t;return Q1(n)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function dH(){return vA()&&document.documentMode===10}function Ik(n=Ln()){return Q1(n)||Pk(n)||xk(n)||Ok(n)||/windows phone/i.test(n)||Ek(n)}function Sk(n,t=[]){let e;switch(n){case"Browser":e=rk(Ln());break;case"Worker":e=`${rk(Ln())}-${n}`;break;default:e=n}let i=t.length?t.join(","):"FirebaseCore-web";return`${e}/JsCore/${Yr}/${i}`}var S1=class{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,e){let i=o=>new Promise((s,a)=>{try{let c=t(o);s(c)}catch(c){a(c)}});i.onAbort=e,this.queue.push(i);let r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}runMiddleware(t){return T(this,null,function*(){if(this.auth.currentUser===t)return;let e=[];try{for(let i of this.queue)yield i(t),i.onAbort&&e.push(i.onAbort)}catch(i){e.reverse();for(let r of e)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})}};function uH(e){return T(this,arguments,function*(n,t={}){return ks(n,"GET","/v2/passwordPolicy",As(n,t))})}var fH=6,T1=class{constructor(t){var e,i,r,o;let s=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(e=s.minPasswordLength)!==null&&e!==void 0?e:fH,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(r=(i=t.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&r!==void 0?r:"",this.forceUpgradeOnSignin=(o=t.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var e,i,r,o,s,a;let c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,c),this.validatePasswordCharacterOptions(t,c),c.isValid&&(c.isValid=(e=c.meetsMinPasswordLength)!==null&&e!==void 0?e:!0),c.isValid&&(c.isValid=(i=c.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(r=c.containsLowercaseLetter)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(o=c.containsUppercaseLetter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(s=c.containsNumericCharacter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(a=c.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),c}validatePasswordLengthOptions(t,e){let i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(e.meetsMinPasswordLength=t.length>=i),r&&(e.meetsMaxPasswordLength=t.length<=r)}validatePasswordCharacterOptions(t,e){this.updatePasswordCharacterOptionsStatuses(e,!1,!1,!1,!1);let i;for(let r=0;r<t.length;r++)i=t.charAt(r),this.updatePasswordCharacterOptionsStatuses(e,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(t,e,i,r,o){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=e)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=o))}};var D1=class{constructor(t,e,i,r){this.app=t,this.heartbeatServiceProvider=e,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new zm(this),this.idTokenSubscription=new zm(this),this.beforeStateQueue=new S1(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=_k,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(t,e){return e&&(this._popupRedirectResolver=Ro(e)),this._initializationPromise=this.queue(()=>T(this,null,function*(){var i,r,o;if(!this._deleted&&(this.persistenceManager=yield Bm.create(this,t),(i=this._resolvePersistenceManagerAvailable)===null||i===void 0||i.call(this),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(e),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return T(this,null,function*(){if(this._deleted)return;let t=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(t,!0)}})}initializeCurrentUserFromIdToken(t){return T(this,null,function*(){try{let e=yield Lm(this,{idToken:t}),i=yield Ds._fromGetAccountInfoResponse(this,e,t);yield this.directlySetCurrentUser(i)}catch(e){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",e),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(t){return T(this,null,function*(){var e;if(En(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}let i=yield this.assertedPersistence.getCurrentUser(),r=i,o=!1;if(t&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(e=this.redirectUser)===null||e===void 0?void 0:e._redirectEventId,a=r?._redirectEventId,c=yield this.tryRedirectSignIn(t);(!s||s===a)&&c?.user&&(r=c.user,o=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(r)}catch(s){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return be(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)})}tryRedirectSignIn(t){return T(this,null,function*(){let e=null;try{e=yield this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{yield this._setRedirectUser(null)}return e})}reloadAndSetCurrentUserOrClear(t){return T(this,null,function*(){try{yield Fm(t)}catch(e){if(e?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)})}useDeviceLanguage(){this.languageCode=Z7()}_delete(){return T(this,null,function*(){this._deleted=!0})}updateCurrentUser(t){return T(this,null,function*(){if(En(this.app))return Promise.reject(No(this));let e=t?Dt(t):null;return e&&be(e.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(e&&e._clone(this))})}_updateCurrentUser(t,e=!1){return T(this,null,function*(){if(!this._deleted)return t&&be(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e||(yield this.beforeStateQueue.runMiddleware(t)),this.queue(()=>T(this,null,function*(){yield this.directlySetCurrentUser(t),this.notifyAuthListeners()}))})}signOut(){return T(this,null,function*(){return En(this.app)?Promise.reject(No(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(t){return En(this.app)?Promise.reject(No(this)):this.queue(()=>T(this,null,function*(){yield this.assertedPersistence.setPersistence(Ro(t))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(t){return T(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let e=this._getPasswordPolicyInternal();return e.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):e.validatePassword(t)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return T(this,null,function*(){let t=yield uH(this),e=new T1(t);this.tenantId===null?this._projectPasswordPolicy=e:this._tenantPasswordPolicies[this.tenantId]=e})}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new hr("auth","Firebase",t())}onAuthStateChanged(t,e,i){return this.registerStateListener(this.authStateSubscription,t,e,i)}beforeAuthStateChanged(t,e){return this.beforeStateQueue.pushCallback(t,e)}onIdTokenChanged(t,e,i){return this.registerStateListener(this.idTokenSubscription,t,e,i)}authStateReady(){return new Promise((t,e)=>{if(this.currentUser)t();else{let i=this.onAuthStateChanged(()=>{i(),t()},e)}})}revokeAccessToken(t){return T(this,null,function*(){if(this.currentUser){let e=yield this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:e};this.tenantId!=null&&(i.tenantId=this.tenantId),yield aH(this,i)}})}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}_setRedirectUser(t,e){return T(this,null,function*(){let i=yield this.getOrInitRedirectPersistenceManager(e);return t===null?i.removeCurrentUser():i.setCurrentUser(t)})}getOrInitRedirectPersistenceManager(t){return T(this,null,function*(){if(!this.redirectPersistenceManager){let e=t&&Ro(t)||this._popupRedirectResolver;be(e,this,"argument-error"),this.redirectPersistenceManager=yield Bm.create(this,[Ro(e._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(t){return T(this,null,function*(){var e,i;return this._isInitialized&&(yield this.queue(()=>T(this,null,function*(){}))),((e=this._currentUser)===null||e===void 0?void 0:e._redirectEventId)===t?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===t?this.redirectUser:null})}_persistUserIfCurrent(t){return T(this,null,function*(){if(t===this.currentUser)return this.queue(()=>T(this,null,function*(){return this.directlySetCurrentUser(t)}))})}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,e;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let i=(e=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&e!==void 0?e:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,e,i,r){if(this._deleted)return()=>{};let o=typeof e=="function"?e:e.next.bind(e),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(be(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof e=="function"){let c=t.addObserver(e,i,r);return()=>{s=!0,c()}}else{let c=t.addObserver(e);return()=>{s=!0,c()}}}directlySetCurrentUser(t){return T(this,null,function*(){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?yield this.assertedPersistence.setCurrentUser(t):yield this.assertedPersistence.removeCurrentUser()})}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return be(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=Sk(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return T(this,null,function*(){var t;let e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);let i=yield(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader();i&&(e["X-Firebase-Client"]=i);let r=yield this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e})}_getAppCheckToken(){return T(this,null,function*(){var t;if(En(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let e=yield(t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken();return e?.error&&G7(`Error while retrieving App Check token: ${e.error}`),e?.token})}};function Rs(n){return Dt(n)}var zm=class{constructor(t){this.auth=t,this.observer=null,this.addObserver=MA(e=>this.observer=e)}get next(){return be(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var Km={loadJS(){return T(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function pH(n){Km=n}function Tk(n){return Km.loadJS(n)}function hH(){return Km.recaptchaEnterpriseScript}function gH(){return Km.gapiScript}function Dk(n){return`__${n}${Math.floor(Math.random()*1e6)}`}var A1=class{constructor(){this.enterprise=new k1}ready(t){t()}execute(t,e){return Promise.resolve("token")}render(t,e){return""}},k1=class{ready(t){t()}execute(t,e){return Promise.resolve("token")}render(t,e){return""}};var mH="recaptcha-enterprise",Ak="NO_RECAPTCHA",R1=class{constructor(t){this.type=mH,this.auth=Rs(t)}verify(t="verify",e=!1){return T(this,null,function*(){function i(o){return T(this,null,function*(){if(!e){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise((s,a)=>T(null,null,function*(){nH(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{let l=new O1(c);return o.tenantId==null?o._agentRecaptchaConfig=l:o._tenantRecaptchaConfigs[o.tenantId]=l,s(l.siteKey)}}).catch(c=>{a(c)})}))})}function r(o,s,a){let c=window.grecaptcha;tk(c)?c.enterprise.ready(()=>{c.enterprise.execute(o,{action:t}).then(l=>{s(l)}).catch(()=>{s(Ak)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new A1().execute("siteKey",{action:"verify"}):new Promise((o,s)=>{i(this.auth).then(a=>{if(!e&&tk(window.grecaptcha))r(a,o,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let c=hH();c.length!==0&&(c+=a),Tk(c).then(()=>{r(a,o,s)}).catch(l=>{s(l)})}}).catch(a=>{s(a)})})})}};function zu(n,t,e,i=!1,r=!1){return T(this,null,function*(){let o=new R1(n),s;if(r)s=Ak;else try{s=yield o.verify(e)}catch{s=yield o.verify(e,!0)}let a=Object.assign({},t);if(e==="mfaSmsEnrollment"||e==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){let c=a.phoneEnrollmentInfo.phoneNumber,l=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:c,recaptchaToken:l,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){let c=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:c,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return i?Object.assign(a,{captchaResp:s}):Object.assign(a,{captchaResponse:s}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a})}function N1(n,t,e,i,r){return T(this,null,function*(){var o,s;if(r==="EMAIL_PASSWORD_PROVIDER")if(!((o=n._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let a=yield zu(n,t,e,e==="getOobCode");return i(n,a)}else return i(n,t).catch(a=>T(null,null,function*(){if(a.code==="auth/missing-recaptcha-token"){console.log(`${e} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let c=yield zu(n,t,e,e==="getOobCode");return i(n,c)}else return Promise.reject(a)}));else if(r==="PHONE_PROVIDER")if(!((s=n._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("PHONE_PROVIDER")){let a=yield zu(n,t,e);return i(n,a).catch(c=>T(null,null,function*(){var l;if(((l=n._getRecaptchaConfig())===null||l===void 0?void 0:l.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"&&(c.code==="auth/missing-recaptcha-token"||c.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${e} flow.`);let m=yield zu(n,t,e,!1,!0);return i(n,m)}return Promise.reject(c)}))}else{let a=yield zu(n,t,e,!1,!0);return i(n,a)}else return Promise.reject(r+" provider is not supported.")})}function Y1(n,t){let e=Os(n,"auth");if(e.isInitialized()){let r=e.getImmediate(),o=e.getOptions();if(Gr(o,t??{}))return r;Fi(r,"already-initialized")}return e.initialize({options:t})}function _H(n,t){let e=t?.persistence||[],i=(Array.isArray(e)?e:[e]).map(Ro);t?.errorMap&&n._updateErrorMap(t.errorMap),n._initializeWithPersistence(i,t?.popupRedirectResolver)}function Z1(n,t,e){let i=Rs(n);be(/^https?:\/\//.test(t),i,"invalid-emulator-scheme");let r=!!e?.disableWarnings,o=kk(t),{host:s,port:a}=vH(t),c=a===null?"":`:${a}`,l={url:`${o}//${s}${c}/`},m=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:r})});if(!i._canInitEmulator){be(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),be(Gr(l,i.config.emulator)&&Gr(m,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=l,i.emulatorConfig=m,i.settings.appVerificationDisabledForTesting=!0,qr(s)?(_l(`${o}//${s}${c}`),vl("Auth",!0)):r||yH()}function kk(n){let t=n.indexOf(":");return t<0?"":n.substr(0,t+1)}function vH(n){let t=kk(n),e=/(\/\/)?([^?#/]+)/.exec(n.substr(t.length));if(!e)return{host:"",port:null};let i=e[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){let o=r[1];return{host:o,port:ok(i.substr(o.length+1))}}else{let[o,s]=i.split(":");return{host:o,port:ok(s)}}}function ok(n){if(!n)return null;let t=Number(n);return isNaN(t)?null:t}function yH(){function n(){let t=document.createElement("p"),e=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",e.position="fixed",e.width="100%",e.backgroundColor="#ffffff",e.border=".1em solid #000000",e.color="#b50000",e.bottom="0px",e.left="0px",e.margin="0px",e.zIndex="10000",e.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}var El=class{constructor(t,e){this.providerId=t,this.signInMethod=e}toJSON(){return ko("not implemented")}_getIdTokenResponse(t){return ko("not implemented")}_linkToIdToken(t,e){return ko("not implemented")}_getReauthenticationResolver(t){return ko("not implemented")}};function bH(n,t){return T(this,null,function*(){return ks(n,"POST","/v1/accounts:signUp",t)})}function CH(n,t){return T(this,null,function*(){return Gu(n,"POST","/v1/accounts:signInWithPassword",As(n,t))})}function wH(n,t){return T(this,null,function*(){return Gu(n,"POST","/v1/accounts:signInWithEmailLink",As(n,t))})}function MH(n,t){return T(this,null,function*(){return Gu(n,"POST","/v1/accounts:signInWithEmailLink",As(n,t))})}var Hu=class n extends El{constructor(t,e,i,r=null){super("password",i),this._email=t,this._password=e,this._tenantId=r}static _fromEmailAndPassword(t,e){return new n(t,e,"password")}static _fromEmailAndCode(t,e,i=null){return new n(t,e,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){let e=typeof t=="string"?JSON.parse(t):t;if(e?.email&&e?.password){if(e.signInMethod==="password")return this._fromEmailAndPassword(e.email,e.password);if(e.signInMethod==="emailLink")return this._fromEmailAndCode(e.email,e.password,e.tenantId)}return null}_getIdTokenResponse(t){return T(this,null,function*(){switch(this.signInMethod){case"password":let e={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return N1(t,e,"signInWithPassword",CH,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return wH(t,{email:this._email,oobCode:this._password});default:Fi(t,"internal-error")}})}_linkToIdToken(t,e){return T(this,null,function*(){switch(this.signInMethod){case"password":let i={idToken:e,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return N1(t,i,"signUpPassword",bH,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return MH(t,{idToken:e,email:this._email,oobCode:this._password});default:Fi(t,"internal-error")}})}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}};function Ml(n,t){return T(this,null,function*(){return Gu(n,"POST","/v1/accounts:signInWithIdp",As(n,t))})}var EH="http://localhost",Vm=class n extends El{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){let e=new n(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(e.idToken=t.idToken),t.accessToken&&(e.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(e.nonce=t.nonce),t.pendingToken&&(e.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(e.accessToken=t.oauthToken,e.secret=t.oauthTokenSecret):Fi("argument-error"),e}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){let e=typeof t=="string"?JSON.parse(t):t,{providerId:i,signInMethod:r}=e,o=wp(e,["providerId","signInMethod"]);if(!i||!r)return null;let s=new n(i,r);return s.idToken=o.idToken||void 0,s.accessToken=o.accessToken||void 0,s.secret=o.secret,s.nonce=o.nonce,s.pendingToken=o.pendingToken||null,s}_getIdTokenResponse(t){let e=this.buildRequest();return Ml(t,e)}_linkToIdToken(t,e){let i=this.buildRequest();return i.idToken=e,Ml(t,i)}_getReauthenticationResolver(t){let e=this.buildRequest();return e.autoCreate=!1,Ml(t,e)}buildRequest(){let t={requestUri:EH,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{let e={};this.idToken&&(e.id_token=this.idToken),this.accessToken&&(e.access_token=this.accessToken),this.secret&&(e.oauth_token_secret=this.secret),e.providerId=this.providerId,this.nonce&&!this.pendingToken&&(e.nonce=this.nonce),t.postBody=Es(e)}return t}};function PH(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function OH(n){let t=yl(bl(n)).link,e=t?yl(bl(t)).deep_link_id:null,i=yl(bl(n)).deep_link_id;return(i?yl(bl(i)).link:null)||i||e||t||n}var jm=class n{constructor(t){var e,i,r,o,s,a;let c=yl(bl(t)),l=(e=c.apiKey)!==null&&e!==void 0?e:null,m=(i=c.oobCode)!==null&&i!==void 0?i:null,g=PH((r=c.mode)!==null&&r!==void 0?r:null);be(l&&m&&g,"argument-error"),this.apiKey=l,this.operation=g,this.code=m,this.continueUrl=(o=c.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(s=c.lang)!==null&&s!==void 0?s:null,this.tenantId=(a=c.tenantId)!==null&&a!==void 0?a:null}static parseLink(t){let e=OH(t);try{return new n(e)}catch{return null}}};var Rk=(()=>{class n{constructor(){this.providerId=n.PROVIDER_ID}static credential(e,i){return Hu._fromEmailAndPassword(e,i)}static credentialWithLink(e,i){let r=jm.parseLink(i);return be(r,"argument-error"),Hu._fromEmailAndCode(e,r.code,r.tenantId)}}n.PROVIDER_ID="password",n.EMAIL_PASSWORD_SIGN_IN_METHOD="password",n.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return n})(),qu=class{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}};var Um=class extends qu{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}};var X1=(()=>{class n extends Um{constructor(){super("google.com"),this.addScope("profile")}static credential(e,i){return Vm._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:i})}static credentialFromResult(e){return n.credentialFromTaggedObject(e)}static credentialFromError(e){return n.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;let{oauthIdToken:i,oauthAccessToken:r}=e;if(!i&&!r)return null;try{return n.credential(i,r)}catch{return null}}}n.GOOGLE_SIGN_IN_METHOD="google.com",n.PROVIDER_ID="google.com";return n})();function xH(n,t){return T(this,null,function*(){return Gu(n,"POST","/v1/accounts:signUp",As(n,t))})}var Pl=class n{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static _fromIdTokenResponse(t,e,i,r=!1){return T(this,null,function*(){let o=yield Ds._fromIdTokenResponse(t,i,r),s=sk(i);return new n({user:o,providerId:s,_tokenResponse:i,operationType:e})})}static _forOperation(t,e,i){return T(this,null,function*(){yield t._updateTokensIfNecessary(i,!0);let r=sk(i);return new n({user:t,providerId:r,_tokenResponse:i,operationType:e})})}};function sk(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}var L1=class n extends bi{constructor(t,e,i,r){var o;super(e.code,e.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,n.prototype),this.customData={appName:t.name,tenantId:(o=t.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:e.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(t,e,i,r){return new n(t,e,i,r)}};function Nk(n,t,e,i){return(t==="reauthenticate"?e._getReauthenticationResolver(n):e._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?L1._fromErrorAndOperation(n,o,t,i):o})}function IH(n,t,e=!1){return T(this,null,function*(){let i=yield Uu(n,t._linkToIdToken(n.auth,yield n.getIdToken()),e);return Pl._forOperation(n,"link",i)})}function SH(n,t,e=!1){return T(this,null,function*(){let{auth:i}=n;if(En(i.app))return Promise.reject(No(i));let r="reauthenticate";try{let o=yield Uu(n,Nk(i,r,t,n),e);be(o.idToken,i,"internal-error");let s=G1(o.idToken);be(s,i,"internal-error");let{sub:a}=s;return be(n.uid===a,i,"user-mismatch"),Pl._forOperation(n,r,o)}catch(o){throw o?.code==="auth/user-not-found"&&Fi(i,"user-mismatch"),o}})}function Lk(n,t,e=!1){return T(this,null,function*(){if(En(n.app))return Promise.reject(No(n));let i="signIn",r=yield Nk(n,i,t),o=yield Pl._fromIdTokenResponse(n,i,r);return e||(yield n._updateCurrentUser(o.user)),o})}function J1(n,t){return T(this,null,function*(){return Lk(Rs(n),t)})}function Fk(n){return T(this,null,function*(){let t=Rs(n);t._getPasswordPolicyInternal()&&(yield t._updatePasswordPolicy())})}function eM(n,t,e){return T(this,null,function*(){if(En(n.app))return Promise.reject(No(n));let i=Rs(n),s=yield N1(i,{returnSecureToken:!0,email:t,password:e,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",xH,"EMAIL_PASSWORD_PROVIDER").catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&Fk(n),c}),a=yield Pl._fromIdTokenResponse(i,"signIn",s);return yield i._updateCurrentUser(a.user),a})}function tM(n,t,e){return En(n.app)?Promise.reject(No(n)):J1(Dt(n),Rk.credential(t,e)).catch(i=>T(null,null,function*(){throw i.code==="auth/password-does-not-meet-requirements"&&Fk(n),i}))}function Qm(n,t,e,i){return Dt(n).onIdTokenChanged(t,e,i)}function nM(n,t,e){return Dt(n).beforeAuthStateChanged(t,e)}function Ym(n,t,e,i){return Dt(n).onAuthStateChanged(t,e,i)}function iM(n){return Dt(n).signOut()}var $m="__sak";var Hm=class{constructor(t,e){this.storageRetriever=t,this.type=e}_isAvailable(){try{return this.storage?(this.storage.setItem($m,"1"),this.storage.removeItem($m),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,e){return this.storage.setItem(t,JSON.stringify(e)),Promise.resolve()}_get(t){let e=this.storage.getItem(t);return Promise.resolve(e?JSON.parse(e):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}};var TH=1e3,DH=10,AH=(()=>{class n extends Hm{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,i)=>this.onStorageEvent(e,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Ik(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(let i of Object.keys(this.listeners)){let r=this.storage.getItem(i),o=this.localCache[i];r!==o&&e(i,o,r)}}onStorageEvent(e,i=!1){if(!e.key){this.forAllChangedKeys((a,c,l)=>{this.notifyListeners(a,l)});return}let r=e.key;i?this.detachListener():this.stopPolling();let o=()=>{let a=this.storage.getItem(r);!i&&this.localCache[r]===a||this.notifyListeners(r,a)},s=this.storage.getItem(r);dH()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,DH):o()}notifyListeners(e,i){this.localCache[e]=i;let r=this.listeners[e];if(r)for(let o of Array.from(r))o(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,i,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:i,newValue:r}),!0)})},TH)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(e,i){return T(this,null,function*(){yield Zs(n.prototype,this,"_set").call(this,e,i),this.localCache[e]=JSON.stringify(i)})}_get(e){return T(this,null,function*(){let i=yield Zs(n.prototype,this,"_get").call(this,e);return this.localCache[e]=JSON.stringify(i),i})}_remove(e){return T(this,null,function*(){yield Zs(n.prototype,this,"_remove").call(this,e),delete this.localCache[e]})}}return n.type="LOCAL",n})(),Bk=AH;var kH=(()=>{class n extends Hm{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,i){}_removeListener(e,i){}}return n.type="SESSION",n})(),rM=kH;function RH(n){return Promise.all(n.map(t=>T(null,null,function*(){try{return{fulfilled:!0,value:yield t}}catch(e){return{fulfilled:!1,reason:e}}})))}var NH=(()=>{class n{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){let i=this.receivers.find(o=>o.isListeningto(e));if(i)return i;let r=new n(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}handleEvent(e){return T(this,null,function*(){let i=e,{eventId:r,eventType:o,data:s}=i.data,a=this.handlersMap[o];if(!a?.size)return;i.ports[0].postMessage({status:"ack",eventId:r,eventType:o});let c=Array.from(a).map(m=>T(this,null,function*(){return m(i.origin,s)})),l=yield RH(c);i.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:l})})}_subscribe(e,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(i)}_unsubscribe(e,i){this.handlersMap[e]&&i&&this.handlersMap[e].delete(i),(!i||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}n.receivers=[];return n})();function oM(n="",t=10){let e="";for(let i=0;i<t;i++)e+=Math.floor(Math.random()*10);return n+e}var F1=class{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}_send(t,e,i=50){return T(this,null,function*(){let r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let o,s;return new Promise((a,c)=>{let l=oM("",20);r.port1.start();let m=setTimeout(()=>{c(new Error("unsupported_event"))},i);s={messageChannel:r,onMessage(g){let C=g;if(C.data.eventId===l)switch(C.data.status){case"ack":clearTimeout(m),o=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(C.data.response);break;default:clearTimeout(m),clearTimeout(o),c(new Error("invalid_response"));break}}},this.handlers.add(s),r.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:t,eventId:l,data:e},[r.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})})}};function Jr(){return window}function LH(n){Jr().location.href=n}function zk(){return typeof Jr().WorkerGlobalScope<"u"&&typeof Jr().importScripts=="function"}function FH(){return T(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function BH(){var n;return((n=navigator?.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function zH(){return zk()?self:null}var Vk="firebaseLocalStorageDb",VH=1,qm="firebaseLocalStorage",jk="fbase_key",ja=class{constructor(t){this.request=t}toPromise(){return new Promise((t,e)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{e(this.request.error)})})}};function Zm(n,t){return n.transaction([qm],t?"readwrite":"readonly").objectStore(qm)}function jH(){let n=indexedDB.deleteDatabase(Vk);return new ja(n).toPromise()}function B1(){let n=indexedDB.open(Vk,VH);return new Promise((t,e)=>{n.addEventListener("error",()=>{e(n.error)}),n.addEventListener("upgradeneeded",()=>{let i=n.result;try{i.createObjectStore(qm,{keyPath:jk})}catch(r){e(r)}}),n.addEventListener("success",()=>T(null,null,function*(){let i=n.result;i.objectStoreNames.contains(qm)?t(i):(i.close(),yield jH(),t(yield B1()))}))})}function ak(n,t,e){return T(this,null,function*(){let i=Zm(n,!0).put({[jk]:t,value:e});return new ja(i).toPromise()})}function UH(n,t){return T(this,null,function*(){let e=Zm(n,!1).get(t),i=yield new ja(e).toPromise();return i===void 0?null:i.value})}function ck(n,t){let e=Zm(n,!0).delete(t);return new ja(e).toPromise()}var $H=800,HH=3,qH=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return T(this,null,function*(){return this.db?this.db:(this.db=yield B1(),this.db)})}_withRetries(e){return T(this,null,function*(){let i=0;for(;;)try{let r=yield this._openDb();return yield e(r)}catch(r){if(i++>HH)throw r;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return T(this,null,function*(){return zk()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return T(this,null,function*(){this.receiver=NH._getInstance(zH()),this.receiver._subscribe("keyChanged",(e,i)=>T(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(i.key)}})),this.receiver._subscribe("ping",(e,i)=>T(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return T(this,null,function*(){var e,i;if(this.activeServiceWorker=yield FH(),!this.activeServiceWorker)return;this.sender=new F1(this.activeServiceWorker);let r=yield this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((i=r[0])===null||i===void 0)&&i.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(e){return T(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||BH()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return T(this,null,function*(){try{if(!indexedDB)return!1;let e=yield B1();return yield ak(e,$m,"1"),yield ck(e,$m),!0}catch{}return!1})}_withPendingWrite(e){return T(this,null,function*(){this.pendingWrites++;try{yield e()}finally{this.pendingWrites--}})}_set(e,i){return T(this,null,function*(){return this._withPendingWrite(()=>T(this,null,function*(){return yield this._withRetries(r=>ak(r,e,i)),this.localCache[e]=i,this.notifyServiceWorker(e)}))})}_get(e){return T(this,null,function*(){let i=yield this._withRetries(r=>UH(r,e));return this.localCache[e]=i,i})}_remove(e){return T(this,null,function*(){return this._withPendingWrite(()=>T(this,null,function*(){return yield this._withRetries(i=>ck(i,e)),delete this.localCache[e],this.notifyServiceWorker(e)}))})}_poll(){return T(this,null,function*(){let e=yield this._withRetries(o=>{let s=Zm(o,!1).getAll();return new ja(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];let i=[],r=new Set;if(e.length!==0)for(let{fbase_key:o,value:s}of e)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(s)&&(this.notifyListeners(o,s),i.push(o));for(let o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),i.push(o));return i})}notifyListeners(e,i){this.localCache[e]=i;let r=this.listeners[e];if(r)for(let o of Array.from(r))o(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>T(this,null,function*(){return this._poll()}),$H)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return n.type="LOCAL",n})(),Uk=qH;var Wbe=Dk("rcb"),Gbe=new Va(3e4,6e4);function $k(n,t){return t?Ro(t):(be(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}var Wu=class extends El{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Ml(t,this._buildIdpRequest())}_linkToIdToken(t,e){return Ml(t,this._buildIdpRequest(e))}_getReauthenticationResolver(t){return Ml(t,this._buildIdpRequest())}_buildIdpRequest(t){let e={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(e.idToken=t),e}};function WH(n){return Lk(n.auth,new Wu(n),n.bypassAuthState)}function GH(n){let{auth:t,user:e}=n;return be(e,t,"internal-error"),SH(e,new Wu(n),n.bypassAuthState)}function KH(n){return T(this,null,function*(){let{auth:t,user:e}=n;return be(e,t,"internal-error"),IH(e,new Wu(n),n.bypassAuthState)})}var Wm=class{constructor(t,e,i,r,o=!1){this.auth=t,this.resolver=i,this.user=r,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(e)?e:[e]}execute(){return new Promise((t,e)=>T(this,null,function*(){this.pendingPromise={resolve:t,reject:e};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}}))}onAuthEvent(t){return T(this,null,function*(){let{urlResponse:e,sessionId:i,postBody:r,tenantId:o,error:s,type:a}=t;if(s){this.reject(s);return}let c={auth:this.auth,requestUri:e,sessionId:i,tenantId:o||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(c))}catch(l){this.reject(l)}})}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return WH;case"linkViaPopup":case"linkViaRedirect":return KH;case"reauthViaPopup":case"reauthViaRedirect":return GH;default:Fi(this.auth,"internal-error")}}resolve(t){Lo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Lo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var QH=new Va(2e3,1e4);function sM(n,t,e){return T(this,null,function*(){if(En(n.app))return Promise.reject(vr(n,"operation-not-supported-in-this-environment"));let i=Rs(n);K7(n,t,qu);let r=$k(i,e);return new YH(i,"signInViaPopup",t,r).executeNotNull()})}var YH=(()=>{class n extends Wm{constructor(e,i,r,o,s){super(e,i,o,s),this.provider=r,this.authWindow=null,this.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=this}executeNotNull(){return T(this,null,function*(){let e=yield this.execute();return be(e,this.auth,"internal-error"),e})}onExecution(){return T(this,null,function*(){Lo(this.filter.length===1,"Popup operations only handle one event");let e=oM();this.authWindow=yield this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(vr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()})}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(vr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}pollUserCancellation(){let e=()=>{var i,r;if(!((r=(i=this.authWindow)===null||i===void 0?void 0:i.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(vr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,QH.get())};e()}}n.currentPopupAction=null;return n})(),ZH="pendingRedirect",Am=new Map,z1=class n extends Wm{constructor(t,e,i=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],e,void 0,i),this.eventId=null}execute(){return T(this,null,function*(){let t=Am.get(this.auth._key());if(!t){try{let i=(yield XH(this.resolver,this.auth))?yield Zs(n.prototype,this,"execute").call(this):null;t=()=>Promise.resolve(i)}catch(e){t=()=>Promise.reject(e)}Am.set(this.auth._key(),t)}return this.bypassAuthState||Am.set(this.auth._key(),()=>Promise.resolve(null)),t()})}onAuthEvent(t){return T(this,null,function*(){if(t.type==="signInViaRedirect")return Zs(n.prototype,this,"onAuthEvent").call(this,t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){let e=yield this.auth._redirectUserForId(t.eventId);if(e)return this.user=e,Zs(n.prototype,this,"onAuthEvent").call(this,t);this.resolve(null)}})}onExecution(){return T(this,null,function*(){})}cleanUp(){}};function XH(n,t){return T(this,null,function*(){let e=tq(t),i=eq(n);if(!(yield i._isAvailable()))return!1;let r=(yield i._get(e))==="true";return yield i._remove(e),r})}function JH(n,t){Am.set(n._key(),t)}function eq(n){return Ro(n._redirectPersistence)}function tq(n){return Dm(ZH,n.config.apiKey,n.name)}function nq(n,t,e=!1){return T(this,null,function*(){if(En(n.app))return Promise.reject(No(n));let i=Rs(n),r=$k(i,t),s=yield new z1(i,r,e).execute();return s&&!e&&(delete s.user._redirectEventId,yield i._persistUserIfCurrent(s.user),yield i._setRedirectUser(null,t)),s})}var iq=600*1e3,V1=class{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let e=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(t,i)&&(e=!0,this.sendToConsumer(t,i),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!rq(t)||(this.hasHandledPotentialRedirect=!0,e||(this.queuedRedirectEvent=t,e=!0)),e}sendToConsumer(t,e){var i;if(t.error&&!Hk(t)){let r=((i=t.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";e.onError(vr(this.auth,r))}else e.onAuthEvent(t)}isEventForConsumer(t,e){let i=e.eventId===null||!!t.eventId&&t.eventId===e.eventId;return e.filter.includes(t.type)&&i}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=iq&&this.cachedEventUids.clear(),this.cachedEventUids.has(lk(t))}saveEventToCache(t){this.cachedEventUids.add(lk(t)),this.lastProcessedEventTime=Date.now()}};function lk(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(t=>t).join("-")}function Hk({type:n,error:t}){return n==="unknown"&&t?.code==="auth/no-auth-event"}function rq(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Hk(n);default:return!1}}function oq(e){return T(this,arguments,function*(n,t={}){return ks(n,"GET","/v1/projects",t)})}var sq=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,aq=/^https?/;function cq(n){return T(this,null,function*(){if(n.config.emulator)return;let{authorizedDomains:t}=yield oq(n);for(let e of t)try{if(lq(e))return}catch{}Fi(n,"unauthorized-domain")})}function lq(n){let t=E1(),{protocol:e,hostname:i}=new URL(t);if(n.startsWith("chrome-extension://")){let s=new URL(n);return s.hostname===""&&i===""?e==="chrome-extension:"&&n.replace("chrome-extension://","")===t.replace("chrome-extension://",""):e==="chrome-extension:"&&s.hostname===i}if(!aq.test(e))return!1;if(sq.test(n))return i===n;let r=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}var dq=new Va(3e4,6e4);function dk(){let n=Jr().___jsl;if(n?.H){for(let t of Object.keys(n.H))if(n.H[t].r=n.H[t].r||[],n.H[t].L=n.H[t].L||[],n.H[t].r=[...n.H[t].L],n.CP)for(let e=0;e<n.CP.length;e++)n.CP[e]=null}}function uq(n){return new Promise((t,e)=>{var i,r,o;function s(){dk(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{dk(),e(vr(n,"network-request-failed"))},timeout:dq.get()})}if(!((r=(i=Jr().gapi)===null||i===void 0?void 0:i.iframes)===null||r===void 0)&&r.Iframe)t(gapi.iframes.getContext());else if(!((o=Jr().gapi)===null||o===void 0)&&o.load)s();else{let a=Dk("iframefcb");return Jr()[a]=()=>{gapi.load?s():e(vr(n,"network-request-failed"))},Tk(`${gH()}?onload=${a}`).catch(c=>e(c))}}).catch(t=>{throw km=null,t})}var km=null;function fq(n){return km=km||uq(n),km}var pq=new Va(5e3,15e3),hq="__/auth/iframe",gq="emulator/auth/iframe",mq={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},_q=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function vq(n){let t=n.config;be(t.authDomain,n,"auth-domain-config-required");let e=t.emulator?q1(t,gq):`https://${n.config.authDomain}/${hq}`,i={apiKey:t.apiKey,appName:n.name,v:Yr},r=_q.get(n.config.apiHost);r&&(i.eid=r);let o=n._getFrameworks();return o.length&&(i.fw=o.join(",")),`${e}?${Es(i).slice(1)}`}function yq(n){return T(this,null,function*(){let t=yield fq(n),e=Jr().gapi;return be(e,n,"internal-error"),t.open({where:document.body,url:vq(n),messageHandlersFilter:e.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:mq,dontclear:!0},i=>new Promise((r,o)=>T(null,null,function*(){yield i.restyle({setHideOnLeave:!1});let s=vr(n,"network-request-failed"),a=Jr().setTimeout(()=>{o(s)},pq.get());function c(){Jr().clearTimeout(a),r(i)}i.ping(c).then(c,()=>{o(s)})})))})}var bq={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Cq=500,wq=600,Mq="_blank",Eq="http://localhost",Gm=class{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function Pq(n,t,e,i=Cq,r=wq){let o=Math.max((window.screen.availHeight-r)/2,0).toString(),s=Math.max((window.screen.availWidth-i)/2,0).toString(),a="",c=Object.assign(Object.assign({},bq),{width:i.toString(),height:r.toString(),top:o,left:s}),l=Ln().toLowerCase();e&&(a=Mk(l)?Mq:e),Ck(l)&&(t=t||Eq,c.scrollbars="yes");let m=Object.entries(c).reduce((C,[E,S])=>`${C}${E}=${S},`,"");if(lH(l)&&a!=="_self")return Oq(t||"",a),new Gm(null);let g=window.open(t||"",a,m);be(g,n,"popup-blocked");try{g.focus()}catch{}return new Gm(g)}function Oq(n,t){let e=document.createElement("a");e.href=n,e.target=t;let i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),e.dispatchEvent(i)}var xq="__/auth/handler",Iq="emulator/auth/handler",Sq=encodeURIComponent("fac");function uk(n,t,e,i,r,o){return T(this,null,function*(){be(n.config.authDomain,n,"auth-domain-config-required"),be(n.config.apiKey,n,"invalid-api-key");let s={apiKey:n.config.apiKey,appName:n.name,authType:e,redirectUrl:i,v:Yr,eventId:r};if(t instanceof qu){t.setDefaultLanguage(n.languageCode),s.providerId=t.providerId||"",Du(t.getCustomParameters())||(s.customParameters=JSON.stringify(t.getCustomParameters()));for(let[m,g]of Object.entries(o||{}))s[m]=g}if(t instanceof Um){let m=t.getScopes().filter(g=>g!=="");m.length>0&&(s.scopes=m.join(","))}n.tenantId&&(s.tid=n.tenantId);let a=s;for(let m of Object.keys(a))a[m]===void 0&&delete a[m];let c=yield n._getAppCheckToken(),l=c?`#${Sq}=${encodeURIComponent(c)}`:"";return`${Tq(n)}?${Es(a).slice(1)}${l}`})}function Tq({config:n}){return n.emulator?q1(n,Iq):`https://${n.authDomain}/${xq}`}var M1="webStorageSupport",j1=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=rM,this._completeRedirectFn=nq,this._overrideRedirectResult=JH}_openPopup(t,e,i,r){return T(this,null,function*(){var o;Lo((o=this.eventManagers[t._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");let s=yield uk(t,e,i,E1(),r);return Pq(t,s,oM())})}_openRedirect(t,e,i,r){return T(this,null,function*(){yield this._originValidation(t);let o=yield uk(t,e,i,E1(),r);return LH(o),new Promise(()=>{})})}_initialize(t){let e=t._key();if(this.eventManagers[e]){let{manager:r,promise:o}=this.eventManagers[e];return r?Promise.resolve(r):(Lo(o,"If manager is not set, promise should be"),o)}let i=this.initAndGetManager(t);return this.eventManagers[e]={promise:i},i.catch(()=>{delete this.eventManagers[e]}),i}initAndGetManager(t){return T(this,null,function*(){let e=yield yq(t),i=new V1(t);return e.register("authEvent",r=>(be(r?.authEvent,t,"invalid-auth-event"),{status:i.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:i},this.iframes[t._key()]=e,i})}_isIframeWebStorageSupported(t,e){this.iframes[t._key()].send(M1,{type:M1},r=>{var o;let s=(o=r?.[0])===null||o===void 0?void 0:o[M1];s!==void 0&&e(!!s),Fi(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){let e=t._key();return this.originValidationPromises[e]||(this.originValidationPromises[e]=cq(t)),this.originValidationPromises[e]}get _shouldInitProactively(){return Ik()||wk()||Q1()}},qk=j1;var fk="@firebase/auth",pk="1.10.8";var U1=class{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}getToken(t){return T(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(t)}:null})}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;let e=this.auth.onIdTokenChanged(i=>{t(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,e),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();let e=this.internalListeners.get(t);e&&(this.internalListeners.delete(t),e(),this.updateProactiveRefresh())}assertAuthConfigured(){be(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function Dq(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Aq(n){Ci(new Mn("auth",(t,{options:e})=>{let i=t.getProvider("app").getImmediate(),r=t.getProvider("heartbeat"),o=t.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=i.options;be(s&&!s.includes(":"),"invalid-api-key",{appName:i.name});let c={apiKey:s,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Sk(n)},l=new D1(i,r,o,c);return _H(l,e),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,i)=>{t.getProvider("auth-internal").initialize()})),Ci(new Mn("auth-internal",t=>{let e=Rs(t.getProvider("auth").getImmediate());return(i=>new U1(i))(e)},"PRIVATE").setInstantiationMode("EXPLICIT")),dt(fk,pk,Dq(n)),dt(fk,pk,"esm2017")}var kq=300,Rq=e1("authIdTokenMaxAge")||kq,hk=null,Nq=n=>t=>T(null,null,function*(){let e=t&&(yield t.getIdTokenResult()),i=e&&(new Date().getTime()-Date.parse(e.issuedAtTime))/1e3;if(i&&i>Rq)return;let r=e?.token;hk!==r&&(hk=r,yield fetch(n,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))});function aM(n=Do()){let t=Os(n,"auth");if(t.isInitialized())return t.getImmediate();let e=Y1(n,{popupRedirectResolver:qk,persistence:[Uk,Bk,rM]}),i=e1("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){let o=new URL(i,location.origin);if(location.origin===o.origin){let s=Nq(o.toString());nM(e,s,()=>s(e.currentUser)),Qm(e,a=>s(a))}}let r=Xw("auth");return r&&Z1(e,`http://${r}`),e}function Lq(){var n,t;return(t=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&t!==void 0?t:document}pH({loadJS(n){return new Promise((t,e)=>{let i=document.createElement("script");i.setAttribute("src",n),i.onload=t,i.onerror=r=>{let o=vr("internal-error");o.customData=r,e(o)},i.type="text/javascript",i.charset="UTF-8",Lq().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Aq("Browser");function Gk(n){return new ie(function(t){var e=Ym(n,t.next.bind(t),t.error.bind(t),t.complete.bind(t));return{unsubscribe:e}})}var Kk="auth",Un=class{constructor(t){return t}},Ua=class{constructor(){return xs(Kk)}};var cM=new Z("angularfire2.auth-instances");function wW(n,t){let e=za(Kk,n,t);return e&&new Un(e)}function MW(n){return(t,e)=>{let i=t.runOutsideAngular(()=>n(e));return new Un(i)}}var EW={provide:Ua,deps:[[new Zt,cM]]},PW={provide:Un,useFactory:wW,deps:[[new Zt,cM],mr]};function Qk(n,...t){return dt("angularfire",Zr.full,"auth"),bn([PW,EW,{provide:cM,useFactory:MW(n),multi:!0,deps:[ze,De,Xr,Ao,[new Zt,Ss],...t]}])}var Ns=wt(Gk,!0);var Yk=wt(eM,!0,2);var Zk=wt(aM,!0);var Xk=wt(tM,!0,2);var Jk=wt(sM,!0,2);var lM=wt(iM,!0,2);var tR="@firebase/database",nR="1.0.20";var gE="";function OW(n){gE=n}var _M=class{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,e){e==null?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),Gt(e))}get(t){let e=this.domStorage_.getItem(this.prefixedName_(t));return e==null?null:gl(e)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}};var vM=class{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,e){e==null?delete this.cache_[t]:this.cache_[t]=e}get(t){return gr(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}};var RR=function(n){try{if(typeof window<"u"&&typeof window[n]<"u"){let t=window[n];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new _M(t)}}catch{}return new vM},Ha=RR("localStorage"),yM=RR("sessionStorage");var Il=new Kr("@firebase/database"),xW=(function(){let n=1;return function(){return n++}})(),NR=function(n){let t=EA(n),e=new ym;e.update(t);let i=e.digest();return ml.encodeByteArray(i)},gf=function(...n){let t="";for(let e=0;e<n.length;e++){let i=n[e];Array.isArray(i)||i&&typeof i=="object"&&typeof i.length=="number"?t+=gf.apply(null,i):typeof i=="object"?t+=Gt(i):t+=i,t+=" "}return t},qa=null,iR=!0,IW=function(n,t){Q(!t||n===!0||n===!1,"Can't turn on custom loggers persistently."),n===!0?(Il.logLevel=rt.VERBOSE,qa=Il.log.bind(Il),t&&yM.set("logging_enabled",!0)):typeof n=="function"?qa=n:(qa=null,yM.remove("logging_enabled"))},Pn=function(...n){if(iR===!0&&(iR=!1,qa===null&&yM.get("logging_enabled")===!0&&IW(!0)),qa){let t=gf.apply(null,n);qa(t)}},mf=function(n){return function(...t){Pn(n,...t)}},bM=function(...n){let t="FIREBASE INTERNAL ERROR: "+gf(...n);Il.error(t)},Fo=function(...n){let t=`FIREBASE FATAL ERROR: ${gf(...n)}`;throw Il.error(t),new Error(t)},Hn=function(...n){let t="FIREBASE WARNING: "+gf(...n);Il.warn(t)},SW=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Hn("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},mE=function(n){return typeof n=="number"&&(n!==n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},TW=function(n){if(Wr()||document.readyState==="complete")n();else{let t=!1,e=function(){if(!document.body){setTimeout(e,Math.floor(10));return}t||(t=!0,n())};document.addEventListener?(document.addEventListener("DOMContentLoaded",e,!1),window.addEventListener("load",e,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&e()}),window.attachEvent("onload",e))}},Ga="[MIN_NAME]",zs="[MAX_NAME]",Ya=function(n,t){if(n===t)return 0;if(n===Ga||t===zs)return-1;if(t===Ga||n===zs)return 1;{let e=rR(n),i=rR(t);return e!==null?i!==null?e-i===0?n.length-t.length:e-i:-1:i!==null?1:n<t?-1:1}},DW=function(n,t){return n===t?0:n<t?-1:1},Ku=function(n,t){if(t&&n in t)return t[n];throw new Error("Missing required key ("+n+") in object: "+Gt(t))},_E=function(n){if(typeof n!="object"||n===null)return Gt(n);let t=[];for(let i in n)t.push(i);t.sort();let e="{";for(let i=0;i<t.length;i++)i!==0&&(e+=","),e+=Gt(t[i]),e+=":",e+=_E(n[t[i]]);return e+="}",e},LR=function(n,t){let e=n.length;if(e<=t)return[n];let i=[];for(let r=0;r<e;r+=t)r+t>e?i.push(n.substring(r,e)):i.push(n.substring(r,r+t));return i};function On(n,t){for(let e in n)n.hasOwnProperty(e)&&t(e,n[e])}var FR=function(n){Q(!mE(n),"Invalid JSON number");let t=11,e=52,i=(1<<t-1)-1,r,o,s,a,c;n===0?(o=0,s=0,r=1/n===-1/0?1:0):(r=n<0,n=Math.abs(n),n>=Math.pow(2,1-i)?(a=Math.min(Math.floor(Math.log(n)/Math.LN2),i),o=a+i,s=Math.round(n*Math.pow(2,e-a)-Math.pow(2,e))):(o=0,s=Math.round(n/Math.pow(2,1-i-e))));let l=[];for(c=e;c;c-=1)l.push(s%2?1:0),s=Math.floor(s/2);for(c=t;c;c-=1)l.push(o%2?1:0),o=Math.floor(o/2);l.push(r?1:0),l.reverse();let m=l.join(""),g="";for(c=0;c<64;c+=8){let C=parseInt(m.substr(c,8),2).toString(16);C.length===1&&(C="0"+C),g=g+C}return g.toLowerCase()},AW=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},kW=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function RW(n,t){let e="Unknown Error";n==="too_big"?e="The data requested exceeds the maximum size that can be accessed with a single request.":n==="permission_denied"?e="Client doesn't have permission to access the desired data.":n==="unavailable"&&(e="The service is unavailable");let i=new Error(n+" at "+t._path.toString()+": "+e);return i.code=n.toUpperCase(),i}var NW=new RegExp("^-?(0*)\\d{1,10}$"),LW=-2147483648,FW=2147483647,rR=function(n){if(NW.test(n)){let t=Number(n);if(t>=LW&&t<=FW)return t}return null},Bl=function(n){try{n()}catch(t){setTimeout(()=>{let e=t.stack||"";throw Hn("Exception was thrown by user callback.",e),t},Math.floor(0))}},BW=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Ju=function(n,t){let e=setTimeout(n,t);return typeof e=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(e):typeof e=="object"&&e.unref&&e.unref(),e};var CM=class{constructor(t,e){this.appCheckProvider=e,this.appName=t.name,En(t)&&t.settings.appCheckToken&&(this.serverAppAppCheckToken=t.settings.appCheckToken),this.appCheck=e?.getImmediate({optional:!0}),this.appCheck||e?.get().then(i=>this.appCheck=i)}getToken(t){if(this.serverAppAppCheckToken){if(t)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(t):new Promise((e,i)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(e,i):e(null)},0)})}addTokenChangeListener(t){var e;(e=this.appCheckProvider)===null||e===void 0||e.get().then(i=>i.addTokenListener(t))}notifyForInvalidToken(){Hn(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}};var wM=class{constructor(t,e,i){this.appName_=t,this.firebaseOptions_=e,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(r=>this.auth_=r)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(e=>e&&e.code==="auth/token-not-initialized"?(Pn("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)):new Promise((e,i)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(e,i):e(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(e=>e.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(e=>e.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?t+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?t+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':t+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Hn(t)}},ef=(()=>{class n{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}n.OWNER="owner";return n})(),Jm="5",BR="v",zR="s",VR="r",jR="f",UR=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,$R="ls",HR="p",MM="ac",qR="websocket",WR="long_polling";var e_=class{constructor(t,e,i,r,o=!1,s="",a=!1,c=!1,l=null){this.secure=e,this.namespace=i,this.webSocketOnly=r,this.nodeAdmin=o,this.persistenceKey=s,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=c,this.emulatorOptions=l,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Ha.get("host:"+t)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&Ha.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){let t=this.secure?"https://":"http://",e=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${t}${this.host}/${e}`}};function zW(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams}function GR(n,t,e){Q(typeof t=="string","typeof type must == string"),Q(typeof e=="object","typeof params must == object");let i;if(t===qR)i=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else if(t===WR)i=(n.secure?"https://":"http://")+n.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+t);zW(n)&&(e.ns=n.namespace);let r=[];return On(e,(o,s)=>{r.push(o+"="+s)}),i+r.join("&")}var EM=class{constructor(){this.counters_={}}incrementCounter(t,e=1){gr(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=e}get(){return pA(this.counters_)}};var dM={},uM={};function vE(n){let t=n.toString();return dM[t]||(dM[t]=new EM),dM[t]}function VW(n,t){let e=n.toString();return uM[e]||(uM[e]=t()),uM[e]}var PM=class{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,e){this.closeAfterResponse=t,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,e){for(this.pendingResponses[t]=e;this.pendingResponses[this.currentResponseNum];){let i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let r=0;r<i.length;++r)i[r]&&Bl(()=>{this.onMessage_(i[r])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}};var oR="start",jW="close",UW="pLPCommand",$W="pRTLPCB",KR="id",QR="pw",YR="ser",HW="cb",qW="seg",WW="ts",GW="d",KW="dframe",ZR=1870,XR=30,QW=ZR-XR,YW=25e3,ZW=3e4,OM=class n{constructor(t,e,i,r,o,s,a){this.connId=t,this.repoInfo=e,this.applicationId=i,this.appCheckToken=r,this.authToken=o,this.transportSessionId=s,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=mf(t),this.stats_=vE(e),this.urlFn=c=>(this.appCheckToken&&(c[MM]=this.appCheckToken),GR(e,WR,c))}open(t,e){this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new PM(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(ZW)),TW(()=>{if(this.isClosed_)return;this.scriptTagHolder=new xM((...o)=>{let[s,a,c,l,m]=o;if(this.incrementIncomingBytes_(o),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,s===oR)this.id=a,this.password=c;else if(s===jW)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+s)},(...o)=>{let[s,a]=o;this.incrementIncomingBytes_(o),this.myPacketOrderer.handleResponse(s,a)},()=>{this.onClosed_()},this.urlFn);let i={};i[oR]="t",i[YR]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(i[HW]=this.scriptTagHolder.uniqueCallbackIdentifier),i[BR]=Jm,this.transportSessionId&&(i[zR]=this.transportSessionId),this.lastSessionId&&(i[$R]=this.lastSessionId),this.applicationId&&(i[HR]=this.applicationId),this.appCheckToken&&(i[MM]=this.appCheckToken),typeof location<"u"&&location.hostname&&UR.test(location.hostname)&&(i[VR]=jR);let r=this.urlFn(i);this.log_("Connecting via long-poll to "+r),this.scriptTagHolder.addTag(r,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){n.forceAllow_=!0}static forceDisallow(){n.forceDisallow_=!0}static isAvailable(){return Wr()?!1:n.forceAllow_?!0:!n.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!AW()&&!kW()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){let e=Gt(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);let i=Yw(e),r=LR(i,QW);for(let o=0;o<r.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[o]),this.curSegmentNum++}addDisconnectPingFrame(t,e){if(Wr())return;this.myDisconnFrame=document.createElement("iframe");let i={};i[KW]="t",i[KR]=t,i[QR]=e,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){let e=Gt(t).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)}},xM=class n{constructor(t,e,i,r){if(this.onDisconnect=i,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0,Wr())this.commandCB=t,this.onMessageCB=e;else{this.uniqueCallbackIdentifier=xW(),window[UW+this.uniqueCallbackIdentifier]=t,window[$W+this.uniqueCallbackIdentifier]=e,this.myIFrame=n.createIFrame_();let o="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(o='<script>document.domain="'+document.domain+'";<\/script>');let s="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(s),this.myIFrame.doc.close()}catch(a){Pn("frame writing exception"),a.stack&&Pn(a.stack),Pn(a)}}}static createIFrame_(){let t=document.createElement("iframe");if(t.style.display="none",document.body){document.body.appendChild(t);try{t.contentWindow.document||Pn("No IE domain setting required")}catch{let i=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));let t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,e){for(this.myID=t,this.myPW=e,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;let t={};t[KR]=this.myID,t[QR]=this.myPW,t[YR]=this.currentSerial;let e=this.urlFn(t),i="",r=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+XR+i.length<=ZR;){let s=this.pendingSegs.shift();i=i+"&"+qW+r+"="+s.seg+"&"+WW+r+"="+s.ts+"&"+GW+r+"="+s.d,r++}return e=e+i,this.addLongPollTag_(e,this.currentSerial),!0}else return!1}enqueueSegment(t,e,i){this.pendingSegs.push({seg:t,ts:e,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(t,e){this.outstandingRequests.add(e);let i=()=>{this.outstandingRequests.delete(e),this.newRequest_()},r=setTimeout(i,Math.floor(YW)),o=()=>{clearTimeout(r),i()};this.addTag(t,o)}addTag(t,e){Wr()?this.doNodeLongPoll(t,e):setTimeout(()=>{try{if(!this.sendNewPolls)return;let i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=t,i.onload=i.onreadystatechange=function(){let r=i.readyState;(!r||r==="loaded"||r==="complete")&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),e())},i.onerror=()=>{Pn("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))}};var XW=16384,JW=45e3,t_=null;typeof MozWebSocket<"u"?t_=MozWebSocket:typeof WebSocket<"u"&&(t_=WebSocket);var Qu=(()=>{class n{constructor(e,i,r,o,s,a,c){this.connId=e,this.applicationId=r,this.appCheckToken=o,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=mf(this.connId),this.stats_=vE(i),this.connURL=n.connectionURL_(i,a,c,o,r),this.nodeAdmin=i.nodeAdmin}static connectionURL_(e,i,r,o,s){let a={};return a[BR]=Jm,!Wr()&&typeof location<"u"&&location.hostname&&UR.test(location.hostname)&&(a[VR]=jR),i&&(a[zR]=i),r&&(a[$R]=r),o&&(a[MM]=o),s&&(a[HR]=s),GR(e,qR,a)}open(e,i){this.onDisconnect=i,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Ha.set("previous_websocket_failure",!0);try{let r;if(Wr()){let o=this.nodeAdmin?"AdminNode":"Node";r={headers:{"User-Agent":`Firebase/${Jm}/${gE}/${process.platform}/${o}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(r.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(r.headers["X-Firebase-AppCheck"]=this.appCheckToken);let s=process.env,a=this.connURL.indexOf("wss://")===0?s.HTTPS_PROXY||s.https_proxy:s.HTTP_PROXY||s.http_proxy;a&&(r.proxy={origin:a})}this.mySock=new t_(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");let o=r.message||r.data;o&&this.log_(o),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");let o=r.message||r.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){n.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){let i=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(i);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&t_!==null&&!n.forceDisallow_}static previouslyFailed(){return Ha.isInMemoryStorage||Ha.get("previous_websocket_failure")===!0}markConnectionHealthy(){Ha.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){let i=this.frames.join("");this.frames=null;let r=gl(i);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(Q(this.frames===null,"We already have a frame buffer"),e.length<=6){let i=Number(e);if(!isNaN(i))return this.handleNewFrameCount_(i),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;let i=e.data;if(this.bytesReceived+=i.length,this.stats_.incrementCounter("bytes_received",i.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(i);else{let r=this.extractFrameCount_(i);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();let i=Gt(e);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);let r=LR(i,XW);r.length>1&&this.sendString_(String(r.length));for(let o=0;o<r.length;o++)this.sendString_(r[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(JW))}sendString_(e){try{this.mySock.send(e)}catch(i){this.log_("Exception thrown from WebSocket.send():",i.message||i.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}n.responsesRequiredToBeHealthy=2,n.healthyTimeout=3e4;return n})(),eG=(()=>{class n{static get ALL_TRANSPORTS(){return[OM,Qu]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){let i=Qu&&Qu.isAvailable(),r=i&&!Qu.previouslyFailed();if(e.webSocketOnly&&(i||Hn("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Qu];else{let o=this.transports_=[];for(let s of n.ALL_TRANSPORTS)s&&s.isAvailable()&&o.push(s);n.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}n.globalTransportInitialized_=!1;return n})(),tG=6e4,nG=5e3,iG=10*1024,rG=100*1024,fM="t",sR="d",oG="s",aR="r",sG="e",cR="o",lR="a",dR="n",uR="p",aG="h",IM=class{constructor(t,e,i,r,o,s,a,c,l,m){this.id=t,this.repoInfo_=e,this.applicationId_=i,this.appCheckToken_=r,this.authToken_=o,this.onMessage_=s,this.onReady_=a,this.onDisconnect_=c,this.onKill_=l,this.lastSessionId=m,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=mf("c:"+this.id+":"),this.transportManager_=new eG(e),this.log_("Connection created"),this.start_()}start_(){let t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;let e=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(e,i)},Math.floor(0));let r=t.healthyTimeout||0;r>0&&(this.healthyTimeout_=Ju(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>rG?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>iG?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return e=>{t===this.conn_?this.onConnectionLost_(e):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return e=>{this.state_!==2&&(t===this.rx_?this.onPrimaryMessageReceived_(e):t===this.secondaryConn_?this.onSecondaryMessageReceived_(e):this.log_("message on old connection"))}}sendRequest(t){let e={t:"d",d:t};this.sendData_(e)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if(fM in t){let e=t[fM];e===lR?this.upgradeIfSecondaryHealthy_():e===aR?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):e===cR&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){let e=Ku("t",t),i=Ku("d",t);if(e==="c")this.onSecondaryControl_(i);else if(e==="d")this.pendingDataMessages.push(i);else throw new Error("Unknown protocol layer: "+e)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:uR,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:lR,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:dR,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){let e=Ku("t",t),i=Ku("d",t);e==="c"?this.onControl_(i):e==="d"&&this.onDataMessage_(i)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){let e=Ku(fM,t);if(sR in t){let i=t[sR];if(e===aG){let r=Object.assign({},i);this.repoInfo_.isUsingEmulator&&(r.h=this.repoInfo_.host),this.onHandshake_(r)}else if(e===dR){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else e===oG?this.onConnectionShutdown_(i):e===aR?this.onReset_(i):e===sG?bM("Server Error: "+i):e===cR?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):bM("Unknown control packet command: "+e)}}onHandshake_(t){let e=t.ts,i=t.v,r=t.h;this.sessionId=t.s,this.repoInfo_.host=r,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),Jm!==i&&Hn("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){let t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;let e=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(e,i),Ju(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(tG))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,e){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Ju(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(nG))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:uR,d:{}}}))}onSecondaryConnectionLost_(){let t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,!t&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Ha.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(t)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}};var n_=class{put(t,e,i,r){}merge(t,e,i,r){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,e,i){}onDisconnectMerge(t,e,i){}onDisconnectCancel(t,e){}reportStats(t){}};var i_=class{constructor(t){this.allowedEvents_=t,this.listeners_={},Q(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...e){if(Array.isArray(this.listeners_[t])){let i=[...this.listeners_[t]];for(let r=0;r<i.length;r++)i[r].callback.apply(i[r].context,e)}}on(t,e,i){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:e,context:i});let r=this.getInitialEvent(t);r&&e.apply(i,r)}off(t,e,i){this.validateEventType_(t);let r=this.listeners_[t]||[];for(let o=0;o<r.length;o++)if(r[o].callback===e&&(!i||i===r[o].context)){r.splice(o,1);return}}validateEventType_(t){Q(this.allowedEvents_.find(e=>e===t),"Unknown event: "+t)}};var r_=class n extends i_{static getInstance(){return new n}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Tu()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(t){return Q(t==="online","Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}};var fR=32,pR=768,Ze=class{constructor(t,e){if(e===void 0){this.pieces_=t.split("/");let i=0;for(let r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[i]=this.pieces_[r],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=e}toString(){let t="";for(let e=this.pieceNum_;e<this.pieces_.length;e++)this.pieces_[e]!==""&&(t+="/"+this.pieces_[e]);return t||"/"}};function Ke(){return new Ze("")}function Le(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function Vs(n){return n.pieces_.length-n.pieceNum_}function pt(n){let t=n.pieceNum_;return t<n.pieces_.length&&t++,new Ze(n.pieces_,t)}function yE(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function cG(n){let t="";for(let e=n.pieceNum_;e<n.pieces_.length;e++)n.pieces_[e]!==""&&(t+="/"+encodeURIComponent(String(n.pieces_[e])));return t||"/"}function of(n,t=0){return n.pieces_.slice(n.pieceNum_+t)}function JR(n){if(n.pieceNum_>=n.pieces_.length)return null;let t=[];for(let e=n.pieceNum_;e<n.pieces_.length-1;e++)t.push(n.pieces_[e]);return new Ze(t,0)}function At(n,t){let e=[];for(let i=n.pieceNum_;i<n.pieces_.length;i++)e.push(n.pieces_[i]);if(t instanceof Ze)for(let i=t.pieceNum_;i<t.pieces_.length;i++)e.push(t.pieces_[i]);else{let i=t.split("/");for(let r=0;r<i.length;r++)i[r].length>0&&e.push(i[r])}return new Ze(e,0)}function Fe(n){return n.pieceNum_>=n.pieces_.length}function $n(n,t){let e=Le(n),i=Le(t);if(e===null)return t;if(e===i)return $n(pt(n),pt(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+n+")")}function lG(n,t){let e=of(n,0),i=of(t,0);for(let r=0;r<e.length&&r<i.length;r++){let o=Ya(e[r],i[r]);if(o!==0)return o}return e.length===i.length?0:e.length<i.length?-1:1}function bE(n,t){if(Vs(n)!==Vs(t))return!1;for(let e=n.pieceNum_,i=t.pieceNum_;e<=n.pieces_.length;e++,i++)if(n.pieces_[e]!==t.pieces_[i])return!1;return!0}function Bi(n,t){let e=n.pieceNum_,i=t.pieceNum_;if(Vs(n)>Vs(t))return!1;for(;e<n.pieces_.length;){if(n.pieces_[e]!==t.pieces_[i])return!1;++e,++i}return!0}var SM=class{constructor(t,e){this.errorPrefix_=e,this.parts_=of(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=ku(this.parts_[i]);eN(this)}};function dG(n,t){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(t),n.byteLength_+=ku(t),eN(n)}function uG(n){let t=n.parts_.pop();n.byteLength_-=ku(t),n.parts_.length>0&&(n.byteLength_-=1)}function eN(n){if(n.byteLength_>pR)throw new Error(n.errorPrefix_+"has a key path longer than "+pR+" bytes ("+n.byteLength_+").");if(n.parts_.length>fR)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+fR+") or object contains a cycle "+$a(n))}function $a(n){return n.parts_.length===0?"":"in property '"+n.parts_.join(".")+"'"}var TM=class n extends i_{static getInstance(){return new n}constructor(){super(["visible"]);let t,e;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(e="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(e="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(e="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(e="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,e&&document.addEventListener(e,()=>{let i=!document[t];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}getInitialEvent(t){return Q(t==="visible","Unknown event type: "+t),[this.visible_]}};var Yu=1e3,fG=300*1e3,hR=30*1e3,pG=1.3,hG=3e4,gG="server_kill",gR=3,CE=(()=>{class n extends n_{constructor(e,i,r,o,s,a,c,l){if(super(),this.repoInfo_=e,this.applicationId_=i,this.onDataUpdate_=r,this.onConnectStatus_=o,this.onServerInfoUpdate_=s,this.authTokenProvider_=a,this.appCheckTokenProvider_=c,this.authOverride_=l,this.id=n.nextPersistentConnectionId_++,this.log_=mf("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Yu,this.maxReconnectDelay_=fG,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l&&!Wr())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");TM.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&r_.getInstance().on("online",this.onOnline_,this)}sendRequest(e,i,r){let o=++this.requestNumber_,s={r:o,a:e,b:i};this.log_(Gt(s)),Q(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),r&&(this.requestCBHash_[o]=r)}get(e){this.initConnection_();let i=new Li,o={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:a=>{let c=a.d;a.s==="ok"?i.resolve(c):i.reject(c)}};this.outstandingGets_.push(o),this.outstandingGetCount_++;let s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),i.promise}listen(e,i,r,o){this.initConnection_();let s=e._queryIdentifier,a=e._path.toString();this.log_("Listen called for "+a+" "+s),this.listens.has(a)||this.listens.set(a,new Map),Q(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),Q(!this.listens.get(a).has(s),"listen() called twice for same path/queryId.");let c={onComplete:o,hashFn:i,query:e,tag:r};this.listens.get(a).set(s,c),this.connected_&&this.sendListen_(c)}sendGet_(e){let i=this.outstandingGets_[e];this.sendRequest("g",i.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),i.onComplete&&i.onComplete(r)})}sendListen_(e){let i=e.query,r=i._path.toString(),o=i._queryIdentifier;this.log_("Listen on "+r+" for "+o);let s={p:r},a="q";e.tag&&(s.q=i._queryObject,s.t=e.tag),s.h=e.hashFn(),this.sendRequest(a,s,c=>{let l=c.d,m=c.s;n.warnOnListenWarnings_(l,i),(this.listens.get(r)&&this.listens.get(r).get(o))===e&&(this.log_("listen response",c),m!=="ok"&&this.removeListen_(r,o),e.onComplete&&e.onComplete(m,l))})}static warnOnListenWarnings_(e,i){if(e&&typeof e=="object"&&gr(e,"w")){let r=La(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){let o='".indexOn": "'+i._queryParams.getIndex().toString()+'"',s=i._path.toString();Hn(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||wA(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=hR)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){let e=this.authToken_,i=CA(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(i,r,o=>{let s=o.s,a=o.d||"error";this.authToken_===e&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,a))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{let i=e.s,r=e.d||"error";i==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(i,r)})}unlisten(e,i){let r=e._path.toString(),o=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+o),Q(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,o)&&this.connected_&&this.sendUnlisten_(r,o,e._queryObject,i)}sendUnlisten_(e,i,r,o){this.log_("Unlisten on "+e+" for "+i);let s={p:e},a="n";o&&(s.q=r,s.t=o),this.sendRequest(a,s)}onDisconnectPut(e,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,i,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:i,onComplete:r})}onDisconnectMerge(e,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,i,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:i,onComplete:r})}onDisconnectCancel(e,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:i})}sendOnDisconnect_(e,i,r,o){let s={p:i,d:r};this.log_("onDisconnect "+e,s),this.sendRequest(e,s,a=>{o&&setTimeout(()=>{o(a.s,a.d)},Math.floor(0))})}put(e,i,r,o){this.putInternal("p",e,i,r,o)}merge(e,i,r,o){this.putInternal("m",e,i,r,o)}putInternal(e,i,r,o,s){this.initConnection_();let a={p:i,d:r};s!==void 0&&(a.h=s),this.outstandingPuts_.push({action:e,request:a,onComplete:o}),this.outstandingPutCount_++;let c=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(c):this.log_("Buffering put: "+i)}sendPut_(e){let i=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,o=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(i,r,s=>{this.log_(i+" response",s),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),o&&o(s.s,s.d)})}reportStats(e){if(this.connected_){let i={c:e};this.log_("reportStats",i),this.sendRequest("s",i,r=>{if(r.s!=="ok"){let s=r.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+Gt(e));let i=e.r,r=this.requestCBHash_[i];r&&(delete this.requestCBHash_[i],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,i){this.log_("handleServerMessage",e,i),e==="d"?this.onDataUpdate_(i.p,i.d,!1,i.t):e==="m"?this.onDataUpdate_(i.p,i.d,!0,i.t):e==="c"?this.onListenRevoked_(i.p,i.q):e==="ac"?this.onAuthRevoked_(i.s,i.d):e==="apc"?this.onAppCheckRevoked_(i.s,i.d):e==="sd"?this.onSecurityDebugPacket_(i):bM("Unrecognized action received from server: "+Gt(e)+`
Are you using the latest client?`)}onReady_(e,i){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=i,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){Q(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Yu,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Yu,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>hG&&(this.reconnectDelay_=Yu),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());let e=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_),i=Math.max(0,this.reconnectDelay_-e);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*pG)}this.onConnectStatus_(!1)}establishConnection_(){return T(this,null,function*(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;let e=this.onDataMessage_.bind(this),i=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),o=this.id+":"+n.nextConnectionId_++,s=this.lastSessionId,a=!1,c=null,l=function(){c?c.close():(a=!0,r())},m=function(C){Q(c,"sendRequest call when we're not connected not allowed."),c.sendRequest(C)};this.realtime_={close:l,sendRequest:m};let g=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{let[C,E]=yield Promise.all([this.authTokenProvider_.getToken(g),this.appCheckTokenProvider_.getToken(g)]);a?Pn("getToken() completed but was canceled"):(Pn("getToken() completed. Creating connection."),this.authToken_=C&&C.accessToken,this.appCheckToken_=E&&E.token,c=new IM(o,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,i,r,S=>{Hn(S+" ("+this.repoInfo_.toString()+")"),this.interrupt(gG)},s))}catch(C){this.log_("Failed to get token: "+C),a||(this.repoInfo_.nodeAdmin&&Hn(C),l())}}})}interrupt(e){Pn("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Pn("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Du(this.interruptReasons_)&&(this.reconnectDelay_=Yu,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){let i=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:i})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){let i=this.outstandingPuts_[e];i&&"h"in i.request&&i.queued&&(i.onComplete&&i.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,i){let r;i?r=i.map(s=>_E(s)).join("$"):r="default";let o=this.removeListen_(e,r);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(e,i){let r=new Ze(e).toString(),o;if(this.listens.has(r)){let s=this.listens.get(r);o=s.get(i),s.delete(i),s.size===0&&this.listens.delete(r)}else o=void 0;return o}onAuthRevoked_(e,i){Pn("Auth token revoked: "+e+"/"+i),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=gR&&(this.reconnectDelay_=hR,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,i){Pn("App check token revoked: "+e+"/"+i),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=gR&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(let e of this.listens.values())for(let i of e.values())this.sendListen_(i);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){let e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){let e={},i="js";Wr()&&(this.repoInfo_.nodeAdmin?i="admin_node":i="node"),e["sdk."+i+"."+gE.replace(/\./g,"-")]=1,Tu()?e["framework.cordova"]=1:wm()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){let e=r_.getInstance().currentlyOnline();return Du(this.interruptReasons_)&&e}}n.nextPersistentConnectionId_=0,n.nextConnectionId_=0;return n})(),Be=class n{constructor(t,e){this.name=t,this.node=e}static Wrap(t,e){return new n(t,e)}};var Sl=class{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,e){let i=new Be(Ga,t),r=new Be(Ga,e);return this.compare(i,r)!==0}minPost(){return Be.MIN}};var Xm,o_=class extends Sl{static get __EMPTY_NODE(){return Xm}static set __EMPTY_NODE(t){Xm=t}compare(t,e){return Ya(t.name,e.name)}isDefinedOn(t){throw Na("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,e){return!1}minPost(){return Be.MIN}maxPost(){return new Be(zs,Xm)}makePost(t,e){return Q(typeof t=="string","KeyIndex indexValue must always be a string."),new Be(t,Xm)}toString(){return".key"}},Wa=new o_;var xl=class{constructor(t,e,i,r,o=null){this.isReverse_=r,this.resultGenerator_=o,this.nodeStack_=[];let s=1;for(;!t.isEmpty();)if(t=t,s=e?i(t.key,e):1,r&&(s*=-1),s<0)this.isReverse_?t=t.left:t=t.right;else if(s===0){this.nodeStack_.push(t);break}else this.nodeStack_.push(t),this.isReverse_?t=t.right:t=t.left}getNext(){if(this.nodeStack_.length===0)return null;let t=this.nodeStack_.pop(),e;if(this.resultGenerator_?e=this.resultGenerator_(t.key,t.value):e={key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;let t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}},yr=(()=>{class n{constructor(e,i,r,o,s){this.key=e,this.value=i,this.color=r??n.RED,this.left=o??zi.EMPTY_NODE,this.right=s??zi.EMPTY_NODE}copy(e,i,r,o,s){return new n(e??this.key,i??this.value,r??this.color,o??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,r){let o=this,s=r(e,o.key);return s<0?o=o.copy(null,null,null,o.left.insert(e,i,r),null):s===0?o=o.copy(null,i,null,null,null):o=o.copy(null,null,null,null,o.right.insert(e,i,r)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return zi.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,i){let r,o;if(r=this,i(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,i),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),i(e,r.key)===0){if(r.right.isEmpty())return zi.EMPTY_NODE;o=r.right.min_(),r=r.copy(o.key,o.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,i))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){let e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){let e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){let e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth_(){let e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");let e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}return n.RED=!0,n.BLACK=!1,n})(),DM=class{copy(t,e,i,r,o){return this}insert(t,e,i){return new yr(t,e,null)}remove(t,e){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}},zi=class n{constructor(t,e=n.EMPTY_NODE){this.comparator_=t,this.root_=e}insert(t,e){return new n(this.comparator_,this.root_.insert(t,e,this.comparator_).copy(null,null,yr.BLACK,null,null))}remove(t){return new n(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,yr.BLACK,null,null))}get(t){let e,i=this.root_;for(;!i.isEmpty();){if(e=this.comparator_(t,i.key),e===0)return i.value;e<0?i=i.left:e>0&&(i=i.right)}return null}getPredecessorKey(t){let e,i=this.root_,r=null;for(;!i.isEmpty();)if(e=this.comparator_(t,i.key),e===0){if(i.left.isEmpty())return r?r.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}else e<0?i=i.left:e>0&&(r=i,i=i.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new xl(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,e){return new xl(this.root_,t,this.comparator_,!1,e)}getReverseIteratorFrom(t,e){return new xl(this.root_,t,this.comparator_,!0,e)}getReverseIterator(t){return new xl(this.root_,null,this.comparator_,!0,t)}};zi.EMPTY_NODE=new DM;function mG(n,t){return Ya(n.name,t.name)}function wE(n,t){return Ya(n,t)}var AM;function _G(n){AM=n}var tN=function(n){return typeof n=="number"?"number:"+FR(n):"string:"+n},nN=function(n){if(n.isLeafNode()){let t=n.val();Q(typeof t=="string"||typeof t=="number"||typeof t=="object"&&gr(t,".sv"),"Priority must be a string or number.")}else Q(n===AM||n.isEmpty(),"priority of unexpected type.");Q(n===AM||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};var mR,Tl=(()=>{class n{static set __childrenNodeConstructor(e){mR=e}static get __childrenNodeConstructor(){return mR}constructor(e,i=n.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=i,this.lazyHash_=null,Q(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),nN(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new n(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return Fe(e)?this:Le(e)===".priority"?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,i){return null}updateImmediateChild(e,i){return e===".priority"?this.updatePriority(i):i.isEmpty()&&e!==".priority"?this:n.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,i).updatePriority(this.priorityNode_)}updateChild(e,i){let r=Le(e);return r===null?i:i.isEmpty()&&r!==".priority"?this:(Q(r!==".priority"||Vs(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,n.__childrenNodeConstructor.EMPTY_NODE.updateChild(pt(e),i)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,i){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+tN(this.priorityNode_.val())+":");let i=typeof this.value_;e+=i+":",i==="number"?e+=FR(this.value_):e+=this.value_,this.lazyHash_=NR(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===n.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof n.__childrenNodeConstructor?-1:(Q(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){let i=typeof e.value_,r=typeof this.value_,o=n.VALUE_TYPE_ORDER.indexOf(i),s=n.VALUE_TYPE_ORDER.indexOf(r);return Q(o>=0,"Unknown leaf type: "+i),Q(s>=0,"Unknown leaf type: "+r),o===s?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:s-o}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){let i=e;return this.value_===i.value_&&this.priorityNode_.equals(i.priorityNode_)}else return!1}}n.VALUE_TYPE_ORDER=["object","boolean","number","string"];return n})(),iN,rN;function vG(n){iN=n}function yG(n){rN=n}var kM=class extends Sl{compare(t,e){let i=t.node.getPriority(),r=e.node.getPriority(),o=i.compareTo(r);return o===0?Ya(t.name,e.name):o}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,e){return!t.getPriority().equals(e.getPriority())}minPost(){return Be.MIN}maxPost(){return new Be(zs,new Tl("[PRIORITY-POST]",rN))}makePost(t,e){let i=iN(t);return new Be(e,new Tl("[PRIORITY-POST]",i))}toString(){return".priority"}},xt=new kM;var bG=Math.log(2),RM=class{constructor(t){let e=o=>parseInt(Math.log(o)/bG,10),i=o=>parseInt(Array(o+1).join("1"),2);this.count=e(t+1),this.current_=this.count-1;let r=i(this.count);this.bits_=t+1&r}nextBitIsOne(){let t=!(this.bits_&1<<this.current_);return this.current_--,t}},s_=function(n,t,e,i){n.sort(t);let r=function(c,l){let m=l-c,g,C;if(m===0)return null;if(m===1)return g=n[c],C=e?e(g):g,new yr(C,g.node,yr.BLACK,null,null);{let E=parseInt(m/2,10)+c,S=r(c,E),k=r(E+1,l);return g=n[E],C=e?e(g):g,new yr(C,g.node,yr.BLACK,S,k)}},o=function(c){let l=null,m=null,g=n.length,C=function(S,k){let R=g-S,V=g;g-=S;let ae=r(R+1,V),Ce=n[R],ue=e?e(Ce):Ce;E(new yr(ue,Ce.node,k,null,ae))},E=function(S){l?(l.left=S,l=S):(m=S,l=S)};for(let S=0;S<c.count;++S){let k=c.nextBitIsOne(),R=Math.pow(2,c.count-(S+1));k?C(R,yr.BLACK):(C(R,yr.BLACK),C(R,yr.RED))}return m},s=new RM(n.length),a=o(s);return new zi(i||t,a)};var pM,Ol={},Dl=class n{static get Default(){return Q(Ol&&xt,"ChildrenNode.ts has not been loaded"),pM=pM||new n({".priority":Ol},{".priority":xt}),pM}constructor(t,e){this.indexes_=t,this.indexSet_=e}get(t){let e=La(this.indexes_,t);if(!e)throw new Error("No index defined for "+t);return e instanceof zi?e:null}hasIndex(t){return gr(this.indexSet_,t.toString())}addIndex(t,e){Q(t!==Wa,"KeyIndex always exists and isn't meant to be added to the IndexMap.");let i=[],r=!1,o=e.getIterator(Be.Wrap),s=o.getNext();for(;s;)r=r||t.isDefinedOn(s.node),i.push(s),s=o.getNext();let a;r?a=s_(i,t.getCompare()):a=Ol;let c=t.toString(),l=Object.assign({},this.indexSet_);l[c]=t;let m=Object.assign({},this.indexes_);return m[c]=a,new n(m,l)}addToIndexes(t,e){let i=Au(this.indexes_,(r,o)=>{let s=La(this.indexSet_,o);if(Q(s,"Missing index implementation for "+o),r===Ol)if(s.isDefinedOn(t.node)){let a=[],c=e.getIterator(Be.Wrap),l=c.getNext();for(;l;)l.name!==t.name&&a.push(l),l=c.getNext();return a.push(t),s_(a,s.getCompare())}else return Ol;else{let a=e.get(t.name),c=r;return a&&(c=c.remove(new Be(t.name,a))),c.insert(t,t.node)}});return new n(i,this.indexSet_)}removeFromIndexes(t,e){let i=Au(this.indexes_,r=>{if(r===Ol)return r;{let o=e.get(t.name);return o?r.remove(new Be(t.name,o)):r}});return new n(i,this.indexSet_)}};var Zu,Se=(()=>{class n{static get EMPTY_NODE(){return Zu||(Zu=new n(new zi(wE),null,Dl.Default))}constructor(e,i,r){this.children_=e,this.priorityNode_=i,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&nN(this.priorityNode_),this.children_.isEmpty()&&Q(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Zu}updatePriority(e){return this.children_.isEmpty()?this:new n(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{let i=this.children_.get(e);return i===null?Zu:i}}getChild(e){let i=Le(e);return i===null?this:this.getImmediateChild(i).getChild(pt(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,i){if(Q(i,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(i);{let r=new Be(e,i),o,s;i.isEmpty()?(o=this.children_.remove(e),s=this.indexMap_.removeFromIndexes(r,this.children_)):(o=this.children_.insert(e,i),s=this.indexMap_.addToIndexes(r,this.children_));let a=o.isEmpty()?Zu:this.priorityNode_;return new n(o,a,s)}}updateChild(e,i){let r=Le(e);if(r===null)return i;{Q(Le(e)!==".priority"||Vs(e)===1,".priority must be the last token in a path");let o=this.getImmediateChild(r).updateChild(pt(e),i);return this.updateImmediateChild(r,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;let i={},r=0,o=0,s=!0;if(this.forEachChild(xt,(a,c)=>{i[a]=c.val(e),r++,s&&n.INTEGER_REGEXP_.test(a)?o=Math.max(o,Number(a)):s=!1}),!e&&s&&o<2*r){let a=[];for(let c in i)a[c]=i[c];return a}else return e&&!this.getPriority().isEmpty()&&(i[".priority"]=this.getPriority().val()),i}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+tN(this.getPriority().val())+":"),this.forEachChild(xt,(i,r)=>{let o=r.hash();o!==""&&(e+=":"+i+":"+o)}),this.lazyHash_=e===""?"":NR(e)}return this.lazyHash_}getPredecessorChildName(e,i,r){let o=this.resolveIndex_(r);if(o){let s=o.getPredecessorKey(new Be(e,i));return s?s.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){let i=this.resolveIndex_(e);if(i){let r=i.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){let i=this.getFirstChildName(e);return i?new Be(i,this.children_.get(i)):null}getLastChildName(e){let i=this.resolveIndex_(e);if(i){let r=i.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){let i=this.getLastChildName(e);return i?new Be(i,this.children_.get(i)):null}forEachChild(e,i){let r=this.resolveIndex_(e);return r?r.inorderTraversal(o=>i(o.name,o.node)):this.children_.inorderTraversal(i)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,i){let r=this.resolveIndex_(i);if(r)return r.getIteratorFrom(e,o=>o);{let o=this.children_.getIteratorFrom(e.name,Be.Wrap),s=o.peek();for(;s!=null&&i.compare(s,e)<0;)o.getNext(),s=o.peek();return o}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,i){let r=this.resolveIndex_(i);if(r)return r.getReverseIteratorFrom(e,o=>o);{let o=this.children_.getReverseIteratorFrom(e.name,Be.Wrap),s=o.peek();for(;s!=null&&i.compare(s,e)>0;)o.getNext(),s=o.peek();return o}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===_f?-1:0}withIndex(e){if(e===Wa||this.indexMap_.hasIndex(e))return this;{let i=this.indexMap_.addIndex(e,this.children_);return new n(this.children_,this.priorityNode_,i)}}isIndexed(e){return e===Wa||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{let i=e;if(this.getPriority().equals(i.getPriority()))if(this.children_.count()===i.children_.count()){let r=this.getIterator(xt),o=i.getIterator(xt),s=r.getNext(),a=o.getNext();for(;s&&a;){if(s.name!==a.name||!s.node.equals(a.node))return!1;s=r.getNext(),a=o.getNext()}return s===null&&a===null}else return!1;else return!1}}resolveIndex_(e){return e===Wa?null:this.indexMap_.get(e.toString())}}return n.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,n})(),NM=class extends Se{constructor(){super(new zi(wE),Se.EMPTY_NODE,Dl.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return Se.EMPTY_NODE}isEmpty(){return!1}},_f=new NM;Object.defineProperties(Be,{MIN:{value:new Be(Ga,Se.EMPTY_NODE)},MAX:{value:new Be(zs,_f)}});o_.__EMPTY_NODE=Se.EMPTY_NODE;Tl.__childrenNodeConstructor=Se;_G(_f);yG(_f);var CG=!0;function en(n,t=null){if(n===null)return Se.EMPTY_NODE;if(typeof n=="object"&&".priority"in n&&(t=n[".priority"]),Q(t===null||typeof t=="string"||typeof t=="number"||typeof t=="object"&&".sv"in t,"Invalid priority type found: "+typeof t),typeof n=="object"&&".value"in n&&n[".value"]!==null&&(n=n[".value"]),typeof n!="object"||".sv"in n){let e=n;return new Tl(e,en(t))}if(!(n instanceof Array)&&CG){let e=[],i=!1;if(On(n,(s,a)=>{if(s.substring(0,1)!=="."){let c=en(a);c.isEmpty()||(i=i||!c.getPriority().isEmpty(),e.push(new Be(s,c)))}}),e.length===0)return Se.EMPTY_NODE;let o=s_(e,mG,s=>s.name,wE);if(i){let s=s_(e,xt.getCompare());return new Se(o,en(t),new Dl({".priority":s},{".priority":xt}))}else return new Se(o,en(t),Dl.Default)}else{let e=Se.EMPTY_NODE;return On(n,(i,r)=>{if(gr(n,i)&&i.substring(0,1)!=="."){let o=en(r);(o.isLeafNode()||!o.isEmpty())&&(e=e.updateImmediateChild(i,o))}}),e.updatePriority(en(t))}}vG(en);var sf=class extends Sl{constructor(t){super(),this.indexPath_=t,Q(!Fe(t)&&Le(t)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,e){let i=this.extractChild(t.node),r=this.extractChild(e.node),o=i.compareTo(r);return o===0?Ya(t.name,e.name):o}makePost(t,e){let i=en(t),r=Se.EMPTY_NODE.updateChild(this.indexPath_,i);return new Be(e,r)}maxPost(){let t=Se.EMPTY_NODE.updateChild(this.indexPath_,_f);return new Be(zs,t)}toString(){return of(this.indexPath_,0).join("/")}};var LM=class extends Sl{compare(t,e){let i=t.node.compareTo(e.node);return i===0?Ya(t.name,e.name):i}isDefinedOn(t){return!0}indexedValueChanged(t,e){return!t.equals(e)}minPost(){return Be.MIN}maxPost(){return Be.MAX}makePost(t,e){let i=en(t);return new Be(e,i)}toString(){return".value"}},oN=new LM;function sN(n){return{type:"value",snapshotNode:n}}function Al(n,t){return{type:"child_added",snapshotNode:t,childName:n}}function af(n,t){return{type:"child_removed",snapshotNode:t,childName:n}}function cf(n,t,e){return{type:"child_changed",snapshotNode:t,childName:n,oldSnap:e}}function wG(n,t){return{type:"child_moved",snapshotNode:t,childName:n}}var lf=class{constructor(t){this.index_=t}updateChild(t,e,i,r,o,s){Q(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");let a=t.getImmediateChild(e);return a.getChild(r).equals(i.getChild(r))&&a.isEmpty()===i.isEmpty()||(s!=null&&(i.isEmpty()?t.hasChild(e)?s.trackChildChange(af(e,a)):Q(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?s.trackChildChange(Al(e,i)):s.trackChildChange(cf(e,i,a))),t.isLeafNode()&&i.isEmpty())?t:t.updateImmediateChild(e,i).withIndex(this.index_)}updateFullNode(t,e,i){return i!=null&&(t.isLeafNode()||t.forEachChild(xt,(r,o)=>{e.hasChild(r)||i.trackChildChange(af(r,o))}),e.isLeafNode()||e.forEachChild(xt,(r,o)=>{if(t.hasChild(r)){let s=t.getImmediateChild(r);s.equals(o)||i.trackChildChange(cf(r,o,s))}else i.trackChildChange(Al(r,o))})),e.withIndex(this.index_)}updatePriority(t,e){return t.isEmpty()?Se.EMPTY_NODE:t.updatePriority(e)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}};var a_=class n{constructor(t){this.indexedFilter_=new lf(t.getIndex()),this.index_=t.getIndex(),this.startPost_=n.getStartPost_(t),this.endPost_=n.getEndPost_(t),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){let e=this.startIsInclusive_?this.index_.compare(this.getStartPost(),t)<=0:this.index_.compare(this.getStartPost(),t)<0,i=this.endIsInclusive_?this.index_.compare(t,this.getEndPost())<=0:this.index_.compare(t,this.getEndPost())<0;return e&&i}updateChild(t,e,i,r,o,s){return this.matches(new Be(e,i))||(i=Se.EMPTY_NODE),this.indexedFilter_.updateChild(t,e,i,r,o,s)}updateFullNode(t,e,i){e.isLeafNode()&&(e=Se.EMPTY_NODE);let r=e.withIndex(this.index_);r=r.updatePriority(Se.EMPTY_NODE);let o=this;return e.forEachChild(xt,(s,a)=>{o.matches(new Be(s,a))||(r=r.updateImmediateChild(s,Se.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,r,i)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){let e=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),e)}else return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){let e=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),e)}else return t.getIndex().maxPost()}};var FM=class{constructor(t){this.withinDirectionalStart=e=>this.reverse_?this.withinEndPost(e):this.withinStartPost(e),this.withinDirectionalEnd=e=>this.reverse_?this.withinStartPost(e):this.withinEndPost(e),this.withinStartPost=e=>{let i=this.index_.compare(this.rangedFilter_.getStartPost(),e);return this.startIsInclusive_?i<=0:i<0},this.withinEndPost=e=>{let i=this.index_.compare(e,this.rangedFilter_.getEndPost());return this.endIsInclusive_?i<=0:i<0},this.rangedFilter_=new a_(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft(),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}updateChild(t,e,i,r,o,s){return this.rangedFilter_.matches(new Be(e,i))||(i=Se.EMPTY_NODE),t.getImmediateChild(e).equals(i)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,e,i,r,o,s):this.fullLimitUpdateChild_(t,e,i,o,s)}updateFullNode(t,e,i){let r;if(e.isLeafNode()||e.isEmpty())r=Se.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<e.numChildren()&&e.isIndexed(this.index_)){r=Se.EMPTY_NODE.withIndex(this.index_);let o;this.reverse_?o=e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):o=e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let s=0;for(;o.hasNext()&&s<this.limit_;){let a=o.getNext();if(this.withinDirectionalStart(a))if(this.withinDirectionalEnd(a))r=r.updateImmediateChild(a.name,a.node),s++;else break;else continue}}else{r=e.withIndex(this.index_),r=r.updatePriority(Se.EMPTY_NODE);let o;this.reverse_?o=r.getReverseIterator(this.index_):o=r.getIterator(this.index_);let s=0;for(;o.hasNext();){let a=o.getNext();s<this.limit_&&this.withinDirectionalStart(a)&&this.withinDirectionalEnd(a)?s++:r=r.updateImmediateChild(a.name,Se.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,r,i)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,e,i,r,o){let s;if(this.reverse_){let g=this.index_.getCompare();s=(C,E)=>g(E,C)}else s=this.index_.getCompare();let a=t;Q(a.numChildren()===this.limit_,"");let c=new Be(e,i),l=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),m=this.rangedFilter_.matches(c);if(a.hasChild(e)){let g=a.getImmediateChild(e),C=r.getChildAfterChild(this.index_,l,this.reverse_);for(;C!=null&&(C.name===e||a.hasChild(C.name));)C=r.getChildAfterChild(this.index_,C,this.reverse_);let E=C==null?1:s(C,c);if(m&&!i.isEmpty()&&E>=0)return o?.trackChildChange(cf(e,i,g)),a.updateImmediateChild(e,i);{o?.trackChildChange(af(e,g));let k=a.updateImmediateChild(e,Se.EMPTY_NODE);return C!=null&&this.rangedFilter_.matches(C)?(o?.trackChildChange(Al(C.name,C.node)),k.updateImmediateChild(C.name,C.node)):k}}else return i.isEmpty()?t:m&&s(l,c)>=0?(o!=null&&(o.trackChildChange(af(l.name,l.node)),o.trackChildChange(Al(e,i))),a.updateImmediateChild(e,i).updateImmediateChild(l.name,Se.EMPTY_NODE)):t}};var BM=class n{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=xt}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return Q(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return Q(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Ga}hasEnd(){return this.endSet_}getIndexEndValue(){return Q(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return Q(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:zs}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return Q(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===xt}copy(){let t=new n;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}};function MG(n){return n.loadsAllData()?new lf(n.getIndex()):n.hasLimit()?new FM(n):new a_(n)}function EG(n,t,e){let i=n.copy();return i.startSet_=!0,t===void 0&&(t=null),i.indexStartValue_=t,e!=null?(i.startNameSet_=!0,i.indexStartName_=e):(i.startNameSet_=!1,i.indexStartName_=""),i}function PG(n,t,e){let i=n.copy();return i.endSet_=!0,t===void 0&&(t=null),i.indexEndValue_=t,e!==void 0?(i.endNameSet_=!0,i.indexEndName_=e):(i.endNameSet_=!1,i.indexEndName_=""),i}function OG(n,t){let e=n.copy();return e.index_=t,e}function _R(n){let t={};if(n.isDefault())return t;let e;if(n.index_===xt?e="$priority":n.index_===oN?e="$value":n.index_===Wa?e="$key":(Q(n.index_ instanceof sf,"Unrecognized index type!"),e=n.index_.toString()),t.orderBy=Gt(e),n.startSet_){let i=n.startAfterSet_?"startAfter":"startAt";t[i]=Gt(n.indexStartValue_),n.startNameSet_&&(t[i]+=","+Gt(n.indexStartName_))}if(n.endSet_){let i=n.endBeforeSet_?"endBefore":"endAt";t[i]=Gt(n.indexEndValue_),n.endNameSet_&&(t[i]+=","+Gt(n.indexEndName_))}return n.limitSet_&&(n.isViewFromLeft()?t.limitToFirst=n.limit_:t.limitToLast=n.limit_),t}function vR(n){let t={};if(n.startSet_&&(t.sp=n.indexStartValue_,n.startNameSet_&&(t.sn=n.indexStartName_),t.sin=!n.startAfterSet_),n.endSet_&&(t.ep=n.indexEndValue_,n.endNameSet_&&(t.en=n.indexEndName_),t.ein=!n.endBeforeSet_),n.limitSet_){t.l=n.limit_;let e=n.viewFrom_;e===""&&(n.isViewFromLeft()?e="l":e="r"),t.vf=e}return n.index_!==xt&&(t.i=n.index_.toString()),t}var zM=class n extends n_{reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,e){return e!==void 0?"tag$"+e:(Q(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}constructor(t,e,i,r){super(),this.repoInfo_=t,this.onDataUpdate_=e,this.authTokenProvider_=i,this.appCheckTokenProvider_=r,this.log_=mf("p:rest:"),this.listens_={}}listen(t,e,i,r){let o=t._path.toString();this.log_("Listen called for "+o+" "+t._queryIdentifier);let s=n.getListenId_(t,i),a={};this.listens_[s]=a;let c=_R(t._queryParams);this.restRequest_(o+".json",c,(l,m)=>{let g=m;if(l===404&&(g=null,l=null),l===null&&this.onDataUpdate_(o,g,!1,i),La(this.listens_,s)===a){let C;l?l===401?C="permission_denied":C="rest_error:"+l:C="ok",r(C,null)}})}unlisten(t,e){let i=n.getListenId_(t,e);delete this.listens_[i]}get(t){let e=_R(t._queryParams),i=t._path.toString(),r=new Li;return this.restRequest_(i+".json",e,(o,s)=>{let a=s;o===404&&(a=null,o=null),o===null?(this.onDataUpdate_(i,a,!1,null),r.resolve(a)):r.reject(new Error(a))}),r.promise}refreshAuthToken(t){}restRequest_(t,e={},i){return e.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([r,o])=>{r&&r.accessToken&&(e.auth=r.accessToken),o&&o.token&&(e.ac=o.token);let s=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+Es(e);this.log_("Sending REST request for "+s);let a=new XMLHttpRequest;a.onreadystatechange=()=>{if(i&&a.readyState===4){this.log_("REST Response for "+s+" received. status:",a.status,"response:",a.responseText);let c=null;if(a.status>=200&&a.status<300){try{c=gl(a.responseText)}catch{Hn("Failed to parse JSON response for "+s+": "+a.responseText)}i(null,c)}else a.status!==401&&a.status!==404&&Hn("Got unsuccessful REST response for "+s+" Status: "+a.status),i(a.status);i=null}},a.open("GET",s,!0),a.send()})}};var VM=class{constructor(){this.rootNode_=Se.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,e){this.rootNode_=this.rootNode_.updateChild(t,e)}};function c_(){return{value:null,children:new Map}}function aN(n,t,e){if(Fe(t))n.value=e,n.children.clear();else if(n.value!==null)n.value=n.value.updateChild(t,e);else{let i=Le(t);n.children.has(i)||n.children.set(i,c_());let r=n.children.get(i);t=pt(t),aN(r,t,e)}}function jM(n,t,e){n.value!==null?e(t,n.value):xG(n,(i,r)=>{let o=new Ze(t.toString()+"/"+i);jM(r,o,e)})}function xG(n,t){n.children.forEach((e,i)=>{t(i,e)})}var UM=class{constructor(t){this.collection_=t,this.last_=null}get(){let t=this.collection_.get(),e=Object.assign({},t);return this.last_&&On(this.last_,(i,r)=>{e[i]=e[i]-r}),this.last_=t,e}};var yR=10*1e3,IG=30*1e3,SG=300*1e3,$M=class{constructor(t,e){this.server_=e,this.statsToReport_={},this.statsListener_=new UM(t);let i=yR+(IG-yR)*Math.random();Ju(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){let t=this.statsListener_.get(),e={},i=!1;On(t,(r,o)=>{o>0&&gr(this.statsToReport_,r)&&(e[r]=o,i=!0)}),i&&this.server_.reportStats(e),Ju(this.reportStats_.bind(this),Math.floor(Math.random()*2*SG))}};var eo=(function(n){return n[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",n})(eo||{});function ME(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function EE(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function PE(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}var HM=class n{constructor(t,e,i){this.path=t,this.affectedTree=e,this.revert=i,this.type=eo.ACK_USER_WRITE,this.source=ME()}operationForChild(t){if(Fe(this.path)){if(this.affectedTree.value!=null)return Q(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{let e=this.affectedTree.subtree(new Ze(t));return new n(Ke(),e,this.revert)}}else return Q(Le(this.path)===t,"operationForChild called for unrelated child."),new n(pt(this.path),this.affectedTree,this.revert)}};var l_=class n{constructor(t,e){this.source=t,this.path=e,this.type=eo.LISTEN_COMPLETE}operationForChild(t){return Fe(this.path)?new n(this.source,Ke()):new n(this.source,pt(this.path))}};var kl=class n{constructor(t,e,i){this.source=t,this.path=e,this.snap=i,this.type=eo.OVERWRITE}operationForChild(t){return Fe(this.path)?new n(this.source,Ke(),this.snap.getImmediateChild(t)):new n(this.source,pt(this.path),this.snap)}};var df=class n{constructor(t,e,i){this.source=t,this.path=e,this.children=i,this.type=eo.MERGE}operationForChild(t){if(Fe(this.path)){let e=this.children.subtree(new Ze(t));return e.isEmpty()?null:e.value?new kl(this.source,Ke(),e.value):new n(this.source,Ke(),e)}else return Q(Le(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new n(this.source,pt(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}};var to=class{constructor(t,e,i){this.node_=t,this.fullyInitialized_=e,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(Fe(t))return this.isFullyInitialized()&&!this.filtered_;let e=Le(t);return this.isCompleteForChild(e)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}};var qM=class{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}};function TG(n,t,e,i){let r=[],o=[];return t.forEach(s=>{s.type==="child_changed"&&n.index_.indexedValueChanged(s.oldSnap,s.snapshotNode)&&o.push(wG(s.childName,s.snapshotNode))}),Xu(n,r,"child_removed",t,i,e),Xu(n,r,"child_added",t,i,e),Xu(n,r,"child_moved",o,i,e),Xu(n,r,"child_changed",t,i,e),Xu(n,r,"value",t,i,e),r}function Xu(n,t,e,i,r,o){let s=i.filter(a=>a.type===e);s.sort((a,c)=>AG(n,a,c)),s.forEach(a=>{let c=DG(n,a,o);r.forEach(l=>{l.respondsTo(a.type)&&t.push(l.createEvent(c,n.query_))})})}function DG(n,t,e){return t.type==="value"||t.type==="child_removed"||(t.prevName=e.getPredecessorChildName(t.childName,t.snapshotNode,n.index_)),t}function AG(n,t,e){if(t.childName==null||e.childName==null)throw Na("Should only compare child_ events.");let i=new Be(t.childName,t.snapshotNode),r=new Be(e.childName,e.snapshotNode);return n.index_.compare(i,r)}function M_(n,t){return{eventCache:n,serverCache:t}}function tf(n,t,e,i){return M_(new to(t,e,i),n.serverCache)}function cN(n,t,e,i){return M_(n.eventCache,new to(t,e,i))}function d_(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function Ka(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}var hM,kG=()=>(hM||(hM=new zi(DW)),hM),qn=class n{static fromObject(t){let e=new n(null);return On(t,(i,r)=>{e=e.set(new Ze(i),r)}),e}constructor(t,e=kG()){this.value=t,this.children=e}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,e){if(this.value!=null&&e(this.value))return{path:Ke(),value:this.value};if(Fe(t))return null;{let i=Le(t),r=this.children.get(i);if(r!==null){let o=r.findRootMostMatchingPathAndValue(pt(t),e);return o!=null?{path:At(new Ze(i),o.path),value:o.value}:null}else return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(Fe(t))return this;{let e=Le(t),i=this.children.get(e);return i!==null?i.subtree(pt(t)):new n(null)}}set(t,e){if(Fe(t))return new n(e,this.children);{let i=Le(t),o=(this.children.get(i)||new n(null)).set(pt(t),e),s=this.children.insert(i,o);return new n(this.value,s)}}remove(t){if(Fe(t))return this.children.isEmpty()?new n(null):new n(null,this.children);{let e=Le(t),i=this.children.get(e);if(i){let r=i.remove(pt(t)),o;return r.isEmpty()?o=this.children.remove(e):o=this.children.insert(e,r),this.value===null&&o.isEmpty()?new n(null):new n(this.value,o)}else return this}}get(t){if(Fe(t))return this.value;{let e=Le(t),i=this.children.get(e);return i?i.get(pt(t)):null}}setTree(t,e){if(Fe(t))return e;{let i=Le(t),o=(this.children.get(i)||new n(null)).setTree(pt(t),e),s;return o.isEmpty()?s=this.children.remove(i):s=this.children.insert(i,o),new n(this.value,s)}}fold(t){return this.fold_(Ke(),t)}fold_(t,e){let i={};return this.children.inorderTraversal((r,o)=>{i[r]=o.fold_(At(t,r),e)}),e(t,this.value,i)}findOnPath(t,e){return this.findOnPath_(t,Ke(),e)}findOnPath_(t,e,i){let r=this.value?i(e,this.value):!1;if(r)return r;if(Fe(t))return null;{let o=Le(t),s=this.children.get(o);return s?s.findOnPath_(pt(t),At(e,o),i):null}}foreachOnPath(t,e){return this.foreachOnPath_(t,Ke(),e)}foreachOnPath_(t,e,i){if(Fe(t))return this;{this.value&&i(e,this.value);let r=Le(t),o=this.children.get(r);return o?o.foreachOnPath_(pt(t),At(e,r),i):new n(null)}}foreach(t){this.foreach_(Ke(),t)}foreach_(t,e){this.children.inorderTraversal((i,r)=>{r.foreach_(At(t,i),e)}),this.value&&e(t,this.value)}foreachChild(t){this.children.inorderTraversal((e,i)=>{i.value&&t(e,i.value)})}};var br=class n{constructor(t){this.writeTree_=t}static empty(){return new n(new qn(null))}};function nf(n,t,e){if(Fe(t))return new br(new qn(e));{let i=n.writeTree_.findRootMostValueAndPath(t);if(i!=null){let r=i.path,o=i.value,s=$n(r,t);return o=o.updateChild(s,e),new br(n.writeTree_.set(r,o))}else{let r=new qn(e),o=n.writeTree_.setTree(t,r);return new br(o)}}}function WM(n,t,e){let i=n;return On(e,(r,o)=>{i=nf(i,At(t,r),o)}),i}function bR(n,t){if(Fe(t))return br.empty();{let e=n.writeTree_.setTree(t,new qn(null));return new br(e)}}function GM(n,t){return Za(n,t)!=null}function Za(n,t){let e=n.writeTree_.findRootMostValueAndPath(t);return e!=null?n.writeTree_.get(e.path).getChild($n(e.path,t)):null}function CR(n){let t=[],e=n.writeTree_.value;return e!=null?e.isLeafNode()||e.forEachChild(xt,(i,r)=>{t.push(new Be(i,r))}):n.writeTree_.children.inorderTraversal((i,r)=>{r.value!=null&&t.push(new Be(i,r.value))}),t}function Fs(n,t){if(Fe(t))return n;{let e=Za(n,t);return e!=null?new br(new qn(e)):new br(n.writeTree_.subtree(t))}}function KM(n){return n.writeTree_.isEmpty()}function Rl(n,t){return lN(Ke(),n.writeTree_,t)}function lN(n,t,e){if(t.value!=null)return e.updateChild(n,t.value);{let i=null;return t.children.inorderTraversal((r,o)=>{r===".priority"?(Q(o.value!==null,"Priority writes must always be leaf nodes"),i=o.value):e=lN(At(n,r),o,e)}),!e.getChild(n).isEmpty()&&i!==null&&(e=e.updateChild(At(n,".priority"),i)),e}}function E_(n,t){return pN(t,n)}function RG(n,t,e,i,r){Q(i>n.lastWriteId,"Stacking an older write on top of newer ones"),r===void 0&&(r=!0),n.allWrites.push({path:t,snap:e,writeId:i,visible:r}),r&&(n.visibleWrites=nf(n.visibleWrites,t,e)),n.lastWriteId=i}function NG(n,t,e,i){Q(i>n.lastWriteId,"Stacking an older merge on top of newer ones"),n.allWrites.push({path:t,children:e,writeId:i,visible:!0}),n.visibleWrites=WM(n.visibleWrites,t,e),n.lastWriteId=i}function LG(n,t){for(let e=0;e<n.allWrites.length;e++){let i=n.allWrites[e];if(i.writeId===t)return i}return null}function FG(n,t){let e=n.allWrites.findIndex(a=>a.writeId===t);Q(e>=0,"removeWrite called with nonexistent writeId.");let i=n.allWrites[e];n.allWrites.splice(e,1);let r=i.visible,o=!1,s=n.allWrites.length-1;for(;r&&s>=0;){let a=n.allWrites[s];a.visible&&(s>=e&&BG(a,i.path)?r=!1:Bi(i.path,a.path)&&(o=!0)),s--}if(r){if(o)return zG(n),!0;if(i.snap)n.visibleWrites=bR(n.visibleWrites,i.path);else{let a=i.children;On(a,c=>{n.visibleWrites=bR(n.visibleWrites,At(i.path,c))})}return!0}else return!1}function BG(n,t){if(n.snap)return Bi(n.path,t);for(let e in n.children)if(n.children.hasOwnProperty(e)&&Bi(At(n.path,e),t))return!0;return!1}function zG(n){n.visibleWrites=dN(n.allWrites,VG,Ke()),n.allWrites.length>0?n.lastWriteId=n.allWrites[n.allWrites.length-1].writeId:n.lastWriteId=-1}function VG(n){return n.visible}function dN(n,t,e){let i=br.empty();for(let r=0;r<n.length;++r){let o=n[r];if(t(o)){let s=o.path,a;if(o.snap)Bi(e,s)?(a=$n(e,s),i=nf(i,a,o.snap)):Bi(s,e)&&(a=$n(s,e),i=nf(i,Ke(),o.snap.getChild(a)));else if(o.children){if(Bi(e,s))a=$n(e,s),i=WM(i,a,o.children);else if(Bi(s,e))if(a=$n(s,e),Fe(a))i=WM(i,Ke(),o.children);else{let c=La(o.children,Le(a));if(c){let l=c.getChild(pt(a));i=nf(i,Ke(),l)}}}else throw Na("WriteRecord should have .snap or .children")}}return i}function uN(n,t,e,i,r){if(!i&&!r){let o=Za(n.visibleWrites,t);if(o!=null)return o;{let s=Fs(n.visibleWrites,t);if(KM(s))return e;if(e==null&&!GM(s,Ke()))return null;{let a=e||Se.EMPTY_NODE;return Rl(s,a)}}}else{let o=Fs(n.visibleWrites,t);if(!r&&KM(o))return e;if(!r&&e==null&&!GM(o,Ke()))return null;{let s=function(l){return(l.visible||r)&&(!i||!~i.indexOf(l.writeId))&&(Bi(l.path,t)||Bi(t,l.path))},a=dN(n.allWrites,s,t),c=e||Se.EMPTY_NODE;return Rl(a,c)}}}function jG(n,t,e){let i=Se.EMPTY_NODE,r=Za(n.visibleWrites,t);if(r)return r.isLeafNode()||r.forEachChild(xt,(o,s)=>{i=i.updateImmediateChild(o,s)}),i;if(e){let o=Fs(n.visibleWrites,t);return e.forEachChild(xt,(s,a)=>{let c=Rl(Fs(o,new Ze(s)),a);i=i.updateImmediateChild(s,c)}),CR(o).forEach(s=>{i=i.updateImmediateChild(s.name,s.node)}),i}else{let o=Fs(n.visibleWrites,t);return CR(o).forEach(s=>{i=i.updateImmediateChild(s.name,s.node)}),i}}function UG(n,t,e,i,r){Q(i||r,"Either existingEventSnap or existingServerSnap must exist");let o=At(t,e);if(GM(n.visibleWrites,o))return null;{let s=Fs(n.visibleWrites,o);return KM(s)?r.getChild(e):Rl(s,r.getChild(e))}}function $G(n,t,e,i){let r=At(t,e),o=Za(n.visibleWrites,r);if(o!=null)return o;if(i.isCompleteForChild(e)){let s=Fs(n.visibleWrites,r);return Rl(s,i.getNode().getImmediateChild(e))}else return null}function HG(n,t){return Za(n.visibleWrites,t)}function qG(n,t,e,i,r,o,s){let a,c=Fs(n.visibleWrites,t),l=Za(c,Ke());if(l!=null)a=l;else if(e!=null)a=Rl(c,e);else return[];if(a=a.withIndex(s),!a.isEmpty()&&!a.isLeafNode()){let m=[],g=s.getCompare(),C=o?a.getReverseIteratorFrom(i,s):a.getIteratorFrom(i,s),E=C.getNext();for(;E&&m.length<r;)g(E,i)!==0&&m.push(E),E=C.getNext();return m}else return[]}function WG(){return{visibleWrites:br.empty(),allWrites:[],lastWriteId:-1}}function u_(n,t,e,i){return uN(n.writeTree,n.treePath,t,e,i)}function OE(n,t){return jG(n.writeTree,n.treePath,t)}function wR(n,t,e,i){return UG(n.writeTree,n.treePath,t,e,i)}function f_(n,t){return HG(n.writeTree,At(n.treePath,t))}function GG(n,t,e,i,r,o){return qG(n.writeTree,n.treePath,t,e,i,r,o)}function xE(n,t,e){return $G(n.writeTree,n.treePath,t,e)}function fN(n,t){return pN(At(n.treePath,t),n.writeTree)}function pN(n,t){return{treePath:n,writeTree:t}}var QM=class{constructor(){this.changeMap=new Map}trackChildChange(t){let e=t.type,i=t.childName;Q(e==="child_added"||e==="child_changed"||e==="child_removed","Only child changes supported for tracking"),Q(i!==".priority","Only non-priority child changes can be tracked.");let r=this.changeMap.get(i);if(r){let o=r.type;if(e==="child_added"&&o==="child_removed")this.changeMap.set(i,cf(i,t.snapshotNode,r.snapshotNode));else if(e==="child_removed"&&o==="child_added")this.changeMap.delete(i);else if(e==="child_removed"&&o==="child_changed")this.changeMap.set(i,af(i,r.oldSnap));else if(e==="child_changed"&&o==="child_added")this.changeMap.set(i,Al(i,t.snapshotNode));else if(e==="child_changed"&&o==="child_changed")this.changeMap.set(i,cf(i,t.snapshotNode,r.oldSnap));else throw Na("Illegal combination of changes: "+t+" occurred after "+r)}else this.changeMap.set(i,t)}getChanges(){return Array.from(this.changeMap.values())}};var YM=class{getCompleteChild(t){return null}getChildAfterChild(t,e,i){return null}},hN=new YM,uf=class{constructor(t,e,i=null){this.writes_=t,this.viewCache_=e,this.optCompleteServerCache_=i}getCompleteChild(t){let e=this.viewCache_.eventCache;if(e.isCompleteForChild(t))return e.getNode().getImmediateChild(t);{let i=this.optCompleteServerCache_!=null?new to(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return xE(this.writes_,t,i)}}getChildAfterChild(t,e,i){let r=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Ka(this.viewCache_),o=GG(this.writes_,r,e,1,i,t);return o.length===0?null:o[0]}};function KG(n){return{filter:n}}function QG(n,t){Q(t.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),Q(t.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}function YG(n,t,e,i,r){let o=new QM,s,a;if(e.type===eo.OVERWRITE){let l=e;l.source.fromUser?s=ZM(n,t,l.path,l.snap,i,r,o):(Q(l.source.fromServer,"Unknown source."),a=l.source.tagged||t.serverCache.isFiltered()&&!Fe(l.path),s=p_(n,t,l.path,l.snap,i,r,a,o))}else if(e.type===eo.MERGE){let l=e;l.source.fromUser?s=XG(n,t,l.path,l.children,i,r,o):(Q(l.source.fromServer,"Unknown source."),a=l.source.tagged||t.serverCache.isFiltered(),s=XM(n,t,l.path,l.children,i,r,a,o))}else if(e.type===eo.ACK_USER_WRITE){let l=e;l.revert?s=tK(n,t,l.path,i,r,o):s=JG(n,t,l.path,l.affectedTree,i,r,o)}else if(e.type===eo.LISTEN_COMPLETE)s=eK(n,t,e.path,i,o);else throw Na("Unknown operation type: "+e.type);let c=o.getChanges();return ZG(t,s,c),{viewCache:s,changes:c}}function ZG(n,t,e){let i=t.eventCache;if(i.isFullyInitialized()){let r=i.getNode().isLeafNode()||i.getNode().isEmpty(),o=d_(n);(e.length>0||!n.eventCache.isFullyInitialized()||r&&!i.getNode().equals(o)||!i.getNode().getPriority().equals(o.getPriority()))&&e.push(sN(d_(t)))}}function gN(n,t,e,i,r,o){let s=t.eventCache;if(f_(i,e)!=null)return t;{let a,c;if(Fe(e))if(Q(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){let l=Ka(t),m=l instanceof Se?l:Se.EMPTY_NODE,g=OE(i,m);a=n.filter.updateFullNode(t.eventCache.getNode(),g,o)}else{let l=u_(i,Ka(t));a=n.filter.updateFullNode(t.eventCache.getNode(),l,o)}else{let l=Le(e);if(l===".priority"){Q(Vs(e)===1,"Can't have a priority with additional path components");let m=s.getNode();c=t.serverCache.getNode();let g=wR(i,e,m,c);g!=null?a=n.filter.updatePriority(m,g):a=s.getNode()}else{let m=pt(e),g;if(s.isCompleteForChild(l)){c=t.serverCache.getNode();let C=wR(i,e,s.getNode(),c);C!=null?g=s.getNode().getImmediateChild(l).updateChild(m,C):g=s.getNode().getImmediateChild(l)}else g=xE(i,l,t.serverCache);g!=null?a=n.filter.updateChild(s.getNode(),l,g,m,r,o):a=s.getNode()}}return tf(t,a,s.isFullyInitialized()||Fe(e),n.filter.filtersNodes())}}function p_(n,t,e,i,r,o,s,a){let c=t.serverCache,l,m=s?n.filter:n.filter.getIndexedFilter();if(Fe(e))l=m.updateFullNode(c.getNode(),i,null);else if(m.filtersNodes()&&!c.isFiltered()){let E=c.getNode().updateChild(e,i);l=m.updateFullNode(c.getNode(),E,null)}else{let E=Le(e);if(!c.isCompleteForPath(e)&&Vs(e)>1)return t;let S=pt(e),R=c.getNode().getImmediateChild(E).updateChild(S,i);E===".priority"?l=m.updatePriority(c.getNode(),R):l=m.updateChild(c.getNode(),E,R,S,hN,null)}let g=cN(t,l,c.isFullyInitialized()||Fe(e),m.filtersNodes()),C=new uf(r,g,o);return gN(n,g,e,r,C,a)}function ZM(n,t,e,i,r,o,s){let a=t.eventCache,c,l,m=new uf(r,t,o);if(Fe(e))l=n.filter.updateFullNode(t.eventCache.getNode(),i,s),c=tf(t,l,!0,n.filter.filtersNodes());else{let g=Le(e);if(g===".priority")l=n.filter.updatePriority(t.eventCache.getNode(),i),c=tf(t,l,a.isFullyInitialized(),a.isFiltered());else{let C=pt(e),E=a.getNode().getImmediateChild(g),S;if(Fe(C))S=i;else{let k=m.getCompleteChild(g);k!=null?yE(C)===".priority"&&k.getChild(JR(C)).isEmpty()?S=k:S=k.updateChild(C,i):S=Se.EMPTY_NODE}if(E.equals(S))c=t;else{let k=n.filter.updateChild(a.getNode(),g,S,C,m,s);c=tf(t,k,a.isFullyInitialized(),n.filter.filtersNodes())}}}return c}function MR(n,t){return n.eventCache.isCompleteForChild(t)}function XG(n,t,e,i,r,o,s){let a=t;return i.foreach((c,l)=>{let m=At(e,c);MR(t,Le(m))&&(a=ZM(n,a,m,l,r,o,s))}),i.foreach((c,l)=>{let m=At(e,c);MR(t,Le(m))||(a=ZM(n,a,m,l,r,o,s))}),a}function ER(n,t,e){return e.foreach((i,r)=>{t=t.updateChild(i,r)}),t}function XM(n,t,e,i,r,o,s,a){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let c=t,l;Fe(e)?l=i:l=new qn(null).setTree(e,i);let m=t.serverCache.getNode();return l.children.inorderTraversal((g,C)=>{if(m.hasChild(g)){let E=t.serverCache.getNode().getImmediateChild(g),S=ER(n,E,C);c=p_(n,c,new Ze(g),S,r,o,s,a)}}),l.children.inorderTraversal((g,C)=>{let E=!t.serverCache.isCompleteForChild(g)&&C.value===null;if(!m.hasChild(g)&&!E){let S=t.serverCache.getNode().getImmediateChild(g),k=ER(n,S,C);c=p_(n,c,new Ze(g),k,r,o,s,a)}}),c}function JG(n,t,e,i,r,o,s){if(f_(r,e)!=null)return t;let a=t.serverCache.isFiltered(),c=t.serverCache;if(i.value!=null){if(Fe(e)&&c.isFullyInitialized()||c.isCompleteForPath(e))return p_(n,t,e,c.getNode().getChild(e),r,o,a,s);if(Fe(e)){let l=new qn(null);return c.getNode().forEachChild(Wa,(m,g)=>{l=l.set(new Ze(m),g)}),XM(n,t,e,l,r,o,a,s)}else return t}else{let l=new qn(null);return i.foreach((m,g)=>{let C=At(e,m);c.isCompleteForPath(C)&&(l=l.set(m,c.getNode().getChild(C)))}),XM(n,t,e,l,r,o,a,s)}}function eK(n,t,e,i,r){let o=t.serverCache,s=cN(t,o.getNode(),o.isFullyInitialized()||Fe(e),o.isFiltered());return gN(n,s,e,i,hN,r)}function tK(n,t,e,i,r,o){let s;if(f_(i,e)!=null)return t;{let a=new uf(i,t,r),c=t.eventCache.getNode(),l;if(Fe(e)||Le(e)===".priority"){let m;if(t.serverCache.isFullyInitialized())m=u_(i,Ka(t));else{let g=t.serverCache.getNode();Q(g instanceof Se,"serverChildren would be complete if leaf node"),m=OE(i,g)}m=m,l=n.filter.updateFullNode(c,m,o)}else{let m=Le(e),g=xE(i,m,t.serverCache);g==null&&t.serverCache.isCompleteForChild(m)&&(g=c.getImmediateChild(m)),g!=null?l=n.filter.updateChild(c,m,g,pt(e),a,o):t.eventCache.getNode().hasChild(m)?l=n.filter.updateChild(c,m,Se.EMPTY_NODE,pt(e),a,o):l=c,l.isEmpty()&&t.serverCache.isFullyInitialized()&&(s=u_(i,Ka(t)),s.isLeafNode()&&(l=n.filter.updateFullNode(l,s,o)))}return s=t.serverCache.isFullyInitialized()||f_(i,Ke())!=null,tf(t,l,s,n.filter.filtersNodes())}}var JM=class{constructor(t,e){this.query_=t,this.eventRegistrations_=[];let i=this.query_._queryParams,r=new lf(i.getIndex()),o=MG(i);this.processor_=KG(o);let s=e.serverCache,a=e.eventCache,c=r.updateFullNode(Se.EMPTY_NODE,s.getNode(),null),l=o.updateFullNode(Se.EMPTY_NODE,a.getNode(),null),m=new to(c,s.isFullyInitialized(),r.filtersNodes()),g=new to(l,a.isFullyInitialized(),o.filtersNodes());this.viewCache_=M_(g,m),this.eventGenerator_=new qM(this.query_)}get query(){return this.query_}};function nK(n){return n.viewCache_.serverCache.getNode()}function iK(n){return d_(n.viewCache_)}function rK(n,t){let e=Ka(n.viewCache_);return e&&(n.query._queryParams.loadsAllData()||!Fe(t)&&!e.getImmediateChild(Le(t)).isEmpty())?e.getChild(t):null}function PR(n){return n.eventRegistrations_.length===0}function oK(n,t){n.eventRegistrations_.push(t)}function OR(n,t,e){let i=[];if(e){Q(t==null,"A cancel should cancel all event registrations.");let r=n.query._path;n.eventRegistrations_.forEach(o=>{let s=o.createCancelEvent(e,r);s&&i.push(s)})}if(t){let r=[];for(let o=0;o<n.eventRegistrations_.length;++o){let s=n.eventRegistrations_[o];if(!s.matches(t))r.push(s);else if(t.hasAnyCallback()){r=r.concat(n.eventRegistrations_.slice(o+1));break}}n.eventRegistrations_=r}else n.eventRegistrations_=[];return i}function xR(n,t,e,i){t.type===eo.MERGE&&t.source.queryId!==null&&(Q(Ka(n.viewCache_),"We should always have a full cache before handling merges"),Q(d_(n.viewCache_),"Missing event cache, even though we have a server cache"));let r=n.viewCache_,o=YG(n.processor_,r,t,e,i);return QG(n.processor_,o.viewCache),Q(o.viewCache.serverCache.isFullyInitialized()||!r.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=o.viewCache,mN(n,o.changes,o.viewCache.eventCache.getNode(),null)}function sK(n,t){let e=n.viewCache_.eventCache,i=[];return e.getNode().isLeafNode()||e.getNode().forEachChild(xt,(o,s)=>{i.push(Al(o,s))}),e.isFullyInitialized()&&i.push(sN(e.getNode())),mN(n,i,e.getNode(),t)}function mN(n,t,e,i){let r=i?[i]:n.eventRegistrations_;return TG(n.eventGenerator_,t,e,r)}var h_,g_=class{constructor(){this.views=new Map}};function aK(n){Q(!h_,"__referenceConstructor has already been defined"),h_=n}function cK(){return Q(h_,"Reference.ts has not been loaded"),h_}function lK(n){return n.views.size===0}function IE(n,t,e,i){let r=t.source.queryId;if(r!==null){let o=n.views.get(r);return Q(o!=null,"SyncTree gave us an op for an invalid query."),xR(o,t,e,i)}else{let o=[];for(let s of n.views.values())o=o.concat(xR(s,t,e,i));return o}}function _N(n,t,e,i,r){let o=t._queryIdentifier,s=n.views.get(o);if(!s){let a=u_(e,r?i:null),c=!1;a?c=!0:i instanceof Se?(a=OE(e,i),c=!1):(a=Se.EMPTY_NODE,c=!1);let l=M_(new to(a,c,!1),new to(i,r,!1));return new JM(t,l)}return s}function dK(n,t,e,i,r,o){let s=_N(n,t,i,r,o);return n.views.has(t._queryIdentifier)||n.views.set(t._queryIdentifier,s),oK(s,e),sK(s,e)}function uK(n,t,e,i){let r=t._queryIdentifier,o=[],s=[],a=js(n);if(r==="default")for(let[c,l]of n.views.entries())s=s.concat(OR(l,e,i)),PR(l)&&(n.views.delete(c),l.query._queryParams.loadsAllData()||o.push(l.query));else{let c=n.views.get(r);c&&(s=s.concat(OR(c,e,i)),PR(c)&&(n.views.delete(r),c.query._queryParams.loadsAllData()||o.push(c.query)))}return a&&!js(n)&&o.push(new(cK())(t._repo,t._path)),{removed:o,events:s}}function vN(n){let t=[];for(let e of n.views.values())e.query._queryParams.loadsAllData()||t.push(e);return t}function Bs(n,t){let e=null;for(let i of n.views.values())e=e||rK(i,t);return e}function yN(n,t){if(t._queryParams.loadsAllData())return P_(n);{let i=t._queryIdentifier;return n.views.get(i)}}function bN(n,t){return yN(n,t)!=null}function js(n){return P_(n)!=null}function P_(n){for(let t of n.views.values())if(t.query._queryParams.loadsAllData())return t;return null}var m_;function fK(n){Q(!m_,"__referenceConstructor has already been defined"),m_=n}function pK(){return Q(m_,"Reference.ts has not been loaded"),m_}var hK=1,__=class{constructor(t){this.listenProvider_=t,this.syncPointTree_=new qn(null),this.pendingWriteTree_=WG(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}};function CN(n,t,e,i,r){return RG(n.pendingWriteTree_,t,e,i,r),r?zl(n,new kl(ME(),t,e)):[]}function gK(n,t,e,i){NG(n.pendingWriteTree_,t,e,i);let r=qn.fromObject(e);return zl(n,new df(ME(),t,r))}function Ls(n,t,e=!1){let i=LG(n.pendingWriteTree_,t);if(FG(n.pendingWriteTree_,t)){let o=new qn(null);return i.snap!=null?o=o.set(Ke(),!0):On(i.children,s=>{o=o.set(new Ze(s),!0)}),zl(n,new HM(i.path,o,e))}else return[]}function vf(n,t,e){return zl(n,new kl(EE(),t,e))}function mK(n,t,e){let i=qn.fromObject(e);return zl(n,new df(EE(),t,i))}function _K(n,t){return zl(n,new l_(EE(),t))}function vK(n,t,e){let i=TE(n,e);if(i){let r=DE(i),o=r.path,s=r.queryId,a=$n(o,t),c=new l_(PE(s),a);return AE(n,o,c)}else return[]}function v_(n,t,e,i,r=!1){let o=t._path,s=n.syncPointTree_.get(o),a=[];if(s&&(t._queryIdentifier==="default"||bN(s,t))){let c=uK(s,t,e,i);lK(s)&&(n.syncPointTree_=n.syncPointTree_.remove(o));let l=c.removed;if(a=c.events,!r){let m=l.findIndex(C=>C._queryParams.loadsAllData())!==-1,g=n.syncPointTree_.findOnPath(o,(C,E)=>js(E));if(m&&!g){let C=n.syncPointTree_.subtree(o);if(!C.isEmpty()){let E=CK(C);for(let S=0;S<E.length;++S){let k=E[S],R=k.query,V=PN(n,k);n.listenProvider_.startListening(rf(R),ff(n,R),V.hashFn,V.onComplete)}}}!g&&l.length>0&&!i&&(m?n.listenProvider_.stopListening(rf(t),null):l.forEach(C=>{let E=n.queryToTagMap.get(O_(C));n.listenProvider_.stopListening(rf(C),E)}))}wK(n,l)}return a}function wN(n,t,e,i){let r=TE(n,i);if(r!=null){let o=DE(r),s=o.path,a=o.queryId,c=$n(s,t),l=new kl(PE(a),c,e);return AE(n,s,l)}else return[]}function yK(n,t,e,i){let r=TE(n,i);if(r){let o=DE(r),s=o.path,a=o.queryId,c=$n(s,t),l=qn.fromObject(e),m=new df(PE(a),c,l);return AE(n,s,m)}else return[]}function eE(n,t,e,i=!1){let r=t._path,o=null,s=!1;n.syncPointTree_.foreachOnPath(r,(C,E)=>{let S=$n(C,r);o=o||Bs(E,S),s=s||js(E)});let a=n.syncPointTree_.get(r);a?(s=s||js(a),o=o||Bs(a,Ke())):(a=new g_,n.syncPointTree_=n.syncPointTree_.set(r,a));let c;o!=null?c=!0:(c=!1,o=Se.EMPTY_NODE,n.syncPointTree_.subtree(r).foreachChild((E,S)=>{let k=Bs(S,Ke());k&&(o=o.updateImmediateChild(E,k))}));let l=bN(a,t);if(!l&&!t._queryParams.loadsAllData()){let C=O_(t);Q(!n.queryToTagMap.has(C),"View does not exist, but we have a tag");let E=MK();n.queryToTagMap.set(C,E),n.tagToQueryMap.set(E,C)}let m=E_(n.pendingWriteTree_,r),g=dK(a,t,e,m,o,c);if(!l&&!s&&!i){let C=yN(a,t);g=g.concat(EK(n,t,C))}return g}function SE(n,t,e){let r=n.pendingWriteTree_,o=n.syncPointTree_.findOnPath(t,(s,a)=>{let c=$n(s,t),l=Bs(a,c);if(l)return l});return uN(r,t,o,e,!0)}function bK(n,t){let e=t._path,i=null;n.syncPointTree_.foreachOnPath(e,(l,m)=>{let g=$n(l,e);i=i||Bs(m,g)});let r=n.syncPointTree_.get(e);r?i=i||Bs(r,Ke()):(r=new g_,n.syncPointTree_=n.syncPointTree_.set(e,r));let o=i!=null,s=o?new to(i,!0,!1):null,a=E_(n.pendingWriteTree_,t._path),c=_N(r,t,a,o?s.getNode():Se.EMPTY_NODE,o);return iK(c)}function zl(n,t){return MN(t,n.syncPointTree_,null,E_(n.pendingWriteTree_,Ke()))}function MN(n,t,e,i){if(Fe(n.path))return EN(n,t,e,i);{let r=t.get(Ke());e==null&&r!=null&&(e=Bs(r,Ke()));let o=[],s=Le(n.path),a=n.operationForChild(s),c=t.children.get(s);if(c&&a){let l=e?e.getImmediateChild(s):null,m=fN(i,s);o=o.concat(MN(a,c,l,m))}return r&&(o=o.concat(IE(r,n,i,e))),o}}function EN(n,t,e,i){let r=t.get(Ke());e==null&&r!=null&&(e=Bs(r,Ke()));let o=[];return t.children.inorderTraversal((s,a)=>{let c=e?e.getImmediateChild(s):null,l=fN(i,s),m=n.operationForChild(s);m&&(o=o.concat(EN(m,a,c,l)))}),r&&(o=o.concat(IE(r,n,i,e))),o}function PN(n,t){let e=t.query,i=ff(n,e);return{hashFn:()=>(nK(t)||Se.EMPTY_NODE).hash(),onComplete:r=>{if(r==="ok")return i?vK(n,e._path,i):_K(n,e._path);{let o=RW(r,e);return v_(n,e,null,o)}}}}function ff(n,t){let e=O_(t);return n.queryToTagMap.get(e)}function O_(n){return n._path.toString()+"$"+n._queryIdentifier}function TE(n,t){return n.tagToQueryMap.get(t)}function DE(n){let t=n.indexOf("$");return Q(t!==-1&&t<n.length-1,"Bad queryKey."),{queryId:n.substr(t+1),path:new Ze(n.substr(0,t))}}function AE(n,t,e){let i=n.syncPointTree_.get(t);Q(i,"Missing sync point for query tag that we're tracking");let r=E_(n.pendingWriteTree_,t);return IE(i,e,r,null)}function CK(n){return n.fold((t,e,i)=>{if(e&&js(e))return[P_(e)];{let r=[];return e&&(r=vN(e)),On(i,(o,s)=>{r=r.concat(s)}),r}})}function rf(n){return n._queryParams.loadsAllData()&&!n._queryParams.isDefault()?new(pK())(n._repo,n._path):n}function wK(n,t){for(let e=0;e<t.length;++e){let i=t[e];if(!i._queryParams.loadsAllData()){let r=O_(i),o=n.queryToTagMap.get(r);n.queryToTagMap.delete(r),n.tagToQueryMap.delete(o)}}}function MK(){return hK++}function EK(n,t,e){let i=t._path,r=ff(n,t),o=PN(n,e),s=n.listenProvider_.startListening(rf(t),r,o.hashFn,o.onComplete),a=n.syncPointTree_.subtree(i);if(r)Q(!js(a.value),"If we're adding a query, it shouldn't be shadowed");else{let c=a.fold((l,m,g)=>{if(!Fe(l)&&m&&js(m))return[P_(m).query];{let C=[];return m&&(C=C.concat(vN(m).map(E=>E.query))),On(g,(E,S)=>{C=C.concat(S)}),C}});for(let l=0;l<c.length;++l){let m=c[l];n.listenProvider_.stopListening(rf(m),ff(n,m))}}return s}var tE=class n{constructor(t){this.node_=t}getImmediateChild(t){let e=this.node_.getImmediateChild(t);return new n(e)}node(){return this.node_}},nE=class n{constructor(t,e){this.syncTree_=t,this.path_=e}getImmediateChild(t){let e=At(this.path_,t);return new n(this.syncTree_,e)}node(){return SE(this.syncTree_,this.path_)}},PK=function(n){return n=n||{},n.timestamp=n.timestamp||new Date().getTime(),n},IR=function(n,t,e){if(!n||typeof n!="object")return n;if(Q(".sv"in n,"Unexpected leaf node or priority contents"),typeof n[".sv"]=="string")return OK(n[".sv"],t,e);if(typeof n[".sv"]=="object")return xK(n[".sv"],t);Q(!1,"Unexpected server value: "+JSON.stringify(n,null,2))},OK=function(n,t,e){switch(n){case"timestamp":return e.timestamp;default:Q(!1,"Unexpected server value: "+n)}},xK=function(n,t,e){n.hasOwnProperty("increment")||Q(!1,"Unexpected server value: "+JSON.stringify(n,null,2));let i=n.increment;typeof i!="number"&&Q(!1,"Unexpected increment value: "+i);let r=t.node();if(Q(r!==null&&typeof r<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!r.isLeafNode())return i;let s=r.getValue();return typeof s!="number"?i:s+i},ON=function(n,t,e,i){return kE(t,new nE(e,n),i)},xN=function(n,t,e){return kE(n,new tE(t),e)};function kE(n,t,e){let i=n.getPriority().val(),r=IR(i,t.getImmediateChild(".priority"),e),o;if(n.isLeafNode()){let s=n,a=IR(s.getValue(),t,e);return a!==s.getValue()||r!==s.getPriority().val()?new Tl(a,en(r)):n}else{let s=n;return o=s,r!==s.getPriority().val()&&(o=o.updatePriority(new Tl(r))),s.forEachChild(xt,(a,c)=>{let l=kE(c,t.getImmediateChild(a),e);l!==c&&(o=o.updateImmediateChild(a,l))}),o}}var pf=class{constructor(t="",e=null,i={children:{},childCount:0}){this.name=t,this.parent=e,this.node=i}};function RE(n,t){let e=t instanceof Ze?t:new Ze(t),i=n,r=Le(e);for(;r!==null;){let o=La(i.node.children,r)||{children:{},childCount:0};i=new pf(r,i,o),e=pt(e),r=Le(e)}return i}function Vl(n){return n.node.value}function IN(n,t){n.node.value=t,iE(n)}function SN(n){return n.node.childCount>0}function IK(n){return Vl(n)===void 0&&!SN(n)}function x_(n,t){On(n.node.children,(e,i)=>{t(new pf(e,n,i))})}function TN(n,t,e,i){e&&!i&&t(n),x_(n,r=>{TN(r,t,!0,i)}),e&&i&&t(n)}function SK(n,t,e){let i=e?n:n.parent;for(;i!==null;){if(t(i))return!0;i=i.parent}return!1}function yf(n){return new Ze(n.parent===null?n.name:yf(n.parent)+"/"+n.name)}function iE(n){n.parent!==null&&TK(n.parent,n.name,n)}function TK(n,t,e){let i=IK(e),r=gr(n.node.children,t);i&&r?(delete n.node.children[t],n.node.childCount--,iE(n)):!i&&!r&&(n.node.children[t]=e.node,n.node.childCount++,iE(n))}var DK=/[\[\].#$\/\u0000-\u001F\u007F]/,AK=/[\[\].#$\u0000-\u001F\u007F]/,gM=10*1024*1024,I_=function(n){return typeof n=="string"&&n.length!==0&&!DK.test(n)},DN=function(n){return typeof n=="string"&&n.length!==0&&!AK.test(n)},kK=function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),DN(n)},rE=function(n){return n===null||typeof n=="string"||typeof n=="number"&&!mE(n)||n&&typeof n=="object"&&gr(n,".sv")},bf=function(n,t,e,i){i&&t===void 0||S_(Cl(n,"value"),t,e)},S_=function(n,t,e){let i=e instanceof Ze?new SM(e,n):e;if(t===void 0)throw new Error(n+"contains undefined "+$a(i));if(typeof t=="function")throw new Error(n+"contains a function "+$a(i)+" with contents = "+t.toString());if(mE(t))throw new Error(n+"contains "+t.toString()+" "+$a(i));if(typeof t=="string"&&t.length>gM/3&&ku(t)>gM)throw new Error(n+"contains a string greater than "+gM+" utf8 bytes "+$a(i)+" ('"+t.substring(0,50)+"...')");if(t&&typeof t=="object"){let r=!1,o=!1;if(On(t,(s,a)=>{if(s===".value")r=!0;else if(s!==".priority"&&s!==".sv"&&(o=!0,!I_(s)))throw new Error(n+" contains an invalid key ("+s+") "+$a(i)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);dG(i,s),S_(n,a,i),uG(i)}),r&&o)throw new Error(n+' contains ".value" child '+$a(i)+" in addition to actual children.")}},RK=function(n,t){let e,i;for(e=0;e<t.length;e++){i=t[e];let o=of(i);for(let s=0;s<o.length;s++)if(!(o[s]===".priority"&&s===o.length-1)){if(!I_(o[s]))throw new Error(n+"contains an invalid key ("+o[s]+") in path "+i.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}t.sort(lG);let r=null;for(e=0;e<t.length;e++){if(i=t[e],r!==null&&Bi(r,i))throw new Error(n+"contains a path "+r.toString()+" that is ancestor of another path "+i.toString());r=i}},NK=function(n,t,e,i){if(i&&t===void 0)return;let r=Cl(n,"values");if(!(t&&typeof t=="object")||Array.isArray(t))throw new Error(r+" must be an object containing the children to replace.");let o=[];On(t,(s,a)=>{let c=new Ze(s);if(S_(r,a,At(e,c)),yE(c)===".priority"&&!rE(a))throw new Error(r+"contains an invalid value for '"+c.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");o.push(c)}),RK(r,o)};var LK=function(n,t,e,i){if(!(i&&e===void 0)&&!I_(e))throw new Error(Cl(n,t)+'was an invalid key = "'+e+`".  Firebase keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]").`)},NE=function(n,t,e,i){if(!(i&&e===void 0)&&!DN(e))throw new Error(Cl(n,t)+'was an invalid path = "'+e+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},FK=function(n,t,e,i){e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),NE(n,t,e,i)},LE=function(n,t){if(Le(t)===".info")throw new Error(n+" failed = Can't modify data under /.info/")},BK=function(n,t){let e=t.path.toString();if(typeof t.repoInfo.host!="string"||t.repoInfo.host.length===0||!I_(t.repoInfo.namespace)&&t.repoInfo.host.split(":")[0]!=="localhost"||e.length!==0&&!kK(e))throw new Error(Cl(n,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};var oE=class{constructor(){this.eventLists_=[],this.recursionDepth_=0}};function T_(n,t){let e=null;for(let i=0;i<t.length;i++){let r=t[i],o=r.getPath();e!==null&&!bE(o,e.path)&&(n.eventLists_.push(e),e=null),e===null&&(e={events:[],path:o}),e.events.push(r)}e&&n.eventLists_.push(e)}function AN(n,t,e){T_(n,e),kN(n,i=>bE(i,t))}function Vi(n,t,e){T_(n,e),kN(n,i=>Bi(i,t)||Bi(t,i))}function kN(n,t){n.recursionDepth_++;let e=!0;for(let i=0;i<n.eventLists_.length;i++){let r=n.eventLists_[i];if(r){let o=r.path;t(o)?(zK(n.eventLists_[i]),n.eventLists_[i]=null):e=!1}}e&&(n.eventLists_=[]),n.recursionDepth_--}function zK(n){for(let t=0;t<n.events.length;t++){let e=n.events[t];if(e!==null){n.events[t]=null;let i=e.getEventRunner();qa&&Pn("event: "+e.toString()),Bl(i)}}}var VK="repo_interrupt",jK=25,sE=class{constructor(t,e,i,r){this.repoInfo_=t,this.forceRestClient_=e,this.authTokenProvider_=i,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new oE,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=c_(),this.transactionQueueTree_=new pf,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}};function UK(n,t,e){if(n.stats_=vE(n.repoInfo_),n.forceRestClient_||BW())n.server_=new zM(n.repoInfo_,(i,r,o,s)=>{SR(n,i,r,o,s)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>TR(n,!0),0);else{if(typeof e<"u"&&e!==null){if(typeof e!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Gt(e)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}n.persistentConnection_=new CE(n.repoInfo_,t,(i,r,o,s)=>{SR(n,i,r,o,s)},i=>{TR(n,i)},i=>{$K(n,i)},n.authTokenProvider_,n.appCheckProvider_,e),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(i=>{n.server_.refreshAuthToken(i)}),n.appCheckProvider_.addTokenChangeListener(i=>{n.server_.refreshAppCheckToken(i.token)}),n.statsReporter_=VW(n.repoInfo_,()=>new $M(n.stats_,n.server_)),n.infoData_=new VM,n.infoSyncTree_=new __({startListening:(i,r,o,s)=>{let a=[],c=n.infoData_.getNode(i._path);return c.isEmpty()||(a=vf(n.infoSyncTree_,i._path,c),setTimeout(()=>{s("ok")},0)),a},stopListening:()=>{}}),FE(n,"connected",!1),n.serverSyncTree_=new __({startListening:(i,r,o,s)=>(n.server_.listen(i,o,r,(a,c)=>{let l=s(a,c);Vi(n.eventQueue_,i._path,l)}),[]),stopListening:(i,r)=>{n.server_.unlisten(i,r)}})}function RN(n){let e=n.infoData_.getNode(new Ze(".info/serverTimeOffset")).val()||0;return new Date().getTime()+e}function D_(n){return PK({timestamp:RN(n)})}function SR(n,t,e,i,r){n.dataUpdateCount++;let o=new Ze(t);e=n.interceptServerDataCallback_?n.interceptServerDataCallback_(t,e):e;let s=[];if(r)if(i){let c=Au(e,l=>en(l));s=yK(n.serverSyncTree_,o,c,r)}else{let c=en(e);s=wN(n.serverSyncTree_,o,c,r)}else if(i){let c=Au(e,l=>en(l));s=mK(n.serverSyncTree_,o,c)}else{let c=en(e);s=vf(n.serverSyncTree_,o,c)}let a=o;s.length>0&&(a=Nl(n,o)),Vi(n.eventQueue_,a,s)}function TR(n,t){FE(n,"connected",t),t===!1&&GK(n)}function $K(n,t){On(t,(e,i)=>{FE(n,e,i)})}function FE(n,t,e){let i=new Ze("/.info/"+t),r=en(e);n.infoData_.updateSnapshot(i,r);let o=vf(n.infoSyncTree_,i,r);Vi(n.eventQueue_,i,o)}function BE(n){return n.nextWriteId_++}function HK(n,t,e){let i=bK(n.serverSyncTree_,t);return i!=null?Promise.resolve(i):n.server_.get(t).then(r=>{let o=en(r).withIndex(t._queryParams.getIndex());eE(n.serverSyncTree_,t,e,!0);let s;if(t._queryParams.loadsAllData())s=vf(n.serverSyncTree_,t._path,o);else{let a=ff(n.serverSyncTree_,t);s=wN(n.serverSyncTree_,t._path,o,a)}return Vi(n.eventQueue_,t._path,s),v_(n.serverSyncTree_,t,e,null,!0),o},r=>(Cf(n,"get for query "+Gt(t)+" failed: "+r),Promise.reject(new Error(r))))}function qK(n,t,e,i,r){Cf(n,"set",{path:t.toString(),value:e,priority:i});let o=D_(n),s=en(e,i),a=SE(n.serverSyncTree_,t),c=xN(s,a,o),l=BE(n),m=CN(n.serverSyncTree_,t,c,l,!0);T_(n.eventQueue_,m),n.server_.put(t.toString(),s.val(!0),(C,E)=>{let S=C==="ok";S||Hn("set at "+t+" failed: "+C);let k=Ls(n.serverSyncTree_,l,!S);Vi(n.eventQueue_,t,k),aE(n,r,C,E)});let g=VE(n,t);Nl(n,g),Vi(n.eventQueue_,g,[])}function WK(n,t,e,i){Cf(n,"update",{path:t.toString(),value:e});let r=!0,o=D_(n),s={};if(On(e,(a,c)=>{r=!1,s[a]=ON(At(t,a),en(c),n.serverSyncTree_,o)}),r)Pn("update() called with empty data.  Don't do anything."),aE(n,i,"ok",void 0);else{let a=BE(n),c=gK(n.serverSyncTree_,t,s,a);T_(n.eventQueue_,c),n.server_.merge(t.toString(),e,(l,m)=>{let g=l==="ok";g||Hn("update at "+t+" failed: "+l);let C=Ls(n.serverSyncTree_,a,!g),E=C.length>0?Nl(n,t):t;Vi(n.eventQueue_,E,C),aE(n,i,l,m)}),On(e,l=>{let m=VE(n,At(t,l));Nl(n,m)}),Vi(n.eventQueue_,t,[])}}function GK(n){Cf(n,"onDisconnectEvents");let t=D_(n),e=c_();jM(n.onDisconnect_,Ke(),(r,o)=>{let s=ON(r,o,n.serverSyncTree_,t);aN(e,r,s)});let i=[];jM(e,Ke(),(r,o)=>{i=i.concat(vf(n.serverSyncTree_,r,o));let s=VE(n,r);Nl(n,s)}),n.onDisconnect_=c_(),Vi(n.eventQueue_,Ke(),i)}function KK(n,t,e){let i;Le(t._path)===".info"?i=eE(n.infoSyncTree_,t,e):i=eE(n.serverSyncTree_,t,e),AN(n.eventQueue_,t._path,i)}function DR(n,t,e){let i;Le(t._path)===".info"?i=v_(n.infoSyncTree_,t,e):i=v_(n.serverSyncTree_,t,e),AN(n.eventQueue_,t._path,i)}function QK(n){n.persistentConnection_&&n.persistentConnection_.interrupt(VK)}function Cf(n,...t){let e="";n.persistentConnection_&&(e=n.persistentConnection_.id+":"),Pn(e,...t)}function aE(n,t,e,i){t&&Bl(()=>{if(e==="ok")t(null);else{let r=(e||"error").toUpperCase(),o=r;i&&(o+=": "+i);let s=new Error(o);s.code=r,t(s)}})}function NN(n,t,e){return SE(n.serverSyncTree_,t,e)||Se.EMPTY_NODE}function zE(n,t=n.transactionQueueTree_){if(t||A_(n,t),Vl(t)){let e=FN(n,t);Q(e.length>0,"Sending zero length transaction queue"),e.every(r=>r.status===0)&&YK(n,yf(t),e)}else SN(t)&&x_(t,e=>{zE(n,e)})}function YK(n,t,e){let i=e.map(l=>l.currentWriteId),r=NN(n,t,i),o=r,s=r.hash();for(let l=0;l<e.length;l++){let m=e[l];Q(m.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),m.status=1,m.retryCount++;let g=$n(t,m.path);o=o.updateChild(g,m.currentOutputSnapshotRaw)}let a=o.val(!0),c=t;n.server_.put(c.toString(),a,l=>{Cf(n,"transaction put response",{path:c.toString(),status:l});let m=[];if(l==="ok"){let g=[];for(let C=0;C<e.length;C++)e[C].status=2,m=m.concat(Ls(n.serverSyncTree_,e[C].currentWriteId)),e[C].onComplete&&g.push(()=>e[C].onComplete(null,!0,e[C].currentOutputSnapshotResolved)),e[C].unwatcher();A_(n,RE(n.transactionQueueTree_,t)),zE(n,n.transactionQueueTree_),Vi(n.eventQueue_,t,m);for(let C=0;C<g.length;C++)Bl(g[C])}else{if(l==="datastale")for(let g=0;g<e.length;g++)e[g].status===3?e[g].status=4:e[g].status=0;else{Hn("transaction at "+c.toString()+" failed: "+l);for(let g=0;g<e.length;g++)e[g].status=4,e[g].abortReason=l}Nl(n,t)}},s)}function Nl(n,t){let e=LN(n,t),i=yf(e),r=FN(n,e);return ZK(n,r,i),i}function ZK(n,t,e){if(t.length===0)return;let i=[],r=[],s=t.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<t.length;a++){let c=t[a],l=$n(e,c.path),m=!1,g;if(Q(l!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),c.status===4)m=!0,g=c.abortReason,r=r.concat(Ls(n.serverSyncTree_,c.currentWriteId,!0));else if(c.status===0)if(c.retryCount>=jK)m=!0,g="maxretry",r=r.concat(Ls(n.serverSyncTree_,c.currentWriteId,!0));else{let C=NN(n,c.path,s);c.currentInputSnapshot=C;let E=t[a].update(C.val());if(E!==void 0){S_("transaction failed: Data returned ",E,c.path);let S=en(E);typeof E=="object"&&E!=null&&gr(E,".priority")||(S=S.updatePriority(C.getPriority()));let R=c.currentWriteId,V=D_(n),ae=xN(S,C,V);c.currentOutputSnapshotRaw=S,c.currentOutputSnapshotResolved=ae,c.currentWriteId=BE(n),s.splice(s.indexOf(R),1),r=r.concat(CN(n.serverSyncTree_,c.path,ae,c.currentWriteId,c.applyLocally)),r=r.concat(Ls(n.serverSyncTree_,R,!0))}else m=!0,g="nodata",r=r.concat(Ls(n.serverSyncTree_,c.currentWriteId,!0))}Vi(n.eventQueue_,e,r),r=[],m&&(t[a].status=2,(function(C){setTimeout(C,Math.floor(0))})(t[a].unwatcher),t[a].onComplete&&(g==="nodata"?i.push(()=>t[a].onComplete(null,!1,t[a].currentInputSnapshot)):i.push(()=>t[a].onComplete(new Error(g),!1,null))))}A_(n,n.transactionQueueTree_);for(let a=0;a<i.length;a++)Bl(i[a]);zE(n,n.transactionQueueTree_)}function LN(n,t){let e,i=n.transactionQueueTree_;for(e=Le(t);e!==null&&Vl(i)===void 0;)i=RE(i,e),t=pt(t),e=Le(t);return i}function FN(n,t){let e=[];return BN(n,t,e),e.sort((i,r)=>i.order-r.order),e}function BN(n,t,e){let i=Vl(t);if(i)for(let r=0;r<i.length;r++)e.push(i[r]);x_(t,r=>{BN(n,r,e)})}function A_(n,t){let e=Vl(t);if(e){let i=0;for(let r=0;r<e.length;r++)e[r].status!==2&&(e[i]=e[r],i++);e.length=i,IN(t,e.length>0?e:void 0)}x_(t,i=>{A_(n,i)})}function VE(n,t){let e=yf(LN(n,t)),i=RE(n.transactionQueueTree_,t);return SK(i,r=>{mM(n,r)}),mM(n,i),TN(i,r=>{mM(n,r)}),e}function mM(n,t){let e=Vl(t);if(e){let i=[],r=[],o=-1;for(let s=0;s<e.length;s++)e[s].status===3||(e[s].status===1?(Q(o===s-1,"All SENT items should be at beginning of queue."),o=s,e[s].status=3,e[s].abortReason="set"):(Q(e[s].status===0,"Unexpected transaction status in abort"),e[s].unwatcher(),r=r.concat(Ls(n.serverSyncTree_,e[s].currentWriteId,!0)),e[s].onComplete&&i.push(e[s].onComplete.bind(null,new Error("set"),!1,null))));o===-1?IN(t,void 0):e.length=o+1,Vi(n.eventQueue_,yf(t),r);for(let s=0;s<i.length;s++)Bl(i[s])}}function XK(n){let t="",e=n.split("/");for(let i=0;i<e.length;i++)if(e[i].length>0){let r=e[i];try{r=decodeURIComponent(r.replace(/\+/g," "))}catch{}t+="/"+r}return t}function JK(n){let t={};n.charAt(0)==="?"&&(n=n.substring(1));for(let e of n.split("&")){if(e.length===0)continue;let i=e.split("=");i.length===2?t[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):Hn(`Invalid query segment '${e}' in query '${n}'`)}return t}var AR=function(n,t){let e=eQ(n),i=e.namespace;e.domain==="firebase.com"&&Fo(e.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||i==="undefined")&&e.domain!=="localhost"&&Fo("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),e.secure||SW();let r=e.scheme==="ws"||e.scheme==="wss";return{repoInfo:new e_(e.host,e.secure,i,r,t,"",i!==e.subdomain),path:new Ze(e.pathString)}},eQ=function(n){let t="",e="",i="",r="",o="",s=!0,a="https",c=443;if(typeof n=="string"){let l=n.indexOf("//");l>=0&&(a=n.substring(0,l-1),n=n.substring(l+2));let m=n.indexOf("/");m===-1&&(m=n.length);let g=n.indexOf("?");g===-1&&(g=n.length),t=n.substring(0,Math.min(m,g)),m<g&&(r=XK(n.substring(m,g)));let C=JK(n.substring(Math.min(n.length,g)));l=t.indexOf(":"),l>=0?(s=a==="https"||a==="wss",c=parseInt(t.substring(l+1),10)):l=t.length;let E=t.slice(0,l);if(E.toLowerCase()==="localhost")e="localhost";else if(E.split(".").length<=2)e=E;else{let S=t.indexOf(".");i=t.substring(0,S).toLowerCase(),e=t.substring(S+1),o=i}"ns"in C&&(o=C.ns)}return{host:t,port:c,domain:e,subdomain:i,secure:s,scheme:a,pathString:r,namespace:o}};var kR="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",tQ=(function(){let n=0,t=[];return function(e){let i=e===n;n=e;let r,o=new Array(8);for(r=7;r>=0;r--)o[r]=kR.charAt(e%64),e=Math.floor(e/64);Q(e===0,"Cannot push at time == 0");let s=o.join("");if(i){for(r=11;r>=0&&t[r]===63;r--)t[r]=0;t[r]++}else for(r=0;r<12;r++)t[r]=Math.floor(Math.random()*64);for(r=0;r<12;r++)s+=kR.charAt(t[r]);return Q(s.length===20,"nextPushId: Length should be 20."),s}})();var y_=class{constructor(t,e,i,r){this.eventType=t,this.eventRegistration=e,this.snapshot=i,this.prevName=r}getPath(){let t=this.snapshot.ref;return this.eventType==="value"?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Gt(this.snapshot.exportVal())}},b_=class{constructor(t,e,i){this.eventRegistration=t,this.error=e,this.path=i}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}};var C_=class{constructor(t,e){this.snapshotCallback=t,this.cancelCallback=e}onValue(t,e){this.snapshotCallback.call(null,t,e)}onCancel(t){return Q(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}};var Ll=class n{constructor(t,e,i,r){this._repo=t,this._path=e,this._queryParams=i,this._orderByCalled=r}get key(){return Fe(this._path)?null:yE(this._path)}get ref(){return new no(this._repo,this._path)}get _queryIdentifier(){let t=vR(this._queryParams),e=_E(t);return e==="{}"?"default":e}get _queryObject(){return vR(this._queryParams)}isEqual(t){if(t=Dt(t),!(t instanceof n))return!1;let e=this._repo===t._repo,i=bE(this._path,t._path),r=this._queryIdentifier===t._queryIdentifier;return e&&i&&r}toJSON(){return this.toString()}toString(){return this._repo.toString()+cG(this._path)}};function nQ(n,t){if(n._orderByCalled===!0)throw new Error(t+": You can't combine multiple orderBy calls.")}function jE(n){let t=null,e=null;if(n.hasStart()&&(t=n.getIndexStartValue()),n.hasEnd()&&(e=n.getIndexEndValue()),n.getIndex()===Wa){let i="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",r="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(n.hasStart()){if(n.getIndexStartName()!==Ga)throw new Error(i);if(typeof t!="string")throw new Error(r)}if(n.hasEnd()){if(n.getIndexEndName()!==zs)throw new Error(i);if(typeof e!="string")throw new Error(r)}}else if(n.getIndex()===xt){if(t!=null&&!rE(t)||e!=null&&!rE(e))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(Q(n.getIndex()instanceof sf||n.getIndex()===oN,"unknown index type."),t!=null&&typeof t=="object"||e!=null&&typeof e=="object")throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function zN(n){if(n.hasStart()&&n.hasEnd()&&n.hasLimit()&&!n.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}var no=class n extends Ll{constructor(t,e){super(t,e,new BM,!1)}get parent(){let t=JR(this._path);return t===null?null:new n(this._repo,t)}get root(){let t=this;for(;t.parent!==null;)t=t.parent;return t}},hf=class n{constructor(t,e,i){this._node=t,this.ref=e,this._index=i}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){let e=new Ze(t),i=Qa(this.ref,t);return new n(this._node.getChild(e),i,xt)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(i,r)=>t(new n(r,Qa(this.ref,i),xt)))}hasChild(t){let e=new Ze(t);return!this._node.getChild(e).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}};function VN(n,t){return n=Dt(n),n._checkNotDeleted("ref"),t!==void 0?Qa(n._root,t):n._root}function Qa(n,t){return n=Dt(n),Le(n._path)===null?FK("child","path",t,!1):NE("child","path",t,!1),new no(n._repo,At(n._path,t))}function jN(n,t){n=Dt(n),LE("push",n._path),bf("push",t,n._path,!0);let e=RN(n._repo),i=tQ(e),r=Qa(n,i),o=Qa(n,i),s;return t!=null?s=k_(o,t).then(()=>o):s=Promise.resolve(o),r.then=s.then.bind(s),r.catch=s.then.bind(s,void 0),r}function UN(n){return LE("remove",n._path),k_(n,null)}function k_(n,t){n=Dt(n),LE("set",n._path),bf("set",t,n._path,!1);let e=new Li;return qK(n._repo,n._path,t,null,e.wrapCallback(()=>{})),e.promise}function $N(n,t){NK("update",t,n._path,!1);let e=new Li;return WK(n._repo,n._path,t,e.wrapCallback(()=>{})),e.promise}function HN(n){n=Dt(n);let t=new C_(()=>{}),e=new w_(t);return HK(n._repo,n,e).then(i=>new hf(i,new no(n._repo,n._path),n._queryParams.getIndex()))}var w_=class n{constructor(t){this.callbackContext=t}respondsTo(t){return t==="value"}createEvent(t,e){let i=e._queryParams.getIndex();return new y_("value",this,new hf(t.snapshotNode,new no(e._repo,e._path),i))}getEventRunner(t){return t.getEventType()==="cancel"?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new b_(this,t,e):null}matches(t){return t instanceof n?!t.callbackContext||!this.callbackContext?!0:t.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}},cE=class n{constructor(t,e){this.eventType=t,this.callbackContext=e}respondsTo(t){let e=t==="children_added"?"child_added":t;return e=e==="children_removed"?"child_removed":e,this.eventType===e}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new b_(this,t,e):null}createEvent(t,e){Q(t.childName!=null,"Child events should have a childName.");let i=Qa(new no(e._repo,e._path),t.childName),r=e._queryParams.getIndex();return new y_(t.type,this,new hf(t.snapshotNode,i,r),t.prevName)}getEventRunner(t){return t.getEventType()==="cancel"?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,t.prevName)}matches(t){return t instanceof n?this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext)):!1}hasAnyCallback(){return!!this.callbackContext}};function iQ(n,t,e,i,r){let o;if(typeof i=="object"&&(o=void 0,r=i),typeof i=="function"&&(o=i),r&&r.onlyOnce){let c=e,l=(m,g)=>{DR(n._repo,n,a),c(m,g)};l.userCallback=e.userCallback,l.context=e.context,e=l}let s=new C_(e,o||void 0),a=t==="value"?new w_(s):new cE(t,s);return KK(n._repo,n,a),()=>DR(n._repo,n,a)}function qN(n,t,e,i){return iQ(n,"value",t,e,i)}var Fl=class{},lE=class extends Fl{constructor(t,e){super(),this._value=t,this._key=e,this.type="endAt"}_apply(t){bf("endAt",this._value,t._path,!0);let e=PG(t._queryParams,this._value,this._key);if(zN(e),jE(e),t._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Ll(t._repo,t._path,e,t._orderByCalled)}};var dE=class extends Fl{constructor(t,e){super(),this._value=t,this._key=e,this.type="startAt"}_apply(t){bf("startAt",this._value,t._path,!0);let e=EG(t._queryParams,this._value,this._key);if(zN(e),jE(e),t._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Ll(t._repo,t._path,e,t._orderByCalled)}};var uE=class extends Fl{constructor(t){super(),this._path=t,this.type="orderByChild"}_apply(t){nQ(t,"orderByChild");let e=new Ze(this._path);if(Fe(e))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");let i=new sf(e),r=OG(t._queryParams,i);return jE(r),new Ll(t._repo,t._path,r,!0)}};function WN(n){if(n==="$key")throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if(n==="$priority")throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if(n==="$value")throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return NE("orderByChild","path",n,!1),new uE(n)}var fE=class extends Fl{constructor(t,e){super(),this._value=t,this._key=e,this.type="equalTo"}_apply(t){if(bf("equalTo",this._value,t._path,!1),t._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(t._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new lE(this._value,this._key)._apply(new dE(this._value,this._key)._apply(t))}};function GN(n,t){return LK("equalTo","key",t,!0),new fE(n,t)}function KN(n,...t){let e=Dt(n);for(let i of t)e=i._apply(e);return e}aK(no);fK(no);var rQ="FIREBASE_DATABASE_EMULATOR_HOST",pE={},oQ=!1;function sQ(n,t,e,i){let r=t.lastIndexOf(":"),o=t.substring(0,r),s=qr(o);n.repoInfo_=new e_(t,s,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams,!0,e),i&&(n.authTokenProvider_=i)}function aQ(n,t,e,i,r){let o=i||n.options.databaseURL;o===void 0&&(n.options.projectId||Fo("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Pn("Using default host for project ",n.options.projectId),o=`${n.options.projectId}-default-rtdb.firebaseio.com`);let s=AR(o,r),a=s.repoInfo,c,l;typeof process<"u"&&process.env&&(l=process.env[rQ]),l?(c=!0,o=`http://${l}?ns=${a.namespace}`,s=AR(o,r),a=s.repoInfo):c=!s.repoInfo.secure;let m=r&&c?new ef(ef.OWNER):new wM(n.name,n.options,t);BK("Invalid Firebase Database URL",s),Fe(s.path)||Fo("Database URL must point to the root of a Firebase Database (not including a child path).");let g=lQ(a,n,m,new CM(n,e));return new hE(g,n)}function cQ(n,t){let e=pE[t];(!e||e[n.key]!==n)&&Fo(`Database ${t}(${n.repoInfo_}) has already been deleted.`),QK(n),delete e[n.key]}function lQ(n,t,e,i){let r=pE[t.name];r||(r={},pE[t.name]=r);let o=r[n.toURLString()];return o&&Fo("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new sE(n,oQ,e,i),r[n.toURLString()]=o,o}var hE=class{constructor(t,e){this._repoInternal=t,this.app=e,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(UK(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new no(this._repo,Ke())),this._rootInternal}_delete(){return this._rootInternal!==null&&(cQ(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){this._rootInternal===null&&Fo("Cannot call "+t+" on a deleted database.")}};function QN(n=Do(),t){let e=Os(n,"database").getImmediate({identifier:t});if(!e._instanceStarted){let i=bm("database");i&&YN(e,...i)}return e}function YN(n,t,e,i={}){n=Dt(n),n._checkNotDeleted("useEmulator");let r=`${t}:${e}`,o=n._repoInternal;if(n._instanceStarted){if(r===n._repoInternal.repoInfo_.host&&Gr(i,o.repoInfo_.emulatorOptions))return;Fo("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let s;if(o.repoInfo_.nodeAdmin)i.mockUserToken&&Fo('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new ef(ef.OWNER);else if(i.mockUserToken){let a=typeof i.mockUserToken=="string"?i.mockUserToken:Cm(i.mockUserToken,n.app.options.projectId);s=new ef(a)}qr(t)&&(_l(t),vl("Database",!0)),sQ(o,r,i,s)}function dQ(n){OW(Yr),Ci(new Mn("database",(t,{instanceIdentifier:e})=>{let i=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),o=t.getProvider("app-check-internal");return aQ(i,r,o,e)},"PUBLIC").setMultipleInstances(!0)),dt(tR,nR,n),dt(tR,nR,"esm2017")}CE.prototype.simpleListen=function(n,t){this.sendRequest("q",{p:n},t)};CE.prototype.echo=function(n,t){this.sendRequest("echo",{d:n},t)};dQ();var xn=class{constructor(t){return t}},ZN="database",UE=class{constructor(){return xs(ZN)}};var $E=new Z("angularfire2.database-instances");function uQ(n,t){let e=za(ZN,n,t);return e&&new xn(e)}function fQ(n){return(t,e)=>{let i=t.runOutsideAngular(()=>n(e));return new xn(i)}}var pQ={provide:UE,deps:[[new Zt,$E]]},hQ={provide:xn,useFactory:uQ,deps:[[new Zt,$E],mr]};function XN(n,...t){return dt("angularfire",Zr.full,"rtdb"),bn([hQ,pQ,{provide:$E,useFactory:fQ(n),multi:!0,deps:[ze,De,Xr,Ao,[new Zt,Ua],[new Zt,Ss],...t]}])}var Xa=wt(GN,!0,2);var Cr=wt(HN,!0),JN=wt(QN,!0);var $t=wt(qN,!0),ji=wt(WN,!0,2);var Ui=wt(jN,!0,2),$i=wt(KN,!0,2),pe=wt(VN,!0,2);var Wn=wt(UN,!0,2);var R_=wt(k_,!0,2);var ii=wt($N,!0,2);var oL="firebasestorage.googleapis.com",gQ="storageBucket",mQ=120*1e3,_Q=600*1e3;var io=class n extends bi{constructor(t,e,i=0){super(HE(t),`Firebase Storage: ${e} (${HE(t)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,n.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return HE(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}},zo=(function(n){return n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment",n})(zo||{});function HE(n){return"storage/"+n}function vQ(){let n="An unknown error occurred, please check the error payload for server response.";return new io(zo.UNKNOWN,n)}function yQ(){return new io(zo.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function bQ(){return new io(zo.CANCELED,"User canceled the upload/download.")}function CQ(n){return new io(zo.INVALID_URL,"Invalid URL '"+n+"'.")}function wQ(n){return new io(zo.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function eL(n){return new io(zo.INVALID_ARGUMENT,n)}function sL(){return new io(zo.APP_DELETED,"The Firebase app was deleted.")}function MQ(n){return new io(zo.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}var Bo=class n{constructor(t,e){this.bucket=t,this.path_=e}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){let t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,e){let i;try{i=n.makeFromUrl(t,e)}catch{return new n(t,"")}if(i.path==="")return i;throw wQ(t)}static makeFromUrl(t,e){let i=null,r="([A-Za-z0-9.\\-_]+)";function o(ue){ue.path.charAt(ue.path.length-1)==="/"&&(ue.path_=ue.path_.slice(0,-1))}let s="(/(.*))?$",a=new RegExp("^gs://"+r+s,"i"),c={bucket:1,path:3};function l(ue){ue.path_=decodeURIComponent(ue.path)}let m="v[A-Za-z0-9_]+",g=e.replace(/[.]/g,"\\."),C="(/([^?#]*).*)?$",E=new RegExp(`^https?://${g}/${m}/b/${r}/o${C}`,"i"),S={bucket:1,path:3},k=e===oL?"(?:storage.googleapis.com|storage.cloud.google.com)":e,R="([^?#]*)",V=new RegExp(`^https?://${k}/${r}/${R}`,"i"),Ce=[{regex:a,indices:c,postModify:o},{regex:E,indices:S,postModify:l},{regex:V,indices:{bucket:1,path:2},postModify:l}];for(let ue=0;ue<Ce.length;ue++){let st=Ce[ue],Xe=st.regex.exec(t);if(Xe){let ot=Xe[st.indices.bucket],vt=Xe[st.indices.path];vt||(vt=""),i=new n(ot,vt),st.postModify(i);break}}if(i==null)throw CQ(t);return i}},qE=class{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}};function EQ(n,t,e){let i=1,r=null,o=null,s=!1,a=0;function c(){return a===2}let l=!1;function m(...R){l||(l=!0,t.apply(null,R))}function g(R){r=setTimeout(()=>{r=null,n(E,c())},R)}function C(){o&&clearTimeout(o)}function E(R,...V){if(l){C();return}if(R){C(),m.call(null,R,...V);return}if(c()||s){C(),m.call(null,R,...V);return}i<64&&(i*=2);let Ce;a===1?(a=2,Ce=0):Ce=(i+Math.random())*1e3,g(Ce)}let S=!1;function k(R){S||(S=!0,C(),!l&&(r!==null?(R||(a=2),clearTimeout(r),g(0)):R||(a=1)))}return g(0),o=setTimeout(()=>{s=!0,k(!0)},e),k}function PQ(n){n(!1)}function OQ(n){return n!==void 0}function tL(n,t,e,i){if(i<t)throw eL(`Invalid value for '${n}'. Expected ${t} or greater.`);if(i>e)throw eL(`Invalid value for '${n}'. Expected ${e} or less.`)}function xQ(n){let t=encodeURIComponent,e="?";for(let i in n)if(n.hasOwnProperty(i)){let r=t(i)+"="+t(n[i]);e=e+r+"&"}return e=e.slice(0,-1),e}var WE=(function(n){return n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT",n})(WE||{});function IQ(n,t){let e=n>=500&&n<600,r=[408,429].indexOf(n)!==-1,o=t.indexOf(n)!==-1;return e||r||o}var GE=class{constructor(t,e,i,r,o,s,a,c,l,m,g,C=!0,E=!1){this.url_=t,this.method_=e,this.headers_=i,this.body_=r,this.successCodes_=o,this.additionalRetryCodes_=s,this.callback_=a,this.errorCallback_=c,this.timeout_=l,this.progressCallback_=m,this.connectionFactory_=g,this.retry=C,this.isUsingEmulator=E,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((S,k)=>{this.resolve_=S,this.reject_=k,this.start_()})}start_(){let t=(i,r)=>{if(r){i(!1,new Ul(!1,null,!0));return}let o=this.connectionFactory_();this.pendingConnection_=o;let s=a=>{let c=a.loaded,l=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(c,l)};this.progressCallback_!==null&&o.addUploadProgressListener(s),o.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(s),this.pendingConnection_=null;let a=o.getErrorCode()===WE.NO_ERROR,c=o.getStatus();if(!a||IQ(c,this.additionalRetryCodes_)&&this.retry){let m=o.getErrorCode()===WE.ABORT;i(!1,new Ul(!1,null,m));return}let l=this.successCodes_.indexOf(c)!==-1;i(!0,new Ul(l,o))})},e=(i,r)=>{let o=this.resolve_,s=this.reject_,a=r.connection;if(r.wasSuccessCode)try{let c=this.callback_(a,a.getResponse());OQ(c)?o(c):o()}catch(c){s(c)}else if(a!==null){let c=vQ();c.serverResponse=a.getErrorText(),this.errorCallback_?s(this.errorCallback_(a,c)):s(c)}else if(r.canceled){let c=this.appDelete_?sL():bQ();s(c)}else{let c=yQ();s(c)}};this.canceled_?e(!1,new Ul(!1,null,!0)):this.backoffId_=EQ(t,e,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&PQ(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}},Ul=class{constructor(t,e,i){this.wasSuccessCode=t,this.connection=e,this.canceled=!!i}};function SQ(n,t){t!==null&&t.length>0&&(n.Authorization="Firebase "+t)}function TQ(n,t){n["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function DQ(n,t){t&&(n["X-Firebase-GMPID"]=t)}function AQ(n,t){t!==null&&(n["X-Firebase-AppCheck"]=t)}function kQ(n,t,e,i,r,o,s=!0,a=!1){let c=xQ(n.urlParams),l=n.url+c,m=Object.assign({},n.headers);return DQ(m,t),SQ(m,e),TQ(m,o),AQ(m,i),new GE(l,n.method,m,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,r,s,a)}function RQ(n){if(n.length===0)return null;let t=n.lastIndexOf("/");return t===-1?"":n.slice(0,t)}function NQ(n){let t=n.lastIndexOf("/",n.length-2);return t===-1?n:n.slice(t+1)}var Swe=256*1024;var KE=class n{constructor(t,e){this._service=t,e instanceof Bo?this._location=e:this._location=Bo.makeFromUrl(e,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,e){return new n(t,e)}get root(){let t=new Bo(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return NQ(this._location.path)}get storage(){return this._service}get parent(){let t=RQ(this._location.path);if(t===null)return null;let e=new Bo(this._location.bucket,t);return new n(this._service,e)}_throwIfRoot(t){if(this._location.path==="")throw MQ(t)}};function nL(n,t){let e=t?.[gQ];return e==null?null:Bo.makeFromBucketSpec(e,n)}function LQ(n,t,e,i={}){n.host=`${t}:${e}`;let r=qr(t);r&&(_l(`https://${n.host}/b`),vl("Storage",!0)),n._isUsingEmulator=!0,n._protocol=r?"https":"http";let{mockUserToken:o}=i;o&&(n._overrideAuthToken=typeof o=="string"?o:Cm(o,n.app.options.projectId))}var QE=class{constructor(t,e,i,r,o,s=!1){this.app=t,this._authProvider=e,this._appCheckProvider=i,this._url=r,this._firebaseVersion=o,this._isUsingEmulator=s,this._bucket=null,this._host=oL,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=mQ,this._maxUploadRetryTime=_Q,this._requests=new Set,r!=null?this._bucket=Bo.makeFromBucketSpec(r,this._host):this._bucket=nL(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._url!=null?this._bucket=Bo.makeFromBucketSpec(this._url,t):this._bucket=nL(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){tL("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){tL("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}_getAuthToken(){return T(this,null,function*(){if(this._overrideAuthToken)return this._overrideAuthToken;let t=this._authProvider.getImmediate({optional:!0});if(t){let e=yield t.getToken();if(e!==null)return e.accessToken}return null})}_getAppCheckToken(){return T(this,null,function*(){if(En(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let t=this._appCheckProvider.getImmediate({optional:!0});return t?(yield t.getToken()).token:null})}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new KE(this,t)}_makeRequest(t,e,i,r,o=!0){if(this._deleted)return new qE(sL());{let s=kQ(t,this._appId,i,r,e,this._firebaseVersion,o,this._isUsingEmulator);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}makeRequestWithTokens(t,e){return T(this,null,function*(){let[i,r]=yield Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,e,i,r).getPromise()})}},iL="@firebase/storage",rL="0.13.14";var aL="storage";function cL(n=Do(),t){n=Dt(n);let i=Os(n,aL).getImmediate({identifier:t}),r=bm("storage");return r&&lL(i,...r),i}function lL(n,t,e,i={}){LQ(n,t,e,i)}function FQ(n,{instanceIdentifier:t}){let e=n.getProvider("app").getImmediate(),i=n.getProvider("auth-internal"),r=n.getProvider("app-check-internal");return new QE(e,i,r,t,Yr)}function BQ(){Ci(new Mn(aL,FQ,"PUBLIC").setMultipleInstances(!0)),dt(iL,rL,""),dt(iL,rL,"esm2017")}BQ();var wf=class{constructor(t){return t}},dL="storage",YE=class{constructor(){return xs(dL)}};var ZE=new Z("angularfire2.storage-instances");function zQ(n,t){let e=za(dL,n,t);return e&&new wf(e)}function VQ(n){return(t,e)=>{let i=t.runOutsideAngular(()=>n(e));return new wf(i)}}var jQ={provide:YE,deps:[[new Zt,ZE]]},UQ={provide:wf,useFactory:zQ,deps:[[new Zt,ZE],mr]};function uL(n,...t){return dt("angularfire",Zr.full,"gcs"),bn([UQ,jQ,{provide:ZE,useFactory:VQ(n),multi:!0,deps:[ze,De,Xr,Ao,[new Zt,Ua],[new Zt,Ss],...t]}])}var fL=wt(cL,!0);var XE={production:!1,firebase:{apiKey:"AIzaSyBIydVrbzKJ9YvIYQ8kQHn4upKo0jDfQ6M",authDomain:"ankh-a4380.firebaseapp.com",databaseURL:"https://ankh-a4380-default-rtdb.europe-west1.firebasedatabase.app",projectId:"ankh-a4380",storageBucket:"ankh-a4380.firebasestorage.app",messagingSenderId:"505804085488",appId:"1:505804085488:web:6dd9649409abc5ecc5ca35",measurementId:"G-F6VMMVJ0C3"},emailJs:{serviceId:"YOUR_EMAILJS_SERVICE_ID",templateId:"YOUR_EMAILJS_TEMPLATE_ID",publicKey:"YOUR_EMAILJS_PUBLIC_KEY",recipientEmail:"info@ankh.com"}};function $Q(n,t){if(n&1&&(f(0,"div",23)(1,"div",38)(2,"div",39),w(3,"i",40),h(),f(4,"h3",41),_(5),v(6,"translate"),h(),f(7,"p",42),_(8),v(9,"translate"),h()()()),n&2){let e=t.$implicit;d(3),O("ngClass",e.icon),d(2),I(y(6,3,e.title)),d(3),I(y(9,5,e.description))}}function HQ(n,t){if(n&1&&(f(0,"div",25)(1,"div",43)(2,"div",44),_(3),h(),f(4,"div",45),w(5,"i",40),h(),f(6,"h3",46),_(7),v(8,"translate"),h(),f(9,"p",47),_(10),v(11,"translate"),h()()()),n&2){let e=t.$implicit;d(3),I(e.number),d(2),O("ngClass",e.icon),d(2),I(y(8,4,e.title)),d(3),I(y(11,6,e.description))}}function qQ(n,t){if(n&1&&(f(0,"div",27)(1,"div",48)(2,"div",49),w(3,"i",40),h(),f(4,"h3",50),_(5),v(6,"translate"),h(),f(7,"p",51),_(8),v(9,"translate"),h()()()),n&2){let e=t.$implicit;d(3),O("ngClass",e.icon),d(2),I(y(6,3,e.title)),d(3),I(y(9,5,e.description))}}var N_=class n{features=[{icon:"fa-shield-alt",title:"home.features.secure.title",description:"home.features.secure.description"},{icon:"fa-video",title:"home.features.video.title",description:"home.features.video.description"},{icon:"fa-file-pdf",title:"home.features.pdfs.title",description:"home.features.pdfs.description"},{icon:"fa-tasks",title:"home.features.quizzes.title",description:"home.features.quizzes.description"},{icon:"fa-users",title:"home.features.organizations.title",description:"home.features.organizations.description"},{icon:"fa-cog",title:"home.features.management.title",description:"home.features.management.description"}];steps=[{number:"01",title:"home.howItWorks.register.title",description:"home.howItWorks.register.description",icon:"fa-user-plus"},{number:"02",title:"home.howItWorks.approval.title",description:"home.howItWorks.approval.description",icon:"fa-check-circle"},{number:"03",title:"home.howItWorks.access.title",description:"home.howItWorks.access.description",icon:"fa-unlock"},{number:"04",title:"home.howItWorks.learn.title",description:"home.howItWorks.learn.description",icon:"fa-graduation-cap"}];benefits=[{icon:"fa-certificate",title:"home.benefits.certified.title",description:"home.benefits.certified.description"},{icon:"fa-clock",title:"home.benefits.flexible.title",description:"home.benefits.flexible.description"},{icon:"fa-headset",title:"home.benefits.support.title",description:"home.benefits.support.description"}];static \u0275fac=function(e){return new(e||n)};static \u0275cmp=de({type:n,selectors:[["app-home"]],decls:87,vars:49,consts:[[1,"hero-section"],[1,"container"],[1,"row","align-items-center","min-vh-100"],[1,"col-lg-6"],[1,"hero-content"],[1,"hero-title"],[1,"hero-subtitle"],[1,"hero-description"],[1,"hero-actions"],[1,"btn","btn-primary","btn-hero",3,"routerLink"],[1,"fas","fa-rocket","me-2"],[1,"btn","btn-outline-primary","btn-hero",3,"routerLink"],[1,"fas","fa-info-circle","me-2"],[1,"hero-image"],[1,"hero-image-wrapper"],[1,"fas","fa-graduation-cap"],[1,"hero-shape"],[1,"features-section"],[1,"row"],[1,"col-12","text-center","mb-5"],[1,"section-title"],[1,"section-subtitle"],[1,"row","g-4"],[1,"col-md-6","col-lg-4"],[1,"how-it-works-section"],[1,"col-md-6","col-lg-3"],[1,"benefits-section"],[1,"col-md-4"],[1,"cta-section"],[1,"col-lg-8","mx-auto","text-center"],[1,"cta-content"],[1,"cta-title"],[1,"cta-description"],[1,"cta-actions"],[1,"btn","btn-primary","btn-cta",3,"routerLink"],[1,"fas","fa-user-plus","me-2"],[1,"btn","btn-outline-light","btn-cta",3,"routerLink"],[1,"fas","fa-sign-in-alt","me-2"],[1,"feature-card"],[1,"feature-icon"],[1,"fas",3,"ngClass"],[1,"feature-title"],[1,"feature-description"],[1,"step-card"],[1,"step-number"],[1,"step-icon"],[1,"step-title"],[1,"step-description"],[1,"benefit-card"],[1,"benefit-icon"],[1,"benefit-title"],[1,"benefit-description"]],template:function(e,i){e&1&&(f(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h1",5),_(6),v(7,"translate"),h(),f(8,"p",6),_(9),v(10,"translate"),h(),f(11,"p",7),_(12),v(13,"translate"),h(),f(14,"div",8)(15,"a",9),w(16,"i",10),_(17),v(18,"translate"),h(),f(19,"a",11),w(20,"i",12),_(21),v(22,"translate"),h()()()(),f(23,"div",3)(24,"div",13)(25,"div",14),w(26,"i",15),h()()()()(),w(27,"div",16),h(),f(28,"section",17)(29,"div",1)(30,"div",18)(31,"div",19)(32,"h2",20),_(33),v(34,"translate"),h(),f(35,"p",21),_(36),v(37,"translate"),h()()(),f(38,"div",22),mt(39,$Q,10,7,"div",23,mi),h()()(),f(41,"section",24)(42,"div",1)(43,"div",18)(44,"div",19)(45,"h2",20),_(46),v(47,"translate"),h(),f(48,"p",21),_(49),v(50,"translate"),h()()(),f(51,"div",22),mt(52,HQ,12,8,"div",25,mi),h()()(),f(54,"section",26)(55,"div",1)(56,"div",18)(57,"div",19)(58,"h2",20),_(59),v(60,"translate"),h(),f(61,"p",21),_(62),v(63,"translate"),h()()(),f(64,"div",22),mt(65,qQ,10,7,"div",27,mi),h()()(),f(67,"section",28)(68,"div",1)(69,"div",18)(70,"div",29)(71,"div",30)(72,"h2",31),_(73),v(74,"translate"),h(),f(75,"p",32),_(76),v(77,"translate"),h(),f(78,"div",33)(79,"a",34),w(80,"i",35),_(81),v(82,"translate"),h(),f(83,"a",36),w(84,"i",37),_(85),v(86,"translate"),h()()()()()()()),e&2&&(d(6),M(" ",y(7,19,"home.hero.title")," "),d(3),M(" ",y(10,21,"home.hero.subtitle")," "),d(3),M(" ",y(13,23,"home.hero.description")," "),d(3),O("routerLink","/register"),d(2),M(" ",y(18,25,"home.hero.registerBtn")," "),d(2),O("routerLink","/about"),d(2),M(" ",y(22,27,"home.hero.learnMoreBtn")," "),d(12),I(y(34,29,"home.features.title")),d(3),I(y(37,31,"home.features.subtitle")),d(3),_t(i.features),d(7),I(y(47,33,"home.howItWorks.title")),d(3),I(y(50,35,"home.howItWorks.subtitle")),d(3),_t(i.steps),d(7),I(y(60,37,"home.benefits.title")),d(3),I(y(63,39,"home.benefits.subtitle")),d(3),_t(i.benefits),d(8),I(y(74,41,"home.cta.title")),d(3),I(y(77,43,"home.cta.description")),d(3),O("routerLink","/register"),d(2),M(" ",y(82,45,"home.cta.registerBtn")," "),d(2),O("routerLink","/login"),d(2),M(" ",y(86,47,"home.cta.loginBtn")," "))},dependencies:[ge,Xt,ke,Ue,me,ve],styles:[`.hero-section[_ngcontent-%COMP%]{position:relative;min-height:100vh;display:flex;align-items:center;background:linear-gradient(135deg,#0b2a3f,#0e3a5d);padding:64px 0;overflow:hidden}.hero-section[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:0;background:url('data:image/svg+xml,<svg width="100" height="100" xmlns="http://www.w3.org/2000/svg"><defs><pattern id="grid" width="100" height="100" patternUnits="userSpaceOnUse"><path d="M 100 0 L 0 0 0 100" fill="none" stroke="rgba(201,162,77,0.1)" stroke-width="1"/></pattern></defs><rect width="100" height="100" fill="url(%23grid)"/></svg>');opacity:.3}.hero-section[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{position:relative;z-index:2}.hero-section[_ngcontent-%COMP%]   .hero-content[_ngcontent-%COMP%]{color:#fff;animation:_ngcontent-%COMP%_fadeInUp .8s ease-out}.hero-section[_ngcontent-%COMP%]   .hero-content[_ngcontent-%COMP%]   .hero-title[_ngcontent-%COMP%]{font-size:3.5rem;font-weight:700;margin-bottom:32px;line-height:1.2;font-family:Cairo,sans-serif;background:linear-gradient(135deg,#fff,#c9a24d);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}@media (max-width: 991.98px){.hero-section[_ngcontent-%COMP%]   .hero-content[_ngcontent-%COMP%]   .hero-title[_ngcontent-%COMP%]{font-size:2.5rem}}@media (max-width: 575.98px){.hero-section[_ngcontent-%COMP%]   .hero-content[_ngcontent-%COMP%]   .hero-title[_ngcontent-%COMP%]{font-size:2rem}}.hero-section[_ngcontent-%COMP%]   .hero-content[_ngcontent-%COMP%]   .hero-subtitle[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:600;margin-bottom:16px;color:#ffffffe6;font-family:Cairo,sans-serif}@media (max-width: 991.98px){.hero-section[_ngcontent-%COMP%]   .hero-content[_ngcontent-%COMP%]   .hero-subtitle[_ngcontent-%COMP%]{font-size:1.3rem}}.hero-section[_ngcontent-%COMP%]   .hero-content[_ngcontent-%COMP%]   .hero-description[_ngcontent-%COMP%]{font-size:1.1rem;line-height:1.8;margin-bottom:64px;color:#fffc;font-family:Cairo,sans-serif}@media (max-width: 991.98px){.hero-section[_ngcontent-%COMP%]   .hero-content[_ngcontent-%COMP%]   .hero-description[_ngcontent-%COMP%]{font-size:1rem}}.hero-section[_ngcontent-%COMP%]   .hero-content[_ngcontent-%COMP%]   .hero-actions[_ngcontent-%COMP%]{display:flex;gap:16px;flex-wrap:wrap}.hero-section[_ngcontent-%COMP%]   .hero-content[_ngcontent-%COMP%]   .hero-actions[_ngcontent-%COMP%]   .btn-hero[_ngcontent-%COMP%]{padding:16px 32px;font-size:1.1rem;font-weight:600;border-radius:8px;transition:all .3s ease;font-family:Cairo,sans-serif;text-decoration:none;display:inline-flex;align-items:center}.hero-section[_ngcontent-%COMP%]   .hero-content[_ngcontent-%COMP%]   .hero-actions[_ngcontent-%COMP%]   .btn-hero[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1rem}.hero-section[_ngcontent-%COMP%]   .hero-content[_ngcontent-%COMP%]   .hero-actions[_ngcontent-%COMP%]   .btn-hero[_ngcontent-%COMP%]:hover{transform:translateY(-3px);box-shadow:0 8px 16px #0003}.hero-section[_ngcontent-%COMP%]   .hero-content[_ngcontent-%COMP%]   .hero-actions[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]{background:#c9a24d;border-color:#c9a24d;color:#fff}.hero-section[_ngcontent-%COMP%]   .hero-content[_ngcontent-%COMP%]   .hero-actions[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]:hover{background:#a8832f;border-color:#a8832f}.hero-section[_ngcontent-%COMP%]   .hero-content[_ngcontent-%COMP%]   .hero-actions[_ngcontent-%COMP%]   .btn-outline-primary[_ngcontent-%COMP%]{border-color:#fff;color:#fff}.hero-section[_ngcontent-%COMP%]   .hero-content[_ngcontent-%COMP%]   .hero-actions[_ngcontent-%COMP%]   .btn-outline-primary[_ngcontent-%COMP%]:hover{background:#fff;color:#0e3a5d}.hero-section[_ngcontent-%COMP%]   .hero-image[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;animation:_ngcontent-%COMP%_fadeInRight .8s ease-out}.hero-section[_ngcontent-%COMP%]   .hero-image[_ngcontent-%COMP%]   .hero-image-wrapper[_ngcontent-%COMP%]{width:400px;height:400px;border-radius:50%;background:linear-gradient(135deg,#c9a24d33,#0e3a5d33);display:flex;align-items:center;justify-content:center;position:relative;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border:2px solid rgba(201,162,77,.3)}.hero-section[_ngcontent-%COMP%]   .hero-image[_ngcontent-%COMP%]   .hero-image-wrapper[_ngcontent-%COMP%]:before{content:"";position:absolute;width:350px;height:350px;border-radius:50%;background:linear-gradient(135deg,#c9a24d1a,#0e3a5d1a);animation:_ngcontent-%COMP%_pulse 3s ease-in-out infinite}.hero-section[_ngcontent-%COMP%]   .hero-image[_ngcontent-%COMP%]   .hero-image-wrapper[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:8rem;color:#c9a24d;position:relative;z-index:2;animation:_ngcontent-%COMP%_float 3s ease-in-out infinite}@media (max-width: 991.98px){.hero-section[_ngcontent-%COMP%]   .hero-image[_ngcontent-%COMP%]   .hero-image-wrapper[_ngcontent-%COMP%]{width:300px;height:300px}.hero-section[_ngcontent-%COMP%]   .hero-image[_ngcontent-%COMP%]   .hero-image-wrapper[_ngcontent-%COMP%]:before{width:250px;height:250px}.hero-section[_ngcontent-%COMP%]   .hero-image[_ngcontent-%COMP%]   .hero-image-wrapper[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:6rem}}@media (max-width: 575.98px){.hero-section[_ngcontent-%COMP%]   .hero-image[_ngcontent-%COMP%]   .hero-image-wrapper[_ngcontent-%COMP%]{width:250px;height:250px}.hero-section[_ngcontent-%COMP%]   .hero-image[_ngcontent-%COMP%]   .hero-image-wrapper[_ngcontent-%COMP%]:before{width:200px;height:200px}.hero-section[_ngcontent-%COMP%]   .hero-image[_ngcontent-%COMP%]   .hero-image-wrapper[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:4rem}}.hero-section[_ngcontent-%COMP%]   .hero-shape[_ngcontent-%COMP%]{position:absolute;bottom:0;left:0;right:0;height:100px;background:#f3f1ec;clip-path:polygon(0 50%,100% 0,100% 100%,0 100%)}.features-section[_ngcontent-%COMP%]{padding:64px 0;background:#f3f1ec}.features-section[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{font-size:2.5rem;font-weight:700;color:#0e3a5d;margin-bottom:16px;font-family:Cairo,sans-serif}@media (max-width: 991.98px){.features-section[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{font-size:2rem}}.features-section[_ngcontent-%COMP%]   .section-subtitle[_ngcontent-%COMP%]{font-size:1.1rem;color:#0f172ab3;font-family:Cairo,sans-serif}.features-section[_ngcontent-%COMP%]   .feature-card[_ngcontent-%COMP%]{background:#fff;border-radius:16px;padding:64px;height:100%;transition:all .3s ease;box-shadow:0 1px 2px #0000001a;border:1px solid rgba(14,58,93,.1)}.features-section[_ngcontent-%COMP%]   .feature-card[_ngcontent-%COMP%]:hover{transform:translateY(-8px);box-shadow:0 8px 16px #0003;border-color:#c9a24d}.features-section[_ngcontent-%COMP%]   .feature-card[_ngcontent-%COMP%]:hover   .feature-icon[_ngcontent-%COMP%]{transform:scale(1.1) rotate(5deg);background:linear-gradient(135deg,#c9a24d,#0e3a5d);color:#fff}.features-section[_ngcontent-%COMP%]   .feature-card[_ngcontent-%COMP%]   .feature-icon[_ngcontent-%COMP%]{width:70px;height:70px;border-radius:8px;background:#c9a24d1a;display:flex;align-items:center;justify-content:center;margin-bottom:32px;transition:all .3s ease}.features-section[_ngcontent-%COMP%]   .feature-card[_ngcontent-%COMP%]   .feature-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:2rem;color:#c9a24d;transition:all .3s ease}.features-section[_ngcontent-%COMP%]   .feature-card[_ngcontent-%COMP%]   .feature-title[_ngcontent-%COMP%]{font-size:1.3rem;font-weight:700;color:#0e3a5d;margin-bottom:16px;font-family:Cairo,sans-serif}.features-section[_ngcontent-%COMP%]   .feature-card[_ngcontent-%COMP%]   .feature-description[_ngcontent-%COMP%]{font-size:.95rem;color:#0f172ab3;line-height:1.7;font-family:Cairo,sans-serif}.how-it-works-section[_ngcontent-%COMP%]{padding:64px 0;background:#fff}.how-it-works-section[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{font-size:2.5rem;font-weight:700;color:#0e3a5d;margin-bottom:16px;font-family:Cairo,sans-serif}@media (max-width: 991.98px){.how-it-works-section[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{font-size:2rem}}.how-it-works-section[_ngcontent-%COMP%]   .section-subtitle[_ngcontent-%COMP%]{font-size:1.1rem;color:#0f172ab3;font-family:Cairo,sans-serif}.how-it-works-section[_ngcontent-%COMP%]   .step-card[_ngcontent-%COMP%]{background:#f3f1ec;border-radius:16px;padding:64px;text-align:center;position:relative;transition:all .3s ease;border:2px solid transparent}.how-it-works-section[_ngcontent-%COMP%]   .step-card[_ngcontent-%COMP%]:hover{transform:translateY(-8px);border-color:#c9a24d;box-shadow:0 8px 16px #0003}.how-it-works-section[_ngcontent-%COMP%]   .step-card[_ngcontent-%COMP%]:hover   .step-icon[_ngcontent-%COMP%]{transform:scale(1.1);background:linear-gradient(135deg,#c9a24d,#0e3a5d);color:#fff}.how-it-works-section[_ngcontent-%COMP%]   .step-card[_ngcontent-%COMP%]   .step-number[_ngcontent-%COMP%]{position:absolute;top:-15px;right:20px;font-size:4rem;font-weight:700;color:#c9a24d1a;font-family:Cairo,sans-serif;line-height:1}.how-it-works-section[_ngcontent-%COMP%]   .step-card[_ngcontent-%COMP%]   .step-icon[_ngcontent-%COMP%]{width:80px;height:80px;border-radius:50%;background:#c9a24d1a;display:flex;align-items:center;justify-content:center;margin:0 auto 32px;transition:all .3s ease}.how-it-works-section[_ngcontent-%COMP%]   .step-card[_ngcontent-%COMP%]   .step-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:2.5rem;color:#c9a24d;transition:all .3s ease}.how-it-works-section[_ngcontent-%COMP%]   .step-card[_ngcontent-%COMP%]   .step-title[_ngcontent-%COMP%]{font-size:1.3rem;font-weight:700;color:#0e3a5d;margin-bottom:16px;font-family:Cairo,sans-serif}.how-it-works-section[_ngcontent-%COMP%]   .step-card[_ngcontent-%COMP%]   .step-description[_ngcontent-%COMP%]{font-size:.95rem;color:#0f172ab3;line-height:1.7;font-family:Cairo,sans-serif}.benefits-section[_ngcontent-%COMP%]{padding:64px 0;background:linear-gradient(135deg,#f3f1ec,#c9a24d0d)}.benefits-section[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{font-size:2.5rem;font-weight:700;color:#0e3a5d;margin-bottom:16px;font-family:Cairo,sans-serif}@media (max-width: 991.98px){.benefits-section[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{font-size:2rem}}.benefits-section[_ngcontent-%COMP%]   .section-subtitle[_ngcontent-%COMP%]{font-size:1.1rem;color:#0f172ab3;font-family:Cairo,sans-serif}.benefits-section[_ngcontent-%COMP%]   .benefit-card[_ngcontent-%COMP%]{background:#fff;border-radius:16px;padding:64px;text-align:center;transition:all .3s ease;box-shadow:0 1px 2px #0000001a;border:1px solid rgba(14,58,93,.1);height:100%}.benefits-section[_ngcontent-%COMP%]   .benefit-card[_ngcontent-%COMP%]:hover{transform:translateY(-8px);box-shadow:0 8px 16px #0003;border-color:#c9a24d}.benefits-section[_ngcontent-%COMP%]   .benefit-card[_ngcontent-%COMP%]:hover   .benefit-icon[_ngcontent-%COMP%]{transform:scale(1.1) rotate(-5deg);background:linear-gradient(135deg,#c9a24d,#0e3a5d);color:#fff}.benefits-section[_ngcontent-%COMP%]   .benefit-card[_ngcontent-%COMP%]   .benefit-icon[_ngcontent-%COMP%]{width:80px;height:80px;border-radius:50%;background:#c9a24d1a;display:flex;align-items:center;justify-content:center;margin:0 auto 32px;transition:all .3s ease}.benefits-section[_ngcontent-%COMP%]   .benefit-card[_ngcontent-%COMP%]   .benefit-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:2.5rem;color:#c9a24d;transition:all .3s ease}.benefits-section[_ngcontent-%COMP%]   .benefit-card[_ngcontent-%COMP%]   .benefit-title[_ngcontent-%COMP%]{font-size:1.3rem;font-weight:700;color:#0e3a5d;margin-bottom:16px;font-family:Cairo,sans-serif}.benefits-section[_ngcontent-%COMP%]   .benefit-card[_ngcontent-%COMP%]   .benefit-description[_ngcontent-%COMP%]{font-size:.95rem;color:#0f172ab3;line-height:1.7;font-family:Cairo,sans-serif}.cta-section[_ngcontent-%COMP%]{padding:64px 0;background:linear-gradient(135deg,#0e3a5d,#0b2a3f);position:relative;overflow:hidden}.cta-section[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:0;background:url('data:image/svg+xml,<svg width="100" height="100" xmlns="http://www.w3.org/2000/svg"><defs><pattern id="grid2" width="100" height="100" patternUnits="userSpaceOnUse"><path d="M 100 0 L 0 0 0 100" fill="none" stroke="rgba(201,162,77,0.1)" stroke-width="1"/></pattern></defs><rect width="100" height="100" fill="url(%23grid2)"/></svg>');opacity:.3}.cta-section[_ngcontent-%COMP%]   .cta-content[_ngcontent-%COMP%]{position:relative;z-index:2;color:#fff}.cta-section[_ngcontent-%COMP%]   .cta-content[_ngcontent-%COMP%]   .cta-title[_ngcontent-%COMP%]{font-size:2.5rem;font-weight:700;margin-bottom:16px;font-family:Cairo,sans-serif}@media (max-width: 991.98px){.cta-section[_ngcontent-%COMP%]   .cta-content[_ngcontent-%COMP%]   .cta-title[_ngcontent-%COMP%]{font-size:2rem}}.cta-section[_ngcontent-%COMP%]   .cta-content[_ngcontent-%COMP%]   .cta-description[_ngcontent-%COMP%]{font-size:1.2rem;margin-bottom:64px;color:#ffffffe6;font-family:Cairo,sans-serif}@media (max-width: 991.98px){.cta-section[_ngcontent-%COMP%]   .cta-content[_ngcontent-%COMP%]   .cta-description[_ngcontent-%COMP%]{font-size:1rem}}.cta-section[_ngcontent-%COMP%]   .cta-content[_ngcontent-%COMP%]   .cta-actions[_ngcontent-%COMP%]{display:flex;gap:16px;justify-content:center;flex-wrap:wrap}.cta-section[_ngcontent-%COMP%]   .cta-content[_ngcontent-%COMP%]   .cta-actions[_ngcontent-%COMP%]   .btn-cta[_ngcontent-%COMP%]{padding:16px 64px;font-size:1.1rem;font-weight:600;border-radius:8px;transition:all .3s ease;font-family:Cairo,sans-serif;text-decoration:none;display:inline-flex;align-items:center}.cta-section[_ngcontent-%COMP%]   .cta-content[_ngcontent-%COMP%]   .cta-actions[_ngcontent-%COMP%]   .btn-cta[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1rem}.cta-section[_ngcontent-%COMP%]   .cta-content[_ngcontent-%COMP%]   .cta-actions[_ngcontent-%COMP%]   .btn-cta[_ngcontent-%COMP%]:hover{transform:translateY(-3px);box-shadow:0 8px 16px #0003}.cta-section[_ngcontent-%COMP%]   .cta-content[_ngcontent-%COMP%]   .cta-actions[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]{background:#c9a24d;border-color:#c9a24d;color:#fff}.cta-section[_ngcontent-%COMP%]   .cta-content[_ngcontent-%COMP%]   .cta-actions[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]:hover{background:#a8832f;border-color:#a8832f}.cta-section[_ngcontent-%COMP%]   .cta-content[_ngcontent-%COMP%]   .cta-actions[_ngcontent-%COMP%]   .btn-outline-light[_ngcontent-%COMP%]{border-color:#fff;color:#fff}.cta-section[_ngcontent-%COMP%]   .cta-content[_ngcontent-%COMP%]   .cta-actions[_ngcontent-%COMP%]   .btn-outline-light[_ngcontent-%COMP%]:hover{background:#fff;color:#0e3a5d}@keyframes _ngcontent-%COMP%_fadeInUp{0%{opacity:0;transform:translateY(30px)}to{opacity:1;transform:translateY(0)}}@keyframes _ngcontent-%COMP%_fadeInRight{0%{opacity:0;transform:translate(30px)}to{opacity:1;transform:translate(0)}}@keyframes _ngcontent-%COMP%_pulse{0%,to{transform:scale(1);opacity:1}50%{transform:scale(1.1);opacity:.8}}@keyframes _ngcontent-%COMP%_float{0%,to{transform:translateY(0)}50%{transform:translateY(-20px)}}@media (max-width: 991.98px){.hero-section[_ngcontent-%COMP%]{min-height:auto;padding:64px 0}.hero-section[_ngcontent-%COMP%]   .hero-content[_ngcontent-%COMP%]{text-align:center;margin-bottom:64px}.features-section[_ngcontent-%COMP%], .how-it-works-section[_ngcontent-%COMP%], .benefits-section[_ngcontent-%COMP%], .cta-section[_ngcontent-%COMP%]{padding:32px 0}}@media (max-width: 575.98px){.hero-section[_ngcontent-%COMP%]   .hero-actions[_ngcontent-%COMP%]{flex-direction:column}.hero-section[_ngcontent-%COMP%]   .hero-actions[_ngcontent-%COMP%]   .btn-hero[_ngcontent-%COMP%]{width:100%;justify-content:center}.cta-section[_ngcontent-%COMP%]   .cta-actions[_ngcontent-%COMP%]{flex-direction:column}.cta-section[_ngcontent-%COMP%]   .cta-actions[_ngcontent-%COMP%]   .btn-cta[_ngcontent-%COMP%]{width:100%;justify-content:center}}`]})};var L_=class n{static \u0275fac=function(e){return new(e||n)};static \u0275cmp=de({type:n,selectors:[["app-about"]],decls:2,vars:0,template:function(e,i){e&1&&(bt(0,"p"),_(1,"about works!"),Ot())},encapsulation:2})};var F_=class n{static \u0275fac=function(e){return new(e||n)};static \u0275cmp=de({type:n,selectors:[["app-contact"]],decls:2,vars:0,template:function(e,i){e&1&&(bt(0,"p"),_(1,"contact works!"),Ot())},encapsulation:2})};var wL=(()=>{class n{_renderer;_elementRef;onChange=e=>{};onTouched=()=>{};constructor(e,i){this._renderer=e,this._elementRef=i}setProperty(e,i){this._renderer.setProperty(this._elementRef.nativeElement,e,i)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}static \u0275fac=function(i){return new(i||n)(A(gi),A(cn))};static \u0275dir=We({type:n})}return n})(),Wl=(()=>{class n extends wL{static \u0275fac=(()=>{let e;return function(r){return(e||(e=Cn(n)))(r||n)}})();static \u0275dir=We({type:n,features:[qt]})}return n})(),Hs=new Z(""),WQ={provide:Hs,useExisting:on(()=>Sf),multi:!0},Sf=(()=>{class n extends Wl{writeValue(e){this.setProperty("checked",e)}static \u0275fac=(()=>{let e;return function(r){return(e||(e=Cn(n)))(r||n)}})();static \u0275dir=We({type:n,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(i,r){i&1&&z("change",function(s){return r.onChange(s.target.checked)})("blur",function(){return r.onTouched()})},standalone:!1,features:[Vn([WQ]),qt]})}return n})(),GQ={provide:Hs,useExisting:on(()=>Mt),multi:!0};function KQ(){let n=ki()?ki().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var QQ=new Z(""),Mt=(()=>{class n extends wL{_compositionMode;_composing=!1;constructor(e,i,r){super(e,i),this._compositionMode=r,this._compositionMode==null&&(this._compositionMode=!KQ())}writeValue(e){let i=e??"";this.setProperty("value",i)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}static \u0275fac=function(i){return new(i||n)(A(gi),A(cn),A(QQ,8))};static \u0275dir=We({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,r){i&1&&z("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},standalone:!1,features:[Vn([GQ]),qt]})}return n})();function rP(n){return n==null||oP(n)===0}function oP(n){return n==null?null:Array.isArray(n)||typeof n=="string"?n.length:n instanceof Set?n.size:null}var Ja=new Z(""),Tf=new Z(""),YQ=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,te=class{static min(t){return ML(t)}static max(t){return EL(t)}static required(t){return ZQ(t)}static requiredTrue(t){return XQ(t)}static email(t){return JQ(t)}static minLength(t){return eY(t)}static maxLength(t){return tY(t)}static pattern(t){return nY(t)}static nullValidator(t){return z_()}static compose(t){return TL(t)}static composeAsync(t){return AL(t)}};function ML(n){return t=>{if(t.value==null||n==null)return null;let e=parseFloat(t.value);return!isNaN(e)&&e<n?{min:{min:n,actual:t.value}}:null}}function EL(n){return t=>{if(t.value==null||n==null)return null;let e=parseFloat(t.value);return!isNaN(e)&&e>n?{max:{max:n,actual:t.value}}:null}}function ZQ(n){return rP(n.value)?{required:!0}:null}function XQ(n){return n.value===!0?null:{required:!0}}function JQ(n){return rP(n.value)||YQ.test(n.value)?null:{email:!0}}function eY(n){return t=>{let e=t.value?.length??oP(t.value);return e===null||e===0?null:e<n?{minlength:{requiredLength:n,actualLength:e}}:null}}function tY(n){return t=>{let e=t.value?.length??oP(t.value);return e!==null&&e>n?{maxlength:{requiredLength:n,actualLength:e}}:null}}function nY(n){if(!n)return z_;let t,e;return typeof n=="string"?(e="",n.charAt(0)!=="^"&&(e+="^"),e+=n,n.charAt(n.length-1)!=="$"&&(e+="$"),t=new RegExp(e)):(e=n.toString(),t=n),i=>{if(rP(i.value))return null;let r=i.value;return t.test(r)?null:{pattern:{requiredPattern:e,actualValue:r}}}}function z_(n){return null}function PL(n){return n!=null}function OL(n){return fs(n)?ee(n):n}function xL(n){let t={};return n.forEach(e=>{t=e!=null?B(B({},t),e):t}),Object.keys(t).length===0?null:t}function IL(n,t){return t.map(e=>e(n))}function iY(n){return!n.validate}function SL(n){return n.map(t=>iY(t)?t:e=>t.validate(e))}function TL(n){if(!n)return null;let t=n.filter(PL);return t.length==0?null:function(e){return xL(IL(e,t))}}function DL(n){return n!=null?TL(SL(n)):null}function AL(n){if(!n)return null;let t=n.filter(PL);return t.length==0?null:function(e){let i=IL(e,t).map(OL);return Vt(i).pipe(H(xL))}}function kL(n){return n!=null?AL(SL(n)):null}function pL(n,t){return n===null?[t]:Array.isArray(n)?[...n,t]:[n,t]}function RL(n){return n._rawValidators}function NL(n){return n._rawAsyncValidators}function JE(n){return n?Array.isArray(n)?n:[n]:[]}function V_(n,t){return Array.isArray(n)?n.includes(t):n===t}function hL(n,t){let e=JE(t);return JE(n).forEach(r=>{V_(e,r)||e.push(r)}),e}function gL(n,t){return JE(t).filter(e=>!V_(n,e))}var j_=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=DL(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=kL(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,e){return this.control?this.control.hasError(t,e):!1}getError(t,e){return this.control?this.control.getError(t,e):null}},wi=class extends j_{name;get formDirective(){return null}get path(){return null}},Us=class extends j_{_parent=null;name=null;valueAccessor=null},U_=class{_cd;constructor(t){this._cd=t}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},rY={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},P1e=oe(B({},rY),{"[class.ng-submitted]":"isSubmitted"}),kt=(()=>{class n extends U_{constructor(e){super(e)}static \u0275fac=function(i){return new(i||n)(A(Us,2))};static \u0275dir=We({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,r){i&2&&U("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},standalone:!1,features:[qt]})}return n})(),fn=(()=>{class n extends U_{constructor(e){super(e)}static \u0275fac=function(i){return new(i||n)(A(wi,10))};static \u0275dir=We({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,r){i&2&&U("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},standalone:!1,features:[qt]})}return n})();var Mf="VALID",B_="INVALID",$l="PENDING",Ef="DISABLED",$s=class{},$_=class extends $s{value;source;constructor(t,e){super(),this.value=t,this.source=e}},Pf=class extends $s{pristine;source;constructor(t,e){super(),this.pristine=t,this.source=e}},Of=class extends $s{touched;source;constructor(t,e){super(),this.touched=t,this.source=e}},Hl=class extends $s{status;source;constructor(t,e){super(),this.status=t,this.source=e}},eP=class extends $s{source;constructor(t){super(),this.source=t}},If=class extends $s{source;constructor(t){super(),this.source=t}};function sP(n){return(G_(n)?n.validators:n)||null}function oY(n){return Array.isArray(n)?DL(n):n||null}function aP(n,t){return(G_(t)?t.asyncValidators:n)||null}function sY(n){return Array.isArray(n)?kL(n):n||null}function G_(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function LL(n,t,e){let i=n.controls;if(!(t?Object.keys(i):i).length)throw new j(1e3,"");if(!i[e])throw new j(1001,"")}function FL(n,t,e){n._forEachChild((i,r)=>{if(e[r]===void 0)throw new j(1002,"")})}var ql=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(t,e){this._assignValidators(t),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get status(){return ln(this.statusReactive)}set status(t){ln(()=>this.statusReactive.set(t))}_status=Uc(()=>this.statusReactive());statusReactive=Jn(void 0);get valid(){return this.status===Mf}get invalid(){return this.status===B_}get pending(){return this.status==$l}get disabled(){return this.status===Ef}get enabled(){return this.status!==Ef}errors;get pristine(){return ln(this.pristineReactive)}set pristine(t){ln(()=>this.pristineReactive.set(t))}_pristine=Uc(()=>this.pristineReactive());pristineReactive=Jn(!0);get dirty(){return!this.pristine}get touched(){return ln(this.touchedReactive)}set touched(t){ln(()=>this.touchedReactive.set(t))}_touched=Uc(()=>this.touchedReactive());touchedReactive=Jn(!1);get untouched(){return!this.touched}_events=new le;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(hL(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(hL(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(gL(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(gL(t,this._rawAsyncValidators))}hasValidator(t){return V_(this._rawValidators,t)}hasAsyncValidator(t){return V_(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){let e=this.touched===!1;this.touched=!0;let i=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsTouched(oe(B({},t),{sourceControl:i})),e&&t.emitEvent!==!1&&this._events.next(new Of(!0,i))}markAllAsDirty(t={}){this.markAsDirty({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:this}),this._forEachChild(e=>e.markAllAsDirty(t))}markAllAsTouched(t={}){this.markAsTouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:this}),this._forEachChild(e=>e.markAllAsTouched(t))}markAsUntouched(t={}){let e=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let i=t.sourceControl??this;this._forEachChild(r=>{r.markAsUntouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:i})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,i),e&&t.emitEvent!==!1&&this._events.next(new Of(!1,i))}markAsDirty(t={}){let e=this.pristine===!0;this.pristine=!1;let i=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsDirty(oe(B({},t),{sourceControl:i})),e&&t.emitEvent!==!1&&this._events.next(new Pf(!1,i))}markAsPristine(t={}){let e=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let i=t.sourceControl??this;this._forEachChild(r=>{r.markAsPristine({onlySelf:!0,emitEvent:t.emitEvent})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t,i),e&&t.emitEvent!==!1&&this._events.next(new Pf(!0,i))}markAsPending(t={}){this.status=$l;let e=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new Hl(this.status,e)),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.markAsPending(oe(B({},t),{sourceControl:e}))}disable(t={}){let e=this._parentMarkedDirty(t.onlySelf);this.status=Ef,this.errors=null,this._forEachChild(r=>{r.disable(oe(B({},t),{onlySelf:!0}))}),this._updateValue();let i=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new $_(this.value,i)),this._events.next(new Hl(this.status,i)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(oe(B({},t),{skipPristineCheck:e}),this),this._onDisabledChange.forEach(r=>r(!0))}enable(t={}){let e=this._parentMarkedDirty(t.onlySelf);this.status=Mf,this._forEachChild(i=>{i.enable(oe(B({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(oe(B({},t),{skipPristineCheck:e}),this),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(t,e){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine({},e),this._parent._updateTouched({},e))}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let i=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Mf||this.status===$l)&&this._runAsyncValidator(i,t.emitEvent)}let e=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new $_(this.value,e)),this._events.next(new Hl(this.status,e)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(oe(B({},t),{sourceControl:e}))}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Ef:Mf}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t,e){if(this.asyncValidator){this.status=$l,this._hasOwnPendingAsyncValidator={emitEvent:e!==!1,shouldHaveEmitted:t!==!1};let i=OL(this.asyncValidator(this));this._asyncValidationSubscription=i.subscribe(r=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(r,{emitEvent:e,shouldHaveEmitted:t})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let t=(this._hasOwnPendingAsyncValidator?.emitEvent||this._hasOwnPendingAsyncValidator?.shouldHaveEmitted)??!1;return this._hasOwnPendingAsyncValidator=null,t}return!1}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(e.emitEvent!==!1,this,e.shouldHaveEmitted)}get(t){let e=t;return e==null||(Array.isArray(e)||(e=e.split(".")),e.length===0)?null:e.reduce((i,r)=>i&&i._find(r),this)}getError(t,e){let i=e?this.get(e):this;return i&&i.errors?i.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t,e,i){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),(t||i)&&this._events.next(new Hl(this.status,e)),this._parent&&this._parent._updateControlsErrors(t,e,i)}_initObservables(){this.valueChanges=new qe,this.statusChanges=new qe}_calculateStatus(){return this._allControlsDisabled()?Ef:this.errors?B_:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus($l)?$l:this._anyControlsHaveStatus(B_)?B_:Mf}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t,e){let i=!this._anyControlsDirty(),r=this.pristine!==i;this.pristine=i,this._parent&&!t.onlySelf&&this._parent._updatePristine(t,e),r&&this._events.next(new Pf(this.pristine,e))}_updateTouched(t={},e){this.touched=this._anyControlsTouched(),this._events.next(new Of(this.touched,e)),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,e)}_onDisabledChange=[];_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){G_(t)&&t.updateOn!=null&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){let e=this._parent&&this._parent.dirty;return!t&&!!e&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=oY(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=sY(this._rawAsyncValidators)}},H_=class extends ql{constructor(t,e,i){super(sP(e),aP(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,i={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){FL(this,!0,t),Object.keys(t).forEach(i=>{LL(this,!0,i),this.controls[i].setValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){t!=null&&(Object.keys(t).forEach(i=>{let r=this.controls[i];r&&r.patchValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((i,r)=>{i.reset(t?t[r]:null,{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e,this),this._updateTouched(e,this),this.updateValueAndValidity(e),e?.emitEvent!==!1&&this._events.next(new If(this))}getRawValue(){return this._reduceChildren({},(t,e,i)=>(t[i]=e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,i)=>i._syncPendingControls()?!0:e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{let i=this.controls[e];i&&t(i,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(let[e,i]of Object.entries(this.controls))if(this.contains(e)&&t(i))return!0;return!1}_reduceValue(){let t={};return this._reduceChildren(t,(e,i,r)=>((i.enabled||this.disabled)&&(e[r]=i.value),e))}_reduceChildren(t,e){let i=t;return this._forEachChild((r,o)=>{i=e(i,r,o)}),i}_allControlsDisabled(){for(let t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}};var tP=class extends H_{};var Df=new Z("",{providedIn:"root",factory:()=>Af}),Af="always";function K_(n,t){return[...t.path,n]}function nP(n,t,e=Af){cP(n,t),t.valueAccessor.writeValue(n.value),(n.disabled||e==="always")&&t.valueAccessor.setDisabledState?.(n.disabled),cY(n,t),dY(n,t),lY(n,t),aY(n,t)}function mL(n,t,e=!0){let i=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(i),t.valueAccessor.registerOnTouched(i)),W_(n,t),n&&(t._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function q_(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function aY(n,t){if(t.valueAccessor.setDisabledState){let e=i=>{t.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}function cP(n,t){let e=RL(n);t.validator!==null?n.setValidators(pL(e,t.validator)):typeof e=="function"&&n.setValidators([e]);let i=NL(n);t.asyncValidator!==null?n.setAsyncValidators(pL(i,t.asyncValidator)):typeof i=="function"&&n.setAsyncValidators([i]);let r=()=>n.updateValueAndValidity();q_(t._rawValidators,r),q_(t._rawAsyncValidators,r)}function W_(n,t){let e=!1;if(n!==null){if(t.validator!==null){let r=RL(n);if(Array.isArray(r)&&r.length>0){let o=r.filter(s=>s!==t.validator);o.length!==r.length&&(e=!0,n.setValidators(o))}}if(t.asyncValidator!==null){let r=NL(n);if(Array.isArray(r)&&r.length>0){let o=r.filter(s=>s!==t.asyncValidator);o.length!==r.length&&(e=!0,n.setAsyncValidators(o))}}}let i=()=>{};return q_(t._rawValidators,i),q_(t._rawAsyncValidators,i),e}function cY(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&BL(n,t)})}function lY(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&BL(n,t),n.updateOn!=="submit"&&n.markAsTouched()})}function BL(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function dY(n,t){let e=(i,r)=>{t.valueAccessor.writeValue(i),r&&t.viewToModelUpdate(i)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}function uY(n,t){n==null,cP(n,t)}function fY(n,t){return W_(n,t)}function zL(n,t){if(!n.hasOwnProperty("model"))return!1;let e=n.model;return e.isFirstChange()?!0:!Object.is(t,e.currentValue)}function pY(n){return Object.getPrototypeOf(n.constructor)===Wl}function hY(n,t){n._syncPendingControls(),t.forEach(e=>{let i=e.control;i.updateOn==="submit"&&i._pendingChange&&(e.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function VL(n,t){if(!t)return null;Array.isArray(t);let e,i,r;return t.forEach(o=>{o.constructor===Mt?e=o:pY(o)?i=o:r=o}),r||i||e||null}function gY(n,t){let e=n.indexOf(t);e>-1&&n.splice(e,1)}function _L(n,t){let e=n.indexOf(t);e>-1&&n.splice(e,1)}function vL(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var xf=class extends ql{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(t=null,e,i){super(sP(e),aP(i,e)),this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),G_(e)&&(e.nonNullable||e.initialValueIsDefault)&&(vL(t)?this.defaultValue=t.value:this.defaultValue=t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&e.emitModelToViewChange!==!1&&this._onChange.forEach(i=>i(this.value,e.emitViewToModelChange!==!1)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1,e?.emitEvent!==!1&&this._events.next(new If(this))}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){_L(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){_L(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(t){vL(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}};var mY=n=>n instanceof xf,_Y=(()=>{class n extends wi{_parent;ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return K_(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}static \u0275fac=(()=>{let e;return function(r){return(e||(e=Cn(n)))(r||n)}})();static \u0275dir=We({type:n,standalone:!1,features:[qt]})}return n})();var vY={provide:Us,useExisting:on(()=>kf)},yL=Promise.resolve(),kf=(()=>{class n extends Us{_changeDetectorRef;callSetDisabledState;control=new xf;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new qe;constructor(e,i,r,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this._parent=e,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=VL(this,o)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){let i=e.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),zL(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){nP(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(e){yL.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){let i=e.isDisabled.currentValue,r=i!==0&&Ca(i);yL.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?K_(e,this._parent):[e]}static \u0275fac=function(i){return new(i||n)(A(wi,9),A(Ja,10),A(Tf,10),A(Hs,10),A(cr,8),A(Df,8))};static \u0275dir=We({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[Vn([vY]),qt,an]})}return n})();var pn=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275dir=We({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return n})(),yY={provide:Hs,useExisting:on(()=>wr),multi:!0},wr=(()=>{class n extends Wl{writeValue(e){let i=e??"";this.setProperty("value",i)}registerOnChange(e){this.onChange=i=>{e(i==""?null:parseFloat(i))}}static \u0275fac=(()=>{let e;return function(r){return(e||(e=Cn(n)))(r||n)}})();static \u0275dir=We({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(i,r){i&1&&z("input",function(s){return r.onChange(s.target.value)})("blur",function(){return r.onTouched()})},standalone:!1,features:[Vn([yY]),qt]})}return n})(),bY={provide:Hs,useExisting:on(()=>lP),multi:!0};var CY=(()=>{class n{_accessors=[];add(e,i){this._accessors.push([e,i])}remove(e){for(let i=this._accessors.length-1;i>=0;--i)if(this._accessors[i][1]===e){this._accessors.splice(i,1);return}}select(e){this._accessors.forEach(i=>{this._isSameGroup(i,e)&&i[1]!==e&&i[1].fireUncheck(e.value)})}_isSameGroup(e,i){return e[0].control?e[0]._parent===i._control._parent&&e[1].name===i.name:!1}static \u0275fac=function(i){return new(i||n)};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),lP=(()=>{class n extends Wl{_registry;_injector;_state;_control;_fn;setDisabledStateFired=!1;onChange=()=>{};name;formControlName;value;callSetDisabledState=N(Df,{optional:!0})??Af;constructor(e,i,r,o){super(e,i),this._registry=r,this._injector=o}ngOnInit(){this._control=this._injector.get(Us),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(e){this._state=e===this.value,this.setProperty("checked",this._state)}registerOnChange(e){this._fn=e,this.onChange=()=>{e(this.value),this._registry.select(this)}}setDisabledState(e){(this.setDisabledStateFired||e||this.callSetDisabledState==="whenDisabledForLegacyCode")&&this.setProperty("disabled",e),this.setDisabledStateFired=!0}fireUncheck(e){this.writeValue(e)}_checkName(){this.name&&this.formControlName&&(this.name,this.formControlName),!this.name&&this.formControlName&&(this.name=this.formControlName)}static \u0275fac=function(i){return new(i||n)(A(gi),A(cn),A(CY),A(De))};static \u0275dir=We({type:n,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(i,r){i&1&&z("change",function(){return r.onChange()})("blur",function(){return r.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},standalone:!1,features:[Vn([bY]),qt]})}return n})();var jL=new Z("");var wY={provide:wi,useExisting:on(()=>Kt)},Kt=(()=>{class n extends wi{callSetDisabledState;get submitted(){return ln(this._submittedReactive)}set submitted(e){this._submittedReactive.set(e)}_submitted=Uc(()=>this._submittedReactive());_submittedReactive=Jn(!1);_oldForm;_onCollectionChange=()=>this._updateDomValue();directives=[];form=null;ngSubmit=new qe;constructor(e,i,r){super(),this.callSetDisabledState=r,this._setValidators(e),this._setAsyncValidators(i)}ngOnChanges(e){e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(W_(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){let i=this.form.get(e.path);return nP(i,e,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),i}getControl(e){return this.form.get(e.path)}removeControl(e){mL(e.control||null,e,!1),gY(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,i){this.form.get(e.path).setValue(i)}onSubmit(e){return this._submittedReactive.set(!0),hY(this.form,this.directives),this.ngSubmit.emit(e),this.form._events.next(new eP(this.control)),e?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(e=void 0,i={}){this.form.reset(e,i),this._submittedReactive.set(!1)}_updateDomValue(){this.directives.forEach(e=>{let i=e.control,r=this.form.get(e.path);i!==r&&(mL(i||null,e),mY(r)&&(nP(r,e,this.callSetDisabledState),e.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){let i=this.form.get(e.path);uY(i,e),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){let i=this.form.get(e.path);i&&fY(i,e)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){cP(this.form,this),this._oldForm&&W_(this._oldForm,this)}static \u0275fac=function(i){return new(i||n)(A(Ja,10),A(Tf,10),A(Df,8))};static \u0275dir=We({type:n,selectors:[["","formGroup",""]],hostBindings:function(i,r){i&1&&z("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[Vn([wY]),qt,an]})}return n})(),MY={provide:wi,useExisting:on(()=>Q_)},Q_=(()=>{class n extends _Y{name=null;constructor(e,i,r){super(),this._parent=e,this._setValidators(i),this._setAsyncValidators(r)}_checkParentType(){UL(this._parent)}static \u0275fac=function(i){return new(i||n)(A(wi,13),A(Ja,10),A(Tf,10))};static \u0275dir=We({type:n,selectors:[["","formGroupName",""]],inputs:{name:[0,"formGroupName","name"]},standalone:!1,features:[Vn([MY]),qt]})}return n})(),EY={provide:wi,useExisting:on(()=>Y_)},Y_=(()=>{class n extends wi{_parent;name=null;constructor(e,i,r){super(),this._parent=e,this._setValidators(i),this._setAsyncValidators(r)}ngOnInit(){UL(this._parent),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective?.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return K_(this.name==null?this.name:this.name.toString(),this._parent)}static \u0275fac=function(i){return new(i||n)(A(wi,13),A(Ja,10),A(Tf,10))};static \u0275dir=We({type:n,selectors:[["","formArrayName",""]],inputs:{name:[0,"formArrayName","name"]},standalone:!1,features:[Vn([EY]),qt]})}return n})();function UL(n){return!(n instanceof Q_)&&!(n instanceof Kt)&&!(n instanceof Y_)}var PY={provide:Us,useExisting:on(()=>tn)},tn=(()=>{class n extends Us{_ngModelWarningConfig;_added=!1;viewModel;control;name=null;set isDisabled(e){}model;update=new qe;static _ngModelWarningSentOnce=!1;_ngModelWarningSent=!1;constructor(e,i,r,o,s){super(),this._ngModelWarningConfig=s,this._parent=e,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=VL(this,o)}ngOnChanges(e){this._added||this._setUpControl(),zL(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return K_(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_setUpControl(){this.control=this.formDirective.addControl(this),this._added=!0}static \u0275fac=function(i){return new(i||n)(A(wi,13),A(Ja,10),A(Tf,10),A(Hs,10),A(jL,8))};static \u0275dir=We({type:n,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},standalone:!1,features:[Vn([PY]),qt,an]})}return n})();var OY={provide:Hs,useExisting:on(()=>Fn),multi:!0};function $L(n,t){return n==null?`${t}`:(t&&typeof t=="object"&&(t="Object"),`${n}: ${t}`.slice(0,50))}function xY(n){return n.split(":")[0]}var Fn=(()=>{class n extends Wl{value;_optionMap=new Map;_idCounter=0;set compareWith(e){this._compareWith=e}_compareWith=Object.is;appRefInjector=N(Br).injector;destroyRef=N(Ti);cdr=N(cr);_queuedWrite=!1;_writeValueAfterRender(){this._queuedWrite||this.appRefInjector.destroyed||(this._queuedWrite=!0,Nd({write:()=>{this.destroyRef.destroyed||(this._queuedWrite=!1,this.writeValue(this.value))}},{injector:this.appRefInjector}))}writeValue(e){this.cdr.markForCheck(),this.value=e;let i=this._getOptionId(e),r=$L(i,e);this.setProperty("value",r)}registerOnChange(e){this.onChange=i=>{this.value=this._getOptionValue(i),e(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(e){for(let i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i),e))return i;return null}_getOptionValue(e){let i=xY(e);return this._optionMap.has(i)?this._optionMap.get(i):e}static \u0275fac=(()=>{let e;return function(r){return(e||(e=Cn(n)))(r||n)}})();static \u0275dir=We({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(i,r){i&1&&z("change",function(s){return r.onChange(s.target.value)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[Vn([OY]),qt]})}return n})(),ri=(()=>{class n{_element;_renderer;_select;id;constructor(e,i,r){this._element=e,this._renderer=i,this._select=r,this._select&&(this.id=this._select._registerOption())}set ngValue(e){this._select!=null&&(this._select._optionMap.set(this.id,e),this._setElementValue($L(this.id,e)),this._select._writeValueAfterRender())}set value(e){this._setElementValue(e),this._select&&this._select._writeValueAfterRender()}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select._writeValueAfterRender())}static \u0275fac=function(i){return new(i||n)(A(cn),A(gi),A(Fn,9))};static \u0275dir=We({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return n})(),IY={provide:Hs,useExisting:on(()=>HL),multi:!0};function bL(n,t){return n==null?`${t}`:(typeof t=="string"&&(t=`'${t}'`),t&&typeof t=="object"&&(t="Object"),`${n}: ${t}`.slice(0,50))}function SY(n){return n.split(":")[0]}var HL=(()=>{class n extends Wl{value;_optionMap=new Map;_idCounter=0;set compareWith(e){this._compareWith=e}_compareWith=Object.is;writeValue(e){this.value=e;let i;if(Array.isArray(e)){let r=e.map(o=>this._getOptionId(o));i=(o,s)=>{o._setSelected(r.indexOf(s.toString())>-1)}}else i=(r,o)=>{r._setSelected(!1)};this._optionMap.forEach(i)}registerOnChange(e){this.onChange=i=>{let r=[],o=i.selectedOptions;if(o!==void 0){let s=o;for(let a=0;a<s.length;a++){let c=s[a],l=this._getOptionValue(c.value);r.push(l)}}else{let s=i.options;for(let a=0;a<s.length;a++){let c=s[a];if(c.selected){let l=this._getOptionValue(c.value);r.push(l)}}}this.value=r,e(r)}}_registerOption(e){let i=(this._idCounter++).toString();return this._optionMap.set(i,e),i}_getOptionId(e){for(let i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i)._value,e))return i;return null}_getOptionValue(e){let i=SY(e);return this._optionMap.has(i)?this._optionMap.get(i)._value:e}static \u0275fac=(()=>{let e;return function(r){return(e||(e=Cn(n)))(r||n)}})();static \u0275dir=We({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(i,r){i&1&&z("change",function(s){return r.onChange(s.target)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[Vn([IY]),qt]})}return n})(),oi=(()=>{class n{_element;_renderer;_select;id;_value;constructor(e,i,r){this._element=e,this._renderer=i,this._select=r,this._select&&(this.id=this._select._registerOption(this))}set ngValue(e){this._select!=null&&(this._value=e,this._setElementValue(bL(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._select?(this._value=e,this._setElementValue(bL(this.id,e)),this._select.writeValue(this._select.value)):this._setElementValue(e)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}_setSelected(e){this._renderer.setProperty(this._element.nativeElement,"selected",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(i){return new(i||n)(A(cn),A(gi),A(HL,9))};static \u0275dir=We({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return n})();function qL(n){return typeof n=="number"?n:parseFloat(n)}var WL=(()=>{class n{_validator=z_;_onChange;_enabled;ngOnChanges(e){if(this.inputName in e){let i=this.normalizeInput(e[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):z_,this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}enabled(e){return e!=null}static \u0275fac=function(i){return new(i||n)};static \u0275dir=We({type:n,features:[an]})}return n})(),TY={provide:Ja,useExisting:on(()=>dP),multi:!0},dP=(()=>{class n extends WL{max;inputName="max";normalizeInput=e=>qL(e);createValidator=e=>EL(e);static \u0275fac=(()=>{let e;return function(r){return(e||(e=Cn(n)))(r||n)}})();static \u0275dir=We({type:n,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(i,r){i&2&&Wt("max",r._enabled?r.max:null)},inputs:{max:"max"},standalone:!1,features:[Vn([TY]),qt]})}return n})(),DY={provide:Ja,useExisting:on(()=>Vo),multi:!0},Vo=(()=>{class n extends WL{min;inputName="min";normalizeInput=e=>qL(e);createValidator=e=>ML(e);static \u0275fac=(()=>{let e;return function(r){return(e||(e=Cn(n)))(r||n)}})();static \u0275dir=We({type:n,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(i,r){i&2&&Wt("min",r._enabled?r.min:null)},inputs:{min:"min"},standalone:!1,features:[Vn([DY]),qt]})}return n})();var GL=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=Rn({type:n});static \u0275inj=yn({})}return n})(),iP=class extends ql{constructor(t,e,i){super(sP(e),aP(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;at(t){return this.controls[this._adjustIndex(t)]}push(t,e={}){Array.isArray(t)?t.forEach(i=>{this.controls.push(i),this._registerControl(i)}):(this.controls.push(t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(t,e,i={}){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(t,e={}){let i=this._adjustIndex(t);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(t,e,i={}){let r=this._adjustIndex(t);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),e&&(this.controls.splice(r,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){FL(this,!1,t),t.forEach((i,r)=>{LL(this,!1,r),this.at(r).setValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){t!=null&&(t.forEach((i,r)=>{this.at(r)&&this.at(r).patchValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((i,r)=>{i.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e,this),this._updateTouched(e,this),this.updateValueAndValidity(e),e?.emitEvent!==!1&&this._events.next(new If(this))}getRawValue(){return this.controls.map(t=>t.getRawValue())}clear(t={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_adjustIndex(t){return t<0?t+this.length:t}_syncPendingControls(){let t=this.controls.reduce((e,i)=>i._syncPendingControls()?!0:e,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){this.controls.forEach((e,i)=>{t(e,i)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_allControlsDisabled(){for(let t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}_find(t){return this.at(t)??null}};function CL(n){return!!n&&(n.asyncValidators!==void 0||n.validators!==void 0||n.updateOn!==void 0)}var hn=(()=>{class n{useNonNullable=!1;get nonNullable(){let e=new n;return e.useNonNullable=!0,e}group(e,i=null){let r=this._reduceControls(e),o={};return CL(i)?o=i:i!==null&&(o.validators=i.validator,o.asyncValidators=i.asyncValidator),new H_(r,o)}record(e,i=null){let r=this._reduceControls(e);return new tP(r,i)}control(e,i,r){let o={};return this.useNonNullable?(CL(i)?o=i:(o.validators=i,o.asyncValidators=r),new xf(e,oe(B({},o),{nonNullable:!0}))):new xf(e,i,r)}array(e,i,r){let o=e.map(s=>this._createControl(s));return new iP(o,i,r)}_reduceControls(e){let i={};return Object.keys(e).forEach(r=>{i[r]=this._createControl(e[r])}),i}_createControl(e){if(e instanceof xf)return e;if(e instanceof ql)return e;if(Array.isArray(e)){let i=e[0],r=e.length>1?e[1]:null,o=e.length>2?e[2]:null;return this.control(i,r,o)}else return this.control(e)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Z_=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:Df,useValue:e.callSetDisabledState??Af}]}}static \u0275fac=function(i){return new(i||n)};static \u0275mod=Rn({type:n});static \u0275inj=yn({imports:[GL]})}return n})(),gn=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:jL,useValue:e.warnOnNgModelWithFormControl??"always"},{provide:Df,useValue:e.callSetDisabledState??Af}]}}static \u0275fac=function(i){return new(i||n)};static \u0275mod=Rn({type:n});static \u0275inj=yn({imports:[GL]})}return n})();var Rt=class n{constructor(t,e){this.auth=t;this.injector=e}ADMIN_EMAIL="admin@ankh.com";register(t,e){return this.isAdminEmail(t)?new ie(i=>{i.error({code:"auth/admin-email-not-allowed",message:"Admin email cannot be used for registration."})}):this.executeInInjectionContext(()=>ee(Yk(this.auth,t,e)))}login(t,e){return this.executeInInjectionContext(()=>ee(Xk(this.auth,t,e)))}loginByGmail(){return this.executeInInjectionContext(()=>{let t=new X1;return ee(Jk(this.auth,t)).pipe(H(e=>{console.log("result",e);let i=e.user;if(i.email&&this.isAdminEmail(i.email))throw this.executeInInjectionContext(()=>ee(lM(this.auth))).subscribe(),{code:"auth/admin-email-not-allowed",message:"Admin email cannot be used for Google authentication."};return e}),Ge(e=>{throw e}))})}registerByGmail(){return this.loginByGmail()}logout(){return this.executeInInjectionContext(()=>ee(lM(this.auth)))}getCurrentUserId(){return this.auth.currentUser?.uid||null}isAdminEmail(t){return t?.toLowerCase()===this.ADMIN_EMAIL}executeInInjectionContext(t){return se(()=>X(this.injector,t))}static \u0275fac=function(e){return new(e||n)(W(Un),W(De))};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})};var Qt=class n{constructor(t,e){this.database=t;this.injector=e}createOrganizationRequest(t,e){let i=oe(B({},t),{uid:e,status:"pending",createdAt:new Date().toISOString()});return se(()=>X(this.injector,()=>{let r=pe(this.database,`organizations/${e}`);return ee(R_(r,i))}))}getOrganizationStatus(t){return se(()=>X(this.injector,()=>{let e=pe(this.database,`organizations/${t}/status`);return new ie(i=>{$t(e,r=>{i.next(r.exists()?r.val():null)},r=>{i.error(r)})})}))}getOrganization(t){return se(()=>X(this.injector,()=>{let e=pe(this.database,`organizations/${t}`);return new ie(i=>{$t(e,r=>{i.next(r.exists()?r.val():null)},r=>{i.error(r)})})}))}getAllOrganizations(){return se(()=>X(this.injector,()=>{let t=pe(this.database,"organizations");return new ie(e=>{$t(t,i=>{if(!i.exists()){e.next([]);return}let r=i.val(),o=Object.keys(r).map(s=>r[s]);e.next(o)},i=>{e.error(i)})})}))}getOrganizationsByStatus(t){return se(()=>X(this.injector,()=>{let e=pe(this.database,"organizations");return new ie(i=>{$t(e,r=>{if(!r.exists()){i.next([]);return}let o=r.val(),s=Object.keys(o).map(a=>o[a]).filter(a=>a.status===t);i.next(s)},r=>{i.error(r)})})}))}approveOrganization(t){return se(()=>X(this.injector,()=>{let e=pe(this.database,`organizations/${t}/status`);return ee(R_(e,"approved"))}))}rejectOrganization(t){return se(()=>X(this.injector,()=>{let e=pe(this.database,`organizations/${t}/status`);return ee(R_(e,"rejected"))}))}updateOrganization(t,e){let i=pe(this.database,`organizations/${t}`);return se(()=>X(this.injector,()=>ee(ii(i,e))))}deleteOrganization(t){return se(()=>X(this.injector,()=>{let e=pe(this.database,`organizations/${t}`);return ee(Wn(e))}))}static \u0275fac=function(e){return new(e||n)(W(xn),W(De))};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})};function AY(n,t){n&1&&(_(0),v(1,"translate")),n&2&&M(" ",y(1,1,"auth.login.emailRequired")," ")}function kY(n,t){n&1&&(_(0),v(1,"translate")),n&2&&M(" ",y(1,1,"auth.login.emailInvalid")," ")}function RY(n,t){if(n&1&&(f(0,"span",14),L(1,AY,2,3)(2,kY,2,3),h()),n&2){let e=x();d(),F(!(e.email==null||e.email.errors==null)&&e.email.errors.required?1:!(e.email==null||e.email.errors==null)&&e.email.errors.email?2:-1)}}function NY(n,t){n&1&&(_(0),v(1,"translate")),n&2&&M(" ",y(1,1,"auth.login.passwordRequired")," ")}function LY(n,t){n&1&&(_(0),v(1,"translate")),n&2&&M(" ",y(1,1,"auth.login.passwordMinLength")," ")}function FY(n,t){if(n&1&&(f(0,"span",14),L(1,NY,2,3)(2,LY,2,3),h()),n&2){let e=x();d(),F(!(e.password==null||e.password.errors==null)&&e.password.errors.required?1:!(e.password==null||e.password.errors==null)&&e.password.errors.minlength?2:-1)}}function BY(n,t){if(n&1&&(f(0,"div",9)(1,"div",30),w(2,"i",31),_(3),v(4,"translate"),h()()),n&2){let e=x();d(3),M(" ",y(4,1,e.errorMessage)," ")}}function zY(n,t){n&1&&(w(0,"i",32),_(1),v(2,"translate")),n&2&&(d(),M(" ",y(2,1,"auth.login.loading")," "))}function VY(n,t){n&1&&(w(0,"i",33),_(1),v(2,"translate")),n&2&&(d(),M(" ",y(2,1,"auth.login.submit")," "))}function jY(n,t){n&1&&(w(0,"i",32),_(1),v(2,"translate")),n&2&&(d(),M(" ",y(2,1,"auth.login.googleLoading")," "))}function UY(n,t){n&1&&(w(0,"i",34),_(1),v(2,"translate")),n&2&&(d(),M(" ",y(2,1,"auth.login.loginWithGoogle")," "))}var X_=class n{constructor(t,e,i,r){this.fb=t;this.authService=e;this.organizationService=i;this.router=r}loginForm;isLoading=!1;isGoogleLoading=!1;errorMessage="";showPassword=!1;REMEMBER_ME_KEY="ankh_remember_me";REMEMBERED_EMAIL_KEY="ankh_remembered_email";togglePasswordVisibility(){this.showPassword=!this.showPassword}ngOnInit(){let t=localStorage.getItem(this.REMEMBERED_EMAIL_KEY),e=localStorage.getItem(this.REMEMBER_ME_KEY)==="true";this.loginForm=this.fb.group({email:[t||"",[te.required,te.email]],password:["",[te.required,te.minLength(6)]],rememberMe:[e]})}onSubmit(){if(this.loginForm.invalid){this.markFormGroupTouched(this.loginForm);return}this.isLoading=!0,this.errorMessage="";let{email:t,password:e,rememberMe:i}=this.loginForm.value;i?(localStorage.setItem(this.REMEMBER_ME_KEY,"true"),localStorage.setItem(this.REMEMBERED_EMAIL_KEY,t)):(localStorage.removeItem(this.REMEMBER_ME_KEY),localStorage.removeItem(this.REMEMBERED_EMAIL_KEY)),this.authService.login(t,e).pipe(we(r=>{if(!r?.user)return $(null);let o=r.user;return $({user:o})}),Ge(r=>(this.isLoading=!1,this.handleLoginError(r),$(null)))).subscribe({next:r=>{r?.user?(this.isLoading=!1,this.redirectBasedOnRole(r.user.email)):r===null&&(this.isLoading=!1)}})}redirectBasedOnRole(t){if(t==="admin@ankh.com"){this.router.navigate(["/admin"]);return}this.router.navigate(["/profile-view"])}handleLoginError(t){switch(t.code){case"auth/user-not-found":this.errorMessage="auth.login.userNotFound";break;case"auth/wrong-password":this.errorMessage="auth.login.wrongPassword";break;case"auth/invalid-email":this.errorMessage="auth.login.invalidEmail";break;case"auth/invalid-credential":this.errorMessage="auth.login.wrongPassword";break;default:this.errorMessage="auth.login.error"}console.error("Login error:",t)}markFormGroupTouched(t){Object.keys(t.controls).forEach(e=>{t.get(e)?.markAsTouched()})}get email(){return this.loginForm.get("email")}get password(){return this.loginForm.get("password")}get rememberMe(){return this.loginForm.get("rememberMe")}loginByGmail(){this.isGoogleLoading=!0,this.errorMessage="",this.authService.loginByGmail().pipe(we(t=>{let e=t.user;if(!e)throw new Error("Login failed");return this.organizationService.getOrganization(e.uid).pipe(we(i=>i?$({user:e,orgExists:!0}):this.organizationService.createOrganizationRequest({name:e.displayName||"",phone:e.phoneNumber||"",email:e.email||"",idImage:e.photoURL||""},e.uid).pipe(we(()=>$({user:e,orgExists:!1})))))}),Ge(t=>(this.isGoogleLoading=!1,t.code==="auth/admin-email-not-allowed"?this.errorMessage="auth.login.adminEmailNotAllowed":t.code==="auth/popup-closed-by-user"?this.errorMessage="":this.errorMessage="auth.login.googleError",console.error("Google login error:",t),$(null)))).subscribe({next:t=>{t&&(this.isGoogleLoading=!1,this.redirectBasedOnRole(t.user.email||""))}})}static \u0275fac=function(e){return new(e||n)(A(hn),A(Rt),A(Qt),A(He))};static \u0275cmp=de({type:n,selectors:[["app-login"]],decls:62,vars:48,consts:[[1,"login-container"],[1,"container"],[1,"login-header"],[1,"login-title"],[1,"login-subtitle"],[1,"row","justify-content-center"],[1,"col-12","col-md-8","col-lg-6","col-xl-5"],[1,"login-form",3,"ngSubmit","formGroup"],[1,"row","g-3"],[1,"col-12"],[1,"form-group"],["for","email",1,"form-label"],[1,"fas","fa-envelope"],["type","email","id","email","formControlName","email",1,"form-control",3,"placeholder"],[1,"error-message"],["for","password",1,"form-label"],[1,"fas","fa-lock"],[1,"password-input-wrapper"],["id","password","formControlName","password",1,"form-control",3,"type","placeholder"],["type","button",1,"password-toggle",3,"click"],[1,"remember-me-wrapper"],[1,"remember-me-label"],["type","checkbox","formControlName","rememberMe",1,"remember-me-checkbox"],[1,"remember-me-text"],["type","submit",1,"btn","btn-primary","btn-submit","w-100",3,"disabled"],[1,"row","g-3","mt-3"],[1,"divider"],["type","button",1,"btn","btn-google","w-100",3,"click","disabled"],[1,"login-footer"],["routerLink","/register",1,"link-register"],[1,"alert","alert-error"],[1,"fas","fa-exclamation-circle"],[1,"fas","fa-spinner","fa-spin"],[1,"fas","fa-sign-in-alt"],[1,"fab","fa-google"]],template:function(e,i){e&1&&(f(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3),_(4),v(5,"translate"),h(),f(6,"p",4),_(7),v(8,"translate"),h()(),f(9,"div",5)(10,"div",6)(11,"form",7),z("ngSubmit",function(){return i.onSubmit()}),f(12,"div",8)(13,"div",9)(14,"div",10)(15,"label",11),w(16,"i",12),_(17),v(18,"translate"),h(),w(19,"input",13),v(20,"translate"),L(21,RY,3,1,"span",14),h()(),f(22,"div",9)(23,"div",10)(24,"label",15),w(25,"i",16),_(26),v(27,"translate"),h(),f(28,"div",17),w(29,"input",18),v(30,"translate"),f(31,"button",19),z("click",function(){return i.togglePasswordVisibility()}),w(32,"i"),h()(),L(33,FY,3,1,"span",14),h()(),f(34,"div",9)(35,"div",20)(36,"label",21),w(37,"input",22),f(38,"span",23),_(39),v(40,"translate"),h()()()(),L(41,BY,5,3,"div",9),f(42,"div",9)(43,"button",24),L(44,zY,3,3)(45,VY,3,3),h()()()(),f(46,"div",25)(47,"div",9)(48,"div",26)(49,"span"),_(50),v(51,"translate"),h()(),f(52,"button",27),z("click",function(){return i.loginByGmail()}),L(53,jY,3,3)(54,UY,3,3),h()()(),f(55,"div",28)(56,"p"),_(57),v(58,"translate"),f(59,"a",29),_(60),v(61,"translate"),h()()()()()()()),e&2&&(d(4),I(y(5,28,"auth.login.title")),d(3),I(y(8,30,"auth.login.subtitle")),d(4),O("formGroup",i.loginForm),d(6),M(" ",y(18,32,"auth.login.email")," "),d(2),U("invalid",(i.email==null?null:i.email.invalid)&&(i.email==null?null:i.email.touched)),O("placeholder",ei(y(20,34,"auth.login.emailPlaceholder"))),d(2),F(i.email!=null&&i.email.invalid&&(i.email!=null&&i.email.touched)?21:-1),d(5),M(" ",y(27,36,"auth.login.password")," "),d(3),U("invalid",(i.password==null?null:i.password.invalid)&&(i.password==null?null:i.password.touched)),O("placeholder",ei(y(30,38,"auth.login.passwordPlaceholder")))("type",i.showPassword?"text":"password"),d(2),Wt("aria-label",i.showPassword?"Hide password":"Show password"),d(),ps(i.showPassword?"fa-solid fa-eye-slash":"fa-solid fa-eye"),d(),F(i.password!=null&&i.password.invalid&&(i.password!=null&&i.password.touched)?33:-1),d(6),M(" ",y(40,40,"auth.login.rememberMe")," "),d(2),F(i.errorMessage?41:-1),d(2),O("disabled",i.isLoading||i.isGoogleLoading||i.loginForm.invalid),d(),F(i.isLoading?44:45),d(6),I(y(51,42,"auth.login.or")),d(2),O("disabled",i.isLoading||i.isGoogleLoading),d(),F(i.isGoogleLoading?53:54),d(4),M(" ",y(58,44,"auth.login.noAccount")," "),d(3),M(" ",y(61,46,"auth.login.register")," "))},dependencies:[ge,gn,pn,Mt,Sf,kt,fn,Kt,tn,ke,Ue,me,ve],styles:['.login-container[_ngcontent-%COMP%]{min-height:100vh;padding:64px 0;background:linear-gradient(135deg,#f3f1ec,#f6f7f9)}.login-container[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{padding:32px 16px}.login-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:64px;padding-top:32px}.login-header[_ngcontent-%COMP%]   .login-title[_ngcontent-%COMP%]{font-size:2.5rem;font-weight:700;color:#0e3a5d;margin-bottom:8px;font-family:Cairo,sans-serif}.login-header[_ngcontent-%COMP%]   .login-subtitle[_ngcontent-%COMP%]{font-size:1rem;color:#0f172ab3;margin:0}.login-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:32px}.login-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-label[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;font-weight:500;color:#0f172a;margin-bottom:8px;font-size:.9rem}.login-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-label[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#0e3a5d;font-size:.85rem}.login-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .password-input-wrapper[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center}.login-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{width:100%;padding:16px 45px 16px 16px;border:2px solid rgba(14,58,93,.2);border-radius:8px;font-size:1rem;font-family:Cairo,sans-serif;transition:all .3s ease;background:#fff;color:#0f172a}.login-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:focus{outline:none;border-color:#c9a24d;box-shadow:0 0 0 3px #c9a24d1a}.login-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-control.invalid[_ngcontent-%COMP%]{border-color:#dc2626}.login-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]::placeholder{color:#0f172a66}.login-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .password-toggle[_ngcontent-%COMP%]{position:absolute;right:16px;background:transparent;border:none;color:#0f172a80;cursor:pointer;padding:4px;display:flex;align-items:center;justify-content:center;transition:all .3s ease;z-index:1}.login-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .password-toggle[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1rem}.login-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .password-toggle[_ngcontent-%COMP%]:hover{color:#c9a24d}.login-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .password-toggle[_ngcontent-%COMP%]:focus{outline:2px solid #C9A24D;outline-offset:2px;border-radius:4px}.login-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]{display:block;color:#dc2626;font-size:.85rem;margin-top:4px;font-weight:500}.login-form[_ngcontent-%COMP%]   .remember-me-wrapper[_ngcontent-%COMP%]{margin-bottom:16px}.login-form[_ngcontent-%COMP%]   .remember-me-wrapper[_ngcontent-%COMP%]   .remember-me-label[_ngcontent-%COMP%]{display:flex;align-items:center;cursor:pointer;-webkit-user-select:none;user-select:none;font-family:Cairo,sans-serif;gap:8px}.login-form[_ngcontent-%COMP%]   .remember-me-wrapper[_ngcontent-%COMP%]   .remember-me-label[_ngcontent-%COMP%]   .remember-me-checkbox[_ngcontent-%COMP%]{width:18px;height:18px;cursor:pointer;accent-color:#C9A24D;margin:0;flex-shrink:0}.login-form[_ngcontent-%COMP%]   .remember-me-wrapper[_ngcontent-%COMP%]   .remember-me-label[_ngcontent-%COMP%]   .remember-me-text[_ngcontent-%COMP%]{display:flex;align-items:center;gap:4px;color:#0f172acc;font-size:.9rem;font-weight:500;transition:color .2s ease}.login-form[_ngcontent-%COMP%]   .remember-me-wrapper[_ngcontent-%COMP%]   .remember-me-label[_ngcontent-%COMP%]   .remember-me-text[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.85rem;color:#c9a24d;opacity:0;transition:opacity .2s ease}.login-form[_ngcontent-%COMP%]   .remember-me-wrapper[_ngcontent-%COMP%]   .remember-me-label[_ngcontent-%COMP%]:hover   .remember-me-text[_ngcontent-%COMP%]{color:#0f172a}.login-form[_ngcontent-%COMP%]   .remember-me-wrapper[_ngcontent-%COMP%]   .remember-me-label[_ngcontent-%COMP%]   .remember-me-checkbox[_ngcontent-%COMP%]:checked + .remember-me-text[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{opacity:1}.login-form[_ngcontent-%COMP%]   .alert[_ngcontent-%COMP%]{padding:16px;border-radius:8px;margin-bottom:32px;display:flex;align-items:center;gap:8px;font-size:.9rem}.login-form[_ngcontent-%COMP%]   .alert.alert-error[_ngcontent-%COMP%]{background:#dc26261a;color:#dc2626;border:1px solid rgba(220,38,38,.3)}.login-form[_ngcontent-%COMP%]   .alert[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1rem}.login-form[_ngcontent-%COMP%]   .btn-submit[_ngcontent-%COMP%]{padding:16px;font-size:1rem;font-weight:600;border-radius:8px;border:none;cursor:pointer;transition:all .3s ease;display:flex;align-items:center;justify-content:center;gap:8px;font-family:Cairo,sans-serif;background:#c9a24d;color:#fff}.login-form[_ngcontent-%COMP%]   .btn-submit[_ngcontent-%COMP%]:hover:not(:disabled){background:#a8832f;transform:translateY(-2px);box-shadow:0 4px 8px #00000026}.login-form[_ngcontent-%COMP%]   .btn-submit[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.login-footer[_ngcontent-%COMP%]{margin-top:64px;text-align:center;padding-top:32px;border-top:1px solid rgba(14,58,93,.1)}.login-footer[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#0f172ab3;font-size:.9rem;margin:0}.login-footer[_ngcontent-%COMP%]   .link-register[_ngcontent-%COMP%]{color:#c9a24d;font-weight:600;text-decoration:none;transition:all .3s ease}.login-footer[_ngcontent-%COMP%]   .link-register[_ngcontent-%COMP%]:hover{color:#a8832f;text-decoration:underline}.divider[_ngcontent-%COMP%]{display:flex;align-items:center;text-align:center;margin:32px 0;color:#0f172a80;font-size:.9rem}.divider[_ngcontent-%COMP%]:before, .divider[_ngcontent-%COMP%]:after{content:"";flex:1;border-bottom:1px solid rgba(14,58,93,.2)}.divider[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding:0 16px}.btn-google[_ngcontent-%COMP%]{background:#fff;color:#0f172a;border:2px solid rgba(14,58,93,.2);padding:16px 32px;font-weight:600;border-radius:8px;transition:all .3s ease;display:flex;align-items:center;justify-content:center;gap:8px;width:100%}.btn-google[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.2rem;color:#4285f4}.btn-google[_ngcontent-%COMP%]:hover:not(:disabled){background:#0e3a5d0d;border-color:#0e3a5d4d;transform:translateY(-2px);box-shadow:0 1px 2px #0000001a}.btn-google[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}@media (max-width: 991.98px){.login-container[_ngcontent-%COMP%]{padding:32px 0}}@media (max-width: 767.98px){.login-header[_ngcontent-%COMP%]   .login-title[_ngcontent-%COMP%]{font-size:2rem}}@media (max-width: 575.98px){.login-header[_ngcontent-%COMP%]{padding-top:16px}.login-header[_ngcontent-%COMP%]   .login-title[_ngcontent-%COMP%]{font-size:1.5rem}}']})};var KL=li(si());function $Y(n,t){n&1&&(_(0),v(1,"translate")),n&2&&M(" ",y(1,1,"auth.register.nameRequired")," ")}function HY(n,t){n&1&&(_(0),v(1,"translate")),n&2&&M(" ",y(1,1,"auth.register.nameMinLength")," ")}function qY(n,t){if(n&1&&(f(0,"span",15),L(1,$Y,2,3)(2,HY,2,3),h()),n&2){let e=x();d(),F(!(e.name==null||e.name.errors==null)&&e.name.errors.required?1:!(e.name==null||e.name.errors==null)&&e.name.errors.minlength?2:-1)}}function WY(n,t){n&1&&(_(0),v(1,"translate")),n&2&&M(" ",y(1,1,"auth.register.emailRequired")," ")}function GY(n,t){n&1&&(_(0),v(1,"translate")),n&2&&M(" ",y(1,1,"auth.register.emailInvalid")," ")}function KY(n,t){if(n&1&&(f(0,"span",15),L(1,WY,2,3)(2,GY,2,3),h()),n&2){let e=x();d(),F(!(e.email==null||e.email.errors==null)&&e.email.errors.required?1:!(e.email==null||e.email.errors==null)&&e.email.errors.email?2:-1)}}function QY(n,t){n&1&&(_(0),v(1,"translate")),n&2&&M(" ",y(1,1,"auth.register.phoneRequired")," ")}function YY(n,t){n&1&&(_(0),v(1,"translate")),n&2&&M(" ",y(1,1,"auth.register.phoneInvalid")," ")}function ZY(n,t){if(n&1&&(f(0,"span",15),L(1,QY,2,3)(2,YY,2,3),h()),n&2){let e=x();d(),F(!(e.phone==null||e.phone.errors==null)&&e.phone.errors.required?1:!(e.phone==null||e.phone.errors==null)&&e.phone.errors.pattern?2:-1)}}function XY(n,t){n&1&&(_(0),v(1,"translate")),n&2&&M(" ",y(1,1,"auth.register.passwordRequired")," ")}function JY(n,t){n&1&&(_(0),v(1,"translate")),n&2&&M(" ",y(1,1,"auth.register.passwordMinLength")," ")}function eZ(n,t){if(n&1&&(f(0,"span",15),L(1,XY,2,3)(2,JY,2,3),h()),n&2){let e=x();d(),F(!(e.password==null||e.password.errors==null)&&e.password.errors.required?1:!(e.password==null||e.password.errors==null)&&e.password.errors.minlength?2:-1)}}function tZ(n,t){n&1&&(_(0),v(1,"translate")),n&2&&M(" ",y(1,1,"auth.register.confirmPasswordRequired")," ")}function nZ(n,t){n&1&&(_(0),v(1,"translate")),n&2&&M(" ",y(1,1,"auth.register.passwordMismatch")," ")}function iZ(n,t){if(n&1&&(f(0,"span",15),L(1,tZ,2,3)(2,nZ,2,3),h()),n&2){let e=x();d(),F(!(e.confirmPassword==null||e.confirmPassword.errors==null)&&e.confirmPassword.errors.required?1:!(e.confirmPassword==null||e.confirmPassword.errors==null)&&e.confirmPassword.errors.passwordMismatch?2:-1)}}function rZ(n,t){n&1&&(w(0,"i",44),_(1),v(2,"translate")),n&2&&(d(),M(" ",y(2,1,"auth.register.compressing")," "))}function oZ(n,t){n&1&&(w(0,"i",45),_(1),v(2,"translate")),n&2&&(d(),M(" ",y(2,1,"auth.register.uploadIdImage")," "))}function sZ(n,t){n&1&&(f(0,"div",36)(1,"div",46)(2,"span",47),_(3),v(4,"translate"),h()(),f(5,"span",48),_(6),v(7,"translate"),h()()),n&2&&(d(3),I(y(4,2,"auth.register.compressing")),d(3),I(y(7,4,"auth.register.compressing")))}function aZ(n,t){if(n&1){let e=ce();f(0,"div",37),w(1,"img",49),f(2,"button",50),z("click",function(){G(e);let r=x();return K(r.removeImage())}),w(3,"i",51),h()()}if(n&2){let e=x();d(),O("src",e.idImagePreview,it)}}function cZ(n,t){n&1&&(f(0,"span",15),_(1),v(2,"translate"),h()),n&2&&(d(),M(" ",y(2,1,"auth.register.idImageRequired")," "))}function lZ(n,t){if(n&1&&(f(0,"div",10)(1,"div",11)(2,"div",52),w(3,"i",53),_(4),v(5,"translate"),h()()()),n&2){let e=x();d(4),M(" ",y(5,1,e.errorMessage)," ")}}function dZ(n,t){if(n&1&&(f(0,"div",10)(1,"div",11)(2,"div",54),w(3,"i",55),_(4),v(5,"translate"),h()()()),n&2){let e=x();d(4),M(" ",y(5,1,e.successMessage)," ")}}function uZ(n,t){n&1&&(w(0,"i",44),_(1),v(2,"translate")),n&2&&(d(),M(" ",y(2,1,"auth.register.loading")," "))}function fZ(n,t){n&1&&(w(0,"i",56),_(1),v(2,"translate")),n&2&&(d(),M(" ",y(2,1,"auth.register.submit")," "))}function pZ(n,t){n&1&&(w(0,"i",44),_(1),v(2,"translate")),n&2&&(d(),M(" ",y(2,1,"auth.register.googleLoading")," "))}function hZ(n,t){n&1&&(w(0,"i",57),_(1),v(2,"translate")),n&2&&(d(),M(" ",y(2,1,"auth.register.registerWithGoogle")," "))}var J_=class n{constructor(t,e,i,r){this.fb=t;this.authService=e;this.organizationService=i;this.router=r}registerForm;isLoading=!1;isCompressingImage=!1;isGoogleLoading=!1;errorMessage="";successMessage="";idImagePreview=null;idImageBase64=null;showPassword=!1;showConfirmPassword=!1;togglePasswordVisibility(){this.showPassword=!this.showPassword}toggleConfirmPasswordVisibility(){this.showConfirmPassword=!this.showConfirmPassword}ngOnInit(){this.registerForm=this.fb.group({name:["",[te.required,te.minLength(3)]],email:["",[te.required,te.email]],phone:["",[te.required,te.pattern(/^[0-9+\-\s()]+$/)]],password:["",[te.required,te.minLength(6)]],confirmPassword:["",[te.required]],idImage:[null,[te.required]]},{validators:this.passwordMatchValidator})}passwordMatchValidator(t){let e=t.get("password"),i=t.get("confirmPassword");return e&&i&&e.value!==i.value?(i.setErrors({passwordMismatch:!0}),{passwordMismatch:!0}):null}compressAndResizeImage(t){return new Promise((e,i)=>{let r=new FileReader;r.onload=o=>{let s=new Image;s.onload=()=>{let c=s.width,l=s.height;c>600&&(l=l*600/c,c=600);let m=document.createElement("canvas");m.width=c,m.height=l;let g=m.getContext("2d");if(!g){i(new Error("Could not get canvas context"));return}g.drawImage(s,0,0,c,l);let E=m.toDataURL("image/jpeg",.45);e(E)},s.onerror=()=>{i(new Error("Failed to load image"))},s.src=o.target?.result},r.onerror=()=>{i(new Error("Failed to read file"))},r.readAsDataURL(t)})}onFileSelected(t){let i=t.target.files?.[0];if(i){if(!i.type.startsWith("image/")){this.errorMessage="auth.register.invalidImageType";return}if(i.size>5*1024*1024){this.errorMessage="auth.register.imageTooLarge";return}this.isCompressingImage=!0,this.errorMessage="",this.compressAndResizeImage(i).then(r=>{this.idImageBase64=r,this.idImagePreview=r,this.registerForm.patchValue({idImage:r}),this.isCompressingImage=!1,this.errorMessage=""}).catch(r=>{console.error("Error compressing image:",r),this.isCompressingImage=!1,this.errorMessage="auth.register.imageProcessingError"})}}removeImage(){this.idImagePreview=null,this.idImageBase64=null,this.registerForm.patchValue({idImage:null})}onSubmit(){if(this.registerForm.invalid){this.markFormGroupTouched(this.registerForm);return}let{name:t,email:e,phone:i,password:r}=this.registerForm.value;if(this.authService.isAdminEmail(e)){this.errorMessage="auth.register.adminEmailNotAllowed";return}if(!this.idImageBase64){this.errorMessage="auth.register.idImageRequired";return}this.isLoading=!0,this.errorMessage="",this.successMessage="",this.authService.register(e,r).pipe(we(o=>{let s=o.user;if(!s)throw new Error("User creation failed");return this.organizationService.createOrganizationRequest({name:t,phone:i,email:e,idImage:this.idImageBase64},s.uid).pipe(we(()=>$(s)))}),Ge(o=>{if(this.isLoading=!1,o.code)switch(o.code){case"auth/email-already-in-use":this.errorMessage="auth.register.emailExists";break;case"auth/invalid-email":this.errorMessage="auth.register.invalidEmail";break;case"auth/weak-password":this.errorMessage="auth.register.weakPassword";break;case"auth/admin-email-not-allowed":this.errorMessage="auth.register.adminEmailNotAllowed";break;case"PERMISSION_DENIED":this.errorMessage="auth.register.permissionDenied",console.error("Database permission denied. Check database rules.");break;default:this.errorMessage="auth.register.error"}else this.errorMessage="auth.register.createError";return console.error("Registration error:",o),$(null)})).subscribe({next:o=>{o&&(this.isLoading=!1,this.router.navigate(["/profile-view"]))}})}markFormGroupTouched(t){Object.keys(t.controls).forEach(e=>{t.get(e)?.markAsTouched()})}get name(){return this.registerForm.get("name")}get email(){return this.registerForm.get("email")}get phone(){return this.registerForm.get("phone")}get password(){return this.registerForm.get("password")}get confirmPassword(){return this.registerForm.get("confirmPassword")}get idImage(){return this.registerForm.get("idImage")}registerByGmail(){this.isGoogleLoading=!0,this.errorMessage="",this.authService.registerByGmail().pipe(we(t=>{let e=t.user;if(!e)throw new Error("User creation failed");return this.organizationService.getOrganization(e.uid).pipe(we(i=>i?$({user:e,orgExists:!0}):(console.log("user",e),this.organizationService.createOrganizationRequest({name:e.displayName||"",phone:e.phoneNumber||"",email:e.email||"",idImage:e.photoURL||""},e.uid).subscribe(),console.log("organization created"),$({user:e,orgExists:!1}))))}),Ge(t=>(this.isGoogleLoading=!1,t.code==="auth/admin-email-not-allowed"?this.errorMessage="auth.register.adminEmailNotAllowed":t.code==="auth/popup-closed-by-user"?this.errorMessage="":this.errorMessage="auth.register.googleError",console.error("Google registration error:",t),$(null)))).subscribe({next:t=>{t&&(this.isGoogleLoading=!1,t.orgExists?this.router.navigate(["/profile-view"]):KL.default.fire({title:"Complete Registration",text:"Please complete your organization details",icon:"info",confirmButtonText:"OK"}).then(()=>{t.user.email&&this.registerForm.patchValue({email:t.user.email,name:t.user.displayName||""})}))}})}static \u0275fac=function(e){return new(e||n)(A(hn),A(Rt),A(Qt),A(He))};static \u0275cmp=de({type:n,selectors:[["app-register"]],decls:119,vars:99,consts:[[1,"register-container"],[1,"container"],[1,"register-header"],[1,"register-title"],[1,"register-subtitle"],[1,"register-form",3,"ngSubmit","formGroup"],[1,"form-section"],[1,"section-title"],[1,"fas","fa-building"],[1,"section-content"],[1,"row","g-3"],[1,"col-12"],[1,"form-group"],["for","name",1,"form-label"],["type","text","id","name","formControlName","name",1,"form-control",3,"placeholder"],[1,"error-message"],[1,"col-12","col-md-6"],["for","email",1,"form-label"],[1,"fas","fa-envelope"],["type","email","id","email","formControlName","email",1,"form-control",3,"placeholder"],["for","phone",1,"form-label"],[1,"fas","fa-phone"],["type","number","id","phone","formControlName","phone",1,"form-control",3,"placeholder"],[1,"fas","fa-shield-alt"],["for","password",1,"form-label"],[1,"fas","fa-lock"],[1,"password-input-wrapper"],["id","password","formControlName","password",1,"form-control",3,"type","placeholder"],["type","button",1,"password-toggle",3,"click"],["for","confirmPassword",1,"form-label"],["id","confirmPassword","formControlName","confirmPassword",1,"form-control",3,"type","placeholder"],[1,"fas","fa-id-card"],["for","idImage",1,"form-label"],[1,"file-upload-container"],["type","file","id","idImage","accept","image/*",1,"file-input",3,"change","disabled"],["for","idImage",1,"file-label"],[1,"compression-indicator"],[1,"image-preview"],["type","submit",1,"btn","btn-primary","btn-submit","w-100",3,"disabled"],[1,"row","g-3","mt-3"],[1,"divider"],["type","button",1,"btn","btn-google","w-100",3,"click","disabled"],[1,"register-footer"],["routerLink","/login",1,"link-login"],[1,"fas","fa-spinner","fa-spin"],[1,"fas","fa-upload"],["role","status",1,"spinner-border","spinner-border-sm","text-primary"],[1,"visually-hidden"],[1,"ms-2"],["alt","ID Image Preview",3,"src"],["type","button",1,"btn-remove-image",3,"click"],[1,"fas","fa-times"],[1,"alert","alert-error"],[1,"fas","fa-exclamation-circle"],[1,"alert","alert-success"],[1,"fas","fa-check-circle"],[1,"fas","fa-user-plus"],[1,"fab","fa-google"]],template:function(e,i){e&1&&(f(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3),_(4),v(5,"translate"),h(),f(6,"p",4),_(7),v(8,"translate"),h()(),f(9,"form",5),z("ngSubmit",function(){return i.onSubmit()}),f(10,"div",6)(11,"h3",7),w(12,"i",8),_(13),v(14,"translate"),h(),f(15,"div",9)(16,"div",10)(17,"div",11)(18,"div",12)(19,"label",13),w(20,"i",8),_(21),v(22,"translate"),h(),w(23,"input",14),v(24,"translate"),L(25,qY,3,1,"span",15),h()(),f(26,"div",16)(27,"div",12)(28,"label",17),w(29,"i",18),_(30),v(31,"translate"),h(),w(32,"input",19),v(33,"translate"),L(34,KY,3,1,"span",15),h()(),f(35,"div",16)(36,"div",12)(37,"label",20),w(38,"i",21),_(39),v(40,"translate"),h(),w(41,"input",22),v(42,"translate"),L(43,ZY,3,1,"span",15),h()()()()(),f(44,"div",6)(45,"h3",7),w(46,"i",23),_(47),v(48,"translate"),h(),f(49,"div",9)(50,"div",10)(51,"div",16)(52,"div",12)(53,"label",24),w(54,"i",25),_(55),v(56,"translate"),h(),f(57,"div",26),w(58,"input",27),v(59,"translate"),f(60,"button",28),z("click",function(){return i.togglePasswordVisibility()}),w(61,"i"),h()(),L(62,eZ,3,1,"span",15),h()(),f(63,"div",16)(64,"div",12)(65,"label",29),w(66,"i",25),_(67),v(68,"translate"),h(),f(69,"div",26),w(70,"input",30),v(71,"translate"),f(72,"button",28),z("click",function(){return i.toggleConfirmPasswordVisibility()}),w(73,"i"),h()(),L(74,iZ,3,1,"span",15),h()()()()(),f(75,"div",6)(76,"h3",7),w(77,"i",31),_(78),v(79,"translate"),h(),f(80,"div",9)(81,"div",10)(82,"div",11)(83,"div",12)(84,"label",32),w(85,"i",31),_(86),v(87,"translate"),h(),f(88,"div",33)(89,"input",34),z("change",function(o){return i.onFileSelected(o)}),h(),f(90,"label",35),L(91,rZ,3,3)(92,oZ,3,3),h()(),L(93,sZ,8,6,"div",36),L(94,aZ,4,1,"div",37),L(95,cZ,3,3,"span",15),h()()()()(),L(96,lZ,6,3,"div",10),L(97,dZ,6,3,"div",10),f(98,"div",10)(99,"div",11)(100,"button",38),L(101,uZ,3,3)(102,fZ,3,3),h()()()(),f(103,"div",39)(104,"div",11)(105,"div",40)(106,"span"),_(107),v(108,"translate"),h()(),f(109,"button",41),z("click",function(){return i.registerByGmail()}),L(110,pZ,3,3)(111,hZ,3,3),h()()(),f(112,"div",42)(113,"p"),_(114),v(115,"translate"),f(116,"a",43),_(117),v(118,"translate"),h()()()()()),e&2&&(d(4),I(y(5,61,"auth.register.title")),d(3),I(y(8,63,"auth.register.subtitle")),d(2),O("formGroup",i.registerForm),d(4),M(" ",y(14,65,"auth.register.basicInfo")," "),d(8),M(" ",y(22,67,"auth.register.name")," "),d(2),U("invalid",(i.name==null?null:i.name.invalid)&&(i.name==null?null:i.name.touched)),O("placeholder",ei(y(24,69,"auth.register.namePlaceholder"))),d(2),F(i.name!=null&&i.name.invalid&&(i.name!=null&&i.name.touched)?25:-1),d(5),M(" ",y(31,71,"auth.register.email")," "),d(2),U("invalid",(i.email==null?null:i.email.invalid)&&(i.email==null?null:i.email.touched)),O("placeholder",ei(y(33,73,"auth.register.emailPlaceholder"))),d(2),F(i.email!=null&&i.email.invalid&&(i.email!=null&&i.email.touched)?34:-1),d(5),M(" ",y(40,75,"auth.register.phone")," "),d(2),U("invalid",(i.phone==null?null:i.phone.invalid)&&(i.phone==null?null:i.phone.touched)),O("placeholder",ei(y(42,77,"auth.register.phonePlaceholder"))),d(2),F(i.phone!=null&&i.phone.invalid&&(i.phone!=null&&i.phone.touched)?43:-1),d(4),M(" ",y(48,79,"auth.register.accountSecurity")," "),d(8),M(" ",y(56,81,"auth.register.password")," "),d(3),U("invalid",(i.password==null?null:i.password.invalid)&&(i.password==null?null:i.password.touched)),O("placeholder",ei(y(59,83,"auth.register.passwordPlaceholder")))("type",i.showPassword?"text":"password"),d(2),Wt("aria-label",i.showPassword?"Hide password":"Show password"),d(),ps(i.showPassword?"fa-solid fa-eye-slash":"fa-solid fa-eye"),d(),F(i.password!=null&&i.password.invalid&&(i.password!=null&&i.password.touched)?62:-1),d(5),M(" ",y(68,85,"auth.register.confirmPassword")," "),d(3),U("invalid",(i.confirmPassword==null?null:i.confirmPassword.invalid)&&(i.confirmPassword==null?null:i.confirmPassword.touched)),O("placeholder",ei(y(71,87,"auth.register.confirmPasswordPlaceholder")))("type",i.showConfirmPassword?"text":"password"),d(2),Wt("aria-label",i.showConfirmPassword?"Hide password":"Show password"),d(),ps(i.showConfirmPassword?"fa-solid fa-eye-slash":"fa-solid fa-eye"),d(),F(i.confirmPassword!=null&&i.confirmPassword.invalid&&(i.confirmPassword!=null&&i.confirmPassword.touched)?74:-1),d(4),M(" ",y(79,89,"auth.register.verification")," "),d(8),M(" ",y(87,91,"auth.register.idImage")," "),d(3),O("disabled",i.isCompressingImage),d(),U("disabled",i.isCompressingImage),d(),F(i.isCompressingImage?91:92),d(2),F(i.isCompressingImage?93:-1),d(),F(i.idImagePreview&&!i.isCompressingImage?94:-1),d(),F(i.idImage!=null&&i.idImage.invalid&&(i.idImage!=null&&i.idImage.touched)?95:-1),d(),F(i.errorMessage?96:-1),d(),F(i.successMessage?97:-1),d(3),O("disabled",i.isLoading||i.isGoogleLoading||i.registerForm.invalid),d(),F(i.isLoading?101:102),d(6),I(y(108,93,"auth.register.or")),d(2),O("disabled",i.isLoading||i.isGoogleLoading),d(),F(i.isGoogleLoading?110:111),d(4),M(" ",y(115,95,"auth.register.haveAccount")," "),d(3),M(" ",y(118,97,"auth.register.login")," "))},dependencies:[ge,gn,pn,Mt,wr,kt,fn,Kt,tn,ke,Ue,me,ve],styles:['.register-container[_ngcontent-%COMP%]{min-height:100vh;padding:64px 0;background:linear-gradient(135deg,#f3f1ec,#f6f7f9)}.register-container[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{padding:32px 16px}.register-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:64px;padding-top:32px}.register-header[_ngcontent-%COMP%]   .register-title[_ngcontent-%COMP%]{font-size:2.5rem;font-weight:700;color:#0e3a5d;margin-bottom:8px;font-family:Cairo,sans-serif}.register-header[_ngcontent-%COMP%]   .register-subtitle[_ngcontent-%COMP%]{font-size:1rem;color:#0f172ab3;margin:0}.register-form[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]{margin-bottom:64px;background:#f6f7f94d;border-radius:8px;padding:32px;border:1px solid rgba(14,58,93,.1)}.register-form[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]:last-of-type{margin-bottom:32px}.register-form[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{font-size:1.2rem;font-weight:600;color:#0e3a5d;margin-bottom:32px;padding-bottom:8px;border-bottom:2px solid rgba(201,162,77,.2);display:flex;align-items:center;gap:8px;font-family:Cairo,sans-serif}.register-form[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#c9a24d;font-size:1rem}.register-form[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]   .section-subtitle[_ngcontent-%COMP%]{font-size:.85rem;font-weight:400;color:#0f172a80;margin-left:auto}.register-form[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .section-content[_ngcontent-%COMP%]   .row.g-3[_ngcontent-%COMP%]{margin-left:0;margin-right:0}.register-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:0}.register-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-label[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;font-weight:500;color:#0f172a;margin-bottom:8px;font-size:.9rem}.register-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-label[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#0e3a5d;font-size:.85rem}.register-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-label[_ngcontent-%COMP%]   .optional[_ngcontent-%COMP%]{color:#0f172a80;font-weight:400;font-size:.85rem}.register-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .password-input-wrapper[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center}.register-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{width:100%;padding:16px 45px 16px 16px;border:2px solid rgba(14,58,93,.2);border-radius:8px;font-size:1rem;font-family:Cairo,sans-serif;transition:all .3s ease;background:#fff;color:#0f172a}.register-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:focus{outline:none;border-color:#c9a24d;box-shadow:0 0 0 3px #c9a24d1a}.register-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-control.invalid[_ngcontent-%COMP%]{border-color:#dc2626}.register-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]::placeholder{color:#0f172a66}.register-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .password-toggle[_ngcontent-%COMP%]{position:absolute;right:16px;background:transparent;border:none;color:#0f172a80;cursor:pointer;padding:4px;display:flex;align-items:center;justify-content:center;transition:all .3s ease;z-index:1}.register-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .password-toggle[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1rem}.register-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .password-toggle[_ngcontent-%COMP%]:hover{color:#c9a24d}.register-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .password-toggle[_ngcontent-%COMP%]:focus{outline:2px solid #C9A24D;outline-offset:2px;border-radius:4px}.register-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-textarea[_ngcontent-%COMP%]{resize:vertical;min-height:80px}.register-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]{display:block;color:#dc2626;font-size:.85rem;margin-top:4px;font-weight:500}.register-form[_ngcontent-%COMP%]   .file-upload-container[_ngcontent-%COMP%]{position:relative}.register-form[_ngcontent-%COMP%]   .file-upload-container[_ngcontent-%COMP%]   .file-input[_ngcontent-%COMP%]{position:absolute;opacity:0;width:0;height:0}.register-form[_ngcontent-%COMP%]   .file-upload-container[_ngcontent-%COMP%]   .file-label[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:8px;padding:16px;border:2px dashed rgba(14,58,93,.3);border-radius:8px;background:#f6f7f980;cursor:pointer;transition:all .3s ease;color:#0e3a5d;font-weight:500}.register-form[_ngcontent-%COMP%]   .file-upload-container[_ngcontent-%COMP%]   .file-label[_ngcontent-%COMP%]:hover{border-color:#c9a24d;background:#c9a24d1a;color:#c9a24d}.register-form[_ngcontent-%COMP%]   .file-upload-container[_ngcontent-%COMP%]   .file-label[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.1rem}.register-form[_ngcontent-%COMP%]   .file-upload-container[_ngcontent-%COMP%]   .file-label.disabled[_ngcontent-%COMP%]{opacity:.6;cursor:not-allowed}.register-form[_ngcontent-%COMP%]   .compression-indicator[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;padding:16px;margin-top:8px;background:#c9a24d1a;border-radius:8px;color:#c9a24d;font-size:.9rem;font-weight:500;font-family:Cairo,sans-serif}.register-form[_ngcontent-%COMP%]   .compression-indicator[_ngcontent-%COMP%]   .spinner-border-sm[_ngcontent-%COMP%]{width:1rem;height:1rem;border-width:.15rem}.register-form[_ngcontent-%COMP%]   .image-preview[_ngcontent-%COMP%]{position:relative;margin-top:16px;border-radius:8px;overflow:hidden;border:2px solid rgba(14,58,93,.2);max-width:300px}.register-form[_ngcontent-%COMP%]   .image-preview[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto;display:block}.register-form[_ngcontent-%COMP%]   .image-preview[_ngcontent-%COMP%]   .btn-remove-image[_ngcontent-%COMP%]{position:absolute;top:8px;right:8px;background:#dc2626;color:#fff;border:none;border-radius:50%;width:30px;height:30px;display:flex;align-items:center;justify-content:center;cursor:pointer;transition:all .3s ease;box-shadow:0 4px 8px #00000026}.register-form[_ngcontent-%COMP%]   .image-preview[_ngcontent-%COMP%]   .btn-remove-image[_ngcontent-%COMP%]:hover{background:#b21d1d;transform:scale(1.1)}.register-form[_ngcontent-%COMP%]   .alert[_ngcontent-%COMP%]{padding:16px;border-radius:8px;margin-bottom:32px;display:flex;align-items:center;gap:8px;font-size:.9rem}.register-form[_ngcontent-%COMP%]   .alert.alert-error[_ngcontent-%COMP%]{background:#dc26261a;color:#dc2626;border:1px solid rgba(220,38,38,.3)}.register-form[_ngcontent-%COMP%]   .alert.alert-success[_ngcontent-%COMP%]{background:#16a34a1a;color:#16a34a;border:1px solid rgba(22,163,74,.3)}.register-form[_ngcontent-%COMP%]   .alert[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1rem}.register-form[_ngcontent-%COMP%]   .btn-submit[_ngcontent-%COMP%]{padding:16px;font-size:1rem;font-weight:600;border-radius:8px;border:none;cursor:pointer;transition:all .3s ease;display:flex;align-items:center;justify-content:center;gap:8px;font-family:Cairo,sans-serif;background:#c9a24d;color:#fff}.register-form[_ngcontent-%COMP%]   .btn-submit[_ngcontent-%COMP%]:hover:not(:disabled){background:#a8832f;transform:translateY(-2px);box-shadow:0 4px 8px #00000026}.register-form[_ngcontent-%COMP%]   .btn-submit[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.register-footer[_ngcontent-%COMP%]{margin-top:64px;text-align:center;padding-top:32px;border-top:1px solid rgba(14,58,93,.1)}.register-footer[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#0f172ab3;font-size:.9rem;margin:0}.register-footer[_ngcontent-%COMP%]   .link-login[_ngcontent-%COMP%]{color:#c9a24d;font-weight:600;text-decoration:none;transition:all .3s ease}.register-footer[_ngcontent-%COMP%]   .link-login[_ngcontent-%COMP%]:hover{color:#a8832f;text-decoration:underline}.divider[_ngcontent-%COMP%]{display:flex;align-items:center;text-align:center;margin:32px 0;color:#0f172a80;font-size:.9rem}.divider[_ngcontent-%COMP%]:before, .divider[_ngcontent-%COMP%]:after{content:"";flex:1;border-bottom:1px solid rgba(14,58,93,.2)}.divider[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding:0 16px}.btn-google[_ngcontent-%COMP%]{background:#fff;color:#0f172a;border:2px solid rgba(14,58,93,.2);padding:16px 32px;font-weight:600;border-radius:8px;transition:all .3s ease;display:flex;align-items:center;justify-content:center;gap:8px;width:100%}.btn-google[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.2rem;color:#4285f4}.btn-google[_ngcontent-%COMP%]:hover:not(:disabled){background:#0e3a5d0d;border-color:#0e3a5d4d;transform:translateY(-2px);box-shadow:0 1px 2px #0000001a}.btn-google[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}@media (max-width: 991.98px){.register-container[_ngcontent-%COMP%]{padding:32px 0}}@media (max-width: 767.98px){.register-header[_ngcontent-%COMP%]   .register-title[_ngcontent-%COMP%]{font-size:2rem}.register-form[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]{padding:16px}}@media (max-width: 575.98px){.register-header[_ngcontent-%COMP%]{padding-top:16px}.register-header[_ngcontent-%COMP%]   .register-title[_ngcontent-%COMP%]{font-size:1.5rem}.register-form[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]{padding:8px}.register-form[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{font-size:1rem}}']})};function gZ(n,t){n&1&&(f(0,"div",2)(1,"div",5)(2,"span",6),_(3),v(4,"translate"),h()(),f(5,"p",7),_(6),v(7,"translate"),h()()),n&2&&(d(3),I(y(4,2,"auth.profile.loading")),d(3),I(y(7,4,"auth.profile.loading")))}function mZ(n,t){if(n&1&&(f(0,"div",3)(1,"div",8),w(2,"i",9),_(3),v(4,"translate"),h()()),n&2){let e=x();d(3),M(" ",y(4,1,e.errorMessage)," ")}}function _Z(n,t){if(n&1&&(w(0,"img",39),v(1,"translate")),n&2){let e=x(2);O("src",e.organization.idImage,it)("alt",y(1,2,"auth.profile.idImage"))}}function vZ(n,t){n&1&&(f(0,"div",40),w(1,"i",41),f(2,"p"),_(3),v(4,"translate"),h()()),n&2&&(d(3),I(y(4,1,"auth.profile.noImage")))}function yZ(n,t){if(n&1&&(f(0,"div",4)(1,"div",10)(2,"div",11)(3,"div",12)(4,"h1",13),w(5,"i",14),_(6),h(),f(7,"p",15),_(8),v(9,"translate"),h()(),f(10,"div",16)(11,"div",17)(12,"span",18),w(13,"i",19),_(14),v(15,"translate"),h(),f(16,"button",20),w(17,"i",21),_(18),v(19,"translate"),h()()()()(),f(20,"div",22)(21,"div",23)(22,"div",24)(23,"h3",25),w(24,"i",26),_(25),v(26,"translate"),h(),f(27,"div",27)(28,"div",28)(29,"div",12)(30,"div",29)(31,"label",30),w(32,"i",31),_(33),v(34,"translate"),h(),f(35,"p",32),_(36),h()()(),f(37,"div",12)(38,"div",29)(39,"label",30),w(40,"i",33),_(41),v(42,"translate"),h(),f(43,"p",32),_(44),h()()()()()(),f(45,"div",24)(46,"h3",25),w(47,"i",34),_(48),v(49,"translate"),h(),f(50,"div",27)(51,"div",28)(52,"div",12)(53,"div",29)(54,"label",30),w(55,"i",35),_(56),v(57,"translate"),h(),f(58,"p",32),_(59),h()()()()()()(),f(60,"div",36)(61,"div",24)(62,"h3",25),w(63,"i",37),_(64),v(65,"translate"),h(),f(66,"div",27)(67,"div",38),L(68,_Z,2,4,"img",39)(69,vZ,5,3,"div",40),h()()()()()()),n&2){let e=x();d(6),M(" ",e.organization.name," "),d(2),I(y(9,21,"auth.profile.organizationProfile")),d(4),O("ngClass",e.getStatusClass(e.organization.status)),d(),U("fa-check-circle",e.organization.status==="approved")("fa-clock",e.organization.status==="pending")("fa-times-circle",e.organization.status==="rejected"),d(),M(" ",y(15,23,e.getStatusKey(e.organization.status))," "),d(4),M(" ",y(19,25,"auth.profile.edit.title")," "),d(7),M(" ",y(26,27,"auth.profile.basicInfo")," "),d(8),M(" ",y(34,29,"auth.profile.email")," "),d(3),I(e.organization.email),d(5),M(" ",y(42,31,"auth.profile.phone")," "),d(3),I(e.organization.phone),d(4),M(" ",y(49,33,"auth.profile.systemInfo")," "),d(8),M(" ",y(57,35,"auth.profile.registrationDate")," "),d(3),I(e.formatDate(e.organization.createdAt)),d(5),M(" ",y(65,37,"auth.profile.verificationDocument")," "),d(4),F(e.organization.idImage?68:69)}}var e0=class n{constructor(t,e){this.organizationService=t;this.authService=e}organization=null;isLoading=!0;errorMessage="";currentUserEmail="";destroy$=new le;ngOnInit(){let t=this.authService.getCurrentUserId();this.organizationService.getOrganization(t||"").pipe(ne(this.destroy$)).subscribe({next:e=>{this.organization=e,this.isLoading=!1,e||(this.errorMessage="auth.profile.organizationNotFound")},error:e=>{console.error("Error loading organization:",e),this.errorMessage="auth.profile.loadError",this.isLoading=!1}})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}getStatusClass(t){switch(t){case"approved":return"badge-success";case"pending":return"badge-warning";case"rejected":return"badge-error";default:return"badge-secondary"}}getStatusKey(t){return`auth.profile.status.${t}`}formatDate(t){return t?new Date(t).toLocaleDateString("ar-EG",{year:"numeric",month:"long",day:"numeric"}):""}static \u0275fac=function(e){return new(e||n)(A(Qt),A(Rt))};static \u0275cmp=de({type:n,selectors:[["app-profile-view"]],decls:5,vars:3,consts:[[1,"profile-container"],[1,"container"],[1,"loading-state"],[1,"error-state"],[1,"profile-content"],["role","status",1,"spinner-border","text-primary"],[1,"visually-hidden"],[1,"mt-3"],[1,"alert","alert-error"],[1,"fas","fa-exclamation-circle"],[1,"profile-header"],[1,"row","align-items-center"],[1,"col-12","col-md-6"],[1,"profile-title"],[1,"fas","fa-building"],[1,"profile-subtitle"],[1,"col-12","col-md-6","text-md-end"],[1,"header-actions"],[1,"status-badge",3,"ngClass"],[1,"fas"],["type","button","routerLink","/profile-edit",1,"btn","btn-edit"],[1,"fas","fa-edit"],[1,"row","g-4"],[1,"col-12","col-lg-8"],[1,"profile-card"],[1,"card-title"],[1,"fas","fa-info-circle"],[1,"card-content"],[1,"row","g-3"],[1,"info-item"],[1,"info-label"],[1,"fas","fa-envelope"],[1,"info-value"],[1,"fas","fa-phone"],[1,"fas","fa-cog"],[1,"fas","fa-calendar"],[1,"col-12","col-lg-4"],[1,"fas","fa-id-card"],[1,"id-image-container"],[1,"id-image",3,"src","alt"],[1,"no-image"],[1,"fas","fa-image"]],template:function(e,i){e&1&&(f(0,"div",0)(1,"div",1),L(2,gZ,8,6,"div",2),L(3,mZ,5,3,"div",3),L(4,yZ,70,39,"div",4),h()()),e&2&&(d(2),F(i.isLoading?2:-1),d(),F(!i.isLoading&&i.errorMessage&&!i.organization?3:-1),d(),F(!i.isLoading&&i.organization?4:-1))},dependencies:[ge,Xt,ke,Ue,me,ve],styles:['.profile-container[_ngcontent-%COMP%]{min-height:100vh;padding:64px 0;background:linear-gradient(135deg,#f3f1ec,#f6f7f9)}.profile-container[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{padding:32px 16px}.loading-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;min-height:400px;text-align:center}.loading-state[_ngcontent-%COMP%]   .spinner-border[_ngcontent-%COMP%]{width:3rem;height:3rem;border-width:.3rem}.loading-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#0f172ab3;font-size:1rem;margin:0}.error-state[_ngcontent-%COMP%]{margin-top:64px}.error-state[_ngcontent-%COMP%]   .alert-error[_ngcontent-%COMP%]{padding:32px;border-radius:8px;background:#dc26261a;color:#dc2626;border:1px solid rgba(220,38,38,.3);display:flex;align-items:center;gap:8px;font-size:1rem}.error-state[_ngcontent-%COMP%]   .alert-error[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.2rem}.profile-content[_ngcontent-%COMP%]{margin-top:32px}.profile-header[_ngcontent-%COMP%]{margin-bottom:64px;padding-bottom:32px;border-bottom:2px solid rgba(14,58,93,.1)}.profile-header[_ngcontent-%COMP%]   .profile-title[_ngcontent-%COMP%]{font-size:2.5rem;font-weight:700;color:#0e3a5d;margin-bottom:8px;font-family:Cairo,sans-serif;display:flex;align-items:center;gap:16px}.profile-header[_ngcontent-%COMP%]   .profile-title[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#c9a24d;font-size:2rem}.profile-header[_ngcontent-%COMP%]   .profile-subtitle[_ngcontent-%COMP%]{font-size:1rem;color:#0f172a99;margin:0}.profile-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]{display:flex;align-items:center;gap:16px;flex-wrap:wrap;justify-content:flex-end}@media (max-width: 767.98px){.profile-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]{margin-top:16px;justify-content:flex-start}}.profile-header[_ngcontent-%COMP%]   .status-badge[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:8px;padding:8px 16px;border-radius:8px;font-weight:600;font-size:.9rem;font-family:Cairo,sans-serif}.profile-header[_ngcontent-%COMP%]   .status-badge.badge-success[_ngcontent-%COMP%]{background:#16a34a1a;color:#16a34a;border:1px solid rgba(22,163,74,.3)}.profile-header[_ngcontent-%COMP%]   .status-badge.badge-warning[_ngcontent-%COMP%]{background:#d977061a;color:#d97706;border:1px solid rgba(217,119,6,.3)}.profile-header[_ngcontent-%COMP%]   .status-badge.badge-error[_ngcontent-%COMP%]{background:#dc26261a;color:#dc2626;border:1px solid rgba(220,38,38,.3)}.profile-header[_ngcontent-%COMP%]   .status-badge[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1rem}.profile-header[_ngcontent-%COMP%]   .btn-edit[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:8px;padding:8px 16px;background:#c9a24d;color:#fff;border:none;border-radius:8px;font-weight:600;font-size:.9rem;font-family:Cairo,sans-serif;cursor:pointer;transition:all .3s ease;text-decoration:none}.profile-header[_ngcontent-%COMP%]   .btn-edit[_ngcontent-%COMP%]:hover{background:#a8832f;transform:translateY(-2px);box-shadow:0 4px 8px #00000026}.profile-header[_ngcontent-%COMP%]   .btn-edit[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.9rem}.profile-card[_ngcontent-%COMP%]{background:#fff;border-radius:16px;padding:32px;margin-bottom:32px;box-shadow:0 4px 8px #00000026;border:1px solid rgba(14,58,93,.1)}.profile-card[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{font-size:1.3rem;font-weight:600;color:#0e3a5d;margin-bottom:32px;padding-bottom:16px;border-bottom:2px solid rgba(201,162,77,.2);display:flex;align-items:center;gap:8px;font-family:Cairo,sans-serif}.profile-card[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#c9a24d;font-size:1.1rem}.profile-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]{margin-bottom:16px}.profile-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]:last-child{margin-bottom:0}.profile-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]   .info-label[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;font-weight:600;color:#0f172a;margin-bottom:4px;font-size:.9rem;font-family:Cairo,sans-serif}.profile-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]   .info-label[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#0e3a5d;font-size:.85rem;width:16px}.profile-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]   .info-value[_ngcontent-%COMP%]{color:#0f172acc;font-size:1rem;margin:0;padding-left:24px;word-break:break-word}.profile-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]   .info-value[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#c9a24d;text-decoration:none;transition:all .3s ease}.profile-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]   .info-value[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#a8832f;text-decoration:underline}.profile-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]   .info-value.text-muted[_ngcontent-%COMP%]{color:#0f172a80;font-size:.85rem}.id-image-container[_ngcontent-%COMP%]{width:100%;border-radius:8px;overflow:hidden;border:2px solid rgba(14,58,93,.1);background:#f6f7f9;transition:all .3s ease}.id-image-container[_ngcontent-%COMP%]:hover{border-color:#c9a24d;box-shadow:0 4px 8px #00000026}.id-image-container[_ngcontent-%COMP%]   .id-image[_ngcontent-%COMP%]{width:100%;height:auto;display:block;object-fit:contain;min-height:200px;max-height:400px;transition:transform .3s ease}.id-image-container[_ngcontent-%COMP%]   .id-image[_ngcontent-%COMP%]:hover{transform:scale(1.02)}.id-image-container[_ngcontent-%COMP%]   .no-image[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:64px;color:#0f172a66;min-height:200px}.id-image-container[_ngcontent-%COMP%]   .no-image[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:3rem;margin-bottom:16px}.id-image-container[_ngcontent-%COMP%]   .no-image[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:.9rem}.transfer-receipt-container[_ngcontent-%COMP%]{width:100%;border-radius:8px;overflow:hidden;border:2px solid rgba(201,162,77,.2);background:linear-gradient(135deg,#c9a24d0d,#f6f7f9);transition:all .3s ease;position:relative}.transfer-receipt-container[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:0;background:linear-gradient(135deg,rgba(201,162,77,.03) 0%,transparent 100%);pointer-events:none}.transfer-receipt-container[_ngcontent-%COMP%]:hover{border-color:#c9a24d;box-shadow:0 8px 16px #0003;transform:translateY(-2px)}.transfer-receipt-container[_ngcontent-%COMP%]   .transfer-receipt-image[_ngcontent-%COMP%]{width:100%;height:auto;display:block;object-fit:contain;min-height:200px;max-height:400px;transition:transform .3s ease;position:relative;z-index:1}.transfer-receipt-container[_ngcontent-%COMP%]   .transfer-receipt-image[_ngcontent-%COMP%]:hover{transform:scale(1.03)}@media (max-width: 991.98px){.profile-container[_ngcontent-%COMP%]{padding:32px 0}.profile-header[_ngcontent-%COMP%]   .profile-title[_ngcontent-%COMP%]{font-size:2rem}.profile-header[_ngcontent-%COMP%]   .status-badge[_ngcontent-%COMP%]{margin-top:16px}}@media (max-width: 767.98px){.profile-header[_ngcontent-%COMP%]   .profile-title[_ngcontent-%COMP%], .profile-header[_ngcontent-%COMP%]   .profile-title[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.5rem}.profile-card[_ngcontent-%COMP%]{padding:16px}.profile-card[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{font-size:1.1rem}}']})};var Rf=li(si());function bZ(n,t){n&1&&(f(0,"div",2)(1,"div",5)(2,"span",6),_(3),v(4,"translate"),h()(),f(5,"p",7),_(6),v(7,"translate"),h()()),n&2&&(d(3),I(y(4,2,"auth.profile.loading")),d(3),I(y(7,4,"auth.profile.loading")))}function CZ(n,t){if(n&1&&(f(0,"div",3)(1,"div",8),w(2,"i",9),_(3),v(4,"translate"),h()()),n&2){let e=x();d(3),M(" ",y(4,1,e.errorMessage)," ")}}function wZ(n,t){n&1&&(_(0),v(1,"translate")),n&2&&M(" ",y(1,1,"auth.register.nameRequired")," ")}function MZ(n,t){n&1&&(_(0),v(1,"translate")),n&2&&M(" ",y(1,1,"auth.register.nameMinLength")," ")}function EZ(n,t){if(n&1&&(f(0,"span",34),L(1,wZ,2,3)(2,MZ,2,3),h()),n&2){let e=x(2);d(),F(!(e.name==null||e.name.errors==null)&&e.name.errors.required?1:!(e.name==null||e.name.errors==null)&&e.name.errors.minlength?2:-1)}}function PZ(n,t){n&1&&(_(0),v(1,"translate")),n&2&&M(" ",y(1,1,"auth.register.emailRequired")," ")}function OZ(n,t){n&1&&(_(0),v(1,"translate")),n&2&&M(" ",y(1,1,"auth.register.emailInvalid")," ")}function xZ(n,t){if(n&1&&(f(0,"span",34),L(1,PZ,2,3)(2,OZ,2,3),h()),n&2){let e=x(2);d(),F(!(e.email==null||e.email.errors==null)&&e.email.errors.required?1:!(e.email==null||e.email.errors==null)&&e.email.errors.email?2:-1)}}function IZ(n,t){n&1&&(_(0),v(1,"translate")),n&2&&M(" ",y(1,1,"auth.register.phoneRequired")," ")}function SZ(n,t){n&1&&(_(0),v(1,"translate")),n&2&&M(" ",y(1,1,"auth.register.phoneInvalid")," ")}function TZ(n,t){if(n&1&&(f(0,"span",34),L(1,IZ,2,3)(2,SZ,2,3),h()),n&2){let e=x(2);d(),F(!(e.phone==null||e.phone.errors==null)&&e.phone.errors.required?1:!(e.phone==null||e.phone.errors==null)&&e.phone.errors.pattern?2:-1)}}function DZ(n,t){n&1&&(w(0,"i",55),_(1),v(2,"translate")),n&2&&(d(),M(" ",y(2,1,"auth.profile.edit.compressing")," "))}function AZ(n,t){n&1&&(w(0,"i",56),_(1),v(2,"translate")),n&2&&(d(),M(" ",y(2,1,"auth.profile.edit.changeImage")," "))}function kZ(n,t){n&1&&(f(0,"div",48)(1,"div",57)(2,"span",6),_(3),v(4,"translate"),h()(),f(5,"span",58),_(6),v(7,"translate"),h()()),n&2&&(d(3),I(y(4,2,"auth.profile.edit.compressing")),d(3),I(y(7,4,"auth.profile.edit.compressing")))}function RZ(n,t){if(n&1){let e=ce();f(0,"div",49),w(1,"img",59),f(2,"button",60),z("click",function(){G(e);let r=x(2);return K(r.removeImage())}),w(3,"i",18),h()()}if(n&2){let e=x(2);d(),O("src",e.idImagePreview,it)}}function NZ(n,t){n&1&&(f(0,"span",34),_(1),v(2,"translate"),h()),n&2&&(d(),M(" ",y(2,1,"auth.register.idImageRequired")," "))}function LZ(n,t){if(n&1&&(f(0,"div",8),w(1,"i",9),_(2),v(3,"translate"),h()),n&2){let e=x(2);d(2),M(" ",y(3,1,e.errorMessage)," ")}}function FZ(n,t){if(n&1&&(f(0,"div",50),w(1,"i",61),_(2),v(3,"translate"),h()),n&2){let e=x(2);d(2),M(" ",y(3,1,e.successMessage)," ")}}function BZ(n,t){n&1&&(w(0,"i",55),_(1),v(2,"translate")),n&2&&(d(),M(" ",y(2,1,"auth.profile.edit.saving")," "))}function zZ(n,t){n&1&&(w(0,"i",62),_(1),v(2,"translate")),n&2&&(d(),M(" ",y(2,1,"auth.profile.edit.save")," "))}function VZ(n,t){if(n&1){let e=ce();f(0,"div",4)(1,"div",10)(2,"div",11)(3,"div",12)(4,"h1",13),w(5,"i",14),_(6),v(7,"translate"),h(),f(8,"p",15),_(9),v(10,"translate"),h()(),f(11,"div",16)(12,"button",17),z("click",function(){G(e);let r=x();return K(r.onCancel())}),w(13,"i",18),_(14),v(15,"translate"),h()()()(),f(16,"div",19),w(17,"i",20),_(18),v(19,"translate"),h(),f(20,"form",21),z("ngSubmit",function(){G(e);let r=x();return K(r.onSubmit())}),f(21,"div",22)(22,"div",23)(23,"div",24)(24,"h3",25),w(25,"i",26),_(26),v(27,"translate"),h(),f(28,"div",27)(29,"div",28)(30,"div",29)(31,"div",30)(32,"label",31),w(33,"i",32),_(34),v(35,"translate"),h(),w(36,"input",33),v(37,"translate"),L(38,EZ,3,1,"span",34),h()(),f(39,"div",35)(40,"div",30)(41,"label",36),w(42,"i",37),_(43),v(44,"translate"),h(),w(45,"input",38),v(46,"translate"),L(47,xZ,3,1,"span",34),h()(),f(48,"div",35)(49,"div",30)(50,"label",39),w(51,"i",40),_(52),v(53,"translate"),h(),w(54,"input",41),v(55,"translate"),L(56,TZ,3,1,"span",34),h()()()()()(),f(57,"div",42)(58,"div",24)(59,"h3",25),w(60,"i",43),_(61),v(62,"translate"),h(),f(63,"div",27)(64,"div",30)(65,"label",44),w(66,"i",43),_(67),v(68,"translate"),h(),f(69,"div",45)(70,"input",46),z("change",function(r){G(e);let o=x();return K(o.onFileSelected(r))}),h(),f(71,"label",47),L(72,DZ,3,3)(73,AZ,3,3),h()(),L(74,kZ,8,6,"div",48),L(75,RZ,4,1,"div",49),L(76,NZ,3,3,"span",34),h()()()()(),L(77,LZ,4,3,"div",8),L(78,FZ,4,3,"div",50),f(79,"div",51)(80,"div",52)(81,"div",35)(82,"button",53),z("click",function(){G(e);let r=x();return K(r.onCancel())}),w(83,"i",18),_(84),v(85,"translate"),h()(),f(86,"div",35)(87,"button",54),L(88,BZ,3,3)(89,zZ,3,3),h()()()()()()}if(n&2){let e=x();d(6),M(" ",y(7,39,"auth.profile.edit.title")," "),d(3),I(y(10,41,"auth.profile.edit.subtitle")),d(5),M(" ",y(15,43,"auth.profile.edit.cancel")," "),d(4),M(" ",y(19,45,"auth.profile.edit.warning")," "),d(2),O("formGroup",e.editForm),d(6),M(" ",y(27,47,"auth.register.basicInfo")," "),d(8),M(" ",y(35,49,"auth.register.name")," "),d(2),U("invalid",(e.name==null?null:e.name.invalid)&&(e.name==null?null:e.name.touched)),O("placeholder",ei(y(37,51,"auth.register.namePlaceholder"))),d(2),F(e.name!=null&&e.name.invalid&&(e.name!=null&&e.name.touched)?38:-1),d(5),M(" ",y(44,53,"auth.register.email")," "),d(2),U("invalid",(e.email==null?null:e.email.invalid)&&(e.email==null?null:e.email.touched)),O("placeholder",ei(y(46,55,"auth.register.emailPlaceholder"))),d(2),F(e.email!=null&&e.email.invalid&&(e.email!=null&&e.email.touched)?47:-1),d(5),M(" ",y(53,57,"auth.register.phone")," "),d(2),U("invalid",(e.phone==null?null:e.phone.invalid)&&(e.phone==null?null:e.phone.touched)),O("placeholder",ei(y(55,59,"auth.register.phonePlaceholder"))),d(2),F(e.phone!=null&&e.phone.invalid&&(e.phone!=null&&e.phone.touched)?56:-1),d(5),M(" ",y(62,61,"auth.register.verification")," "),d(6),M(" ",y(68,63,"auth.register.idImage")," "),d(3),O("disabled",e.isCompressingImage),d(),U("disabled",e.isCompressingImage),d(),F(e.isCompressingImage?72:73),d(2),F(e.isCompressingImage?74:-1),d(),F(e.idImagePreview&&!e.isCompressingImage?75:-1),d(),F(e.idImage!=null&&e.idImage.invalid&&(e.idImage!=null&&e.idImage.touched)?76:-1),d(),F(e.errorMessage?77:-1),d(),F(e.successMessage?78:-1),d(4),O("disabled",e.isSaving),d(2),M(" ",y(85,65,"auth.profile.edit.cancel")," "),d(3),O("disabled",e.isSaving||e.editForm.invalid),d(),F(e.isSaving?88:89)}}var t0=class n{constructor(t,e,i,r){this.fb=t;this.organizationService=e;this.authService=i;this.router=r}editForm;organization=null;isLoading=!1;isSaving=!1;isCompressingImage=!1;errorMessage="";successMessage="";idImagePreview=null;idImageBase64=null;destroy$=new le;ngOnInit(){let t=this.authService.getCurrentUserId();if(!t){this.errorMessage="auth.profile.notAuthenticated";return}this.isLoading=!0,this.organizationService.getOrganization(t||"").pipe(ne(this.destroy$)).subscribe({next:e=>{this.organization=e,e?(this.initializeForm(e),this.idImagePreview=e.idImage,this.idImageBase64=e.idImage):this.errorMessage="auth.profile.organizationNotFound",this.isLoading=!1},error:e=>{console.error("Error loading organization:",e),this.errorMessage="auth.profile.loadError",this.isLoading=!1}})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}initializeForm(t){this.editForm=this.fb.group({name:[t.name,[te.required,te.minLength(3)]],email:[{value:t.email,disabled:!0},[te.required,te.email]],phone:[t.phone,[te.required,te.pattern(/^[0-9+\-\s()]+$/)]],idImage:[t.idImage,[te.required]]})}compressAndResizeImage(t){return new Promise((e,i)=>{let r=new FileReader;r.onload=o=>{let s=new Image;s.onload=()=>{let c=s.width,l=s.height;c>600&&(l=l*600/c,c=600);let m=document.createElement("canvas");m.width=c,m.height=l;let g=m.getContext("2d");if(!g){i(new Error("Could not get canvas context"));return}g.drawImage(s,0,0,c,l);let E=m.toDataURL("image/jpeg",.45);e(E)},s.onerror=()=>{i(new Error("Failed to load image"))},s.src=o.target?.result},r.onerror=()=>{i(new Error("Failed to read file"))},r.readAsDataURL(t)})}onFileSelected(t){let i=t.target.files?.[0];if(i){if(!i.type.startsWith("image/")){this.errorMessage="auth.register.invalidImageType";return}if(i.size>5*1024*1024){this.errorMessage="auth.register.imageTooLarge";return}this.isCompressingImage=!0,this.errorMessage="",this.compressAndResizeImage(i).then(r=>{this.idImageBase64=r,this.idImagePreview=r,this.editForm.patchValue({idImage:r}),this.isCompressingImage=!1,this.errorMessage=""}).catch(r=>{console.error("Error compressing image:",r),this.isCompressingImage=!1,this.errorMessage="auth.register.imageProcessingError",Rf.default.fire({icon:"error",title:"\u062E\u0637\u0623",text:"\u062D\u062F\u062B \u062E\u0637\u0623 \u0623\u062B\u0646\u0627\u0621 \u0645\u0639\u0627\u0644\u062C\u0629 \u0627\u0644\u0635\u0648\u0631\u0629. \u064A\u0631\u062C\u0649 \u0627\u0644\u0645\u062D\u0627\u0648\u0644\u0629 \u0645\u0631\u0629 \u0623\u062E\u0631\u0649.",confirmButtonText:"\u062D\u0633\u0646\u0627\u064B",confirmButtonColor:"#DC2626"})})}}removeImage(){this.idImagePreview=null,this.idImageBase64=null,this.editForm.patchValue({idImage:null})}onSubmit(){if(this.editForm.invalid){this.markFormGroupTouched(this.editForm);return}if(!this.idImageBase64){this.errorMessage="auth.register.idImageRequired",Rf.default.fire({icon:"error",title:"\u062E\u0637\u0623",text:"\u064A\u0631\u062C\u0649 \u0631\u0641\u0639 \u0635\u0648\u0631\u0629 \u0627\u0644\u0647\u0648\u064A\u0629",confirmButtonText:"\u062D\u0633\u0646\u0627\u064B",confirmButtonColor:"#DC2626"});return}let t=this.authService.getCurrentUserId();if(!t){this.errorMessage="auth.profile.notAuthenticated";return}this.isSaving=!0,this.errorMessage="",this.successMessage="";let e=this.editForm.value;this.organizationService.updateOrganization(t,oe(B({},e),{idImage:this.idImageBase64,status:"pending"})).pipe(Ge(i=>(this.isSaving=!1,console.error("Error updating organization:",i),Rf.default.fire({icon:"error",title:"\u062E\u0637\u0623 \u0641\u064A \u0627\u0644\u062D\u0641\u0638",text:"\u062D\u062F\u062B \u062E\u0637\u0623 \u0623\u062B\u0646\u0627\u0621 \u062D\u0641\u0638 \u0627\u0644\u062A\u063A\u064A\u064A\u0631\u0627\u062A. \u064A\u0631\u062C\u0649 \u0627\u0644\u0645\u062D\u0627\u0648\u0644\u0629 \u0645\u0631\u0629 \u0623\u062E\u0631\u0649.",confirmButtonText:"\u062D\u0633\u0646\u0627\u064B",confirmButtonColor:"#DC2626"}),$(null)))).subscribe({next:i=>{i!==null&&(this.isSaving=!1,Rf.default.fire({icon:"success",title:"\u062A\u0645 \u0627\u0644\u062D\u0641\u0638 \u0628\u0646\u062C\u0627\u062D!",text:'\u062A\u0645 \u062A\u062D\u062F\u064A\u062B \u0627\u0644\u0645\u0644\u0641 \u0627\u0644\u0634\u062E\u0635\u064A \u0628\u0646\u062C\u0627\u062D. \u0633\u064A\u062A\u0645 \u062A\u0639\u064A\u064A\u0646 \u062D\u0627\u0644\u0629 \u0645\u0646\u0638\u0645\u062A\u0643 \u0625\u0644\u0649 "\u0642\u064A\u062F \u0627\u0644\u0645\u0648\u0627\u0641\u0642\u0629" \u0648\u0633\u062A\u062D\u062A\u0627\u062C \u0625\u0644\u0649 \u0645\u0648\u0627\u0641\u0642\u0629 \u0627\u0644\u0645\u062F\u064A\u0631 \u0645\u0631\u0629 \u0623\u062E\u0631\u0649.',confirmButtonText:"\u062D\u0633\u0646\u0627\u064B",confirmButtonColor:"#16A34A",timer:3e3,timerProgressBar:!0}).then(()=>{this.router.navigate(["/profile-view"])}))}})}onCancel(){this.router.navigate(["/profile-view"])}markFormGroupTouched(t){Object.keys(t.controls).forEach(e=>{t.get(e)?.markAsTouched()})}get name(){return this.editForm.get("name")}get email(){return this.editForm.get("email")}get phone(){return this.editForm.get("phone")}get idImage(){return this.editForm.get("idImage")}static \u0275fac=function(e){return new(e||n)(A(hn),A(Qt),A(Rt),A(He))};static \u0275cmp=de({type:n,selectors:[["app-profile-edit"]],decls:5,vars:3,consts:[[1,"profile-edit-container"],[1,"container"],[1,"loading-state"],[1,"error-state"],[1,"edit-content"],["role","status",1,"spinner-border","text-primary"],[1,"visually-hidden"],[1,"mt-3"],[1,"alert","alert-error"],[1,"fas","fa-exclamation-circle"],[1,"edit-header"],[1,"row","align-items-center"],[1,"col-12","col-md-8"],[1,"edit-title"],[1,"fas","fa-edit"],[1,"edit-subtitle"],[1,"col-12","col-md-4","text-md-end"],["type","button",1,"btn","btn-cancel",3,"click"],[1,"fas","fa-times"],[1,"alert","alert-warning"],[1,"fas","fa-exclamation-triangle"],[1,"edit-form",3,"ngSubmit","formGroup"],[1,"row","g-4"],[1,"col-12","col-lg-8"],[1,"form-section"],[1,"section-title"],[1,"fas","fa-info-circle"],[1,"section-content"],[1,"row","g-3"],[1,"col-12"],[1,"form-group"],["for","name",1,"form-label"],[1,"fas","fa-building"],["type","text","id","name","formControlName","name",1,"form-control",3,"placeholder"],[1,"error-message"],[1,"col-12","col-md-6"],["for","email",1,"form-label"],[1,"fas","fa-envelope"],["type","email","id","email","formControlName","email",1,"form-control","bg-secondary-subtle",3,"placeholder"],["for","phone",1,"form-label"],[1,"fas","fa-phone"],["type","tel","id","phone","formControlName","phone",1,"form-control",3,"placeholder"],[1,"col-12","col-lg-4"],[1,"fas","fa-id-card"],["for","idImage",1,"form-label"],[1,"file-upload-container"],["type","file","id","idImage","accept","image/*",1,"file-input",3,"change","disabled"],["for","idImage",1,"file-label"],[1,"compression-indicator"],[1,"image-preview"],[1,"alert","alert-success"],[1,"form-actions"],[1,"row"],["type","button",1,"btn","btn-cancel","btn-full",3,"click","disabled"],["type","submit",1,"btn","btn-primary","btn-submit","btn-full",3,"disabled"],[1,"fas","fa-spinner","fa-spin"],[1,"fas","fa-upload"],["role","status",1,"spinner-border","spinner-border-sm","text-primary"],[1,"ms-2"],["alt","ID Image Preview",3,"src"],["type","button",1,"btn-remove-image",3,"click"],[1,"fas","fa-check-circle"],[1,"fas","fa-save"]],template:function(e,i){e&1&&(f(0,"div",0)(1,"div",1),L(2,bZ,8,6,"div",2),L(3,CZ,5,3,"div",3),L(4,VZ,90,67,"div",4),h()()),e&2&&(d(2),F(i.isLoading?2:-1),d(),F(!i.isLoading&&i.errorMessage&&!i.organization?3:-1),d(),F(!i.isLoading&&i.organization&&i.editForm?4:-1))},dependencies:[ge,gn,pn,Mt,kt,fn,Kt,tn,ke,me,ve],styles:[".profile-edit-container[_ngcontent-%COMP%]{min-height:100vh;padding:64px 0;background:linear-gradient(135deg,#f3f1ec,#f6f7f9)}.profile-edit-container[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{padding:32px 16px}.loading-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;min-height:400px;text-align:center}.loading-state[_ngcontent-%COMP%]   .spinner-border[_ngcontent-%COMP%]{width:3rem;height:3rem;border-width:.3rem}.loading-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#0f172ab3;font-size:1rem;margin:0}.error-state[_ngcontent-%COMP%]{margin-top:64px}.error-state[_ngcontent-%COMP%]   .alert-error[_ngcontent-%COMP%]{padding:32px;border-radius:8px;background:#dc26261a;color:#dc2626;border:1px solid rgba(220,38,38,.3);display:flex;align-items:center;gap:8px;font-size:1rem}.error-state[_ngcontent-%COMP%]   .alert-error[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.2rem}.edit-content[_ngcontent-%COMP%]{margin-top:32px}.edit-header[_ngcontent-%COMP%]{margin-bottom:64px;padding-bottom:32px;border-bottom:2px solid rgba(14,58,93,.1)}.edit-header[_ngcontent-%COMP%]   .edit-title[_ngcontent-%COMP%]{font-size:2.5rem;font-weight:700;color:#0e3a5d;margin-bottom:8px;font-family:Cairo,sans-serif;display:flex;align-items:center;gap:16px}.edit-header[_ngcontent-%COMP%]   .edit-title[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#c9a24d;font-size:2rem}.edit-header[_ngcontent-%COMP%]   .edit-subtitle[_ngcontent-%COMP%]{font-size:1rem;color:#0f172a99;margin:0}.edit-header[_ngcontent-%COMP%]   .btn-cancel[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:8px;padding:8px 16px;background:#0f172a1a;color:#0f172a;border:1px solid rgba(15,23,42,.2);border-radius:8px;font-weight:600;font-size:.9rem;font-family:Cairo,sans-serif;cursor:pointer;transition:all .3s ease}.edit-header[_ngcontent-%COMP%]   .btn-cancel[_ngcontent-%COMP%]:hover{background:#0f172a33;border-color:#0f172a4d}.edit-header[_ngcontent-%COMP%]   .btn-cancel[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.9rem}.alert-warning[_ngcontent-%COMP%]{padding:16px;border-radius:8px;background:#d977061a;color:#d97706;border:1px solid rgba(217,119,6,.3);display:flex;align-items:center;gap:8px;font-size:.9rem;margin-bottom:32px}.alert-warning[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1rem}.edit-form[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]{margin-bottom:64px;background:#fff;border-radius:16px;padding:32px;box-shadow:0 4px 8px #00000026;border:1px solid rgba(14,58,93,.1)}.edit-form[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{font-size:1.2rem;font-weight:600;color:#0e3a5d;margin-bottom:32px;padding-bottom:8px;border-bottom:2px solid rgba(201,162,77,.2);display:flex;align-items:center;gap:8px;font-family:Cairo,sans-serif}.edit-form[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#c9a24d;font-size:1rem}.edit-form[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]   .section-subtitle[_ngcontent-%COMP%]{font-size:.85rem;font-weight:400;color:#0f172a80;margin-left:auto}.edit-form[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .section-content[_ngcontent-%COMP%]   .row.g-3[_ngcontent-%COMP%]{margin-left:0;margin-right:0}.edit-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:0}.edit-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-label[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;font-weight:500;color:#0f172a;margin-bottom:8px;font-size:.9rem}.edit-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-label[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#0e3a5d;font-size:.85rem}.edit-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{width:100%;padding:16px;border:2px solid rgba(14,58,93,.2);border-radius:8px;font-size:1rem;font-family:Cairo,sans-serif;transition:all .3s ease;background:#fff;color:#0f172a}.edit-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:focus{outline:none;border-color:#c9a24d;box-shadow:0 0 0 3px #c9a24d1a}.edit-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-control.invalid[_ngcontent-%COMP%]{border-color:#dc2626}.edit-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]::placeholder{color:#0f172a66}.edit-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-textarea[_ngcontent-%COMP%]{resize:vertical;min-height:80px}.edit-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]{display:block;color:#dc2626;font-size:.85rem;margin-top:4px;font-weight:500}.edit-form[_ngcontent-%COMP%]   .file-upload-container[_ngcontent-%COMP%]{position:relative}.edit-form[_ngcontent-%COMP%]   .file-upload-container[_ngcontent-%COMP%]   .file-input[_ngcontent-%COMP%]{position:absolute;opacity:0;width:0;height:0}.edit-form[_ngcontent-%COMP%]   .file-upload-container[_ngcontent-%COMP%]   .file-input[_ngcontent-%COMP%]:disabled{cursor:not-allowed}.edit-form[_ngcontent-%COMP%]   .file-upload-container[_ngcontent-%COMP%]   .file-label[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:8px;padding:16px;border:2px dashed rgba(14,58,93,.3);border-radius:8px;background:#f6f7f980;cursor:pointer;transition:all .3s ease;color:#0e3a5d;font-weight:500}.edit-form[_ngcontent-%COMP%]   .file-upload-container[_ngcontent-%COMP%]   .file-label[_ngcontent-%COMP%]:hover{border-color:#c9a24d;background:#c9a24d1a;color:#c9a24d}.edit-form[_ngcontent-%COMP%]   .file-upload-container[_ngcontent-%COMP%]   .file-label[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.1rem}.edit-form[_ngcontent-%COMP%]   .file-upload-container[_ngcontent-%COMP%]   .file-label.disabled[_ngcontent-%COMP%]{opacity:.6;cursor:not-allowed}.edit-form[_ngcontent-%COMP%]   .compression-indicator[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;padding:16px;margin-top:8px;background:#c9a24d1a;border-radius:8px;color:#c9a24d;font-size:.9rem;font-weight:500;font-family:Cairo,sans-serif}.edit-form[_ngcontent-%COMP%]   .compression-indicator[_ngcontent-%COMP%]   .spinner-border-sm[_ngcontent-%COMP%]{width:1rem;height:1rem;border-width:.15rem}.edit-form[_ngcontent-%COMP%]   .image-preview[_ngcontent-%COMP%]{position:relative;margin-top:16px;border-radius:8px;overflow:hidden;border:2px solid rgba(14,58,93,.2);max-width:100%}.edit-form[_ngcontent-%COMP%]   .image-preview[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto;display:block;max-height:300px;object-fit:contain}.edit-form[_ngcontent-%COMP%]   .image-preview[_ngcontent-%COMP%]   .btn-remove-image[_ngcontent-%COMP%]{position:absolute;top:8px;right:8px;background:#dc2626;color:#fff;border:none;border-radius:50%;width:30px;height:30px;display:flex;align-items:center;justify-content:center;cursor:pointer;transition:all .3s ease;box-shadow:0 4px 8px #00000026}.edit-form[_ngcontent-%COMP%]   .image-preview[_ngcontent-%COMP%]   .btn-remove-image[_ngcontent-%COMP%]:hover{background:#b21d1d;transform:scale(1.1)}.edit-form[_ngcontent-%COMP%]   .alert[_ngcontent-%COMP%]{padding:16px;border-radius:8px;margin-bottom:32px;display:flex;align-items:center;gap:8px;font-size:.9rem}.edit-form[_ngcontent-%COMP%]   .alert.alert-error[_ngcontent-%COMP%]{background:#dc26261a;color:#dc2626;border:1px solid rgba(220,38,38,.3)}.edit-form[_ngcontent-%COMP%]   .alert.alert-success[_ngcontent-%COMP%]{background:#16a34a1a;color:#16a34a;border:1px solid rgba(22,163,74,.3)}.edit-form[_ngcontent-%COMP%]   .alert[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1rem}.edit-form[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]{margin-top:64px;padding-top:32px;border-top:1px solid rgba(14,58,93,.1)}.edit-form[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .btn-full[_ngcontent-%COMP%]{width:100%;padding:16px;font-size:1rem;font-weight:600;border-radius:8px;border:none;cursor:pointer;transition:all .3s ease;display:flex;align-items:center;justify-content:center;gap:8px;font-family:Cairo,sans-serif}.edit-form[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .btn-full[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.edit-form[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .btn-cancel[_ngcontent-%COMP%]{background:#0f172a1a;color:#0f172a;border:1px solid rgba(15,23,42,.2)}.edit-form[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .btn-cancel[_ngcontent-%COMP%]:hover:not(:disabled){background:#0f172a33;border-color:#0f172a4d}.edit-form[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .btn-submit[_ngcontent-%COMP%]{background:#c9a24d;color:#fff}.edit-form[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .btn-submit[_ngcontent-%COMP%]:hover:not(:disabled){background:#a8832f;transform:translateY(-2px);box-shadow:0 4px 8px #00000026}@media (max-width: 991.98px){.profile-edit-container[_ngcontent-%COMP%]{padding:32px 0}}@media (max-width: 767.98px){.edit-header[_ngcontent-%COMP%]   .edit-title[_ngcontent-%COMP%]{font-size:2rem}.edit-form[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]{padding:16px}}@media (max-width: 575.98px){.edit-header[_ngcontent-%COMP%]{padding-top:16px}.edit-header[_ngcontent-%COMP%]   .edit-title[_ngcontent-%COMP%]{font-size:1.5rem}.edit-form[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]{padding:8px}.edit-form[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{font-size:1rem}}"]})};var Hi=class n{constructor(t,e){this.database=t;this.injector=e}sendNotificationToOrganization(t,e){return Zo(se(()=>X(this.injector,()=>{let i=pe(this.database,`organizations/${t}/notifications`);return ee(Ui(i,oe(B({},e),{createdAt:new Date().toISOString(),isRead:!1})))})).pipe(H(()=>{})))}sendNotificationToAllOrganizations(t){return Zo(se(()=>X(this.injector,()=>{let e=pe(this.database,"organizations");return ee(Cr(e)).pipe(H(i=>i.val()),H(i=>Object.keys(i)),H(i=>i.map(r=>this.sendNotificationToOrganization(r,t))),Ir())})).pipe(H(()=>{})))}sendApprovalNotification(t){return this.sendNotificationToOrganization(t,{title:"Organization Approved",message:"Your organization registration has been approved. You can now access the platform.",type:"approval"})}sendRejectionNotification(t,e){return this.sendNotificationToOrganization(t,{title:"Organization Registration Rejected",message:e||"Your organization registration has been rejected. Please contact support for more information.",type:"rejection"})}sendStatusNotification(t,e){return this.sendNotificationToOrganization(t,{title:"Status Update",message:e,type:"status"})}getNotificationsForOrganization(t){return se(()=>X(this.injector,()=>{let e=pe(this.database,`organizations/${t}/notifications`),i=$i(e,ji("createdAt"));return new ie(r=>{$t(i,o=>{let s=[];o.forEach(a=>{s.push(B({id:a.key||""},a.val()))}),s.sort((a,c)=>new Date(c.createdAt).getTime()-new Date(a.createdAt).getTime()),r.next(s)},o=>{r.error(o)})})}))}getNotificationForOrganization(t,e){return se(()=>X(this.injector,()=>{let i=pe(this.database,`organizations/${t}/notifications/${e}`);return new ie(r=>{$t(i,o=>{let s=o.val();s?r.next(B({id:e},s)):r.next(null)},o=>{r.error(o)})})}))}getUnreadNotifications(t){return se(()=>X(this.injector,()=>{let e=pe(this.database,`organizations/${t}/notifications`),i=$i(e,ji("isRead"),Xa(!1));return new ie(r=>{$t(i,o=>{let s=[];o.forEach(a=>{s.push(B({id:a.key||""},a.val()))}),s.sort((a,c)=>new Date(c.createdAt).getTime()-new Date(a.createdAt).getTime()),r.next(s)},o=>{r.error(o)})})}))}getUnreadCount(t){return this.getUnreadNotifications(t).pipe(H(e=>e.length))}markAsRead(t,e){return Zo(se(()=>X(this.injector,()=>{let i=pe(this.database,`organizations/${t}/notifications/${e}`);return ee(ii(i,{isRead:!0}))})).pipe(H(()=>{})))}markAllAsRead(t){return T(this,null,function*(){let i=(yield Zo(this.getUnreadNotifications(t))).filter(r=>r.id).map(r=>this.markAsRead(t,r.id));yield Promise.all(i)})}deleteNotification(t,e){return Zo(se(()=>X(this.injector,()=>{let i=pe(this.database,`organizations/${t}/notifications/${e}`);return ee(Wn(i))})).pipe(H(()=>{})))}deleteAllNotifications(t){return Zo(se(()=>X(this.injector,()=>{let e=pe(this.database,`organizations/${t}/notifications`);return ee(Wn(e))})).pipe(H(()=>{})))}makeNotificationSound(){try{let t=["assets/sounds/notification.mp3","../../../../assets/sounds/notification.mp3","/assets/sounds/notification.mp3"],e=!1;for(let i of t)try{let r=new Audio(i);if(r.volume=.7,r.play().then(()=>{e=!0,console.log("Notification sound played successfully")}).catch(o=>{!e&&t.indexOf(i)===t.length-1&&console.log("Could not play notification sound - user interaction may be required:",o)}),e)break}catch{continue}e||this.playFallbackSound()}catch(t){console.log("Could not play notification sound:",t),this.playFallbackSound()}}playFallbackSound(){try{let t=new(window.AudioContext||window.webkitAudioContext),e=t.createOscillator(),i=t.createGain();e.connect(i),i.connect(t.destination),e.frequency.value=800,e.type="sine",i.gain.setValueAtTime(.3,t.currentTime),i.gain.exponentialRampToValueAtTime(.01,t.currentTime+.3),e.start(t.currentTime),e.stop(t.currentTime+.3)}catch(t){console.log("Could not play fallback notification sound:",t)}}static \u0275fac=function(e){return new(e||n)(W(xn),W(De))};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})};var jZ=n=>["/notification",n],UZ=(n,t)=>t.id;function $Z(n,t){if(n&1&&(f(0,"div",9),w(1,"i",12),f(2,"span"),_(3),v(4,"translate"),h()()),n&2){let e=x();d(3),Ct("",e.unreadCount," ",y(4,2,"notifications.unread"))}}function HZ(n,t){n&1&&(f(0,"div",10)(1,"div",13)(2,"span",14),_(3),v(4,"translate"),h()(),f(5,"p",15),_(6),v(7,"translate"),h()()),n&2&&(d(3),I(y(4,2,"notifications.loading")),d(3),I(y(7,4,"notifications.loading")))}function qZ(n,t){if(n&1&&(f(0,"div",11),w(1,"i",16),_(2),v(3,"translate"),h()),n&2){let e=x();d(2),M(" ",y(3,1,e.errorMessage)," ")}}function WZ(n,t){if(n&1){let e=ce();f(0,"button",29),z("click",function(){G(e);let r=x(2);return K(r.markAllAsRead())}),w(1,"i",30),_(2),v(3,"translate"),h()}n&2&&(d(2),M(" ",y(3,1,"notifications.markAllRead")," "))}function GZ(n,t){if(n&1){let e=ce();f(0,"button",31),z("click",function(){G(e);let r=x(2);return K(r.deleteAllNotifications())}),w(1,"i",32),_(2),v(3,"translate"),h()}n&2&&(d(2),M(" ",y(3,1,"notifications.deleteAll")," "))}function KZ(n,t){n&1&&(f(0,"span",45),w(1,"i",12),_(2),v(3,"translate"),h()),n&2&&(d(2),M(" ",y(3,1,"notifications.unread")," "))}function QZ(n,t){if(n&1){let e=ce();f(0,"button",49),v(1,"translate"),z("click",function(){G(e);let r=x().$implicit,o=x(3);return K(o.markAsRead(r))}),w(2,"i",50),h()}n&2&&O("title",y(1,1,"notifications.markAsRead"))}function YZ(n,t){if(n&1){let e=ce();f(0,"div",34)(1,"div",35)(2,"div",36),w(3,"i",37),h(),f(4,"div",38)(5,"div",39)(6,"h3",40),_(7),h(),f(8,"span",41),_(9),h()(),f(10,"p",42),_(11),h(),f(12,"div",43)(13,"span",44),_(14),v(15,"translate"),h(),L(16,KZ,4,3,"span",45),h()()(),f(17,"div",46),L(18,QZ,3,3,"button",47),f(19,"button",48),v(20,"translate"),z("click",function(){let r=G(e).$implicit,o=x(3);return K(o.deleteNotification(r))}),w(21,"i",32),h()()()}if(n&2){let e=t.$implicit,i=x(3);U("unread",!e.isRead),O("routerLink",ar(16,jZ,e.id))("ngClass",i.getNotificationTypeClass(e.type)),d(3),O("ngClass",i.getNotificationIcon(e.type)),d(4),I(e.title),d(2),I(i.formatDate(e.createdAt)),d(2),I(e.message),d(3),I(y(15,12,"notifications.types."+e.type)),d(2),F(e.isRead?-1:16),d(2),F(e.isRead?-1:18),d(),O("title",y(20,14,"notifications.delete"))}}function ZZ(n,t){if(n&1&&(f(0,"div",27),mt(1,YZ,22,18,"div",33,UZ),h()),n&2){let e=x(2);d(),_t(e.filteredNotifications)}}function XZ(n,t){n&1&&(f(0,"div",28),w(1,"i",51),f(2,"h3"),_(3),v(4,"translate"),h(),f(5,"p"),_(6),v(7,"translate"),h()()),n&2&&(d(3),I(y(4,2,"notifications.noNotifications")),d(3),I(y(7,4,"notifications.noNotificationsDescription")))}function JZ(n,t){if(n&1){let e=ce();f(0,"div",17)(1,"div",18)(2,"div",19)(3,"div",20)(4,"button",21),z("click",function(){G(e);let r=x();return K(r.onFilterChange("all"))}),f(5,"span"),_(6),v(7,"translate"),h(),f(8,"span",22),_(9),h()(),f(10,"button",21),z("click",function(){G(e);let r=x();return K(r.onFilterChange("unread"))}),f(11,"span"),_(12),v(13,"translate"),h(),f(14,"span",22),_(15),h()(),f(16,"button",21),z("click",function(){G(e);let r=x();return K(r.onFilterChange("read"))}),f(17,"span"),_(18),v(19,"translate"),h(),f(20,"span",22),_(21),h()()()(),f(22,"div",23)(23,"div",24),L(24,WZ,4,3,"button",25),L(25,GZ,4,3,"button",26),h()()()(),L(26,ZZ,3,0,"div",27)(27,XZ,8,6,"div",28)}if(n&2){let e=x();d(4),U("active",e.filterType==="all"),d(2),I(y(7,15,"notifications.all")),d(3),I(e.notifications.length),d(),U("active",e.filterType==="unread"),d(2),I(y(13,17,"notifications.unread")),d(3),I(e.unreadCount),d(),U("active",e.filterType==="read"),d(2),I(y(19,19,"notifications.read")),d(3),I(e.notifications.length-e.unreadCount),d(3),F(e.unreadCount>0?24:-1),d(),F(e.notifications.length>0?25:-1),d(),F(e.filteredNotifications.length>0?26:27)}}var n0=class n{constructor(t,e){this.notificationsService=t;this.authService=e}notifications=[];filteredNotifications=[];isLoading=!0;errorMessage="";unreadCount=0;filterType="all";destroy$=new le;ngOnInit(){this.loadNotifications(),this.loadUnreadCount()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}loadNotifications(){let t=this.authService.getCurrentUserId();if(!t){this.errorMessage="auth.profile.notAuthenticated",this.isLoading=!1;return}this.isLoading=!0,this.errorMessage="",this.notificationsService.getNotificationsForOrganization(t||"").pipe(ne(this.destroy$)).subscribe({next:e=>{this.notifications=e,this.filterNotifications(),this.isLoading=!1},error:e=>{console.error("Error loading notifications:",e),this.errorMessage="notifications.loadError",this.isLoading=!1}})}loadUnreadCount(){let t=this.authService.getCurrentUserId();t&&this.notificationsService.getUnreadCount(t||"").pipe(ne(this.destroy$)).subscribe({next:e=>{this.unreadCount=e},error:e=>{console.error("Error loading unread count:",e)}})}filterNotifications(){switch(this.filterType){case"unread":this.filteredNotifications=this.notifications.filter(t=>!t.isRead);break;case"read":this.filteredNotifications=this.notifications.filter(t=>t.isRead);break;default:this.filteredNotifications=this.notifications}}onFilterChange(t){this.filterType=t,this.filterNotifications()}markAsRead(t){if(!t.id||t.isRead)return;let e=this.authService.getCurrentUserId();e&&this.notificationsService.markAsRead(e||"",t.id).then(()=>{t.isRead=!0,this.loadUnreadCount()}).catch(i=>{console.error("Error marking notification as read:",i)})}markAllAsRead(){let t=this.authService.getCurrentUserId();t&&this.notificationsService.markAllAsRead(t||"").then(()=>{this.notifications.forEach(e=>e.isRead=!0),this.filterNotifications(),this.loadUnreadCount()}).catch(e=>{console.error("Error marking all as read:",e)})}deleteNotification(t){if(!t.id)return;let e=this.authService.getCurrentUserId();e&&this.notificationsService.deleteNotification(e||"",t.id).then(()=>{this.notifications=this.notifications.filter(i=>i.id!==t.id),this.filterNotifications(),this.loadUnreadCount()}).catch(i=>{console.error("Error deleting notification:",i)})}deleteAllNotifications(){let t=this.authService.getCurrentUserId();t&&this.notificationsService.deleteAllNotifications(t||"").then(()=>{this.notifications=[],this.filteredNotifications=[],this.unreadCount=0}).catch(e=>{console.error("Error deleting all notifications:",e)})}getNotificationIcon(t){switch(t){case"approval":return"fa-check-circle";case"rejection":return"fa-times-circle";case"status":return"fa-info-circle";case"verification":return"fa-shield-alt";default:return"fa-bell"}}getNotificationTypeClass(t){switch(t){case"approval":return"notification-approval";case"rejection":return"notification-rejection";case"status":return"notification-status";case"verification":return"notification-verification";default:return"notification-general"}}formatDate(t){if(!t)return"";let e=new Date(t),r=new Date().getTime()-e.getTime(),o=Math.floor(r/6e4),s=Math.floor(o/60),a=Math.floor(s/24);return o<1?"now":o<60?`${o}m ago`:s<24?`${s}h ago`:a<7?`${a}d ago`:e.toLocaleDateString("ar-EG",{year:"numeric",month:"short",day:"numeric"})}static \u0275fac=function(e){return new(e||n)(A(Hi),A(Rt))};static \u0275cmp=de({type:n,selectors:[["app-notifications"]],decls:17,vars:10,consts:[[1,"notifications-container"],[1,"container"],[1,"notifications-header"],[1,"row","align-items-center"],[1,"col-12","col-md-8"],[1,"page-title"],[1,"fas","fa-bell"],[1,"page-subtitle"],[1,"col-12","col-md-4","text-md-end"],[1,"unread-badge"],[1,"loading-state"],[1,"alert","alert-error"],[1,"fas","fa-circle"],["role","status",1,"spinner-border","text-primary"],[1,"visually-hidden"],[1,"mt-3"],[1,"fas","fa-exclamation-circle"],[1,"notifications-controls"],[1,"row","g-3","align-items-center"],[1,"col-12","col-md-6"],[1,"filter-tabs"],["type","button",1,"filter-tab",3,"click"],[1,"count"],[1,"col-12","col-md-6","text-md-end"],[1,"action-buttons"],["type","button",1,"btn","btn-mark-all"],["type","button",1,"btn","btn-delete-all"],[1,"notifications-list"],[1,"empty-state"],["type","button",1,"btn","btn-mark-all",3,"click"],[1,"fas","fa-check-double"],["type","button",1,"btn","btn-delete-all",3,"click"],[1,"fas","fa-trash"],[1,"notification-item",3,"routerLink","unread","ngClass"],[1,"notification-item",3,"routerLink","ngClass"],[1,"notification-content"],[1,"notification-icon"],[1,"fas",3,"ngClass"],[1,"notification-body"],[1,"notification-header"],[1,"notification-title"],[1,"notification-time"],[1,"notification-message"],[1,"notification-footer"],[1,"notification-type"],[1,"unread-indicator"],[1,"notification-actions"],["type","button",1,"btn-action","btn-mark-read",3,"title"],["type","button",1,"btn-action","btn-delete",3,"click","title"],["type","button",1,"btn-action","btn-mark-read",3,"click","title"],[1,"fas","fa-check"],[1,"fas","fa-bell-slash"]],template:function(e,i){e&1&&(f(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h1",5),w(6,"i",6),_(7),v(8,"translate"),h(),f(9,"p",7),_(10),v(11,"translate"),h()(),f(12,"div",8),L(13,$Z,5,4,"div",9),h()()(),L(14,HZ,8,6,"div",10),L(15,qZ,4,3,"div",11),L(16,JZ,28,21),h()()),e&2&&(d(7),M(" ",y(8,6,"notifications.title")," "),d(3),I(y(11,8,"notifications.subtitle")),d(3),F(i.unreadCount>0?13:-1),d(),F(i.isLoading?14:-1),d(),F(!i.isLoading&&i.errorMessage?15:-1),d(),F(!i.isLoading&&!i.errorMessage?16:-1))},dependencies:[ge,Xt,ke,Ue,me,ve],styles:[".notifications-container[_ngcontent-%COMP%]{min-height:100vh;padding:64px 0;background:linear-gradient(135deg,#f3f1ec,#f6f7f9)}.notifications-container[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{padding:32px 16px}.notifications-header[_ngcontent-%COMP%]{margin-bottom:64px;padding-bottom:32px;border-bottom:2px solid rgba(14,58,93,.1)}.notifications-header[_ngcontent-%COMP%]   .page-title[_ngcontent-%COMP%]{font-size:2.5rem;font-weight:700;color:#0e3a5d;margin-bottom:8px;font-family:Cairo,sans-serif;display:flex;align-items:center;gap:16px}.notifications-header[_ngcontent-%COMP%]   .page-title[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#c9a24d;font-size:2rem}.notifications-header[_ngcontent-%COMP%]   .page-subtitle[_ngcontent-%COMP%]{font-size:1rem;color:#0f172a99;margin:0}.notifications-header[_ngcontent-%COMP%]   .unread-badge[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:8px;padding:8px 16px;background:#c9a24d1a;color:#c9a24d;border:1px solid rgba(201,162,77,.3);border-radius:8px;font-weight:600;font-size:.9rem;font-family:Cairo,sans-serif}.notifications-header[_ngcontent-%COMP%]   .unread-badge[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.6rem;animation:_ngcontent-%COMP%_pulse 2s infinite}@keyframes _ngcontent-%COMP%_pulse{0%,to{opacity:1}50%{opacity:.5}}.loading-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;min-height:400px;text-align:center}.loading-state[_ngcontent-%COMP%]   .spinner-border[_ngcontent-%COMP%]{width:3rem;height:3rem;border-width:.3rem}.loading-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#0f172ab3;font-size:1rem;margin:0}.alert-error[_ngcontent-%COMP%]{padding:32px;border-radius:8px;background:#dc26261a;color:#dc2626;border:1px solid rgba(220,38,38,.3);display:flex;align-items:center;gap:8px;font-size:1rem;margin-bottom:32px}.alert-error[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.2rem}.notifications-controls[_ngcontent-%COMP%]{margin-bottom:64px;padding:32px;background:#fff;border-radius:16px;box-shadow:0 4px 8px #00000026}.notifications-controls[_ngcontent-%COMP%]   .filter-tabs[_ngcontent-%COMP%]{display:flex;gap:8px;flex-wrap:wrap}.notifications-controls[_ngcontent-%COMP%]   .filter-tabs[_ngcontent-%COMP%]   .filter-tab[_ngcontent-%COMP%]{display:flex;align-items:center;gap:4px;padding:8px 16px;background:#0e3a5d0d;border:2px solid rgba(14,58,93,.2);border-radius:8px;color:#0f172ab3;font-weight:500;font-size:.9rem;font-family:Cairo,sans-serif;cursor:pointer;transition:all .3s ease}.notifications-controls[_ngcontent-%COMP%]   .filter-tabs[_ngcontent-%COMP%]   .filter-tab[_ngcontent-%COMP%]   .count[_ngcontent-%COMP%]{background:#0e3a5d1a;padding:2px 4px;border-radius:4px;font-weight:700;font-size:.85rem}.notifications-controls[_ngcontent-%COMP%]   .filter-tabs[_ngcontent-%COMP%]   .filter-tab[_ngcontent-%COMP%]:hover{border-color:#c9a24d;background:#c9a24d0d;color:#c9a24d}.notifications-controls[_ngcontent-%COMP%]   .filter-tabs[_ngcontent-%COMP%]   .filter-tab.active[_ngcontent-%COMP%]{background:#c9a24d;border-color:#c9a24d;color:#fff}.notifications-controls[_ngcontent-%COMP%]   .filter-tabs[_ngcontent-%COMP%]   .filter-tab.active[_ngcontent-%COMP%]   .count[_ngcontent-%COMP%]{background:#fff3;color:#fff}.notifications-controls[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]{display:flex;gap:8px;flex-wrap:wrap;justify-content:flex-end}.notifications-controls[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:8px;padding:8px 16px;border:none;border-radius:8px;font-weight:600;font-size:.9rem;font-family:Cairo,sans-serif;cursor:pointer;transition:all .3s ease}.notifications-controls[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.85rem}.notifications-controls[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .btn-mark-all[_ngcontent-%COMP%]{background:#16a34a1a;color:#16a34a;border:1px solid rgba(22,163,74,.3)}.notifications-controls[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .btn-mark-all[_ngcontent-%COMP%]:hover{background:#16a34a;color:#fff}.notifications-controls[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .btn-delete-all[_ngcontent-%COMP%]{background:#dc26261a;color:#dc2626;border:1px solid rgba(220,38,38,.3)}.notifications-controls[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .btn-delete-all[_ngcontent-%COMP%]:hover{background:#dc2626;color:#fff}.notifications-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px}.notification-item[_ngcontent-%COMP%]{background:#fff;border-radius:16px;padding:32px;box-shadow:0 4px 8px #00000026;border:2px solid rgba(14,58,93,.1);transition:all .3s ease;display:flex;justify-content:space-between;align-items:flex-start;gap:16px;cursor:pointer}.notification-item[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 8px 16px #0003;border-color:#c9a24d}.notification-item.unread[_ngcontent-%COMP%]{border-left:4px solid #C9A24D;background:linear-gradient(90deg,#c9a24d0d,#fff 5%)}.notification-item.notification-approval[_ngcontent-%COMP%]{border-left-color:#16a34a}.notification-item.notification-approval[_ngcontent-%COMP%]   .notification-icon[_ngcontent-%COMP%]{background:#16a34a1a;color:#16a34a}.notification-item.notification-rejection[_ngcontent-%COMP%]{border-left-color:#dc2626}.notification-item.notification-rejection[_ngcontent-%COMP%]   .notification-icon[_ngcontent-%COMP%]{background:#dc26261a;color:#dc2626}.notification-item.notification-status[_ngcontent-%COMP%]{border-left-color:#c9a24d}.notification-item.notification-status[_ngcontent-%COMP%]   .notification-icon[_ngcontent-%COMP%]{background:#c9a24d1a;color:#c9a24d}.notification-item.notification-verification[_ngcontent-%COMP%]{border-left-color:#0e3a5d}.notification-item.notification-verification[_ngcontent-%COMP%]   .notification-icon[_ngcontent-%COMP%]{background:#0e3a5d1a;color:#0e3a5d}.notification-item.notification-general[_ngcontent-%COMP%]{border-left-color:#0f172a4d}.notification-item.notification-general[_ngcontent-%COMP%]   .notification-icon[_ngcontent-%COMP%]{background:#0f172a1a;color:#0f172ab3}.notification-item[_ngcontent-%COMP%]   .notification-content[_ngcontent-%COMP%]{display:flex;gap:16px;flex:1}.notification-item[_ngcontent-%COMP%]   .notification-icon[_ngcontent-%COMP%]{width:48px;height:48px;border-radius:50%;display:flex;align-items:center;justify-content:center;flex-shrink:0}.notification-item[_ngcontent-%COMP%]   .notification-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.2rem}.notification-item[_ngcontent-%COMP%]   .notification-body[_ngcontent-%COMP%]{flex:1}.notification-item[_ngcontent-%COMP%]   .notification-body[_ngcontent-%COMP%]   .notification-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;gap:16px;margin-bottom:8px}.notification-item[_ngcontent-%COMP%]   .notification-body[_ngcontent-%COMP%]   .notification-header[_ngcontent-%COMP%]   .notification-title[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:700;color:#0e3a5d;margin:0;font-family:Cairo,sans-serif}.notification-item[_ngcontent-%COMP%]   .notification-body[_ngcontent-%COMP%]   .notification-header[_ngcontent-%COMP%]   .notification-time[_ngcontent-%COMP%]{font-size:.85rem;color:#0f172a80;white-space:nowrap}.notification-item[_ngcontent-%COMP%]   .notification-body[_ngcontent-%COMP%]   .notification-message[_ngcontent-%COMP%]{font-size:.95rem;color:#0f172acc;margin:0 0 8px;line-height:1.6}.notification-item[_ngcontent-%COMP%]   .notification-body[_ngcontent-%COMP%]   .notification-footer[_ngcontent-%COMP%]{display:flex;align-items:center;gap:16px;flex-wrap:wrap}.notification-item[_ngcontent-%COMP%]   .notification-body[_ngcontent-%COMP%]   .notification-footer[_ngcontent-%COMP%]   .notification-type[_ngcontent-%COMP%]{display:inline-flex;align-items:center;padding:2px 8px;background:#0e3a5d1a;color:#0e3a5d;border-radius:4px;font-size:.75rem;font-weight:600;font-family:Cairo,sans-serif}.notification-item[_ngcontent-%COMP%]   .notification-body[_ngcontent-%COMP%]   .notification-footer[_ngcontent-%COMP%]   .unread-indicator[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:4px;color:#c9a24d;font-size:.75rem;font-weight:600}.notification-item[_ngcontent-%COMP%]   .notification-body[_ngcontent-%COMP%]   .notification-footer[_ngcontent-%COMP%]   .unread-indicator[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.5rem}.notification-item[_ngcontent-%COMP%]   .notification-actions[_ngcontent-%COMP%]{display:flex;gap:4px;flex-shrink:0}.notification-item[_ngcontent-%COMP%]   .notification-actions[_ngcontent-%COMP%]   .btn-action[_ngcontent-%COMP%]{width:36px;height:36px;border:none;border-radius:8px;display:flex;align-items:center;justify-content:center;cursor:pointer;transition:all .3s ease;font-size:.9rem}.notification-item[_ngcontent-%COMP%]   .notification-actions[_ngcontent-%COMP%]   .btn-action[_ngcontent-%COMP%]:hover{transform:scale(1.1)}.notification-item[_ngcontent-%COMP%]   .notification-actions[_ngcontent-%COMP%]   .btn-mark-read[_ngcontent-%COMP%]{background:#16a34a1a;color:#16a34a}.notification-item[_ngcontent-%COMP%]   .notification-actions[_ngcontent-%COMP%]   .btn-mark-read[_ngcontent-%COMP%]:hover{background:#16a34a;color:#fff}.notification-item[_ngcontent-%COMP%]   .notification-actions[_ngcontent-%COMP%]   .btn-delete[_ngcontent-%COMP%]{background:#dc26261a;color:#dc2626}.notification-item[_ngcontent-%COMP%]   .notification-actions[_ngcontent-%COMP%]   .btn-delete[_ngcontent-%COMP%]:hover{background:#dc2626;color:#fff}.empty-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;min-height:400px;text-align:center;padding:64px;background:#fff;border-radius:16px;box-shadow:0 4px 8px #00000026}.empty-state[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:4rem;color:#0f172a4d;margin-bottom:32px}.empty-state[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;color:#0e3a5d;margin-bottom:16px;font-family:Cairo,sans-serif}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem;color:#0f172a99;margin:0;font-family:Cairo,sans-serif}@media (max-width: 991.98px){.notifications-container[_ngcontent-%COMP%]{padding:32px 0}.notifications-header[_ngcontent-%COMP%]   .page-title[_ngcontent-%COMP%]{font-size:2rem}}@media (max-width: 767.98px){.notifications-header[_ngcontent-%COMP%]   .page-title[_ngcontent-%COMP%], .notifications-header[_ngcontent-%COMP%]   .page-title[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.5rem}.notifications-controls[_ngcontent-%COMP%]   .filter-tabs[_ngcontent-%COMP%]   .filter-tab[_ngcontent-%COMP%]{font-size:.85rem;padding:4px 8px}.notifications-controls[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]{justify-content:flex-start;margin-top:16px}.notification-item[_ngcontent-%COMP%]{flex-direction:column}.notification-item[_ngcontent-%COMP%]   .notification-actions[_ngcontent-%COMP%]{align-self:flex-end}}"]})};var qs=li(si());var oo=class n{constructor(t,e){this.database=t;this.injector=e}createSubscription(t,e){return se(()=>X(this.injector,()=>{let i=pe(this.database,`platformSubscriptions/${t}`),r={startDate:e.startDate,endDate:e.endDate,subscriptionPlan:e.subscriptionPlan,imageOfBankTransfer:e.imageOfBankTransfer,status:"pending",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};return ee(Ui(i,r)).pipe(H(o=>{let s=o.key||"";return oe(B({},r),{subscriptionId:s})}))}))}updateSubscription(t,e,i){return se(()=>X(this.injector,()=>{let r=pe(this.database,`platformSubscriptions/${t}/${e}`),o=oe(B({},i),{updatedAt:new Date().toISOString()});return ee(ii(r,o))}))}approveSubscription(t,e){return this.updateSubscription(t,e,{status:"approved"})}rejectSubscription(t,e){return this.updateSubscription(t,e,{status:"rejected"})}deleteSubscription(t,e){return se(()=>X(this.injector,()=>{let i=pe(this.database,`platformSubscriptions/${t}/${e}`);return ee(Wn(i))}))}getSubscriptions(t){return se(()=>X(this.injector,()=>{let e=pe(this.database,`platformSubscriptions/${t}`);return new ie(i=>{$t(e,r=>{if(!r.exists()){i.next([]);return}let o=r.val(),s=[];Object.keys(o).forEach(a=>{s.push(oe(B({},o[a]),{subscriptionId:a}))}),s.sort((a,c)=>new Date(c.createdAt).getTime()-new Date(a.createdAt).getTime()),i.next(s)},r=>{console.error("Error fetching subscriptions:",r),i.error(r)})})}))}getSubscriptionsOnce(t){return se(()=>X(this.injector,()=>{let e=pe(this.database,`platformSubscriptions/${t}`);return ee(Cr(e)).pipe(H(i=>{if(!i.exists())return[];let r=i.val(),o=[];return Object.keys(r).forEach(s=>{o.push(oe(B({},r[s]),{subscriptionId:s}))}),o.sort((s,a)=>new Date(a.createdAt).getTime()-new Date(s.createdAt).getTime()),o}))}))}getLastSubscription(t){return this.getSubscriptions(t).pipe(H(e=>e.length===0?null:e[0]))}getSubscriptionById(t,e){return this.getSubscriptions(t).pipe(H(i=>i.find(o=>o.subscriptionId===e)||null))}getSubscriptionByStatus(t,e){return this.getSubscriptions(t).pipe(H(i=>i.filter(r=>r.status===e)))}getSubscriptionByStartDate(t,e){return this.getSubscriptions(t).pipe(H(i=>i.filter(r=>r.startDate===e)))}getSubscriptionByEndDate(t,e){return this.getSubscriptions(t).pipe(H(i=>i.filter(r=>r.endDate===e)))}getSubscriptionByCreatedAt(t,e){return this.getSubscriptions(t).pipe(H(i=>i.filter(r=>r.createdAt===e)))}getSubscriptionByUpdatedAt(t,e){return this.getSubscriptions(t).pipe(H(i=>i.filter(r=>r.updatedAt===e)))}hasActiveSubscription(t){return this.getLastSubscription(t).pipe(H(e=>{if(!e||e.status!=="approved")return!1;let i=new Date,r=new Date(e.startDate),o=new Date(e.endDate);return i>=r&&i<=o}))}isSubscriptionExpired(t){return this.getLastSubscription(t).pipe(H(e=>{if(!e||e.status!=="approved")return!0;let i=new Date,r=new Date(e.endDate);return i>r}))}getSubscriptionStatusSummary(t){return this.getLastSubscription(t).pipe(H(e=>{if(!e)return"none";if(e.status==="pending")return"pending";if(e.status==="rejected")return"rejected";let i=new Date,r=new Date(e.startDate),o=new Date(e.endDate);return i<r?"pending":i>o?"expired":"active"}))}static \u0275fac=function(e){return new(e||n)(W(xn),W(De))};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})};var eX=n=>({"is-last":n}),tX=(n,t)=>t.subscriptionId;function nX(n,t){n&1&&(f(0,"div",2)(1,"div",5)(2,"span",6),_(3),v(4,"translate"),h()(),f(5,"p",7),_(6),v(7,"translate"),h()()),n&2&&(d(3),I(y(4,2,"subscriptions.loading")),d(3),I(y(7,4,"subscriptions.loading")))}function iX(n,t){if(n&1&&(f(0,"div",3),w(1,"i",8),_(2),v(3,"translate"),h()),n&2){let e=x();d(2),M(" ",y(3,1,e.errorMessage)," ")}}function rX(n,t){if(n&1){let e=ce();f(0,"button",21),z("click",function(){G(e);let r=x(2);return K(r.showCreateForm())}),w(1,"i",22),f(2,"span"),_(3),v(4,"translate"),h()()}n&2&&(d(3),I(y(4,1,"subscriptions.createNew")))}function oX(n,t){if(n&1&&(f(0,"div",29)(1,"div",30)(2,"label",31),w(3,"i",40),_(4),v(5,"translate"),h(),f(6,"p",41),_(7),v(8,"translate"),h()()()),n&2){let e=x(3);d(4),M(" ",y(5,3,"subscriptions.daysRemaining")," "),d(3),Ct(" ",e.getDaysRemaining(e.lastSubscription)," ",y(8,5,"subscriptions.days")," ")}}function sX(n,t){if(n&1){let e=ce();f(0,"div",17)(1,"div",23)(2,"h3",24),w(3,"i",25),_(4),v(5,"translate"),h(),f(6,"span",26),w(7,"i",27),_(8),v(9,"translate"),h()(),f(10,"div",28)(11,"div",29)(12,"div",30)(13,"label",31),w(14,"i",32),_(15),v(16,"translate"),h(),f(17,"p",33),_(18),v(19,"translate"),h()()(),f(20,"div",29)(21,"div",30)(22,"label",31),w(23,"i",34),_(24),v(25,"translate"),h(),f(26,"p",33),_(27),h()()(),f(28,"div",29)(29,"div",30)(30,"label",31),w(31,"i",35),_(32),v(33,"translate"),h(),f(34,"p",33),_(35),h()()(),L(36,oX,9,7,"div",29),f(37,"div",36)(38,"div",30)(39,"label",31),w(40,"i",37),_(41),v(42,"translate"),h(),f(43,"div",38)(44,"img",39),z("click",function(){G(e);let r=x(2);return K(r.openImageModal(r.lastSubscription.imageOfBankTransfer))}),h()()()()()()}if(n&2){let e=x(2);d(4),M(" ",y(5,18,"subscriptions.currentSubscription")," "),d(2),O("ngClass",e.getStatusClass(e.lastSubscription.status)),d(),U("fa-check-circle",e.lastSubscription.status==="approved")("fa-clock",e.lastSubscription.status==="pending")("fa-times-circle",e.lastSubscription.status==="rejected"),d(),M(" ",y(9,20,e.getStatusKey(e.lastSubscription.status))," "),d(7),M(" ",y(16,22,"subscriptions.plan")," "),d(3),I(y(19,24,e.getPlanKey(e.lastSubscription.subscriptionPlan))),d(6),M(" ",y(25,26,"subscriptions.startDate")," "),d(3),I(e.formatDate(e.lastSubscription.startDate)),d(5),M(" ",y(33,28,"subscriptions.endDate")," "),d(3),I(e.formatDate(e.lastSubscription.endDate)),d(),F(e.isSubscriptionActive(e.lastSubscription)?36:-1),d(5),M(" ",y(42,30,"subscriptions.bankTransferReceipt")," "),d(3),O("src",e.lastSubscription.imageOfBankTransfer,it)}}function aX(n,t){if(n&1){let e=ce();f(0,"div",18)(1,"div",42),w(2,"i",13),f(3,"h4"),_(4),v(5,"translate"),h(),f(6,"p"),_(7),v(8,"translate"),h(),f(9,"button",21),z("click",function(){G(e);let r=x(2);return K(r.showCreateForm())}),w(10,"i",22),f(11,"span"),_(12),v(13,"translate"),h()()()()}n&2&&(d(4),I(y(5,3,"subscriptions.noSubscription")),d(3),I(y(8,5,"subscriptions.noSubscriptionDescription")),d(5),I(y(13,7,"subscriptions.createNew")))}function cX(n,t){n&1&&(f(0,"div",56),_(1),v(2,"translate"),h()),n&2&&(d(),M(" ",y(2,1,"subscriptions.planRequired")," "))}function lX(n,t){n&1&&(_(0),v(1,"translate")),n&2&&M(" ",y(1,1,"subscriptions.startDateRequired")," ")}function dX(n,t){if(n&1&&(f(0,"div",56),L(1,lX,2,3),h()),n&2){let e=x(3);d(),F(!(e.startDate==null||e.startDate.errors==null)&&e.startDate.errors.required?1:-1)}}function uX(n,t){n&1&&(_(0),v(1,"translate")),n&2&&M(" ",y(1,1,"subscriptions.endDateRequired")," ")}function fX(n,t){n&1&&(_(0),v(1,"translate")),n&2&&M(" ",y(1,1,"subscriptions.endDateMustBeAfterStart")," ")}function pX(n,t){n&1&&(_(0),v(1,"translate")),n&2&&M(" ",y(1,1,"subscriptions.monthlyDurationInvalid")," ")}function hX(n,t){n&1&&(_(0),v(1,"translate")),n&2&&M(" ",y(1,1,"subscriptions.yearlyDurationInvalid")," ")}function gX(n,t){if(n&1&&(f(0,"div",56),L(1,uX,2,3),L(2,fX,2,3),L(3,pX,2,3),L(4,hX,2,3),h()),n&2){let e=x(3);d(),F(!(e.endDate==null||e.endDate.errors==null)&&e.endDate.errors.required?1:-1),d(),F(!(e.endDate==null||e.endDate.errors==null)&&e.endDate.errors.dateRangeInvalid?2:-1),d(),F(!(e.endDate==null||e.endDate.errors==null)&&e.endDate.errors.monthlyDurationInvalid?3:-1),d(),F(!(e.endDate==null||e.endDate.errors==null)&&e.endDate.errors.yearlyDurationInvalid?4:-1)}}function mX(n,t){n&1&&(w(0,"i",67),f(1,"span"),_(2),v(3,"translate"),h()),n&2&&(d(2),I(y(3,1,"subscriptions.compressing")))}function _X(n,t){n&1&&(w(0,"i",68),f(1,"span"),_(2),v(3,"translate"),h()),n&2&&(d(2),I(y(3,1,"subscriptions.uploadReceipt")))}function vX(n,t){n&1&&(f(0,"div",62)(1,"div",69)(2,"span",6),_(3),v(4,"translate"),h()(),f(5,"span",70),_(6),v(7,"translate"),h()()),n&2&&(d(3),I(y(4,2,"subscriptions.compressing")),d(3),I(y(7,4,"subscriptions.compressing")))}function yX(n,t){if(n&1){let e=ce();f(0,"div",63),w(1,"img",71),f(2,"button",72),z("click",function(){G(e);let r=x(3);return K(r.removeBankTransfer())}),w(3,"i",47),h()()}if(n&2){let e=x(3);d(),O("src",e.bankTransferPreview,it)}}function bX(n,t){n&1&&(f(0,"div",56),_(1),v(2,"translate"),h()),n&2&&(d(),M(" ",y(2,1,"subscriptions.bankTransferRequired")," "))}function CX(n,t){n&1&&(w(0,"i",67),f(1,"span"),_(2),v(3,"translate"),h()),n&2&&(d(2),I(y(3,1,"subscriptions.submitting")))}function wX(n,t){n&1&&(w(0,"i",73),f(1,"span"),_(2),v(3,"translate"),h()),n&2&&(d(2),I(y(3,1,"subscriptions.submitRequest")))}function MX(n,t){if(n&1){let e=ce();f(0,"div",19)(1,"form",43),z("ngSubmit",function(){G(e);let r=x(2);return K(r.onSubmit())}),f(2,"div",44)(3,"h3"),w(4,"i",45),_(5),v(6,"translate"),h(),f(7,"button",46),z("click",function(){G(e);let r=x(2);return K(r.cancelForm())}),w(8,"i",47),h()(),f(9,"div",48)(10,"div",49)(11,"div",36)(12,"div",50)(13,"label",51),w(14,"i",32),_(15),v(16,"translate"),f(17,"span",52),_(18,"*"),h()(),f(19,"select",53),z("change",function(){G(e);let r=x(2);return K(r.onPlanChange())}),f(20,"option",54),_(21),v(22,"translate"),h(),f(23,"option",55),_(24),v(25,"translate"),h()(),L(26,cX,3,3,"div",56),h()(),f(27,"div",29)(28,"div",50)(29,"label",51),w(30,"i",34),_(31),v(32,"translate"),f(33,"span",52),_(34,"*"),h()(),f(35,"input",57),z("change",function(){G(e);let r=x(2);return K(r.onPlanChange())}),h(),L(36,dX,2,1,"div",56),h()(),f(37,"div",29)(38,"div",50)(39,"label",51),w(40,"i",35),_(41),v(42,"translate"),f(43,"span",52),_(44,"*"),h()(),w(45,"input",58),L(46,gX,5,4,"div",56),h()(),f(47,"div",36)(48,"div",50)(49,"label",51),w(50,"i",37),_(51),v(52,"translate"),f(53,"span",52),_(54,"*"),h()(),f(55,"div",59)(56,"input",60),z("change",function(r){G(e);let o=x(2);return K(o.onBankTransferSelected(r))}),h(),f(57,"label",61),L(58,mX,4,3)(59,_X,4,3),h()(),L(60,vX,8,6,"div",62),L(61,yX,4,1,"div",63),L(62,bX,3,3,"div",56),h()(),f(63,"div",36)(64,"div",64)(65,"button",65),z("click",function(){G(e);let r=x(2);return K(r.cancelForm())}),w(66,"i",47),f(67,"span"),_(68),v(69,"translate"),h()(),f(70,"button",66),L(71,CX,4,3)(72,wX,4,3),h()()()()()()()}if(n&2){let e=x(2);d(),O("formGroup",e.subscriptionForm),d(4),M(" ",y(6,27,"subscriptions.createNewSubscription")," "),d(10),M(" ",y(16,29,"subscriptions.choosePlan")," "),d(4),U("is-invalid",(e.subscriptionPlan==null?null:e.subscriptionPlan.invalid)&&(e.subscriptionPlan==null?null:e.subscriptionPlan.touched)),d(2),I(y(22,31,"subscriptions.plans.monthly")),d(3),I(y(25,33,"subscriptions.plans.yearly")),d(2),F(e.subscriptionPlan!=null&&e.subscriptionPlan.invalid&&(e.subscriptionPlan!=null&&e.subscriptionPlan.touched)?26:-1),d(5),M(" ",y(32,35,"subscriptions.startDate")," "),d(4),U("is-invalid",(e.startDate==null?null:e.startDate.invalid)&&(e.startDate==null?null:e.startDate.touched)),d(),F(e.startDate!=null&&e.startDate.invalid&&(e.startDate!=null&&e.startDate.touched)?36:-1),d(5),M(" ",y(42,37,"subscriptions.endDate")," "),d(4),U("is-invalid",(e.endDate==null?null:e.endDate.invalid)&&(e.endDate==null?null:e.endDate.touched)),d(),F(e.endDate!=null&&e.endDate.invalid&&(e.endDate!=null&&e.endDate.touched)?46:-1),d(5),M(" ",y(52,39,"subscriptions.bankTransferReceipt")," "),d(5),O("disabled",e.isCompressingImage),d(),U("disabled",e.isCompressingImage),d(),F(e.isCompressingImage?58:59),d(2),F(e.isCompressingImage?60:-1),d(),F(e.bankTransferPreview&&!e.isCompressingImage?61:-1),d(),F(e.bankTransfer!=null&&e.bankTransfer.invalid&&(e.bankTransfer!=null&&e.bankTransfer.touched)?62:-1),d(6),I(y(69,41,"subscriptions.cancel")),d(2),O("disabled",e.subscriptionForm.invalid||e.isSubmitting),d(),F(e.isSubmitting?71:72)}}function EX(n,t){if(n&1&&(f(0,"div",83)(1,"small",84),_(2),v(3,"translate"),h(),f(4,"p",86),_(5),v(6,"translate"),h()()),n&2){let e=x().$implicit,i=x(3);d(2),I(y(3,3,"subscriptions.daysRemaining")),d(3),Ct(" ",i.getDaysRemaining(e)," ",y(6,5,"subscriptions.days")," ")}}function PX(n,t){if(n&1&&(f(0,"div",77)(1,"div",78)(2,"div",79)(3,"h4"),w(4,"i",32),_(5),v(6,"translate"),h(),f(7,"span",26),_(8),v(9,"translate"),h()(),f(10,"span",80),_(11),h()(),f(12,"div",81)(13,"div",82)(14,"div",83)(15,"small",84),_(16),v(17,"translate"),h(),f(18,"p",85),_(19),h()(),f(20,"div",83)(21,"small",84),_(22),v(23,"translate"),h(),f(24,"p",85),_(25),h()(),L(26,EX,7,7,"div",83),h()()()),n&2){let e=t.$implicit,i=x(3);O("ngClass",ar(18,eX,e.subscriptionId===(i.lastSubscription==null?null:i.lastSubscription.subscriptionId))),d(5),M(" ",y(6,10,i.getPlanKey(e.subscriptionPlan))," "),d(2),O("ngClass",i.getStatusClass(e.status)),d(),M(" ",y(9,12,i.getStatusKey(e.status))," "),d(3),M(" ",i.formatDate(e.createdAt)," "),d(5),I(y(17,14,"subscriptions.startDate")),d(3),I(i.formatDate(e.startDate)),d(3),I(y(23,16,"subscriptions.endDate")),d(3),I(i.formatDate(e.endDate)),d(),F(i.isSubscriptionActive(e)?26:-1)}}function OX(n,t){if(n&1&&(f(0,"div",20)(1,"h3",74),w(2,"i",75),_(3),v(4,"translate"),h(),f(5,"div",76),mt(6,PX,27,20,"div",77,tX),h()()),n&2){let e=x(2);d(3),M(" ",y(4,1,"subscriptions.history")," "),d(3),_t(e.allSubscriptions)}}function xX(n,t){if(n&1&&(f(0,"div",4)(1,"div",9)(2,"div",10)(3,"div",11)(4,"h2",12),w(5,"i",13),_(6),v(7,"translate"),h(),f(8,"p",14),_(9),v(10,"translate"),h()(),f(11,"div",15),L(12,rX,5,3,"button",16),h()()(),L(13,sX,45,32,"div",17),L(14,aX,14,9,"div",18),L(15,MX,73,43,"div",19),L(16,OX,8,3,"div",20),h()),n&2){let e=x();d(6),M(" ",y(7,7,"subscriptions.mySubscriptions")," "),d(3),I(y(10,9,"subscriptions.mySubscriptionsDescription")),d(3),F(e.showForm?-1:12),d(),F(e.lastSubscription&&!e.showForm?13:-1),d(),F(!e.lastSubscription&&!e.showForm?14:-1),d(),F(e.showForm?15:-1),d(),F(!e.showForm&&e.allSubscriptions.length>0?16:-1)}}var r0=class n{constructor(t,e,i){this.fb=t;this.platformSubscriptions=e;this.authService=i}organizationId="";lastSubscription=null;allSubscriptions=[];isLoading=!1;isSubmitting=!1;isCompressingImage=!1;showForm=!1;errorMessage="";bankTransferPreview=null;bankTransferBase64=null;subscriptionForm;destroy$=new le;ngOnInit(){let t=this.authService.getCurrentUserId();if(!t){this.errorMessage="subscriptions.notAuthenticated";return}this.organizationId=t||"",this.initializeForm(),this.loadSubscriptions()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}initializeForm(){this.subscriptionForm=this.fb.group({subscriptionPlan:["monthly",[te.required]],startDate:["",[te.required]],endDate:["",[te.required]],bankTransfer:["",[te.required]]},{validators:this.dateRangeValidator})}dateRangeValidator(t){let e=t.get("startDate"),i=t.get("endDate"),r=t.get("subscriptionPlan");if(!e||!i||!e.value||!i.value)return null;let o=new Date(e.value),s=new Date(i.value);if(s<=o)return i.setErrors({dateRangeInvalid:!0}),{dateRangeInvalid:!0};if(r?.value){let a=Math.ceil((s.getTime()-o.getTime())/864e5);if(r.value==="monthly"){if(a<28||a>31)return i.setErrors({monthlyDurationInvalid:!0}),{monthlyDurationInvalid:!0}}else if(r.value==="yearly"&&(a<365||a>366))return i.setErrors({yearlyDurationInvalid:!0}),{yearlyDurationInvalid:!0}}return null}loadSubscriptions(){this.organizationId&&(this.isLoading=!0,this.errorMessage="",this.platformSubscriptions.getSubscriptions(this.organizationId).pipe(ne(this.destroy$)).subscribe({next:t=>{this.allSubscriptions=t,this.platformSubscriptions.getLastSubscription(this.organizationId).pipe(ne(this.destroy$)).subscribe({next:e=>{this.lastSubscription=e,this.isLoading=!1},error:e=>{console.error("Error loading last subscription:",e),this.isLoading=!1}})},error:t=>{console.error("Error loading subscriptions:",t),this.errorMessage="subscriptions.loadError",this.isLoading=!1}}))}compressAndResizeImage(t){return new Promise((e,i)=>{let r=new FileReader;r.onload=o=>{let s=new Image;s.onload=()=>{let c=s.width,l=s.height;c>600&&(l=l*600/c,c=600);let m=document.createElement("canvas");m.width=c,m.height=l;let g=m.getContext("2d");if(!g){i(new Error("Could not get canvas context"));return}g.drawImage(s,0,0,c,l);let E=m.toDataURL("image/jpeg",.45);e(E)},s.onerror=()=>{i(new Error("Failed to load image"))},s.src=o.target?.result},r.onerror=()=>{i(new Error("Failed to read file"))},r.readAsDataURL(t)})}onBankTransferSelected(t){let i=t.target.files?.[0];if(i){if(!i.type.startsWith("image/")){qs.default.fire({icon:"error",title:"\u062E\u0637\u0623",text:"\u064A\u0631\u062C\u0649 \u0627\u062E\u062A\u064A\u0627\u0631 \u0645\u0644\u0641 \u0635\u0648\u0631\u0629 \u0641\u0642\u0637.",confirmButtonText:"\u062D\u0633\u0646\u0627\u064B",confirmButtonColor:"#DC2626"});return}if(i.size>5*1024*1024){qs.default.fire({icon:"error",title:"\u062E\u0637\u0623",text:"\u062D\u062C\u0645 \u0627\u0644\u0635\u0648\u0631\u0629 \u0643\u0628\u064A\u0631 \u062C\u062F\u0627\u064B. \u0627\u0644\u062D\u062F \u0627\u0644\u0623\u0642\u0635\u0649 5 \u0645\u064A\u062C\u0627\u0628\u0627\u064A\u062A.",confirmButtonText:"\u062D\u0633\u0646\u0627\u064B",confirmButtonColor:"#DC2626"});return}this.isCompressingImage=!0,this.compressAndResizeImage(i).then(r=>{this.bankTransferBase64=r,this.bankTransferPreview=r,this.subscriptionForm.patchValue({bankTransfer:"selected"}),this.isCompressingImage=!1}).catch(r=>{console.error("Error compressing image:",r),this.isCompressingImage=!1,qs.default.fire({icon:"error",title:"\u062E\u0637\u0623",text:"\u062D\u062F\u062B \u062E\u0637\u0623 \u0623\u062B\u0646\u0627\u0621 \u0645\u0639\u0627\u0644\u062C\u0629 \u0627\u0644\u0635\u0648\u0631\u0629. \u064A\u0631\u062C\u0649 \u0627\u0644\u0645\u062D\u0627\u0648\u0644\u0629 \u0645\u0631\u0629 \u0623\u062E\u0631\u0649.",confirmButtonText:"\u062D\u0633\u0646\u0627\u064B",confirmButtonColor:"#DC2626"})})}}removeBankTransfer(){this.bankTransferPreview=null,this.bankTransferBase64=null,this.subscriptionForm.patchValue({bankTransfer:""});let t=document.getElementById("bankTransfer");t&&(t.value="")}showCreateForm(){this.subscriptionForm.reset({subscriptionPlan:"monthly",startDate:"",endDate:"",bankTransfer:""}),this.bankTransferPreview=null,this.bankTransferBase64=null,this.showForm=!0,this.errorMessage=""}cancelForm(){this.showForm=!1,this.errorMessage="",this.bankTransferPreview=null,this.bankTransferBase64=null,this.subscriptionForm.reset({subscriptionPlan:"monthly",startDate:"",endDate:"",bankTransfer:""})}onPlanChange(){let t=this.subscriptionForm.get("subscriptionPlan")?.value,e=this.subscriptionForm.get("startDate")?.value;if(!t||!e){this.subscriptionForm.patchValue({endDate:""},{emitEvent:!1});return}let i=new Date(e),r=this.calculateEndDate(i,t),o=this.formatDateForInput(r);this.subscriptionForm.patchValue({endDate:o},{emitEvent:!1})}calculateEndDate(t,e){let i=new Date(t);if(e==="monthly"){let r=i.getMonth(),o=i.getFullYear(),s=i.getDate(),a=r+1,c=o;a>11&&(a=0,c+=1);let l=new Date(c,a+1,0).getDate(),m=s>l?l:s;i.setFullYear(c,a,m)}else if(e==="yearly"){let r=i.getFullYear(),o=i.getMonth(),s=i.getDate(),a=r+1;o===1&&s===29?(l=>l%4===0&&l%100!==0||l%400===0)(a)?i.setFullYear(a,o,s):i.setFullYear(a,1,28):i.setFullYear(a,o,s)}return i}formatDateForInput(t){let e=t.getFullYear(),i=String(t.getMonth()+1).padStart(2,"0"),r=String(t.getDate()).padStart(2,"0");return`${e}-${i}-${r}`}onSubmit(){if(this.subscriptionForm.invalid){this.markFormGroupTouched(this.subscriptionForm);return}if(!this.bankTransferBase64){qs.default.fire({icon:"warning",title:"\u062A\u062D\u0630\u064A\u0631",text:"\u064A\u0631\u062C\u0649 \u0631\u0641\u0639 \u0635\u0648\u0631\u0629 \u0625\u064A\u0635\u0627\u0644 \u0627\u0644\u062A\u062D\u0648\u064A\u0644 \u0627\u0644\u0628\u0646\u0643\u064A.",confirmButtonText:"\u062D\u0633\u0646\u0627\u064B",confirmButtonColor:"#D97706"});return}if(!this.organizationId){this.errorMessage="subscriptions.organizationIdRequired";return}this.isSubmitting=!0,this.errorMessage="";let{subscriptionPlan:t,startDate:e,endDate:i}=this.subscriptionForm.value,r=new Date(e).toISOString(),o=new Date(i).toISOString(),s={startDate:r,endDate:o,subscriptionPlan:t,imageOfBankTransfer:this.bankTransferBase64};this.platformSubscriptions.createSubscription(this.organizationId,s).pipe(Ge(a=>(this.isSubmitting=!1,console.error("Error creating subscription:",a),qs.default.fire({icon:"error",title:"\u062E\u0637\u0623",text:"\u062D\u062F\u062B \u062E\u0637\u0623 \u0623\u062B\u0646\u0627\u0621 \u0625\u0646\u0634\u0627\u0621 \u0637\u0644\u0628 \u0627\u0644\u0627\u0634\u062A\u0631\u0627\u0643. \u064A\u0631\u062C\u0649 \u0627\u0644\u0645\u062D\u0627\u0648\u0644\u0629 \u0645\u0631\u0629 \u0623\u062E\u0631\u0649.",confirmButtonText:"\u062D\u0633\u0646\u0627\u064B",confirmButtonColor:"#DC2626"}),$(null)))).subscribe({next:a=>{a!==null&&(this.isSubmitting=!1,this.showForm=!1,this.bankTransferPreview=null,this.bankTransferBase64=null,qs.default.fire({icon:"success",title:"\u062A\u0645 \u0625\u0631\u0633\u0627\u0644 \u0627\u0644\u0637\u0644\u0628 \u0628\u0646\u062C\u0627\u062D!",text:"\u062A\u0645 \u0625\u0631\u0633\u0627\u0644 \u0637\u0644\u0628 \u0627\u0644\u0627\u0634\u062A\u0631\u0627\u0643 \u0628\u0646\u062C\u0627\u062D. \u0633\u064A\u062A\u0645 \u0645\u0631\u0627\u062C\u0639\u062A\u0647 \u0645\u0646 \u0642\u0628\u0644 \u0627\u0644\u0645\u062F\u064A\u0631 \u0642\u0631\u064A\u0628\u0627\u064B.",confirmButtonText:"\u062D\u0633\u0646\u0627\u064B",confirmButtonColor:"#16A34A",timer:3e3,timerProgressBar:!0}),this.loadSubscriptions())}})}getStatusClass(t){switch(t){case"approved":return"badge-success";case"pending":return"badge-warning";case"rejected":return"badge-error";default:return"badge-secondary"}}getStatusKey(t){return`subscriptions.statusTypes.${t}`}getPlanKey(t){return`subscriptions.plans.${t}`}formatDate(t){return t?new Date(t).toLocaleDateString("ar-EG",{year:"numeric",month:"long",day:"numeric"}):""}isSubscriptionActive(t){if(t.status!=="approved")return!1;let e=new Date,i=new Date(t.startDate),r=new Date(t.endDate);return e>=i&&e<=r}getDaysRemaining(t){if(t.status!=="approved")return null;let e=new Date,r=new Date(t.endDate).getTime()-e.getTime();return Math.ceil(r/(1e3*60*60*24))}openImageModal(t){qs.default.fire({imageUrl:t,imageAlt:"Bank Transfer Receipt",showCloseButton:!0,showConfirmButton:!1,width:"90%",padding:"0"})}markFormGroupTouched(t){Object.keys(t.controls).forEach(e=>{t.get(e)?.markAsTouched()})}get subscriptionPlan(){return this.subscriptionForm.get("subscriptionPlan")}get startDate(){return this.subscriptionForm.get("startDate")}get endDate(){return this.subscriptionForm.get("endDate")}get bankTransfer(){return this.subscriptionForm.get("bankTransfer")}static \u0275fac=function(e){return new(e||n)(A(hn),A(oo),A(Rt))};static \u0275cmp=de({type:n,selectors:[["app-my-subscriptions"]],decls:5,vars:3,consts:[[1,"my-subscriptions-container"],[1,"container"],[1,"loading-state"],[1,"alert","alert-error"],[1,"subscriptions-content","container"],["role","status",1,"spinner-border","text-primary"],[1,"visually-hidden"],[1,"mt-3"],[1,"fas","fa-exclamation-circle"],[1,"subscriptions-header"],[1,"row","align-items-center"],[1,"col-12","col-md-8"],[1,"page-title"],[1,"fas","fa-credit-card"],[1,"page-subtitle"],[1,"col-12","col-md-4","text-md-end"],["type","button","aria-label","Create new subscription",1,"btn","btn-create"],[1,"last-subscription-card"],[1,"no-subscription"],[1,"subscription-form-card"],[1,"subscription-history"],["type","button","aria-label","Create new subscription",1,"btn","btn-create",3,"click"],[1,"fas","fa-plus"],[1,"card-header-section"],[1,"card-title"],[1,"fas","fa-star"],[1,"status-badge",3,"ngClass"],[1,"fas"],[1,"row","g-3","mt-3"],[1,"col-12","col-md-6"],[1,"info-item"],[1,"info-label"],[1,"fas","fa-calendar-alt"],[1,"info-value"],[1,"fas","fa-calendar-plus"],[1,"fas","fa-calendar-minus"],[1,"col-12"],[1,"fas","fa-receipt"],[1,"receipt-preview"],["alt","Bank Transfer Receipt",2,"cursor","pointer",3,"click","src"],[1,"fas","fa-hourglass-half"],[1,"info-value","days-remaining"],[1,"empty-state"],[3,"ngSubmit","formGroup"],[1,"form-header"],[1,"fas","fa-plus-circle"],["type","button",1,"btn-close",3,"click"],[1,"fas","fa-times"],[1,"form-content"],[1,"row","g-3"],[1,"form-group"],[1,"form-label"],[1,"required"],["formControlName","subscriptionPlan",1,"form-control",3,"change"],["value","monthly"],["value","yearly"],[1,"invalid-feedback"],["type","date","formControlName","startDate",1,"form-control",3,"change"],["type","date","formControlName","endDate","readonly","",1,"form-control"],[1,"file-upload-area"],["type","file","id","bankTransfer","accept","image/*",1,"file-input",3,"change","disabled"],["for","bankTransfer",1,"file-label"],[1,"compression-indicator"],[1,"image-preview"],[1,"form-actions"],["type","button","aria-label","Cancel form",1,"btn","btn-cancel",3,"click"],["type","submit","aria-label","Submit subscription request",1,"btn","btn-submit",3,"disabled"],[1,"fas","fa-spinner","fa-spin"],[1,"fas","fa-cloud-upload-alt"],["role","status",1,"spinner-border","spinner-border-sm","text-primary"],[1,"ms-2"],["alt","Bank Transfer Receipt",3,"src"],["type","button",1,"btn-remove-image",3,"click"],[1,"fas","fa-check"],[1,"section-title"],[1,"fas","fa-history"],[1,"subscriptions-list"],[1,"subscription-item",3,"ngClass"],[1,"subscription-header"],[1,"subscription-info"],[1,"subscription-date"],[1,"subscription-details"],[1,"row","g-2"],[1,"col-6","col-md-3"],[1,"detail-label"],[1,"detail-value"],[1,"detail-value","days-remaining"]],template:function(e,i){e&1&&(f(0,"div",0)(1,"div",1),L(2,nX,8,6,"div",2),L(3,iX,4,3,"div",3),L(4,xX,17,11,"div",4),h()()),e&2&&(d(2),F(i.isLoading?2:-1),d(),F(!i.isLoading&&i.errorMessage?3:-1),d(),F(!i.isLoading&&!i.errorMessage?4:-1))},dependencies:[ge,Xt,gn,pn,ri,oi,Mt,Fn,kt,fn,Kt,tn,me,ve],styles:[".my-subscriptions-container[_ngcontent-%COMP%]{width:100%;min-height:100vh;background:#f6f7f9;padding:64px}.loading-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;min-height:400px;text-align:center;padding:64px}.loading-state[_ngcontent-%COMP%]   .spinner-border[_ngcontent-%COMP%]{width:3rem;height:3rem;border-width:.3rem;color:#c9a24d}.loading-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#0f172ab3;font-size:1rem;margin-top:16px;font-family:Cairo,sans-serif}.alert-error[_ngcontent-%COMP%]{padding:16px 32px;border-radius:8px;background:#dc26261a;color:#dc2626;border:1px solid rgba(220,38,38,.3);display:flex;align-items:center;gap:8px;font-size:.95rem;margin-bottom:32px;font-family:Cairo,sans-serif}.alert-error[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.1rem}.subscriptions-content[_ngcontent-%COMP%]   .subscriptions-header[_ngcontent-%COMP%]{margin-bottom:64px;padding-bottom:16px;border-bottom:2px solid rgba(14,58,93,.1)}.subscriptions-content[_ngcontent-%COMP%]   .subscriptions-header[_ngcontent-%COMP%]   .page-title[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;color:#0e3a5d;margin-bottom:4px;font-family:Cairo,sans-serif;display:flex;align-items:center;gap:16px}.subscriptions-content[_ngcontent-%COMP%]   .subscriptions-header[_ngcontent-%COMP%]   .page-title[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#c9a24d;font-size:1.8rem}.subscriptions-content[_ngcontent-%COMP%]   .subscriptions-header[_ngcontent-%COMP%]   .page-subtitle[_ngcontent-%COMP%]{font-size:1rem;color:#0f172a99;margin:0;font-family:Cairo,sans-serif}.last-subscription-card[_ngcontent-%COMP%]{background:#fff;border-radius:16px;padding:64px;box-shadow:0 4px 8px #00000026;border:1px solid rgba(14,58,93,.1);margin-bottom:64px}.last-subscription-card[_ngcontent-%COMP%]   .card-header-section[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;flex-wrap:wrap;gap:16px;margin-bottom:32px;padding-bottom:16px;border-bottom:1px solid rgba(14,58,93,.1)}.last-subscription-card[_ngcontent-%COMP%]   .card-header-section[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;color:#0e3a5d;margin:0;font-family:Cairo,sans-serif;display:flex;align-items:center;gap:8px}.last-subscription-card[_ngcontent-%COMP%]   .card-header-section[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#c9a24d;font-size:1.3rem}.last-subscription-card[_ngcontent-%COMP%]   .card-header-section[_ngcontent-%COMP%]   .status-badge[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:4px;padding:4px 16px;border-radius:8px;font-weight:600;font-size:.9rem;font-family:Cairo,sans-serif}.last-subscription-card[_ngcontent-%COMP%]   .card-header-section[_ngcontent-%COMP%]   .status-badge.badge-success[_ngcontent-%COMP%]{background:#16a34a1a;color:#16a34a;border:1px solid rgba(22,163,74,.3)}.last-subscription-card[_ngcontent-%COMP%]   .card-header-section[_ngcontent-%COMP%]   .status-badge.badge-warning[_ngcontent-%COMP%]{background:#d977061a;color:#d97706;border:1px solid rgba(217,119,6,.3)}.last-subscription-card[_ngcontent-%COMP%]   .card-header-section[_ngcontent-%COMP%]   .status-badge.badge-error[_ngcontent-%COMP%]{background:#dc26261a;color:#dc2626;border:1px solid rgba(220,38,38,.3)}.last-subscription-card[_ngcontent-%COMP%]   .card-header-section[_ngcontent-%COMP%]   .status-badge[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.85rem}.last-subscription-card[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]{margin-bottom:16px}.last-subscription-card[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]   .info-label[_ngcontent-%COMP%]{display:flex;align-items:center;gap:4px;font-weight:600;color:#0f172a;margin-bottom:4px;font-size:.9rem;font-family:Cairo,sans-serif}.last-subscription-card[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]   .info-label[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#0e3a5d;font-size:.85rem;width:18px}.last-subscription-card[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]   .info-value[_ngcontent-%COMP%]{color:#0f172acc;font-size:1rem;margin:0;padding-left:26px;font-family:Cairo,sans-serif}.last-subscription-card[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]   .info-value.days-remaining[_ngcontent-%COMP%]{color:#c9a24d;font-weight:700;font-size:1.1rem}.last-subscription-card[_ngcontent-%COMP%]   .receipt-preview[_ngcontent-%COMP%]{margin-top:8px;cursor:pointer;display:inline-block}.last-subscription-card[_ngcontent-%COMP%]   .receipt-preview[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;max-height:250px;border-radius:8px;border:1px solid rgba(14,58,93,.2);box-shadow:0 1px 2px #0000001a;transition:opacity .2s ease}.last-subscription-card[_ngcontent-%COMP%]   .receipt-preview[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:hover{opacity:.9}.no-subscription[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]{background:#fff;border-radius:16px;padding:128px;text-align:center;box-shadow:0 4px 8px #00000026;border:2px dashed rgba(14,58,93,.2);margin-bottom:64px}.no-subscription[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:4rem;color:#0f172a4d;margin-bottom:16px}.no-subscription[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;color:#0e3a5d;margin-bottom:16px;font-family:Cairo,sans-serif}.no-subscription[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem;color:#0f172a99;margin-bottom:32px;font-family:Cairo,sans-serif}.subscription-form-card[_ngcontent-%COMP%]{background:#fff;border-radius:16px;padding:64px;box-shadow:0 4px 8px #00000026;border:1px solid rgba(14,58,93,.1);margin-bottom:64px}.subscription-form-card[_ngcontent-%COMP%]   .form-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:32px;padding-bottom:16px;border-bottom:1px solid rgba(14,58,93,.1)}.subscription-form-card[_ngcontent-%COMP%]   .form-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;color:#0e3a5d;margin:0;font-family:Cairo,sans-serif;display:flex;align-items:center;gap:8px}.subscription-form-card[_ngcontent-%COMP%]   .form-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#c9a24d}.subscription-form-card[_ngcontent-%COMP%]   .form-header[_ngcontent-%COMP%]   .btn-close[_ngcontent-%COMP%]{width:32px;height:32px;border:none;background:#dc26261a;color:#dc2626;border-radius:50%;display:flex;align-items:center;justify-content:center;cursor:pointer;transition:background .2s ease}.subscription-form-card[_ngcontent-%COMP%]   .form-header[_ngcontent-%COMP%]   .btn-close[_ngcontent-%COMP%]:hover{background:#dc262633}.subscription-form-card[_ngcontent-%COMP%]   .form-content[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:32px}.subscription-form-card[_ngcontent-%COMP%]   .form-content[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-label[_ngcontent-%COMP%]{display:flex;align-items:center;gap:4px;font-weight:600;color:#0f172a;margin-bottom:8px;font-size:.95rem;font-family:Cairo,sans-serif}.subscription-form-card[_ngcontent-%COMP%]   .form-content[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-label[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#0e3a5d;font-size:.9rem}.subscription-form-card[_ngcontent-%COMP%]   .form-content[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-label[_ngcontent-%COMP%]   .required[_ngcontent-%COMP%]{color:#dc2626;margin-left:4px}.subscription-form-card[_ngcontent-%COMP%]   .form-content[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{width:100%;padding:8px 16px;border:1px solid rgba(14,58,93,.2);border-radius:8px;font-size:1rem;font-family:Cairo,sans-serif;transition:border-color .2s ease}.subscription-form-card[_ngcontent-%COMP%]   .form-content[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:focus{outline:none;border-color:#c9a24d;box-shadow:0 0 0 3px #c9a24d1a}.subscription-form-card[_ngcontent-%COMP%]   .form-content[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-control[readonly][_ngcontent-%COMP%]{background:#0f172a0d;cursor:not-allowed}.subscription-form-card[_ngcontent-%COMP%]   .form-content[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-control.is-invalid[_ngcontent-%COMP%]{border-color:#dc2626}.subscription-form-card[_ngcontent-%COMP%]   .form-content[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .invalid-feedback[_ngcontent-%COMP%]{display:block;color:#dc2626;font-size:.85rem;margin-top:4px;font-family:Cairo,sans-serif}.subscription-form-card[_ngcontent-%COMP%]   .form-content[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .file-upload-area[_ngcontent-%COMP%]{position:relative;margin-bottom:16px}.subscription-form-card[_ngcontent-%COMP%]   .form-content[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .file-upload-area[_ngcontent-%COMP%]   .file-input[_ngcontent-%COMP%]{position:absolute;opacity:0;width:0;height:0}.subscription-form-card[_ngcontent-%COMP%]   .form-content[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .file-upload-area[_ngcontent-%COMP%]   .file-input[_ngcontent-%COMP%]:disabled{cursor:not-allowed}.subscription-form-card[_ngcontent-%COMP%]   .form-content[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .file-upload-area[_ngcontent-%COMP%]   .file-label[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:64px;border:2px dashed rgba(14,58,93,.3);border-radius:8px;background:#f6f7f980;cursor:pointer;transition:all .2s ease;font-family:Cairo,sans-serif}.subscription-form-card[_ngcontent-%COMP%]   .form-content[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .file-upload-area[_ngcontent-%COMP%]   .file-label[_ngcontent-%COMP%]:hover{border-color:#c9a24d;background:#c9a24d0d}.subscription-form-card[_ngcontent-%COMP%]   .form-content[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .file-upload-area[_ngcontent-%COMP%]   .file-label[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:2.5rem;color:#0e3a5d;margin-bottom:8px}.subscription-form-card[_ngcontent-%COMP%]   .form-content[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .file-upload-area[_ngcontent-%COMP%]   .file-label[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#0f172ab3;font-weight:600}.subscription-form-card[_ngcontent-%COMP%]   .form-content[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .file-upload-area[_ngcontent-%COMP%]   .file-label.disabled[_ngcontent-%COMP%]{opacity:.6;cursor:not-allowed}.subscription-form-card[_ngcontent-%COMP%]   .form-content[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .compression-indicator[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;padding:16px;margin-top:8px;background:#c9a24d1a;border-radius:8px;color:#c9a24d;font-size:.9rem;font-weight:500;font-family:Cairo,sans-serif}.subscription-form-card[_ngcontent-%COMP%]   .form-content[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .compression-indicator[_ngcontent-%COMP%]   .spinner-border-sm[_ngcontent-%COMP%]{width:1rem;height:1rem;border-width:.15rem}.subscription-form-card[_ngcontent-%COMP%]   .form-content[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .image-preview[_ngcontent-%COMP%]{position:relative;display:inline-block;margin-top:16px}.subscription-form-card[_ngcontent-%COMP%]   .form-content[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .image-preview[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;max-height:250px;border-radius:8px;border:1px solid rgba(14,58,93,.2);box-shadow:0 1px 2px #0000001a}.subscription-form-card[_ngcontent-%COMP%]   .form-content[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .image-preview[_ngcontent-%COMP%]   .btn-remove-image[_ngcontent-%COMP%]{position:absolute;top:-10px;right:-10px;width:32px;height:32px;border:none;background:#dc2626;color:#fff;border-radius:50%;display:flex;align-items:center;justify-content:center;cursor:pointer;box-shadow:0 1px 2px #0000001a;transition:background .2s ease}.subscription-form-card[_ngcontent-%COMP%]   .form-content[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .image-preview[_ngcontent-%COMP%]   .btn-remove-image[_ngcontent-%COMP%]:hover{background:#b21d1d}.subscription-form-card[_ngcontent-%COMP%]   .form-content[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]{display:flex;gap:16px;justify-content:flex-end;margin-top:32px;padding-top:16px;border-top:1px solid rgba(14,58,93,.1)}.subscription-history[_ngcontent-%COMP%]{margin-top:64px}.subscription-history[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;color:#0e3a5d;margin-bottom:32px;font-family:Cairo,sans-serif;display:flex;align-items:center;gap:8px}.subscription-history[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#c9a24d;font-size:1.3rem}.subscription-history[_ngcontent-%COMP%]   .subscriptions-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px}.subscription-history[_ngcontent-%COMP%]   .subscription-item[_ngcontent-%COMP%]{background:#fff;border-radius:16px;padding:32px;box-shadow:0 1px 2px #0000001a;border:1px solid rgba(14,58,93,.1);transition:box-shadow .2s ease}.subscription-history[_ngcontent-%COMP%]   .subscription-item[_ngcontent-%COMP%]:hover{box-shadow:0 4px 8px #00000026}.subscription-history[_ngcontent-%COMP%]   .subscription-item.is-last[_ngcontent-%COMP%]{border:2px solid rgba(201,162,77,.3);background:#c9a24d05}.subscription-history[_ngcontent-%COMP%]   .subscription-item[_ngcontent-%COMP%]   .subscription-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;flex-wrap:wrap;gap:16px;margin-bottom:16px;padding-bottom:16px;border-bottom:1px solid rgba(14,58,93,.1)}.subscription-history[_ngcontent-%COMP%]   .subscription-item[_ngcontent-%COMP%]   .subscription-header[_ngcontent-%COMP%]   .subscription-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px;flex:1}.subscription-history[_ngcontent-%COMP%]   .subscription-item[_ngcontent-%COMP%]   .subscription-header[_ngcontent-%COMP%]   .subscription-info[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1.2rem;font-weight:700;color:#0e3a5d;margin:0;font-family:Cairo,sans-serif;display:flex;align-items:center;gap:8px}.subscription-history[_ngcontent-%COMP%]   .subscription-item[_ngcontent-%COMP%]   .subscription-header[_ngcontent-%COMP%]   .subscription-info[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#c9a24d}.subscription-history[_ngcontent-%COMP%]   .subscription-item[_ngcontent-%COMP%]   .subscription-header[_ngcontent-%COMP%]   .subscription-info[_ngcontent-%COMP%]   .status-badge[_ngcontent-%COMP%]{display:inline-flex;align-items:center;padding:4px 16px;border-radius:8px;font-weight:600;font-size:.85rem;font-family:Cairo,sans-serif;width:fit-content}.subscription-history[_ngcontent-%COMP%]   .subscription-item[_ngcontent-%COMP%]   .subscription-header[_ngcontent-%COMP%]   .subscription-info[_ngcontent-%COMP%]   .status-badge.badge-success[_ngcontent-%COMP%]{background:#16a34a1a;color:#16a34a;border:1px solid rgba(22,163,74,.3)}.subscription-history[_ngcontent-%COMP%]   .subscription-item[_ngcontent-%COMP%]   .subscription-header[_ngcontent-%COMP%]   .subscription-info[_ngcontent-%COMP%]   .status-badge.badge-warning[_ngcontent-%COMP%]{background:#d977061a;color:#d97706;border:1px solid rgba(217,119,6,.3)}.subscription-history[_ngcontent-%COMP%]   .subscription-item[_ngcontent-%COMP%]   .subscription-header[_ngcontent-%COMP%]   .subscription-info[_ngcontent-%COMP%]   .status-badge.badge-error[_ngcontent-%COMP%]{background:#dc26261a;color:#dc2626;border:1px solid rgba(220,38,38,.3)}.subscription-history[_ngcontent-%COMP%]   .subscription-item[_ngcontent-%COMP%]   .subscription-header[_ngcontent-%COMP%]   .subscription-date[_ngcontent-%COMP%]{color:#0f172a99;font-size:.9rem;font-family:Cairo,sans-serif}.subscription-history[_ngcontent-%COMP%]   .subscription-item[_ngcontent-%COMP%]   .subscription-details[_ngcontent-%COMP%]   .detail-label[_ngcontent-%COMP%]{display:block;color:#0f172a99;font-size:.85rem;font-weight:600;margin-bottom:4px;font-family:Cairo,sans-serif}.subscription-history[_ngcontent-%COMP%]   .subscription-item[_ngcontent-%COMP%]   .subscription-details[_ngcontent-%COMP%]   .detail-value[_ngcontent-%COMP%]{color:#0f172a;font-size:.95rem;margin:0 0 16px;font-family:Cairo,sans-serif}.subscription-history[_ngcontent-%COMP%]   .subscription-item[_ngcontent-%COMP%]   .subscription-details[_ngcontent-%COMP%]   .detail-value.days-remaining[_ngcontent-%COMP%]{color:#c9a24d;font-weight:700}.btn[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:8px;padding:8px 32px;border:none;border-radius:8px;font-weight:600;font-size:1rem;font-family:Cairo,sans-serif;cursor:pointer;transition:all .2s ease;text-decoration:none}.btn[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.9rem}.btn.btn-create[_ngcontent-%COMP%]{background:#c9a24d;color:#fff}.btn.btn-create[_ngcontent-%COMP%]:hover:not(:disabled){background:#a8832f}.btn.btn-submit[_ngcontent-%COMP%]{background:#16a34a;color:#fff}.btn.btn-submit[_ngcontent-%COMP%]:hover:not(:disabled){background:#107636}.btn.btn-cancel[_ngcontent-%COMP%]{background:#0f172a1a;color:#0f172a}.btn.btn-cancel[_ngcontent-%COMP%]:hover:not(:disabled){background:#0f172a33}@media (max-width: 991.98px){.subscriptions-content[_ngcontent-%COMP%]{padding:0 8px}.last-subscription-card[_ngcontent-%COMP%], .subscription-form-card[_ngcontent-%COMP%]{padding:32px}}@media (max-width: 767.98px){.my-subscriptions-container[_ngcontent-%COMP%]{padding:16px 0}.subscriptions-content[_ngcontent-%COMP%]   .subscriptions-header[_ngcontent-%COMP%]   .page-title[_ngcontent-%COMP%]{font-size:1.5rem}.last-subscription-card[_ngcontent-%COMP%], .subscription-form-card[_ngcontent-%COMP%]{padding:16px}.card-header-section[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start}.form-actions[_ngcontent-%COMP%]{flex-direction:column}.form-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{width:100%;justify-content:center}.subscription-item[_ngcontent-%COMP%]   .subscription-header[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start}}"]})};var o0=li(si());function IX(n,t){n&1&&(f(0,"div",5)(1,"div",8)(2,"span",9),_(3),v(4,"translate"),h()(),f(5,"p",10),_(6),v(7,"translate"),h()()),n&2&&(d(3),I(y(4,2,"notifications.loading")),d(3),I(y(7,4,"notifications.loading")))}function SX(n,t){if(n&1&&(f(0,"div",6),w(1,"i",11),_(2),v(3,"translate"),h()),n&2){let e=x();d(2),M(" ",y(3,1,e.errorMessage)," ")}}function TX(n,t){n&1&&(f(0,"span",25),w(1,"i",30),_(2),v(3,"translate"),h()),n&2&&(d(2),M(" ",y(3,1,"notifications.read")," "))}function DX(n,t){n&1&&(f(0,"span",26),w(1,"i",31),_(2),v(3,"translate"),h()),n&2&&(d(2),M(" ",y(3,1,"notifications.unread")," "))}function AX(n,t){if(n&1){let e=ce();f(0,"div",7)(1,"div",12)(2,"div",13)(3,"div",14),w(4,"i",15),h()(),f(5,"div",16)(6,"span",17),_(7),v(8,"translate"),h(),f(9,"span",18),w(10,"i",19),_(11),h()()(),f(12,"div",20)(13,"h1",21),_(14),h(),f(15,"div",22)(16,"p"),_(17),h()()(),f(18,"div",23)(19,"div",24),L(20,TX,4,3,"span",25)(21,DX,4,3,"span",26),h(),f(22,"div",27)(23,"button",28),v(24,"translate"),z("click",function(){G(e);let r=x();return K(r.deleteNotification())}),w(25,"i",29),_(26),v(27,"translate"),h()()()()}if(n&2){let e=x();O("ngClass",e.getNotificationTypeClass(e.notification.type)),d(3),O("ngClass",e.getNotificationTypeClass(e.notification.type)),d(),O("ngClass",e.getNotificationIcon(e.notification.type)),d(2),O("ngClass",e.getNotificationTypeClass(e.notification.type)),d(),M(" ",y(8,11,"notifications.types."+e.notification.type)," "),d(4),M(" ",e.formatDate(e.notification.createdAt)," "),d(3),I(e.notification.title),d(3),I(e.notification.message),d(3),F(e.notification.isRead?20:21),d(3),O("title",y(24,13,"notifications.delete")),d(3),M(" ",y(27,15,"notifications.delete")," ")}}var s0=class n{constructor(t,e,i,r){this.notificationsService=t;this.authService=e;this.route=i;this.router=r}notification=null;isLoading=!0;errorMessage="";notificationId=null;destroy$=new le;ngOnInit(){this.route.params.pipe(ne(this.destroy$)).subscribe(t=>{this.notificationId=t.id,this.notificationId?this.loadNotification():(this.errorMessage="notifications.invalidId",this.isLoading=!1)})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}loadNotification(){let t=this.authService.getCurrentUserId();if(!t||!this.notificationId){this.errorMessage="auth.profile.notAuthenticated",this.isLoading=!1;return}this.isLoading=!0,this.errorMessage="",this.notificationsService.getNotificationForOrganization(t,this.notificationId).pipe(ne(this.destroy$),we(e=>e?(this.notification=e,!e.isRead&&e.id?this.notificationsService.markAsRead(t,e.id).then(()=>(this.notification&&(this.notification.isRead=!0),e)):$(e)):(this.errorMessage="notifications.notFound",this.isLoading=!1,$(null))),Ge(e=>(console.error("Error loading notification:",e),this.errorMessage="notifications.loadError",this.isLoading=!1,$(null)))).subscribe({next:()=>{this.isLoading=!1}})}deleteNotification(){this.notification?.id&&o0.default.fire({title:"Delete Notification?",text:"Are you sure you want to delete this notification?",icon:"warning",showCancelButton:!0,confirmButtonText:"Delete",cancelButtonText:"Cancel",confirmButtonColor:"#DC2626",cancelButtonColor:"#6B7280"}).then(t=>{if(t.isConfirmed){let e=this.authService.getCurrentUserId();if(!e||!this.notification?.id)return;this.notificationsService.deleteNotification(e,this.notification.id).then(()=>{o0.default.fire({icon:"success",title:"Deleted",text:"Notification deleted successfully",timer:1500,showConfirmButton:!1}),this.router.navigate(["/notifications"])}).catch(i=>{console.error("Error deleting notification:",i),o0.default.fire({icon:"error",title:"Error",text:"Failed to delete notification"})})}})}getNotificationIcon(t){switch(t){case"approval":return"fa-check-circle";case"rejection":return"fa-times-circle";case"status":return"fa-info-circle";case"verification":return"fa-shield-alt";default:return"fa-bell"}}getNotificationTypeClass(t){switch(t){case"approval":return"type-approval";case"rejection":return"type-rejection";case"status":return"type-status";case"verification":return"type-verification";default:return"type-general"}}formatDate(t){if(!t)return"";let e=new Date(t),r=new Date().getTime()-e.getTime(),o=Math.floor(r/6e4),s=Math.floor(o/60),a=Math.floor(s/24);return o<1?"Just now":o<60?`${o} minute${o>1?"s":""} ago`:s<24?`${s} hour${s>1?"s":""} ago`:a<7?`${a} day${a>1?"s":""} ago`:e.toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})}static \u0275fac=function(e){return new(e||n)(A(Hi),A(Rt),A(Tt),A(He))};static \u0275cmp=de({type:n,selectors:[["app-notification"]],decls:10,vars:6,consts:[[1,"notification-detail"],[1,"container"],[1,"back-button"],["type","button","routerLink","/notifications",1,"btn","btn-back"],[1,"fas","fa-arrow-left"],[1,"loading-state"],[1,"alert","alert-error"],[1,"notification-card",3,"ngClass"],["role","status",1,"spinner-border","text-primary"],[1,"visually-hidden"],[1,"mt-3"],[1,"fas","fa-exclamation-circle"],[1,"notification-header"],[1,"notification-icon-wrapper"],[1,"notification-icon",3,"ngClass"],[1,"fas",3,"ngClass"],[1,"notification-meta"],[1,"notification-type-badge",3,"ngClass"],[1,"notification-time"],[1,"fas","fa-clock"],[1,"notification-content"],[1,"notification-title"],[1,"notification-message"],[1,"notification-footer"],[1,"notification-status"],[1,"status-badge","read"],[1,"status-badge","unread"],[1,"notification-actions"],["type","button",1,"btn","btn-delete",3,"click","title"],[1,"fas","fa-trash"],[1,"fas","fa-check-circle"],[1,"fas","fa-circle"]],template:function(e,i){e&1&&(f(0,"div",0)(1,"div",1)(2,"div",2)(3,"button",3),w(4,"i",4),_(5),v(6,"translate"),h()(),L(7,IX,8,6,"div",5),L(8,SX,4,3,"div",6),L(9,AX,28,17,"div",7),h()()),e&2&&(d(5),M(" ",y(6,4,"notifications.back")," "),d(2),F(i.isLoading?7:-1),d(),F(!i.isLoading&&i.errorMessage?8:-1),d(),F(!i.isLoading&&!i.errorMessage&&i.notification?9:-1))},dependencies:[ge,Xt,ke,Ue,me,ve],styles:[".notification-detail[_ngcontent-%COMP%]{min-height:100vh;padding:64px 0;background:linear-gradient(135deg,#f6f7f980,#fff)}.notification-detail[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{max-width:800px;margin:0 auto;padding:0 32px}.notification-detail[_ngcontent-%COMP%]   .back-button[_ngcontent-%COMP%]{margin-bottom:32px}.notification-detail[_ngcontent-%COMP%]   .back-button[_ngcontent-%COMP%]   .btn-back[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:8px;padding:8px 16px;background:#0f172a1a;color:#0f172a;border:1px solid rgba(15,23,42,.2);border-radius:8px;font-weight:600;font-size:.9rem;font-family:Cairo,sans-serif;cursor:pointer;transition:all .3s ease;text-decoration:none}.notification-detail[_ngcontent-%COMP%]   .back-button[_ngcontent-%COMP%]   .btn-back[_ngcontent-%COMP%]:hover{background:#0f172a33;border-color:#0f172a4d;transform:translate(-3px)}.notification-detail[_ngcontent-%COMP%]   .back-button[_ngcontent-%COMP%]   .btn-back[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.9rem}.notification-detail[_ngcontent-%COMP%]   .loading-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;min-height:400px;text-align:center}.notification-detail[_ngcontent-%COMP%]   .loading-state[_ngcontent-%COMP%]   .spinner-border[_ngcontent-%COMP%]{width:3rem;height:3rem;border-width:.3rem}.notification-detail[_ngcontent-%COMP%]   .loading-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#0f172ab3;font-size:1rem;margin:0}.notification-detail[_ngcontent-%COMP%]   .alert-error[_ngcontent-%COMP%]{padding:16px;border-radius:8px;margin-bottom:32px;display:flex;align-items:center;gap:8px;background:#dc26261a;color:#dc2626;border:1px solid rgba(220,38,38,.3);font-size:.9rem}.notification-detail[_ngcontent-%COMP%]   .alert-error[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1rem}.notification-detail[_ngcontent-%COMP%]   .notification-card[_ngcontent-%COMP%]{background:#fff;border-radius:16px;padding:64px;box-shadow:0 8px 16px #0003;border:2px solid rgba(14,58,93,.1);transition:all .3s ease}.notification-detail[_ngcontent-%COMP%]   .notification-card[_ngcontent-%COMP%]:hover{box-shadow:0 4px 8px #00000026;transform:translateY(-2px)}.notification-detail[_ngcontent-%COMP%]   .notification-card.type-approval[_ngcontent-%COMP%]{border-left:5px solid #16A34A}.notification-detail[_ngcontent-%COMP%]   .notification-card.type-rejection[_ngcontent-%COMP%]{border-left:5px solid #DC2626}.notification-detail[_ngcontent-%COMP%]   .notification-card.type-status[_ngcontent-%COMP%]{border-left:5px solid #C9A24D}.notification-detail[_ngcontent-%COMP%]   .notification-card.type-verification[_ngcontent-%COMP%]{border-left:5px solid #F59E0B}.notification-detail[_ngcontent-%COMP%]   .notification-card.type-general[_ngcontent-%COMP%]{border-left:5px solid rgba(14,58,93,.5)}.notification-detail[_ngcontent-%COMP%]   .notification-card[_ngcontent-%COMP%]   .notification-header[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:32px;margin-bottom:64px;padding-bottom:32px;border-bottom:2px solid rgba(14,58,93,.1)}.notification-detail[_ngcontent-%COMP%]   .notification-card[_ngcontent-%COMP%]   .notification-header[_ngcontent-%COMP%]   .notification-icon-wrapper[_ngcontent-%COMP%]{flex-shrink:0}.notification-detail[_ngcontent-%COMP%]   .notification-card[_ngcontent-%COMP%]   .notification-header[_ngcontent-%COMP%]   .notification-icon[_ngcontent-%COMP%]{width:70px;height:70px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:2rem;transition:all .3s ease}.notification-detail[_ngcontent-%COMP%]   .notification-card[_ngcontent-%COMP%]   .notification-header[_ngcontent-%COMP%]   .notification-icon.type-approval[_ngcontent-%COMP%]{background:#16a34a1a;color:#16a34a}.notification-detail[_ngcontent-%COMP%]   .notification-card[_ngcontent-%COMP%]   .notification-header[_ngcontent-%COMP%]   .notification-icon.type-rejection[_ngcontent-%COMP%]{background:#dc26261a;color:#dc2626}.notification-detail[_ngcontent-%COMP%]   .notification-card[_ngcontent-%COMP%]   .notification-header[_ngcontent-%COMP%]   .notification-icon.type-status[_ngcontent-%COMP%]{background:#c9a24d1a;color:#c9a24d}.notification-detail[_ngcontent-%COMP%]   .notification-card[_ngcontent-%COMP%]   .notification-header[_ngcontent-%COMP%]   .notification-icon.type-verification[_ngcontent-%COMP%]{background:#f59e0b1a;color:#f59e0b}.notification-detail[_ngcontent-%COMP%]   .notification-card[_ngcontent-%COMP%]   .notification-header[_ngcontent-%COMP%]   .notification-icon.type-general[_ngcontent-%COMP%]{background:#0e3a5d1a;color:#0e3a5d}.notification-detail[_ngcontent-%COMP%]   .notification-card[_ngcontent-%COMP%]   .notification-header[_ngcontent-%COMP%]   .notification-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:2rem}.notification-detail[_ngcontent-%COMP%]   .notification-card[_ngcontent-%COMP%]   .notification-header[_ngcontent-%COMP%]   .notification-meta[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;gap:8px}.notification-detail[_ngcontent-%COMP%]   .notification-card[_ngcontent-%COMP%]   .notification-header[_ngcontent-%COMP%]   .notification-meta[_ngcontent-%COMP%]   .notification-type-badge[_ngcontent-%COMP%]{display:inline-flex;align-items:center;padding:4px 16px;border-radius:8px;font-size:.85rem;font-weight:600;width:fit-content}.notification-detail[_ngcontent-%COMP%]   .notification-card[_ngcontent-%COMP%]   .notification-header[_ngcontent-%COMP%]   .notification-meta[_ngcontent-%COMP%]   .notification-type-badge.type-approval[_ngcontent-%COMP%]{background:#16a34a1a;color:#16a34a}.notification-detail[_ngcontent-%COMP%]   .notification-card[_ngcontent-%COMP%]   .notification-header[_ngcontent-%COMP%]   .notification-meta[_ngcontent-%COMP%]   .notification-type-badge.type-rejection[_ngcontent-%COMP%]{background:#dc26261a;color:#dc2626}.notification-detail[_ngcontent-%COMP%]   .notification-card[_ngcontent-%COMP%]   .notification-header[_ngcontent-%COMP%]   .notification-meta[_ngcontent-%COMP%]   .notification-type-badge.type-status[_ngcontent-%COMP%]{background:#c9a24d1a;color:#c9a24d}.notification-detail[_ngcontent-%COMP%]   .notification-card[_ngcontent-%COMP%]   .notification-header[_ngcontent-%COMP%]   .notification-meta[_ngcontent-%COMP%]   .notification-type-badge.type-verification[_ngcontent-%COMP%]{background:#f59e0b1a;color:#f59e0b}.notification-detail[_ngcontent-%COMP%]   .notification-card[_ngcontent-%COMP%]   .notification-header[_ngcontent-%COMP%]   .notification-meta[_ngcontent-%COMP%]   .notification-type-badge.type-general[_ngcontent-%COMP%]{background:#0e3a5d1a;color:#0e3a5d}.notification-detail[_ngcontent-%COMP%]   .notification-card[_ngcontent-%COMP%]   .notification-header[_ngcontent-%COMP%]   .notification-meta[_ngcontent-%COMP%]   .notification-time[_ngcontent-%COMP%]{display:flex;align-items:center;gap:4px;color:#0f172a99;font-size:.9rem}.notification-detail[_ngcontent-%COMP%]   .notification-card[_ngcontent-%COMP%]   .notification-header[_ngcontent-%COMP%]   .notification-meta[_ngcontent-%COMP%]   .notification-time[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.8rem}.notification-detail[_ngcontent-%COMP%]   .notification-card[_ngcontent-%COMP%]   .notification-content[_ngcontent-%COMP%]{margin-bottom:64px}.notification-detail[_ngcontent-%COMP%]   .notification-card[_ngcontent-%COMP%]   .notification-content[_ngcontent-%COMP%]   .notification-title[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;color:#0e3a5d;margin-bottom:32px;font-family:Cairo,sans-serif;line-height:1.3}.notification-detail[_ngcontent-%COMP%]   .notification-card[_ngcontent-%COMP%]   .notification-content[_ngcontent-%COMP%]   .notification-message[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.1rem;line-height:1.8;color:#0f172acc;margin:0;white-space:pre-wrap;word-wrap:break-word}.notification-detail[_ngcontent-%COMP%]   .notification-card[_ngcontent-%COMP%]   .notification-footer[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding-top:32px;border-top:2px solid rgba(14,58,93,.1)}.notification-detail[_ngcontent-%COMP%]   .notification-card[_ngcontent-%COMP%]   .notification-footer[_ngcontent-%COMP%]   .notification-status[_ngcontent-%COMP%]   .status-badge[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:4px;padding:4px 16px;border-radius:8px;font-size:.85rem;font-weight:600}.notification-detail[_ngcontent-%COMP%]   .notification-card[_ngcontent-%COMP%]   .notification-footer[_ngcontent-%COMP%]   .notification-status[_ngcontent-%COMP%]   .status-badge.read[_ngcontent-%COMP%]{background:#16a34a1a;color:#16a34a}.notification-detail[_ngcontent-%COMP%]   .notification-card[_ngcontent-%COMP%]   .notification-footer[_ngcontent-%COMP%]   .notification-status[_ngcontent-%COMP%]   .status-badge.unread[_ngcontent-%COMP%]{background:#c9a24d1a;color:#c9a24d}.notification-detail[_ngcontent-%COMP%]   .notification-card[_ngcontent-%COMP%]   .notification-footer[_ngcontent-%COMP%]   .notification-status[_ngcontent-%COMP%]   .status-badge[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.7rem}.notification-detail[_ngcontent-%COMP%]   .notification-card[_ngcontent-%COMP%]   .notification-footer[_ngcontent-%COMP%]   .notification-actions[_ngcontent-%COMP%]   .btn-delete[_ngcontent-%COMP%]{padding:8px 16px;background:#dc26261a;color:#dc2626;border:1px solid rgba(220,38,38,.3);border-radius:8px;font-weight:600;font-size:.9rem;cursor:pointer;transition:all .3s ease;display:flex;align-items:center;gap:4px}.notification-detail[_ngcontent-%COMP%]   .notification-card[_ngcontent-%COMP%]   .notification-footer[_ngcontent-%COMP%]   .notification-actions[_ngcontent-%COMP%]   .btn-delete[_ngcontent-%COMP%]:hover{background:#dc262633;border-color:#dc262666;transform:translateY(-2px);box-shadow:0 1px 2px #0000001a}.notification-detail[_ngcontent-%COMP%]   .notification-card[_ngcontent-%COMP%]   .notification-footer[_ngcontent-%COMP%]   .notification-actions[_ngcontent-%COMP%]   .btn-delete[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.85rem}@media (max-width: 767.98px){.notification-detail[_ngcontent-%COMP%]{padding:32px 0}.notification-detail[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{padding:0 16px}.notification-detail[_ngcontent-%COMP%]   .notification-card[_ngcontent-%COMP%]{padding:32px}.notification-detail[_ngcontent-%COMP%]   .notification-card[_ngcontent-%COMP%]   .notification-header[_ngcontent-%COMP%]{flex-direction:column;align-items:center;text-align:center;gap:16px}.notification-detail[_ngcontent-%COMP%]   .notification-card[_ngcontent-%COMP%]   .notification-header[_ngcontent-%COMP%]   .notification-meta[_ngcontent-%COMP%]{align-items:center}.notification-detail[_ngcontent-%COMP%]   .notification-card[_ngcontent-%COMP%]   .notification-content[_ngcontent-%COMP%]   .notification-title[_ngcontent-%COMP%]{font-size:1.5rem}.notification-detail[_ngcontent-%COMP%]   .notification-card[_ngcontent-%COMP%]   .notification-content[_ngcontent-%COMP%]   .notification-message[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem}.notification-detail[_ngcontent-%COMP%]   .notification-card[_ngcontent-%COMP%]   .notification-footer[_ngcontent-%COMP%]{flex-direction:column;gap:16px;align-items:stretch}.notification-detail[_ngcontent-%COMP%]   .notification-card[_ngcontent-%COMP%]   .notification-footer[_ngcontent-%COMP%]   .notification-actions[_ngcontent-%COMP%]   .btn-delete[_ngcontent-%COMP%]{width:100%;justify-content:center}}"]})};var so=class n{constructor(t,e){this.database=t;this.injector=e}createCourse(t){return se(()=>X(this.injector,()=>{let e=pe(this.database,"courses"),i=oe(B({},t),{createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()});return ee(Ui(e,i)).pipe(H(r=>r.key||""))}))}getCourse(t){return se(()=>X(this.injector,()=>{let e=pe(this.database,`courses/${t}`);return new ie(i=>{$t(e,r=>{r.exists()?i.next(B({id:t},r.val())):i.next(null)},r=>{i.error(r)})})}))}getAllCourses(){return se(()=>X(this.injector,()=>{let t=pe(this.database,"courses");return new ie(e=>{$t(t,i=>{if(!i.exists()){e.next([]);return}let r=i.val(),o=Object.keys(r).map(s=>B({id:s},r[s]));o.sort((s,a)=>new Date(a.createdAt).getTime()-new Date(s.createdAt).getTime()),e.next(o)},i=>{e.error(i)})})}))}getPublishedCourses(){return se(()=>X(this.injector,()=>{let t=pe(this.database,"courses");return ee(Cr(t)).pipe(H(e=>{if(!e.exists())return[];let i=e.val(),o=Object.keys(i).map(s=>B({id:s},i[s])).filter(s=>s.published===!0);return o.sort((s,a)=>new Date(a.createdAt).getTime()-new Date(s.createdAt).getTime()),o}))}))}getCoursesByCategory(t){return se(()=>X(this.injector,()=>{let e=pe(this.database,"courses"),i=$i(e,ji("category"),Xa(t));return new ie(r=>{$t(i,o=>{if(!o.exists()){r.next([]);return}let s=o.val(),a=Object.keys(s).map(c=>B({id:c},s[c]));a.sort((c,l)=>new Date(l.createdAt).getTime()-new Date(c.createdAt).getTime()),r.next(a)},o=>{r.error(o)})})}))}getCoursesByPrivacy(t){return se(()=>X(this.injector,()=>{let e=pe(this.database,"courses"),i=$i(e,ji("Privacy"),Xa(t));return new ie(r=>{$t(i,o=>{if(!o.exists()){r.next([]);return}let s=o.val(),a=Object.keys(s).map(c=>B({id:c},s[c]));a.sort((c,l)=>new Date(l.createdAt).getTime()-new Date(c.createdAt).getTime()),r.next(a)},o=>{r.error(o)})})}))}updateCourse(t,e){return se(()=>X(this.injector,()=>{let i=pe(this.database,`courses/${t}`),r=oe(B({},e),{updatedAt:new Date().toISOString()});return ee(ii(i,r))}))}publishCourse(t){return this.updateCourse(t,{published:!0})}unpublishCourse(t){return this.updateCourse(t,{published:!1})}deleteCourse(t){return se(()=>X(this.injector,()=>{let e=pe(this.database,`courses/${t}`);return ee(Wn(e))}))}static \u0275fac=function(e){return new(e||n)(W(xn),W(De))};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})};var kX=n=>["/course",n];function RX(n,t){if(n&1&&(f(0,"option",19),_(1),v(2,"translate"),h()),n&2){let e=t.$implicit,i=x();O("value",e),d(),M(" ",y(2,2,i.getCategoryName(e))," ")}}function NX(n,t){if(n&1&&(f(0,"option",19),_(1),v(2,"translate"),h()),n&2){let e=t.$implicit,i=x();O("value",e),d(),M(" ",y(2,2,i.getPrivacyName(e))," ")}}function LX(n,t){n&1&&(f(0,"div",20)(1,"div",2)(2,"div",21)(3,"div",22)(4,"span",23),_(5),v(6,"translate"),h()(),f(7,"p",24),_(8),v(9,"translate"),h()()()()),n&2&&(d(5),I(y(6,2,"courses.loading")),d(3),I(y(9,4,"courses.loadingCourses")))}function FX(n,t){n&1&&(f(0,"div",25)(1,"div",2)(2,"div",21),w(3,"i",26),f(4,"h3"),_(5),v(6,"translate"),h(),f(7,"p",27),_(8),v(9,"translate"),h()()()()),n&2&&(d(5),I(y(6,2,"courses.noCourses")),d(3),I(y(9,4,"courses.noCoursesDescription")))}function BX(n,t){if(n&1&&w(0,"img",49),n&2){let e=x().$implicit;O("src",e.thumbnail,it)("alt",e.title)}}function zX(n,t){n&1&&(f(0,"div",50),w(1,"i",51),h())}function VX(n,t){if(n&1&&(f(0,"div",32)(1,"div",33)(2,"div",34),J(3,BX,1,2,"img",35)(4,zX,2,0,"div",36),f(5,"span",37),w(6,"i",38),_(7),v(8,"translate"),h()(),f(9,"div",39)(10,"h3",40),_(11),h(),f(12,"p",41),_(13),v(14,"slice"),h(),f(15,"div",42)(16,"span",43),w(17,"i",44),_(18),v(19,"translate"),h(),f(20,"span",43),w(21,"i",45),_(22),v(23,"translate"),h()()(),f(24,"div",46)(25,"a",47),w(26,"i",48),_(27),v(28,"translate"),h()()()()),n&2){let e=t.$implicit,i=x(2);d(3),O("ngIf",e.thumbnail),d(),O("ngIf",!e.thumbnail),d(),U("free",e.Privacy==="free")("premium",e.Privacy==="premium"),d(),U("fa-unlock",e.Privacy==="free")("fa-lock",e.Privacy==="premium"),d(),M(" ",y(8,19,i.getPrivacyName(e.Privacy))," "),d(4),I(e.title),d(2),Ct("",jd(14,21,e.description,0,120),"",e.description.length>120?"...":""),d(5),M(" ",y(19,25,i.getCategoryName(e.category))," "),d(4),Ct(" ",e.duration," ",y(23,27,"courses.hours")," "),d(3),O("routerLink",ar(31,kX,e.id)),d(2),M(" ",y(28,29,"courses.viewCourse")," ")}}function jX(n,t){if(n&1&&(f(0,"div",28)(1,"div",2)(2,"div",29)(3,"div",30),J(4,VX,29,33,"div",31),h()()()()),n&2){let e=x();d(4),O("ngForOf",e.filteredCourses)}}var c0=class n{constructor(t){this.coursesService=t}courses=[];filteredCourses=[];isLoading=!1;searchQuery="";selectedCategory="all";selectedPrivacy="all";categories=["programming","design","marketing","business","technology","health","education","other"];privacyTypes=["free","premium"];destroy$=new le;ngOnInit(){this.loadCourses()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}loadCourses(){this.isLoading=!0,this.coursesService.getPublishedCourses().pipe(ne(this.destroy$)).subscribe({next:t=>{this.courses=t,this.applyFilters(),this.isLoading=!1},error:t=>{console.error("Error loading courses:",t),this.courses=[],this.filteredCourses=[],this.isLoading=!1}})}applyFilters(){let t=[...this.courses];if(this.searchQuery.trim()){let e=this.searchQuery.toLowerCase().trim();t=t.filter(i=>i.title.toLowerCase().includes(e)||i.description.toLowerCase().includes(e))}this.selectedCategory!=="all"&&(t=t.filter(e=>e.category===this.selectedCategory)),this.selectedPrivacy!=="all"&&(t=t.filter(e=>e.Privacy===this.selectedPrivacy)),this.filteredCourses=t}getCategoryName(t){return`courses.categories.${t}`}getPrivacyName(t){return t==="free"?"courses.privacy.free":"courses.privacy.premium"}static \u0275fac=function(e){return new(e||n)(A(so))};static \u0275cmp=de({type:n,selectors:[["app-courses"]],decls:34,vars:23,consts:[[1,"courses-page"],[1,"page-header"],[1,"container"],[1,"page-title"],[1,"fas","fa-graduation-cap"],[1,"page-subtitle"],[1,"filters-section"],[1,"row","g-3"],[1,"col-12","col-md-4"],["dir","ltr",1,"input-group"],[1,"input-group-text"],[1,"fas","fa-search"],["type","text",1,"form-control",3,"ngModelChange","ngModel","placeholder"],[1,"form-select",3,"ngModelChange","ngModel"],["value","all"],[3,"value",4,"ngFor","ngForOf"],["class","loading-state",4,"ngIf"],["class","empty-state",4,"ngIf"],["class","courses-section",4,"ngIf"],[3,"value"],[1,"loading-state"],[1,"text-center","py-5"],["role","status",1,"spinner-border","text-primary"],[1,"visually-hidden"],[1,"mt-3"],[1,"empty-state"],[1,"fas","fa-book-open","empty-icon"],[1,"text-muted"],[1,"courses-section"],[1,"courses-grid"],[1,"row","g-4"],["class","col-12 col-md-6 col-lg-4",4,"ngFor","ngForOf"],[1,"col-12","col-md-6","col-lg-4"],[1,"course-card"],[1,"course-thumbnail"],[3,"src","alt",4,"ngIf"],["class","thumbnail-placeholder",4,"ngIf"],[1,"privacy-badge"],[1,"fas"],[1,"course-info"],[1,"course-title"],[1,"course-description"],[1,"course-meta"],[1,"meta-item"],[1,"fas","fa-tag"],[1,"fas","fa-clock"],[1,"course-actions"],[1,"btn","btn-primary","btn-block",3,"routerLink"],[1,"fas","fa-eye"],[3,"src","alt"],[1,"thumbnail-placeholder"],[1,"fas","fa-book"]],template:function(e,i){e&1&&(f(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3),w(4,"i",4),_(5),v(6,"translate"),h(),f(7,"p",5),_(8),v(9,"translate"),h()()(),f(10,"div",6)(11,"div",2)(12,"div",7)(13,"div",8)(14,"div",9)(15,"span",10),w(16,"i",11),h(),f(17,"input",12),v(18,"translate"),sr("ngModelChange",function(o){return zr(i.searchQuery,o)||(i.searchQuery=o),o}),z("ngModelChange",function(){return i.applyFilters()}),h()()(),f(19,"div",8)(20,"select",13),sr("ngModelChange",function(o){return zr(i.selectedCategory,o)||(i.selectedCategory=o),o}),z("ngModelChange",function(){return i.applyFilters()}),f(21,"option",14),_(22),v(23,"translate"),h(),J(24,RX,3,4,"option",15),h()(),f(25,"div",8)(26,"select",13),sr("ngModelChange",function(o){return zr(i.selectedPrivacy,o)||(i.selectedPrivacy=o),o}),z("ngModelChange",function(){return i.applyFilters()}),f(27,"option",14),_(28),v(29,"translate"),h(),J(30,NX,3,4,"option",15),h()()()()(),J(31,LX,10,6,"div",16)(32,FX,10,6,"div",17)(33,jX,5,1,"div",18),h()),e&2&&(d(5),M(" ",y(6,13,"courses.title")," "),d(3),I(y(9,15,"courses.subtitle")),d(9),or("ngModel",i.searchQuery),O("placeholder",y(18,17,"courses.searchPlaceholder")),d(3),or("ngModel",i.selectedCategory),d(2),I(y(23,19,"courses.allCategories")),d(2),O("ngForOf",i.categories),d(2),or("ngModel",i.selectedPrivacy),d(2),I(y(29,21,"courses.allTypes")),d(2),O("ngForOf",i.privacyTypes),d(),O("ngIf",i.isLoading),d(),O("ngIf",!i.isLoading&&i.filteredCourses.length===0),d(),O("ngIf",!i.isLoading&&i.filteredCourses.length>0))},dependencies:[ge,Nn,wn,ke,Ue,me,Z_,ri,oi,Mt,Fn,kt,kf,qd,ve],styles:[".courses-page[_ngcontent-%COMP%]{min-height:100vh;background:linear-gradient(135deg,#c9a24d05,#0e3a5d05)}.courses-page[_ngcontent-%COMP%]   .page-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#c9a24d,#0e3a5d);color:#fff;padding:128px 32px;text-align:center}.courses-page[_ngcontent-%COMP%]   .page-header[_ngcontent-%COMP%]   .page-title[_ngcontent-%COMP%]{font-size:2.5rem;font-weight:700;margin:0 0 16px;display:flex;align-items:center;justify-content:center;gap:16px;font-family:Cairo,sans-serif}.courses-page[_ngcontent-%COMP%]   .page-header[_ngcontent-%COMP%]   .page-title[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:2.5rem}.courses-page[_ngcontent-%COMP%]   .page-header[_ngcontent-%COMP%]   .page-subtitle[_ngcontent-%COMP%]{font-size:1.1rem;opacity:.9;margin:0}.courses-page[_ngcontent-%COMP%]   .filters-section[_ngcontent-%COMP%]{background:#fff;padding:32px;box-shadow:0 1px 2px #0000001a;border-bottom:1px solid rgba(14,58,93,.1)}.courses-page[_ngcontent-%COMP%]   .filters-section[_ngcontent-%COMP%]   .input-group-text[_ngcontent-%COMP%]{background:#c9a24d0d;border-color:#0e3a5d33;color:#c9a24d}.courses-page[_ngcontent-%COMP%]   .filters-section[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%], .courses-page[_ngcontent-%COMP%]   .filters-section[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%]{border-color:#0e3a5d33;transition:border-color .2s,box-shadow .2s}.courses-page[_ngcontent-%COMP%]   .filters-section[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:focus, .courses-page[_ngcontent-%COMP%]   .filters-section[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%]:focus{border-color:#c9a24d;box-shadow:0 0 0 .2rem #c9a24d40}.courses-page[_ngcontent-%COMP%]   .loading-state[_ngcontent-%COMP%], .courses-page[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]{padding:128px 0}.courses-page[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   .empty-icon[_ngcontent-%COMP%]{font-size:5rem;color:#c9a24d4d;margin-bottom:32px}.courses-page[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#0e3a5d;margin-bottom:16px}.courses-page[_ngcontent-%COMP%]   .courses-section[_ngcontent-%COMP%]{padding:64px 0}.courses-page[_ngcontent-%COMP%]   .courses-section[_ngcontent-%COMP%]   .courses-grid[_ngcontent-%COMP%]   .course-card[_ngcontent-%COMP%]{background:#fff;border-radius:16px;box-shadow:0 4px 8px #00000026;overflow:hidden;transition:transform .3s,box-shadow .3s;height:100%;display:flex;flex-direction:column}.courses-page[_ngcontent-%COMP%]   .courses-section[_ngcontent-%COMP%]   .courses-grid[_ngcontent-%COMP%]   .course-card[_ngcontent-%COMP%]:hover{transform:translateY(-8px);box-shadow:0 8px 16px #0003}.courses-page[_ngcontent-%COMP%]   .courses-section[_ngcontent-%COMP%]   .courses-grid[_ngcontent-%COMP%]   .course-card[_ngcontent-%COMP%]   .course-thumbnail[_ngcontent-%COMP%]{position:relative;width:100%;height:220px;overflow:hidden;background:linear-gradient(135deg,#c9a24d1a,#0e3a5d1a)}.courses-page[_ngcontent-%COMP%]   .courses-section[_ngcontent-%COMP%]   .courses-grid[_ngcontent-%COMP%]   .course-card[_ngcontent-%COMP%]   .course-thumbnail[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;transition:transform .3s}.courses-page[_ngcontent-%COMP%]   .courses-section[_ngcontent-%COMP%]   .courses-grid[_ngcontent-%COMP%]   .course-card[_ngcontent-%COMP%]   .course-thumbnail[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{transform:scale(1.05)}.courses-page[_ngcontent-%COMP%]   .courses-section[_ngcontent-%COMP%]   .courses-grid[_ngcontent-%COMP%]   .course-card[_ngcontent-%COMP%]   .course-thumbnail[_ngcontent-%COMP%]   .thumbnail-placeholder[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;align-items:center;justify-content:center;background:linear-gradient(135deg,#c9a24d1a,#0e3a5d1a)}.courses-page[_ngcontent-%COMP%]   .courses-section[_ngcontent-%COMP%]   .courses-grid[_ngcontent-%COMP%]   .course-card[_ngcontent-%COMP%]   .course-thumbnail[_ngcontent-%COMP%]   .thumbnail-placeholder[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:4rem;color:#c9a24d4d}.courses-page[_ngcontent-%COMP%]   .courses-section[_ngcontent-%COMP%]   .courses-grid[_ngcontent-%COMP%]   .course-card[_ngcontent-%COMP%]   .course-thumbnail[_ngcontent-%COMP%]   .privacy-badge[_ngcontent-%COMP%]{position:absolute;top:8px;right:8px;padding:4px 8px;border-radius:8px;font-size:.75rem;font-weight:600;display:flex;align-items:center;gap:4px;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}.courses-page[_ngcontent-%COMP%]   .courses-section[_ngcontent-%COMP%]   .courses-grid[_ngcontent-%COMP%]   .course-card[_ngcontent-%COMP%]   .course-thumbnail[_ngcontent-%COMP%]   .privacy-badge.free[_ngcontent-%COMP%]{background:#16a34ae6;color:#fff}.courses-page[_ngcontent-%COMP%]   .courses-section[_ngcontent-%COMP%]   .courses-grid[_ngcontent-%COMP%]   .course-card[_ngcontent-%COMP%]   .course-thumbnail[_ngcontent-%COMP%]   .privacy-badge.premium[_ngcontent-%COMP%]{background:#f59e0be6;color:#fff}.courses-page[_ngcontent-%COMP%]   .courses-section[_ngcontent-%COMP%]   .courses-grid[_ngcontent-%COMP%]   .course-card[_ngcontent-%COMP%]   .course-info[_ngcontent-%COMP%]{padding:32px;flex:1;display:flex;flex-direction:column}.courses-page[_ngcontent-%COMP%]   .courses-section[_ngcontent-%COMP%]   .courses-grid[_ngcontent-%COMP%]   .course-card[_ngcontent-%COMP%]   .course-info[_ngcontent-%COMP%]   .course-title[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:700;color:#0e3a5d;margin:0 0 8px;line-height:1.4;min-height:3.5rem}.courses-page[_ngcontent-%COMP%]   .courses-section[_ngcontent-%COMP%]   .courses-grid[_ngcontent-%COMP%]   .course-card[_ngcontent-%COMP%]   .course-info[_ngcontent-%COMP%]   .course-description[_ngcontent-%COMP%]{color:#0e3a5db3;font-size:.9rem;line-height:1.6;margin:0 0 16px;flex:1}.courses-page[_ngcontent-%COMP%]   .courses-section[_ngcontent-%COMP%]   .courses-grid[_ngcontent-%COMP%]   .course-card[_ngcontent-%COMP%]   .course-info[_ngcontent-%COMP%]   .course-meta[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:16px;margin-top:auto}.courses-page[_ngcontent-%COMP%]   .courses-section[_ngcontent-%COMP%]   .courses-grid[_ngcontent-%COMP%]   .course-card[_ngcontent-%COMP%]   .course-info[_ngcontent-%COMP%]   .course-meta[_ngcontent-%COMP%]   .meta-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:4px;font-size:.85rem;color:#0e3a5d99}.courses-page[_ngcontent-%COMP%]   .courses-section[_ngcontent-%COMP%]   .courses-grid[_ngcontent-%COMP%]   .course-card[_ngcontent-%COMP%]   .course-info[_ngcontent-%COMP%]   .course-meta[_ngcontent-%COMP%]   .meta-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#c9a24d}.courses-page[_ngcontent-%COMP%]   .courses-section[_ngcontent-%COMP%]   .courses-grid[_ngcontent-%COMP%]   .course-card[_ngcontent-%COMP%]   .course-actions[_ngcontent-%COMP%]{padding:0 32px 32px}.courses-page[_ngcontent-%COMP%]   .courses-section[_ngcontent-%COMP%]   .courses-grid[_ngcontent-%COMP%]   .course-card[_ngcontent-%COMP%]   .course-actions[_ngcontent-%COMP%]   .btn-block[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center;justify-content:center;gap:8px;padding:16px;font-weight:600;border-radius:8px}@media (max-width: 767.98px){.courses-page[_ngcontent-%COMP%]   .page-header[_ngcontent-%COMP%]{padding:64px 16px}.courses-page[_ngcontent-%COMP%]   .page-header[_ngcontent-%COMP%]   .page-title[_ngcontent-%COMP%], .courses-page[_ngcontent-%COMP%]   .page-header[_ngcontent-%COMP%]   .page-title[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:2rem}.courses-page[_ngcontent-%COMP%]   .filters-section[_ngcontent-%COMP%]{padding:16px}}"]})};var fP=li(si());var qi=class n{constructor(t,e){this.database=t;this.injector=e}createSection(t,e){return se(()=>X(this.injector,()=>{let i=pe(this.database,`courses/${t}/sections`),r=oe(B({},e),{courseId:t});return ee(Ui(i,r)).pipe(H(o=>o.key||""))}))}getSectionsByCourse(t){return se(()=>X(this.injector,()=>{let e=pe(this.database,`courses/${t}/sections`),i=$i(e,ji("order"));return ee(Cr(i)).pipe(H(r=>{if(!r.exists())return[];let o=r.val(),s=Object.keys(o).map(a=>B({id:a},o[a]));return s.sort((a,c)=>a.order-c.order),s}))}))}getSection(t,e){return se(()=>X(this.injector,()=>{let i=pe(this.database,`courses/${t}/sections/${e}`);return ee(Cr(i)).pipe(H(r=>r.exists()?B({id:e},r.val()):null))}))}updateSection(t,e,i){return se(()=>X(this.injector,()=>{let r=pe(this.database,`courses/${t}/sections/${e}`);return ee(ii(r,i))}))}deleteSection(t,e){return se(()=>X(this.injector,()=>{let i=pe(this.database,`courses/${t}/sections/${e}`);return ee(Wn(i))}))}createLesson(t,e,i){return se(()=>X(this.injector,()=>{let r=pe(this.database,`courses/${t}/sections/${e}/lessons`),o=oe(B({},i),{courseId:t,sectionId:e,createdAt:new Date().toISOString()});return ee(Ui(r,o)).pipe(H(s=>s.key||""))}))}getLessonsBySection(t,e){return se(()=>X(this.injector,()=>{let i=pe(this.database,`courses/${t}/sections/${e}/lessons`),r=$i(i,ji("order"));return ee(Cr(r)).pipe(H(o=>{if(!o.exists())return[];let s=o.val(),a=Object.keys(s).map(c=>B({id:c},s[c]));return a.sort((c,l)=>c.order-l.order),a}))}))}getLessonsByCourse(t){return this.getSectionsByCourse(t).pipe(we(e=>{if(e.length===0)return $([]);let i=e.map(r=>this.getLessonsBySection(t,r.id));return Vt(i).pipe(H(r=>{let o=r.flat();return o.sort((s,a)=>s.order-a.order),o}))}))}getLesson(t,e,i){return se(()=>X(this.injector,()=>{let r=pe(this.database,`courses/${t}/sections/${e}/lessons/${i}`);return ee(Cr(r)).pipe(H(o=>o.exists()?B({id:i},o.val()):null))}))}updateLesson(t,e,i,r){return se(()=>X(this.injector,()=>{let o=pe(this.database,`courses/${t}/sections/${e}/lessons/${i}`);return ee(ii(o,r))}))}attachVideoToLesson(t,e,i,r){return this.updateLesson(t,e,i,{video:r})}attachPdfToLesson(t,e,i,r){return this.updateLesson(t,e,i,{pdf:r})}attachQuizToLesson(t,e,i,r){return this.updateLesson(t,e,i,{quizId:r})}deleteLesson(t,e,i){return se(()=>X(this.injector,()=>{let r=pe(this.database,`courses/${t}/sections/${e}/lessons/${i}`);return ee(Wn(r))}))}static \u0275fac=function(e){return new(e||n)(W(xn),W(De))};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})};var Gl=class n{constructor(t,e){this.database=t;this.injector=e}createQuiz(t,e){return se(()=>X(this.injector,()=>{let i=pe(this.database,"quizzes"),r=oe(B({},e),{lessonId:t,createdAt:new Date().toISOString()});return ee(Ui(i,r)).pipe(H(o=>o.key||""))}))}getQuiz(t){return se(()=>X(this.injector,()=>{let e=pe(this.database,`quizzes/${t}`);return new ie(i=>{$t(e,r=>{if(r.exists()){let o=r.val(),{questions:a}=o,c=sc(o,["questions"]);i.next(B({id:t},c))}else i.next(null)},r=>{i.error(r)})})}))}getQuizByLesson(t){return se(()=>X(this.injector,()=>{let e=pe(this.database,"quizzes"),i=$i(e,ji("lessonId"),Xa(t));return new ie(r=>{$t(i,o=>{if(!o.exists()){r.next(null);return}let s=o.val(),a=Object.keys(s)[0],g=s[a],{questions:l}=g,m=sc(g,["questions"]);r.next(B({id:a},m))},o=>{r.error(o)})})}))}updateQuiz(t,e){return se(()=>X(this.injector,()=>{let i=pe(this.database,`quizzes/${t}`);return ee(ii(i,e))}))}deleteQuiz(t){return se(()=>X(this.injector,()=>{let e=pe(this.database,`quizzes/${t}`);return ee(Wn(e))}))}createQuestion(t,e){return se(()=>X(this.injector,()=>{let i=pe(this.database,`quizzes/${t}/questions`),r=oe(B({},e),{quizId:t});return ee(Ui(i,r)).pipe(H(o=>o.key||""))}))}getQuestionsByQuiz(t){return se(()=>X(this.injector,()=>{let e=pe(this.database,`quizzes/${t}/questions`),i=$i(e,ji("order"));return new ie(r=>{$t(i,o=>{if(!o.exists()){r.next([]);return}let s=o.val(),a=Object.keys(s).map(c=>B({id:c},s[c]));a.sort((c,l)=>c.order-l.order),r.next(a)},o=>{r.error(o)})})}))}getQuestion(t,e){return se(()=>X(this.injector,()=>{let i=pe(this.database,`quizzes/${t}/questions/${e}`);return new ie(r=>{$t(i,o=>{o.exists()?r.next(B({id:e},o.val())):r.next(null)},o=>{r.error(o)})})}))}updateQuestion(t,e,i){return se(()=>X(this.injector,()=>{let r=pe(this.database,`quizzes/${t}/questions/${e}`);return ee(ii(r,i))}))}deleteQuestion(t,e){return se(()=>X(this.injector,()=>{let i=pe(this.database,`quizzes/${t}/questions/${e}`);return ee(Wn(i))}))}calculateQuizScore(t,e){return this.getQuestionsByQuiz(t).pipe(H(i=>{let r=0,o=i.length;i.forEach(a=>{if(a.id&&e[a.id]!==void 0){let c=e[a.id],l=a.options[c];l&&l.correct&&r++}});let s=o>0?Math.round(r/o*100):0;return{score:r,total:o,percentage:s,passed:!1}}),we(i=>this.getQuiz(t).pipe(H(r=>{if(!r)return oe(B({},i),{passed:!1});let o=r.passingScore||60;return oe(B({},i),{passingScore:o,passed:i.percentage>=o})}))))}static \u0275fac=function(e){return new(e||n)(W(xn),W(De))};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})};function UX(n,t){n&1&&(f(0,"div",3)(1,"div",4)(2,"div",5)(3,"div",6)(4,"span",7),_(5),v(6,"translate"),h()(),f(7,"p",8),_(8),v(9,"translate"),h()()()()),n&2&&(d(5),I(y(6,2,"courses.loading")),d(3),I(y(9,4,"courses.loadingCourse")))}function $X(n,t){if(n&1&&w(0,"img",28),n&2){let e=x(2);O("src",e.course.thumbnail,it)("alt",e.course.title)}}function HX(n,t){n&1&&(f(0,"div",29),w(1,"i",30),h())}function qX(n,t){if(n&1&&(f(0,"div",31)(1,"h5",32),_(2),v(3,"translate"),h(),f(4,"div",33),w(5,"iframe",34),h()()),n&2){let e=x(2);d(2),I(y(3,2,"courses.introVideo")),d(3),O("src",e.introVideoUrl,kd)}}function WX(n,t){n&1&&(f(0,"div",37),w(1,"i",38),f(2,"h4"),_(3),v(4,"translate"),h(),f(5,"p",39),_(6),v(7,"translate"),h()()),n&2&&(d(3),I(y(4,2,"courses.noContent")),d(3),I(y(7,4,"courses.noContentDescription")))}function GX(n,t){if(n&1&&(f(0,"div",54)(1,"div",55),w(2,"iframe",56),h()()),n&2){let e=x().$implicit,i=x(4);d(2),O("src",i.getLessonVideoUrl(e.id),kd)}}function KX(n,t){if(n&1&&(f(0,"div",57)(1,"a",58),w(2,"i",59),_(3),v(4,"translate"),h()()),n&2){let e=x().$implicit;d(),O("href",e.pdf.url,it),d(2),M(" ",y(4,2,"courses.viewPdf")," ")}}function QX(n,t){n&1&&(f(0,"div",60)(1,"div",61),w(2,"i",62),_(3),v(4,"translate"),h()()),n&2&&(d(3),M(" ",y(4,1,"courses.hasQuiz")," "))}function YX(n,t){if(n&1&&(f(0,"div",46)(1,"div",47)(2,"div",48)(3,"h5",49),w(4,"i",24),_(5),h(),f(6,"div",50),J(7,GX,3,1,"div",51)(8,KX,5,4,"div",52),h(),J(9,QX,5,3,"div",53),h()()()),n&2){let e=t.$implicit,i=x(4);d(4),U("fa-video",e.type==="video")("fa-file-pdf",e.type==="pdf"),d(),M(" ",e.title," "),d(2),O("ngIf",e.video&&i.getLessonVideoUrl(e.id)),d(),O("ngIf",e.pdf),d(),O("ngIf",i.getQuizForLesson(e.id))}}function ZX(n,t){if(n&1&&(f(0,"div",40)(1,"div",41)(2,"h3",42),w(3,"i",43),_(4),h()(),f(5,"div",44),J(6,YX,10,8,"div",45),h()()),n&2){let e=t.$implicit,i=x(3);d(4),M(" ",e.title," "),d(2),O("ngForOf",i.getLessonsBySection(e.id))}}function XX(n,t){if(n&1&&(f(0,"div",26)(1,"div",4),J(2,WX,8,6,"div",35)(3,ZX,7,2,"div",36),h()()),n&2){let e=x(2);d(2),O("ngIf",e.sections.length===0),d(),O("ngForOf",e.sections)}}function JX(n,t){if(n&1){let e=ce();f(0,"div",27)(1,"div",4)(2,"div",63)(3,"div",64),w(4,"i",65),f(5,"div",66)(6,"h4"),_(7),v(8,"translate"),h(),f(9,"p"),_(10),v(11,"translate"),h()(),f(12,"button",67),z("click",function(){G(e);let r=x(2);return K(r.goToSubscriptions())}),w(13,"i",68),_(14),v(15,"translate"),h()()()()()}if(n&2){let e=x(2);d(7),I(y(8,3,"courses.subscriptionRequired")),d(3),I(y(11,5,"courses.subscriptionRequiredDescription")),d(4),M(" ",y(15,7,e.isAuthenticated?"courses.manageSubscription":"courses.loginToSubscribe")," ")}}function eJ(n,t){if(n&1&&(f(0,"div",9)(1,"div",10)(2,"div",4)(3,"div",11)(4,"div",12)(5,"div",13),J(6,$X,1,2,"img",14)(7,HX,2,0,"div",15),h()(),f(8,"div",16)(9,"div",17)(10,"h1",18),_(11),h(),f(12,"p",19),_(13),h(),f(14,"div",20)(15,"span",21),w(16,"i",22),_(17),v(18,"translate"),h(),f(19,"span",21),w(20,"i",23),_(21),v(22,"translate"),h(),f(23,"span",21),w(24,"i",24),_(25),v(26,"translate"),h()(),J(27,qX,6,4,"div",25),h()()()()(),L(28,XX,4,2,"div",26)(29,JX,16,9,"div",27),h()),n&2){let e=x();d(6),O("ngIf",e.course.thumbnail),d(),O("ngIf",!e.course.thumbnail),d(4),I(e.course.title),d(2),I(e.course.description),d(4),M(" ",y(18,18,"courses.categories."+e.course.category)," "),d(4),Ct(" ",e.course.duration," ",y(22,20,"courses.hours")," "),d(2),U("free",e.course.Privacy==="free")("premium",e.course.Privacy==="premium"),d(),U("fa-unlock",e.course.Privacy==="free")("fa-lock",e.course.Privacy==="premium"),d(),M(" ",y(26,22,e.course.Privacy==="free"?"courses.privacy.free":"courses.privacy.premium")," "),d(2),O("ngIf",e.course.introYouTubeVideo&&e.introVideoUrl),d(),F(e.hasActiveSubscription?28:29)}}var l0=class n{constructor(t,e,i,r,o,s,a,c){this.route=t;this.router=e;this.coursesService=i;this.lessonsService=r;this.quizzesService=o;this.platformSubscriptions=s;this.authService=a;this.sanitizer=c}course=null;sections=[];lessons=[];quizzes=[];isLoading=!1;hasActiveSubscription=!1;isAuthenticated=!1;currentUserId=null;introVideoUrl=null;lessonVideoUrls=new Map;destroy$=new le;ngOnInit(){this.currentUserId=this.authService.getCurrentUserId(),this.isAuthenticated=!!this.currentUserId,this.route.params.pipe(ne(this.destroy$)).subscribe(t=>{let e=t.id;e&&this.loadCourse(e)})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}loadCourse(t){this.isLoading=!0,this.resetCourseData(),this.coursesService.getCourse(t).pipe(we(e=>this.validateAndPrepareCourse(e,t)),we(e=>this.loadCourseContent(e,t)),ne(this.destroy$)).subscribe({next:()=>{this.isLoading=!1},error:e=>{console.error("Error loading course:",e),this.isLoading=!1,this.showErrorAlert()}})}resetCourseData(){this.course=null,this.sections=[],this.lessons=[],this.quizzes=[],this.introVideoUrl=null,this.lessonVideoUrls.clear(),this.hasActiveSubscription=!1}validateAndPrepareCourse(t,e){return t?t.published?(this.course=t,this.cacheIntroVideoUrl(t),this.checkSubscriptionStatus().pipe(H(i=>(this.hasActiveSubscription=i,{course:t,hasSubscription:i})))):(this.showCourseNotPublishedAlert(),this.router.navigate(["/courses"]),$(null)):(this.router.navigate(["/courses"]),$(null))}checkSubscriptionStatus(){return!this.isAuthenticated||!this.currentUserId?(console.log("User not authenticated, subscription check skipped"),$(!1)):this.platformSubscriptions.hasActiveSubscription(this.currentUserId).pipe(H(t=>(console.log(`Subscription status for user ${this.currentUserId}:`,t),t)),Ge(t=>(console.error("Error checking subscription status:",t),$(!1))))}cacheIntroVideoUrl(t){t.introYouTubeVideo?this.introVideoUrl=this.getYouTubeEmbedUrl(t.introYouTubeVideo):this.introVideoUrl=null}loadCourseContent(t,e){if(!t)return $(null);let{course:i,hasSubscription:r}=t;return r?Vt({sections:this.lessonsService.getSectionsByCourse(e),lessons:this.lessonsService.getLessonsByCourse(e)}).pipe(H(({sections:o,lessons:s})=>(this.sections=o,this.lessons=s,this.cacheLessonVideoUrls(s),this.loadQuizzesForLessons(),i)),Ge(o=>(console.error("Error loading course content:",o),$(i)))):$(i)}cacheLessonVideoUrls(t){this.lessonVideoUrls.clear(),t.forEach(e=>{e.video?.playbackUrl&&this.lessonVideoUrls.set(e.id,this.getSanitizedVideoUrl(e.video.playbackUrl))})}loadQuizzesForLessons(){let t=this.lessons.filter(i=>i.quizId);if(t.length===0){this.quizzes=[];return}let e=t.map(i=>this.quizzesService.getQuiz(i.quizId).pipe(Ge(()=>$(null))));Vt(e).pipe(ne(this.destroy$)).subscribe({next:i=>{this.quizzes=i.filter(r=>r!==null)},error:i=>{console.error("Error loading quizzes:",i),this.quizzes=[]}})}getLessonsBySection(t){return this.lessons.filter(e=>e.sectionId===t&&(e.type==="video"||e.type==="pdf")).sort((e,i)=>e.order-i.order)}getQuizForLesson(t){let e=this.lessons.find(i=>i.id===t);return!e||!e.quizId?null:this.quizzes.find(i=>i.id===e.quizId)||null}getYouTubeEmbedUrl(t){if(!t)return this.sanitizer.bypassSecurityTrustResourceUrl("");let e=null,i=t.trim(),r=i.match(/youtu\.be\/([a-zA-Z0-9_-]{11})/);if(r&&r[1]&&(e=r[1]),!e){let o=i.match(/youtube\.com\/watch\?v=([a-zA-Z0-9_-]{11})/);o&&o[1]&&(e=o[1])}if(!e){let o=i.match(/youtube\.com\/embed\/([a-zA-Z0-9_-]{11})/);o&&o[1]&&(e=o[1])}if(!e){let o=i.match(/youtube\.com\/v\/([a-zA-Z0-9_-]{11})/);o&&o[1]&&(e=o[1])}if(!e){let o=i.match(/youtube\.com\/shorts\/([a-zA-Z0-9_-]{11})/);o&&o[1]&&(e=o[1])}if(e){let o=`https://www.youtube.com/embed/${e}?rel=0&modestbranding=1&enablejsapi=1&origin=${encodeURIComponent(window.location.origin)}`;return this.sanitizer.bypassSecurityTrustResourceUrl(o)}return console.warn("Could not extract YouTube video ID from URL:",t),this.sanitizer.bypassSecurityTrustResourceUrl("")}getSanitizedVideoUrl(t){return t?this.sanitizer.bypassSecurityTrustResourceUrl(t):this.sanitizer.bypassSecurityTrustResourceUrl("")}getLessonVideoUrl(t){return this.lessonVideoUrls.get(t)||null}goToSubscriptions(){this.isAuthenticated?this.router.navigate(["/mySubscriptions"]):this.router.navigate(["/login"],{queryParams:{returnUrl:this.router.url}})}showCourseNotPublishedAlert(){fP.default.fire({icon:"info",title:"courses.courseNotPublished",text:"courses.courseNotPublishedDescription",confirmButtonText:"courses.ok",confirmButtonColor:"#3B82F6"})}showErrorAlert(){fP.default.fire({icon:"error",title:"courses.error",text:"courses.loadError",confirmButtonText:"courses.ok",confirmButtonColor:"#DC2626"})}static \u0275fac=function(e){return new(e||n)(A(Tt),A(He),A(so),A(qi),A(Gl),A(oo),A(Rt),A(RC))};static \u0275cmp=de({type:n,selectors:[["app-course"]],decls:3,vars:2,consts:[[1,"course-page"],["class","loading-state",4,"ngIf"],["class","course-content",4,"ngIf"],[1,"loading-state"],[1,"container"],[1,"text-center","py-5"],["role","status",1,"spinner-border","text-primary"],[1,"visually-hidden"],[1,"mt-3"],[1,"course-content"],[1,"course-header"],[1,"row","align-items-center"],[1,"col-12","col-md-4"],[1,"course-thumbnail-wrapper"],["class","course-thumbnail",3,"src","alt",4,"ngIf"],["class","thumbnail-placeholder",4,"ngIf"],[1,"col-12","col-md-8"],[1,"course-header-info"],[1,"course-title"],[1,"course-description"],[1,"course-meta"],[1,"meta-item"],[1,"fas","fa-tag"],[1,"fas","fa-clock"],[1,"fas"],["class","intro-video mt-4",4,"ngIf"],[1,"course-sections"],[1,"subscription-required"],[1,"course-thumbnail",3,"src","alt"],[1,"thumbnail-placeholder"],[1,"fas","fa-book"],[1,"intro-video","mt-4"],[1,"mb-3"],[1,"video-wrapper"],["frameborder","0","allow","accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share","allowfullscreen","","loading","lazy","title","YouTube video player",3,"src"],["class","empty-content",4,"ngIf"],["class","section-card",4,"ngFor","ngForOf"],[1,"empty-content"],[1,"fas","fa-folder-open"],[1,"text-muted"],[1,"section-card"],[1,"section-header"],[1,"section-title"],[1,"fas","fa-folder"],[1,"lessons-list"],["class","lesson-item",4,"ngFor","ngForOf"],[1,"lesson-item"],[1,"lesson-content"],[1,"lesson-info"],[1,"lesson-title"],[1,"lesson-content-media"],["class","lesson-video",4,"ngIf"],["class","lesson-pdf",4,"ngIf"],["class","lesson-quiz",4,"ngIf"],[1,"lesson-video"],[1,"video-container"],["frameborder","0","allow","accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share","allowfullscreen","","loading","lazy","title","Video player",3,"src"],[1,"lesson-pdf"],["target","_blank",1,"btn","btn-outline-primary",3,"href"],[1,"fas","fa-file-pdf"],[1,"lesson-quiz"],[1,"quiz-badge"],[1,"fas","fa-question-circle"],[1,"alert","alert-warning","subscription-alert"],[1,"alert-content"],[1,"fas","fa-lock"],[1,"alert-text"],[1,"btn","btn-primary",3,"click"],[1,"fas","fa-key"]],template:function(e,i){e&1&&(f(0,"div",0),J(1,UX,10,6,"div",1)(2,eJ,30,24,"div",2),h()),e&2&&(d(),O("ngIf",i.isLoading),d(),O("ngIf",!i.isLoading&&i.course))},dependencies:[ge,Nn,wn,ke,me,ve],styles:[".course-page[_ngcontent-%COMP%]{min-height:100vh;background:linear-gradient(135deg,#c9a24d05,#0e3a5d05)}.course-page[_ngcontent-%COMP%]   .loading-state[_ngcontent-%COMP%]{padding:128px 0}.course-page[_ngcontent-%COMP%]   .course-content[_ngcontent-%COMP%]   .course-header[_ngcontent-%COMP%]{background:#fff;padding:64px 0;box-shadow:0 1px 2px #0000001a;border-bottom:1px solid rgba(14,58,93,.1)}.course-page[_ngcontent-%COMP%]   .course-content[_ngcontent-%COMP%]   .course-header[_ngcontent-%COMP%]   .course-thumbnail-wrapper[_ngcontent-%COMP%]{position:relative;width:100%;height:300px;border-radius:16px;overflow:hidden;box-shadow:0 4px 8px #00000026}.course-page[_ngcontent-%COMP%]   .course-content[_ngcontent-%COMP%]   .course-header[_ngcontent-%COMP%]   .course-thumbnail-wrapper[_ngcontent-%COMP%]   .course-thumbnail[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.course-page[_ngcontent-%COMP%]   .course-content[_ngcontent-%COMP%]   .course-header[_ngcontent-%COMP%]   .course-thumbnail-wrapper[_ngcontent-%COMP%]   .thumbnail-placeholder[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;align-items:center;justify-content:center;background:linear-gradient(135deg,#c9a24d1a,#0e3a5d1a)}.course-page[_ngcontent-%COMP%]   .course-content[_ngcontent-%COMP%]   .course-header[_ngcontent-%COMP%]   .course-thumbnail-wrapper[_ngcontent-%COMP%]   .thumbnail-placeholder[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:5rem;color:#c9a24d4d}.course-page[_ngcontent-%COMP%]   .course-content[_ngcontent-%COMP%]   .course-header[_ngcontent-%COMP%]   .course-header-info[_ngcontent-%COMP%]{padding:32px 0}.course-page[_ngcontent-%COMP%]   .course-content[_ngcontent-%COMP%]   .course-header[_ngcontent-%COMP%]   .course-header-info[_ngcontent-%COMP%]   .course-title[_ngcontent-%COMP%]{font-size:2.5rem;font-weight:700;color:#0e3a5d;margin:0 0 16px;font-family:Cairo,sans-serif}.course-page[_ngcontent-%COMP%]   .course-content[_ngcontent-%COMP%]   .course-header[_ngcontent-%COMP%]   .course-header-info[_ngcontent-%COMP%]   .course-description[_ngcontent-%COMP%]{font-size:1.1rem;color:#0e3a5db3;line-height:1.8;margin:0 0 32px}.course-page[_ngcontent-%COMP%]   .course-content[_ngcontent-%COMP%]   .course-header[_ngcontent-%COMP%]   .course-header-info[_ngcontent-%COMP%]   .course-meta[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:16px;margin-bottom:32px}.course-page[_ngcontent-%COMP%]   .course-content[_ngcontent-%COMP%]   .course-header[_ngcontent-%COMP%]   .course-header-info[_ngcontent-%COMP%]   .course-meta[_ngcontent-%COMP%]   .meta-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:4px;padding:4px 16px;background:#c9a24d0d;border-radius:8px;font-size:.9rem;color:#0e3a5d;font-weight:500}.course-page[_ngcontent-%COMP%]   .course-content[_ngcontent-%COMP%]   .course-header[_ngcontent-%COMP%]   .course-header-info[_ngcontent-%COMP%]   .course-meta[_ngcontent-%COMP%]   .meta-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#c9a24d}.course-page[_ngcontent-%COMP%]   .course-content[_ngcontent-%COMP%]   .course-header[_ngcontent-%COMP%]   .course-header-info[_ngcontent-%COMP%]   .course-meta[_ngcontent-%COMP%]   .meta-item.free[_ngcontent-%COMP%]{background:#16a34a1a;color:#16a34a}.course-page[_ngcontent-%COMP%]   .course-content[_ngcontent-%COMP%]   .course-header[_ngcontent-%COMP%]   .course-header-info[_ngcontent-%COMP%]   .course-meta[_ngcontent-%COMP%]   .meta-item.free[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#16a34a}.course-page[_ngcontent-%COMP%]   .course-content[_ngcontent-%COMP%]   .course-header[_ngcontent-%COMP%]   .course-header-info[_ngcontent-%COMP%]   .course-meta[_ngcontent-%COMP%]   .meta-item.premium[_ngcontent-%COMP%]{background:#f59e0b1a;color:#f59e0b}.course-page[_ngcontent-%COMP%]   .course-content[_ngcontent-%COMP%]   .course-header[_ngcontent-%COMP%]   .course-header-info[_ngcontent-%COMP%]   .course-meta[_ngcontent-%COMP%]   .meta-item.premium[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#f59e0b}.course-page[_ngcontent-%COMP%]   .course-content[_ngcontent-%COMP%]   .course-header[_ngcontent-%COMP%]   .course-header-info[_ngcontent-%COMP%]   .intro-video[_ngcontent-%COMP%]   .video-wrapper[_ngcontent-%COMP%]{position:relative;padding-bottom:56.25%;height:0;overflow:hidden;border-radius:8px;box-shadow:0 4px 8px #00000026}.course-page[_ngcontent-%COMP%]   .course-content[_ngcontent-%COMP%]   .course-header[_ngcontent-%COMP%]   .course-header-info[_ngcontent-%COMP%]   .intro-video[_ngcontent-%COMP%]   .video-wrapper[_ngcontent-%COMP%]   iframe[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%}.course-page[_ngcontent-%COMP%]   .course-content[_ngcontent-%COMP%]   .subscription-required[_ngcontent-%COMP%]{padding:64px 0}.course-page[_ngcontent-%COMP%]   .course-content[_ngcontent-%COMP%]   .subscription-required[_ngcontent-%COMP%]   .subscription-alert[_ngcontent-%COMP%]{border:none;border-radius:16px;box-shadow:0 4px 8px #00000026;background:linear-gradient(135deg,#f59e0b1a,#f59e0b0d);border-left:4px solid #F59E0B}.course-page[_ngcontent-%COMP%]   .course-content[_ngcontent-%COMP%]   .subscription-required[_ngcontent-%COMP%]   .subscription-alert[_ngcontent-%COMP%]   .alert-content[_ngcontent-%COMP%]{display:flex;align-items:center;gap:32px;flex-wrap:wrap}.course-page[_ngcontent-%COMP%]   .course-content[_ngcontent-%COMP%]   .subscription-required[_ngcontent-%COMP%]   .subscription-alert[_ngcontent-%COMP%]   .alert-content[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:3rem;color:#f59e0b}.course-page[_ngcontent-%COMP%]   .course-content[_ngcontent-%COMP%]   .subscription-required[_ngcontent-%COMP%]   .subscription-alert[_ngcontent-%COMP%]   .alert-content[_ngcontent-%COMP%]   .alert-text[_ngcontent-%COMP%]{flex:1;min-width:250px}.course-page[_ngcontent-%COMP%]   .course-content[_ngcontent-%COMP%]   .subscription-required[_ngcontent-%COMP%]   .subscription-alert[_ngcontent-%COMP%]   .alert-content[_ngcontent-%COMP%]   .alert-text[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 4px;color:#0e3a5d;font-weight:700}.course-page[_ngcontent-%COMP%]   .course-content[_ngcontent-%COMP%]   .subscription-required[_ngcontent-%COMP%]   .subscription-alert[_ngcontent-%COMP%]   .alert-content[_ngcontent-%COMP%]   .alert-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:#0e3a5db3}.course-page[_ngcontent-%COMP%]   .course-content[_ngcontent-%COMP%]   .subscription-required[_ngcontent-%COMP%]   .subscription-alert[_ngcontent-%COMP%]   .alert-content[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{white-space:nowrap;display:flex;align-items:center;gap:8px}.course-page[_ngcontent-%COMP%]   .course-content[_ngcontent-%COMP%]   .course-sections[_ngcontent-%COMP%]{padding:64px 0}.course-page[_ngcontent-%COMP%]   .course-content[_ngcontent-%COMP%]   .course-sections[_ngcontent-%COMP%]   .empty-content[_ngcontent-%COMP%]{text-align:center;padding:128px 0}.course-page[_ngcontent-%COMP%]   .course-content[_ngcontent-%COMP%]   .course-sections[_ngcontent-%COMP%]   .empty-content[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:5rem;color:#c9a24d4d;margin-bottom:32px}.course-page[_ngcontent-%COMP%]   .course-content[_ngcontent-%COMP%]   .course-sections[_ngcontent-%COMP%]   .empty-content[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:#0e3a5d;margin-bottom:16px}.course-page[_ngcontent-%COMP%]   .course-content[_ngcontent-%COMP%]   .course-sections[_ngcontent-%COMP%]   .section-card[_ngcontent-%COMP%]{background:#fff;border-radius:16px;box-shadow:0 4px 8px #00000026;margin-bottom:64px;overflow:hidden}.course-page[_ngcontent-%COMP%]   .course-content[_ngcontent-%COMP%]   .course-sections[_ngcontent-%COMP%]   .section-card[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#c9a24d1a,#0e3a5d1a);padding:32px;border-bottom:1px solid rgba(14,58,93,.1)}.course-page[_ngcontent-%COMP%]   .course-content[_ngcontent-%COMP%]   .course-sections[_ngcontent-%COMP%]   .section-card[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;color:#0e3a5d;margin:0;display:flex;align-items:center;gap:16px}.course-page[_ngcontent-%COMP%]   .course-content[_ngcontent-%COMP%]   .course-sections[_ngcontent-%COMP%]   .section-card[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#c9a24d}.course-page[_ngcontent-%COMP%]   .course-content[_ngcontent-%COMP%]   .course-sections[_ngcontent-%COMP%]   .section-card[_ngcontent-%COMP%]   .lessons-list[_ngcontent-%COMP%]{padding:32px}.course-page[_ngcontent-%COMP%]   .course-content[_ngcontent-%COMP%]   .course-sections[_ngcontent-%COMP%]   .section-card[_ngcontent-%COMP%]   .lessons-list[_ngcontent-%COMP%]   .lesson-item[_ngcontent-%COMP%]{margin-bottom:32px;padding-bottom:32px;border-bottom:1px solid rgba(14,58,93,.1)}.course-page[_ngcontent-%COMP%]   .course-content[_ngcontent-%COMP%]   .course-sections[_ngcontent-%COMP%]   .section-card[_ngcontent-%COMP%]   .lessons-list[_ngcontent-%COMP%]   .lesson-item[_ngcontent-%COMP%]:last-child{margin-bottom:0;padding-bottom:0;border-bottom:none}.course-page[_ngcontent-%COMP%]   .course-content[_ngcontent-%COMP%]   .course-sections[_ngcontent-%COMP%]   .section-card[_ngcontent-%COMP%]   .lessons-list[_ngcontent-%COMP%]   .lesson-item[_ngcontent-%COMP%]   .lesson-content[_ngcontent-%COMP%]   .lesson-info[_ngcontent-%COMP%]   .lesson-title[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:600;color:#0e3a5d;margin:0 0 16px;display:flex;align-items:center;gap:8px}.course-page[_ngcontent-%COMP%]   .course-content[_ngcontent-%COMP%]   .course-sections[_ngcontent-%COMP%]   .section-card[_ngcontent-%COMP%]   .lessons-list[_ngcontent-%COMP%]   .lesson-item[_ngcontent-%COMP%]   .lesson-content[_ngcontent-%COMP%]   .lesson-info[_ngcontent-%COMP%]   .lesson-title[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#c9a24d}.course-page[_ngcontent-%COMP%]   .course-content[_ngcontent-%COMP%]   .course-sections[_ngcontent-%COMP%]   .section-card[_ngcontent-%COMP%]   .lessons-list[_ngcontent-%COMP%]   .lesson-item[_ngcontent-%COMP%]   .lesson-content[_ngcontent-%COMP%]   .lesson-info[_ngcontent-%COMP%]   .lesson-video[_ngcontent-%COMP%]{margin-top:16px}.course-page[_ngcontent-%COMP%]   .course-content[_ngcontent-%COMP%]   .course-sections[_ngcontent-%COMP%]   .section-card[_ngcontent-%COMP%]   .lessons-list[_ngcontent-%COMP%]   .lesson-item[_ngcontent-%COMP%]   .lesson-content[_ngcontent-%COMP%]   .lesson-info[_ngcontent-%COMP%]   .lesson-video[_ngcontent-%COMP%]   .video-container[_ngcontent-%COMP%]{position:relative;padding-bottom:56.25%;height:0;overflow:hidden;border-radius:8px;box-shadow:0 1px 2px #0000001a}.course-page[_ngcontent-%COMP%]   .course-content[_ngcontent-%COMP%]   .course-sections[_ngcontent-%COMP%]   .section-card[_ngcontent-%COMP%]   .lessons-list[_ngcontent-%COMP%]   .lesson-item[_ngcontent-%COMP%]   .lesson-content[_ngcontent-%COMP%]   .lesson-info[_ngcontent-%COMP%]   .lesson-video[_ngcontent-%COMP%]   .video-container[_ngcontent-%COMP%]   iframe[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%}.course-page[_ngcontent-%COMP%]   .course-content[_ngcontent-%COMP%]   .course-sections[_ngcontent-%COMP%]   .section-card[_ngcontent-%COMP%]   .lessons-list[_ngcontent-%COMP%]   .lesson-item[_ngcontent-%COMP%]   .lesson-content[_ngcontent-%COMP%]   .lesson-info[_ngcontent-%COMP%]   .lesson-pdf[_ngcontent-%COMP%], .course-page[_ngcontent-%COMP%]   .course-content[_ngcontent-%COMP%]   .course-sections[_ngcontent-%COMP%]   .section-card[_ngcontent-%COMP%]   .lessons-list[_ngcontent-%COMP%]   .lesson-item[_ngcontent-%COMP%]   .lesson-content[_ngcontent-%COMP%]   .lesson-info[_ngcontent-%COMP%]   .lesson-quiz[_ngcontent-%COMP%]{margin-top:16px}.course-page[_ngcontent-%COMP%]   .course-content[_ngcontent-%COMP%]   .course-sections[_ngcontent-%COMP%]   .section-card[_ngcontent-%COMP%]   .lessons-list[_ngcontent-%COMP%]   .lesson-item[_ngcontent-%COMP%]   .lesson-content[_ngcontent-%COMP%]   .lesson-info[_ngcontent-%COMP%]   .lesson-quiz[_ngcontent-%COMP%]   .quiz-badge[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:4px;padding:4px 16px;background:#c9a24d1a;border-radius:8px;color:#c9a24d;font-weight:500;font-size:.9rem}@media (max-width: 767.98px){.course-page[_ngcontent-%COMP%]   .course-content[_ngcontent-%COMP%]   .course-header[_ngcontent-%COMP%]{padding:32px 0}.course-page[_ngcontent-%COMP%]   .course-content[_ngcontent-%COMP%]   .course-header[_ngcontent-%COMP%]   .course-header-info[_ngcontent-%COMP%]   .course-title[_ngcontent-%COMP%]{font-size:1.75rem}.course-page[_ngcontent-%COMP%]   .course-content[_ngcontent-%COMP%]   .course-header[_ngcontent-%COMP%]   .course-header-info[_ngcontent-%COMP%]   .course-meta[_ngcontent-%COMP%]   .meta-item[_ngcontent-%COMP%]{font-size:.85rem;padding:4px 8px}.course-page[_ngcontent-%COMP%]   .course-content[_ngcontent-%COMP%]   .subscription-required[_ngcontent-%COMP%]   .subscription-alert[_ngcontent-%COMP%]   .alert-content[_ngcontent-%COMP%]{flex-direction:column;text-align:center}.course-page[_ngcontent-%COMP%]   .course-content[_ngcontent-%COMP%]   .subscription-required[_ngcontent-%COMP%]   .subscription-alert[_ngcontent-%COMP%]   .alert-content[_ngcontent-%COMP%]   .alert-text[_ngcontent-%COMP%]{min-width:auto}.course-page[_ngcontent-%COMP%]   .course-content[_ngcontent-%COMP%]   .subscription-required[_ngcontent-%COMP%]   .subscription-alert[_ngcontent-%COMP%]   .alert-content[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{width:100%}}"]})};var tJ=()=>({exact:!1}),d0=class n{constructor(t){this.route=t}static \u0275fac=function(e){return new(e||n)(A(Tt))};static \u0275cmp=de({type:n,selectors:[["app-admin-dashboard"]],decls:31,vars:14,consts:[[1,"admin-dashboard"],[1,"container-fluid"],[1,"row"],[1,"col-12","col-md-3","col-lg-2","sidebar"],[1,"sidebar-header"],[1,"sidebar-title"],[1,"fas","fa-shield-alt"],[1,"sidebar-nav"],[1,"nav-list"],[1,"nav-item"],["routerLink","/admin/organizations","routerLinkActive","active",1,"nav-link",3,"routerLinkActiveOptions"],[1,"fas","fa-building"],["routerLink","/admin/subscriptions","routerLinkActive","active",1,"nav-link"],[1,"fas","fa-credit-card"],["routerLink","/admin/courses","routerLinkActive","active",1,"nav-link"],[1,"fas","fa-book"],[1,"col-12","col-md-9","col-lg-10","main-content"]],template:function(e,i){e&1&&(f(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h2",5),w(6,"i",6),_(7),v(8,"translate"),h()(),f(9,"nav",7)(10,"ul",8)(11,"li",9)(12,"a",10),w(13,"i",11),f(14,"span"),_(15),v(16,"translate"),h()()(),f(17,"li",9)(18,"a",12),w(19,"i",13),f(20,"span"),_(21),v(22,"translate"),h()()(),f(23,"li",9)(24,"a",14),w(25,"i",15),f(26,"span"),_(27),v(28,"translate"),h()()()()()(),f(29,"div",16),w(30,"router-outlet"),h()()()()),e&2&&(d(7),M(" ",y(8,5,"admin.dashboard.title")," "),d(5),O("routerLinkActiveOptions",Po(13,tJ)),d(3),I(y(16,7,"admin.dashboard.organizations")),d(6),I(y(22,9,"admin.dashboard.subscriptions")),d(6),I(y(28,11,"admin.dashboard.courses")))},dependencies:[ge,ke,Sa,Ue,_u,me,ve],styles:[".admin-dashboard[_ngcontent-%COMP%]{min-height:100vh;background:#f3f1ec}.admin-dashboard[_ngcontent-%COMP%]   .container-fluid[_ngcontent-%COMP%]{padding:0}.sidebar[_ngcontent-%COMP%]{background:#0e3a5d;min-height:100vh;padding:2rem 0;box-shadow:0 4px 8px #00000026}.sidebar[_ngcontent-%COMP%]   .sidebar-header[_ngcontent-%COMP%]{padding:32px;border-bottom:2px solid rgba(201,162,77,.3);background:#071e2f}.sidebar[_ngcontent-%COMP%]   .sidebar-header[_ngcontent-%COMP%]   .sidebar-title[_ngcontent-%COMP%]{font-size:1.3rem;font-weight:700;color:#c9a24d;margin:0;font-family:Cairo,sans-serif;display:flex;align-items:center;gap:8px}.sidebar[_ngcontent-%COMP%]   .sidebar-header[_ngcontent-%COMP%]   .sidebar-title[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.2rem}.sidebar[_ngcontent-%COMP%]   .sidebar-nav[_ngcontent-%COMP%]{padding:16px 0}.sidebar[_ngcontent-%COMP%]   .sidebar-nav[_ngcontent-%COMP%]   .nav-list[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0}.sidebar[_ngcontent-%COMP%]   .sidebar-nav[_ngcontent-%COMP%]   .nav-list[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]{margin:0}.sidebar[_ngcontent-%COMP%]   .sidebar-nav[_ngcontent-%COMP%]   .nav-list[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{display:flex;align-items:center;gap:16px;padding:16px 32px;color:#fffc;text-decoration:none;font-weight:500;font-size:1rem;font-family:Cairo,sans-serif;transition:all .3s ease;border-left:3px solid transparent}.sidebar[_ngcontent-%COMP%]   .sidebar-nav[_ngcontent-%COMP%]   .nav-list[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.1rem;width:20px;text-align:center}.sidebar[_ngcontent-%COMP%]   .sidebar-nav[_ngcontent-%COMP%]   .nav-list[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:hover{background:#c9a24d1a;color:#fff;border-left-color:#c9a24d}.sidebar[_ngcontent-%COMP%]   .sidebar-nav[_ngcontent-%COMP%]   .nav-list[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]{background:#c9a24d33;color:#c9a24d;border-left-color:#c9a24d;font-weight:600}.main-content[_ngcontent-%COMP%]{padding:64px;min-height:100vh}@media (max-width: 991.98px){.sidebar[_ngcontent-%COMP%]{min-height:auto;margin-bottom:32px}.main-content[_ngcontent-%COMP%]{padding:32px}}@media (max-width: 767.98px){.sidebar[_ngcontent-%COMP%]   .sidebar-header[_ngcontent-%COMP%]{padding:16px}.sidebar[_ngcontent-%COMP%]   .sidebar-header[_ngcontent-%COMP%]   .sidebar-title[_ngcontent-%COMP%]{font-size:1.1rem}.sidebar[_ngcontent-%COMP%]   .sidebar-nav[_ngcontent-%COMP%]   .nav-list[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{padding:8px 16px;font-size:.9rem}.main-content[_ngcontent-%COMP%]{padding:16px}}"]})};var nJ=n=>["/admin/organizations",n],iJ=(n,t)=>t.uid;function rJ(n,t){n&1&&(f(0,"div",5)(1,"div",7)(2,"span",8),_(3),v(4,"translate"),h()(),f(5,"p",9),_(6),v(7,"translate"),h()()),n&2&&(d(3),I(y(4,2,"admin.organizations.loading")),d(3),I(y(7,4,"admin.organizations.loading")))}function oJ(n,t){if(n&1&&(f(0,"div",6),w(1,"i",10),_(2),v(3,"translate"),h()),n&2){let e=x();d(2),M(" ",y(3,1,e.errorMessage)," ")}}function sJ(n,t){if(n&1&&(f(0,"div",20)(1,"div",21)(2,"div",22)(3,"h3",23),_(4),h(),f(5,"span",24),w(6,"i",25),_(7),v(8,"translate"),h()(),f(9,"div",26)(10,"div",27)(11,"p",28),w(12,"i",29),f(13,"span"),_(14),h()(),f(15,"p",28),w(16,"i",30),f(17,"span"),_(18),h()(),f(19,"p",31),w(20,"i",32),f(21,"span"),_(22),h()()()(),f(23,"div",33)(24,"a",34),w(25,"i",35),_(26),v(27,"translate"),h()()()()),n&2){let e=t.$implicit,i=x(3);d(4),I(e.name),d(),O("ngClass",i.getStatusClass(e.status)),d(),U("fa-check-circle",e.status==="approved")("fa-clock",e.status==="pending")("fa-times-circle",e.status==="rejected"),d(),M(" ",y(8,14,i.getStatusKey(e.status))," "),d(7),I(e.email),d(4),I(e.phone),d(4),I(e.createdAt),d(2),O("routerLink",ar(18,nJ,e.uid)),d(2),M(" ",y(27,16,"admin.organizations.viewDetails")," ")}}function aJ(n,t){if(n&1&&(f(0,"div",17)(1,"div",19),mt(2,sJ,28,20,"div",20,iJ),h()()),n&2){let e=x(2);d(2),_t(e.filteredOrganizations)}}function cJ(n,t){n&1&&(f(0,"div",18),w(1,"i",3),f(2,"p"),_(3),v(4,"translate"),h()()),n&2&&(d(3),I(y(4,1,"admin.organizations.noOrganizations")))}function lJ(n,t){if(n&1){let e=ce();f(0,"div",11)(1,"div",12)(2,"div",13)(3,"button",14),z("click",function(){G(e);let r=x();return K(r.onStatusFilterChange("all"))}),f(4,"span",15),_(5),v(6,"translate"),h(),f(7,"span",16),_(8),h()()(),f(9,"div",13)(10,"button",14),z("click",function(){G(e);let r=x();return K(r.onStatusFilterChange("pending"))}),f(11,"span",15),_(12),v(13,"translate"),h(),f(14,"span",16),_(15),h()()(),f(16,"div",13)(17,"button",14),z("click",function(){G(e);let r=x();return K(r.onStatusFilterChange("approved"))}),f(18,"span",15),_(19),v(20,"translate"),h(),f(21,"span",16),_(22),h()()(),f(23,"div",13)(24,"button",14),z("click",function(){G(e);let r=x();return K(r.onStatusFilterChange("rejected"))}),f(25,"span",15),_(26),v(27,"translate"),h(),f(28,"span",16),_(29),h()()()()(),L(30,aJ,4,0,"div",17)(31,cJ,5,3,"div",18)}if(n&2){let e=x();d(3),U("active",e.selectedStatus==="all"),d(2),I(y(6,17,"admin.organizations.all")),d(3),I(e.getCountByStatus("all")),d(2),U("active",e.selectedStatus==="pending"),d(2),I(y(13,19,"admin.organizations.pending")),d(3),I(e.getCountByStatus("pending")),d(2),U("active",e.selectedStatus==="approved"),d(2),I(y(20,21,"admin.organizations.approved")),d(3),I(e.getCountByStatus("approved")),d(2),U("active",e.selectedStatus==="rejected"),d(2),I(y(27,23,"admin.organizations.rejected")),d(3),I(e.getCountByStatus("rejected")),d(),F(e.filteredOrganizations.length>0?30:31)}}var u0=class n{constructor(t){this.organizationService=t}organizations=[];filteredOrganizations=[];isLoading=!0;errorMessage="";selectedStatus="all";destroy$=new le;ngOnInit(){this.loadOrganizations()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}loadOrganizations(){this.isLoading=!0,this.errorMessage="",this.organizationService.getAllOrganizations().pipe(ne(this.destroy$)).subscribe({next:t=>{this.organizations=t,this.filterOrganizations(),this.isLoading=!1},error:t=>{console.error("Error loading organizations:",t),this.errorMessage="admin.organizations.loadError",this.isLoading=!1}})}filterOrganizations(){this.selectedStatus==="all"?this.filteredOrganizations=this.organizations:this.filteredOrganizations=this.organizations.filter(t=>t.status===this.selectedStatus)}onStatusFilterChange(t){this.selectedStatus=t,this.filterOrganizations()}getStatusClass(t){switch(t){case"approved":return"badge-success";case"pending":return"badge-warning";case"rejected":return"badge-error";default:return"badge-secondary"}}getStatusKey(t){return`auth.profile.status.${t}`}getCountByStatus(t){return t==="all"?this.organizations.length:this.organizations.filter(e=>e.status===t).length}static \u0275fac=function(e){return new(e||n)(A(Qt))};static \u0275cmp=de({type:n,selectors:[["app-organization-list"]],decls:12,vars:9,consts:[[1,"organization-list"],[1,"page-header"],[1,"page-title"],[1,"fas","fa-building"],[1,"page-subtitle"],[1,"loading-state"],[1,"alert","alert-error"],["role","status",1,"spinner-border","text-primary"],[1,"visually-hidden"],[1,"mt-3"],[1,"fas","fa-exclamation-circle"],[1,"filter-tabs"],[1,"row","g-2"],[1,"col-6","col-md-3"],["type","button",1,"filter-tab",3,"click"],[1,"tab-label"],[1,"tab-count"],[1,"organizations-grid"],[1,"empty-state"],[1,"row","g-4"],[1,"col-12","col-md-6","col-lg-4"],[1,"organization-card"],[1,"card-header"],[1,"org-name"],[1,"status-badge",3,"ngClass"],[1,"fas"],[1,"card-body"],[1,"org-info"],[1,"info-item"],[1,"fas","fa-envelope"],[1,"fas","fa-phone"],[1,"info-item","date"],[1,"fas","fa-calendar"],[1,"card-footer"],[1,"btn","btn-view",3,"routerLink"],[1,"fas","fa-eye"]],template:function(e,i){e&1&&(f(0,"div",0)(1,"div",1)(2,"h1",2),w(3,"i",3),_(4),v(5,"translate"),h(),f(6,"p",4),_(7),v(8,"translate"),h()(),L(9,rJ,8,6,"div",5),L(10,oJ,4,3,"div",6),L(11,lJ,32,25),h()),e&2&&(d(4),M(" ",y(5,5,"admin.organizations.title")," "),d(3),I(y(8,7,"admin.organizations.subtitle")),d(2),F(i.isLoading?9:-1),d(),F(!i.isLoading&&i.errorMessage?10:-1),d(),F(!i.isLoading&&!i.errorMessage?11:-1))},dependencies:[ge,Xt,ke,Ue,me,ve],styles:[".organization-list[_ngcontent-%COMP%]   .page-header[_ngcontent-%COMP%]{margin-bottom:64px;padding-bottom:32px;border-bottom:2px solid rgba(14,58,93,.1)}.organization-list[_ngcontent-%COMP%]   .page-header[_ngcontent-%COMP%]   .page-title[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;color:#0e3a5d;margin-bottom:8px;font-family:Cairo,sans-serif;display:flex;align-items:center;gap:16px}.organization-list[_ngcontent-%COMP%]   .page-header[_ngcontent-%COMP%]   .page-title[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#c9a24d;font-size:1.8rem}.organization-list[_ngcontent-%COMP%]   .page-header[_ngcontent-%COMP%]   .page-subtitle[_ngcontent-%COMP%]{font-size:1rem;color:#0f172a99;margin:0}.organization-list[_ngcontent-%COMP%]   .loading-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;min-height:300px;text-align:center}.organization-list[_ngcontent-%COMP%]   .loading-state[_ngcontent-%COMP%]   .spinner-border[_ngcontent-%COMP%]{width:3rem;height:3rem;border-width:.3rem}.organization-list[_ngcontent-%COMP%]   .loading-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#0f172ab3;font-size:1rem;margin:0}.organization-list[_ngcontent-%COMP%]   .alert-error[_ngcontent-%COMP%]{padding:32px;border-radius:8px;background:#dc26261a;color:#dc2626;border:1px solid rgba(220,38,38,.3);display:flex;align-items:center;gap:8px;font-size:1rem;margin-bottom:32px}.organization-list[_ngcontent-%COMP%]   .alert-error[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.2rem}.organization-list[_ngcontent-%COMP%]   .filter-tabs[_ngcontent-%COMP%]{margin-bottom:64px}.organization-list[_ngcontent-%COMP%]   .filter-tabs[_ngcontent-%COMP%]   .filter-tab[_ngcontent-%COMP%]{width:100%;padding:16px;background:#fff;border:2px solid rgba(14,58,93,.2);border-radius:8px;cursor:pointer;transition:all .3s ease;display:flex;flex-direction:column;align-items:center;gap:4px;font-family:Cairo,sans-serif}.organization-list[_ngcontent-%COMP%]   .filter-tabs[_ngcontent-%COMP%]   .filter-tab[_ngcontent-%COMP%]   .tab-label[_ngcontent-%COMP%]{font-size:.9rem;font-weight:500;color:#0f172ab3}.organization-list[_ngcontent-%COMP%]   .filter-tabs[_ngcontent-%COMP%]   .filter-tab[_ngcontent-%COMP%]   .tab-count[_ngcontent-%COMP%]{font-size:1.2rem;font-weight:700;color:#0e3a5d}.organization-list[_ngcontent-%COMP%]   .filter-tabs[_ngcontent-%COMP%]   .filter-tab[_ngcontent-%COMP%]:hover{border-color:#c9a24d;background:#c9a24d0d}.organization-list[_ngcontent-%COMP%]   .filter-tabs[_ngcontent-%COMP%]   .filter-tab.active[_ngcontent-%COMP%]{background:#c9a24d;border-color:#c9a24d;color:#fff}.organization-list[_ngcontent-%COMP%]   .filter-tabs[_ngcontent-%COMP%]   .filter-tab.active[_ngcontent-%COMP%]   .tab-label[_ngcontent-%COMP%], .organization-list[_ngcontent-%COMP%]   .filter-tabs[_ngcontent-%COMP%]   .filter-tab.active[_ngcontent-%COMP%]   .tab-count[_ngcontent-%COMP%]{color:#fff}.organization-list[_ngcontent-%COMP%]   .organizations-grid[_ngcontent-%COMP%]   .organization-card[_ngcontent-%COMP%]{background:#fff;border-radius:16px;box-shadow:0 4px 8px #00000026;border:1px solid rgba(14,58,93,.1);overflow:hidden;transition:all .3s ease;height:100%;display:flex;flex-direction:column}.organization-list[_ngcontent-%COMP%]   .organizations-grid[_ngcontent-%COMP%]   .organization-card[_ngcontent-%COMP%]:hover{transform:translateY(-4px);box-shadow:0 8px 16px #0003;border-color:#c9a24d}.organization-list[_ngcontent-%COMP%]   .organizations-grid[_ngcontent-%COMP%]   .organization-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{padding:32px;background:linear-gradient(135deg,#c9a24d1a,#0e3a5d0d);border-bottom:1px solid rgba(14,58,93,.1);display:flex;justify-content:space-between;align-items:flex-start;gap:16px}.organization-list[_ngcontent-%COMP%]   .organizations-grid[_ngcontent-%COMP%]   .organization-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .org-name[_ngcontent-%COMP%]{font-size:1.2rem;font-weight:700;color:#0e3a5d;margin:0;font-family:Cairo,sans-serif;flex:1}.organization-list[_ngcontent-%COMP%]   .organizations-grid[_ngcontent-%COMP%]   .organization-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .status-badge[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:4px;padding:4px 8px;border-radius:4px;font-weight:600;font-size:.75rem;font-family:Cairo,sans-serif;white-space:nowrap}.organization-list[_ngcontent-%COMP%]   .organizations-grid[_ngcontent-%COMP%]   .organization-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .status-badge.badge-success[_ngcontent-%COMP%]{background:#16a34a1a;color:#16a34a;border:1px solid rgba(22,163,74,.3)}.organization-list[_ngcontent-%COMP%]   .organizations-grid[_ngcontent-%COMP%]   .organization-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .status-badge.badge-warning[_ngcontent-%COMP%]{background:#d977061a;color:#d97706;border:1px solid rgba(217,119,6,.3)}.organization-list[_ngcontent-%COMP%]   .organizations-grid[_ngcontent-%COMP%]   .organization-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .status-badge.badge-error[_ngcontent-%COMP%]{background:#dc26261a;color:#dc2626;border:1px solid rgba(220,38,38,.3)}.organization-list[_ngcontent-%COMP%]   .organizations-grid[_ngcontent-%COMP%]   .organization-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .status-badge[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.7rem}.organization-list[_ngcontent-%COMP%]   .organizations-grid[_ngcontent-%COMP%]   .organization-card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{padding:32px;flex:1}.organization-list[_ngcontent-%COMP%]   .organizations-grid[_ngcontent-%COMP%]   .organization-card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .org-info[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;margin-bottom:16px;color:#0f172acc;font-size:.9rem}.organization-list[_ngcontent-%COMP%]   .organizations-grid[_ngcontent-%COMP%]   .organization-card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .org-info[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]:last-child{margin-bottom:0}.organization-list[_ngcontent-%COMP%]   .organizations-grid[_ngcontent-%COMP%]   .organization-card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .org-info[_ngcontent-%COMP%]   .info-item.date[_ngcontent-%COMP%]{color:#0f172a80;font-size:.85rem}.organization-list[_ngcontent-%COMP%]   .organizations-grid[_ngcontent-%COMP%]   .organization-card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .org-info[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#0e3a5d;font-size:.85rem;width:16px}.organization-list[_ngcontent-%COMP%]   .organizations-grid[_ngcontent-%COMP%]   .organization-card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .org-info[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{word-break:break-word}.organization-list[_ngcontent-%COMP%]   .organizations-grid[_ngcontent-%COMP%]   .organization-card[_ngcontent-%COMP%]   .card-footer[_ngcontent-%COMP%]{padding:16px 32px;border-top:1px solid rgba(14,58,93,.1);background:#f6f7f980}.organization-list[_ngcontent-%COMP%]   .organizations-grid[_ngcontent-%COMP%]   .organization-card[_ngcontent-%COMP%]   .card-footer[_ngcontent-%COMP%]   .btn-view[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center;justify-content:center;gap:8px;padding:8px 16px;background:#c9a24d;color:#fff;border:none;border-radius:8px;font-weight:600;font-size:.9rem;font-family:Cairo,sans-serif;text-decoration:none;transition:all .3s ease;cursor:pointer}.organization-list[_ngcontent-%COMP%]   .organizations-grid[_ngcontent-%COMP%]   .organization-card[_ngcontent-%COMP%]   .card-footer[_ngcontent-%COMP%]   .btn-view[_ngcontent-%COMP%]:hover{background:#a8832f;transform:translateY(-2px);box-shadow:0 4px 8px #00000026}.organization-list[_ngcontent-%COMP%]   .organizations-grid[_ngcontent-%COMP%]   .organization-card[_ngcontent-%COMP%]   .card-footer[_ngcontent-%COMP%]   .btn-view[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.9rem}.organization-list[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;min-height:400px;text-align:center;padding:64px}.organization-list[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:4rem;color:#0f172a4d;margin-bottom:32px}.organization-list[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.1rem;color:#0f172a99;margin:0;font-family:Cairo,sans-serif}@media (max-width: 991.98px){.organization-list[_ngcontent-%COMP%]   .page-header[_ngcontent-%COMP%]   .page-title[_ngcontent-%COMP%]{font-size:1.5rem}}@media (max-width: 767.98px){.organization-list[_ngcontent-%COMP%]   .page-header[_ngcontent-%COMP%]   .page-title[_ngcontent-%COMP%], .organization-list[_ngcontent-%COMP%]   .page-header[_ngcontent-%COMP%]   .page-title[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.3rem}.organization-list[_ngcontent-%COMP%]   .filter-tabs[_ngcontent-%COMP%]   .filter-tab[_ngcontent-%COMP%]{padding:8px;font-size:.85rem}}"]})};var f0=li(si());var dJ=(n,t)=>t.value;function uJ(n,t){n&1&&(f(0,"div",4)(1,"div",7)(2,"span",8),_(3),v(4,"translate"),h()(),f(5,"p",9),_(6),v(7,"translate"),h()()),n&2&&(d(3),I(y(4,2,"admin.organizations.loading")),d(3),I(y(7,4,"admin.organizations.loading")))}function fJ(n,t){n&1&&(f(0,"div",5),w(1,"i",10),_(2),v(3,"translate"),h()),n&2&&(d(2),M(" ",y(3,1,"admin.organizations.notFound")," "))}function pJ(n,t){if(n&1&&(w(0,"img",37),v(1,"translate")),n&2){let e=x(2);O("src",e.organization.idImage,it)("alt",y(1,2,"auth.profile.idImage"))}}function hJ(n,t){n&1&&(f(0,"div",38),w(1,"i",47),f(2,"p"),_(3),v(4,"translate"),h()()),n&2&&(d(3),I(y(4,1,"auth.profile.noImage")))}function gJ(n,t){if(n&1&&(f(0,"option",57),_(1),v(2,"translate"),h()),n&2){let e=t.$implicit;O("value",e.value),d(),M(" ",y(2,2,e.label)," ")}}function mJ(n,t){if(n&1&&(f(0,"div",58),w(1,"i",73),_(2),v(3,"translate"),h()),n&2){let e=x(3);d(2),M(" ",y(3,1,e.getFormError("type"))," ")}}function _J(n,t){n&1&&(f(0,"div",74),w(1,"i",76),f(2,"strong"),_(3),v(4,"translate"),h(),_(5),v(6,"translate"),h()),n&2&&(d(3),M("",y(4,2,"admin.organizations.warning"),":"),d(2),M(" ",y(6,4,"admin.organizations.statusChangeWarning")," "))}function vJ(n,t){n&1&&(f(0,"div",75),w(1,"i",77),_(2),v(3,"translate"),h()),n&2&&(d(2),M(" ",y(3,1,"admin.organizations.noStatusChange")," "))}function yJ(n,t){if(n&1&&(f(0,"div",59),L(1,_J,7,6,"div",74)(2,vJ,4,3,"div",75),h()),n&2){let e,i=x(3);d(),F(i.doesTypeChangeStatus((e=i.notificationForm.get("type"))==null?null:e.value)?1:2)}}function bJ(n,t){if(n&1&&(f(0,"div",58),w(1,"i",73),_(2),v(3,"translate"),h()),n&2){let e=x(3);d(2),M(" ",y(3,1,e.getFormError("title"))," ")}}function CJ(n,t){if(n&1&&(f(0,"div",58),w(1,"i",73),_(2),v(3,"translate"),h()),n&2){let e=x(3);d(2),M(" ",y(3,1,e.getFormError("message"))," ")}}function wJ(n,t){n&1&&(w(0,"span",78),_(1),v(2,"translate")),n&2&&(d(),M(" ",y(2,1,"admin.organizations.processing")," "))}function MJ(n,t){n&1&&(w(0,"i",79),_(1),v(2,"translate")),n&2&&(d(),M(" ",y(2,1,"admin.organizations.submit")," "))}function EJ(n,t){if(n&1){let e=ce();f(0,"form",48),z("ngSubmit",function(){G(e);let r=x(2);return K(r.onSubmitNotificationForm())}),f(1,"div",49),w(2,"i",50),f(3,"div")(4,"strong"),_(5),v(6,"translate"),h(),f(7,"p",51),_(8),v(9,"translate"),h()()(),f(10,"div",52)(11,"label",53),w(12,"i",54),_(13),v(14,"translate"),f(15,"span",55),_(16,"*"),h()(),f(17,"select",56),mt(18,gJ,3,4,"option",57,dJ),h(),L(20,mJ,4,3,"div",58),L(21,yJ,3,1,"div",59),h(),f(22,"div",52)(23,"label",60),w(24,"i",61),_(25),v(26,"translate"),f(27,"span",55),_(28,"*"),h()(),w(29,"input",62),v(30,"translate"),L(31,bJ,4,3,"div",58),h(),f(32,"div",63)(33,"label",64),w(34,"i",65),_(35),v(36,"translate"),f(37,"span",55),_(38,"*"),h()(),f(39,"textarea",66),v(40,"translate"),_(41,"                    "),h(),L(42,CJ,4,3,"div",58),f(43,"div",67),w(44,"i",68),_(45),v(46,"translate"),h()(),f(47,"div",69)(48,"button",70),z("click",function(){G(e);let r=x(2);return K(r.toggleNotificationForm())}),w(49,"i",71),_(50),v(51,"translate"),h(),f(52,"button",72),L(53,wJ,3,3)(54,MJ,3,3),h()()()}if(n&2){let e,i,r,o,s,a,c,l=x(2);O("formGroup",l.notificationForm),d(5),I(y(6,26,"admin.organizations.formInfo")),d(3),I(y(9,28,"admin.organizations.formInfoDescription")),d(5),M(" ",y(14,30,"admin.organizations.notificationType.label")," "),d(4),U("is-invalid",((e=l.notificationForm.get("type"))==null?null:e.invalid)&&((e=l.notificationForm.get("type"))==null?null:e.touched)),O("disabled",l.isProcessing),d(),_t(l.notificationTypes),d(2),F((i=l.notificationForm.get("type"))!=null&&i.invalid&&((i=l.notificationForm.get("type"))!=null&&i.touched)?20:-1),d(),F((r=l.notificationForm.get("type"))!=null&&r.value?21:-1),d(4),M(" ",y(26,32,"admin.organizations.notificationTitle")," "),d(4),U("is-invalid",((o=l.notificationForm.get("title"))==null?null:o.invalid)&&((o=l.notificationForm.get("title"))==null?null:o.touched)),O("placeholder",y(30,34,"admin.organizations.titlePlaceholder"))("disabled",l.isProcessing),d(2),F((s=l.notificationForm.get("title"))!=null&&s.invalid&&((s=l.notificationForm.get("title"))!=null&&s.touched)?31:-1),d(4),M(" ",y(36,36,"admin.organizations.notificationMessage")," "),d(4),U("is-invalid",((a=l.notificationForm.get("message"))==null?null:a.invalid)&&((a=l.notificationForm.get("message"))==null?null:a.touched)),O("placeholder",y(40,38,"admin.organizations.messagePlaceholder"))("disabled",l.isProcessing),d(3),F((c=l.notificationForm.get("message"))!=null&&c.invalid&&((c=l.notificationForm.get("message"))!=null&&c.touched)?42:-1),d(3),M(" ",y(46,40,"admin.organizations.messageHint")," "),d(3),O("disabled",l.isProcessing),d(2),M(" ",y(51,42,"admin.organizations.cancel")," "),d(2),O("disabled",l.notificationForm.invalid||l.isProcessing),d(),F(l.isProcessing?53:54)}}function PJ(n,t){if(n&1){let e=ce();f(0,"div",6)(1,"div",11)(2,"div",12)(3,"div",13)(4,"h1",14),w(5,"i",15),_(6),h(),f(7,"p",16),_(8),v(9,"translate"),h()(),f(10,"div",17)(11,"span",18),w(12,"i",19),_(13),v(14,"translate"),h()()()(),f(15,"div",20)(16,"div",21)(17,"div",22)(18,"h3",23),w(19,"i",24),_(20),v(21,"translate"),h(),f(22,"div",25)(23,"div",26)(24,"div",13)(25,"div",27)(26,"label",28),w(27,"i",29),_(28),v(29,"translate"),h(),f(30,"p",30),_(31),h()()(),f(32,"div",13)(33,"div",27)(34,"label",28),w(35,"i",31),_(36),v(37,"translate"),h(),f(38,"p",30),_(39),h()()()()()(),f(40,"div",22)(41,"h3",23),w(42,"i",32),_(43),v(44,"translate"),h(),f(45,"div",25)(46,"div",26)(47,"div",13)(48,"div",27)(49,"label",28),w(50,"i",33),_(51),v(52,"translate"),h(),f(53,"p",30),_(54),h()()()()()()(),f(55,"div",34)(56,"div",22)(57,"h3",23),w(58,"i",35),_(59),v(60,"translate"),h(),f(61,"div",25)(62,"div",36),L(63,pJ,2,4,"img",37)(64,hJ,5,3,"div",38),h()()()(),f(65,"div",39)(66,"div",40)(67,"div",41)(68,"h3",23),w(69,"i",42),_(70),v(71,"translate"),h(),f(72,"p",43),w(73,"i",24),_(74),v(75,"translate"),h()(),f(76,"div",44)(77,"button",45),z("click",function(){G(e);let r=x();return K(r.toggleNotificationForm())}),w(78,"i",19),_(79),v(80,"translate"),v(81,"translate"),h(),L(82,EJ,55,44,"form",46),h()()()()()}if(n&2){let e=x();d(6),M(" ",e.organization.name," "),d(2),I(y(9,31,"admin.organizations.details")),d(3),O("ngClass",e.getStatusClass(e.organization.status)),d(),U("fa-check-circle",e.organization.status==="approved")("fa-clock",e.organization.status==="pending")("fa-times-circle",e.organization.status==="rejected"),d(),M(" ",y(14,33,e.getStatusKey(e.organization.status))," "),d(7),M(" ",y(21,35,"auth.profile.basicInfo")," "),d(8),M(" ",y(29,37,"auth.profile.email")," "),d(3),I(e.organization.email),d(5),M(" ",y(37,39,"auth.profile.phone")," "),d(3),I(e.organization.phone),d(4),M(" ",y(44,41,"auth.profile.systemInfo")," "),d(8),M(" ",y(52,43,"auth.profile.registrationDate")," "),d(3),I(e.formatDate(e.organization.createdAt)),d(5),M(" ",y(60,45,"auth.profile.verificationDocument")," "),d(4),F(e.organization.idImage?63:64),d(7),M(" ",y(71,47,"admin.organizations.sendNotification")," "),d(4),M(" ",y(75,49,"admin.organizations.actionsDescription")," "),d(3),U("active",e.showNotificationForm),O("disabled",e.isProcessing),d(),U("fa-bell",!e.showNotificationForm)("fa-chevron-up",e.showNotificationForm),d(),M(" ",e.showNotificationForm?y(80,51,"admin.organizations.hideForm"):y(81,53,"admin.organizations.sendNotification")," "),d(3),F(e.showNotificationForm?82:-1)}}var p0=class n{constructor(t,e,i,r,o){this.organizationService=t;this.route=e;this.router=i;this.notifications=r;this.fb=o;this.initializeForm()}organization=null;isLoading=!0;isProcessing=!1;showNotificationForm=!1;notificationForm;notificationTypes=[{value:"approval",label:"admin.organizations.notificationType.approval",icon:"fa-check-circle",color:"success"},{value:"rejection",label:"admin.organizations.notificationType.rejection",icon:"fa-times-circle",color:"danger"},{value:"general",label:"admin.organizations.notificationType.general",icon:"fa-bell",color:"info"},{value:"status",label:"admin.organizations.notificationType.status",icon:"fa-info-circle",color:"primary"},{value:"verification",label:"admin.organizations.notificationType.verification",icon:"fa-shield-alt",color:"warning"}];destroy$=new le;initializeForm(){this.notificationForm=this.fb.group({type:["general",[te.required]],title:["",[te.required,te.minLength(3)]],message:["",[te.required,te.minLength(10)]]})}ngOnInit(){this.route.params.pipe(we(t=>{let e=t.id;return e?this.organizationService.getOrganization(e):(this.isLoading=!1,this.showErrorAlert("admin.organizations.invalidId"),$(null))}),ne(this.destroy$)).subscribe({next:t=>{this.organization=t,this.isLoading=!1,t||this.showErrorAlert("admin.organizations.notFound")},error:t=>{console.error("Error loading organization:",t),this.isLoading=!1,this.showErrorAlert("admin.organizations.loadError")}})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}toggleNotificationForm(){this.showNotificationForm=!this.showNotificationForm,this.showNotificationForm&&this.resetForm()}resetForm(){this.notificationForm.reset({type:"general",title:"",message:""}),this.notificationForm.markAsUntouched(),this.notificationForm.markAsPristine()}getFormError(t){let e=this.notificationForm.get(t);return e?.hasError("required")&&e?.touched?t==="type"?"admin.organizations.typeRequired":t==="title"?"admin.organizations.titleRequired":"admin.organizations.messageRequired":e?.hasError("minlength")&&e?.touched?t==="title"?"admin.organizations.titleMinLength":"admin.organizations.messageMinLength":""}getNotificationTypeInfo(t){let e=this.notificationTypes.find(i=>i.value===t);return e?{icon:e.icon,color:e.color,description:e.label}:{icon:"fa-bell",color:"info",description:"admin.organizations.notificationType.general"}}doesTypeChangeStatus(t){return t==="approval"||t==="rejection"}onSubmitNotificationForm(){if(!this.organization)return;if(this.notificationForm.invalid){this.markFormGroupTouched(),this.showValidationError("admin.organizations.formInvalid");return}let{type:t,title:e,message:i}=this.notificationForm.value;this.isProcessing=!0,t==="approval"?this.handleApprovalAction(e.trim(),i.trim()):t==="rejection"?this.handleRejectionAction(e.trim(),i.trim()):this.handleNotificationOnly(e.trim(),i.trim(),t)}handleApprovalAction(t,e){this.organizationService.approveOrganization(this.organization.uid).pipe(Ge(i=>this.handleError(i,"approval"))).subscribe({next:i=>{i!==null&&this.handleSuccess("approval",t,e)}})}handleRejectionAction(t,e){this.organizationService.rejectOrganization(this.organization.uid).pipe(Ge(i=>this.handleError(i,"rejection"))).subscribe({next:i=>{i!==null&&this.handleSuccess("rejection",t,e)}})}handleNotificationOnly(t,e,i){this.sendNotification(t,e,i),this.isProcessing=!1,this.resetForm(),this.showNotificationForm=!1,this.showSuccessAlert("admin.organizations.notificationSent","admin.organizations.notificationSentMessage")}markFormGroupTouched(){Object.keys(this.notificationForm.controls).forEach(t=>{this.notificationForm.get(t)?.markAsTouched()})}handleSuccess(t,e,i){this.isProcessing=!1,this.organization&&(this.organization.status=t==="approval"?"approved":"rejected",this.sendNotification(e,i,t)),this.resetForm(),this.showNotificationForm=!1;let r=t==="approval"?"admin.organizations.approveSuccess":"admin.organizations.rejectSuccess",o=t==="approval"?"admin.organizations.approveSuccessMessage":"admin.organizations.rejectSuccessMessage";this.showSuccessAlert(r,o)}handleError(t,e){this.isProcessing=!1,console.error(`Error ${e}ing organization:`,t);let i=e==="approval"?"admin.organizations.approveError":"admin.organizations.rejectError";return this.showErrorAlert(i),$(null)}showSuccessAlert(t,e){f0.default.fire({icon:"success",title:t,text:e||"",confirmButtonText:"admin.organizations.ok",confirmButtonColor:"#16A34A",timer:3e3,timerProgressBar:!0}).then(()=>{this.router.navigate(["/admin/organizations"])})}showErrorAlert(t){f0.default.fire({icon:"error",title:"admin.organizations.error",text:t,confirmButtonText:"admin.organizations.ok",confirmButtonColor:"#DC2626"})}showValidationError(t){f0.default.fire({icon:"warning",title:"admin.organizations.validationError",text:t,confirmButtonText:"admin.organizations.ok",confirmButtonColor:"#D97706"})}getStatusClass(t){switch(t){case"approved":return"badge-success";case"pending":return"badge-warning";case"rejected":return"badge-error";default:return"badge-secondary"}}getStatusKey(t){return`auth.profile.status.${t}`}formatDate(t){return t?new Date(t).toLocaleDateString("ar-EG",{year:"numeric",month:"long",day:"numeric"}):""}sendNotification(t,e,i){this.organization&&this.notifications.sendNotificationToOrganization(this.organization.uid,{title:t,message:e,type:i})}static \u0275fac=function(e){return new(e||n)(A(Qt),A(Tt),A(He),A(Hi),A(hn))};static \u0275cmp=de({type:n,selectors:[["app-organization-details"]],decls:9,vars:6,consts:[[1,"organization-details"],[1,"back-button"],["type","button","routerLink","/admin/organizations",1,"btn","btn-back"],[1,"fas","fa-arrow-left"],[1,"loading-state"],[1,"alert","alert-error"],[1,"details-content"],["role","status",1,"spinner-border","text-primary"],[1,"visually-hidden"],[1,"mt-3"],[1,"fas","fa-exclamation-circle"],[1,"details-header"],[1,"row","align-items-center"],[1,"col-12","col-md-6"],[1,"details-title"],[1,"fas","fa-building"],[1,"details-subtitle"],[1,"col-12","col-md-4","text-md-end"],[1,"status-badge",3,"ngClass"],[1,"fas"],[1,"row","g-4"],[1,"col-12","col-lg-8"],[1,"details-card"],[1,"card-title"],[1,"fas","fa-info-circle"],[1,"card-content"],[1,"row","g-3"],[1,"info-item"],[1,"info-label"],[1,"fas","fa-envelope"],[1,"info-value"],[1,"fas","fa-phone"],[1,"fas","fa-cog"],[1,"fas","fa-calendar"],[1,"col-12","col-lg-4"],[1,"fas","fa-id-card"],[1,"id-image-container"],[1,"id-image",3,"src","alt"],[1,"no-image"],[1,"col-12"],[1,"details-card","actions-card"],[1,"card-header"],[1,"fas","fa-bell"],[1,"card-description"],[1,"card-body"],["type","button",1,"btn","btn-primary","w-100","mb-3",3,"click","disabled"],[1,"notification-form",3,"formGroup"],[1,"fas","fa-image"],[1,"notification-form",3,"ngSubmit","formGroup"],["role","alert",1,"alert","alert-info","d-flex","align-items-center","mb-4"],[1,"fas","fa-lightbulb","me-2"],[1,"mb-0","small"],[1,"mb-3"],["for","notification-type",1,"form-label"],[1,"fas","fa-tag","me-2"],[1,"text-danger"],["id","notification-type","formControlName","type",1,"form-select",3,"disabled"],[3,"value"],[1,"invalid-feedback","d-block"],[1,"form-text","mt-2"],["for","notification-title",1,"form-label"],[1,"fas","fa-heading","me-2"],["type","text","id","notification-title","formControlName","title",1,"form-control",3,"placeholder","disabled"],[1,"mb-4"],["for","notification-message",1,"form-label"],[1,"fas","fa-comment-alt","me-2"],["id","notification-message","formControlName","message","rows","5",1,"form-control",3,"placeholder","disabled"],[1,"form-text"],[1,"fas","fa-info-circle","me-1"],[1,"d-flex","gap-2"],["type","button",1,"btn","btn-outline-secondary","flex-fill",3,"click","disabled"],[1,"fas","fa-times","me-2"],["type","submit",1,"btn","btn-primary","flex-fill",3,"disabled"],[1,"fas","fa-exclamation-circle","me-1"],[1,"alert","alert-warning","py-2","px-3","mb-0","mt-2"],[1,"alert","alert-info","py-2","px-3","mb-0","mt-2"],[1,"fas","fa-exclamation-triangle","me-2"],[1,"fas","fa-info-circle","me-2"],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm","me-2"],[1,"fas","fa-paper-plane","me-2"]],template:function(e,i){e&1&&(f(0,"div",0)(1,"div",1)(2,"button",2),w(3,"i",3),_(4),v(5,"translate"),h()(),L(6,uJ,8,6,"div",4),L(7,fJ,4,3,"div",5),L(8,PJ,83,55,"div",6),h()),e&2&&(d(4),M(" ",y(5,4,"admin.organizations.back")," "),d(2),F(i.isLoading?6:-1),d(),F(!i.isLoading&&!i.organization?7:-1),d(),F(!i.isLoading&&i.organization?8:-1))},dependencies:[ge,Xt,ke,Ue,me,gn,pn,ri,oi,Mt,Fn,kt,fn,Kt,tn,ve],styles:[`.organization-details[_ngcontent-%COMP%]   .back-button[_ngcontent-%COMP%]{margin-bottom:32px}.organization-details[_ngcontent-%COMP%]   .back-button[_ngcontent-%COMP%]   .btn-back[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:8px;padding:8px 16px;background:#0f172a1a;color:#0f172a;border:1px solid rgba(15,23,42,.2);border-radius:8px;font-weight:600;font-size:.9rem;font-family:Cairo,sans-serif;cursor:pointer;transition:all .3s ease;text-decoration:none}.organization-details[_ngcontent-%COMP%]   .back-button[_ngcontent-%COMP%]   .btn-back[_ngcontent-%COMP%]:hover{background:#0f172a33;border-color:#0f172a4d}.organization-details[_ngcontent-%COMP%]   .back-button[_ngcontent-%COMP%]   .btn-back[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.9rem}.organization-details[_ngcontent-%COMP%]   .loading-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;min-height:400px;text-align:center}.organization-details[_ngcontent-%COMP%]   .loading-state[_ngcontent-%COMP%]   .spinner-border[_ngcontent-%COMP%]{width:3rem;height:3rem;border-width:.3rem}.organization-details[_ngcontent-%COMP%]   .loading-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#0f172ab3;font-size:1rem;margin:0}.organization-details[_ngcontent-%COMP%]   .alert[_ngcontent-%COMP%]{padding:16px;border-radius:8px;margin-bottom:32px;display:flex;align-items:center;gap:8px;font-size:.9rem}.organization-details[_ngcontent-%COMP%]   .alert.alert-error[_ngcontent-%COMP%]{background:#dc26261a;color:#dc2626;border:1px solid rgba(220,38,38,.3)}.organization-details[_ngcontent-%COMP%]   .alert.alert-success[_ngcontent-%COMP%]{background:#16a34a1a;color:#16a34a;border:1px solid rgba(22,163,74,.3)}.organization-details[_ngcontent-%COMP%]   .alert[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1rem}.organization-details[_ngcontent-%COMP%]   .details-header[_ngcontent-%COMP%]{margin-bottom:64px;padding-bottom:32px;border-bottom:2px solid rgba(14,58,93,.1)}.organization-details[_ngcontent-%COMP%]   .details-header[_ngcontent-%COMP%]   .details-title[_ngcontent-%COMP%]{font-size:2.5rem;font-weight:700;color:#0e3a5d;margin-bottom:8px;font-family:Cairo,sans-serif;display:flex;align-items:center;gap:16px}.organization-details[_ngcontent-%COMP%]   .details-header[_ngcontent-%COMP%]   .details-title[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#c9a24d;font-size:2rem}.organization-details[_ngcontent-%COMP%]   .details-header[_ngcontent-%COMP%]   .details-subtitle[_ngcontent-%COMP%]{font-size:1rem;color:#0f172a99;margin:0}.organization-details[_ngcontent-%COMP%]   .details-header[_ngcontent-%COMP%]   .status-badge[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:8px;padding:8px 16px;border-radius:8px;font-weight:600;font-size:.9rem;font-family:Cairo,sans-serif}.organization-details[_ngcontent-%COMP%]   .details-header[_ngcontent-%COMP%]   .status-badge.badge-success[_ngcontent-%COMP%]{background:#16a34a1a;color:#16a34a;border:1px solid rgba(22,163,74,.3)}.organization-details[_ngcontent-%COMP%]   .details-header[_ngcontent-%COMP%]   .status-badge.badge-warning[_ngcontent-%COMP%]{background:#d977061a;color:#d97706;border:1px solid rgba(217,119,6,.3)}.organization-details[_ngcontent-%COMP%]   .details-header[_ngcontent-%COMP%]   .status-badge.badge-error[_ngcontent-%COMP%]{background:#dc26261a;color:#dc2626;border:1px solid rgba(220,38,38,.3)}.organization-details[_ngcontent-%COMP%]   .details-header[_ngcontent-%COMP%]   .status-badge[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1rem}.organization-details[_ngcontent-%COMP%]   .details-card[_ngcontent-%COMP%]{background:#fff;border-radius:16px;padding:32px;margin-bottom:32px;box-shadow:0 4px 8px #00000026;border:1px solid rgba(14,58,93,.1)}.organization-details[_ngcontent-%COMP%]   .details-card.actions-card[_ngcontent-%COMP%]{border:2px solid rgba(201,162,77,.2)}.organization-details[_ngcontent-%COMP%]   .details-card[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{font-size:1.3rem;font-weight:600;color:#0e3a5d;margin-bottom:16px;padding-bottom:16px;border-bottom:2px solid rgba(201,162,77,.2);display:flex;align-items:center;gap:8px;font-family:Cairo,sans-serif}.organization-details[_ngcontent-%COMP%]   .details-card[_ngcontent-%COMP%]   .card-description[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;color:#0e3a5db3;font-size:.9rem;margin-bottom:32px;padding:8px 16px;background:#c9a24d0d;border-radius:4px;border-left:3px solid #C9A24D}.organization-details[_ngcontent-%COMP%]   .details-card[_ngcontent-%COMP%]   .card-description[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#c9a24d;font-size:.9rem}.organization-details[_ngcontent-%COMP%]   .details-card[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#c9a24d;font-size:1.1rem}.organization-details[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]{margin-bottom:16px}.organization-details[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]:last-child{margin-bottom:0}.organization-details[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]   .info-label[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;font-weight:600;color:#0f172a;margin-bottom:4px;font-size:.9rem;font-family:Cairo,sans-serif}.organization-details[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]   .info-label[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#0e3a5d;font-size:.85rem;width:16px}.organization-details[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]   .info-value[_ngcontent-%COMP%]{color:#0f172acc;font-size:1rem;margin:0;padding-left:24px;word-break:break-word}.organization-details[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]   .info-value[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#c9a24d;text-decoration:none;transition:all .3s ease}.organization-details[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]   .info-value[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#a8832f;text-decoration:underline}.organization-details[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]   .info-value.text-muted[_ngcontent-%COMP%]{color:#0f172a80;font-size:.85rem}.id-image-container[_ngcontent-%COMP%]{width:100%;border-radius:8px;overflow:hidden;border:2px solid rgba(14,58,93,.1);background:#f6f7f9;transition:all .3s ease}.id-image-container[_ngcontent-%COMP%]:hover{border-color:#c9a24d;box-shadow:0 4px 8px #00000026}.id-image-container[_ngcontent-%COMP%]   .id-image[_ngcontent-%COMP%]{width:100%;height:auto;display:block;object-fit:contain;min-height:200px;max-height:400px;transition:transform .3s ease}.id-image-container[_ngcontent-%COMP%]   .id-image[_ngcontent-%COMP%]:hover{transform:scale(1.02)}.id-image-container[_ngcontent-%COMP%]   .no-image[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:64px;color:#0f172a66;min-height:200px}.id-image-container[_ngcontent-%COMP%]   .no-image[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:3rem;margin-bottom:16px}.id-image-container[_ngcontent-%COMP%]   .no-image[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:.9rem}.transfer-receipt-container[_ngcontent-%COMP%]{width:100%;border-radius:8px;overflow:hidden;border:2px solid rgba(201,162,77,.2);background:linear-gradient(135deg,#c9a24d0d,#f6f7f9);transition:all .3s ease;position:relative}.transfer-receipt-container[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:0;background:linear-gradient(135deg,rgba(201,162,77,.03) 0%,transparent 100%);pointer-events:none}.transfer-receipt-container[_ngcontent-%COMP%]:hover{border-color:#c9a24d;box-shadow:0 8px 16px #0003;transform:translateY(-2px)}.transfer-receipt-container[_ngcontent-%COMP%]   .transfer-receipt-image[_ngcontent-%COMP%]{width:100%;height:auto;display:block;object-fit:contain;min-height:200px;max-height:400px;transition:transform .3s ease;position:relative;z-index:1}.transfer-receipt-container[_ngcontent-%COMP%]   .transfer-receipt-image[_ngcontent-%COMP%]:hover{transform:scale(1.03)}.actions-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{margin-bottom:32px}.actions-card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{padding:0}.actions-card[_ngcontent-%COMP%]   .btn-primary.active[_ngcontent-%COMP%]{background:#ae8835;border-color:#ae8835;box-shadow:0 0 0 3px #c9a24d40}.actions-card[_ngcontent-%COMP%]   .notification-form[_ngcontent-%COMP%]{background:#fff;border:2px solid rgba(201,162,77,.15);border-radius:16px;padding:64px;box-shadow:0 4px 8px #00000026;margin-top:16px}.actions-card[_ngcontent-%COMP%]   .notification-form[_ngcontent-%COMP%]   .alert[_ngcontent-%COMP%]{border-left:4px solid;border-radius:8px;font-size:.9rem}.actions-card[_ngcontent-%COMP%]   .notification-form[_ngcontent-%COMP%]   .alert.alert-info[_ngcontent-%COMP%]{border-left-color:#c9a24d;background:#c9a24d14;color:#c9a24d}.actions-card[_ngcontent-%COMP%]   .notification-form[_ngcontent-%COMP%]   .alert.alert-warning[_ngcontent-%COMP%]{border-left-color:#d97706;background:#d9770614;color:#d97706}.actions-card[_ngcontent-%COMP%]   .notification-form[_ngcontent-%COMP%]   .form-label[_ngcontent-%COMP%]{font-weight:600;color:#0f172a;margin-bottom:8px;display:flex;align-items:center}.actions-card[_ngcontent-%COMP%]   .notification-form[_ngcontent-%COMP%]   .form-label[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#c9a24d}.actions-card[_ngcontent-%COMP%]   .notification-form[_ngcontent-%COMP%]   .form-label[_ngcontent-%COMP%]   .text-danger[_ngcontent-%COMP%]{margin-left:4px}.actions-card[_ngcontent-%COMP%]   .notification-form[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%], .actions-card[_ngcontent-%COMP%]   .notification-form[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{border:2px solid rgba(14,58,93,.2);border-radius:8px;padding:16px;font-size:.95rem;transition:all .2s ease;font-family:Cairo,sans-serif}.actions-card[_ngcontent-%COMP%]   .notification-form[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%]:focus, .actions-card[_ngcontent-%COMP%]   .notification-form[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:focus{border-color:#c9a24d;box-shadow:0 0 0 3px #c9a24d1a;outline:none}.actions-card[_ngcontent-%COMP%]   .notification-form[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%]:disabled, .actions-card[_ngcontent-%COMP%]   .notification-form[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:disabled{background-color:#f6f7f980;opacity:.7;cursor:not-allowed}.actions-card[_ngcontent-%COMP%]   .notification-form[_ngcontent-%COMP%]   .form-select.is-invalid[_ngcontent-%COMP%], .actions-card[_ngcontent-%COMP%]   .notification-form[_ngcontent-%COMP%]   .form-control.is-invalid[_ngcontent-%COMP%]{border-color:#dc2626}.actions-card[_ngcontent-%COMP%]   .notification-form[_ngcontent-%COMP%]   .form-select.is-invalid[_ngcontent-%COMP%]:focus, .actions-card[_ngcontent-%COMP%]   .notification-form[_ngcontent-%COMP%]   .form-control.is-invalid[_ngcontent-%COMP%]:focus{border-color:#dc2626;box-shadow:0 0 0 3px #dc26261a}.actions-card[_ngcontent-%COMP%]   .notification-form[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%]::placeholder, .actions-card[_ngcontent-%COMP%]   .notification-form[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]::placeholder{color:#0e3a5d80}.actions-card[_ngcontent-%COMP%]   .notification-form[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%]{cursor:pointer;background-image:url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16'%3e%3cpath fill='none' stroke='%23343a40' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M2 5l6 6 6-6'/%3e%3c/svg%3e");background-repeat:no-repeat;background-position:right .75rem center;background-size:16px 12px;padding-right:2.5rem}.actions-card[_ngcontent-%COMP%]   .notification-form[_ngcontent-%COMP%]   textarea.form-control[_ngcontent-%COMP%]{resize:vertical;min-height:120px}.actions-card[_ngcontent-%COMP%]   .notification-form[_ngcontent-%COMP%]   .invalid-feedback[_ngcontent-%COMP%]{display:flex;align-items:center;margin-top:4px;font-size:.85rem;color:#dc2626}.actions-card[_ngcontent-%COMP%]   .notification-form[_ngcontent-%COMP%]   .invalid-feedback[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.8rem}.actions-card[_ngcontent-%COMP%]   .notification-form[_ngcontent-%COMP%]   .form-text[_ngcontent-%COMP%]{color:#0e3a5db3;font-size:.85rem;margin-top:4px}.actions-card[_ngcontent-%COMP%]   .notification-form[_ngcontent-%COMP%]   .form-text[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#0e3a5d99}.actions-card[_ngcontent-%COMP%]   .notification-form[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{font-weight:600;padding:16px 32px;border-radius:8px;transition:all .2s ease;display:flex;align-items:center;justify-content:center}.actions-card[_ngcontent-%COMP%]   .notification-form[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.9rem}.actions-card[_ngcontent-%COMP%]   .notification-form[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.actions-card[_ngcontent-%COMP%]   .notification-form[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]{background:#c9a24d;border-color:#c9a24d}.actions-card[_ngcontent-%COMP%]   .notification-form[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]:hover:not(:disabled){background:#ae8835;border-color:#ae8835;transform:translateY(-2px);box-shadow:0 4px 8px #00000026}.actions-card[_ngcontent-%COMP%]   .notification-form[_ngcontent-%COMP%]   .btn-outline-secondary[_ngcontent-%COMP%]{border:2px solid rgba(14,58,93,.3);color:#0f172a}.actions-card[_ngcontent-%COMP%]   .notification-form[_ngcontent-%COMP%]   .btn-outline-secondary[_ngcontent-%COMP%]:hover:not(:disabled){background:#0e3a5d1a;border-color:#0e3a5d66}.actions-card[_ngcontent-%COMP%]   .notification-form[_ngcontent-%COMP%]   .spinner-border-sm[_ngcontent-%COMP%]{width:1rem;height:1rem;border-width:.15rem}@media (max-width: 991.98px){.organization-details[_ngcontent-%COMP%]   .details-header[_ngcontent-%COMP%]   .details-title[_ngcontent-%COMP%]{font-size:2rem}}@media (max-width: 767.98px){.organization-details[_ngcontent-%COMP%]   .details-header[_ngcontent-%COMP%]   .details-title[_ngcontent-%COMP%], .organization-details[_ngcontent-%COMP%]   .details-header[_ngcontent-%COMP%]   .details-title[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.5rem}.organization-details[_ngcontent-%COMP%]   .details-header[_ngcontent-%COMP%]   .status-badge[_ngcontent-%COMP%]{margin-top:16px}.organization-details[_ngcontent-%COMP%]   .details-card[_ngcontent-%COMP%]{padding:16px}.organization-details[_ngcontent-%COMP%]   .details-card[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{font-size:1.1rem}.organization-details[_ngcontent-%COMP%]   .details-card[_ngcontent-%COMP%]   .actions-card[_ngcontent-%COMP%]   .action-section[_ngcontent-%COMP%]{padding:8px}}`]})};var Ff=li(si());var OJ=n=>["/admin/courses",n];function xJ(n,t){if(n&1&&(f(0,"option",26),_(1),v(2,"translate"),h()),n&2){let e=t.$implicit,i=x();O("value",e),d(),M(" ",y(2,2,i.getCategoryName(e))," ")}}function IJ(n,t){if(n&1&&(f(0,"option",26),_(1),v(2,"translate"),h()),n&2){let e=t.$implicit,i=x();O("value",e),d(),M(" ",y(2,2,i.getPrivacyName(e))," ")}}function SJ(n,t){n&1&&(f(0,"div",27)(1,"div",28)(2,"span",29),_(3),v(4,"translate"),h()(),f(5,"p"),_(6),v(7,"translate"),h()()),n&2&&(d(3),I(y(4,2,"admin.courses.loading")),d(3),I(y(7,4,"admin.courses.loadingCourses")))}function TJ(n,t){if(n&1&&w(0,"img",55),n&2){let e=x().$implicit;O("src",e.thumbnail,it)("alt",e.title)}}function DJ(n,t){n&1&&(f(0,"div",56),w(1,"i",4),h())}function AJ(n,t){n&1&&w(0,"i",57)}function kJ(n,t){n&1&&w(0,"i",58)}function RJ(n,t){if(n&1){let e=ce();f(0,"div",33)(1,"div",34)(2,"div",35),J(3,TJ,1,2,"img",36)(4,DJ,2,0,"div",37),f(5,"span",38),w(6,"i",39),_(7),v(8,"translate"),h()(),f(9,"div",40)(10,"h3",41),_(11),h(),f(12,"p",42),_(13),v(14,"slice"),h(),f(15,"div",43)(16,"span",44),w(17,"i",45),_(18),v(19,"translate"),h(),f(20,"span",44),J(21,AJ,1,0,"i",46)(22,kJ,1,0,"i",47),_(23),v(24,"translate"),h(),f(25,"span",44),w(26,"i",48),_(27),v(28,"translate"),h()()(),f(29,"div",49)(30,"a",50),w(31,"i",51),_(32),v(33,"translate"),h(),f(34,"button",52),z("click",function(){let r=G(e).$implicit,o=x(2);return K(o.togglePublish(r))}),w(35,"i",39),_(36),v(37,"translate"),h(),f(38,"button",53),z("click",function(){let r=G(e).$implicit,o=x(2);return K(o.deleteCourse(r))}),w(39,"i",54),_(40),v(41,"translate"),h()()()()}if(n&2){let e=t.$implicit,i=x(2);d(3),O("ngIf",e.thumbnail),d(),O("ngIf",!e.thumbnail),d(),U("published",e.published)("unpublished",!e.published),d(),U("fa-check-circle",e.published)("fa-times-circle",!e.published),d(),M(" ",y(8,32,e.published?"admin.courses.published":"admin.courses.unpublished")," "),d(4),I(e.title),d(2),Ct("",jd(14,34,e.description,0,100),"",e.description.length>100?"...":""),d(5),M(" ",y(19,38,i.getCategoryName(e.category))," "),d(3),O("ngIf",e.Privacy==="premium"),d(),O("ngIf",e.Privacy==="free"),d(),M(" ",y(24,40,i.getPrivacyName(e.Privacy))," "),d(4),Ct(" ",e.duration," ",y(28,42,"admin.courses.hours")," "),d(3),O("routerLink",ar(50,OJ,e.id)),d(2),M(" ",y(33,44,"admin.courses.edit")," "),d(2),U("btn-success",!e.published)("btn-warning",e.published),d(),U("fa-eye",!e.published)("fa-eye-slash",e.published),d(),M(" ",y(37,46,e.published?"admin.courses.unpublish":"admin.courses.publish")," "),d(4),M(" ",y(41,48,"admin.courses.delete")," ")}}function NJ(n,t){if(n&1&&(f(0,"div",30)(1,"div",31),J(2,RJ,42,52,"div",32),h()()),n&2){let e=x();d(2),O("ngForOf",e.filteredCourses)}}function LJ(n,t){n&1&&(f(0,"p"),_(1),v(2,"translate"),h()),n&2&&(d(),M(" ",y(2,1,"admin.courses.noCoursesFiltered")," "))}function FJ(n,t){n&1&&(f(0,"p"),_(1),v(2,"translate"),h()),n&2&&(d(),M(" ",y(2,1,"admin.courses.noCoursesDescription")," "))}function BJ(n,t){n&1&&(f(0,"a",64),w(1,"i",7),_(2),v(3,"translate"),h()),n&2&&(d(2),M(" ",y(3,1,"admin.courses.createFirstCourse")," "))}function zJ(n,t){if(n&1&&(f(0,"div",59)(1,"div",60),w(2,"i",61),f(3,"h3"),_(4),v(5,"translate"),h(),J(6,LJ,3,3,"p",62)(7,FJ,3,3,"p",62)(8,BJ,4,3,"a",63),h()()),n&2){let e=x();d(4),I(y(5,4,"admin.courses.noCourses")),d(2),O("ngIf",e.searchQuery||e.selectedCategory!=="all"||e.selectedPrivacy!=="all"||e.publishedFilter!=="all"),d(),O("ngIf",!e.searchQuery&&e.selectedCategory==="all"&&e.selectedPrivacy==="all"&&e.publishedFilter==="all"),d(),O("ngIf",!e.searchQuery&&e.selectedCategory==="all"&&e.selectedPrivacy==="all"&&e.publishedFilter==="all")}}var h0=class n{constructor(t){this.coursesService=t}courses=[];filteredCourses=[];isLoading=!1;searchQuery="";selectedCategory="all";selectedPrivacy="all";publishedFilter="all";categories=["programming","design","marketing","business","technology","health","education","other"];privacyTypes=["free","premium"];destroy$=new le;ngOnInit(){this.loadCourses()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}loadCourses(){this.isLoading=!0,this.coursesService.getAllCourses().pipe(ne(this.destroy$)).subscribe({next:t=>{this.courses=t,this.applyFilters(),this.isLoading=!1},error:t=>{console.error("Error loading courses:",t),this.isLoading=!1,this.showErrorAlert("admin.courses.loadError")}})}applyFilters(){this.filteredCourses=this.courses.filter(t=>{let e=!this.searchQuery||t.title.toLowerCase().includes(this.searchQuery.toLowerCase())||t.description.toLowerCase().includes(this.searchQuery.toLowerCase()),i=this.selectedCategory==="all"||t.category===this.selectedCategory,r=this.selectedPrivacy==="all"||t.Privacy===this.selectedPrivacy,o=this.publishedFilter==="all"||this.publishedFilter==="published"&&t.published||this.publishedFilter==="unpublished"&&!t.published;return e&&i&&r&&o})}deleteCourse(t){Ff.default.fire({title:"admin.courses.deleteConfirmTitle",text:"admin.courses.deleteConfirmText",icon:"warning",showCancelButton:!0,confirmButtonText:"admin.courses.delete",cancelButtonText:"admin.courses.cancel",confirmButtonColor:"#DC2626",cancelButtonColor:"#6B7280"}).then(e=>{e.isConfirmed&&this.coursesService.deleteCourse(t.id).pipe(ne(this.destroy$)).subscribe({next:()=>{this.showSuccessAlert("admin.courses.deleteSuccess"),this.loadCourses()},error:i=>{console.error("Error deleting course:",i),this.showErrorAlert("admin.courses.deleteError")}})})}togglePublish(t){let e=t.published?"unpublish":"publish",i=t.published?"admin.courses.unpublish":"admin.courses.publish";Ff.default.fire({title:"admin.courses.confirmAction",text:i,icon:"question",showCancelButton:!0,confirmButtonText:"admin.courses.confirm",cancelButtonText:"admin.courses.cancel",confirmButtonColor:"#16A34A",cancelButtonColor:"#6B7280"}).then(r=>{r.isConfirmed&&(t.published?this.coursesService.unpublishCourse(t.id):this.coursesService.publishCourse(t.id)).pipe(ne(this.destroy$)).subscribe({next:()=>{this.showSuccessAlert(t.published?"admin.courses.unpublishSuccess":"admin.courses.publishSuccess"),this.loadCourses()},error:s=>{console.error(`Error ${e}ing course:`,s),this.showErrorAlert(`admin.courses.${e}Error`)}})})}getCategoryName(t){return`admin.courses.categories.${t}`}getPrivacyName(t){return t==="free"?"admin.courses.privacy.free":"admin.courses.privacy.premium"}showSuccessAlert(t){Ff.default.fire({icon:"success",title:"admin.courses.success",text:t,confirmButtonText:"admin.courses.ok",confirmButtonColor:"#16A34A"})}showErrorAlert(t){Ff.default.fire({icon:"error",title:"admin.courses.error",text:t,confirmButtonText:"admin.courses.ok",confirmButtonColor:"#DC2626"})}static \u0275fac=function(e){return new(e||n)(A(so))};static \u0275cmp=de({type:n,selectors:[["app-courses-list"]],decls:54,vars:40,consts:[[1,"courses-list"],[1,"page-header"],[1,"header-content"],[1,"page-title"],[1,"fas","fa-book"],[1,"page-subtitle"],["routerLink","/admin/courses/new",1,"btn","btn-primary","create-btn"],[1,"fas","fa-plus"],[1,"filters-section"],[1,"row","g-3"],[1,"col-12","col-md-4"],["dir","ltr",1,"input-group"],[1,"input-group-text"],[1,"fas","fa-search"],["type","text",1,"form-control",3,"ngModelChange","ngModel","placeholder"],[1,"col-12","col-md-2"],[1,"form-select",3,"ngModelChange","ngModel"],["value","all"],[3,"value",4,"ngFor","ngForOf"],["value","published"],["value","unpublished"],[1,"results-count"],[1,"badge","bg-secondary"],["class","loading-state",4,"ngIf"],["class","courses-grid",4,"ngIf"],["class","empty-state",4,"ngIf"],[3,"value"],[1,"loading-state"],["role","status",1,"spinner-border","text-primary"],[1,"visually-hidden"],[1,"courses-grid"],[1,"row","g-4"],["class","col-12 col-md-6 col-lg-4",4,"ngFor","ngForOf"],[1,"col-12","col-md-6","col-lg-4"],[1,"course-card"],[1,"course-thumbnail"],[3,"src","alt",4,"ngIf"],["class","thumbnail-placeholder",4,"ngIf"],[1,"status-badge"],[1,"fas"],[1,"course-info"],[1,"course-title"],[1,"course-description"],[1,"course-meta"],[1,"meta-item"],[1,"fas","fa-tag"],["class","fas fa-lock",4,"ngIf"],["class","fas fa-unlock",4,"ngIf"],[1,"fas","fa-clock"],[1,"course-actions"],[1,"btn","btn-sm","btn-outline-primary",3,"routerLink"],[1,"fas","fa-edit"],["type","button",1,"btn","btn-sm",3,"click"],["type","button",1,"btn","btn-sm","btn-outline-danger",3,"click"],[1,"fas","fa-trash"],[3,"src","alt"],[1,"thumbnail-placeholder"],[1,"fas","fa-lock"],[1,"fas","fa-unlock"],[1,"empty-state"],[1,"empty-state-content"],[1,"fas","fa-book-open"],[4,"ngIf"],["routerLink","/admin/courses/new","class","btn btn-primary",4,"ngIf"],["routerLink","/admin/courses/new",1,"btn","btn-primary"]],template:function(e,i){e&1&&(f(0,"div",0)(1,"div",1)(2,"div",2)(3,"div")(4,"h1",3),w(5,"i",4),_(6),v(7,"translate"),h(),f(8,"p",5),_(9),v(10,"translate"),h()(),f(11,"a",6),w(12,"i",7),_(13),v(14,"translate"),h()()(),f(15,"div",8)(16,"div",9)(17,"div",10)(18,"div",11)(19,"span",12),w(20,"i",13),h(),f(21,"input",14),v(22,"translate"),sr("ngModelChange",function(o){return zr(i.searchQuery,o)||(i.searchQuery=o),o}),z("ngModelChange",function(){return i.applyFilters()}),h()()(),f(23,"div",15)(24,"select",16),sr("ngModelChange",function(o){return zr(i.selectedCategory,o)||(i.selectedCategory=o),o}),z("ngModelChange",function(){return i.applyFilters()}),f(25,"option",17),_(26),v(27,"translate"),h(),J(28,xJ,3,4,"option",18),h()(),f(29,"div",15)(30,"select",16),sr("ngModelChange",function(o){return zr(i.selectedPrivacy,o)||(i.selectedPrivacy=o),o}),z("ngModelChange",function(){return i.applyFilters()}),f(31,"option",17),_(32),v(33,"translate"),h(),J(34,IJ,3,4,"option",18),h()(),f(35,"div",15)(36,"select",16),sr("ngModelChange",function(o){return zr(i.publishedFilter,o)||(i.publishedFilter=o),o}),z("ngModelChange",function(){return i.applyFilters()}),f(37,"option",17),_(38),v(39,"translate"),h(),f(40,"option",19),_(41),v(42,"translate"),h(),f(43,"option",20),_(44),v(45,"translate"),h()()(),f(46,"div",15)(47,"div",21)(48,"span",22),_(49),v(50,"translate"),h()()()()(),J(51,SJ,8,6,"div",23)(52,NJ,3,1,"div",24)(53,zJ,9,6,"div",25),h()),e&2&&(d(6),M(" ",y(7,20,"admin.courses.title")," "),d(3),I(y(10,22,"admin.courses.subtitle")),d(4),M(" ",y(14,24,"admin.courses.createCourse")," "),d(8),or("ngModel",i.searchQuery),O("placeholder",y(22,26,"admin.courses.searchPlaceholder")),d(3),or("ngModel",i.selectedCategory),d(2),I(y(27,28,"admin.courses.allCategories")),d(2),O("ngForOf",i.categories),d(2),or("ngModel",i.selectedPrivacy),d(2),I(y(33,30,"admin.courses.allPrivacy")),d(2),O("ngForOf",i.privacyTypes),d(2),or("ngModel",i.publishedFilter),d(2),I(y(39,32,"admin.courses.allStatus")),d(3),I(y(42,34,"admin.courses.published")),d(3),I(y(45,36,"admin.courses.unpublished")),d(5),Ct(" ",i.filteredCourses.length," ",y(50,38,"admin.courses.courses")," "),d(2),O("ngIf",i.isLoading),d(),O("ngIf",!i.isLoading&&i.filteredCourses.length>0),d(),O("ngIf",!i.isLoading&&i.filteredCourses.length===0))},dependencies:[ge,Nn,wn,ke,Ue,me,Z_,ri,oi,Mt,Fn,kt,kf,qd,ve],styles:[".courses-list[_ngcontent-%COMP%]   .page-header[_ngcontent-%COMP%]{margin-bottom:64px;padding-bottom:32px;border-bottom:2px solid rgba(14,58,93,.1)}.courses-list[_ngcontent-%COMP%]   .page-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;gap:32px}.courses-list[_ngcontent-%COMP%]   .page-header[_ngcontent-%COMP%]   .page-title[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;color:#0e3a5d;margin-bottom:8px;font-family:Cairo,sans-serif;display:flex;align-items:center;gap:16px}.courses-list[_ngcontent-%COMP%]   .page-header[_ngcontent-%COMP%]   .page-title[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#c9a24d;font-size:1.8rem}.courses-list[_ngcontent-%COMP%]   .page-header[_ngcontent-%COMP%]   .page-subtitle[_ngcontent-%COMP%]{font-size:1rem;color:#0f172a99;margin:0}.courses-list[_ngcontent-%COMP%]   .page-header[_ngcontent-%COMP%]   .create-btn[_ngcontent-%COMP%]{white-space:nowrap;display:flex;align-items:center;gap:8px}.courses-list[_ngcontent-%COMP%]   .filters-section[_ngcontent-%COMP%]{background:#fff;padding:32px;border-radius:16px;box-shadow:0 1px 2px #0000001a;margin-bottom:64px}.courses-list[_ngcontent-%COMP%]   .filters-section[_ngcontent-%COMP%]   .input-group-text[_ngcontent-%COMP%]{background:#c9a24d1a;border-color:#c9a24d33;color:#c9a24d}.courses-list[_ngcontent-%COMP%]   .filters-section[_ngcontent-%COMP%]   .results-count[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;height:100%}.courses-list[_ngcontent-%COMP%]   .filters-section[_ngcontent-%COMP%]   .results-count[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{font-size:.9rem;padding:8px 16px}.courses-list[_ngcontent-%COMP%]   .loading-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;min-height:300px;text-align:center}.courses-list[_ngcontent-%COMP%]   .loading-state[_ngcontent-%COMP%]   .spinner-border[_ngcontent-%COMP%]{width:3rem;height:3rem;border-width:.3rem;margin-bottom:16px}.courses-list[_ngcontent-%COMP%]   .loading-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#0f172ab3;font-size:1rem;margin:0}.courses-list[_ngcontent-%COMP%]   .courses-grid[_ngcontent-%COMP%]   .course-card[_ngcontent-%COMP%]{background:#fff;border-radius:16px;box-shadow:0 4px 8px #00000026;overflow:hidden;transition:transform .2s,box-shadow .2s;height:100%;display:flex;flex-direction:column}.courses-list[_ngcontent-%COMP%]   .courses-grid[_ngcontent-%COMP%]   .course-card[_ngcontent-%COMP%]:hover{transform:translateY(-4px);box-shadow:0 8px 16px #0003}.courses-list[_ngcontent-%COMP%]   .courses-grid[_ngcontent-%COMP%]   .course-card[_ngcontent-%COMP%]   .course-thumbnail[_ngcontent-%COMP%]{position:relative;width:100%;height:200px;overflow:hidden;background:linear-gradient(135deg,#c9a24d1a,#0e3a5d1a)}.courses-list[_ngcontent-%COMP%]   .courses-grid[_ngcontent-%COMP%]   .course-card[_ngcontent-%COMP%]   .course-thumbnail[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.courses-list[_ngcontent-%COMP%]   .courses-grid[_ngcontent-%COMP%]   .course-card[_ngcontent-%COMP%]   .course-thumbnail[_ngcontent-%COMP%]   .thumbnail-placeholder[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;align-items:center;justify-content:center;background:linear-gradient(135deg,#c9a24d1a,#0e3a5d1a)}.courses-list[_ngcontent-%COMP%]   .courses-grid[_ngcontent-%COMP%]   .course-card[_ngcontent-%COMP%]   .course-thumbnail[_ngcontent-%COMP%]   .thumbnail-placeholder[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:4rem;color:#c9a24d4d}.courses-list[_ngcontent-%COMP%]   .courses-grid[_ngcontent-%COMP%]   .course-card[_ngcontent-%COMP%]   .course-thumbnail[_ngcontent-%COMP%]   .status-badge[_ngcontent-%COMP%]{position:absolute;top:8px;right:8px;padding:4px 8px;border-radius:8px;font-size:.75rem;font-weight:600;display:flex;align-items:center;gap:4px;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}.courses-list[_ngcontent-%COMP%]   .courses-grid[_ngcontent-%COMP%]   .course-card[_ngcontent-%COMP%]   .course-thumbnail[_ngcontent-%COMP%]   .status-badge.published[_ngcontent-%COMP%]{background:#16a34ae6;color:#fff}.courses-list[_ngcontent-%COMP%]   .courses-grid[_ngcontent-%COMP%]   .course-card[_ngcontent-%COMP%]   .course-thumbnail[_ngcontent-%COMP%]   .status-badge.unpublished[_ngcontent-%COMP%]{background:#dc2626e6;color:#fff}.courses-list[_ngcontent-%COMP%]   .courses-grid[_ngcontent-%COMP%]   .course-card[_ngcontent-%COMP%]   .course-info[_ngcontent-%COMP%]{padding:32px;flex:1;display:flex;flex-direction:column}.courses-list[_ngcontent-%COMP%]   .courses-grid[_ngcontent-%COMP%]   .course-card[_ngcontent-%COMP%]   .course-info[_ngcontent-%COMP%]   .course-title[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:700;color:#0e3a5d;margin-bottom:8px;font-family:Cairo,sans-serif}.courses-list[_ngcontent-%COMP%]   .courses-grid[_ngcontent-%COMP%]   .course-card[_ngcontent-%COMP%]   .course-info[_ngcontent-%COMP%]   .course-description[_ngcontent-%COMP%]{font-size:.9rem;color:#0f172ab3;margin-bottom:16px;flex:1;line-height:1.6}.courses-list[_ngcontent-%COMP%]   .courses-grid[_ngcontent-%COMP%]   .course-card[_ngcontent-%COMP%]   .course-info[_ngcontent-%COMP%]   .course-meta[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:16px;margin-top:auto}.courses-list[_ngcontent-%COMP%]   .courses-grid[_ngcontent-%COMP%]   .course-card[_ngcontent-%COMP%]   .course-info[_ngcontent-%COMP%]   .course-meta[_ngcontent-%COMP%]   .meta-item[_ngcontent-%COMP%]{font-size:.85rem;color:#0f172a99;display:flex;align-items:center;gap:4px}.courses-list[_ngcontent-%COMP%]   .courses-grid[_ngcontent-%COMP%]   .course-card[_ngcontent-%COMP%]   .course-info[_ngcontent-%COMP%]   .course-meta[_ngcontent-%COMP%]   .meta-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#c9a24d}.courses-list[_ngcontent-%COMP%]   .courses-grid[_ngcontent-%COMP%]   .course-card[_ngcontent-%COMP%]   .course-actions[_ngcontent-%COMP%]{padding:16px 32px;border-top:1px solid rgba(14,58,93,.1);display:flex;gap:8px;flex-wrap:wrap}.courses-list[_ngcontent-%COMP%]   .courses-grid[_ngcontent-%COMP%]   .course-card[_ngcontent-%COMP%]   .course-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{flex:1;min-width:100px;font-size:.85rem}.courses-list[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;min-height:400px;padding:64px}.courses-list[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   .empty-state-content[_ngcontent-%COMP%]{text-align:center;max-width:500px}.courses-list[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   .empty-state-content[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:5rem;color:#c9a24d4d;margin-bottom:32px}.courses-list[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   .empty-state-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;color:#0e3a5d;margin-bottom:16px;font-family:Cairo,sans-serif}.courses-list[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   .empty-state-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem;color:#0f172a99;margin-bottom:32px;line-height:1.6}@media (max-width: 991.98px){.courses-list[_ngcontent-%COMP%]   .page-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{flex-direction:column}.courses-list[_ngcontent-%COMP%]   .page-header[_ngcontent-%COMP%]   .create-btn[_ngcontent-%COMP%]{width:100%;justify-content:center}}@media (max-width: 767.98px){.courses-list[_ngcontent-%COMP%]   .page-header[_ngcontent-%COMP%]   .page-title[_ngcontent-%COMP%], .courses-list[_ngcontent-%COMP%]   .page-header[_ngcontent-%COMP%]   .page-title[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.5rem}.courses-list[_ngcontent-%COMP%]   .filters-section[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{margin-bottom:16px}.courses-list[_ngcontent-%COMP%]   .courses-grid[_ngcontent-%COMP%]   .course-card[_ngcontent-%COMP%]   .course-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{flex:1 1 100%}}"]})};var y0=li(si());function VJ(n,t){if(n&1&&(f(0,"div",47),_(1),v(2,"translate"),h()),n&2){let e=x();d(),M(" ",y(2,1,e.getFormError("title"))," ")}}function jJ(n,t){if(n&1&&(f(0,"div",47),_(1),v(2,"translate"),h()),n&2){let e=x();d(),M(" ",y(2,1,e.getFormError("description"))," ")}}function UJ(n,t){if(n&1&&(f(0,"option",48),_(1),v(2,"translate"),h()),n&2){let e=t.$implicit,i=x();O("value",e),d(),M(" ",y(2,2,i.getCategoryName(e))," ")}}function $J(n,t){if(n&1&&(f(0,"div",47),_(1),v(2,"translate"),h()),n&2){let e=x();d(),M(" ",y(2,1,e.getFormError("category"))," ")}}function HJ(n,t){if(n&1&&(f(0,"option",48),_(1),v(2,"translate"),h()),n&2){let e=t.$implicit,i=x();O("value",e),d(),M(" ",y(2,2,i.getPrivacyName(e))," ")}}function qJ(n,t){if(n&1&&(f(0,"div",47),_(1),v(2,"translate"),h()),n&2){let e=x();d(),M(" ",y(2,1,e.getFormError("Privacy"))," ")}}function WJ(n,t){n&1&&(f(0,"span"),_(1),v(2,"translate"),h()),n&2&&(d(),M(" ",y(2,1,"admin.courses.selectThumbnail")," "))}function GJ(n,t){n&1&&(f(0,"span",49),w(1,"span",50),_(2),v(3,"translate"),h()),n&2&&(d(2),M(" ",y(3,1,"admin.courses.compressing")," "))}function KJ(n,t){if(n&1&&(f(0,"div",51),_(1),v(2,"translate"),h()),n&2){let e=x();d(),M(" ",y(2,1,e.getFormError("thumbnail"))," ")}}function QJ(n,t){if(n&1){let e=ce();f(0,"div",52)(1,"div",53),w(2,"img",54),f(3,"button",55),z("click",function(){G(e);let r=x();return K(r.removeThumbnail())}),w(4,"i",46),h()()()}if(n&2){let e=x();d(2),O("src",e.thumbnailPreview,it),d(),O("disabled",e.isCompressingImage||e.isSaving)}}function YJ(n,t){if(n&1&&(f(0,"div",47),_(1),v(2,"translate"),h()),n&2){let e=x();d(),M(" ",y(2,1,e.getFormError("duration"))," ")}}function ZJ(n,t){n&1&&w(0,"span",56)}var g0=class n{constructor(t){this.fb=t;this.courseForm=this.fb.group({title:["",[te.required,te.minLength(3)]],description:["",[te.required,te.minLength(10)]],category:["",te.required],thumbnail:["",te.required],introYouTubeVideo:[""],duration:[0,[te.required,te.min(.5)]],Privacy:["free",te.required],published:[!1]})}course=null;isSaving=!1;saveCourse=new qe;cancel=new qe;courseForm;isCompressingImage=!1;thumbnailPreview=null;categories=["programming","design","marketing","business","technology","health","education","other"];privacyTypes=["free","premium"];ngOnInit(){this.course&&this.populateForm()}ngOnChanges(t){t.course&&this.course&&this.populateForm()}populateForm(){this.course&&(this.courseForm.patchValue({title:this.course.title,description:this.course.description,category:this.course.category,thumbnail:this.course.thumbnail,introYouTubeVideo:this.course.introYouTubeVideo||"",duration:this.course.duration,Privacy:this.course.Privacy,published:this.course.published}),this.course.thumbnail&&(this.thumbnailPreview=this.course.thumbnail))}onSubmit(){if(this.courseForm.invalid){this.markFormGroupTouched();return}this.saveCourse.emit(this.courseForm.value)}getCategoryName(t){return`admin.courses.categories.${t}`}getPrivacyName(t){return t==="free"?"admin.courses.privacy.free":"admin.courses.privacy.premium"}markFormGroupTouched(){Object.keys(this.courseForm.controls).forEach(t=>{this.courseForm.get(t)?.markAsTouched()})}compressAndResizeImage(t){return new Promise((e,i)=>{let r=new FileReader;r.onload=o=>{let s=new Image;s.onload=()=>{let c=s.width,l=s.height;c>800&&(l=l*800/c,c=800);let m=document.createElement("canvas");m.width=c,m.height=l;let g=m.getContext("2d");if(!g){i(new Error("Could not get canvas context"));return}g.drawImage(s,0,0,c,l);let E=m.toDataURL("image/jpeg",.7);e(E)},s.onerror=()=>{i(new Error("Failed to load image"))},s.src=o.target?.result},r.onerror=()=>{i(new Error("Failed to read file"))},r.readAsDataURL(t)})}onThumbnailSelected(t){let i=t.target.files?.[0];if(!i||!i.type.startsWith("image/"))return;let r=5*1024*1024;i.size>r||(this.isCompressingImage=!0,this.compressAndResizeImage(i).then(o=>{this.thumbnailPreview=o,this.courseForm.patchValue({thumbnail:o}),this.isCompressingImage=!1}).catch(o=>{console.error("Error compressing image:",o),this.isCompressingImage=!1}))}removeThumbnail(){this.thumbnailPreview=null,this.courseForm.patchValue({thumbnail:""});let t=document.getElementById("thumbnailFile");t&&(t.value="")}getFormError(t){let e=this.courseForm.get(t);if(e&&e.touched&&e.errors){if(e.errors.required)return"admin.courses.fieldRequired";if(e.errors.minlength)return"admin.courses.fieldMinLength";if(e.errors.min)return"admin.courses.durationMin"}return""}static \u0275fac=function(e){return new(e||n)(A(hn))};static \u0275cmp=de({type:n,selectors:[["app-info"]],inputs:{course:"course",isSaving:"isSaving"},outputs:{saveCourse:"saveCourse",cancel:"cancel"},features:[an],decls:105,vars:84,consts:[[1,"course-info"],[1,"card"],[1,"card-header"],[1,"card-title"],[1,"fas","fa-info-circle"],[1,"card-body"],[3,"ngSubmit","formGroup"],[1,"row","g-3"],[1,"col-12"],["for","title",1,"form-label"],[1,"text-danger"],["type","text","id","title","formControlName","title",1,"form-control",3,"placeholder"],["class","invalid-feedback",4,"ngIf"],["for","description",1,"form-label"],["id","description","rows","5","formControlName","description",1,"form-control",3,"placeholder"],[1,"col-12","col-md-6"],["for","category",1,"form-label"],["id","category","formControlName","category",1,"form-select"],["value",""],[3,"value",4,"ngFor","ngForOf"],["for","Privacy",1,"form-label"],["id","Privacy","formControlName","Privacy",1,"form-select"],[1,"form-label"],["type","text","id","thumbnail","formControlName","thumbnail",1,"d-none"],[1,"thumbnail-upload-container"],["type","file","id","thumbnailFile","accept","image/*",1,"thumbnail-file-input",3,"change","disabled"],["for","thumbnailFile",1,"thumbnail-upload-label"],[1,"upload-content"],[1,"fas","fa-cloud-upload-alt"],[4,"ngIf"],["class","compressing",4,"ngIf"],["class","invalid-feedback d-block",4,"ngIf"],[1,"form-text"],["class","thumbnail-preview-container mt-3",4,"ngIf"],["for","introYouTubeVideo",1,"form-label"],["type","url","id","introYouTubeVideo","formControlName","introYouTubeVideo",1,"form-control",3,"placeholder"],["for","duration",1,"form-label"],["type","number","id","duration","step","0.5","min","0.5","formControlName","duration",1,"form-control",3,"placeholder"],[1,"form-check","form-switch","mt-4"],["type","checkbox","id","published","formControlName","published",1,"form-check-input"],["for","published",1,"form-check-label"],[1,"form-actions","mt-4"],["type","submit",1,"btn","btn-primary",3,"disabled"],[1,"fas","fa-save"],["class","spinner-border spinner-border-sm ms-2","role","status",4,"ngIf"],["type","button",1,"btn","btn-outline-secondary",3,"click"],[1,"fas","fa-times"],[1,"invalid-feedback"],[3,"value"],[1,"compressing"],["role","status",1,"spinner-border","spinner-border-sm","me-2"],[1,"invalid-feedback","d-block"],[1,"thumbnail-preview-container","mt-3"],[1,"thumbnail-preview-wrapper"],["alt","Thumbnail preview",1,"thumbnail-preview",3,"src"],["type","button",1,"btn","btn-sm","btn-danger","thumbnail-remove-btn",3,"click","disabled"],["role","status",1,"spinner-border","spinner-border-sm","ms-2"]],template:function(e,i){if(e&1&&(f(0,"div",0)(1,"div",1)(2,"div",2)(3,"h3",3),w(4,"i",4),_(5),v(6,"translate"),h()(),f(7,"div",5)(8,"form",6),z("ngSubmit",function(){return i.onSubmit()}),f(9,"div",7)(10,"div",8)(11,"label",9),_(12),v(13,"translate"),f(14,"span",10),_(15,"*"),h()(),w(16,"input",11),v(17,"translate"),J(18,VJ,3,3,"div",12),h(),f(19,"div",8)(20,"label",13),_(21),v(22,"translate"),f(23,"span",10),_(24,"*"),h()(),w(25,"textarea",14),v(26,"translate"),J(27,jJ,3,3,"div",12),h(),f(28,"div",15)(29,"label",16),_(30),v(31,"translate"),f(32,"span",10),_(33,"*"),h()(),f(34,"select",17)(35,"option",18),_(36),v(37,"translate"),h(),J(38,UJ,3,4,"option",19),h(),J(39,$J,3,3,"div",12),h(),f(40,"div",15)(41,"label",20),_(42),v(43,"translate"),f(44,"span",10),_(45,"*"),h()(),f(46,"select",21),J(47,HJ,3,4,"option",19),h(),J(48,qJ,3,3,"div",12),h(),f(49,"div",8)(50,"label",22),_(51),v(52,"translate"),f(53,"span",10),_(54,"*"),h()(),w(55,"input",23),f(56,"div",24)(57,"input",25),z("change",function(o){return i.onThumbnailSelected(o)}),h(),f(58,"label",26)(59,"div",27),w(60,"i",28),J(61,WJ,3,3,"span",29)(62,GJ,4,3,"span",30),h()()(),J(63,KJ,3,3,"div",31),f(64,"div",32),_(65),v(66,"translate"),h(),J(67,QJ,5,2,"div",33),h(),f(68,"div",8)(69,"label",34),_(70),v(71,"translate"),h(),w(72,"input",35),v(73,"translate"),f(74,"div",32),_(75),v(76,"translate"),h()(),f(77,"div",15)(78,"label",36),_(79),v(80,"translate"),f(81,"span",10),_(82,"*"),h()(),w(83,"input",37),v(84,"translate"),J(85,YJ,3,3,"div",12),f(86,"div",32),_(87),v(88,"translate"),h()(),f(89,"div",15)(90,"div",38),w(91,"input",39),f(92,"label",40),_(93),v(94,"translate"),h()()()(),f(95,"div",41)(96,"button",42),w(97,"i",43),_(98),v(99,"translate"),J(100,ZJ,1,0,"span",44),h(),f(101,"button",45),z("click",function(){return i.cancel.emit()}),w(102,"i",46),_(103),v(104,"translate"),h()()()()()()),e&2){let r,o,s,a,c,l;d(5),M(" ",y(6,46,"admin.courses.courseInformation")," "),d(3),O("formGroup",i.courseForm),d(4),M(" ",y(13,48,"admin.courses.title")," "),d(4),U("is-invalid",((r=i.courseForm.get("title"))==null?null:r.invalid)&&((r=i.courseForm.get("title"))==null?null:r.touched)),O("placeholder",y(17,50,"admin.courses.titlePlaceholder")),d(2),O("ngIf",i.getFormError("title")),d(3),M(" ",y(22,52,"admin.courses.description")," "),d(4),U("is-invalid",((o=i.courseForm.get("description"))==null?null:o.invalid)&&((o=i.courseForm.get("description"))==null?null:o.touched)),O("placeholder",y(26,54,"admin.courses.descriptionPlaceholder")),d(2),O("ngIf",i.getFormError("description")),d(3),M(" ",y(31,56,"admin.courses.category")," "),d(4),U("is-invalid",((s=i.courseForm.get("category"))==null?null:s.invalid)&&((s=i.courseForm.get("category"))==null?null:s.touched)),d(2),I(y(37,58,"admin.courses.selectCategory")),d(2),O("ngForOf",i.categories),d(),O("ngIf",i.getFormError("category")),d(3),M(" ",y(43,60,"admin.courses.privacyTitle")," "),d(4),U("is-invalid",((a=i.courseForm.get("Privacy"))==null?null:a.invalid)&&((a=i.courseForm.get("Privacy"))==null?null:a.touched)),d(),O("ngForOf",i.privacyTypes),d(),O("ngIf",i.getFormError("Privacy")),d(3),M(" ",y(52,62,"admin.courses.thumbnail")," "),d(6),O("disabled",i.isCompressingImage||i.isSaving),d(),U("disabled",i.isCompressingImage||i.isSaving),d(3),O("ngIf",!i.isCompressingImage),d(),O("ngIf",i.isCompressingImage),d(),O("ngIf",i.getFormError("thumbnail")&&((c=i.courseForm.get("thumbnail"))==null?null:c.touched)),d(2),I(y(66,64,"admin.courses.thumbnailHelp")),d(2),O("ngIf",i.thumbnailPreview),d(3),M(" ",y(71,66,"admin.courses.introVideo")," "),d(2),O("placeholder",y(73,68,"admin.courses.introVideoPlaceholder")),d(3),I(y(76,70,"admin.courses.introVideoHelp")),d(4),M(" ",y(80,72,"admin.courses.duration")," "),d(4),U("is-invalid",((l=i.courseForm.get("duration"))==null?null:l.invalid)&&((l=i.courseForm.get("duration"))==null?null:l.touched)),O("placeholder",y(84,74,"admin.courses.durationPlaceholder")),d(2),O("ngIf",i.getFormError("duration")),d(2),I(y(88,76,"admin.courses.durationHelp")),d(6),M(" ",y(94,78,"admin.courses.published")," "),d(3),O("disabled",i.isSaving||i.courseForm.invalid),d(2),M(" ",y(99,80,i.course?"admin.courses.save":"admin.courses.create")," "),d(2),O("ngIf",i.isSaving),d(3),M(" ",y(104,82,"admin.courses.cancel")," ")}},dependencies:[ge,Nn,wn,ke,me,gn,pn,ri,oi,Mt,wr,Sf,Fn,kt,fn,Vo,Kt,tn,ve],styles:[".course-info[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{border:none;box-shadow:0 4px 8px #00000026;border-radius:16px}.course-info[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{background:#c9a24d0d;border-bottom:1px solid rgba(14,58,93,.1);padding:32px}.course-info[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:700;color:#0e3a5d;margin:0;font-family:Cairo,sans-serif;display:flex;align-items:center;gap:8px}.course-info[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#c9a24d}.course-info[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{padding:64px}.course-info[_ngcontent-%COMP%]   .form-label[_ngcontent-%COMP%]{font-weight:600;color:#0e3a5d;margin-bottom:8px;font-size:.9rem}.course-info[_ngcontent-%COMP%]   .form-label[_ngcontent-%COMP%]   .text-danger[_ngcontent-%COMP%]{color:#dc2626}.course-info[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%], .course-info[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%]{border:1px solid rgba(14,58,93,.2);border-radius:8px;padding:8px 16px;transition:border-color .2s,box-shadow .2s}.course-info[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:focus, .course-info[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%]:focus{border-color:#c9a24d;box-shadow:0 0 0 .2rem #c9a24d40}.course-info[_ngcontent-%COMP%]   .form-control.is-invalid[_ngcontent-%COMP%], .course-info[_ngcontent-%COMP%]   .form-select.is-invalid[_ngcontent-%COMP%]{border-color:#dc2626}.course-info[_ngcontent-%COMP%]   .invalid-feedback[_ngcontent-%COMP%]{display:block;color:#dc2626;font-size:.85rem;margin-top:4px}.course-info[_ngcontent-%COMP%]   .form-text[_ngcontent-%COMP%]{font-size:.85rem;color:#0f172a99;margin-top:4px}.course-info[_ngcontent-%COMP%]   .thumbnail-upload-container[_ngcontent-%COMP%]{position:relative;margin-bottom:8px}.course-info[_ngcontent-%COMP%]   .thumbnail-file-input[_ngcontent-%COMP%]{position:absolute;width:.1px;height:.1px;opacity:0;overflow:hidden;z-index:-1}.course-info[_ngcontent-%COMP%]   .thumbnail-upload-label[_ngcontent-%COMP%]{display:block;width:100%;padding:32px;border:2px dashed rgba(14,58,93,.3);border-radius:8px;background:#c9a24d05;text-align:center;cursor:pointer;transition:all .3s ease;position:relative}.course-info[_ngcontent-%COMP%]   .thumbnail-upload-label[_ngcontent-%COMP%]:hover:not(.disabled){border-color:#c9a24d;background:#c9a24d0d;transform:translateY(-2px);box-shadow:0 1px 2px #0000001a}.course-info[_ngcontent-%COMP%]   .thumbnail-upload-label.disabled[_ngcontent-%COMP%]{opacity:.6;cursor:not-allowed}.course-info[_ngcontent-%COMP%]   .thumbnail-upload-label[_ngcontent-%COMP%]   .upload-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:8px;color:#0e3a5d}.course-info[_ngcontent-%COMP%]   .thumbnail-upload-label[_ngcontent-%COMP%]   .upload-content[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:2rem;color:#c9a24d}.course-info[_ngcontent-%COMP%]   .thumbnail-upload-label[_ngcontent-%COMP%]   .upload-content[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:500;font-size:.95rem}.course-info[_ngcontent-%COMP%]   .thumbnail-upload-label[_ngcontent-%COMP%]   .upload-content[_ngcontent-%COMP%]   .compressing[_ngcontent-%COMP%]{display:flex;align-items:center;color:#c9a24d}.course-info[_ngcontent-%COMP%]   .thumbnail-preview-container[_ngcontent-%COMP%]{position:relative}.course-info[_ngcontent-%COMP%]   .thumbnail-preview-wrapper[_ngcontent-%COMP%]{position:relative;display:inline-block;border-radius:8px;overflow:hidden;box-shadow:0 4px 8px #00000026;border:2px solid rgba(14,58,93,.1);transition:transform .3s ease}.course-info[_ngcontent-%COMP%]   .thumbnail-preview-wrapper[_ngcontent-%COMP%]:hover{transform:scale(1.02);box-shadow:0 8px 16px #0003}.course-info[_ngcontent-%COMP%]   .thumbnail-preview[_ngcontent-%COMP%]{display:block;max-width:100%;max-height:300px;width:auto;height:auto;object-fit:contain}.course-info[_ngcontent-%COMP%]   .thumbnail-remove-btn[_ngcontent-%COMP%]{position:absolute;top:4px;right:4px;border-radius:50%;width:32px;height:32px;display:flex;align-items:center;justify-content:center;padding:0;box-shadow:0 4px 8px #00000026;transition:transform .2s ease}.course-info[_ngcontent-%COMP%]   .thumbnail-remove-btn[_ngcontent-%COMP%]:hover:not(:disabled){transform:scale(1.1)}.course-info[_ngcontent-%COMP%]   .form-check-input[_ngcontent-%COMP%]:checked{background-color:#c9a24d;border-color:#c9a24d}.course-info[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]{display:flex;gap:16px;padding-top:32px;border-top:1px solid rgba(14,58,93,.1)}.course-info[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:8px}@media (max-width: 767.98px){.course-info[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]{flex-direction:column}.course-info[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{width:100%;justify-content:center}}"]})};var Bf=li(si());function XJ(n,t){n&1&&(f(0,"div",12)(1,"div",13)(2,"span",14),_(3),v(4,"translate"),h()(),f(5,"p"),_(6),v(7,"translate"),h()()),n&2&&(d(3),I(y(4,2,"admin.courses.loading")),d(3),I(y(7,4,"admin.courses.loadingSections")))}function JJ(n,t){if(n&1&&(f(0,"div",33),_(1),v(2,"translate"),h()),n&2){let e=x(2);d(),M(" ",y(2,1,e.getFormError("title"))," ")}}function eee(n,t){if(n&1&&(f(0,"div",33),_(1),v(2,"translate"),h()),n&2){let e=x(2);d(),M(" ",y(2,1,e.getFormError("order"))," ")}}function tee(n,t){n&1&&w(0,"span",34)}function nee(n,t){if(n&1){let e=ce();f(0,"div",15)(1,"h5",16),_(2),v(3,"translate"),h(),f(4,"form",17),z("ngSubmit",function(){G(e);let r=x();return K(r.submitSection())}),f(5,"div",18)(6,"div",19)(7,"label",20),_(8),v(9,"translate"),f(10,"span",21),_(11,"*"),h()(),w(12,"input",22),v(13,"translate"),J(14,JJ,3,3,"div",23),h(),f(15,"div",24)(16,"label",25),_(17),v(18,"translate"),f(19,"span",21),_(20,"*"),h()(),w(21,"input",26),v(22,"translate"),J(23,eee,3,3,"div",23),h()(),f(24,"div",27)(25,"button",28),w(26,"i",29),_(27),v(28,"translate"),J(29,tee,1,0,"span",30),h(),f(30,"button",31),z("click",function(){G(e);let r=x();return K(r.cancelForm())}),w(31,"i",32),_(32),v(33,"translate"),h()()()()}if(n&2){let e,i,r=x();d(2),M(" ",y(3,17,r.editingSection?"admin.courses.editSection":"admin.courses.createSection")," "),d(2),O("formGroup",r.sectionForm),d(4),M(" ",y(9,19,"admin.courses.sectionTitle")," "),d(4),U("is-invalid",((e=r.sectionForm.get("title"))==null?null:e.invalid)&&((e=r.sectionForm.get("title"))==null?null:e.touched)),O("placeholder",y(13,21,"admin.courses.sectionTitlePlaceholder")),d(2),O("ngIf",r.getFormError("title")),d(3),M(" ",y(18,23,"admin.courses.order")," "),d(4),U("is-invalid",((i=r.sectionForm.get("order"))==null?null:i.invalid)&&((i=r.sectionForm.get("order"))==null?null:i.touched)),O("placeholder",y(22,25,"admin.courses.orderPlaceholder")),d(2),O("ngIf",r.getFormError("order")),d(2),O("disabled",r.isProcessing||r.sectionForm.invalid),d(2),M(" ",y(28,27,r.editingSection?"admin.courses.save":"admin.courses.create")," "),d(2),O("ngIf",r.isProcessing),d(),O("disabled",r.isProcessing),d(2),M(" ",y(33,29,"admin.courses.cancel")," ")}}function iee(n,t){n&1&&(f(0,"p",35),_(1),v(2,"translate"),h()),n&2&&(d(),M(" ",y(2,1,"admin.courses.noSections")," "))}function ree(n,t){if(n&1){let e=ce();f(0,"div",39)(1,"div",40)(2,"div")(3,"h5",41),_(4),h(),f(5,"small",35),_(6),v(7,"translate"),h()(),f(8,"div",42)(9,"button",43),z("click",function(){let r=G(e).$implicit,o=x(2);return K(o.editSection(r))}),w(10,"i",44),_(11),v(12,"translate"),h(),f(13,"button",45),z("click",function(){let r=G(e).$implicit,o=x(2);return K(o.deleteSection(r))}),w(14,"i",46),_(15),v(16,"translate"),h()()()()}if(n&2){let e=t.$implicit,i=x(2);d(4),I(e.title),d(2),Ct(" ",y(7,7,"admin.courses.order"),": ",e.order," "),d(3),O("disabled",i.isProcessing),d(2),M(" ",y(12,9,"admin.courses.edit")," "),d(2),O("disabled",i.isProcessing),d(2),M(" ",y(16,11,"admin.courses.delete")," ")}}function oee(n,t){if(n&1&&(f(0,"div",36)(1,"div",37),J(2,ree,17,13,"div",38),h()()),n&2){let e=x();d(2),O("ngForOf",e.sections)}}var m0=class n{constructor(t,e){this.lessonsService=t;this.fb=e;this.sectionForm=this.fb.group({title:["",[te.required,te.minLength(3)]],order:[1,[te.required,te.min(1)]]})}courseId=null;sectionsUpdated=new qe;sections=[];isLoading=!1;isProcessing=!1;showForm=!1;editingSection=null;sectionForm;destroy$=new le;ngOnInit(){this.courseId&&this.loadSections()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}loadSections(){this.courseId&&(this.isLoading=!0,this.lessonsService.getSectionsByCourse(this.courseId).pipe(ne(this.destroy$)).subscribe({next:t=>{this.sections=t,this.isLoading=!1},error:t=>{console.error("Error loading sections:",t),this.isLoading=!1,this.showErrorAlert("admin.courses.loadSectionsError")}}))}createSection(){this.editingSection=null,this.sectionForm.reset({title:"",order:this.sections.length>0?Math.max(...this.sections.map(t=>t.order))+1:1}),this.showForm=!0}editSection(t){this.editingSection=t,this.sectionForm.patchValue({title:t.title,order:t.order}),this.showForm=!0}cancelForm(){this.showForm=!1,this.editingSection=null,this.sectionForm.reset()}submitSection(){if(this.sectionForm.invalid){this.markFormGroupTouched(),this.showValidationError("admin.courses.fillRequiredFields");return}if(!this.courseId)return;this.isProcessing=!0;let t=this.sectionForm.value;this.editingSection?this.lessonsService.updateSection(this.courseId,this.editingSection.id,{title:t.title,order:t.order}).pipe(ne(this.destroy$)).subscribe({next:()=>{this.showSuccessAlert("admin.courses.sectionUpdateSuccess"),this.cancelForm(),this.loadSections(),this.sectionsUpdated.emit(),this.isProcessing=!1},error:e=>{console.error("Error updating section:",e),this.showErrorAlert("admin.courses.sectionUpdateError"),this.isProcessing=!1}}):this.lessonsService.createSection(this.courseId,{title:t.title,order:t.order}).pipe(ne(this.destroy$)).subscribe({next:()=>{this.showSuccessAlert("admin.courses.sectionCreateSuccess"),this.cancelForm(),this.loadSections(),this.sectionsUpdated.emit(),this.isProcessing=!1},error:e=>{console.error("Error creating section:",e),this.showErrorAlert("admin.courses.sectionCreateError"),this.isProcessing=!1}})}deleteSection(t){Bf.default.fire({title:"admin.courses.deleteSectionConfirmTitle",text:"admin.courses.deleteSectionConfirmText",icon:"warning",showCancelButton:!0,confirmButtonText:"admin.courses.delete",cancelButtonText:"admin.courses.cancel",confirmButtonColor:"#DC2626",cancelButtonColor:"#6B7280"}).then(e=>{e.isConfirmed&&this.courseId&&(this.isProcessing=!0,this.lessonsService.deleteSection(this.courseId,t.id).pipe(ne(this.destroy$)).subscribe({next:()=>{this.showSuccessAlert("admin.courses.sectionDeleteSuccess"),this.loadSections(),this.sectionsUpdated.emit(),this.isProcessing=!1},error:i=>{console.error("Error deleting section:",i),this.showErrorAlert("admin.courses.sectionDeleteError"),this.isProcessing=!1}}))})}markFormGroupTouched(){Object.keys(this.sectionForm.controls).forEach(t=>{this.sectionForm.get(t)?.markAsTouched()})}getFormError(t){let e=this.sectionForm.get(t);if(e&&e.touched&&e.errors){if(e.errors.required)return"admin.courses.fieldRequired";if(e.errors.minlength)return"admin.courses.fieldMinLength";if(e.errors.min)return"admin.courses.orderMin"}return""}showSuccessAlert(t){Bf.default.fire({icon:"success",title:"admin.courses.success",text:t,confirmButtonText:"admin.courses.ok",confirmButtonColor:"#16A34A"})}showErrorAlert(t){Bf.default.fire({icon:"error",title:"admin.courses.error",text:t,confirmButtonText:"admin.courses.ok",confirmButtonColor:"#DC2626"})}showValidationError(t){Bf.default.fire({icon:"warning",title:"admin.courses.validationError",text:t,confirmButtonText:"admin.courses.ok",confirmButtonColor:"#F59E0B"})}static \u0275fac=function(e){return new(e||n)(A(qi),A(hn))};static \u0275cmp=de({type:n,selectors:[["app-sections"]],inputs:{courseId:"courseId"},outputs:{sectionsUpdated:"sectionsUpdated"},decls:16,vars:11,consts:[[1,"sections-management"],[1,"card"],[1,"card-header","d-flex","justify-content-between","align-items-center"],[1,"card-title","mb-0"],[1,"fas","fa-list"],[1,"btn","btn-primary","btn-sm",3,"click","disabled"],[1,"fas","fa-plus"],[1,"card-body"],["class","loading-state",4,"ngIf"],["class","section-form mb-4",4,"ngIf"],["class","text-muted",4,"ngIf"],["class","sections-list",4,"ngIf"],[1,"loading-state"],["role","status",1,"spinner-border","text-primary"],[1,"visually-hidden"],[1,"section-form","mb-4"],[1,"mb-3"],[3,"ngSubmit","formGroup"],[1,"row","g-3"],[1,"col-12"],["for","sectionTitle",1,"form-label"],[1,"text-danger"],["type","text","id","sectionTitle","formControlName","title",1,"form-control",3,"placeholder"],["class","invalid-feedback",4,"ngIf"],[1,"col-12","col-md-6"],["for","sectionOrder",1,"form-label"],["type","number","id","sectionOrder","min","1","formControlName","order",1,"form-control",3,"placeholder"],[1,"form-actions","mt-3"],["type","submit",1,"btn","btn-primary",3,"disabled"],[1,"fas","fa-save"],["class","spinner-border spinner-border-sm ms-2","role","status",4,"ngIf"],["type","button",1,"btn","btn-outline-secondary",3,"click","disabled"],[1,"fas","fa-times"],[1,"invalid-feedback"],["role","status",1,"spinner-border","spinner-border-sm","ms-2"],[1,"text-muted"],[1,"sections-list"],[1,"list-group"],["class","list-group-item",4,"ngFor","ngForOf"],[1,"list-group-item"],[1,"d-flex","justify-content-between","align-items-center"],[1,"mb-1"],[1,"btn-group"],[1,"btn","btn-sm","btn-outline-primary",3,"click","disabled"],[1,"fas","fa-edit"],[1,"btn","btn-sm","btn-outline-danger",3,"click","disabled"],[1,"fas","fa-trash"]],template:function(e,i){e&1&&(f(0,"div",0)(1,"div",1)(2,"div",2)(3,"h3",3),w(4,"i",4),_(5),v(6,"translate"),h(),f(7,"button",5),z("click",function(){return i.createSection()}),w(8,"i",6),_(9),v(10,"translate"),h()(),f(11,"div",7),J(12,XJ,8,6,"div",8)(13,nee,34,31,"div",9)(14,iee,3,3,"p",10)(15,oee,3,1,"div",11),h()()()),e&2&&(d(5),M(" ",y(6,7,"admin.courses.sections")," "),d(2),O("disabled",i.isProcessing),d(2),M(" ",y(10,9,"admin.courses.addSection")," "),d(3),O("ngIf",i.isLoading),d(),O("ngIf",i.showForm&&!i.isLoading),d(),O("ngIf",!i.isLoading&&!i.showForm&&i.sections.length===0),d(),O("ngIf",!i.isLoading&&!i.showForm&&i.sections.length>0))},dependencies:[ge,Nn,wn,me,gn,pn,Mt,wr,kt,fn,Vo,Kt,tn,ve],styles:[".sections-management[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{border:none;box-shadow:0 4px 8px #00000026;border-radius:16px}.sections-management[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{background:#c9a24d0d;border-bottom:1px solid rgba(14,58,93,.1);padding:32px}.sections-management[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:700;color:#0e3a5d;margin:0;font-family:Cairo,sans-serif;display:flex;align-items:center;gap:8px}.sections-management[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#c9a24d}.sections-management[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{padding:64px}.sections-management[_ngcontent-%COMP%]   .loading-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;min-height:200px;text-align:center}.sections-management[_ngcontent-%COMP%]   .loading-state[_ngcontent-%COMP%]   .spinner-border[_ngcontent-%COMP%]{width:2rem;height:2rem;border-width:.25rem;margin-bottom:16px}.sections-management[_ngcontent-%COMP%]   .loading-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#0f172ab3;font-size:.9rem;margin:0}.sections-management[_ngcontent-%COMP%]   .section-form[_ngcontent-%COMP%]{background:#c9a24d05;border:1px solid rgba(14,58,93,.1);border-radius:8px;padding:32px}.sections-management[_ngcontent-%COMP%]   .section-form[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:600;color:#0e3a5d}.sections-management[_ngcontent-%COMP%]   .section-form[_ngcontent-%COMP%]   .form-label[_ngcontent-%COMP%]{font-weight:600;color:#0e3a5d;margin-bottom:8px;font-size:.9rem}.sections-management[_ngcontent-%COMP%]   .section-form[_ngcontent-%COMP%]   .form-label[_ngcontent-%COMP%]   .text-danger[_ngcontent-%COMP%]{color:#dc2626}.sections-management[_ngcontent-%COMP%]   .section-form[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{border:1px solid rgba(14,58,93,.2);border-radius:8px;padding:8px 16px;transition:border-color .2s,box-shadow .2s}.sections-management[_ngcontent-%COMP%]   .section-form[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:focus{border-color:#c9a24d;box-shadow:0 0 0 .2rem #c9a24d40}.sections-management[_ngcontent-%COMP%]   .section-form[_ngcontent-%COMP%]   .form-control.is-invalid[_ngcontent-%COMP%]{border-color:#dc2626}.sections-management[_ngcontent-%COMP%]   .section-form[_ngcontent-%COMP%]   .invalid-feedback[_ngcontent-%COMP%]{display:block;color:#dc2626;font-size:.85rem;margin-top:4px}.sections-management[_ngcontent-%COMP%]   .section-form[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]{display:flex;gap:16px;margin-top:16px}.sections-management[_ngcontent-%COMP%]   .section-form[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:8px}.sections-management[_ngcontent-%COMP%]   .sections-list[_ngcontent-%COMP%]   .list-group-item[_ngcontent-%COMP%]{border:1px solid rgba(14,58,93,.1);border-radius:8px;margin-bottom:8px;padding:16px}.sections-management[_ngcontent-%COMP%]   .sections-list[_ngcontent-%COMP%]   .list-group-item[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:1rem;font-weight:600;color:#0e3a5d;margin-bottom:4px}.sections-management[_ngcontent-%COMP%]   .sections-list[_ngcontent-%COMP%]   .list-group-item[_ngcontent-%COMP%]   .btn-group[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{font-size:.85rem}"]})};var zf=li(si());function see(n,t){n&1&&(f(0,"div",10)(1,"div",11)(2,"span",12),_(3),v(4,"translate"),h()(),f(5,"p"),_(6),v(7,"translate"),h()()),n&2&&(d(3),I(y(4,2,"admin.courses.loading")),d(3),I(y(7,4,"admin.courses.loadingLessons")))}function aee(n,t){if(n&1&&(f(0,"option",44),_(1),h()),n&2){let e=t.$implicit;O("value",e.id),d(),M(" ",e.title," ")}}function cee(n,t){if(n&1&&(f(0,"div",45),_(1),v(2,"translate"),h()),n&2){let e=x(2);d(),M(" ",y(2,1,e.getFormError("sectionId"))," ")}}function lee(n,t){if(n&1&&(f(0,"div",45),_(1),v(2,"translate"),h()),n&2){let e=x(2);d(),M(" ",y(2,1,e.getFormError("title"))," ")}}function dee(n,t){if(n&1&&(f(0,"div",45),_(1),v(2,"translate"),h()),n&2){let e=x(2);d(),M(" ",y(2,1,e.getFormError("order"))," ")}}function uee(n,t){if(n&1&&(f(0,"div",45),_(1),v(2,"translate"),h()),n&2){let e=x(2);d(),M(" ",y(2,1,e.getFormError("videoId"))," ")}}function fee(n,t){if(n&1&&(f(0,"div",45),_(1),v(2,"translate"),h()),n&2){let e=x(2);d(),M(" ",y(2,1,e.getFormError("playbackUrl"))," ")}}function pee(n,t){if(n&1&&(f(0,"div",45),_(1),v(2,"translate"),h()),n&2){let e=x(2);d(),M(" ",y(2,1,e.getFormError("pdfUrl"))," ")}}function hee(n,t){n&1&&w(0,"span",46)}function gee(n,t){if(n&1){let e=ce();f(0,"div",13)(1,"h5",14),_(2),v(3,"translate"),h(),f(4,"form",15),z("ngSubmit",function(){G(e);let r=x();return K(r.submitLesson())}),f(5,"div",16)(6,"div",17)(7,"label",18),_(8),v(9,"translate"),f(10,"span",19),_(11,"*"),h()(),f(12,"select",20)(13,"option",21),_(14),v(15,"translate"),h(),J(16,aee,2,2,"option",22),h(),J(17,cee,3,3,"div",23),h(),f(18,"div",17)(19,"label",24),_(20),v(21,"translate"),f(22,"span",19),_(23,"*"),h()(),w(24,"input",25),v(25,"translate"),J(26,lee,3,3,"div",23),h(),f(27,"div",26)(28,"label",27),_(29),v(30,"translate"),f(31,"span",19),_(32,"*"),h()(),w(33,"input",28),v(34,"translate"),J(35,dee,3,3,"div",23),h(),f(36,"div",17),w(37,"hr"),f(38,"h6",14),w(39,"i",29),_(40),v(41,"translate"),h()(),f(42,"div",26)(43,"label",30),_(44),v(45,"translate"),f(46,"span",19),_(47,"*"),h()(),w(48,"input",31),v(49,"translate"),J(50,uee,3,3,"div",23),f(51,"small",32),_(52),v(53,"translate"),h()(),f(54,"div",26)(55,"label",33),_(56),v(57,"translate"),f(58,"span",19),_(59,"*"),h()(),w(60,"input",34),v(61,"translate"),J(62,fee,3,3,"div",23),f(63,"small",32),_(64),v(65,"translate"),h()(),f(66,"div",17),w(67,"hr"),f(68,"h6",14),w(69,"i",35),_(70),v(71,"translate"),h()(),f(72,"div",17)(73,"label",36),_(74),v(75,"translate"),f(76,"span",19),_(77,"*"),h()(),w(78,"input",37),v(79,"translate"),J(80,pee,3,3,"div",23),f(81,"small",32),_(82),v(83,"translate"),h()()(),f(84,"div",38)(85,"button",39),w(86,"i",40),_(87),v(88,"translate"),J(89,hee,1,0,"span",41),h(),f(90,"button",42),z("click",function(){G(e);let r=x();return K(r.cancelForm())}),w(91,"i",43),_(92),v(93,"translate"),h()()()()}if(n&2){let e,i,r,o,s,a,c=x();d(2),M(" ",y(3,43,c.editingLesson?"admin.courses.editLesson":"admin.courses.createLesson")," "),d(2),O("formGroup",c.lessonForm),d(4),M(" ",y(9,45,"admin.courses.section")," "),d(4),U("is-invalid",((e=c.lessonForm.get("sectionId"))==null?null:e.invalid)&&((e=c.lessonForm.get("sectionId"))==null?null:e.touched)),d(2),I(y(15,47,"admin.courses.selectSection")),d(2),O("ngForOf",c.sections),d(),O("ngIf",c.getFormError("sectionId")),d(3),M(" ",y(21,49,"admin.courses.lessonTitle")," "),d(4),U("is-invalid",((i=c.lessonForm.get("title"))==null?null:i.invalid)&&((i=c.lessonForm.get("title"))==null?null:i.touched)),O("placeholder",y(25,51,"admin.courses.lessonTitlePlaceholder")),d(2),O("ngIf",c.getFormError("title")),d(3),M(" ",y(30,53,"admin.courses.order")," "),d(4),U("is-invalid",((r=c.lessonForm.get("order"))==null?null:r.invalid)&&((r=c.lessonForm.get("order"))==null?null:r.touched)),O("placeholder",y(34,55,"admin.courses.orderPlaceholder")),d(2),O("ngIf",c.getFormError("order")),d(5),M(" ",y(41,57,"admin.courses.videoDetails")," "),d(4),M(" ",y(45,59,"admin.courses.videoId")," "),d(4),U("is-invalid",((o=c.lessonForm.get("videoId"))==null?null:o.invalid)&&((o=c.lessonForm.get("videoId"))==null?null:o.touched)),O("placeholder",y(49,61,"admin.courses.videoIdPlaceholder")),d(2),O("ngIf",c.getFormError("videoId")),d(2),M(" ",y(53,63,"admin.courses.videoIdHelp")," "),d(4),M(" ",y(57,65,"admin.courses.playbackUrl")," "),d(4),U("is-invalid",((s=c.lessonForm.get("playbackUrl"))==null?null:s.invalid)&&((s=c.lessonForm.get("playbackUrl"))==null?null:s.touched)),O("placeholder",y(61,67,"admin.courses.playbackUrlPlaceholder")),d(2),O("ngIf",c.getFormError("playbackUrl")),d(2),M(" ",y(65,69,"admin.courses.playbackUrlHelp")," "),d(6),M(" ",y(71,71,"admin.courses.pdfDetails")," "),d(4),M(" ",y(75,73,"admin.courses.pdfUrl")," "),d(4),U("is-invalid",((a=c.lessonForm.get("pdfUrl"))==null?null:a.invalid)&&((a=c.lessonForm.get("pdfUrl"))==null?null:a.touched)),O("placeholder",y(79,75,"admin.courses.pdfUrlPlaceholder")),d(2),O("ngIf",c.getFormError("pdfUrl")),d(2),M(" ",y(83,77,"admin.courses.pdfUrlHelp")," "),d(3),O("disabled",c.isProcessing||c.lessonForm.invalid),d(2),M(" ",y(88,79,c.editingLesson?"admin.courses.save":"admin.courses.create")," "),d(2),O("ngIf",c.isProcessing),d(),O("disabled",c.isProcessing),d(2),M(" ",y(93,81,"admin.courses.cancel")," ")}}function mee(n,t){n&1&&(f(0,"p",47),_(1),v(2,"translate"),h()),n&2&&(d(),M(" ",y(2,1,"admin.courses.noSectionsForLessons")," "))}function _ee(n,t){n&1&&(f(0,"p",47),_(1),v(2,"translate"),h()),n&2&&(d(),M(" ",y(2,1,"admin.courses.noLessons")," "))}function vee(n,t){n&1&&(f(0,"div",57),_(1),v(2,"translate"),h()),n&2&&(d(),M(" ",y(2,1,"admin.courses.noLessonsInSection")," "))}function yee(n,t){n&1&&(f(0,"small",70),w(1,"i",29),_(2),v(3,"translate"),h()),n&2&&(d(2),M(" ",y(3,1,"admin.courses.hasVideo")," "))}function bee(n,t){n&1&&(f(0,"small",71),w(1,"i",35),_(2),v(3,"translate"),h()),n&2&&(d(2),M(" ",y(3,1,"admin.courses.hasPdf")," "))}function Cee(n,t){if(n&1){let e=ce();f(0,"div",60)(1,"div",61)(2,"div")(3,"strong"),_(4),h(),f(5,"div",62),J(6,yee,4,3,"small",63)(7,bee,4,3,"small",64),h()(),f(8,"div",65)(9,"button",66),z("click",function(){let r=G(e).$implicit,o=x(4);return K(o.editLesson(r))}),w(10,"i",67),h(),f(11,"button",68),z("click",function(){let r=G(e).$implicit,o=x(4);return K(o.deleteLesson(r))}),w(12,"i",69),h()()()()}if(n&2){let e=t.$implicit,i=x(4);d(4),I(e.title),d(2),O("ngIf",e.video),d(),O("ngIf",e.pdf),d(2),O("disabled",i.isProcessing),d(2),O("disabled",i.isProcessing)}}function wee(n,t){if(n&1&&(f(0,"div",58),J(1,Cee,13,5,"div",59),h()),n&2){let e=x().$implicit,i=x(2);d(),O("ngForOf",i.getLessonsBySection(e.id))}}function Mee(n,t){if(n&1){let e=ce();f(0,"div",50)(1,"h5",51),w(2,"i",52),_(3),f(4,"button",53),z("click",function(){let r=G(e).$implicit,o=x(2);return K(o.createLesson(r.id))}),w(5,"i",54),_(6),v(7,"translate"),h()(),J(8,vee,3,3,"div",55)(9,wee,2,1,"div",56),h()}if(n&2){let e=t.$implicit,i=x(2);d(3),M(" ",e.title," "),d(),O("disabled",i.isProcessing),d(2),M(" ",y(7,5,"admin.courses.addLesson")," "),d(2),O("ngIf",i.getLessonsBySection(e.id).length===0),d(),O("ngIf",i.getLessonsBySection(e.id).length>0)}}function Eee(n,t){if(n&1&&(f(0,"div",48),J(1,Mee,10,7,"div",49),h()),n&2){let e=x();d(),O("ngForOf",e.sections)}}var _0=class n{constructor(t,e){this.lessonsService=t;this.fb=e;this.lessonForm=this.fb.group({sectionId:["",te.required],title:["",[te.required,te.minLength(3)]],order:[1,[te.required,te.min(1)]],videoId:["",te.required],playbackUrl:["",te.required],pdfUrl:[""]})}courseId=null;sections=[];lessons=[];isLoading=!1;isProcessing=!1;showForm=!1;editingLesson=null;selectedSectionId=null;lessonForm;destroy$=new le;ngOnInit(){}ngOnChanges(t){(t.courseId||t.sections)&&this.courseId&&(this.sections.length>0?this.loadLessons():(this.isLoading=!1,this.lessons=[]))}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}loadLessons(){if(!this.courseId||this.sections.length===0){this.isLoading=!1,this.lessons=[];return}this.isLoading=!0,this.lessonsService.getLessonsByCourse(this.courseId).pipe(ne(this.destroy$)).subscribe({next:t=>{this.lessons=(t||[]).filter(e=>e.type==="video"||e.type==="pdf"),this.isLoading=!1},error:t=>{console.error("Error loading lessons:",t),this.isLoading=!1,this.lessons=[],this.showErrorAlert("admin.courses.loadLessonsError")}})}getLessonsBySection(t){return this.lessons.filter(e=>e.sectionId===t)}getNextOrderForSection(t){let e=this.getLessonsBySection(t);return e.length===0?1:Math.max(...e.map(i=>i.order))+1}createLesson(t){this.editingLesson=null,this.selectedSectionId=t,this.lessonForm.reset({sectionId:t,title:"",order:this.getNextOrderForSection(t),videoId:"",playbackUrl:"",pdfUrl:""}),this.lessonForm.get("sectionId")?.enable(),this.showForm=!0}editLesson(t){this.editingLesson=t,this.selectedSectionId=t.sectionId,this.lessonForm.patchValue({sectionId:t.sectionId,title:t.title,order:t.order,videoId:t.video?.videoId||"",playbackUrl:t.video?.playbackUrl||"",pdfUrl:t.pdf?.url||""}),this.lessonForm.get("sectionId")?.disable(),this.showForm=!0}cancelForm(){this.showForm=!1,this.editingLesson=null,this.selectedSectionId=null,this.lessonForm.get("sectionId")?.enable(),this.lessonForm.reset()}submitLesson(){if(this.lessonForm.invalid){this.markFormGroupTouched(),this.showValidationError("admin.courses.fillRequiredFields");return}if(!this.courseId)return;let t=this.lessonForm.getRawValue(),e=t.sectionId||this.selectedSectionId||this.editingLesson?.sectionId;if(!e){this.showValidationError("admin.courses.sectionRequired");return}if(!t.videoId||!t.playbackUrl){this.showValidationError("admin.courses.videoFieldsRequired");return}if(!t.pdfUrl){this.showValidationError("admin.courses.pdfUrlRequired");return}this.isProcessing=!0;let i={title:t.title,type:"video",order:t.order},r={provider:"bunny",videoId:t.videoId,playbackUrl:t.playbackUrl},o={url:t.pdfUrl};this.editingLesson?this.lessonsService.updateLesson(this.courseId,this.editingLesson.sectionId,this.editingLesson.id,i).pipe(ne(this.destroy$)).subscribe({next:()=>{Vt([this.lessonsService.attachVideoToLesson(this.courseId,this.editingLesson.sectionId,this.editingLesson.id,r),this.lessonsService.attachPdfToLesson(this.courseId,this.editingLesson.sectionId,this.editingLesson.id,o)]).pipe(ne(this.destroy$)).subscribe({next:()=>{this.showSuccessAlert("admin.courses.lessonUpdateSuccess"),this.cancelForm(),this.loadLessons(),this.isProcessing=!1},error:s=>{console.error("Error attaching video/PDF:",s),this.showErrorAlert("admin.courses.lessonUpdateError"),this.isProcessing=!1}})},error:s=>{console.error("Error updating lesson:",s),this.showErrorAlert("admin.courses.lessonUpdateError"),this.isProcessing=!1}}):this.lessonsService.createLesson(this.courseId,e,i).pipe(ne(this.destroy$)).subscribe({next:s=>{Vt([this.lessonsService.attachVideoToLesson(this.courseId,e,s,r),this.lessonsService.attachPdfToLesson(this.courseId,e,s,o)]).pipe(ne(this.destroy$)).subscribe({next:()=>{this.showSuccessAlert("admin.courses.lessonCreateSuccess"),this.cancelForm(),this.loadLessons(),this.isProcessing=!1},error:a=>{console.error("Error attaching video/PDF:",a),this.showErrorAlert("admin.courses.lessonCreateError"),this.isProcessing=!1}})},error:s=>{console.error("Error creating lesson:",s),this.showErrorAlert("admin.courses.lessonCreateError"),this.isProcessing=!1}})}deleteLesson(t){zf.default.fire({title:"admin.courses.deleteLessonConfirmTitle",text:"admin.courses.deleteLessonConfirmText",icon:"warning",showCancelButton:!0,confirmButtonText:"admin.courses.delete",cancelButtonText:"admin.courses.cancel",confirmButtonColor:"#DC2626",cancelButtonColor:"#6B7280"}).then(e=>{e.isConfirmed&&this.courseId&&(this.isProcessing=!0,this.lessonsService.deleteLesson(this.courseId,t.sectionId,t.id).pipe(ne(this.destroy$)).subscribe({next:()=>{this.showSuccessAlert("admin.courses.lessonDeleteSuccess"),this.loadLessons(),this.isProcessing=!1},error:i=>{console.error("Error deleting lesson:",i),this.showErrorAlert("admin.courses.lessonDeleteError"),this.isProcessing=!1}}))})}getSectionName(t){let e=this.sections.find(i=>i.id===t);return e?e.title:t}markFormGroupTouched(){Object.keys(this.lessonForm.controls).forEach(t=>{this.lessonForm.get(t)?.markAsTouched()})}getFormError(t){let e=this.lessonForm.get(t);if(e&&e.touched&&e.errors){if(e.errors.required)return"admin.courses.fieldRequired";if(e.errors.minlength)return"admin.courses.fieldMinLength";if(e.errors.min)return"admin.courses.orderMin"}return""}showSuccessAlert(t){zf.default.fire({icon:"success",title:"admin.courses.success",text:t,confirmButtonText:"admin.courses.ok",confirmButtonColor:"#16A34A"})}showErrorAlert(t){zf.default.fire({icon:"error",title:"admin.courses.error",text:t,confirmButtonText:"admin.courses.ok",confirmButtonColor:"#DC2626"})}showValidationError(t){zf.default.fire({icon:"warning",title:"admin.courses.validationError",text:t,confirmButtonText:"admin.courses.ok",confirmButtonColor:"#F59E0B"})}static \u0275fac=function(e){return new(e||n)(A(qi),A(hn))};static \u0275cmp=de({type:n,selectors:[["app-lessons"]],inputs:{courseId:"courseId",sections:"sections"},features:[an],decls:13,vars:8,consts:[[1,"lessons-management"],[1,"card"],[1,"card-header"],[1,"card-title"],[1,"fas","fa-play-circle"],[1,"card-body"],["class","loading-state",4,"ngIf"],["class","lesson-form mb-4",4,"ngIf"],["class","text-muted",4,"ngIf"],["class","lessons-by-section",4,"ngIf"],[1,"loading-state"],["role","status",1,"spinner-border","text-primary"],[1,"visually-hidden"],[1,"lesson-form","mb-4"],[1,"mb-3"],[3,"ngSubmit","formGroup"],[1,"row","g-3"],[1,"col-12"],["for","lessonSection",1,"form-label"],[1,"text-danger"],["id","lessonSection","formControlName","sectionId",1,"form-select"],["value",""],[3,"value",4,"ngFor","ngForOf"],["class","invalid-feedback",4,"ngIf"],["for","lessonTitle",1,"form-label"],["type","text","id","lessonTitle","formControlName","title",1,"form-control",3,"placeholder"],[1,"col-12","col-md-6"],["for","lessonOrder",1,"form-label"],["type","number","id","lessonOrder","min","1","readonly","","formControlName","order",1,"form-control","disabled","opacity-50",3,"placeholder"],[1,"fas","fa-video"],["for","videoId",1,"form-label"],["type","text","id","videoId","formControlName","videoId",1,"form-control",3,"placeholder"],[1,"form-text","text-muted"],["for","playbackUrl",1,"form-label"],["type","url","id","playbackUrl","formControlName","playbackUrl",1,"form-control",3,"placeholder"],[1,"fas","fa-file-pdf"],["for","pdfUrl",1,"form-label"],["type","url","id","pdfUrl","formControlName","pdfUrl",1,"form-control",3,"placeholder"],[1,"form-actions","mt-3"],["type","submit",1,"btn","btn-primary",3,"disabled"],[1,"fas","fa-save"],["class","spinner-border spinner-border-sm ms-2","role","status",4,"ngIf"],["type","button",1,"btn","btn-outline-secondary",3,"click","disabled"],[1,"fas","fa-times"],[3,"value"],[1,"invalid-feedback"],["role","status",1,"spinner-border","spinner-border-sm","ms-2"],[1,"text-muted"],[1,"lessons-by-section"],["class","section-lessons mb-4",4,"ngFor","ngForOf"],[1,"section-lessons","mb-4"],[1,"section-title"],[1,"fas","fa-folder"],[1,"btn","btn-sm","btn-primary","ms-2",3,"click","disabled"],[1,"fas","fa-plus"],["class","text-muted ms-4",4,"ngIf"],["class","lessons-list ms-4",4,"ngIf"],[1,"text-muted","ms-4"],[1,"lessons-list","ms-4"],["class","lesson-item mb-2",4,"ngFor","ngForOf"],[1,"lesson-item","mb-2"],[1,"d-flex","justify-content-between","align-items-center","p-2","border","rounded"],[1,"mt-1"],["class","badge bg-info me-1",4,"ngIf"],["class","badge bg-danger",4,"ngIf"],[1,"btn-group"],[1,"btn","btn-sm","btn-outline-primary",3,"click","disabled"],[1,"fas","fa-edit"],[1,"btn","btn-sm","btn-outline-danger",3,"click","disabled"],[1,"fas","fa-trash"],[1,"badge","bg-info","me-1"],[1,"badge","bg-danger"]],template:function(e,i){e&1&&(f(0,"div",0)(1,"div",1)(2,"div",2)(3,"h3",3),w(4,"i",4),_(5),v(6,"translate"),h()(),f(7,"div",5),J(8,see,8,6,"div",6)(9,gee,94,83,"div",7)(10,mee,3,3,"p",8)(11,_ee,3,3,"p",8)(12,Eee,2,1,"div",9),h()()()),e&2&&(d(5),M(" ",y(6,6,"admin.courses.lessons")," "),d(3),O("ngIf",i.isLoading),d(),O("ngIf",i.showForm&&!i.isLoading),d(),O("ngIf",!i.isLoading&&!i.showForm&&i.sections.length===0),d(),O("ngIf",!i.isLoading&&!i.showForm&&i.sections.length>0&&i.lessons.length===0),d(),O("ngIf",!i.isLoading&&!i.showForm&&i.sections.length>0))},dependencies:[ge,Nn,wn,me,gn,pn,ri,oi,Mt,wr,Fn,kt,fn,Vo,Kt,tn,ve],styles:[".lessons-management[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{border:none;box-shadow:0 4px 8px #00000026;border-radius:16px}.lessons-management[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{background:#c9a24d0d;border-bottom:1px solid rgba(14,58,93,.1);padding:32px}.lessons-management[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:700;color:#0e3a5d;margin:0;font-family:Cairo,sans-serif;display:flex;align-items:center;gap:8px}.lessons-management[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#c9a24d}.lessons-management[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{padding:64px}.lessons-management[_ngcontent-%COMP%]   .loading-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;min-height:200px;text-align:center}.lessons-management[_ngcontent-%COMP%]   .loading-state[_ngcontent-%COMP%]   .spinner-border[_ngcontent-%COMP%]{width:2rem;height:2rem;border-width:.25rem;margin-bottom:16px}.lessons-management[_ngcontent-%COMP%]   .loading-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#0f172ab3;font-size:.9rem;margin:0}.lessons-management[_ngcontent-%COMP%]   .lesson-form[_ngcontent-%COMP%]{background:#c9a24d05;border:1px solid rgba(14,58,93,.1);border-radius:8px;padding:32px}.lessons-management[_ngcontent-%COMP%]   .lesson-form[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:600;color:#0e3a5d}.lessons-management[_ngcontent-%COMP%]   .lesson-form[_ngcontent-%COMP%]   .form-label[_ngcontent-%COMP%]{font-weight:600;color:#0e3a5d;margin-bottom:8px;font-size:.9rem}.lessons-management[_ngcontent-%COMP%]   .lesson-form[_ngcontent-%COMP%]   .form-label[_ngcontent-%COMP%]   .text-danger[_ngcontent-%COMP%]{color:#dc2626}.lessons-management[_ngcontent-%COMP%]   .lesson-form[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%], .lessons-management[_ngcontent-%COMP%]   .lesson-form[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%]{border:1px solid rgba(14,58,93,.2);border-radius:8px;padding:8px 16px;transition:border-color .2s,box-shadow .2s}.lessons-management[_ngcontent-%COMP%]   .lesson-form[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:focus, .lessons-management[_ngcontent-%COMP%]   .lesson-form[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%]:focus{border-color:#c9a24d;box-shadow:0 0 0 .2rem #c9a24d40}.lessons-management[_ngcontent-%COMP%]   .lesson-form[_ngcontent-%COMP%]   .form-control.is-invalid[_ngcontent-%COMP%], .lessons-management[_ngcontent-%COMP%]   .lesson-form[_ngcontent-%COMP%]   .form-select.is-invalid[_ngcontent-%COMP%]{border-color:#dc2626}.lessons-management[_ngcontent-%COMP%]   .lesson-form[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:disabled, .lessons-management[_ngcontent-%COMP%]   .lesson-form[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%]:disabled{background-color:#0e3a5d0d;cursor:not-allowed}.lessons-management[_ngcontent-%COMP%]   .lesson-form[_ngcontent-%COMP%]   .invalid-feedback[_ngcontent-%COMP%]{display:block;color:#dc2626;font-size:.85rem;margin-top:4px}.lessons-management[_ngcontent-%COMP%]   .lesson-form[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]{display:flex;gap:16px;margin-top:16px}.lessons-management[_ngcontent-%COMP%]   .lesson-form[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:8px}.lessons-management[_ngcontent-%COMP%]   .lessons-by-section[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:600;color:#0e3a5d;margin-bottom:16px;display:flex;align-items:center;gap:8px}.lessons-management[_ngcontent-%COMP%]   .lessons-by-section[_ngcontent-%COMP%]   .lessons-list[_ngcontent-%COMP%]   .lesson-item[_ngcontent-%COMP%]   .border[_ngcontent-%COMP%]{border-color:#0e3a5d1a!important}"]})};var Vf=li(si());function Pee(n,t){n&1&&(f(0,"div",10)(1,"div",11)(2,"span",12),_(3),v(4,"translate"),h()(),f(5,"p"),_(6),v(7,"translate"),h()()),n&2&&(d(3),I(y(4,2,"admin.courses.loading")),d(3),I(y(7,4,"admin.courses.loadingQuizzes")))}function Oee(n,t){if(n&1&&(f(0,"option",43),_(1),h()),n&2){let e=t.$implicit;O("value",e.id),d(),M(" ",e.title," ")}}function xee(n,t){if(n&1&&(f(0,"div",44),_(1),v(2,"translate"),h()),n&2){let e=x(2);d(),M(" ",y(2,1,e.getFormError("lessonId"))," ")}}function Iee(n,t){if(n&1&&(f(0,"div",44),_(1),v(2,"translate"),h()),n&2){let e=x(2);d(),M(" ",y(2,1,e.getFormError("title"))," ")}}function See(n,t){if(n&1&&(f(0,"div",44),_(1),v(2,"translate"),h()),n&2){let e=x(2);d(),M(" ",y(2,1,e.getFormError("passingScore"))," ")}}function Tee(n,t){if(n&1&&(f(0,"div",44),_(1),v(2,"translate"),h()),n&2){let e=x().index,i=x(2);d(),M(" ",y(2,1,i.getQuestionError(e,"text"))," ")}}function Dee(n,t){if(n&1){let e=ce();f(0,"div",45)(1,"div",46)(2,"h6",30),_(3),v(4,"translate"),h(),f(5,"button",47),z("click",function(){let r=G(e).index,o=x(2);return K(o.removeQuestion(r))}),w(6,"i",48),h()(),f(7,"div",14)(8,"label",49),_(9),v(10,"translate"),f(11,"span",19),_(12,"*"),h()(),w(13,"input",50),v(14,"translate"),J(15,Tee,3,3,"div",23),h(),f(16,"div")(17,"label",51),_(18),v(19,"translate"),f(20,"span",19),_(21,"*"),h()(),f(22,"div",52),w(23,"input",53),f(24,"label",54),_(25),v(26,"translate"),h(),w(27,"input",53),f(28,"label",55),_(29),v(30,"translate"),h()()()()}if(n&2){let e,i=t.$implicit,r=t.index,o=x(2);O("formGroupName",r),d(3),Ct(" ",y(4,20,"admin.courses.question")," ",r+1," "),d(2),O("disabled",o.isProcessing||o.questionsArray.length===1),d(3),O("for","questionText"+r),d(),M(" ",y(10,22,"admin.courses.questionText")," "),d(4),U("is-invalid",((e=i.get("text"))==null?null:e.invalid)&&((e=i.get("text"))==null?null:e.touched)),O("id","questionText"+r)("placeholder",y(14,24,"admin.courses.questionTextPlaceholder")),d(2),O("ngIf",o.getQuestionError(r,"text")),d(3),M(" ",y(19,26,"admin.courses.correctAnswer")," "),d(5),O("id","yes"+r)("value",!0),d(),O("for","yes"+r),d(),M(" ",y(26,28,"admin.courses.yes")," "),d(2),O("id","no"+r)("value",!1),d(),O("for","no"+r),d(),M(" ",y(30,30,"admin.courses.no")," ")}}function Aee(n,t){n&1&&(f(0,"div",56),_(1),v(2,"translate"),h()),n&2&&(d(),M(" ",y(2,1,"admin.courses.noQuestions")," "))}function kee(n,t){n&1&&w(0,"span",57)}function Ree(n,t){if(n&1){let e=ce();f(0,"div",13)(1,"h5",14),_(2),v(3,"translate"),h(),f(4,"form",15),z("ngSubmit",function(){G(e);let r=x();return K(r.submitQuiz())}),f(5,"div",16)(6,"div",17)(7,"label",18),_(8),v(9,"translate"),f(10,"span",19),_(11,"*"),h()(),f(12,"select",20)(13,"option",21),_(14),v(15,"translate"),h(),J(16,Oee,2,2,"option",22),h(),J(17,xee,3,3,"div",23),h(),f(18,"div",17)(19,"label",24),_(20),v(21,"translate"),f(22,"span",19),_(23,"*"),h()(),w(24,"input",25),v(25,"translate"),J(26,Iee,3,3,"div",23),h(),f(27,"div",26)(28,"label",27),_(29),v(30,"translate"),f(31,"span",19),_(32,"*"),h()(),w(33,"input",28),v(34,"translate"),J(35,See,3,3,"div",23),h(),f(36,"div",17),w(37,"hr"),f(38,"div",29)(39,"h6",30),w(40,"i",31),_(41),v(42,"translate"),h(),f(43,"button",32),z("click",function(){G(e);let r=x();return K(r.addQuestion())}),w(44,"i",33),_(45),v(46,"translate"),h()(),f(47,"div",34),J(48,Dee,31,32,"div",35)(49,Aee,3,3,"div",36),h()()(),f(50,"div",37)(51,"button",38),w(52,"i",39),_(53),v(54,"translate"),J(55,kee,1,0,"span",40),h(),f(56,"button",41),z("click",function(){G(e);let r=x();return K(r.cancelForm())}),w(57,"i",42),_(58),v(59,"translate"),h()()()()}if(n&2){let e,i,r,o=x();d(2),M(" ",y(3,28,o.editingQuiz?"admin.courses.editQuiz":"admin.courses.createQuiz")," "),d(2),O("formGroup",o.quizForm),d(4),M(" ",y(9,30,"admin.courses.lesson")," "),d(4),U("is-invalid",((e=o.quizForm.get("lessonId"))==null?null:e.invalid)&&((e=o.quizForm.get("lessonId"))==null?null:e.touched)),d(2),I(y(15,32,"admin.courses.selectLesson")),d(2),O("ngForOf",o.lessons),d(),O("ngIf",o.getFormError("lessonId")),d(3),M(" ",y(21,34,"admin.courses.quizTitle")," "),d(4),U("is-invalid",((i=o.quizForm.get("title"))==null?null:i.invalid)&&((i=o.quizForm.get("title"))==null?null:i.touched)),O("placeholder",y(25,36,"admin.courses.quizTitlePlaceholder")),d(2),O("ngIf",o.getFormError("title")),d(3),M(" ",y(30,38,"admin.courses.passingScore")," (%) "),d(4),U("is-invalid",((r=o.quizForm.get("passingScore"))==null?null:r.invalid)&&((r=o.quizForm.get("passingScore"))==null?null:r.touched)),O("placeholder",y(34,40,"admin.courses.passingScorePlaceholder")),d(2),O("ngIf",o.getFormError("passingScore")),d(6),M(" ",y(42,42,"admin.courses.questions")," "),d(2),O("disabled",o.isProcessing),d(2),M(" ",y(46,44,"admin.courses.addQuestion")," "),d(3),O("ngForOf",o.questionsArray.controls),d(),O("ngIf",o.questionsArray.length===0),d(2),O("disabled",o.isProcessing||o.quizForm.invalid||o.questionsArray.length===0),d(2),M(" ",y(54,46,o.editingQuiz?"admin.courses.save":"admin.courses.create")," "),d(2),O("ngIf",o.isProcessing),d(),O("disabled",o.isProcessing),d(2),M(" ",y(59,48,"admin.courses.cancel")," ")}}function Nee(n,t){n&1&&(f(0,"p",58),_(1),v(2,"translate"),h()),n&2&&(d(),M(" ",y(2,1,"admin.courses.noSectionsForQuizzes")," "))}function Lee(n,t){n&1&&(f(0,"p",58),_(1),v(2,"translate"),h()),n&2&&(d(),M(" ",y(2,1,"admin.courses.noLessonsForQuizzes")," "))}function Fee(n,t){n&1&&(f(0,"span",74),_(1),v(2,"translate"),h()),n&2&&(d(),M(" ",y(2,1,"admin.courses.hasQuiz")," "))}function Bee(n,t){n&1&&(f(0,"span",75),_(1),v(2,"translate"),h()),n&2&&(d(),M(" ",y(2,1,"admin.courses.noQuiz")," "))}function zee(n,t){if(n&1){let e=ce();f(0,"button",76),z("click",function(){G(e);let r=x(2).$implicit,o=x(3);return K(o.createQuiz(r.id))}),w(1,"i",33),_(2),v(3,"translate"),h()}if(n&2){let e=x(5);O("disabled",e.isProcessing),d(2),M(" ",y(3,2,"admin.courses.createQuiz")," ")}}function Vee(n,t){if(n&1){let e=ce();f(0,"button",77),z("click",function(){G(e);let r=x(2).$implicit,o=x(3);return K(o.editQuiz(o.getQuizForLesson(r.id)))}),w(1,"i",78),_(2),v(3,"translate"),h()}if(n&2){let e=x(5);O("disabled",e.isProcessing),d(2),M(" ",y(3,2,"admin.courses.edit")," ")}}function jee(n,t){if(n&1){let e=ce();f(0,"button",79),z("click",function(){G(e);let r=x(2).$implicit,o=x(3);return K(o.deleteQuiz(o.getQuizForLesson(r.id)))}),w(1,"i",48),_(2),v(3,"translate"),h()}if(n&2){let e=x(5);O("disabled",e.isProcessing),d(2),M(" ",y(3,2,"admin.courses.delete")," ")}}function Uee(n,t){if(n&1&&(f(0,"div",67)(1,"div")(2,"strong"),_(3),h(),J(4,Fee,3,3,"span",68)(5,Bee,3,3,"span",69),h(),f(6,"div",70),J(7,zee,4,4,"button",71)(8,Vee,4,4,"button",72)(9,jee,4,4,"button",73),h()()),n&2){let e=x().$implicit,i=x(3);d(3),I(e.title),d(),O("ngIf",i.getQuizForLesson(e.id)),d(),O("ngIf",!i.getQuizForLesson(e.id)),d(2),O("ngIf",!i.getQuizForLesson(e.id)),d(),O("ngIf",i.getQuizForLesson(e.id)),d(),O("ngIf",i.getQuizForLesson(e.id))}}function $ee(n,t){if(n&1&&(f(0,"div",65),J(1,Uee,10,6,"div",66),h()),n&2){let e=t.$implicit,i=x().$implicit;d(),O("ngIf",e.sectionId===i.id)}}function Hee(n,t){if(n&1&&(f(0,"div",61)(1,"h5",62),w(2,"i",63),_(3),h(),J(4,$ee,2,1,"div",64),h()),n&2){let e=t.$implicit,i=x(2);d(3),M(" ",e.title," "),d(),O("ngForOf",i.lessons)}}function qee(n,t){if(n&1&&(f(0,"div",59),J(1,Hee,5,2,"div",60),h()),n&2){let e=x();d(),O("ngForOf",e.sections)}}var v0=class n{constructor(t,e,i){this.quizzesService=t;this.lessonsService=e;this.fb=i;this.questionsFormArray=this.fb.array([]),this.quizForm=this.fb.group({lessonId:["",te.required],title:["",[te.required,te.minLength(3)]],passingScore:[60,[te.required,te.min(0),te.max(100)]],questions:this.questionsFormArray})}courseId=null;sections=[];quizzes=[];lessons=[];isLoading=!1;isProcessing=!1;showForm=!1;editingQuiz=null;selectedLessonId=null;questions=[];quizForm;questionsFormArray;destroy$=new le;ngOnInit(){}ngOnChanges(t){(t.courseId||t.sections)&&(this.courseId&&this.sections.length>0?this.loadLessons():this.courseId&&(this.isLoading=!1,this.lessons=[],this.quizzes=[]))}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}loadLessons(){if(!this.courseId||this.sections.length===0){this.isLoading=!1,this.lessons=[],this.quizzes=[];return}this.isLoading=!0,this.lessonsService.getLessonsByCourse(this.courseId).pipe(ne(this.destroy$)).subscribe({next:t=>{this.lessons=t||[],this.loadQuizzesForLessons()},error:t=>{console.error("Error loading lessons:",t),this.isLoading=!1,this.lessons=[],this.quizzes=[]}})}loadQuizzesForLessons(){let t=this.lessons.filter(i=>i.quizId);if(t.length===0){this.quizzes=[],this.isLoading=!1;return}let e=t.map(i=>this.quizzesService.getQuiz(i.quizId).pipe(ne(this.destroy$)));Vt(e).pipe(ne(this.destroy$)).subscribe({next:i=>{this.quizzes=i.filter(r=>r!==null),this.isLoading=!1},error:i=>{console.error("Error loading quizzes:",i),this.quizzes=[],this.isLoading=!1}})}getQuizForLesson(t){let e=this.lessons.find(i=>i.id===t);return!e||!e.quizId?null:this.quizzes.find(i=>i.id===e.quizId)||null}getLessonName(t){let e=this.lessons.find(i=>i.id===t);return e?e.title:t}createQuiz(t){this.editingQuiz=null,this.selectedLessonId=t,this.questions=[],this.questionsFormArray.clear(),this.addQuestion(),this.quizForm.reset({lessonId:t,title:"",passingScore:60,questions:[]}),this.showForm=!0}editQuiz(t){this.editingQuiz=t,this.selectedLessonId=t.lessonId,this.questionsFormArray.clear(),this.quizzesService.getQuestionsByQuiz(t.id).pipe(ne(this.destroy$)).subscribe({next:e=>{this.questions=e,this.quizForm.patchValue({lessonId:t.lessonId,title:t.title,passingScore:t.passingScore||60}),this.quizForm.get("lessonId")?.disable(),e.forEach(i=>{this.addQuestion(i)}),this.showForm=!0},error:e=>{console.error("Error loading questions:",e),this.showErrorAlert("admin.courses.loadQuestionsError")}})}cancelForm(){this.showForm=!1,this.editingQuiz=null,this.selectedLessonId=null,this.questions=[],this.questionsFormArray.clear(),this.quizForm.get("lessonId")?.enable(),this.quizForm.reset()}addQuestion(t){let e=this.fb.group({text:[t?.text||"",[te.required,te.minLength(3)]],correctAnswer:[t?this.getCorrectAnswer(t):!0,te.required],order:[t?.order||this.questionsFormArray.length+1,te.required]});this.questionsFormArray.push(e)}removeQuestion(t){this.questionsFormArray.removeAt(t),this.updateQuestionOrders()}updateQuestionOrders(){this.questionsFormArray.controls.forEach((t,e)=>{t.patchValue({order:e+1},{emitEvent:!1})})}getCorrectAnswer(t){let e=t.options.find(i=>i.correct);return e?e.text.toLowerCase().includes("yes")||e.text.toLowerCase().includes("\u0646\u0639\u0645"):!0}submitQuiz(){if(this.quizForm.invalid||this.questionsFormArray.length===0){this.markFormGroupTouched(),this.showValidationError("admin.courses.fillRequiredFields");return}let t=this.quizForm.getRawValue(),e=t.lessonId||this.selectedLessonId||this.editingQuiz?.lessonId;if(!e){this.showValidationError("admin.courses.lessonRequired");return}this.isProcessing=!0;let i={title:t.title,passingScore:t.passingScore};this.editingQuiz?this.quizzesService.updateQuiz(this.editingQuiz.id,i).pipe(ne(this.destroy$)).subscribe({next:()=>{this.saveQuestions(this.editingQuiz.id,t.questions)},error:r=>{console.error("Error updating quiz:",r),this.showErrorAlert("admin.courses.quizUpdateError"),this.isProcessing=!1}}):this.quizzesService.createQuiz(e,i).pipe(ne(this.destroy$)).subscribe({next:r=>{this.attachQuizToLesson(e,r),this.saveQuestions(r,t.questions)},error:r=>{console.error("Error creating quiz:",r),this.showErrorAlert("admin.courses.quizCreateError"),this.isProcessing=!1}})}attachQuizToLesson(t,e){if(!this.courseId)return;let i=this.lessons.find(r=>r.id===t);i&&this.lessonsService.updateLesson(this.courseId,i.sectionId,t,{quizId:e}).pipe(ne(this.destroy$)).subscribe({error:r=>{console.error("Error attaching quiz to lesson:",r)}})}saveQuestions(t,e){if(!e||e.length===0){this.showSuccessAlert("admin.courses.quizUpdateSuccess"),this.cancelForm(),this.loadLessons(),this.isProcessing=!1;return}if(this.editingQuiz&&this.questions.length>0){let i=this.questions.map(r=>this.quizzesService.deleteQuestion(t,r.id));Vt(i).pipe(ne(this.destroy$)).subscribe({next:()=>{this.createNewQuestions(t,e)},error:r=>{console.error("Error deleting old questions:",r),this.createNewQuestions(t,e)}})}else this.createNewQuestions(t,e)}createNewQuestions(t,e){let i=e.map((r,o)=>{let s={text:r.text,order:o+1,options:[{text:"Yes",correct:r.correctAnswer===!0},{text:"No",correct:r.correctAnswer===!1}]};return this.quizzesService.createQuestion(t,s)});Vt(i).pipe(ne(this.destroy$)).subscribe({next:()=>{this.showSuccessAlert(this.editingQuiz?"admin.courses.quizUpdateSuccess":"admin.courses.quizCreateSuccess"),this.cancelForm(),this.loadLessons(),this.isProcessing=!1},error:r=>{console.error("Error creating questions:",r),this.showErrorAlert("admin.courses.questionsCreateError"),this.isProcessing=!1}})}deleteQuiz(t){Vf.default.fire({title:"admin.courses.deleteQuizConfirmTitle",text:"admin.courses.deleteQuizConfirmText",icon:"warning",showCancelButton:!0,confirmButtonText:"admin.courses.delete",cancelButtonText:"admin.courses.cancel",confirmButtonColor:"#DC2626",cancelButtonColor:"#6B7280"}).then(e=>{e.isConfirmed&&(this.isProcessing=!0,this.quizzesService.deleteQuiz(t.id).pipe(ne(this.destroy$)).subscribe({next:()=>{this.showSuccessAlert("admin.courses.quizDeleteSuccess"),this.loadLessons(),this.isProcessing=!1},error:i=>{console.error("Error deleting quiz:",i),this.showErrorAlert("admin.courses.quizDeleteError"),this.isProcessing=!1}}))})}get questionsArray(){return this.questionsFormArray}markFormGroupTouched(){Object.keys(this.quizForm.controls).forEach(t=>{this.quizForm.get(t)?.markAsTouched()}),this.questionsFormArray.controls.forEach(t=>{t.markAllAsTouched()})}getFormError(t){let e=this.quizForm.get(t);if(e&&e.touched&&e.errors){if(e.errors.required)return"admin.courses.fieldRequired";if(e.errors.minlength)return"admin.courses.fieldMinLength";if(e.errors.min||e.errors.max)return"admin.courses.passingScoreRange"}return""}getQuestionError(t,e){let r=this.questionsFormArray.at(t).get(e);if(r&&r.touched&&r.errors){if(r.errors.required)return"admin.courses.fieldRequired";if(r.errors.minlength)return"admin.courses.fieldMinLength"}return""}showSuccessAlert(t){Vf.default.fire({icon:"success",title:"admin.courses.success",text:t,confirmButtonText:"admin.courses.ok",confirmButtonColor:"#16A34A"})}showErrorAlert(t){Vf.default.fire({icon:"error",title:"admin.courses.error",text:t,confirmButtonText:"admin.courses.ok",confirmButtonColor:"#DC2626"})}showValidationError(t){Vf.default.fire({icon:"warning",title:"admin.courses.validationError",text:t,confirmButtonText:"admin.courses.ok",confirmButtonColor:"#F59E0B"})}static \u0275fac=function(e){return new(e||n)(A(Gl),A(qi),A(hn))};static \u0275cmp=de({type:n,selectors:[["app-quizzes"]],inputs:{courseId:"courseId",sections:"sections"},features:[an],decls:13,vars:8,consts:[[1,"quizzes-management"],[1,"card"],[1,"card-header"],[1,"card-title"],[1,"fas","fa-question-circle"],[1,"card-body"],["class","loading-state",4,"ngIf"],["class","quiz-form mb-4",4,"ngIf"],["class","text-muted",4,"ngIf"],["class","quizzes-by-section",4,"ngIf"],[1,"loading-state"],["role","status",1,"spinner-border","text-primary"],[1,"visually-hidden"],[1,"quiz-form","mb-4"],[1,"mb-3"],[3,"ngSubmit","formGroup"],[1,"row","g-3"],[1,"col-12"],["for","quizLesson",1,"form-label"],[1,"text-danger"],["id","quizLesson","formControlName","lessonId",1,"form-select"],["value",""],[3,"value",4,"ngFor","ngForOf"],["class","invalid-feedback",4,"ngIf"],["for","quizTitle",1,"form-label"],["type","text","id","quizTitle","formControlName","title",1,"form-control",3,"placeholder"],[1,"col-12","col-md-6"],["for","passingScore",1,"form-label"],["type","number","id","passingScore","min","0","max","100","formControlName","passingScore",1,"form-control",3,"placeholder"],[1,"d-flex","justify-content-between","align-items-center","mb-3"],[1,"mb-0"],[1,"fas","fa-list"],["type","button",1,"btn","btn-sm","btn-primary",3,"click","disabled"],[1,"fas","fa-plus"],["formArrayName","questions",1,"questions-list"],["class","question-item mb-3 p-3 border rounded",3,"formGroupName",4,"ngFor","ngForOf"],["class","text-muted text-center p-3",4,"ngIf"],[1,"form-actions","mt-3"],["type","submit",1,"btn","btn-primary",3,"disabled"],[1,"fas","fa-save"],["class","spinner-border spinner-border-sm ms-2","role","status",4,"ngIf"],["type","button",1,"btn","btn-outline-secondary",3,"click","disabled"],[1,"fas","fa-times"],[3,"value"],[1,"invalid-feedback"],[1,"question-item","mb-3","p-3","border","rounded",3,"formGroupName"],[1,"d-flex","justify-content-between","align-items-start","mb-2"],["type","button",1,"btn","btn-sm","btn-outline-danger",3,"click","disabled"],[1,"fas","fa-trash"],[1,"form-label",3,"for"],["type","text","formControlName","text",1,"form-control",3,"id","placeholder"],[1,"form-label"],["role","group",1,"btn-group","w-100"],["type","radio","formControlName","correctAnswer",1,"btn-check",3,"id","value"],[1,"btn","btn-outline-success",3,"for"],[1,"btn","btn-outline-danger",3,"for"],[1,"text-muted","text-center","p-3"],["role","status",1,"spinner-border","spinner-border-sm","ms-2"],[1,"text-muted"],[1,"quizzes-by-section"],["class","section-quizzes mb-4",4,"ngFor","ngForOf"],[1,"section-quizzes","mb-4"],[1,"section-title"],[1,"fas","fa-folder"],["class","lesson-quiz ms-4 mb-3",4,"ngFor","ngForOf"],[1,"lesson-quiz","ms-4","mb-3"],["class","d-flex justify-content-between align-items-center p-2 border rounded",4,"ngIf"],[1,"d-flex","justify-content-between","align-items-center","p-2","border","rounded"],["class","badge bg-success ms-2",4,"ngIf"],["class","badge bg-secondary ms-2",4,"ngIf"],[1,"btn-group"],["class","btn btn-sm btn-primary",3,"disabled","click",4,"ngIf"],["class","btn btn-sm btn-outline-primary",3,"disabled","click",4,"ngIf"],["class","btn btn-sm btn-outline-danger",3,"disabled","click",4,"ngIf"],[1,"badge","bg-success","ms-2"],[1,"badge","bg-secondary","ms-2"],[1,"btn","btn-sm","btn-primary",3,"click","disabled"],[1,"btn","btn-sm","btn-outline-primary",3,"click","disabled"],[1,"fas","fa-edit"],[1,"btn","btn-sm","btn-outline-danger",3,"click","disabled"]],template:function(e,i){e&1&&(f(0,"div",0)(1,"div",1)(2,"div",2)(3,"h3",3),w(4,"i",4),_(5),v(6,"translate"),h()(),f(7,"div",5),J(8,Pee,8,6,"div",6)(9,Ree,60,50,"div",7)(10,Nee,3,3,"p",8)(11,Lee,3,3,"p",8)(12,qee,2,1,"div",9),h()()()),e&2&&(d(5),M(" ",y(6,6,"admin.courses.quizzes")," "),d(3),O("ngIf",i.isLoading),d(),O("ngIf",i.showForm&&!i.isLoading),d(),O("ngIf",!i.isLoading&&!i.showForm&&i.sections.length===0),d(),O("ngIf",!i.isLoading&&!i.showForm&&i.sections.length>0&&i.lessons.length===0),d(),O("ngIf",!i.isLoading&&!i.showForm&&i.sections.length>0&&i.lessons.length>0))},dependencies:[ge,Nn,wn,me,gn,pn,ri,oi,Mt,wr,Fn,lP,kt,fn,Vo,dP,Kt,tn,Q_,Y_,ve],styles:[".quizzes-management[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{border:none;box-shadow:0 4px 8px #00000026;border-radius:16px}.quizzes-management[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{background:#c9a24d0d;border-bottom:1px solid rgba(14,58,93,.1);padding:32px}.quizzes-management[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:700;color:#0e3a5d;margin:0;font-family:Cairo,sans-serif;display:flex;align-items:center;gap:8px}.quizzes-management[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#c9a24d}.quizzes-management[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{padding:64px}.quizzes-management[_ngcontent-%COMP%]   .loading-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;min-height:200px;text-align:center}.quizzes-management[_ngcontent-%COMP%]   .loading-state[_ngcontent-%COMP%]   .spinner-border[_ngcontent-%COMP%]{width:2rem;height:2rem;border-width:.25rem;margin-bottom:16px}.quizzes-management[_ngcontent-%COMP%]   .loading-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#0f172ab3;font-size:.9rem;margin:0}.quizzes-management[_ngcontent-%COMP%]   .quizzes-by-section[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:600;color:#0e3a5d;margin-bottom:16px;display:flex;align-items:center;gap:8px}.quizzes-management[_ngcontent-%COMP%]   .quizzes-by-section[_ngcontent-%COMP%]   .lesson-quiz[_ngcontent-%COMP%]   .border[_ngcontent-%COMP%]{border-color:#0e3a5d1a!important}"]})};function Wee(n,t){n&1&&(f(0,"div",9)(1,"div",10)(2,"span",11),_(3),v(4,"translate"),h()(),f(5,"p"),_(6),v(7,"translate"),h()()),n&2&&(d(3),I(y(4,2,"admin.courses.loading")),d(3),I(y(7,4,"admin.courses.loadingCourse")))}function Gee(n,t){if(n&1&&(f(0,"span",21),_(1),h()),n&2){let e=x(3);d(),I(e.sections.length)}}function Kee(n,t){if(n&1){let e=ce();f(0,"li",14)(1,"button",15),z("click",function(){G(e);let r=x(2);return K(r.setActiveTab("sections"))}),w(2,"i",19),_(3),v(4,"translate"),J(5,Gee,2,1,"span",20),h()()}if(n&2){let e=x(2);d(),U("active",e.activeTab==="sections"),d(2),M(" ",y(4,4,"admin.courses.sections")," "),d(2),O("ngIf",e.sections.length>0)}}function Qee(n,t){if(n&1){let e=ce();f(0,"li",14)(1,"button",15),z("click",function(){G(e);let r=x(2);return K(r.setActiveTab("lessons"))}),w(2,"i",22),_(3),v(4,"translate"),h()()}if(n&2){let e=x(2);d(),U("active",e.activeTab==="lessons"),d(2),M(" ",y(4,3,"admin.courses.lessons")," ")}}function Yee(n,t){if(n&1){let e=ce();f(0,"li",14)(1,"button",15),z("click",function(){G(e);let r=x(2);return K(r.setActiveTab("quizzes"))}),w(2,"i",23),_(3),v(4,"translate"),h()()}if(n&2){let e=x(2);d(),U("active",e.activeTab==="quizzes"),d(2),M(" ",y(4,3,"admin.courses.quizzes")," ")}}function Zee(n,t){if(n&1){let e=ce();f(0,"div",24)(1,"app-info",25),z("saveCourse",function(r){G(e);let o=x(2);return K(o.onSaveCourse(r))})("cancel",function(){G(e);let r=x(2);return K(r.router.navigate(["/admin/courses"]))}),h()()}if(n&2){let e=x(2);d(),O("course",e.course)("isSaving",e.isSaving)}}function Xee(n,t){if(n&1){let e=ce();f(0,"div",24)(1,"app-sections",26),z("sectionsUpdated",function(){G(e);let r=x(2);return K(r.loadSections())}),h()()}if(n&2){let e=x(2);d(),O("courseId",e.courseId)}}function Jee(n,t){if(n&1&&(f(0,"div",24),w(1,"app-lessons",27),h()),n&2){let e=x(2);d(),O("courseId",e.courseId)("sections",e.sections)}}function ete(n,t){if(n&1&&(f(0,"div",24),w(1,"app-quizzes",27),h()),n&2){let e=x(2);d(),O("courseId",e.courseId)("sections",e.sections)}}function tte(n,t){if(n&1){let e=ce();f(0,"div",12)(1,"ul",13)(2,"li",14)(3,"button",15),z("click",function(){G(e);let r=x();return K(r.setActiveTab("info"))}),w(4,"i",16),_(5),v(6,"translate"),h()(),J(7,Kee,6,6,"li",17)(8,Qee,5,5,"li",17)(9,Yee,5,5,"li",17),h(),J(10,Zee,2,2,"div",18)(11,Xee,2,1,"div",18)(12,Jee,2,2,"div",18)(13,ete,2,2,"div",18),h()}if(n&2){let e=x();d(3),U("active",e.activeTab==="info"),d(2),M(" ",y(6,10,"admin.courses.courseInfo")," "),d(2),O("ngIf",e.course),d(),O("ngIf",e.course),d(),O("ngIf",e.course),d(),O("ngIf",e.activeTab==="info"),d(),O("ngIf",e.activeTab==="sections"&&e.course),d(),O("ngIf",e.activeTab==="lessons"&&e.course),d(),O("ngIf",e.activeTab==="quizzes"&&e.course)}}var b0=class n{constructor(t,e,i,r){this.route=t;this.router=e;this.coursesService=i;this.lessonsService=r}course=null;sections=[];isLoading=!1;isSaving=!1;activeTab="info";destroy$=new le;courseId=null;ngOnInit(){this.route.paramMap.pipe(we(t=>(this.courseId=t.get("id"),this.courseId==="new"?[]:this.coursesService.getCourse(this.courseId))),ne(this.destroy$)).subscribe({next:t=>{t?(this.course=t,this.loadSections()):this.courseId==="new"||(this.showErrorAlert("admin.courses.courseNotFound"),this.router.navigate(["/admin/courses"]))},error:t=>{console.error("Error loading course:",t),this.showErrorAlert("admin.courses.loadError"),this.router.navigate(["/admin/courses"])}})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}loadSections(){!this.courseId||this.courseId==="new"||(this.isLoading=!0,this.lessonsService.getSectionsByCourse(this.courseId).pipe(ne(this.destroy$)).subscribe({next:t=>{this.sections=t,this.isLoading=!1},error:t=>{console.error("Error loading sections:",t),this.isLoading=!1}}))}onSaveCourse(t){this.isSaving=!0,this.courseId==="new"?this.coursesService.createCourse({title:t.title,description:t.description,category:t.category,thumbnail:t.thumbnail,introYouTubeVideo:t.introYouTubeVideo||"",duration:t.duration,Privacy:t.Privacy,published:t.published}).pipe(ne(this.destroy$)).subscribe({next:e=>{this.showSuccessAlert("admin.courses.createSuccess"),this.router.navigate(["/admin/courses",e])},error:e=>{console.error("Error creating course:",e),this.showErrorAlert("admin.courses.createError"),this.isSaving=!1}}):this.coursesService.updateCourse(this.courseId,{title:t.title,description:t.description,category:t.category,thumbnail:t.thumbnail,introYouTubeVideo:t.introYouTubeVideo||"",duration:t.duration,Privacy:t.Privacy,published:t.published}).pipe(ne(this.destroy$)).subscribe({next:()=>{this.showSuccessAlert("admin.courses.updateSuccess"),this.isSaving=!1,this.coursesService.getCourse(this.courseId).pipe(ne(this.destroy$)).subscribe(e=>{e&&(this.course=e)})},error:e=>{console.error("Error updating course:",e),this.showErrorAlert("admin.courses.updateError"),this.isSaving=!1}})}setActiveTab(t){this.activeTab=t,(t==="sections"||t==="lessons"||t==="quizzes")&&this.loadSections()}showSuccessAlert(t){y0.default.fire({icon:"success",title:"admin.courses.success",text:t,confirmButtonText:"admin.courses.ok",confirmButtonColor:"#16A34A"})}showErrorAlert(t){y0.default.fire({icon:"error",title:"admin.courses.error",text:t,confirmButtonText:"admin.courses.ok",confirmButtonColor:"#DC2626"})}showValidationError(t){y0.default.fire({icon:"warning",title:"admin.courses.validationError",text:t,confirmButtonText:"admin.courses.ok",confirmButtonColor:"#F59E0B"})}static \u0275fac=function(e){return new(e||n)(A(Tt),A(He),A(so),A(qi))};static \u0275cmp=de({type:n,selectors:[["app-course-details"]],decls:14,vars:8,consts:[[1,"course-details"],[1,"page-header"],[1,"header-content"],["routerLink","/admin/courses",1,"back-link"],[1,"fas","fa-arrow-right"],[1,"page-title"],[1,"fas","fa-book"],["class","loading-state",4,"ngIf"],["class","course-content",4,"ngIf"],[1,"loading-state"],["role","status",1,"spinner-border","text-primary"],[1,"visually-hidden"],[1,"course-content"],["role","tablist",1,"nav","nav-tabs","mb-4"],["role","presentation",1,"nav-item"],["type","button",1,"nav-link",3,"click"],[1,"fas","fa-info-circle"],["class","nav-item","role","presentation",4,"ngIf"],["class","tab-content",4,"ngIf"],[1,"fas","fa-list"],["class","badge bg-secondary ms-2",4,"ngIf"],[1,"badge","bg-secondary","ms-2"],[1,"fas","fa-play-circle"],[1,"fas","fa-question-circle"],[1,"tab-content"],[3,"saveCourse","cancel","course","isSaving"],[3,"sectionsUpdated","courseId"],[3,"courseId","sections"]],template:function(e,i){e&1&&(f(0,"div",0)(1,"div",1)(2,"div",2)(3,"div")(4,"a",3),w(5,"i",4),_(6),v(7,"translate"),h(),f(8,"h1",5),w(9,"i",6),_(10),v(11,"translate"),h()()()(),J(12,Wee,8,6,"div",7)(13,tte,14,12,"div",8),h()),e&2&&(d(6),M(" ",y(7,4,"admin.courses.backToList")," "),d(4),M(" ",y(11,6,i.course!=null&&i.course.id?"admin.courses.editCourse":"admin.courses.newCourse")," "),d(2),O("ngIf",i.isLoading&&i.course),d(),O("ngIf",!i.isLoading||!i.course))},dependencies:[ge,wn,ke,Ue,me,g0,m0,_0,v0,ve],styles:[".course-details[_ngcontent-%COMP%]   .page-header[_ngcontent-%COMP%]{margin-bottom:64px;padding-bottom:32px;border-bottom:2px solid rgba(14,58,93,.1)}.course-details[_ngcontent-%COMP%]   .page-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .back-link[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:4px;color:#0f172ab3;text-decoration:none;font-size:.9rem;margin-bottom:16px;transition:color .2s}.course-details[_ngcontent-%COMP%]   .page-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .back-link[_ngcontent-%COMP%]:hover{color:#c9a24d}.course-details[_ngcontent-%COMP%]   .page-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .back-link[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.8rem}.course-details[_ngcontent-%COMP%]   .page-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .page-title[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;color:#0e3a5d;margin:0;font-family:Cairo,sans-serif;display:flex;align-items:center;gap:16px}.course-details[_ngcontent-%COMP%]   .page-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .page-title[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#c9a24d;font-size:1.8rem}.course-details[_ngcontent-%COMP%]   .loading-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;min-height:300px;text-align:center}.course-details[_ngcontent-%COMP%]   .loading-state[_ngcontent-%COMP%]   .spinner-border[_ngcontent-%COMP%]{width:3rem;height:3rem;border-width:.3rem;margin-bottom:16px}.course-details[_ngcontent-%COMP%]   .loading-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#0f172ab3;font-size:1rem;margin:0}.course-details[_ngcontent-%COMP%]   .nav-tabs[_ngcontent-%COMP%]{border-bottom:2px solid rgba(14,58,93,.1)}.course-details[_ngcontent-%COMP%]   .nav-tabs[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{color:#0f172ab3;border:none;border-bottom:3px solid transparent;padding:16px 32px;font-weight:500;transition:all .2s;display:flex;align-items:center;gap:8px}.course-details[_ngcontent-%COMP%]   .nav-tabs[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:hover{color:#c9a24d;border-bottom-color:#c9a24d4d}.course-details[_ngcontent-%COMP%]   .nav-tabs[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]{color:#c9a24d;border-bottom-color:#c9a24d;background:transparent}.course-details[_ngcontent-%COMP%]   .nav-tabs[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{font-size:.75rem}.course-details[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{border:none;box-shadow:0 4px 8px #00000026;border-radius:16px}.course-details[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{background:#c9a24d0d;border-bottom:1px solid rgba(14,58,93,.1);padding:32px}.course-details[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:700;color:#0e3a5d;margin:0;font-family:Cairo,sans-serif;display:flex;align-items:center;gap:8px}.course-details[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#c9a24d}.course-details[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{padding:64px}.course-details[_ngcontent-%COMP%]   .form-label[_ngcontent-%COMP%]{font-weight:600;color:#0e3a5d;margin-bottom:8px;font-size:.9rem}.course-details[_ngcontent-%COMP%]   .form-label[_ngcontent-%COMP%]   .text-danger[_ngcontent-%COMP%]{color:#dc2626}.course-details[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%], .course-details[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%]{border:1px solid rgba(14,58,93,.2);border-radius:8px;padding:8px 16px;transition:border-color .2s,box-shadow .2s}.course-details[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:focus, .course-details[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%]:focus{border-color:#c9a24d;box-shadow:0 0 0 .2rem #c9a24d40}.course-details[_ngcontent-%COMP%]   .form-control.is-invalid[_ngcontent-%COMP%], .course-details[_ngcontent-%COMP%]   .form-select.is-invalid[_ngcontent-%COMP%]{border-color:#dc2626}.course-details[_ngcontent-%COMP%]   .invalid-feedback[_ngcontent-%COMP%]{display:block;color:#dc2626;font-size:.85rem;margin-top:4px}.course-details[_ngcontent-%COMP%]   .form-text[_ngcontent-%COMP%]{font-size:.85rem;color:#0f172a99;margin-top:4px}.course-details[_ngcontent-%COMP%]   .thumbnail-preview[_ngcontent-%COMP%]{max-width:100%;max-height:200px;border-radius:8px;border:1px solid rgba(14,58,93,.2);box-shadow:0 1px 2px #0000001a}.course-details[_ngcontent-%COMP%]   .form-check-input[_ngcontent-%COMP%]:checked{background-color:#c9a24d;border-color:#c9a24d}.course-details[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]{display:flex;gap:16px;padding-top:32px;border-top:1px solid rgba(14,58,93,.1)}.course-details[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:8px}@media (max-width: 767.98px){.course-details[_ngcontent-%COMP%]   .page-header[_ngcontent-%COMP%]   .page-title[_ngcontent-%COMP%], .course-details[_ngcontent-%COMP%]   .page-header[_ngcontent-%COMP%]   .page-title[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.5rem}.course-details[_ngcontent-%COMP%]   .nav-tabs[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{padding:8px 16px;font-size:.9rem}.course-details[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]{flex-direction:column}.course-details[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{width:100%;justify-content:center}}"]})};var nte=(n,t)=>["/admin/subscriptions",n,t],ite=(n,t)=>t.subscriptionId;function rte(n,t){n&1&&(f(0,"div",5)(1,"div",7)(2,"span",8),_(3),v(4,"translate"),h()(),f(5,"p",9),_(6),v(7,"translate"),h()()),n&2&&(d(3),I(y(4,2,"admin.subscriptions.loading")),d(3),I(y(7,4,"admin.subscriptions.loading")))}function ote(n,t){if(n&1&&(f(0,"div",6),w(1,"i",10),_(2),v(3,"translate"),h()),n&2){let e=x();d(2),M(" ",y(3,1,e.errorMessage)," ")}}function ste(n,t){n&1&&(f(0,"p",35),w(1,"i",39),f(2,"span"),_(3),v(4,"translate"),h()()),n&2&&(d(3),I(y(4,1,"admin.subscriptions.active")))}function ate(n,t){if(n&1&&(f(0,"div",20)(1,"div",21)(2,"div",22)(3,"h3",23),_(4),h(),f(5,"span",24),w(6,"i",25),_(7),v(8,"translate"),h()(),f(9,"div",26)(10,"div",27)(11,"p",28),w(12,"i",29),f(13,"span")(14,"strong"),_(15),v(16,"translate"),h(),_(17),v(18,"translate"),h()(),f(19,"p",28),w(20,"i",30),f(21,"span")(22,"strong"),_(23),v(24,"translate"),h(),_(25),h()(),f(26,"p",28),w(27,"i",31),f(28,"span")(29,"strong"),_(30),v(31,"translate"),h(),_(32),h()(),f(33,"p",28),w(34,"i",32),f(35,"span"),_(36),h()(),f(37,"p",33),w(38,"i",34),f(39,"span"),_(40),h()(),L(41,ste,5,3,"p",35),h()(),f(42,"div",36)(43,"a",37),w(44,"i",38),_(45),v(46,"translate"),h()()()()),n&2){let e=t.$implicit,i=x(3);d(4),I(e.organizationName),d(),O("ngClass",i.getStatusClass(e.status)),d(),U("fa-check-circle",e.status==="approved")("fa-clock",e.status==="pending")("fa-times-circle",e.status==="rejected"),d(),M(" ",y(8,20,i.getStatusKey(e.status))," "),d(8),M("",y(16,22,"subscriptions.plan"),":"),d(2),M(" ",y(18,24,i.getPlanKey(e.subscriptionPlan))),d(6),M("",y(24,26,"subscriptions.startDate"),":"),d(2),M(" ",i.formatDate(e.startDate)),d(5),M("",y(31,28,"subscriptions.endDate"),":"),d(2),M(" ",i.formatDate(e.endDate)),d(4),I(e.organizationEmail),d(4),I(i.formatDate(e.createdAt)),d(),F(i.isSubscriptionActive(e)?41:-1),d(2),O("routerLink",iC(32,nte,e.organizationId,e.subscriptionId)),d(2),M(" ",y(46,30,"admin.subscriptions.viewDetails")," ")}}function cte(n,t){if(n&1&&(f(0,"div",17)(1,"div",19),mt(2,ate,47,35,"div",20,ite),h()()),n&2){let e=x(2);d(2),_t(e.filteredSubscriptions)}}function lte(n,t){n&1&&(f(0,"div",18),w(1,"i",3),f(2,"p"),_(3),v(4,"translate"),h()()),n&2&&(d(3),I(y(4,1,"admin.subscriptions.noSubscriptions")))}function dte(n,t){if(n&1){let e=ce();f(0,"div",11)(1,"div",12)(2,"div",13)(3,"button",14),z("click",function(){G(e);let r=x();return K(r.onStatusFilterChange("all"))}),f(4,"span",15),_(5),v(6,"translate"),h(),f(7,"span",16),_(8),h()()(),f(9,"div",13)(10,"button",14),z("click",function(){G(e);let r=x();return K(r.onStatusFilterChange("pending"))}),f(11,"span",15),_(12),v(13,"translate"),h(),f(14,"span",16),_(15),h()()(),f(16,"div",13)(17,"button",14),z("click",function(){G(e);let r=x();return K(r.onStatusFilterChange("approved"))}),f(18,"span",15),_(19),v(20,"translate"),h(),f(21,"span",16),_(22),h()()(),f(23,"div",13)(24,"button",14),z("click",function(){G(e);let r=x();return K(r.onStatusFilterChange("rejected"))}),f(25,"span",15),_(26),v(27,"translate"),h(),f(28,"span",16),_(29),h()()()()(),L(30,cte,4,0,"div",17)(31,lte,5,3,"div",18)}if(n&2){let e=x();d(3),U("active",e.selectedStatus==="all"),d(2),I(y(6,17,"admin.subscriptions.all")),d(3),I(e.getCountByStatus("all")),d(2),U("active",e.selectedStatus==="pending"),d(2),I(y(13,19,"admin.subscriptions.pending")),d(3),I(e.getCountByStatus("pending")),d(2),U("active",e.selectedStatus==="approved"),d(2),I(y(20,21,"admin.subscriptions.approved")),d(3),I(e.getCountByStatus("approved")),d(2),U("active",e.selectedStatus==="rejected"),d(2),I(y(27,23,"admin.subscriptions.rejected")),d(3),I(e.getCountByStatus("rejected")),d(),F(e.filteredSubscriptions.length>0?30:31)}}var C0=class n{constructor(t,e){this.platformSubscriptions=t;this.organizationService=e}subscriptions=[];filteredSubscriptions=[];isLoading=!0;errorMessage="";selectedStatus="all";destroy$=new le;ngOnInit(){this.loadAllSubscriptions()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}loadAllSubscriptions(){this.isLoading=!0,this.errorMessage="",this.organizationService.getAllOrganizations().pipe(ht(1),we(t=>{if(t.length===0)return $([]);let e=t.map(i=>this.platformSubscriptions.getSubscriptionsOnce(i.uid).pipe(H(r=>r.map(o=>oe(B({},o),{organizationName:i.name,organizationEmail:i.email,organizationId:i.uid})))));return Vt(e).pipe(H(i=>i.flat()))}),ne(this.destroy$)).subscribe({next:t=>{this.subscriptions=t.sort((e,i)=>new Date(i.createdAt).getTime()-new Date(e.createdAt).getTime()),this.filterSubscriptions(),this.isLoading=!1},error:t=>{console.error("Error loading subscriptions:",t),this.errorMessage="admin.subscriptions.loadError",this.isLoading=!1}})}filterSubscriptions(){this.selectedStatus==="all"?this.filteredSubscriptions=this.subscriptions:this.filteredSubscriptions=this.subscriptions.filter(t=>t.status===this.selectedStatus)}onStatusFilterChange(t){this.selectedStatus=t,this.filterSubscriptions()}getStatusClass(t){switch(t){case"approved":return"badge-success";case"pending":return"badge-warning";case"rejected":return"badge-error";default:return"badge-secondary"}}getStatusKey(t){return`subscriptions.statusTypes.${t}`}getPlanKey(t){return`subscriptions.plans.${t}`}getCountByStatus(t){return t==="all"?this.subscriptions.length:this.subscriptions.filter(e=>e.status===t).length}formatDate(t){return t?new Date(t).toLocaleDateString("ar-EG",{year:"numeric",month:"short",day:"numeric"}):""}isSubscriptionActive(t){if(t.status!=="approved")return!1;let e=new Date,i=new Date(t.startDate),r=new Date(t.endDate);return e>=i&&e<=r}static \u0275fac=function(e){return new(e||n)(A(oo),A(Qt))};static \u0275cmp=de({type:n,selectors:[["app-subscription-list"]],decls:12,vars:9,consts:[[1,"subscription-list"],[1,"page-header"],[1,"page-title"],[1,"fas","fa-credit-card"],[1,"page-subtitle"],[1,"loading-state"],[1,"alert","alert-error"],["role","status",1,"spinner-border","text-primary"],[1,"visually-hidden"],[1,"mt-3"],[1,"fas","fa-exclamation-circle"],[1,"filter-tabs"],[1,"row","g-2"],[1,"col-6","col-md-3"],["type","button",1,"filter-tab",3,"click"],[1,"tab-label"],[1,"tab-count"],[1,"subscriptions-grid"],[1,"empty-state"],[1,"row","g-4"],[1,"col-12","col-md-6","col-lg-4"],[1,"subscription-card"],[1,"card-header"],[1,"org-name"],[1,"status-badge",3,"ngClass"],[1,"fas"],[1,"card-body"],[1,"subscription-info"],[1,"info-item"],[1,"fas","fa-calendar-alt"],[1,"fas","fa-calendar-plus"],[1,"fas","fa-calendar-minus"],[1,"fas","fa-envelope"],[1,"info-item","date"],[1,"fas","fa-clock"],[1,"info-item","active-badge"],[1,"card-footer"],[1,"btn","btn-view",3,"routerLink"],[1,"fas","fa-eye"],[1,"fas","fa-check-circle"]],template:function(e,i){e&1&&(f(0,"div",0)(1,"div",1)(2,"h1",2),w(3,"i",3),_(4),v(5,"translate"),h(),f(6,"p",4),_(7),v(8,"translate"),h()(),L(9,rte,8,6,"div",5),L(10,ote,4,3,"div",6),L(11,dte,32,25),h()),e&2&&(d(4),M(" ",y(5,5,"admin.subscriptions.title")," "),d(3),I(y(8,7,"admin.subscriptions.subtitle")),d(2),F(i.isLoading?9:-1),d(),F(!i.isLoading&&i.errorMessage?10:-1),d(),F(!i.isLoading&&!i.errorMessage?11:-1))},dependencies:[ge,Xt,ke,Ue,me,ve],styles:[".page-header[_ngcontent-%COMP%]{margin-bottom:64px;padding-bottom:32px;border-bottom:2px solid rgba(14,58,93,.1)}.page-header[_ngcontent-%COMP%]   .page-title[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;color:#0e3a5d;margin-bottom:4px;font-family:Cairo,sans-serif;display:flex;align-items:center;gap:16px}.page-header[_ngcontent-%COMP%]   .page-title[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#c9a24d;font-size:1.8rem}.page-header[_ngcontent-%COMP%]   .page-subtitle[_ngcontent-%COMP%]{font-size:1rem;color:#0f172a99;margin:0;font-family:Cairo,sans-serif}.loading-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;min-height:400px;text-align:center;padding:64px}.loading-state[_ngcontent-%COMP%]   .spinner-border[_ngcontent-%COMP%]{width:3rem;height:3rem;border-width:.3rem;color:#c9a24d}.loading-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#0f172ab3;font-size:1rem;margin-top:16px;font-family:Cairo,sans-serif}.alert-error[_ngcontent-%COMP%]{padding:16px 32px;border-radius:8px;background:#dc26261a;color:#dc2626;border:1px solid rgba(220,38,38,.3);display:flex;align-items:center;gap:8px;font-size:.95rem;margin-bottom:32px;font-family:Cairo,sans-serif}.alert-error[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.1rem}.filter-tabs[_ngcontent-%COMP%]{margin-bottom:64px}.filter-tabs[_ngcontent-%COMP%]   .filter-tab[_ngcontent-%COMP%]{width:100%;padding:16px;border:2px solid rgba(14,58,93,.2);border-radius:8px;background:#fff;cursor:pointer;transition:all .2s ease;font-family:Cairo,sans-serif;text-align:center}.filter-tabs[_ngcontent-%COMP%]   .filter-tab[_ngcontent-%COMP%]:hover{border-color:#c9a24d;background:#c9a24d0d}.filter-tabs[_ngcontent-%COMP%]   .filter-tab.active[_ngcontent-%COMP%]{border-color:#c9a24d;background:#c9a24d1a;color:#0e3a5d;font-weight:700}.filter-tabs[_ngcontent-%COMP%]   .filter-tab[_ngcontent-%COMP%]   .tab-label[_ngcontent-%COMP%]{display:block;font-size:.9rem;margin-bottom:4px}.filter-tabs[_ngcontent-%COMP%]   .filter-tab[_ngcontent-%COMP%]   .tab-count[_ngcontent-%COMP%]{display:block;font-size:1.5rem;font-weight:700;color:#c9a24d}.subscriptions-grid[_ngcontent-%COMP%]   .subscription-card[_ngcontent-%COMP%]{background:#fff;border-radius:16px;box-shadow:0 4px 8px #00000026;border:1px solid rgba(14,58,93,.1);transition:all .2s ease;height:100%;display:flex;flex-direction:column}.subscriptions-grid[_ngcontent-%COMP%]   .subscription-card[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 8px 16px #0003;border-color:#c9a24d4d}.subscriptions-grid[_ngcontent-%COMP%]   .subscription-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{padding:32px;border-bottom:1px solid rgba(14,58,93,.1);display:flex;justify-content:space-between;align-items:flex-start;gap:16px}.subscriptions-grid[_ngcontent-%COMP%]   .subscription-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .org-name[_ngcontent-%COMP%]{font-size:1.2rem;font-weight:700;color:#0e3a5d;margin:0;font-family:Cairo,sans-serif;flex:1}.subscriptions-grid[_ngcontent-%COMP%]   .subscription-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .status-badge[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:4px;padding:4px 16px;border-radius:8px;font-weight:600;font-size:.85rem;font-family:Cairo,sans-serif;white-space:nowrap}.subscriptions-grid[_ngcontent-%COMP%]   .subscription-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .status-badge.badge-success[_ngcontent-%COMP%]{background:#16a34a1a;color:#16a34a;border:1px solid rgba(22,163,74,.3)}.subscriptions-grid[_ngcontent-%COMP%]   .subscription-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .status-badge.badge-warning[_ngcontent-%COMP%]{background:#d977061a;color:#d97706;border:1px solid rgba(217,119,6,.3)}.subscriptions-grid[_ngcontent-%COMP%]   .subscription-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .status-badge.badge-error[_ngcontent-%COMP%]{background:#dc26261a;color:#dc2626;border:1px solid rgba(220,38,38,.3)}.subscriptions-grid[_ngcontent-%COMP%]   .subscription-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .status-badge[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.8rem}.subscriptions-grid[_ngcontent-%COMP%]   .subscription-card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{padding:32px;flex:1}.subscriptions-grid[_ngcontent-%COMP%]   .subscription-card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .subscription-info[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;margin-bottom:16px;font-size:.95rem;color:#0f172acc;font-family:Cairo,sans-serif}.subscriptions-grid[_ngcontent-%COMP%]   .subscription-card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .subscription-info[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#0e3a5d;font-size:.9rem;width:18px;text-align:center}.subscriptions-grid[_ngcontent-%COMP%]   .subscription-card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .subscription-info[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#0f172a;font-weight:600}.subscriptions-grid[_ngcontent-%COMP%]   .subscription-card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .subscription-info[_ngcontent-%COMP%]   .info-item.date[_ngcontent-%COMP%]{color:#0f172a99;font-size:.85rem}.subscriptions-grid[_ngcontent-%COMP%]   .subscription-card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .subscription-info[_ngcontent-%COMP%]   .info-item.active-badge[_ngcontent-%COMP%]{color:#16a34a;font-weight:700;margin-top:8px;padding-top:8px;border-top:1px solid rgba(14,58,93,.1)}.subscriptions-grid[_ngcontent-%COMP%]   .subscription-card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .subscription-info[_ngcontent-%COMP%]   .info-item.active-badge[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#16a34a}.subscriptions-grid[_ngcontent-%COMP%]   .subscription-card[_ngcontent-%COMP%]   .card-footer[_ngcontent-%COMP%]{padding:16px 32px;border-top:1px solid rgba(14,58,93,.1);background:#f6f7f94d}.subscriptions-grid[_ngcontent-%COMP%]   .subscription-card[_ngcontent-%COMP%]   .card-footer[_ngcontent-%COMP%]   .btn-view[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center;justify-content:center;gap:8px;padding:8px 16px;background:#c9a24d;color:#fff;border:none;border-radius:8px;font-weight:600;font-size:.95rem;font-family:Cairo,sans-serif;text-decoration:none;transition:all .2s ease}.subscriptions-grid[_ngcontent-%COMP%]   .subscription-card[_ngcontent-%COMP%]   .card-footer[_ngcontent-%COMP%]   .btn-view[_ngcontent-%COMP%]:hover{background:#a8832f;transform:translateY(-2px);box-shadow:0 1px 2px #0000001a}.subscriptions-grid[_ngcontent-%COMP%]   .subscription-card[_ngcontent-%COMP%]   .card-footer[_ngcontent-%COMP%]   .btn-view[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.9rem}.empty-state[_ngcontent-%COMP%]{text-align:center;padding:128px;background:#fff;border-radius:16px;box-shadow:0 1px 2px #0000001a;border:2px dashed rgba(14,58,93,.2)}.empty-state[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:4rem;color:#0f172a4d;margin-bottom:16px}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.1rem;color:#0f172a99;font-family:Cairo,sans-serif;margin:0}@media (max-width: 767.98px){.page-header[_ngcontent-%COMP%]   .page-title[_ngcontent-%COMP%]{font-size:1.5rem}.subscription-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start}}"]})};var Ws=li(si());function ute(n,t){n&1&&(f(0,"div",4)(1,"div",7)(2,"span",8),_(3),v(4,"translate"),h()(),f(5,"p",9),_(6),v(7,"translate"),h()()),n&2&&(d(3),I(y(4,2,"admin.subscriptions.loading")),d(3),I(y(7,4,"admin.subscriptions.loading")))}function fte(n,t){if(n&1&&(f(0,"div",5),w(1,"i",10),_(2),v(3,"translate"),h()),n&2){let e=x();d(2),M(" ",y(3,1,e.errorMessage)," ")}}function pte(n,t){if(n&1&&(f(0,"div",20),w(1,"i",43),_(2),v(3,"translate"),h()),n&2){let e=x(2);d(2),M(" ",y(3,1,e.successMessage)," ")}}function hte(n,t){if(n&1&&(f(0,"div",5),w(1,"i",10),_(2),v(3,"translate"),h()),n&2){let e=x(2);d(2),M(" ",y(3,1,e.errorMessage)," ")}}function gte(n,t){if(n&1&&(f(0,"div",13)(1,"div",28)(2,"label",29),w(3,"i",44),_(4),v(5,"translate"),h(),f(6,"p",45),_(7),v(8,"translate"),h()()()),n&2){let e=x(2);d(4),M(" ",y(5,3,"subscriptions.daysRemaining")," "),d(3),Ct(" ",e.getDaysRemaining()," ",y(8,5,"subscriptions.days")," ")}}function mte(n,t){if(n&1&&(f(0,"div",13)(1,"div",28)(2,"label",29),w(3,"i",46),_(4),v(5,"translate"),h(),f(6,"p",31),_(7),h()()()),n&2){let e=x(2);d(4),M(" ",y(5,2,"subscriptions.updatedAt")," "),d(3),I(e.formatDate(e.subscription.updatedAt))}}function _te(n,t){n&1&&(w(0,"i",51),_(1),v(2,"translate")),n&2&&(d(),M(" ",y(2,1,"admin.subscriptions.processing")," "))}function vte(n,t){n&1&&(w(0,"i",52),_(1),v(2,"translate")),n&2&&(d(),M(" ",y(2,1,"admin.subscriptions.approve")," "))}function yte(n,t){n&1&&(w(0,"i",51),_(1),v(2,"translate")),n&2&&(d(),M(" ",y(2,1,"admin.subscriptions.processing")," "))}function bte(n,t){n&1&&(w(0,"i",53),_(1),v(2,"translate")),n&2&&(d(),M(" ",y(2,1,"admin.subscriptions.reject")," "))}function Cte(n,t){if(n&1){let e=ce();f(0,"div",42)(1,"h3",24),w(2,"i",47),_(3),v(4,"translate"),h(),f(5,"div",26)(6,"div",48)(7,"button",49),z("click",function(){G(e);let r=x(2);return K(r.approveSubscription())}),L(8,_te,3,3)(9,vte,3,3),h(),f(10,"button",50),z("click",function(){G(e);let r=x(2);return K(r.rejectSubscription())}),L(11,yte,3,3)(12,bte,3,3),h()()()()}if(n&2){let e=x(2);d(3),M(" ",y(4,5,"admin.subscriptions.actions")," "),d(4),O("disabled",e.isProcessing),d(),F(e.isProcessing?8:9),d(2),O("disabled",e.isProcessing),d(),F(e.isProcessing?11:12)}}function wte(n,t){if(n&1){let e=ce();f(0,"div",6)(1,"div",11)(2,"div",12)(3,"div",13)(4,"h1",14),w(5,"i",15),_(6),v(7,"translate"),h(),f(8,"p",16),_(9),h()(),f(10,"div",17)(11,"span",18),w(12,"i",19),_(13),v(14,"translate"),h()()()(),L(15,pte,4,3,"div",20),L(16,hte,4,3,"div",5),f(17,"div",21)(18,"div",22)(19,"div",23)(20,"h3",24),w(21,"i",25),_(22),v(23,"translate"),h(),f(24,"div",26)(25,"div",27)(26,"div",13)(27,"div",28)(28,"label",29),w(29,"i",30),_(30),v(31,"translate"),h(),f(32,"p",31),_(33),v(34,"translate"),h()()(),f(35,"div",13)(36,"div",28)(37,"label",29),w(38,"i",32),_(39),v(40,"translate"),h(),f(41,"p",31),_(42),h()()(),f(43,"div",13)(44,"div",28)(45,"label",29),w(46,"i",33),_(47),v(48,"translate"),h(),f(49,"p",31),_(50),h()()(),L(51,gte,9,7,"div",13),f(52,"div",13)(53,"div",28)(54,"label",29),w(55,"i",34),_(56),v(57,"translate"),h(),f(58,"p",31),_(59),h()()(),L(60,mte,8,4,"div",13),h()()(),f(61,"div",23)(62,"h3",24),w(63,"i",35),_(64),v(65,"translate"),h(),f(66,"div",26)(67,"div",36)(68,"img",37),z("click",function(){G(e);let r=x();return K(r.openImageModal(r.subscription.imageOfBankTransfer))}),h()()()()(),f(69,"div",38)(70,"div",23)(71,"h3",24),w(72,"i",39),_(73),v(74,"translate"),h(),f(75,"div",26)(76,"div",28)(77,"label",29),w(78,"i",39),_(79),v(80,"translate"),h(),f(81,"p",31),_(82),h()(),f(83,"div",28)(84,"label",29),w(85,"i",40),_(86),v(87,"translate"),h(),f(88,"p",31),_(89),h()(),f(90,"div",28)(91,"label",29),w(92,"i",41),_(93),v(94,"translate"),h(),f(95,"p",31),_(96),h()()()(),L(97,Cte,13,7,"div",42),h()()()}if(n&2){let e=x();d(6),M(" ",y(7,33,"admin.subscriptions.details")," "),d(3),I(e.organization.name),d(2),O("ngClass",e.getStatusClass(e.subscription.status)),d(),U("fa-check-circle",e.subscription.status==="approved")("fa-clock",e.subscription.status==="pending")("fa-times-circle",e.subscription.status==="rejected"),d(),M(" ",y(14,35,e.getStatusKey(e.subscription.status))," "),d(2),F(e.successMessage?15:-1),d(),F(e.errorMessage?16:-1),d(6),M(" ",y(23,37,"admin.subscriptions.subscriptionInfo")," "),d(8),M(" ",y(31,39,"subscriptions.plan")," "),d(3),I(y(34,41,e.getPlanKey(e.subscription.subscriptionPlan))),d(6),M(" ",y(40,43,"subscriptions.startDate")," "),d(3),I(e.formatDate(e.subscription.startDate)),d(5),M(" ",y(48,45,"subscriptions.endDate")," "),d(3),I(e.formatDate(e.subscription.endDate)),d(),F(e.isSubscriptionActive()?51:-1),d(5),M(" ",y(57,47,"subscriptions.createdAt")," "),d(3),I(e.formatDate(e.subscription.createdAt)),d(),F(e.subscription.updatedAt?60:-1),d(4),M(" ",y(65,49,"subscriptions.bankTransferReceipt")," "),d(4),O("src",e.subscription.imageOfBankTransfer,it),d(5),M(" ",y(74,51,"admin.subscriptions.organizationInfo")," "),d(6),M(" ",y(80,53,"auth.profile.name")," "),d(3),I(e.organization.name),d(4),M(" ",y(87,55,"auth.profile.email")," "),d(3),I(e.organization.email),d(4),M(" ",y(94,57,"auth.profile.phone")," "),d(3),I(e.organization.phone),d(),F(e.subscription.status==="pending"?97:-1)}}var w0=class n{constructor(t,e,i,r,o){this.platformSubscriptions=t;this.organizationService=e;this.route=i;this.router=r;this.notifications=o}subscription=null;organization=null;isLoading=!0;isProcessing=!1;errorMessage="";successMessage="";destroy$=new le;ngOnInit(){this.route.params.pipe(we(t=>{let e=t.organizationId,i=t.subscriptionId;return!e||!i?(this.errorMessage="admin.subscriptions.invalidId",this.isLoading=!1,$({subscription:null,organization:null})):Vt({subscription:this.platformSubscriptions.getSubscriptionById(e,i).pipe(ht(1)),organization:this.organizationService.getOrganization(e).pipe(ht(1))})}),ne(this.destroy$)).subscribe({next:t=>{this.subscription=t.subscription,this.organization=t.organization,this.isLoading=!1,t.subscription||(this.errorMessage="admin.subscriptions.notFound"),t.organization||(this.errorMessage="admin.subscriptions.organizationNotFound")},error:t=>{console.error("Error loading subscription:",t),this.errorMessage="admin.subscriptions.loadError",this.isLoading=!1}})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}approveSubscription(){!this.subscription||!this.organization||Ws.default.fire({title:"\u0647\u0644 \u0623\u0646\u062A \u0645\u062A\u0623\u0643\u062F\u061F",text:"\u0633\u064A\u062A\u0645 \u0627\u0644\u0645\u0648\u0627\u0641\u0642\u0629 \u0639\u0644\u0649 \u0647\u0630\u0627 \u0627\u0644\u0627\u0634\u062A\u0631\u0627\u0643.",icon:"question",showCancelButton:!0,confirmButtonText:"\u0646\u0639\u0645, \u0645\u0648\u0627\u0641\u0642",cancelButtonText:"\u0625\u0644\u063A\u0627\u0621",confirmButtonColor:"#16A34A",cancelButtonColor:"#6B7280"}).then(t=>{t.isConfirmed&&(this.isProcessing=!0,this.errorMessage="",this.successMessage="",this.platformSubscriptions.approveSubscription(this.organization.uid,this.subscription.subscriptionId).pipe(Ge(e=>(this.isProcessing=!1,this.errorMessage="admin.subscriptions.approveError",console.error("Error approving subscription:",e),Ws.default.fire({icon:"error",title:"\u062E\u0637\u0623",text:"\u062D\u062F\u062B \u062E\u0637\u0623 \u0623\u062B\u0646\u0627\u0621 \u0627\u0644\u0645\u0648\u0627\u0641\u0642\u0629 \u0639\u0644\u0649 \u0627\u0644\u0627\u0634\u062A\u0631\u0627\u0643. \u064A\u0631\u062C\u0649 \u0627\u0644\u0645\u062D\u0627\u0648\u0644\u0629 \u0645\u0631\u0629 \u0623\u062E\u0631\u0649.",confirmButtonText:"\u062D\u0633\u0646\u0627\u064B",confirmButtonColor:"#DC2626"}),$(null)))).subscribe({next:e=>{e!==null&&(this.isProcessing=!1,this.successMessage="admin.subscriptions.approveSuccess",this.subscription&&(this.subscription.status="approved"),this.sendNotificationToOrganization("\u062A\u0645 \u0627\u0644\u0645\u0648\u0627\u0641\u0642\u0629 \u0639\u0644\u0649 \u0627\u0634\u062A\u0631\u0627\u0643\u0643","\u062A\u0645 \u0627\u0644\u0645\u0648\u0627\u0641\u0642\u0629 \u0639\u0644\u0649 \u0637\u0644\u0628 \u0627\u0644\u0627\u0634\u062A\u0631\u0627\u0643 \u0627\u0644\u062E\u0627\u0635 \u0628\u0645\u0646\u0638\u0645\u062A\u0643. \u064A\u0645\u0643\u0646\u0643 \u0627\u0644\u0622\u0646 \u0627\u0644\u0648\u0635\u0648\u0644 \u0625\u0644\u0649 \u0627\u0644\u0645\u0646\u0635\u0629.","approval"),Ws.default.fire({icon:"success",title:"\u062A\u0645\u062A \u0627\u0644\u0645\u0648\u0627\u0641\u0642\u0629 \u0628\u0646\u062C\u0627\u062D!",text:"\u062A\u0645\u062A \u0627\u0644\u0645\u0648\u0627\u0641\u0642\u0629 \u0639\u0644\u0649 \u0627\u0644\u0627\u0634\u062A\u0631\u0627\u0643 \u0628\u0646\u062C\u0627\u062D.",confirmButtonText:"\u062D\u0633\u0646\u0627\u064B",confirmButtonColor:"#16A34A",timer:2e3,timerProgressBar:!0}).then(()=>{this.router.navigate(["/admin/subscriptions/list"])}))}}))})}rejectSubscription(){!this.subscription||!this.organization||Ws.default.fire({title:"\u0647\u0644 \u0623\u0646\u062A \u0645\u062A\u0623\u0643\u062F\u061F",text:"\u0633\u064A\u062A\u0645 \u0631\u0641\u0636 \u0647\u0630\u0627 \u0627\u0644\u0627\u0634\u062A\u0631\u0627\u0643.",icon:"warning",showCancelButton:!0,confirmButtonText:"\u0646\u0639\u0645, \u0627\u0631\u0641\u0636",cancelButtonText:"\u0625\u0644\u063A\u0627\u0621",confirmButtonColor:"#DC2626",cancelButtonColor:"#6B7280"}).then(t=>{t.isConfirmed&&(this.isProcessing=!0,this.errorMessage="",this.successMessage="",this.platformSubscriptions.rejectSubscription(this.organization.uid,this.subscription.subscriptionId).pipe(Ge(e=>(this.isProcessing=!1,this.errorMessage="admin.subscriptions.rejectError",console.error("Error rejecting subscription:",e),Ws.default.fire({icon:"error",title:"\u062E\u0637\u0623",text:"\u062D\u062F\u062B \u062E\u0637\u0623 \u0623\u062B\u0646\u0627\u0621 \u0631\u0641\u0636 \u0627\u0644\u0627\u0634\u062A\u0631\u0627\u0643. \u064A\u0631\u062C\u0649 \u0627\u0644\u0645\u062D\u0627\u0648\u0644\u0629 \u0645\u0631\u0629 \u0623\u062E\u0631\u0649.",confirmButtonText:"\u062D\u0633\u0646\u0627\u064B",confirmButtonColor:"#DC2626"}),$(null)))).subscribe({next:e=>{e!==null&&(this.isProcessing=!1,this.successMessage="admin.subscriptions.rejectSuccess",this.subscription&&(this.subscription.status="rejected"),this.sendNotificationToOrganization("\u062A\u0645 \u0631\u0641\u0636 \u0627\u0634\u062A\u0631\u0627\u0643\u0643","\u062A\u0645 \u0631\u0641\u0636 \u0637\u0644\u0628 \u0627\u0644\u0627\u0634\u062A\u0631\u0627\u0643 \u0627\u0644\u062E\u0627\u0635 \u0628\u0645\u0646\u0638\u0645\u062A\u0643. \u064A\u0631\u062C\u0649 \u0645\u0631\u0627\u062C\u0639\u0629 \u0627\u0644\u0645\u0639\u0644\u0648\u0645\u0627\u062A \u0648\u0625\u0639\u0627\u062F\u0629 \u0627\u0644\u0645\u062D\u0627\u0648\u0644\u0629.","rejection"),Ws.default.fire({icon:"success",title:"\u062A\u0645 \u0627\u0644\u0631\u0641\u0636 \u0628\u0646\u062C\u0627\u062D!",text:"\u062A\u0645 \u0631\u0641\u0636 \u0627\u0644\u0627\u0634\u062A\u0631\u0627\u0643 \u0628\u0646\u062C\u0627\u062D.",confirmButtonText:"\u062D\u0633\u0646\u0627\u064B",confirmButtonColor:"#DC2626",timer:2e3,timerProgressBar:!0}).then(()=>{this.router.navigate(["/admin/subscriptions/list"])}))}}))})}getStatusClass(t){switch(t){case"approved":return"badge-success";case"pending":return"badge-warning";case"rejected":return"badge-error";default:return"badge-secondary"}}getStatusKey(t){return`subscriptions.statusTypes.${t}`}getPlanKey(t){return`subscriptions.plans.${t}`}formatDate(t){return t?new Date(t).toLocaleDateString("ar-EG",{year:"numeric",month:"long",day:"numeric"}):""}openImageModal(t){Ws.default.fire({imageUrl:t,imageAlt:"Bank Transfer Receipt",showCloseButton:!0,showConfirmButton:!1,width:"90%",padding:"0"})}isSubscriptionActive(){if(!this.subscription||this.subscription.status!=="approved")return!1;let t=new Date,e=new Date(this.subscription.startDate),i=new Date(this.subscription.endDate);return t>=e&&t<=i}getDaysRemaining(){if(!this.subscription||this.subscription.status!=="approved")return null;let t=new Date,i=new Date(this.subscription.endDate).getTime()-t.getTime();return Math.ceil(i/(1e3*60*60*24))}sendNotificationToOrganization(t,e,i){this.organization&&this.notifications.sendNotificationToOrganization(this.organization.uid,{title:t,message:e,type:i})}static \u0275fac=function(e){return new(e||n)(A(oo),A(Qt),A(Tt),A(He),A(Hi))};static \u0275cmp=de({type:n,selectors:[["app-subscription-details"]],decls:9,vars:6,consts:[[1,"subscription-details"],[1,"back-button"],["type","button","routerLink","/admin/subscriptions/list",1,"btn","btn-back"],[1,"fas","fa-arrow-left"],[1,"loading-state"],[1,"alert","alert-error"],[1,"details-content"],["role","status",1,"spinner-border","text-primary"],[1,"visually-hidden"],[1,"mt-3"],[1,"fas","fa-exclamation-circle"],[1,"details-header"],[1,"row","align-items-center"],[1,"col-12","col-md-6"],[1,"details-title"],[1,"fas","fa-credit-card"],[1,"details-subtitle"],[1,"col-12","col-md-6","text-md-end"],[1,"status-badge",3,"ngClass"],[1,"fas"],[1,"alert","alert-success"],[1,"row","g-4"],[1,"col-12","col-lg-8"],[1,"details-card"],[1,"card-title"],[1,"fas","fa-info-circle"],[1,"card-content"],[1,"row","g-3"],[1,"info-item"],[1,"info-label"],[1,"fas","fa-calendar-alt"],[1,"info-value"],[1,"fas","fa-calendar-plus"],[1,"fas","fa-calendar-minus"],[1,"fas","fa-clock"],[1,"fas","fa-receipt"],[1,"receipt-preview"],["alt","Bank Transfer Receipt",2,"cursor","pointer",3,"click","src"],[1,"col-12","col-lg-4"],[1,"fas","fa-building"],[1,"fas","fa-envelope"],[1,"fas","fa-phone"],[1,"details-card","actions-card"],[1,"fas","fa-check-circle"],[1,"fas","fa-hourglass-half"],[1,"info-value","days-remaining"],[1,"fas","fa-edit"],[1,"fas","fa-cog"],[1,"action-buttons"],["type","button",1,"btn","btn-approve",3,"click","disabled"],["type","button",1,"btn","btn-reject",3,"click","disabled"],[1,"fas","fa-spinner","fa-spin"],[1,"fas","fa-check"],[1,"fas","fa-times"]],template:function(e,i){e&1&&(f(0,"div",0)(1,"div",1)(2,"button",2),w(3,"i",3),_(4),v(5,"translate"),h()(),L(6,ute,8,6,"div",4),L(7,fte,4,3,"div",5),L(8,wte,98,59,"div",6),h()),e&2&&(d(4),M(" ",y(5,4,"admin.subscriptions.back")," "),d(2),F(i.isLoading?6:-1),d(),F(!i.isLoading&&i.errorMessage&&!i.subscription?7:-1),d(),F(!i.isLoading&&i.subscription&&i.organization?8:-1))},dependencies:[ge,Xt,ke,Ue,me,ve],styles:[".subscription-details[_ngcontent-%COMP%]{width:100%;padding:32px 0}.subscription-details[_ngcontent-%COMP%]   .back-button[_ngcontent-%COMP%]{margin-bottom:32px}.subscription-details[_ngcontent-%COMP%]   .back-button[_ngcontent-%COMP%]   .btn-back[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:8px;padding:8px 16px;background:#0f172a1a;color:#0f172a;border:1px solid rgba(15,23,42,.2);border-radius:8px;font-weight:600;font-size:.9rem;font-family:Cairo,sans-serif;cursor:pointer;transition:all .2s ease;text-decoration:none}.subscription-details[_ngcontent-%COMP%]   .back-button[_ngcontent-%COMP%]   .btn-back[_ngcontent-%COMP%]:hover{background:#0f172a33;border-color:#0f172a4d}.subscription-details[_ngcontent-%COMP%]   .back-button[_ngcontent-%COMP%]   .btn-back[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.9rem}.subscription-details[_ngcontent-%COMP%]   .loading-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;min-height:400px;text-align:center;padding:64px}.subscription-details[_ngcontent-%COMP%]   .loading-state[_ngcontent-%COMP%]   .spinner-border[_ngcontent-%COMP%]{width:3rem;height:3rem;border-width:.3rem;color:#c9a24d}.subscription-details[_ngcontent-%COMP%]   .loading-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#0f172ab3;font-size:1rem;margin-top:16px;font-family:Cairo,sans-serif}.subscription-details[_ngcontent-%COMP%]   .alert[_ngcontent-%COMP%]{padding:16px 32px;border-radius:8px;margin-bottom:32px;display:flex;align-items:center;gap:8px;font-size:.95rem;font-family:Cairo,sans-serif}.subscription-details[_ngcontent-%COMP%]   .alert.alert-error[_ngcontent-%COMP%]{background:#dc26261a;color:#dc2626;border:1px solid rgba(220,38,38,.3)}.subscription-details[_ngcontent-%COMP%]   .alert.alert-success[_ngcontent-%COMP%]{background:#16a34a1a;color:#16a34a;border:1px solid rgba(22,163,74,.3)}.subscription-details[_ngcontent-%COMP%]   .alert[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.1rem}.subscription-details[_ngcontent-%COMP%]   .details-header[_ngcontent-%COMP%]{margin-bottom:64px;padding-bottom:16px;border-bottom:2px solid rgba(14,58,93,.1)}.subscription-details[_ngcontent-%COMP%]   .details-header[_ngcontent-%COMP%]   .details-title[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;color:#0e3a5d;margin-bottom:4px;font-family:Cairo,sans-serif;display:flex;align-items:center;gap:16px}.subscription-details[_ngcontent-%COMP%]   .details-header[_ngcontent-%COMP%]   .details-title[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#c9a24d;font-size:1.8rem}.subscription-details[_ngcontent-%COMP%]   .details-header[_ngcontent-%COMP%]   .details-subtitle[_ngcontent-%COMP%]{font-size:1.1rem;color:#0f172a99;margin:0;font-family:Cairo,sans-serif}.subscription-details[_ngcontent-%COMP%]   .details-header[_ngcontent-%COMP%]   .status-badge[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:4px;padding:8px 32px;border-radius:8px;font-weight:700;font-size:.95rem;font-family:Cairo,sans-serif}.subscription-details[_ngcontent-%COMP%]   .details-header[_ngcontent-%COMP%]   .status-badge.badge-success[_ngcontent-%COMP%]{background:#16a34a1a;color:#16a34a;border:1px solid rgba(22,163,74,.3)}.subscription-details[_ngcontent-%COMP%]   .details-header[_ngcontent-%COMP%]   .status-badge.badge-warning[_ngcontent-%COMP%]{background:#d977061a;color:#d97706;border:1px solid rgba(217,119,6,.3)}.subscription-details[_ngcontent-%COMP%]   .details-header[_ngcontent-%COMP%]   .status-badge.badge-error[_ngcontent-%COMP%]{background:#dc26261a;color:#dc2626;border:1px solid rgba(220,38,38,.3)}.subscription-details[_ngcontent-%COMP%]   .details-header[_ngcontent-%COMP%]   .status-badge[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.9rem}.subscription-details[_ngcontent-%COMP%]   .details-card[_ngcontent-%COMP%]{background:#fff;border-radius:16px;padding:64px;box-shadow:0 4px 8px #00000026;border:1px solid rgba(14,58,93,.1);margin-bottom:32px}.subscription-details[_ngcontent-%COMP%]   .details-card[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;color:#0e3a5d;margin-bottom:32px;font-family:Cairo,sans-serif;display:flex;align-items:center;gap:8px;padding-bottom:16px;border-bottom:1px solid rgba(14,58,93,.1)}.subscription-details[_ngcontent-%COMP%]   .details-card[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#c9a24d;font-size:1.3rem}.subscription-details[_ngcontent-%COMP%]   .details-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]{margin-bottom:16px}.subscription-details[_ngcontent-%COMP%]   .details-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]   .info-label[_ngcontent-%COMP%]{display:flex;align-items:center;gap:4px;font-weight:600;color:#0f172a;margin-bottom:4px;font-size:.9rem;font-family:Cairo,sans-serif}.subscription-details[_ngcontent-%COMP%]   .details-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]   .info-label[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#0e3a5d;font-size:.85rem;width:18px}.subscription-details[_ngcontent-%COMP%]   .details-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]   .info-value[_ngcontent-%COMP%]{color:#0f172acc;font-size:1rem;margin:0;padding-left:26px;font-family:Cairo,sans-serif}.subscription-details[_ngcontent-%COMP%]   .details-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]   .info-value.days-remaining[_ngcontent-%COMP%]{color:#c9a24d;font-weight:700;font-size:1.2rem}.subscription-details[_ngcontent-%COMP%]   .details-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]   .info-value.text-muted[_ngcontent-%COMP%]{color:#0f172a80;font-size:.85rem}.subscription-details[_ngcontent-%COMP%]   .details-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .receipt-preview[_ngcontent-%COMP%]{margin-top:16px;text-align:center}.subscription-details[_ngcontent-%COMP%]   .details-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .receipt-preview[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;max-height:400px;border-radius:8px;border:1px solid rgba(14,58,93,.2);box-shadow:0 4px 8px #00000026;cursor:pointer;transition:opacity .2s ease}.subscription-details[_ngcontent-%COMP%]   .details-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .receipt-preview[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:hover{opacity:.9}.subscription-details[_ngcontent-%COMP%]   .details-card.actions-card[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px}.subscription-details[_ngcontent-%COMP%]   .details-card.actions-card[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center;justify-content:center;gap:8px;padding:16px 32px;border:none;border-radius:8px;font-weight:700;font-size:1rem;font-family:Cairo,sans-serif;cursor:pointer;transition:all .2s ease}.subscription-details[_ngcontent-%COMP%]   .details-card.actions-card[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.subscription-details[_ngcontent-%COMP%]   .details-card.actions-card[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.9rem}.subscription-details[_ngcontent-%COMP%]   .details-card.actions-card[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .btn.btn-approve[_ngcontent-%COMP%]{background:#16a34a;color:#fff}.subscription-details[_ngcontent-%COMP%]   .details-card.actions-card[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .btn.btn-approve[_ngcontent-%COMP%]:hover:not(:disabled){background:#107636}.subscription-details[_ngcontent-%COMP%]   .details-card.actions-card[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .btn.btn-reject[_ngcontent-%COMP%]{background:#dc2626;color:#fff}.subscription-details[_ngcontent-%COMP%]   .details-card.actions-card[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .btn.btn-reject[_ngcontent-%COMP%]:hover:not(:disabled){background:#b21d1d}@media (max-width: 991.98px){.subscription-details[_ngcontent-%COMP%]   .details-header[_ngcontent-%COMP%]   .details-title[_ngcontent-%COMP%]{font-size:1.5rem}.subscription-details[_ngcontent-%COMP%]   .details-card[_ngcontent-%COMP%]{padding:32px}}@media (max-width: 767.98px){.subscription-details[_ngcontent-%COMP%]{padding:16px 0}.subscription-details[_ngcontent-%COMP%]   .details-header[_ngcontent-%COMP%]   .details-title[_ngcontent-%COMP%]{font-size:1.3rem}.subscription-details[_ngcontent-%COMP%]   .details-card[_ngcontent-%COMP%]{padding:16px}}"]})};var ec=(n,t)=>{let e=N(Un),i=N(He);return Ns(e).pipe(ht(1),H(r=>r?!0:(i.navigate(["/login"],{queryParams:{returnUrl:t.url}}),!1)))};var pP=(n,t)=>{let e=N(Un),i=N(He);return Ns(e).pipe(ht(1),H(r=>r?(i.navigate(["/profile-view"]),!1):!0))};var YL=(n,t)=>{let e=N(Un),i=N(Rt),r=N(He);return Ns(e).pipe(ht(1),H(o=>o&&i.isAdminEmail(o.email||"")?!0:(r.navigate(["/home"]),!1)))};var ZL=[{path:"",pathMatch:"full",redirectTo:"home"},{path:"home",title:"\u0639\u0646\u062E | \u0628\u0648\u0627\u0628\u0629 \u0627\u0644\u0645\u0639\u0631\u0641\u0629 \u0648\u0628\u062F\u0627\u064A\u0629 \u0627\u0644\u0631\u062D\u0644\u0629",component:N_},{path:"about",title:"\u0639\u0646\u062E | \u0645\u0646\u0638\u0648\u0645\u0629 \u062A\u0635\u0646\u0639 \u0627\u0644\u0642\u0627\u062F\u0629",component:L_},{path:"contact",title:"\u0639\u0646\u062E | \u062A\u0648\u0627\u0635\u0644 \u0645\u0639\u0646\u0627 \u0648\u0627\u0628\u062F\u0623 \u062E\u0637\u0648\u062A\u0643",component:F_},{path:"courses",title:"\u0639\u0646\u062E | \u0627\u0644\u062F\u0648\u0631\u0627\u062A \u0627\u0644\u062A\u0639\u0644\u064A\u0645\u064A\u0629",component:c0},{path:"course/:id",title:"\u0639\u0646\u062E | \u062A\u0641\u0627\u0635\u064A\u0644 \u0627\u0644\u062F\u0648\u0631\u0629",component:l0},{path:"login",title:"\u0639\u0646\u062E | \u062A\u0633\u062C\u064A\u0644 \u0627\u0644\u062F\u062E\u0648\u0644 \u0625\u0644\u0649 \u0639\u0627\u0644\u0645\u0643",component:X_,canActivate:[pP]},{path:"register",title:"\u0639\u0646\u062E | \u0627\u0646\u0636\u0645 \u0625\u0644\u0649 \u0645\u0646\u0638\u0648\u0645\u0629 \u0627\u0644\u0646\u062E\u0628\u0629",component:J_,canActivate:[pP]},{path:"profile-view",title:"\u0639\u0646\u062E | \u0645\u0644\u0641\u0643 \u0627\u0644\u0634\u062E\u0635\u064A",component:e0,canActivate:[ec]},{path:"profile-edit",title:"\u0639\u0646\u062E | \u062A\u0637\u0648\u064A\u0631 \u0645\u0644\u0641\u0643 \u0627\u0644\u0634\u062E\u0635\u064A",component:t0,canActivate:[ec]},{path:"notifications",title:"\u0639\u0646\u062E | \u0645\u0631\u0643\u0632 \u0627\u0644\u0625\u0634\u0639\u0627\u0631\u0627\u062A",component:n0,canActivate:[ec]},{path:"notification/:id",title:"\u0639\u0646\u062E | \u062A\u0641\u0627\u0635\u064A\u0644 \u0627\u0644\u0625\u0634\u0639\u0627\u0631",component:s0,canActivate:[ec]},{path:"mySubscriptions",title:"\u0639\u0646\u062E | \u0627\u0634\u062A\u0631\u0627\u0643\u0627\u062A\u0643 \u0627\u0644\u062A\u0639\u0644\u064A\u0645\u064A\u0629",component:r0,canActivate:[ec]},{path:"admin",component:d0,canActivate:[ec,YL],children:[{path:"",pathMatch:"full",redirectTo:"organizations"},{path:"organizations",title:"\u0639\u0646\u062E | \u0625\u062F\u0627\u0631\u0629 \u0627\u0644\u0643\u064A\u0627\u0646\u0627\u062A \u0648\u0627\u0644\u0645\u0646\u0638\u0645\u0627\u062A",component:u0},{path:"organizations/:id",title:"\u0639\u0646\u062E | \u062A\u0641\u0627\u0635\u064A\u0644 \u0627\u0644\u0645\u0646\u0638\u0645\u0629",component:p0},{path:"subscriptions",title:"\u0639\u0646\u062E | \u0625\u062F\u0627\u0631\u0629 \u0627\u0644\u0627\u0634\u062A\u0631\u0627\u0643\u0627\u062A",component:C0},{path:"subscriptions/:organizationId/:subscriptionId",title:"\u0639\u0646\u062E | \u062A\u0641\u0627\u0635\u064A\u0644 \u0627\u0644\u0627\u0634\u062A\u0631\u0627\u0643",component:w0},{path:"courses",title:"\u0639\u0646\u062E | \u0645\u0631\u0643\u0632 \u0625\u062F\u0627\u0631\u0629 \u0627\u0644\u062F\u0648\u0631\u0627\u062A",component:h0},{path:"courses/:id",title:"\u0639\u0646\u062E | \u062A\u0641\u0627\u0635\u064A\u0644 \u0627\u0644\u062F\u0648\u0631\u0629",component:b0}]},{path:"**",redirectTo:""}];var hP=null,M0=()=>(hP||(hP=$A(XE.firebase)),hP),XL={providers:[aC({eventCoalescing:!0}),cw(ZL,dw()),nA(),UA(()=>M0()),Qk(()=>Zk(M0())),XN(()=>{let n=M0();return JN(n,XE.firebase.databaseURL)}),uL(()=>fL(M0())),Kp(kC,me.forRoot({defaultLanguage:"ar",loader:{provide:Ms,useFactory:cA,deps:[Cg]}}))]};var gP=li(si());var Kl=class n{constructor(t){this.translate=t;let e=localStorage.getItem("AnkhLang");if(e&&this.supportedLangs.includes(e))this.currentLang=e;else{let i=navigator.language?.toLowerCase().split("-")[0];this.currentLang=this.supportedLangs.includes(i)?i:this.defaultLang,localStorage.setItem("AnkhLang",this.currentLang)}t.setDefaultLang(this.defaultLang),t.use(this.currentLang)}supportedLangs=["en","ar"];defaultLang="ar";currentLang;switchLanguage(t){this.supportedLangs.includes(t)&&(this.currentLang=t,localStorage.setItem("AnkhLang",t),this.translate.use(t))}getCurrentLang(){return this.currentLang}getAvailableLanguages(){return[{code:"ar",label:"\u0627\u0644\u0639\u0631\u0628\u064A\u0629",flagUrl:"assets/flags/sa.png"},{code:"en",label:"English",flagUrl:"assets/flags/us.png"}]}static \u0275fac=function(e){return new(e||n)(W(xu))};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})};var Mte=()=>({exact:!0});function Ete(n,t){if(n&1){let e=ce();f(0,"div",13)(1,"a",31),z("click",function(){G(e);let r=x();return K(r.closeMobileMenu())}),f(2,"span"),_(3),v(4,"translate"),h()()(),f(5,"div",13)(6,"a",32),z("click",function(){G(e);let r=x();return K(r.closeMobileMenu())}),f(7,"span"),_(8),v(9,"translate"),h()()()}if(n&2){let e=x();d(),O("routerLink",e.ROUTES.LOGIN),d(2),I(y(4,4,"navbar.login")),d(3),O("routerLink",e.ROUTES.REGISTER),d(2),I(y(9,6,"navbar.register"))}}function Pte(n,t){if(n&1&&(f(0,"span",40),_(1),h()),n&2){let e=x(2);d(),I(e.unreadNotificationsCount)}}function Ote(n,t){if(n&1){let e=ce();f(0,"li")(1,"a",42),z("click",function(){G(e);let r=x(2);return K(r.navigateTo(r.ROUTES.PROFILE))}),w(2,"i",46),f(3,"span"),_(4),v(5,"translate"),h()()(),f(6,"li")(7,"a",42),z("click",function(){G(e);let r=x(2);return K(r.navigateTo(r.ROUTES.mySubscriptions))}),w(8,"i",47),f(9,"span"),_(10),v(11,"translate"),h()()()}n&2&&(d(4),I(y(5,2,"navbar.viewProfile")),d(6),I(y(11,4,"navbar.subscriptions")))}function xte(n,t){if(n&1&&(f(0,"span",50),_(1),h()),n&2){let e=x(3);d(),I(e.unreadNotificationsCount)}}function Ite(n,t){if(n&1){let e=ce();f(0,"li")(1,"a",48),z("click",function(){G(e);let r=x(2);return K(r.navigateTo(r.ROUTES.NOTIFICATIONS))}),w(2,"i",49),f(3,"span"),_(4),v(5,"translate"),h(),L(6,xte,2,1,"span",50),h()(),f(7,"li"),w(8,"hr",51),h()}if(n&2){let e=x(2);d(4),I(y(5,2,"navbar.notifications")),d(2),F(e.unreadNotificationsCount>0?6:-1)}}function Ste(n,t){if(n&1){let e=ce();f(0,"div",23)(1,"a",33),z("click",function(r){G(e);let o=x();return K(o.toggleUserDropdown(r))}),f(2,"div",34),w(3,"i",35),h(),f(4,"div",36)(5,"span",37),_(6),h(),f(7,"span",38),_(8),h()(),w(9,"i",39),L(10,Pte,2,1,"span",40),h(),f(11,"ul",41)(12,"li")(13,"a",42),z("click",function(){G(e);let r=x();return K(r.navigateTo(r.getDashboardUrl()))}),w(14,"i",43),f(15,"span"),_(16),v(17,"translate"),h()()(),L(18,Ote,12,6),L(19,Ite,9,4),f(20,"li")(21,"a",44),z("click",function(){G(e);let r=x();return r.logout(),K(r.closeAllDropdowns())}),w(22,"i",45),f(23,"span"),_(24),v(25,"translate"),h()()()()()}if(n&2){let e=x();d(),Wt("aria-expanded",e.isUserDropdownOpen),d(5),I((e.user==null?null:e.user.email)||"Guest"),d(2),I(e.userRole==="admin"?"Admin":"Organization"),d(2),F(e.userRole==="organization"&&e.unreadNotificationsCount>0?10:-1),d(),U("show",e.isUserDropdownOpen),d(5),I(y(17,10,"navbar.dashboard")),d(2),F(e.userRole==="organization"?18:-1),d(),F(e.userRole==="organization"?19:-1),d(5),I(y(25,12,"navbar.logout"))}}function Tte(n,t){n&1&&w(0,"i",54)}function Dte(n,t){if(n&1){let e=ce();f(0,"li")(1,"a",52),z("click",function(r){let o=G(e).$implicit;return x().changeLang(o.code),K(r.preventDefault())}),w(2,"img",26),f(3,"span",53),_(4),h(),L(5,Tte,1,0,"i",54),h()()}if(n&2){let e=t.$implicit,i=x();d(2),O("src",e.flagUrl,it)("alt",e.label),d(2),I(e.label),d(),F(i.selectedLang===e.code?5:-1)}}var E0=class n{constructor(t,e,i,r,o,s){this.lanService=t;this.authService=e;this.auth=i;this.organizationService=r;this.router=o;this.notifications=s}ROUTES={HOME:"/home",COURSES:"/courses",ABOUT:"/about",CONTACT:"/contact",LOGIN:"/login",REGISTER:"/register",PROFILE:"/profile-view",NOTIFICATIONS:"/notifications",mySubscriptions:"/mySubscriptions",ADMIN:"/admin"};availableLanguages=[];selectedLang="ar";isScrolled=!1;isMobileMenuOpen=!1;isLanguageDropdownOpen=!1;isUserDropdownOpen=!1;isLoggedIn=!1;user=null;userRole=null;unreadNotificationsCount=0;LANG_STORAGE_KEY="AnkhLang";destroy$=new le;previousUnreadCount=void 0;ngOnInit(){this.initializeLanguage(),this.checkScrollPosition(),this.subscribeToAuthState()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}subscribeToAuthState(){Ns(this.auth).pipe(ne(this.destroy$)).subscribe({next:t=>{this.isLoggedIn=!!t,this.user=t,t?this.loadUserData(t):this.resetUserData()}})}loadUserData(t){!t?.uid||!t?.email||(this.authService.isAdminEmail(t.email)?this.userRole="admin":(this.userRole="organization",this.loadUnreadNotificationsCount()))}resetUserData(){this.user=null,this.userRole=null,this.unreadNotificationsCount=0}loadUnreadNotificationsCount(){if(!this.user?.uid)return;let t=this.unreadNotificationsCount;this.previousUnreadCount=t,this.notifications.getUnreadCount(this.user.uid).pipe(ne(this.destroy$)).subscribe({next:e=>{e>(this.previousUnreadCount||0)&&this.onNewNotificationReceived(),this.unreadNotificationsCount=e,this.previousUnreadCount=e},error:e=>{console.error("Error loading notifications count:",e)}})}onNewNotificationReceived(){this.notifications.makeNotificationSound()}getDashboardUrl(){return this.userRole==="admin"?this.ROUTES.ADMIN:this.userRole==="organization"?this.ROUTES.PROFILE:this.ROUTES.HOME}logout(){gP.default.fire({title:"\u0647\u0644 \u0623\u0646\u062A \u0645\u062A\u0623\u0643\u062F \u0645\u0646 \u062A\u0633\u062C\u064A\u0644 \u0627\u0644\u062E\u0631\u0648\u062C\u061F",text:"\u0633\u064A\u062A\u0645 \u062A\u0633\u062C\u064A\u0644 \u0627\u0644\u062E\u0631\u0648\u062C \u0645\u0646 \u062D\u0633\u0627\u0628\u0643!",icon:"warning",showCancelButton:!0,confirmButtonText:"\u0646\u0639\u0645, \u062A\u0633\u062C\u064A\u0644 \u0627\u0644\u062E\u0631\u0648\u062C",cancelButtonText:"\u0625\u0644\u063A\u0627\u0621",confirmButtonColor:"#DC2626",cancelButtonColor:"#6B7280"}).then(t=>{t.isConfirmed&&this.authService.logout().pipe(ne(this.destroy$)).subscribe({next:()=>{this.router.navigate([this.ROUTES.HOME]),this.closeAllDropdowns()},error:e=>{console.error("Logout error:",e),gP.default.fire({icon:"error",title:"\u062E\u0637\u0623",text:"\u062D\u062F\u062B \u062E\u0637\u0623 \u0623\u062B\u0646\u0627\u0621 \u062A\u0633\u062C\u064A\u0644 \u0627\u0644\u062E\u0631\u0648\u062C. \u064A\u0631\u062C\u0649 \u0627\u0644\u0645\u062D\u0627\u0648\u0644\u0629 \u0645\u0631\u0629 \u0623\u062E\u0631\u0649."})}})})}toggleUserDropdown(t){t.preventDefault(),t.stopPropagation(),this.isUserDropdownOpen=!this.isUserDropdownOpen,this.isUserDropdownOpen&&(this.isLanguageDropdownOpen=!1)}toggleLanguageDropdown(t){t.preventDefault(),t.stopPropagation(),this.isLanguageDropdownOpen=!this.isLanguageDropdownOpen,this.isLanguageDropdownOpen&&(this.isUserDropdownOpen=!1)}closeAllDropdowns(){this.isUserDropdownOpen=!1,this.isLanguageDropdownOpen=!1}navigateTo(t){this.router.navigate([t]),this.closeAllDropdowns(),this.closeMobileMenu()}toggleMobileMenu(){this.isMobileMenuOpen=!this.isMobileMenuOpen,this.isMobileMenuOpen||this.closeAllDropdowns()}closeMobileMenu(){this.isMobileMenuOpen=!1,this.closeAllDropdowns()}initializeLanguage(){try{this.availableLanguages=this.lanService.getAvailableLanguages(),this.selectedLang=this.getStoredLanguage(),this.lanService.switchLanguage(this.selectedLang)}catch(t){console.error("Error initializing language:",t),this.setFallbackLanguages()}}setFallbackLanguages(){this.availableLanguages=[{code:"ar",label:"\u0627\u0644\u0639\u0631\u0628\u064A\u0629",flagUrl:"assets/flags/sa.png"},{code:"en",label:"English",flagUrl:"assets/flags/us.png"}],this.selectedLang="ar"}getStoredLanguage(){return localStorage.getItem(this.LANG_STORAGE_KEY)??"ar"}changeLang(t){try{this.selectedLang=t,this.lanService.switchLanguage(t),localStorage.setItem(this.LANG_STORAGE_KEY,t),this.isLanguageDropdownOpen=!1,this.closeMobileMenu()}catch(e){console.error("Error changing language:",e)}}getCurrentFlag(){try{let t=this.selectedLang||this.lanService.getCurrentLang();return this.availableLanguages.find(i=>i.code===t)?.flagUrl||"assets/flags/sa.png"}catch{return"assets/flags/sa.png"}}getCurrentLangLabel(){try{let t=this.selectedLang||this.lanService.getCurrentLang();return this.availableLanguages.find(i=>i.code===t)?.label||"\u0627\u0644\u0639\u0631\u0628\u064A\u0629"}catch{return"\u0627\u0644\u0639\u0631\u0628\u064A\u0629"}}onWindowScroll(){this.isScrolled=window.scrollY>50}onDocumentClick(t){t.target.closest(".dropdown")||this.closeAllDropdowns()}checkScrollPosition(){this.isScrolled=window.scrollY>50}static \u0275fac=function(e){return new(e||n)(A(Kl),A(Rt),A(Un),A(Qt),A(He),A(Hi))};static \u0275cmp=de({type:n,selectors:[["app-navbar"]],hostBindings:function(e,i){e&1&&z("scroll",function(){return i.onWindowScroll()},Rd)("click",function(o){return i.onDocumentClick(o)},Ib)},decls:56,vars:44,consts:[[1,"navbar","navbar-expand-lg","custom-navbar"],[1,"container"],[1,"brand-container","d-flex","align-items-center"],[1,"navbar-brand","d-flex","align-items-center",3,"routerLink"],[1,"logo-container"],[1,"brand-text"],[1,"brand-name"],["type","button",1,"navbar-toggler","custom-toggler",3,"click"],[1,"toggler-line","line1"],[1,"toggler-line","line2"],[1,"toggler-line","line3"],[1,"collapse","navbar-collapse"],[1,"navbar-nav","mx-auto"],[1,"nav-item"],["routerLinkActive","active",1,"nav-link",3,"click","routerLink","routerLinkActiveOptions"],[1,"fas","fa-home","mx-2"],[1,"nav-text"],[1,"nav-underline"],["routerLinkActive","active",1,"nav-link",3,"click","routerLink"],[1,"fas","fa-book","mx-2"],[1,"fas","fa-info-circle","mx-2"],[1,"fas","fa-envelope","mx-2"],[1,"navbar-nav","navbar-actions"],[1,"nav-item","dropdown","user-dropdown"],[1,"nav-item","dropdown"],["role","button",1,"nav-link","dropdown-toggle","language-toggle","d-flex","align-items-center",3,"click"],[1,"flag-icon","mx-2",3,"src","alt"],[1,"d-lg-inline"],[1,"fas","fa-chevron-down","ms-1"],[1,"dropdown-menu","dropdown-menu-end","custom-dropdown","language-dropdown"],[1,"scroll-progress"],[1,"btn-login",3,"click","routerLink"],[1,"btn-register",3,"click","routerLink"],["role","button",1,"nav-link","dropdown-toggle","user-toggle","d-flex","align-items-center",3,"click"],[1,"user-avatar"],[1,"fas","fa-user"],[1,"user-info","d-none","d-lg-flex","flex-column","ms-2"],[1,"user-name"],[1,"user-role"],[1,"fas","fa-chevron-down","ms-2"],[1,"notification-badge"],[1,"dropdown-menu","dropdown-menu-end","custom-dropdown","user-dropdown-menu"],[1,"dropdown-item",3,"click"],[1,"fas","fa-tachometer-alt"],[1,"dropdown-item","logout-item",3,"click"],[1,"fas","fa-sign-out-alt"],[1,"fas","fa-user-circle"],[1,"fas","fa-credit-card"],[1,"dropdown-item","notification-item",3,"click"],[1,"fas","fa-bell"],[1,"badge-notification"],[1,"dropdown-divider"],[1,"dropdown-item","d-flex","align-items-center",3,"click"],[1,"lang-label"],[1,"fas","fa-check","ms-auto"]],template:function(e,i){e&1&&(f(0,"nav",0)(1,"div",1)(2,"div",2)(3,"a",3),w(4,"div",4),f(5,"div",5)(6,"div",6),_(7),v(8,"translate"),h()()()(),f(9,"button",7),z("click",function(){return i.toggleMobileMenu()}),w(10,"span",8)(11,"span",9)(12,"span",10),h(),f(13,"div",11)(14,"ul",12)(15,"li",13)(16,"a",14),z("click",function(){return i.closeMobileMenu()}),w(17,"i",15),f(18,"span",16),_(19),v(20,"translate"),h(),w(21,"div",17),h()(),f(22,"li",13)(23,"a",18),z("click",function(){return i.closeMobileMenu()}),w(24,"i",19),f(25,"span",16),_(26),v(27,"translate"),h(),w(28,"div",17),h()(),f(29,"li",13)(30,"a",18),z("click",function(){return i.closeMobileMenu()}),w(31,"i",20),f(32,"span",16),_(33),v(34,"translate"),h(),w(35,"div",17),h()(),f(36,"li",13)(37,"a",18),z("click",function(){return i.closeMobileMenu()}),w(38,"i",21),f(39,"span",16),_(40),v(41,"translate"),h(),w(42,"div",17),h()()(),f(43,"div",22),L(44,Ete,10,8),L(45,Ste,26,14,"div",23),f(46,"div",24)(47,"a",25),z("click",function(o){return i.toggleLanguageDropdown(o)}),w(48,"img",26),f(49,"span",27),_(50),h(),w(51,"i",28),h(),f(52,"ul",29),mt(53,Dte,6,4,"li",null,mi),h()()()()(),w(55,"div",30),h()),e&2&&(U("navbar-scrolled",i.isScrolled),d(3),O("routerLink",i.ROUTES.HOME),d(4),I(y(8,33,"navbar.brand")),d(2),Wt("aria-expanded",i.isMobileMenuOpen)("aria-label","Toggle navigation"),d(),U("active",i.isMobileMenuOpen),d(),U("active",i.isMobileMenuOpen),d(),U("active",i.isMobileMenuOpen),d(),U("show",i.isMobileMenuOpen),d(3),O("routerLink",i.ROUTES.HOME)("routerLinkActiveOptions",Po(43,Mte)),d(3),I(y(20,35,"navbar.home")),d(4),O("routerLink",i.ROUTES.COURSES),d(3),I(y(27,37,"navbar.courses")),d(4),O("routerLink",i.ROUTES.ABOUT),d(3),I(y(34,39,"navbar.about")),d(4),O("routerLink",i.ROUTES.CONTACT),d(3),I(y(41,41,"navbar.contact")),d(4),F(i.isLoggedIn?-1:44),d(),F(i.isLoggedIn?45:-1),d(2),Wt("aria-expanded",i.isLanguageDropdownOpen),d(),O("src",i.getCurrentFlag(),it)("alt",i.getCurrentLangLabel()),d(2),I(i.getCurrentLangLabel()),d(2),U("show",i.isLanguageDropdownOpen),d(),_t(i.availableLanguages),d(2),Ai("width",i.isScrolled?100:0,"%"))},dependencies:[ge,ke,Ue,_u,me,ve],styles:[".custom-navbar[_ngcontent-%COMP%]{font-family:Cairo,sans-serif;background:#fff;box-shadow:0 1px 2px #0000001a;transition:all .3s ease;position:fixed;top:0;left:0;right:0;z-index:1000;padding:16px 0}.custom-navbar.navbar-scrolled[_ngcontent-%COMP%]{background:#fffffffa;backdrop-filter:blur(10px);-webkit-backdrop-filter:blur(10px);box-shadow:0 4px 8px #00000026;padding:32px 0}.brand-container[_ngcontent-%COMP%]{flex:1;justify-content:flex-start}.navbar-brand[_ngcontent-%COMP%]{transition:all .3s ease;text-decoration:none;display:flex;align-items:center;gap:16px}.navbar-brand[_ngcontent-%COMP%]:hover{transform:scale(1.02)}.navbar-logo[_ngcontent-%COMP%]{height:50px;width:auto;transition:all .3s ease;border-radius:8px}.brand-text[_ngcontent-%COMP%]   .brand-name[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;color:#0e3a5d;letter-spacing:-.5px;transition:all .3s ease}.navbar-scrolled[_ngcontent-%COMP%]   .brand-name[_ngcontent-%COMP%]{color:#0e3a5d}.navbar-nav[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]{position:relative;margin:0 4px}.navbar-nav[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{font-weight:500;font-size:.95rem;color:#0f172a!important;padding:8px 16px!important;transition:all .3s ease;position:relative;display:flex;align-items:center;background:transparent;border-radius:8px}.navbar-nav[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{transition:all .3s ease;color:#0e3a5d;font-size:.9rem}.navbar-nav[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]   .nav-text[_ngcontent-%COMP%]{position:relative;font-weight:500}.navbar-nav[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]   .nav-underline[_ngcontent-%COMP%]{position:absolute;bottom:4px;left:50%;width:0;height:2px;background:#c9a24d;border-radius:1px;transition:all .3s ease;transform:translate(-50%)}.navbar-nav[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:hover{color:#c9a24d!important;transform:translateY(-2px)}.navbar-nav[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:hover   i[_ngcontent-%COMP%]{color:#c9a24d}.navbar-nav[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:hover   .nav-underline[_ngcontent-%COMP%]{width:60%}.navbar-nav[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]{color:#c9a24d!important}.navbar-nav[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#c9a24d}.navbar-nav[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]   .nav-underline[_ngcontent-%COMP%]{width:80%;background:#c9a24d}.navbar-actions[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;margin-left:32px}.btn-login[_ngcontent-%COMP%], .btn-register[_ngcontent-%COMP%], .btn-dashboard[_ngcontent-%COMP%], .btn-logout[_ngcontent-%COMP%]{padding:8px 16px!important;border-radius:16px!important;font-weight:500!important;transition:all .3s ease!important;border:2px solid transparent!important;white-space:nowrap;text-decoration:none!important}.btn-login[_ngcontent-%COMP%]{color:#0e3a5d!important;background:transparent!important;border-color:#0e3a5d!important}.btn-login[_ngcontent-%COMP%]:hover{background:#0e3a5d!important;color:#fff!important;transform:translateY(-2px);box-shadow:0 4px 8px #00000026}.btn-register[_ngcontent-%COMP%]{color:#fff!important;background:#0e3a5d!important;border-color:#0e3a5d!important}.btn-register[_ngcontent-%COMP%]:hover{background:#0e3a5d!important;transform:translateY(-2px);box-shadow:0 4px 8px #00000026}.btn-dashboard[_ngcontent-%COMP%]{color:#fff!important;background:#0e3a5d!important;border-color:#0e3a5d!important;text-decoration:none}.btn-dashboard[_ngcontent-%COMP%]:hover{color:#c9a24d!important;background:#1e5c8a!important;border-color:#1e5c8a!important;transform:translateY(-2px);box-shadow:0 4px 8px #00000026}.btn-logout[_ngcontent-%COMP%]{color:#dc2626!important;background:transparent!important;border-color:#dc2626!important}.btn-logout[_ngcontent-%COMP%]:hover{background:#dc2626!important;color:#fff!important;transform:translateY(-2px);box-shadow:0 4px 8px #00000026}.user-dropdown[_ngcontent-%COMP%]{position:relative}.user-toggle[_ngcontent-%COMP%]{background:#f6f7f980!important;border:1px solid rgba(14,58,93,.2)!important;border-radius:8px!important;padding:8px 16px!important;transition:all .3s ease!important;box-shadow:0 1px 2px #0000001a;position:relative;cursor:pointer}.user-toggle[_ngcontent-%COMP%]   .user-avatar[_ngcontent-%COMP%]{width:36px;height:36px;border-radius:50%;background:linear-gradient(135deg,#c9a24d,#0e3a5d);display:flex;align-items:center;justify-content:center;color:#fff;font-size:.9rem;flex-shrink:0;transition:all .3s ease}.user-toggle[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]{text-align:left;min-width:120px}.user-toggle[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .user-name[_ngcontent-%COMP%]{font-size:.9rem;font-weight:600;color:#0f172a;line-height:1.2;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.user-toggle[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .user-role[_ngcontent-%COMP%]{font-size:.75rem;color:#0f172a99;text-transform:capitalize;line-height:1.2}.user-toggle[_ngcontent-%COMP%]   .fa-chevron-down[_ngcontent-%COMP%]{font-size:.7rem;transition:all .3s ease;color:#0e3a5d;margin-left:4px}.user-toggle[_ngcontent-%COMP%]   .notification-badge[_ngcontent-%COMP%]{position:absolute;top:-4px;right:-4px;background:#dc2626;color:#fff;border-radius:50%;width:20px;height:20px;display:flex;align-items:center;justify-content:center;font-size:.7rem;font-weight:700;border:2px solid #FFFFFF;box-shadow:0 1px 2px #0000001a}.user-toggle[_ngcontent-%COMP%]:hover{background:#f6f7f9b3!important;border-color:#0e3a5d66!important;box-shadow:0 4px 8px #00000026;transform:translateY(-1px)}.user-toggle[_ngcontent-%COMP%]:hover   .user-avatar[_ngcontent-%COMP%]{transform:scale(1.05)}.user-toggle[aria-expanded=true][_ngcontent-%COMP%]{background:#f6f7f9cc!important;border-color:#0e3a5d80!important}.user-toggle[aria-expanded=true][_ngcontent-%COMP%]   .fa-chevron-down[_ngcontent-%COMP%]{transform:rotate(180deg)}.user-dropdown-menu[_ngcontent-%COMP%]{min-width:220px;border-radius:8px;background:#fff;border:1px solid rgba(14,58,93,.1);box-shadow:0 8px 16px #0003;padding:8px 0;margin-top:8px;z-index:9999;position:absolute;right:0;top:100%}.user-dropdown-menu[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]{padding:16px 32px;border-radius:0;transition:all .3s ease;display:flex;align-items:center;gap:16px;cursor:pointer;color:#0f172a;font-weight:500;font-size:.9rem}.user-dropdown-menu[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{width:20px;text-align:center;color:#0e3a5d;font-size:.9rem;transition:all .3s ease}.user-dropdown-menu[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{flex:1;transition:all .3s ease}.user-dropdown-menu[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]   .badge-notification[_ngcontent-%COMP%]{background:#dc2626;color:#fff;border-radius:4px;padding:2px 4px;font-size:.75rem;font-weight:700;min-width:20px;text-align:center}.user-dropdown-menu[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]:hover{background:#c9a24d1a;color:#c9a24d;transform:translate(4px)}.user-dropdown-menu[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]:hover   i[_ngcontent-%COMP%]{color:#c9a24d;transform:scale(1.1)}.user-dropdown-menu[_ngcontent-%COMP%]   .dropdown-item.notification-item[_ngcontent-%COMP%]{position:relative}.user-dropdown-menu[_ngcontent-%COMP%]   .dropdown-divider[_ngcontent-%COMP%]{margin:4px 0;border-color:#0e3a5d1a}.user-dropdown-menu[_ngcontent-%COMP%]   .logout-item[_ngcontent-%COMP%], .user-dropdown-menu[_ngcontent-%COMP%]   .logout-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#dc2626!important}.user-dropdown-menu[_ngcontent-%COMP%]   .logout-item[_ngcontent-%COMP%]:hover{background:#dc26261a!important;color:#dc2626!important}.user-dropdown-menu[_ngcontent-%COMP%]   .logout-item[_ngcontent-%COMP%]:hover   i[_ngcontent-%COMP%]{color:#dc2626!important}.language-toggle[_ngcontent-%COMP%]{background:#f6f7f980!important;border:1px solid rgba(14,58,93,.2)!important;border-radius:8px!important;padding:8px 16px!important;transition:all .3s ease!important;box-shadow:0 1px 2px #0000001a}.language-toggle[_ngcontent-%COMP%]   .flag-icon[_ngcontent-%COMP%]{width:20px;height:15px;border-radius:4px;object-fit:cover;box-shadow:0 1px 2px #0000001a;transition:all .3s ease}.language-toggle[_ngcontent-%COMP%]   .fa-chevron-down[_ngcontent-%COMP%]{font-size:.7rem;transition:all .3s ease;color:#0e3a5d;margin-left:4px}.language-toggle[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:500;color:#0f172a;transition:all .3s ease}.language-toggle[_ngcontent-%COMP%]:hover{background:#f6f7f9b3!important;border-color:#0e3a5d66!important;box-shadow:0 4px 8px #00000026}.language-toggle[_ngcontent-%COMP%]:hover   .flag-icon[_ngcontent-%COMP%]{transform:scale(1.1)}.language-toggle[aria-expanded=true][_ngcontent-%COMP%]{background:#f6f7f9cc!important;border-color:#0e3a5d80!important}.language-toggle[aria-expanded=true][_ngcontent-%COMP%]   .fa-chevron-down[_ngcontent-%COMP%]{transform:rotate(180deg)}.language-dropdown[_ngcontent-%COMP%]{min-width:200px;border-radius:8px;background:#fff;border:1px solid rgba(14,58,93,.1);box-shadow:0 8px 16px #0003;padding:8px 0;margin-top:8px;z-index:9999;position:absolute;right:0;top:100%}.language-dropdown[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]{padding:16px 32px;border-radius:4px;transition:all .3s ease;display:flex;align-items:center;cursor:pointer;color:#0f172a}.language-dropdown[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]   .flag-icon[_ngcontent-%COMP%]{width:20px;height:15px;border-radius:4px;object-fit:cover;margin-right:16px;transition:all .3s ease}.language-dropdown[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]   .lang-label[_ngcontent-%COMP%]{font-weight:500;color:#0f172a;font-size:.9rem;flex:1;transition:all .3s ease}.language-dropdown[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]   .fa-check[_ngcontent-%COMP%]{color:#c9a24d;font-size:.9rem}.language-dropdown[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]:hover{background:#c9a24d1a;transform:translate(4px)}.language-dropdown[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]:hover   .lang-label[_ngcontent-%COMP%]{color:#c9a24d}.custom-toggler[_ngcontent-%COMP%]{border:none;background:#f6f7f980;padding:8px;outline:none;border-radius:8px;transition:all .3s ease;box-shadow:0 1px 2px #0000001a}.custom-toggler[_ngcontent-%COMP%]:hover{background:#f6f7f9b3;transform:scale(1.05)}.custom-toggler[_ngcontent-%COMP%]   .toggler-line[_ngcontent-%COMP%]{display:block;width:25px;height:3px;background:#0e3a5d;border-radius:2px;transition:all .3s ease;margin:5px 0}.custom-toggler[_ngcontent-%COMP%]   .toggler-line.line1.active[_ngcontent-%COMP%]{transform:translateY(8px) rotate(45deg)}.custom-toggler[_ngcontent-%COMP%]   .toggler-line.line2.active[_ngcontent-%COMP%]{opacity:0;transform:scale(0)}.custom-toggler[_ngcontent-%COMP%]   .toggler-line.line3.active[_ngcontent-%COMP%]{transform:translateY(-8px) rotate(-45deg)}.custom-toggler[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .25rem #c9a24d40}.scroll-progress[_ngcontent-%COMP%]{position:absolute;bottom:0;left:0;height:3px;background:linear-gradient(90deg,#c9a24d,#0e3a5d);transition:width .3s ease;z-index:1001}@media (max-width: 991.98px){.custom-navbar[_ngcontent-%COMP%]{padding:8px 0}.custom-navbar[_ngcontent-%COMP%]   .navbar-brand[_ngcontent-%COMP%]   .brand-name[_ngcontent-%COMP%]{font-size:1.3rem}.custom-navbar[_ngcontent-%COMP%]   .navbar-brand[_ngcontent-%COMP%]   .navbar-logo[_ngcontent-%COMP%]{height:45px}.custom-navbar[_ngcontent-%COMP%]   .navbar-collapse[_ngcontent-%COMP%]{background:#fff;border-radius:16px;margin-top:16px;padding:32px;box-shadow:0 8px 16px #0003}.custom-navbar[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;margin:0}.custom-navbar[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]{width:100%;margin:4px 0}.custom-navbar[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{justify-content:flex-start;padding:16px!important;width:100%;border-radius:8px}.custom-navbar[_ngcontent-%COMP%]   .navbar-actions[_ngcontent-%COMP%]{margin-top:16px;padding-top:16px;border-top:1px solid rgba(14,58,93,.1);flex-direction:column;width:100%;margin-left:0;gap:8px}.custom-navbar[_ngcontent-%COMP%]   .navbar-actions[_ngcontent-%COMP%]   .btn-login[_ngcontent-%COMP%], .custom-navbar[_ngcontent-%COMP%]   .navbar-actions[_ngcontent-%COMP%]   .btn-register[_ngcontent-%COMP%], .custom-navbar[_ngcontent-%COMP%]   .navbar-actions[_ngcontent-%COMP%]   .btn-dashboard[_ngcontent-%COMP%], .custom-navbar[_ngcontent-%COMP%]   .navbar-actions[_ngcontent-%COMP%]   .btn-logout[_ngcontent-%COMP%]{width:100%;justify-content:center}.custom-navbar[_ngcontent-%COMP%]   .navbar-actions[_ngcontent-%COMP%]   .user-dropdown[_ngcontent-%COMP%]{width:100%}.custom-navbar[_ngcontent-%COMP%]   .navbar-actions[_ngcontent-%COMP%]   .user-dropdown[_ngcontent-%COMP%]   .user-toggle[_ngcontent-%COMP%]{width:100%;justify-content:flex-start}.custom-navbar[_ngcontent-%COMP%]   .navbar-actions[_ngcontent-%COMP%]   .user-dropdown[_ngcontent-%COMP%]   .user-dropdown-menu[_ngcontent-%COMP%], .custom-navbar[_ngcontent-%COMP%]   .language-dropdown[_ngcontent-%COMP%]{position:static!important;width:100%;margin-top:8px;right:auto}}@media (max-width: 575.98px){.custom-navbar[_ngcontent-%COMP%]   .navbar-brand[_ngcontent-%COMP%]   .brand-name[_ngcontent-%COMP%]{font-size:1.2rem}.custom-navbar[_ngcontent-%COMP%]   .navbar-brand[_ngcontent-%COMP%]   .navbar-logo[_ngcontent-%COMP%]{height:40px}.custom-navbar[_ngcontent-%COMP%]   .navbar-collapse[_ngcontent-%COMP%]{padding:16px}}"]})};var P0=class n{socials=[{icon:"fa-brands fa-instagram",url:"https://instagram.com/smartarget.sa",color:"#E4405F",name:"Instagram"},{icon:"fa-brands fa-facebook",url:"https://facebook.com/smartarget.sa",color:"#1877f2",name:"Facebook"},{icon:"fa-brands fa-tiktok",url:"https://tiktok.com/@smartarget.sa",color:"#fff",name:"Tiktok"},{icon:"fa-brands fa-snapchat",url:"https://snapchat.com/add/smartarget.sa",color:"#FFFC00",name:"Snapchat"},{icon:"fa-brands fa-x-twitter",url:"https://x.com/smartarget_sa",color:"#fff",name:"X"},{icon:"fa-brands fa-whatsapp",url:"https://wa.me/+966554748254",color:"#25D366",name:"WhatsApp"}];getSocials(){return this.socials}static \u0275fac=function(e){return new(e||n)};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})};var kte=(n,t)=>t.name;function Rte(n,t){if(n&1&&(f(0,"a",28),w(1,"i"),h()),n&2){let e=t.$implicit;Ai("color",e.color),O("href",e.url,it),Wt("aria-label",e.name),d(),ps(e.icon)}}var O0=class n{constructor(t){this.socials=t}currentYear=new Date().getFullYear();static \u0275fac=function(e){return new(e||n)(A(P0))};static \u0275cmp=de({type:n,selectors:[["app-footer"]],decls:54,vars:28,consts:[[1,"footer"],[1,"container"],[1,"row","g-4"],[1,"col-12","col-md-4"],[1,"footer-brand"],[1,"brand-name"],[1,"brand-description"],[1,"footer-links"],[1,"links-title"],[1,"links-list"],["routerLink","/",1,"link-item"],[1,"fas","fa-home","me-2"],["routerLink","/courses",1,"link-item"],[1,"fas","fa-book","me-2"],["routerLink","/about",1,"link-item"],[1,"fas","fa-info-circle","me-2"],["routerLink","/contact",1,"link-item"],[1,"fas","fa-envelope","me-2"],[1,"footer-socials"],[1,"socials-title"],[1,"socials-list"],["target","_blank","rel","noopener noreferrer",1,"social-link",3,"href","color"],[1,"footer-bottom"],[1,"row","align-items-center"],[1,"col-12","col-md-6"],[1,"copyright"],[1,"col-12","col-md-6","text-md-end"],[1,"powered-by"],["target","_blank","rel","noopener noreferrer",1,"social-link",3,"href"]],template:function(e,i){e&1&&(f(0,"footer",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h3",5),_(6,"ANKH"),h(),f(7,"p",6),_(8),v(9,"translate"),h()()(),f(10,"div",3)(11,"div",7)(12,"h4",8),_(13),v(14,"translate"),h(),f(15,"ul",9)(16,"li")(17,"a",10),w(18,"i",11),_(19),v(20,"translate"),h()(),f(21,"li")(22,"a",12),w(23,"i",13),_(24),v(25,"translate"),h()(),f(26,"li")(27,"a",14),w(28,"i",15),_(29),v(30,"translate"),h()(),f(31,"li")(32,"a",16),w(33,"i",17),_(34),v(35,"translate"),h()()()()(),f(36,"div",3)(37,"div",18)(38,"h4",19),_(39),v(40,"translate"),h(),f(41,"div",20),mt(42,Rte,2,6,"a",21,kte),h()()()(),f(44,"div",22)(45,"div",23)(46,"div",24)(47,"p",25),_(48),v(49,"translate"),h()(),f(50,"div",26)(51,"p",27),_(52),v(53,"translate"),h()()()()()()),e&2&&(d(8),M(" ",y(9,10,"footer.description")," "),d(5),I(y(14,12,"footer.quickLinks")),d(6),M(" ",y(20,14,"navbar.home")," "),d(5),M(" ",y(25,16,"navbar.courses")," "),d(5),M(" ",y(30,18,"navbar.about")," "),d(5),M(" ",y(35,20,"navbar.contact")," "),d(5),I(y(40,22,"footer.followUs")),d(3),_t(i.socials.getSocials()),d(6),Ct(" \xA9 ",i.currentYear," ANKH. ",y(49,24,"footer.allRightsReserved")," "),d(4),M(" ",y(53,26,"footer.poweredBy")," "))},dependencies:[ge,ke,Ue,me,ve],styles:[".footer[_ngcontent-%COMP%]{background:linear-gradient(135deg,#0e3a5d,#0b2c47);color:#fff;padding:64px 0 32px;margin-top:auto}.footer[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:0 32px}.footer[_ngcontent-%COMP%]   .footer-brand[_ngcontent-%COMP%]   .brand-name[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;color:#fff;margin-bottom:16px;font-family:Cairo,sans-serif;letter-spacing:2px}.footer[_ngcontent-%COMP%]   .footer-brand[_ngcontent-%COMP%]   .brand-description[_ngcontent-%COMP%]{color:#fffc;font-size:.95rem;line-height:1.6;margin:0}.footer[_ngcontent-%COMP%]   .footer-links[_ngcontent-%COMP%]   .links-title[_ngcontent-%COMP%]{font-size:1.2rem;font-weight:600;color:#fff;margin-bottom:16px;font-family:Cairo,sans-serif}.footer[_ngcontent-%COMP%]   .footer-links[_ngcontent-%COMP%]   .links-list[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0}.footer[_ngcontent-%COMP%]   .footer-links[_ngcontent-%COMP%]   .links-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:8px}.footer[_ngcontent-%COMP%]   .footer-links[_ngcontent-%COMP%]   .links-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:last-child{margin-bottom:0}.footer[_ngcontent-%COMP%]   .footer-links[_ngcontent-%COMP%]   .links-list[_ngcontent-%COMP%]   .link-item[_ngcontent-%COMP%]{color:#fffc;text-decoration:none;font-size:.95rem;display:flex;align-items:center;transition:all .3s ease;padding:4px 0}.footer[_ngcontent-%COMP%]   .footer-links[_ngcontent-%COMP%]   .links-list[_ngcontent-%COMP%]   .link-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.85rem;width:20px}.footer[_ngcontent-%COMP%]   .footer-links[_ngcontent-%COMP%]   .links-list[_ngcontent-%COMP%]   .link-item[_ngcontent-%COMP%]:hover{color:#fff;transform:translate(5px)}.footer[_ngcontent-%COMP%]   .footer-socials[_ngcontent-%COMP%]   .socials-title[_ngcontent-%COMP%]{font-size:1.2rem;font-weight:600;color:#fff;margin-bottom:16px;font-family:Cairo,sans-serif}.footer[_ngcontent-%COMP%]   .footer-socials[_ngcontent-%COMP%]   .socials-list[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:16px;align-items:center}.footer[_ngcontent-%COMP%]   .footer-socials[_ngcontent-%COMP%]   .socials-list[_ngcontent-%COMP%]   .social-link[_ngcontent-%COMP%]{width:45px;height:45px;display:flex;align-items:center;justify-content:center;border-radius:50%;background:#ffffff1a;color:#fff;text-decoration:none;font-size:1.2rem;transition:all .3s ease;border:2px solid transparent}.footer[_ngcontent-%COMP%]   .footer-socials[_ngcontent-%COMP%]   .socials-list[_ngcontent-%COMP%]   .social-link[_ngcontent-%COMP%]:hover{background:#fff3;transform:translateY(-3px);border-color:#ffffff4d;box-shadow:0 4px 12px #0003}.footer[_ngcontent-%COMP%]   .footer-socials[_ngcontent-%COMP%]   .socials-list[_ngcontent-%COMP%]   .social-link[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{transition:transform .3s ease}.footer[_ngcontent-%COMP%]   .footer-socials[_ngcontent-%COMP%]   .socials-list[_ngcontent-%COMP%]   .social-link[_ngcontent-%COMP%]:hover   i[_ngcontent-%COMP%]{transform:scale(1.1)}.footer[_ngcontent-%COMP%]   .footer-bottom[_ngcontent-%COMP%]{margin-top:64px;padding-top:32px;border-top:1px solid rgba(255,255,255,.2)}.footer[_ngcontent-%COMP%]   .footer-bottom[_ngcontent-%COMP%]   .copyright[_ngcontent-%COMP%], .footer[_ngcontent-%COMP%]   .footer-bottom[_ngcontent-%COMP%]   .powered-by[_ngcontent-%COMP%]{color:#ffffffb3;font-size:.9rem;margin:0}@media (max-width: 767.98px){.footer[_ngcontent-%COMP%]{padding:32px 0 16px}.footer[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{padding:0 16px}.footer[_ngcontent-%COMP%]   .footer-brand[_ngcontent-%COMP%]{text-align:center;margin-bottom:32px}.footer[_ngcontent-%COMP%]   .footer-brand[_ngcontent-%COMP%]   .brand-name[_ngcontent-%COMP%]{font-size:1.5rem}.footer[_ngcontent-%COMP%]   .footer-links[_ngcontent-%COMP%], .footer[_ngcontent-%COMP%]   .footer-socials[_ngcontent-%COMP%]{text-align:center;margin-bottom:32px}.footer[_ngcontent-%COMP%]   .footer-links[_ngcontent-%COMP%]   .links-list[_ngcontent-%COMP%], .footer[_ngcontent-%COMP%]   .footer-socials[_ngcontent-%COMP%]   .links-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.footer[_ngcontent-%COMP%]   .footer-links[_ngcontent-%COMP%]   .socials-list[_ngcontent-%COMP%], .footer[_ngcontent-%COMP%]   .footer-socials[_ngcontent-%COMP%]   .socials-list[_ngcontent-%COMP%]{justify-content:center}.footer[_ngcontent-%COMP%]   .footer-bottom[_ngcontent-%COMP%]{text-align:center}.footer[_ngcontent-%COMP%]   .footer-bottom[_ngcontent-%COMP%]   .copyright[_ngcontent-%COMP%], .footer[_ngcontent-%COMP%]   .footer-bottom[_ngcontent-%COMP%]   .powered-by[_ngcontent-%COMP%]{margin-bottom:4px}}"]})};var Nte=()=>[1,2,3,4,5,6],e3=()=>[1,2,3,4,5,6,7,8];function Lte(n,t){if(n&1&&(bt(0,"div",38)(1,"span",39),_(2,"\u{13000}"),Ot()()),n&2){let e=t.$index;Ai("animation-delay",e*.3+"s")}}function Fte(n,t){if(n&1&&rr(0,"div",40),n&2){let e=t.$index;Ai("animation-delay",e*.1+"s")}}function Bte(n,t){if(n&1&&(bt(0,"span",41),_(1,"\u25CA"),Ot()),n&2){let e=t.$index;Ai("animation-delay",e*.2+"s")}}function zte(n,t){if(n&1&&(bt(0,"span",42),_(1),Ot()),n&2){let e=t.$implicit,i=t.$index;Ai("animation-delay",i*.15+"s"),d(),M(" ",e===" "?"\xA0":e," ")}}function Vte(n,t){if(n&1&&(bt(0,"div",43),rr(1,"div",44),Ot()),n&2){let e=t.$index,i=x();Ai("animation-delay",e*.2+"s"),U("active",e===i.currentDot)}}var x0=class n{message="";showMessage=!0;size="medium";variant="primary";isVisible=!1;currentDot=0;loadingDots=[0,1,2];ngOnInit(){setTimeout(()=>{this.isVisible=!0},100),this.startDotsAnimation()}startDotsAnimation(){setInterval(()=>{this.currentDot=(this.currentDot+1)%this.loadingDots.length},500)}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=de({type:n,selectors:[["app-loading"]],inputs:{message:"message",showMessage:"showMessage",size:"size",variant:"variant"},decls:45,vars:10,consts:[[1,"loading-overlay"],[1,"pharaonic-pattern"],[1,"hieroglyphic-elements"],[1,"hieroglyph",3,"animation-delay"],[1,"loading-container"],[1,"ankh-section"],[1,"ankh-ring"],[1,"ring-segment",3,"animation-delay"],[1,"ankh-container"],[1,"ankh-symbol"],[1,"ankh-cross"],[1,"ankh-loop"],[1,"ankh-stem"],[1,"ankh-base"],[1,"ankh-glow"],[1,"hieroglyphic-border"],[1,"border-glyph",3,"animation-delay"],[1,"progress-ring"],["viewBox","0 0 120 120",1,"progress-circle"],["cx","60","cy","60","r","54",1,"progress-background"],["cx","60","cy","60","r","54",1,"progress-bar"],[1,"brand-section"],[1,"brand-name"],[1,"brand-letter",3,"animation-delay"],[1,"brand-tagline"],[1,"loading-animation"],[1,"loading-dots"],[1,"dot",3,"active","animation-delay"],[1,"loading-bar"],[1,"bar-fill"],[1,"bar-glow"],[1,"bar-pattern"],[1,"background-effects"],[1,"gold-orb","orb-1"],[1,"gold-orb","orb-2"],[1,"gold-orb","orb-3"],[1,"blue-accent","accent-1"],[1,"blue-accent","accent-2"],[1,"hieroglyph"],[1,"hieroglyph-symbol"],[1,"ring-segment"],[1,"border-glyph"],[1,"brand-letter"],[1,"dot"],[1,"dot-core"]],template:function(e,i){e&1&&(bt(0,"div",0),rr(1,"div",1),bt(2,"div",2),mt(3,Lte,3,2,"div",3,mi),Ot(),bt(5,"div",4)(6,"div",5)(7,"div",6),mt(8,Fte,1,2,"div",7,mi),Ot(),bt(10,"div",8)(11,"div",9)(12,"div",10),rr(13,"div",11)(14,"div",12)(15,"div",13),Ot(),rr(16,"div",14),Ot(),bt(17,"div",15),mt(18,Bte,2,2,"span",16,mi),Ot()(),bt(20,"div",17),rh(),bt(21,"svg",18),rr(22,"circle",19)(23,"circle",20),Ot()()(),oh(),bt(24,"div",21)(25,"h2",22),mt(26,zte,2,3,"span",23,mi),Ot(),bt(28,"div",24),_(29),v(30,"translate"),Ot()(),bt(31,"div",25)(32,"div",26),mt(33,Vte,2,4,"div",27,mi),Ot(),bt(35,"div",28),rr(36,"div",29)(37,"div",30)(38,"div",31),Ot()()(),bt(39,"div",32),rr(40,"div",33)(41,"div",34)(42,"div",35)(43,"div",36)(44,"div",37),Ot()()),e&2&&(U("visible",i.isVisible),Wt("data-size",i.size)("data-variant",i.variant),d(3),_t(Po(7,Nte)),d(5),_t(Po(8,e3)),d(10),_t(Po(9,e3)),d(8),_t("ANKH".split("")),d(3),I(i.message||y(30,5,"loading")),d(4),_t(i.loadingDots))},dependencies:[ge,me,ve],styles:['.loading-overlay[_ngcontent-%COMP%]{direction:ltr;position:fixed;top:0;left:0;width:100%;height:100%;background:linear-gradient(135deg,#0b2a3f,#071e2f,#0b2a3f);backdrop-filter:blur(20px);-webkit-backdrop-filter:blur(20px);display:flex;align-items:center;justify-content:center;z-index:9999;opacity:0;visibility:hidden;transition:all .6s cubic-bezier(.4,0,.2,1);overflow:hidden}.loading-overlay.visible[_ngcontent-%COMP%]{opacity:1;visibility:visible}.loading-overlay[data-size=small][_ngcontent-%COMP%]   .loading-container[_ngcontent-%COMP%]{transform:scale(.7)}.loading-overlay[data-size=large][_ngcontent-%COMP%]   .loading-container[_ngcontent-%COMP%]{transform:scale(1.3)}.loading-overlay[data-variant=secondary][_ngcontent-%COMP%]{background:linear-gradient(135deg,#0e3a5df2,#c9a24df2)}.loading-overlay[data-variant=white][_ngcontent-%COMP%]{background:#fffffff2}.loading-overlay[data-variant=white][_ngcontent-%COMP%]   .brand-name[_ngcontent-%COMP%]{background:linear-gradient(135deg,#c9a24d,#0e3a5d);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}.loading-overlay[data-variant=white][_ngcontent-%COMP%]   .brand-tagline[_ngcontent-%COMP%]{color:#0f172a}.pharaonic-pattern[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;background-image:repeating-linear-gradient(0deg,transparent,transparent 2px,rgba(201,162,77,.03) 2px,rgba(201,162,77,.03) 4px),repeating-linear-gradient(90deg,transparent,transparent 2px,rgba(201,162,77,.03) 2px,rgba(201,162,77,.03) 4px);opacity:.3;pointer-events:none}.hieroglyphic-elements[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;overflow:hidden;pointer-events:none;z-index:1}.hieroglyphic-elements[_ngcontent-%COMP%]   .hieroglyph[_ngcontent-%COMP%]{position:absolute;font-size:2rem;color:#c9a24d33;animation:_ngcontent-%COMP%_hieroglyphFloat 15s ease-in-out infinite}.hieroglyphic-elements[_ngcontent-%COMP%]   .hieroglyph[_ngcontent-%COMP%]:nth-child(1){left:25 %;top:22 %;animation-delay:2.5s;animation-duration:14s}.hieroglyphic-elements[_ngcontent-%COMP%]   .hieroglyph[_ngcontent-%COMP%]:nth-child(2){left:40 %;top:34 %;animation-delay:5s;animation-duration:16s}.hieroglyphic-elements[_ngcontent-%COMP%]   .hieroglyph[_ngcontent-%COMP%]:nth-child(3){left:55 %;top:46 %;animation-delay:7.5s;animation-duration:18s}.hieroglyphic-elements[_ngcontent-%COMP%]   .hieroglyph[_ngcontent-%COMP%]:nth-child(4){left:70 %;top:58 %;animation-delay:10s;animation-duration:20s}.hieroglyphic-elements[_ngcontent-%COMP%]   .hieroglyph[_ngcontent-%COMP%]:nth-child(5){left:85 %;top:70 %;animation-delay:12.5s;animation-duration:22s}.hieroglyphic-elements[_ngcontent-%COMP%]   .hieroglyph[_ngcontent-%COMP%]:nth-child(6){left:100 %;top:82 %;animation-delay:15s;animation-duration:24s}.hieroglyphic-elements[_ngcontent-%COMP%]   .hieroglyph[_ngcontent-%COMP%]   .hieroglyph-symbol[_ngcontent-%COMP%]{display:block;filter:drop-shadow(0 2px 4px rgba(201,162,77,.3))}.loading-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;text-align:center;position:relative;z-index:2;animation:_ngcontent-%COMP%_containerFadeIn 1s ease-out}.ankh-section[_ngcontent-%COMP%]{position:relative;width:200px;height:200px;margin-bottom:64px;display:flex;align-items:center;justify-content:center}.ankh-ring[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;border-radius:50%}.ankh-ring[_ngcontent-%COMP%]   .ring-segment[_ngcontent-%COMP%]{position:absolute;width:12px;height:12px;background:#c9a24d;border-radius:50%;box-shadow:0 0 10px #c9a24d99;animation:_ngcontent-%COMP%_ringRotate 4s infinite ease-in-out}.ankh-ring[_ngcontent-%COMP%]   .ring-segment[_ngcontent-%COMP%]:nth-child(1){left:50%;top:0;transform-origin:0 100px;transform:translate(-50%) rotate(0);animation-delay:0s}.ankh-ring[_ngcontent-%COMP%]   .ring-segment[_ngcontent-%COMP%]:nth-child(2){left:50%;top:0;transform-origin:0 100px;transform:translate(-50%) rotate(45deg);animation-delay:.1s}.ankh-ring[_ngcontent-%COMP%]   .ring-segment[_ngcontent-%COMP%]:nth-child(3){left:50%;top:0;transform-origin:0 100px;transform:translate(-50%) rotate(90deg);animation-delay:.2s}.ankh-ring[_ngcontent-%COMP%]   .ring-segment[_ngcontent-%COMP%]:nth-child(4){left:50%;top:0;transform-origin:0 100px;transform:translate(-50%) rotate(135deg);animation-delay:.3s}.ankh-ring[_ngcontent-%COMP%]   .ring-segment[_ngcontent-%COMP%]:nth-child(5){left:50%;top:0;transform-origin:0 100px;transform:translate(-50%) rotate(180deg);animation-delay:.4s}.ankh-ring[_ngcontent-%COMP%]   .ring-segment[_ngcontent-%COMP%]:nth-child(6){left:50%;top:0;transform-origin:0 100px;transform:translate(-50%) rotate(225deg);animation-delay:.5s}.ankh-ring[_ngcontent-%COMP%]   .ring-segment[_ngcontent-%COMP%]:nth-child(7){left:50%;top:0;transform-origin:0 100px;transform:translate(-50%) rotate(270deg);animation-delay:.6s}.ankh-ring[_ngcontent-%COMP%]   .ring-segment[_ngcontent-%COMP%]:nth-child(8){left:50%;top:0;transform-origin:0 100px;transform:translate(-50%) rotate(315deg);animation-delay:.7s}.ankh-container[_ngcontent-%COMP%]{position:relative;width:120px;height:120px;display:flex;align-items:center;justify-content:center;z-index:3}.ankh-symbol[_ngcontent-%COMP%]{position:relative;width:80px;height:100px;display:flex;align-items:center;justify-content:center;animation:_ngcontent-%COMP%_ankhFloat 3s ease-in-out infinite}.ankh-cross[_ngcontent-%COMP%]{position:relative;width:100%;height:100%;display:flex;flex-direction:column;align-items:center;justify-content:center}.ankh-loop[_ngcontent-%COMP%]{width:50px;height:50px;border:4px solid #C9A24D;border-radius:50% 50% 0;border-bottom:none;border-right:none;position:relative;top:-5px;box-shadow:0 0 20px #c9a24d99,inset 0 0 20px #c9a24d4d;animation:_ngcontent-%COMP%_ankhGlow 2s ease-in-out infinite}.ankh-stem[_ngcontent-%COMP%]{width:4px;height:50px;background:linear-gradient(to bottom,#c9a24d,#a8832f);box-shadow:0 0 15px #c9a24dcc;position:relative;top:-5px}.ankh-base[_ngcontent-%COMP%]{width:30px;height:4px;background:linear-gradient(to right,#a8832f,#c9a24d,#a8832f);box-shadow:0 0 15px #c9a24dcc;position:relative;top:40px}.ankh-glow[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:120px;height:120px;background:radial-gradient(circle,rgba(201,162,77,.4) 0%,transparent 70%);border-radius:50%;animation:_ngcontent-%COMP%_ankhPulse 2s ease-in-out infinite;z-index:-1}.hieroglyphic-border[_ngcontent-%COMP%]{position:absolute;width:140px;height:140px;border-radius:50%;display:flex;align-items:center;justify-content:center;animation:_ngcontent-%COMP%_borderRotate 8s linear infinite}.hieroglyphic-border[_ngcontent-%COMP%]   .border-glyph[_ngcontent-%COMP%]{position:absolute;font-size:1.2rem;color:#c9a24d;font-weight:700;text-shadow:0 0 10px rgba(201,162,77,.6);animation:_ngcontent-%COMP%_glyphGlow 2s ease-in-out infinite}.hieroglyphic-border[_ngcontent-%COMP%]   .border-glyph[_ngcontent-%COMP%]:nth-child(1){transform:rotate(0) translateY(-70px) rotate(0);animation-delay:0s}.hieroglyphic-border[_ngcontent-%COMP%]   .border-glyph[_ngcontent-%COMP%]:nth-child(2){transform:rotate(45deg) translateY(-70px) rotate(-45deg);animation-delay:.2s}.hieroglyphic-border[_ngcontent-%COMP%]   .border-glyph[_ngcontent-%COMP%]:nth-child(3){transform:rotate(90deg) translateY(-70px) rotate(-90deg);animation-delay:.4s}.hieroglyphic-border[_ngcontent-%COMP%]   .border-glyph[_ngcontent-%COMP%]:nth-child(4){transform:rotate(135deg) translateY(-70px) rotate(-135deg);animation-delay:.6s}.hieroglyphic-border[_ngcontent-%COMP%]   .border-glyph[_ngcontent-%COMP%]:nth-child(5){transform:rotate(180deg) translateY(-70px) rotate(-180deg);animation-delay:.8s}.hieroglyphic-border[_ngcontent-%COMP%]   .border-glyph[_ngcontent-%COMP%]:nth-child(6){transform:rotate(225deg) translateY(-70px) rotate(-225deg);animation-delay:1s}.hieroglyphic-border[_ngcontent-%COMP%]   .border-glyph[_ngcontent-%COMP%]:nth-child(7){transform:rotate(270deg) translateY(-70px) rotate(-270deg);animation-delay:1.2s}.hieroglyphic-border[_ngcontent-%COMP%]   .border-glyph[_ngcontent-%COMP%]:nth-child(8){transform:rotate(315deg) translateY(-70px) rotate(-315deg);animation-delay:1.4s}.progress-ring[_ngcontent-%COMP%]{position:absolute;width:180px;height:180px;top:50%;left:50%;transform:translate(-50%,-50%);z-index:1}.progress-circle[_ngcontent-%COMP%]{width:100%;height:100%;transform:rotate(-90deg)}.progress-background[_ngcontent-%COMP%]{fill:none;stroke:#c9a24d33;stroke-width:3}.progress-bar[_ngcontent-%COMP%]{fill:none;stroke:#c9a24d;stroke-width:3;stroke-linecap:round;stroke-dasharray:339.29;animation:_ngcontent-%COMP%_progressRotate 3s ease-in-out infinite;filter:drop-shadow(0 0 8px rgba(201,162,77,.8))}.brand-section[_ngcontent-%COMP%]{margin-bottom:64px}.brand-name[_ngcontent-%COMP%]{font:800 3rem Cairo,sans-serif;color:#c9a24d;margin-bottom:8px;text-shadow:0 0 20px rgba(201,162,77,.8),0 4px 20px rgba(7,30,47,.5);line-height:1.2;letter-spacing:4px}.brand-letter[_ngcontent-%COMP%]{display:inline-block;animation:_ngcontent-%COMP%_letterFloat 2s ease-in-out infinite;position:relative}.brand-letter[_ngcontent-%COMP%]:nth-child(odd){animation-direction:alternate}.brand-letter[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:-4px;left:0;width:100%;height:3px;background:linear-gradient(90deg,transparent,#C9A24D,transparent);opacity:0;animation:_ngcontent-%COMP%_letterUnderline 2s ease-in-out infinite}.brand-tagline[_ngcontent-%COMP%]{font:500 1.2rem Cairo,sans-serif;color:#c9a24de6;text-shadow:0 0 15px rgba(201,162,77,.6),0 2px 10px rgba(7,30,47,.3);animation:_ngcontent-%COMP%_taglineGlow 3s ease-in-out infinite;letter-spacing:2px}.loading-animation[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:32px;margin-bottom:64px}.loading-dots[_ngcontent-%COMP%]{display:flex;gap:16px;align-items:center}.dot[_ngcontent-%COMP%]{width:16px;height:16px;position:relative;animation:_ngcontent-%COMP%_dotBounce 1.5s ease-in-out infinite}.dot[_ngcontent-%COMP%]   .dot-core[_ngcontent-%COMP%]{width:100%;height:100%;background:radial-gradient(circle,#c9a24d,#a8832f);border-radius:50%;box-shadow:0 0 15px #c9a24dcc,inset 0 0 10px #ffffff4d;transition:all .3s ease}.dot.active[_ngcontent-%COMP%]   .dot-core[_ngcontent-%COMP%]{transform:scale(1.4);box-shadow:0 0 25px #c9a24d,inset 0 0 15px #ffffff80}.dot[_ngcontent-%COMP%]:after{content:"";position:absolute;top:50%;left:50%;width:200%;height:200%;border:2px solid rgba(201,162,77,.4);border-radius:50%;transform:translate(-50%,-50%);animation:_ngcontent-%COMP%_dotRipple 2s ease-out infinite}.loading-bar[_ngcontent-%COMP%]{width:250px;height:6px;background:#c9a24d33;border-radius:3px;position:relative;overflow:hidden;border:1px solid rgba(201,162,77,.3);box-shadow:inset 0 2px 4px #071e2f4d,0 0 10px #c9a24d33}.bar-fill[_ngcontent-%COMP%]{height:100%;background:linear-gradient(90deg,#a8832f,#c9a24d,#a8832f);border-radius:3px;animation:_ngcontent-%COMP%_barFill 2s ease-in-out infinite;box-shadow:0 0 15px #c9a24dcc}.bar-glow[_ngcontent-%COMP%]{position:absolute;top:-2px;left:0;width:60px;height:10px;background:linear-gradient(90deg,transparent 0%,rgba(201,162,77,.8) 50%,transparent 100%);border-radius:5px;animation:_ngcontent-%COMP%_barGlow 2s ease-in-out infinite;filter:blur(4px)}.bar-pattern[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;background-image:repeating-linear-gradient(90deg,transparent,transparent 4px,rgba(168,131,47,.1) 4px,rgba(168,131,47,.1) 8px);animation:_ngcontent-%COMP%_patternMove 1s linear infinite}.background-effects[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;overflow:hidden;pointer-events:none;z-index:1}.gold-orb[_ngcontent-%COMP%]{position:absolute;border-radius:50%;filter:blur(80px);opacity:.4;animation:_ngcontent-%COMP%_orbFloat 20s ease-in-out infinite;background:radial-gradient(circle,rgba(201,162,77,.6) 0%,transparent 70%)}.gold-orb.orb-1[_ngcontent-%COMP%]{width:300px;height:300px;top:10%;left:10%;animation-delay:0s}.gold-orb.orb-2[_ngcontent-%COMP%]{width:250px;height:250px;bottom:15%;right:15%;animation-delay:7s}.gold-orb.orb-3[_ngcontent-%COMP%]{width:200px;height:200px;top:50%;right:10%;animation-delay:14s}.blue-accent[_ngcontent-%COMP%]{position:absolute;border-radius:50%;filter:blur(60px);opacity:.3;animation:_ngcontent-%COMP%_accentFloat 15s ease-in-out infinite;background:radial-gradient(circle,rgba(14,58,93,.5) 0%,transparent 70%)}.blue-accent.accent-1[_ngcontent-%COMP%]{width:200px;height:200px;top:30%;right:20%;animation-delay:3s}.blue-accent.accent-2[_ngcontent-%COMP%]{width:180px;height:180px;bottom:30%;left:20%;animation-delay:10s}@keyframes _ngcontent-%COMP%_containerFadeIn{0%{opacity:0;transform:translateY(30px) scale(.9)}to{opacity:1;transform:translateY(0) scale(1)}}@keyframes _ngcontent-%COMP%_hieroglyphFloat{0%,to{transform:translate(0) rotate(0);opacity:.2}25%{transform:translate(30px,-30px) rotate(90deg);opacity:.3}50%{transform:translate(-20px,20px) rotate(180deg);opacity:.25}75%{transform:translate(-30px,-10px) rotate(270deg);opacity:.3}}@keyframes _ngcontent-%COMP%_ringRotate{0%{transform:translate(-50%) rotate(0) scale(1);opacity:.6}50%{transform:translate(-50%) rotate(180deg) scale(1.2);opacity:1}to{transform:translate(-50%) rotate(360deg) scale(1);opacity:.6}}@keyframes _ngcontent-%COMP%_ankhFloat{0%,to{transform:translateY(0) rotate(0)}25%{transform:translateY(-8px) rotate(2deg)}50%{transform:translateY(0) rotate(0)}75%{transform:translateY(-4px) rotate(-2deg)}}@keyframes _ngcontent-%COMP%_ankhGlow{0%,to{box-shadow:0 0 20px #c9a24d99,inset 0 0 20px #c9a24d4d}50%{box-shadow:0 0 30px #c9a24d,inset 0 0 30px #c9a24d80}}@keyframes _ngcontent-%COMP%_ankhPulse{0%,to{transform:translate(-50%,-50%) scale(.8);opacity:.3}50%{transform:translate(-50%,-50%) scale(1.2);opacity:.6}}@keyframes _ngcontent-%COMP%_borderRotate{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@keyframes _ngcontent-%COMP%_glyphGlow{0%,to{text-shadow:0 0 10px rgba(201,162,77,.6);opacity:.7}50%{text-shadow:0 0 20px #c9a24d;opacity:1}}@keyframes _ngcontent-%COMP%_progressRotate{0%{stroke-dashoffset:339.29}50%{stroke-dashoffset:84.82}to{stroke-dashoffset:339.29}}@keyframes _ngcontent-%COMP%_letterFloat{0%,to{transform:translateY(0)}50%{transform:translateY(-10px)}}@keyframes _ngcontent-%COMP%_letterUnderline{0%,to{opacity:0;transform:scaleX(0)}50%{opacity:1;transform:scaleX(1)}}@keyframes _ngcontent-%COMP%_taglineGlow{0%,to{text-shadow:0 0 15px rgba(201,162,77,.6),0 2px 10px rgba(7,30,47,.3)}50%{text-shadow:0 0 25px #c9a24d,0 2px 15px rgba(7,30,47,.5),0 0 30px rgba(201,162,77,.8)}}@keyframes _ngcontent-%COMP%_dotBounce{0%,to{transform:translateY(0) scale(1)}50%{transform:translateY(-12px) scale(1.1)}}@keyframes _ngcontent-%COMP%_dotRipple{0%{transform:translate(-50%,-50%) scale(.5);opacity:1}to{transform:translate(-50%,-50%) scale(2.5);opacity:0}}@keyframes _ngcontent-%COMP%_barFill{0%{width:0%;transform:translate(0)}50%{width:70%;transform:translate(0)}to{width:100%;transform:translate(0)}}@keyframes _ngcontent-%COMP%_barGlow{0%{transform:translate(-60px);opacity:0}50%{transform:translate(125px);opacity:1}to{transform:translate(310px);opacity:0}}@keyframes _ngcontent-%COMP%_patternMove{0%{transform:translate(0)}to{transform:translate(8px)}}@keyframes _ngcontent-%COMP%_orbFloat{0%,to{transform:translate(0) scale(1)}33%{transform:translate(40px,-30px) scale(1.1)}66%{transform:translate(-30px,40px) scale(.9)}}@keyframes _ngcontent-%COMP%_accentFloat{0%,to{transform:translate(0) scale(1)}33%{transform:translate(-25px,25px) scale(1.05)}66%{transform:translate(25px,-25px) scale(.95)}}@media (max-width: 768px){.loading-container[_ngcontent-%COMP%]{padding:32px 16px}.ankh-section[_ngcontent-%COMP%]{width:160px;height:160px;margin-bottom:32px}.ankh-container[_ngcontent-%COMP%]{width:100px;height:100px}.ankh-symbol[_ngcontent-%COMP%]{width:65px;height:80px}.ankh-loop[_ngcontent-%COMP%]{width:40px;height:40px}.progress-ring[_ngcontent-%COMP%]{width:140px;height:140px}.brand-name[_ngcontent-%COMP%]{font-size:2.2rem;letter-spacing:2px}.loading-bar[_ngcontent-%COMP%]{width:200px}.gold-orb.orb-1[_ngcontent-%COMP%]{width:200px;height:200px}.gold-orb.orb-2[_ngcontent-%COMP%]{width:180px;height:180px}.gold-orb.orb-3[_ngcontent-%COMP%]{width:150px;height:150px}}@media (max-width: 480px){.ankh-section[_ngcontent-%COMP%]{width:140px;height:140px}.ankh-container[_ngcontent-%COMP%]{width:90px;height:90px}.ankh-symbol[_ngcontent-%COMP%]{width:55px;height:70px}.brand-name[_ngcontent-%COMP%]{font-size:1.8rem;letter-spacing:1px}.loading-bar[_ngcontent-%COMP%]{width:180px}}@media (prefers-reduced-motion: reduce){.loading-overlay[_ngcontent-%COMP%], .loading-container[_ngcontent-%COMP%], .ankh-ring[_ngcontent-%COMP%]   .ring-segment[_ngcontent-%COMP%], .ankh-symbol[_ngcontent-%COMP%], .ankh-glow[_ngcontent-%COMP%], .hieroglyphic-border[_ngcontent-%COMP%], .progress-bar[_ngcontent-%COMP%], .brand-letter[_ngcontent-%COMP%], .brand-tagline[_ngcontent-%COMP%], .dot[_ngcontent-%COMP%], .bar-fill[_ngcontent-%COMP%], .bar-glow[_ngcontent-%COMP%], .hieroglyph[_ngcontent-%COMP%], .gold-orb[_ngcontent-%COMP%], .blue-accent[_ngcontent-%COMP%]{animation-duration:.01ms!important;animation-iteration-count:1!important;transition-duration:.01ms!important}}']})};function jte(n,t){n&1&&w(0,"app-loading")}function Ute(n,t){if(n&1&&w(0,"app-loading",2),n&2){let e=x();O("message",e.demoLoadingMessage)("size",e.demoLoadingSize)("variant",e.demoLoadingVariant)}}var I0=class n{constructor(t){this.lan=t;setTimeout(()=>this.loading=!1,3e3)}title=Jn("Ankh");loading=!0;lastScrollPosition=0;showToTop=!1;demoLoading=!1;demoLoadingMessage="";demoLoadingSize="medium";demoLoadingVariant="primary";showDemoLoading(t="\u062C\u0627\u0631\u064A \u0627\u0644\u062A\u062D\u0645\u064A\u0644...",e="medium",i="primary",r=3e3){this.demoLoadingMessage=t,this.demoLoadingSize=e,this.demoLoadingVariant=i,this.demoLoading=!0,setTimeout(()=>{this.demoLoading=!1},r)}ngOnInit(){try{typeof AOS<"u"&&AOS.init({duration:700,easing:"ease-out-cubic",offset:80,once:!0})}catch{}this.loopDirectionWatcher()}onActivate(){window.scroll({top:0,behavior:"instant"});try{AOS?.refresh?.()}catch{}}toTop(){window.scrollTo({top:0,behavior:"smooth"})}onWindowScroll(){this.handleToTopVisibility()}handleToTopVisibility(){let t=document.querySelector(".to-top-btn"),e=document.querySelector(".custom-navbar"),i=document.querySelector(".app-main");!t||!e||!i||(window.scrollY>=200?(t.classList.add("show"),e.classList.add("navbar-scrolled"),this.showToTop=!0):(t.classList.remove("show"),e.classList.remove("navbar-scrolled"),this.showToTop=!1))}loopDirectionWatcher(){let t=document.querySelector(".direction");this.lan.getCurrentLang()==="ar"?t?.classList.add("rtl"):t?.classList.remove("rtl"),setTimeout(()=>this.loopDirectionWatcher(),150)}static \u0275fac=function(e){return new(e||n)(A(Kl))};static \u0275cmp=de({type:n,selectors:[["app-root"]],hostBindings:function(e,i){e&1&&z("scroll",function(){return i.onWindowScroll()},Rd)},decls:14,vars:7,consts:[[1,"direction","app-shell"],["aria-label","Main navigation"],[3,"message","size","variant"],["role","main",1,"app-main","mt-5"],[3,"activate"],["aria-label","Footer"],[1,"to-top-btn",3,"click"],[1,"to-top-content"],[1,"fa-solid","fa-angles-up"],[1,"to-top-text"],[1,"to-top-ripple"]],template:function(e,i){e&1&&(f(0,"div",0),w(1,"app-navbar",1),L(2,jte,1,0,"app-loading"),L(3,Ute,1,3,"app-loading",2),f(4,"main",3)(5,"router-outlet",4),z("activate",function(){return i.onActivate()}),h()(),w(6,"app-footer",5),f(7,"div",6),z("click",function(){return i.toTop()}),f(8,"div",7),w(9,"i",8),f(10,"span",9),_(11),v(12,"translate"),h()(),w(13,"div",10),h()()),e&2&&(d(2),F(i.loading?2:-1),d(),F(i.demoLoading?3:-1),d(4),U("show",i.showToTop),d(4),M(" ",y(12,5,"to_top")," "))},dependencies:[Sa,E0,O0,x0,ge,me,ve],styles:[".app-shell[_ngcontent-%COMP%]{position:relative;overflow-x:hidden;background-color:#071e2f}.app-main[_ngcontent-%COMP%]{min-height:100vh;position:relative;z-index:1;font-family:Cairo,sans-serif;transition:padding-top .3s ease}.rtl[_ngcontent-%COMP%]{direction:rtl}@keyframes _ngcontent-%COMP%_subtleFloat{0%,to{transform:translateY(0) rotate(0)}50%{transform:translateY(-15px) rotate(180deg)}}.to-top-btn[_ngcontent-%COMP%]{position:fixed;bottom:2rem;right:-80px;z-index:1000;transition:all .4s cubic-bezier(.4,0,.2,1);cursor:pointer}.to-top-btn.show[_ngcontent-%COMP%]{right:2rem}.to-top-btn[_ngcontent-%COMP%]   .to-top-content[_ngcontent-%COMP%]{position:relative;display:flex;flex-direction:column;align-items:center;justify-content:center;width:55px;height:55px;background:#071e2f;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border-radius:50%;box-shadow:0 4px 15px #0000001a;transition:all .3s ease;border:1px solid rgba(7,30,47,.02)}.to-top-btn[_ngcontent-%COMP%]   .to-top-content[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#c9a24d;font-size:1.2rem;margin-bottom:1px;transition:all .3s ease}.to-top-btn[_ngcontent-%COMP%]   .to-top-content[_ngcontent-%COMP%]   .to-top-text[_ngcontent-%COMP%]{color:#c9a24d;font-size:.5rem;font-weight:300;font-family:Cairo,Inter,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,sans-serif;transition:all .3s ease}.to-top-btn[_ngcontent-%COMP%]   .to-top-ripple[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:100%;height:100%;border-radius:50%;background:#c9a24d80;animation:_ngcontent-%COMP%_gentleRipple 3s ease-in-out infinite;pointer-events:none}.to-top-btn[_ngcontent-%COMP%]:hover{transform:translateY(-2px)}.to-top-btn[_ngcontent-%COMP%]:hover   .to-top-content[_ngcontent-%COMP%]{box-shadow:0 8px 25px #c9a24d26;transform:scale(1.05);background:#071e2f}.to-top-btn[_ngcontent-%COMP%]:hover   .to-top-content[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], .to-top-btn[_ngcontent-%COMP%]:hover   .to-top-content[_ngcontent-%COMP%]   .to-top-text[_ngcontent-%COMP%]{transform:translateY(-1px)}.to-top-btn[_ngcontent-%COMP%]:active{transform:translateY(0) scale(.95)}@keyframes _ngcontent-%COMP%_gentleRipple{0%{transform:translate(-50%,-50%) scale(1);opacity:.3}to{transform:translate(-50%,-50%) scale(1.3);opacity:0}}@media (prefers-reduced-motion: reduce){*[_ngcontent-%COMP%]{animation-duration:.01ms!important;animation-iteration-count:1!important;transition-duration:.01ms!important}}.to-top-btn[_ngcontent-%COMP%]:focus{outline:2px solid #C9A24D;outline-offset:2px;border-radius:50%}html[_ngcontent-%COMP%]{scroll-behavior:smooth}.hidden-navbar[_ngcontent-%COMP%]{transform:translateY(-100%);transition:transform .3s cubic-bezier(.4,0,.2,1);box-shadow:none}[_ngcontent-%COMP%]::-webkit-scrollbar{width:8px}[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#c9a24d1a;border-radius:4px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:linear-gradient(135deg,#c9a24d,#071e2f);border-radius:4px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:linear-gradient(135deg,#071e2f,#c9a24d)}.to-top-btn[_ngcontent-%COMP%]{will-change:transform,box-shadow}"]})};xC(I0,XL).catch(n=>console.error(n));
